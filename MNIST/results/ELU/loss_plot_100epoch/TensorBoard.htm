<!DOCTYPE html>
<!-- saved from url=(0069)http://macs-macbook-pro-3.local:6006/#scalars&_showDownloadLinks=true -->
<html class="gr__macs-macbook-pro-3_local"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><!-- Shady DOM styles for custom-style --><!-- Shady DOM styles for dom-template --><!-- Shady DOM styles for dom-repeat --><!-- Shady DOM styles for array-selector --><!-- Shady DOM styles for dom-if --><!-- Shady DOM styles for iron-meta --><!-- Shady DOM styles for iron-meta-query --><!-- Shady DOM styles for iron-icon --><style scope="iron-icon-1">.iron-icon-1 {
  display: -ms-inline-flexbox;
      display: -webkit-inline-flex;
      display: inline-flex;-ms-flex-align: center;
      -webkit-align-items: center;
      align-items: center;-ms-flex-pack: center;
      -webkit-justify-content: center;
      justify-content: center;
        position: relative;

        vertical-align: middle;

        fill: currentcolor;
        stroke: none;

        width: 24px;
        height: 24px;;
}</style><style scope="iron-icon-0">.iron-icon-0 {
  display: -ms-inline-flexbox;
      display: -webkit-inline-flex;
      display: inline-flex;-ms-flex-align: center;
      -webkit-align-items: center;
      align-items: center;-ms-flex-pack: center;
      -webkit-justify-content: center;
      justify-content: center;
        position: relative;

        vertical-align: middle;

        fill: currentcolor;
        stroke: none;

        width: 100%;
        height: 100%;;
}</style><!-- Shady DOM styles for paper-material --><!-- Shady DOM styles for paper-ripple --><style scope="paper-ripple">paper-ripple {
  display: block;
        position: absolute;
        border-radius: inherit;
        overflow: hidden;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;

        
        pointer-events: none;
}

paper-ripple[animating] {
  -webkit-transform: translate(0, 0);
        transform: translate3d(0, 0, 0);
}

#background.paper-ripple,#waves.paper-ripple,.wave-container.paper-ripple,.wave.paper-ripple {
  pointer-events: none;
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
}

#background.paper-ripple,.wave.paper-ripple {
  opacity: 0;
}

#waves.paper-ripple,.wave.paper-ripple {
  overflow: hidden;
}

.wave-container.paper-ripple,.wave.paper-ripple {
  border-radius: 50%;
}

paper-ripple.circle #background.paper-ripple,paper-ripple.circle #waves.paper-ripple {
  border-radius: 50%;
}

paper-ripple.circle .wave-container.paper-ripple {
  overflow: hidden;
}</style><!-- Shady DOM styles for paper-button --><style scope="paper-button-0">.paper-button-0 {
  display: block;
        position: relative;
}

.paper-button-0[elevation="1"] {
  box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.14),
                  0 1px 5px 0 rgba(0, 0, 0, 0.12),
                  0 3px 1px -2px rgba(0, 0, 0, 0.2);
}

.paper-button-0[elevation="2"] {
  box-shadow: 0 4px 5px 0 rgba(0, 0, 0, 0.14),
                  0 1px 10px 0 rgba(0, 0, 0, 0.12),
                  0 2px 4px -1px rgba(0, 0, 0, 0.4);
}

.paper-button-0[elevation="3"] {
  box-shadow: 0 6px 10px 0 rgba(0, 0, 0, 0.14),
                  0 1px 18px 0 rgba(0, 0, 0, 0.12),
                  0 3px 5px -1px rgba(0, 0, 0, 0.4);
}

.paper-button-0[elevation="4"] {
  box-shadow: 0 8px 10px 1px rgba(0, 0, 0, 0.14),
                  0 3px 14px 2px rgba(0, 0, 0, 0.12),
                  0 5px 5px -3px rgba(0, 0, 0, 0.4);
}

.paper-button-0[elevation="5"] {
  box-shadow: 0 16px 24px 2px rgba(0, 0, 0, 0.14),
                  0  6px 30px 5px rgba(0, 0, 0, 0.12),
                  0  8px 10px -5px rgba(0, 0, 0, 0.4);
}

.paper-button-0[animated] {
  transition: box-shadow 0.28s cubic-bezier(0.4, 0, 0.2, 1);
}

.paper-button-0 {
  ;
}

.paper-button-0 {
  display: inline-block;
        position: relative;
        box-sizing: border-box;
        min-width: 5.14em;
        margin: 0 0.29em;
        background: transparent;
        text-align: center;
        font: inherit;
        text-transform: uppercase;
        outline-width: 0;
        border-radius: 3px;
        -moz-user-select: none;
        -ms-user-select: none;
        -webkit-user-select: none;
        user-select: none;
        cursor: pointer;
        z-index: 0;
        padding: 0.7em 0.57em;;
}

.paper-button-0[raised].keyboard-focus {
  font-weight: bold;;
}

.paper-button-0:not([raised]).keyboard-focus {
  font-weight: bold;;
}

.paper-button-0[disabled] {
  background: #eaeaea;
        color: #a8a8a8;
        cursor: auto;
        pointer-events: none;;
}

.paper-button-0 paper-ripple.paper-button {
  color:;
}

.paper-button-0  * {
  text-transform: inherit;
}</style><!-- Shady DOM styles for paper-checkbox --><style scope="paper-checkbox-5">.paper-checkbox-5 {
  display: inline-block;
        white-space: nowrap;
        cursor: pointer;font-family: 'Roboto', 'Noto', sans-serif;
      -webkit-font-smoothing: antialiased;
        line-height: 0;
        -webkit-tap-highlight-color: transparent;
}

.paper-checkbox-5[hidden] {
  display: none !important;
}

.paper-checkbox-5:focus {
  outline: none;
}

.paper-checkbox-5 .hidden.paper-checkbox {
  display: none;
}

.paper-checkbox-5 #checkboxContainer.paper-checkbox {
  display: inline-block;
        position: relative;
        width: 18px;
        height: 18px;
        min-width: 18px;
        margin: initial;
        vertical-align: middle;
        background-color: transparent;
}

.paper-checkbox-5 #ink.paper-checkbox {
  position: absolute;

        
        top: calc(0px - (48px - 18px) / 2);
        left: calc(0px - (48px - 18px) / 2);
        width: 48px;
        height: 48px;
        color: #ff7043;
        opacity: 0.6;
        pointer-events: none;
}

[dir="rtl"] .paper-checkbox-5 #ink.paper-checkbox, .paper-checkbox-5[dir="rtl"] #ink.paper-checkbox {
  right: calc(0px - (48px - 18px) / 2);
        left: auto;
}

.paper-checkbox-5 #ink[checked].paper-checkbox {
  color: #ff7043;
}

.paper-checkbox-5 #checkbox.paper-checkbox {
  position: relative;
        box-sizing: border-box;
        height: 100%;
        border: solid 2px;
        border-color: #ff7043;
        border-radius: 2px;
        pointer-events: none;
        -webkit-transition: background-color 140ms, border-color 140ms;
        transition: background-color 140ms, border-color 140ms;
}

.paper-checkbox-5 #checkbox.checked.paper-checkbox #checkmark.paper-checkbox {
  -webkit-animation: checkmark-expand-paper-checkbox-5 140ms ease-out forwards;
        animation: checkmark-expand-paper-checkbox-5 140ms ease-out forwards;
}

@-webkit-keyframes checkmark-expand-paper-checkbox-5 {
0% {
  -webkit-transform: scale(0, 0) rotate(45deg);
}

100% {
  -webkit-transform: scale(1, 1) rotate(45deg);
}

}

@keyframes checkmark-expand-paper-checkbox-5 {
0% {
  transform: scale(0, 0) rotate(45deg);
}

100% {
  transform: scale(1, 1) rotate(45deg);
}

}

.paper-checkbox-5 #checkbox.checked.paper-checkbox {
  background-color: #ff7043;
        border-color: #ff7043;
}

.paper-checkbox-5 #checkmark.paper-checkbox {
  position: absolute;
        width: 36%;
        height: 70%;
        border-style: solid;
        border-top: none;
        border-left: none;
        border-right-width: calc(2/15 * 18px);
        border-bottom-width: calc(2/15 * 18px);
        border-color: white;
        -webkit-transform-origin: 97% 86%;
        transform-origin: 97% 86%;
        box-sizing: content-box;
}

[dir="rtl"] .paper-checkbox-5 #checkmark.paper-checkbox, .paper-checkbox-5[dir="rtl"] #checkmark.paper-checkbox {
  -webkit-transform-origin: 50% 14%;
        transform-origin: 50% 14%;
}

.paper-checkbox-5 #checkboxLabel.paper-checkbox {
  position: relative;
        display: inline-block;
        vertical-align: middle;
        padding-left: 8px;
        white-space: normal;
        line-height: normal;
        color: #212121;;
}

.paper-checkbox-5[checked] #checkboxLabel.paper-checkbox {
  color: #212121;;
}

[dir="rtl"] .paper-checkbox-5 #checkboxLabel.paper-checkbox, .paper-checkbox-5[dir="rtl"] #checkboxLabel.paper-checkbox {
  padding-right: 8px;
        padding-left: 0;
}

.paper-checkbox-5 #checkboxLabel[hidden].paper-checkbox {
  display: none;
}

.paper-checkbox-5[disabled] #checkbox.paper-checkbox {
  opacity: 0.5;
        border-color: #ff7043;
}

.paper-checkbox-5[disabled][checked] #checkbox.paper-checkbox {
  background-color: #ff7043;
        opacity: 0.5;
}

.paper-checkbox-5[disabled] #checkboxLabel.paper-checkbox {
  opacity: 0.65;
}

.paper-checkbox-5 #checkbox.invalid.paper-checkbox:not(.checked) {
  border-color: #dd2c00;
}</style><style scope="paper-checkbox-4">.paper-checkbox-4 {
  display: inline-block;
        white-space: nowrap;
        cursor: pointer;font-family: 'Roboto', 'Noto', sans-serif;
      -webkit-font-smoothing: antialiased;
        line-height: 0;
        -webkit-tap-highlight-color: transparent;
}

.paper-checkbox-4[hidden] {
  display: none !important;
}

.paper-checkbox-4:focus {
  outline: none;
}

.paper-checkbox-4 .hidden.paper-checkbox {
  display: none;
}

.paper-checkbox-4 #checkboxContainer.paper-checkbox {
  display: inline-block;
        position: relative;
        width: 18px;
        height: 18px;
        min-width: 18px;
        margin: initial;
        vertical-align: middle;
        background-color: transparent;
}

.paper-checkbox-4 #ink.paper-checkbox {
  position: absolute;

        
        top: calc(0px - (48px - 18px) / 2);
        left: calc(0px - (48px - 18px) / 2);
        width: 48px;
        height: 48px;
        color: #212121;
        opacity: 0.6;
        pointer-events: none;
}

[dir="rtl"] .paper-checkbox-4 #ink.paper-checkbox, .paper-checkbox-4[dir="rtl"] #ink.paper-checkbox {
  right: calc(0px - (48px - 18px) / 2);
        left: auto;
}

.paper-checkbox-4 #ink[checked].paper-checkbox {
  color: #3f51b5;
}

.paper-checkbox-4 #checkbox.paper-checkbox {
  position: relative;
        box-sizing: border-box;
        height: 100%;
        border: solid 2px;
        border-color: #757575;
        border-radius: 2px;
        pointer-events: none;
        -webkit-transition: background-color 140ms, border-color 140ms;
        transition: background-color 140ms, border-color 140ms;
}

.paper-checkbox-4 #checkbox.checked.paper-checkbox #checkmark.paper-checkbox {
  -webkit-animation: checkmark-expand-paper-checkbox-4 140ms ease-out forwards;
        animation: checkmark-expand-paper-checkbox-4 140ms ease-out forwards;
}

@-webkit-keyframes checkmark-expand-paper-checkbox-4 {
0% {
  -webkit-transform: scale(0, 0) rotate(45deg);
}

100% {
  -webkit-transform: scale(1, 1) rotate(45deg);
}

}

@keyframes checkmark-expand-paper-checkbox-4 {
0% {
  transform: scale(0, 0) rotate(45deg);
}

100% {
  transform: scale(1, 1) rotate(45deg);
}

}

.paper-checkbox-4 #checkbox.checked.paper-checkbox {
  background-color: #757575;
        border-color: #757575;
}

.paper-checkbox-4 #checkmark.paper-checkbox {
  position: absolute;
        width: 36%;
        height: 70%;
        border-style: solid;
        border-top: none;
        border-left: none;
        border-right-width: calc(2/15 * 18px);
        border-bottom-width: calc(2/15 * 18px);
        border-color: white;
        -webkit-transform-origin: 97% 86%;
        transform-origin: 97% 86%;
        box-sizing: content-box;
}

[dir="rtl"] .paper-checkbox-4 #checkmark.paper-checkbox, .paper-checkbox-4[dir="rtl"] #checkmark.paper-checkbox {
  -webkit-transform-origin: 50% 14%;
        transform-origin: 50% 14%;
}

.paper-checkbox-4 #checkboxLabel.paper-checkbox {
  position: relative;
        display: inline-block;
        vertical-align: middle;
        padding-left: 8px;
        white-space: normal;
        line-height: normal;
        color: #212121;;
}

.paper-checkbox-4[checked] #checkboxLabel.paper-checkbox {
  color: #212121;;
}

[dir="rtl"] .paper-checkbox-4 #checkboxLabel.paper-checkbox, .paper-checkbox-4[dir="rtl"] #checkboxLabel.paper-checkbox {
  padding-right: 8px;
        padding-left: 0;
}

.paper-checkbox-4 #checkboxLabel[hidden].paper-checkbox {
  display: none;
}

.paper-checkbox-4[disabled] #checkbox.paper-checkbox {
  opacity: 0.5;
        border-color: #757575;
}

.paper-checkbox-4[disabled][checked] #checkbox.paper-checkbox {
  background-color: #757575;
        opacity: 0.5;
}

.paper-checkbox-4[disabled] #checkboxLabel.paper-checkbox {
  opacity: 0.65;
}

.paper-checkbox-4 #checkbox.invalid.paper-checkbox:not(.checked) {
  border-color: #dd2c00;
}</style><style scope="paper-checkbox-3">.paper-checkbox-3 {
  display: inline-block;
        white-space: nowrap;
        cursor: pointer;font-family: 'Roboto', 'Noto', sans-serif;
      -webkit-font-smoothing: antialiased;
        line-height: 0;
        -webkit-tap-highlight-color: transparent;
}

.paper-checkbox-3[hidden] {
  display: none !important;
}

.paper-checkbox-3:focus {
  outline: none;
}

.paper-checkbox-3 .hidden.paper-checkbox {
  display: none;
}

.paper-checkbox-3 #checkboxContainer.paper-checkbox {
  display: inline-block;
        position: relative;
        width: 18px;
        height: 18px;
        min-width: 18px;
        margin: initial;
        vertical-align: middle;
        background-color: transparent;
}

.paper-checkbox-3 #ink.paper-checkbox {
  position: absolute;

        
        top: calc(0px - (48px - 18px) / 2);
        left: calc(0px - (48px - 18px) / 2);
        width: 48px;
        height: 48px;
        color: #212121;
        opacity: 0.6;
        pointer-events: none;
}

[dir="rtl"] .paper-checkbox-3 #ink.paper-checkbox, .paper-checkbox-3[dir="rtl"] #ink.paper-checkbox {
  right: calc(0px - (48px - 18px) / 2);
        left: auto;
}

.paper-checkbox-3 #ink[checked].paper-checkbox {
  color: #3f51b5;
}

.paper-checkbox-3 #checkbox.paper-checkbox {
  position: relative;
        box-sizing: border-box;
        height: 100%;
        border: solid 2px;
        border-color: #212121;
        border-radius: 2px;
        pointer-events: none;
        -webkit-transition: background-color 140ms, border-color 140ms;
        transition: background-color 140ms, border-color 140ms;
}

.paper-checkbox-3 #checkbox.checked.paper-checkbox #checkmark.paper-checkbox {
  -webkit-animation: checkmark-expand-paper-checkbox-3 140ms ease-out forwards;
        animation: checkmark-expand-paper-checkbox-3 140ms ease-out forwards;
}

@-webkit-keyframes checkmark-expand-paper-checkbox-3 {
0% {
  -webkit-transform: scale(0, 0) rotate(45deg);
}

100% {
  -webkit-transform: scale(1, 1) rotate(45deg);
}

}

@keyframes checkmark-expand-paper-checkbox-3 {
0% {
  transform: scale(0, 0) rotate(45deg);
}

100% {
  transform: scale(1, 1) rotate(45deg);
}

}

.paper-checkbox-3 #checkbox.checked.paper-checkbox {
  background-color: #3f51b5;
        border-color: #3f51b5;
}

.paper-checkbox-3 #checkmark.paper-checkbox {
  position: absolute;
        width: 36%;
        height: 70%;
        border-style: solid;
        border-top: none;
        border-left: none;
        border-right-width: calc(2/15 * 18px);
        border-bottom-width: calc(2/15 * 18px);
        border-color: white;
        -webkit-transform-origin: 97% 86%;
        transform-origin: 97% 86%;
        box-sizing: content-box;
}

[dir="rtl"] .paper-checkbox-3 #checkmark.paper-checkbox, .paper-checkbox-3[dir="rtl"] #checkmark.paper-checkbox {
  -webkit-transform-origin: 50% 14%;
        transform-origin: 50% 14%;
}

.paper-checkbox-3 #checkboxLabel.paper-checkbox {
  position: relative;
        display: inline-block;
        vertical-align: middle;
        padding-left: 8px;
        white-space: normal;
        line-height: normal;
        color: #212121;;
}

.paper-checkbox-3[checked] #checkboxLabel.paper-checkbox {
  color: #212121;;
}

[dir="rtl"] .paper-checkbox-3 #checkboxLabel.paper-checkbox, .paper-checkbox-3[dir="rtl"] #checkboxLabel.paper-checkbox {
  padding-right: 8px;
        padding-left: 0;
}

.paper-checkbox-3 #checkboxLabel[hidden].paper-checkbox {
  display: none;
}

.paper-checkbox-3[disabled] #checkbox.paper-checkbox {
  opacity: 0.5;
        border-color: #212121;
}

.paper-checkbox-3[disabled][checked] #checkbox.paper-checkbox {
  background-color: #212121;
        opacity: 0.5;
}

.paper-checkbox-3[disabled] #checkboxLabel.paper-checkbox {
  opacity: 0.65;
}

.paper-checkbox-3 #checkbox.invalid.paper-checkbox:not(.checked) {
  border-color: #dd2c00;
}</style><!-- Shady DOM styles for iron-a11y-announcer --><style scope="iron-a11y-announcer">iron-a11y-announcer {
  display: inline-block;
        position: fixed;
        clip: rect(0px,0px,0px,0px);
}</style><!-- Shady DOM styles for iron-input --><!-- Shady DOM styles for paper-input-char-counter --><!-- Shady DOM styles for paper-input-container --><style scope="paper-input-container-4">.paper-input-container-4 {
  display: block;
        padding: 8px 0;;
}

.paper-input-container-4[inline] {
  display: inline-block;
}

.paper-input-container-4[disabled] {
  pointer-events: none;
        opacity: 0.33;;
}

.paper-input-container-4[hidden] {
  display: none !important;
}

.paper-input-container-4 .floated-label-placeholder.paper-input-container {
  font-family: 'Roboto', 'Noto', sans-serif;
      -webkit-font-smoothing: antialiased;white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;

      font-size: 12px;
      font-weight: 400;
      letter-spacing: 0.011em;
      line-height: 20px;
}

.paper-input-container-4 .underline.paper-input-container {
  position: relative;
}

.paper-input-container-4 .focused-line.paper-input-container {
  position: absolute;
      top: 0;
      right: 0;
      bottom: 0;
      left: 0;

        background: #3f51b5;
        height: 2px;

        -webkit-transform-origin: center center;
        transform-origin: center center;
        -webkit-transform: scale3d(0,1,1);
        transform: scale3d(0,1,1);;
}

.paper-input-container-4 .underline.is-highlighted.paper-input-container .focused-line.paper-input-container {
  -webkit-transform: none;
        transform: none;
        -webkit-transition: -webkit-transform 0.25s;
        transition: transform 0.25s;;
}

.paper-input-container-4 .underline.is-invalid.paper-input-container .focused-line.paper-input-container {
  background: #dd2c00;
        -webkit-transform: none;
        transform: none;
        -webkit-transition: -webkit-transform 0.25s;
        transition: transform 0.25s;;
}

.paper-input-container-4 .unfocused-line.paper-input-container {
  position: absolute;
      top: 0;
      right: 0;
      bottom: 0;
      left: 0;

        background: #737373;
        height: 1px;;
}

.paper-input-container-4[disabled] .unfocused-line.paper-input-container {
  border-bottom: 1px dashed;
        border-color: #737373;
        background: transparent;;
}

.paper-input-container-4 .label-and-input-container.paper-input-container {
  -ms-flex: 1 1 auto;
      -webkit-flex: 1 1 auto;
      flex: 1 1 auto;position: relative;

        width: 100%;
        max-width: 100%;
}

.paper-input-container-4 .input-content.paper-input-container {
  display: -ms-flexbox;
      display: -webkit-flex;
      display: flex;

      -ms-flex-direction: row;
      -webkit-flex-direction: row;
      flex-direction: row;-ms-flex-align: center;
      -webkit-align-items: center;
      align-items: center;

        position: relative;
}

.paper-input-container-4 .input-content.paper-input-container  label,.paper-input-container-4 .input-content.paper-input-container  .paper-input-label {
  position: absolute;
        top: 0;
        right: 0;
        left: 0;
        width: 100%;
        font: inherit;
        color: #737373;
        -webkit-transition: -webkit-transform 0.25s, width 0.25s;
        transition: transform 0.25s, width 0.25s;
        -webkit-transform-origin: left top;
        transform-origin: left top;white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;font-family: 'Roboto', 'Noto', sans-serif;
      -webkit-font-smoothing: antialiased;

      font-size: 16px;
      font-weight: 400;
      line-height: 24px;font-size: 10px;;
}

.paper-input-container-4 .input-content.label-is-floating.paper-input-container  label,.paper-input-container-4 .input-content.label-is-floating.paper-input-container  .paper-input-label {
  -webkit-transform: translateY(-75%) scale(0.75);
        transform: translateY(-75%) scale(0.75);

        
        width: 133%;;
}

[dir="rtl"] .paper-input-container-4 .input-content.label-is-floating.paper-input-container  label, .paper-input-container-4[dir="rtl"] .input-content.label-is-floating.paper-input-container  label,[dir="rtl"] .paper-input-container-4 .input-content.label-is-floating.paper-input-container  .paper-input-label, .paper-input-container-4[dir="rtl"] .input-content.label-is-floating.paper-input-container  .paper-input-label {
  width: 100%;
        -webkit-transform-origin: right top;
        transform-origin: right top;
}

.paper-input-container-4 .input-content.label-is-highlighted.paper-input-container  label,.paper-input-container-4 .input-content.label-is-highlighted.paper-input-container  .paper-input-label {
  color: #3f51b5;;
}

.paper-input-container-4 .input-content.is-invalid.paper-input-container  label,.paper-input-container-4 .input-content.is-invalid.paper-input-container  .paper-input-label {
  color: #dd2c00;
}

.paper-input-container-4 .input-content.label-is-hidden.paper-input-container  label,.paper-input-container-4 .input-content.label-is-hidden.paper-input-container  .paper-input-label {
  visibility: hidden;
}

.paper-input-container-4 .input-content.paper-input-container  input,.paper-input-container-4 .input-content.paper-input-container  textarea,.paper-input-container-4 .input-content.paper-input-container  iron-autogrow-textarea,.paper-input-container-4 .input-content.paper-input-container  .paper-input-input {
  position: relative; 
        outline: none;
        box-shadow: none;
        padding: 0;
        width: 100%;
        max-width: 100%;
        background: transparent;
        border: none;
        color: #212121;
        -webkit-appearance: none;
        text-align: inherit;font-family: 'Roboto', 'Noto', sans-serif;
      -webkit-font-smoothing: antialiased;

      font-size: 16px;
      font-weight: 400;
      line-height: 24px;font-size: 10px;
}

.paper-input-container-4  [prefix] {
  font-family: 'Roboto', 'Noto', sans-serif;
      -webkit-font-smoothing: antialiased;

      font-size: 16px;
      font-weight: 400;
      line-height: 24px;;-ms-flex: none;
      -webkit-flex: none;
      flex: none;
}

.paper-input-container-4  [suffix] {
  font-family: 'Roboto', 'Noto', sans-serif;
      -webkit-font-smoothing: antialiased;

      font-size: 16px;
      font-weight: 400;
      line-height: 24px;;-ms-flex: none;
      -webkit-flex: none;
      flex: none;
}

.paper-input-container-4 .input-content.paper-input-container  input {
  min-width: 0;
}

.paper-input-container-4 .input-content.paper-input-container  textarea {
  resize: none;
}

.paper-input-container-4 .add-on-content.paper-input-container {
  position: relative;
}

.paper-input-container-4 .add-on-content.is-invalid.paper-input-container  * {
  color: #dd2c00;
}

.paper-input-container-4 .add-on-content.is-highlighted.paper-input-container  * {
  color: #3f51b5;
}</style><style scope="paper-input-container-3">.paper-input-container-3 {
  display: block;
        padding: 8px 0;;
}

.paper-input-container-3[inline] {
  display: inline-block;
}

.paper-input-container-3[disabled] {
  pointer-events: none;
        opacity: 0.33;;
}

.paper-input-container-3[hidden] {
  display: none !important;
}

.paper-input-container-3 .floated-label-placeholder.paper-input-container {
  font-family: 'Roboto', 'Noto', sans-serif;
      -webkit-font-smoothing: antialiased;white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;

      font-size: 12px;
      font-weight: 400;
      letter-spacing: 0.011em;
      line-height: 20px;
}

.paper-input-container-3 .underline.paper-input-container {
  position: relative;
}

.paper-input-container-3 .focused-line.paper-input-container {
  position: absolute;
      top: 0;
      right: 0;
      bottom: 0;
      left: 0;

        background: white;
        height: 2px;

        -webkit-transform-origin: center center;
        transform-origin: center center;
        -webkit-transform: scale3d(0,1,1);
        transform: scale3d(0,1,1);;
}

.paper-input-container-3 .underline.is-highlighted.paper-input-container .focused-line.paper-input-container {
  -webkit-transform: none;
        transform: none;
        -webkit-transition: -webkit-transform 0.25s;
        transition: transform 0.25s;;
}

.paper-input-container-3 .underline.is-invalid.paper-input-container .focused-line.paper-input-container {
  background: #dd2c00;
        -webkit-transform: none;
        transform: none;
        -webkit-transition: -webkit-transform 0.25s;
        transition: transform 0.25s;;
}

.paper-input-container-3 .unfocused-line.paper-input-container {
  position: absolute;
      top: 0;
      right: 0;
      bottom: 0;
      left: 0;

        background: rgba(255, 255, 255, 0.8);
        height: 1px;;
}

.paper-input-container-3[disabled] .unfocused-line.paper-input-container {
  border-bottom: 1px dashed;
        border-color: rgba(255, 255, 255, 0.8);
        background: transparent;;
}

.paper-input-container-3 .label-and-input-container.paper-input-container {
  -ms-flex: 1 1 auto;
      -webkit-flex: 1 1 auto;
      flex: 1 1 auto;position: relative;

        width: 100%;
        max-width: 100%;
}

.paper-input-container-3 .input-content.paper-input-container {
  display: -ms-flexbox;
      display: -webkit-flex;
      display: flex;

      -ms-flex-direction: row;
      -webkit-flex-direction: row;
      flex-direction: row;-ms-flex-align: center;
      -webkit-align-items: center;
      align-items: center;

        position: relative;
}

.paper-input-container-3 .input-content.paper-input-container  label,.paper-input-container-3 .input-content.paper-input-container  .paper-input-label {
  position: absolute;
        top: 0;
        right: 0;
        left: 0;
        width: 100%;
        font: inherit;
        color: rgba(255, 255, 255, 0.8);
        -webkit-transition: -webkit-transform 0.25s, width 0.25s;
        transition: transform 0.25s, width 0.25s;
        -webkit-transform-origin: left top;
        transform-origin: left top;white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;font-family: 'Roboto', 'Noto', sans-serif;
      -webkit-font-smoothing: antialiased;

      font-size: 16px;
      font-weight: 400;
      line-height: 24px;-webkit-font-smoothing: antialiased;
          font-size: 14px;
          font-weight: 500;
          text-transform: uppercase;;
}

.paper-input-container-3 .input-content.label-is-floating.paper-input-container  label,.paper-input-container-3 .input-content.label-is-floating.paper-input-container  .paper-input-label {
  -webkit-transform: translateY(-75%) scale(0.75);
        transform: translateY(-75%) scale(0.75);

        
        width: 133%;;
}

[dir="rtl"] .paper-input-container-3 .input-content.label-is-floating.paper-input-container  label, .paper-input-container-3[dir="rtl"] .input-content.label-is-floating.paper-input-container  label,[dir="rtl"] .paper-input-container-3 .input-content.label-is-floating.paper-input-container  .paper-input-label, .paper-input-container-3[dir="rtl"] .input-content.label-is-floating.paper-input-container  .paper-input-label {
  width: 100%;
        -webkit-transform-origin: right top;
        transform-origin: right top;
}

.paper-input-container-3 .input-content.label-is-highlighted.paper-input-container  label,.paper-input-container-3 .input-content.label-is-highlighted.paper-input-container  .paper-input-label {
  color: white;;
}

.paper-input-container-3 .input-content.is-invalid.paper-input-container  label,.paper-input-container-3 .input-content.is-invalid.paper-input-container  .paper-input-label {
  color: #dd2c00;
}

.paper-input-container-3 .input-content.label-is-hidden.paper-input-container  label,.paper-input-container-3 .input-content.label-is-hidden.paper-input-container  .paper-input-label {
  visibility: hidden;
}

.paper-input-container-3 .input-content.paper-input-container  input,.paper-input-container-3 .input-content.paper-input-container  textarea,.paper-input-container-3 .input-content.paper-input-container  iron-autogrow-textarea,.paper-input-container-3 .input-content.paper-input-container  .paper-input-input {
  position: relative; 
        outline: none;
        box-shadow: none;
        padding: 0;
        width: 100%;
        max-width: 100%;
        background: transparent;
        border: none;
        color: white;
        -webkit-appearance: none;
        text-align: inherit;font-family: 'Roboto', 'Noto', sans-serif;
      -webkit-font-smoothing: antialiased;

      font-size: 16px;
      font-weight: 400;
      line-height: 24px;-webkit-font-smoothing: antialiased;
          font-size: 14px;
          font-weight: 500;
          text-transform: uppercase;
}

.paper-input-container-3  [prefix] {
  font-family: 'Roboto', 'Noto', sans-serif;
      -webkit-font-smoothing: antialiased;

      font-size: 16px;
      font-weight: 400;
      line-height: 24px;;-ms-flex: none;
      -webkit-flex: none;
      flex: none;
}

.paper-input-container-3  [suffix] {
  font-family: 'Roboto', 'Noto', sans-serif;
      -webkit-font-smoothing: antialiased;

      font-size: 16px;
      font-weight: 400;
      line-height: 24px;;-ms-flex: none;
      -webkit-flex: none;
      flex: none;
}

.paper-input-container-3 .input-content.paper-input-container  input {
  min-width: 0;
}

.paper-input-container-3 .input-content.paper-input-container  textarea {
  resize: none;
}

.paper-input-container-3 .add-on-content.paper-input-container {
  position: relative;
}

.paper-input-container-3 .add-on-content.is-invalid.paper-input-container  * {
  color: #dd2c00;
}

.paper-input-container-3 .add-on-content.is-highlighted.paper-input-container  * {
  color: white;
}</style><style scope="paper-input-container-2">.paper-input-container-2 {
  display: block;
        padding: 8px 0;;
}

.paper-input-container-2[inline] {
  display: inline-block;
}

.paper-input-container-2[disabled] {
  pointer-events: none;
        opacity: 0.33;;
}

.paper-input-container-2[hidden] {
  display: none !important;
}

.paper-input-container-2 .floated-label-placeholder.paper-input-container {
  font-family: 'Roboto', 'Noto', sans-serif;
      -webkit-font-smoothing: antialiased;white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;

      font-size: 12px;
      font-weight: 400;
      letter-spacing: 0.011em;
      line-height: 20px;
}

.paper-input-container-2 .underline.paper-input-container {
  position: relative;
}

.paper-input-container-2 .focused-line.paper-input-container {
  position: absolute;
      top: 0;
      right: 0;
      bottom: 0;
      left: 0;

        background: #f57c00;
        height: 2px;

        -webkit-transform-origin: center center;
        transform-origin: center center;
        -webkit-transform: scale3d(0,1,1);
        transform: scale3d(0,1,1);;
}

.paper-input-container-2 .underline.is-highlighted.paper-input-container .focused-line.paper-input-container {
  -webkit-transform: none;
        transform: none;
        -webkit-transition: -webkit-transform 0.25s;
        transition: transform 0.25s;;
}

.paper-input-container-2 .underline.is-invalid.paper-input-container .focused-line.paper-input-container {
  background: #dd2c00;
        -webkit-transform: none;
        transform: none;
        -webkit-transition: -webkit-transform 0.25s;
        transition: transform 0.25s;;
}

.paper-input-container-2 .unfocused-line.paper-input-container {
  position: absolute;
      top: 0;
      right: 0;
      bottom: 0;
      left: 0;

        background: #737373;
        height: 1px;;
}

.paper-input-container-2[disabled] .unfocused-line.paper-input-container {
  border-bottom: 1px dashed;
        border-color: #737373;
        background: transparent;;
}

.paper-input-container-2 .label-and-input-container.paper-input-container {
  -ms-flex: 1 1 auto;
      -webkit-flex: 1 1 auto;
      flex: 1 1 auto;position: relative;

        width: 100%;
        max-width: 100%;
}

.paper-input-container-2 .input-content.paper-input-container {
  display: -ms-flexbox;
      display: -webkit-flex;
      display: flex;

      -ms-flex-direction: row;
      -webkit-flex-direction: row;
      flex-direction: row;-ms-flex-align: center;
      -webkit-align-items: center;
      align-items: center;

        position: relative;
}

.paper-input-container-2 .input-content.paper-input-container  label,.paper-input-container-2 .input-content.paper-input-container  .paper-input-label {
  position: absolute;
        top: 0;
        right: 0;
        left: 0;
        width: 100%;
        font: inherit;
        color: #737373;
        -webkit-transition: -webkit-transform 0.25s, width 0.25s;
        transition: transform 0.25s, width 0.25s;
        -webkit-transform-origin: left top;
        transform-origin: left top;white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;font-family: 'Roboto', 'Noto', sans-serif;
      -webkit-font-smoothing: antialiased;

      font-size: 16px;
      font-weight: 400;
      line-height: 24px;font-size: 14px;;
}

.paper-input-container-2 .input-content.label-is-floating.paper-input-container  label,.paper-input-container-2 .input-content.label-is-floating.paper-input-container  .paper-input-label {
  -webkit-transform: translateY(-75%) scale(0.75);
        transform: translateY(-75%) scale(0.75);

        
        width: 133%;;
}

[dir="rtl"] .paper-input-container-2 .input-content.label-is-floating.paper-input-container  label, .paper-input-container-2[dir="rtl"] .input-content.label-is-floating.paper-input-container  label,[dir="rtl"] .paper-input-container-2 .input-content.label-is-floating.paper-input-container  .paper-input-label, .paper-input-container-2[dir="rtl"] .input-content.label-is-floating.paper-input-container  .paper-input-label {
  width: 100%;
        -webkit-transform-origin: right top;
        transform-origin: right top;
}

.paper-input-container-2 .input-content.label-is-highlighted.paper-input-container  label,.paper-input-container-2 .input-content.label-is-highlighted.paper-input-container  .paper-input-label {
  color: #f57c00;;
}

.paper-input-container-2 .input-content.is-invalid.paper-input-container  label,.paper-input-container-2 .input-content.is-invalid.paper-input-container  .paper-input-label {
  color: #dd2c00;
}

.paper-input-container-2 .input-content.label-is-hidden.paper-input-container  label,.paper-input-container-2 .input-content.label-is-hidden.paper-input-container  .paper-input-label {
  visibility: hidden;
}

.paper-input-container-2 .input-content.paper-input-container  input,.paper-input-container-2 .input-content.paper-input-container  textarea,.paper-input-container-2 .input-content.paper-input-container  iron-autogrow-textarea,.paper-input-container-2 .input-content.paper-input-container  .paper-input-input {
  position: relative; 
        outline: none;
        box-shadow: none;
        padding: 0;
        width: 100%;
        max-width: 100%;
        background: transparent;
        border: none;
        color: #212121;
        -webkit-appearance: none;
        text-align: inherit;font-family: 'Roboto', 'Noto', sans-serif;
      -webkit-font-smoothing: antialiased;

      font-size: 16px;
      font-weight: 400;
      line-height: 24px;font-size: 14px;
}

.paper-input-container-2  [prefix] {
  font-family: 'Roboto', 'Noto', sans-serif;
      -webkit-font-smoothing: antialiased;

      font-size: 16px;
      font-weight: 400;
      line-height: 24px;;-ms-flex: none;
      -webkit-flex: none;
      flex: none;
}

.paper-input-container-2  [suffix] {
  font-family: 'Roboto', 'Noto', sans-serif;
      -webkit-font-smoothing: antialiased;

      font-size: 16px;
      font-weight: 400;
      line-height: 24px;;-ms-flex: none;
      -webkit-flex: none;
      flex: none;
}

.paper-input-container-2 .input-content.paper-input-container  input {
  min-width: 0;
}

.paper-input-container-2 .input-content.paper-input-container  textarea {
  resize: none;
}

.paper-input-container-2 .add-on-content.paper-input-container {
  position: relative;
}

.paper-input-container-2 .add-on-content.is-invalid.paper-input-container  * {
  color: #dd2c00;
}

.paper-input-container-2 .add-on-content.is-highlighted.paper-input-container  * {
  color: #f57c00;
}</style><style scope="paper-input-container-1">.paper-input-container-1 {
  display: block;
        padding: 8px 0;;
}

.paper-input-container-1[inline] {
  display: inline-block;
}

.paper-input-container-1[disabled] {
  pointer-events: none;
        opacity: 0.33;;
}

.paper-input-container-1[hidden] {
  display: none !important;
}

.paper-input-container-1 .floated-label-placeholder.paper-input-container {
  font-family: 'Roboto', 'Noto', sans-serif;
      -webkit-font-smoothing: antialiased;white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;

      font-size: 12px;
      font-weight: 400;
      letter-spacing: 0.011em;
      line-height: 20px;
}

.paper-input-container-1 .underline.paper-input-container {
  position: relative;
}

.paper-input-container-1 .focused-line.paper-input-container {
  position: absolute;
      top: 0;
      right: 0;
      bottom: 0;
      left: 0;

        background: #f57c00;
        height: 2px;

        -webkit-transform-origin: center center;
        transform-origin: center center;
        -webkit-transform: scale3d(0,1,1);
        transform: scale3d(0,1,1);;
}

.paper-input-container-1 .underline.is-highlighted.paper-input-container .focused-line.paper-input-container {
  -webkit-transform: none;
        transform: none;
        -webkit-transition: -webkit-transform 0.25s;
        transition: transform 0.25s;;
}

.paper-input-container-1 .underline.is-invalid.paper-input-container .focused-line.paper-input-container {
  background: #dd2c00;
        -webkit-transform: none;
        transform: none;
        -webkit-transition: -webkit-transform 0.25s;
        transition: transform 0.25s;;
}

.paper-input-container-1 .unfocused-line.paper-input-container {
  position: absolute;
      top: 0;
      right: 0;
      bottom: 0;
      left: 0;

        background: #737373;
        height: 1px;;
}

.paper-input-container-1[disabled] .unfocused-line.paper-input-container {
  border-bottom: 1px dashed;
        border-color: #737373;
        background: transparent;;
}

.paper-input-container-1 .label-and-input-container.paper-input-container {
  -ms-flex: 1 1 auto;
      -webkit-flex: 1 1 auto;
      flex: 1 1 auto;position: relative;

        width: 100%;
        max-width: 100%;
}

.paper-input-container-1 .input-content.paper-input-container {
  display: -ms-flexbox;
      display: -webkit-flex;
      display: flex;

      -ms-flex-direction: row;
      -webkit-flex-direction: row;
      flex-direction: row;-ms-flex-align: center;
      -webkit-align-items: center;
      align-items: center;

        position: relative;
}

.paper-input-container-1 .input-content.paper-input-container  label,.paper-input-container-1 .input-content.paper-input-container  .paper-input-label {
  position: absolute;
        top: 0;
        right: 0;
        left: 0;
        width: 100%;
        font: inherit;
        color: #737373;
        -webkit-transition: -webkit-transform 0.25s, width 0.25s;
        transition: transform 0.25s, width 0.25s;
        -webkit-transform-origin: left top;
        transform-origin: left top;white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;font-family: 'Roboto', 'Noto', sans-serif;
      -webkit-font-smoothing: antialiased;

      font-size: 16px;
      font-weight: 400;
      line-height: 24px;;;
}

.paper-input-container-1 .input-content.label-is-floating.paper-input-container  label,.paper-input-container-1 .input-content.label-is-floating.paper-input-container  .paper-input-label {
  -webkit-transform: translateY(-75%) scale(0.75);
        transform: translateY(-75%) scale(0.75);

        
        width: 133%;;
}

[dir="rtl"] .paper-input-container-1 .input-content.label-is-floating.paper-input-container  label, .paper-input-container-1[dir="rtl"] .input-content.label-is-floating.paper-input-container  label,[dir="rtl"] .paper-input-container-1 .input-content.label-is-floating.paper-input-container  .paper-input-label, .paper-input-container-1[dir="rtl"] .input-content.label-is-floating.paper-input-container  .paper-input-label {
  width: 100%;
        -webkit-transform-origin: right top;
        transform-origin: right top;
}

.paper-input-container-1 .input-content.label-is-highlighted.paper-input-container  label,.paper-input-container-1 .input-content.label-is-highlighted.paper-input-container  .paper-input-label {
  color: #f57c00;;
}

.paper-input-container-1 .input-content.is-invalid.paper-input-container  label,.paper-input-container-1 .input-content.is-invalid.paper-input-container  .paper-input-label {
  color: #dd2c00;
}

.paper-input-container-1 .input-content.label-is-hidden.paper-input-container  label,.paper-input-container-1 .input-content.label-is-hidden.paper-input-container  .paper-input-label {
  visibility: hidden;
}

.paper-input-container-1 .input-content.paper-input-container  input,.paper-input-container-1 .input-content.paper-input-container  textarea,.paper-input-container-1 .input-content.paper-input-container  iron-autogrow-textarea,.paper-input-container-1 .input-content.paper-input-container  .paper-input-input {
  position: relative; 
        outline: none;
        box-shadow: none;
        padding: 0;
        width: 100%;
        max-width: 100%;
        background: transparent;
        border: none;
        color: #212121;
        -webkit-appearance: none;
        text-align: inherit;font-family: 'Roboto', 'Noto', sans-serif;
      -webkit-font-smoothing: antialiased;

      font-size: 16px;
      font-weight: 400;
      line-height: 24px;overflow: hidden;
          white-space: nowrap;
          text-overflow: ellipsis;
          max-width: 100%;
          box-sizing: border-box;
          cursor: pointer;
}

.paper-input-container-1  [prefix] {
  font-family: 'Roboto', 'Noto', sans-serif;
      -webkit-font-smoothing: antialiased;

      font-size: 16px;
      font-weight: 400;
      line-height: 24px;;-ms-flex: none;
      -webkit-flex: none;
      flex: none;
}

.paper-input-container-1  [suffix] {
  font-family: 'Roboto', 'Noto', sans-serif;
      -webkit-font-smoothing: antialiased;

      font-size: 16px;
      font-weight: 400;
      line-height: 24px;;-ms-flex: none;
      -webkit-flex: none;
      flex: none;
}

.paper-input-container-1 .input-content.paper-input-container  input {
  min-width: 0;
}

.paper-input-container-1 .input-content.paper-input-container  textarea {
  resize: none;
}

.paper-input-container-1 .add-on-content.paper-input-container {
  position: relative;
}

.paper-input-container-1 .add-on-content.is-invalid.paper-input-container  * {
  color: #dd2c00;
}

.paper-input-container-1 .add-on-content.is-highlighted.paper-input-container  * {
  color: #f57c00;
}</style><style scope="paper-input-container-0">.paper-input-container-0 {
  display: block;
        padding: 8px 0;;
}

.paper-input-container-0[inline] {
  display: inline-block;
}

.paper-input-container-0[disabled] {
  pointer-events: none;
        opacity: 0.33;;
}

.paper-input-container-0[hidden] {
  display: none !important;
}

.paper-input-container-0 .floated-label-placeholder.paper-input-container {
  font-family: 'Roboto', 'Noto', sans-serif;
      -webkit-font-smoothing: antialiased;white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;

      font-size: 12px;
      font-weight: 400;
      letter-spacing: 0.011em;
      line-height: 20px;
}

.paper-input-container-0 .underline.paper-input-container {
  position: relative;
}

.paper-input-container-0 .focused-line.paper-input-container {
  position: absolute;
      top: 0;
      right: 0;
      bottom: 0;
      left: 0;

        background: #3f51b5;
        height: 2px;

        -webkit-transform-origin: center center;
        transform-origin: center center;
        -webkit-transform: scale3d(0,1,1);
        transform: scale3d(0,1,1);;
}

.paper-input-container-0 .underline.is-highlighted.paper-input-container .focused-line.paper-input-container {
  -webkit-transform: none;
        transform: none;
        -webkit-transition: -webkit-transform 0.25s;
        transition: transform 0.25s;;
}

.paper-input-container-0 .underline.is-invalid.paper-input-container .focused-line.paper-input-container {
  background: #dd2c00;
        -webkit-transform: none;
        transform: none;
        -webkit-transition: -webkit-transform 0.25s;
        transition: transform 0.25s;;
}

.paper-input-container-0 .unfocused-line.paper-input-container {
  position: absolute;
      top: 0;
      right: 0;
      bottom: 0;
      left: 0;

        background: #737373;
        height: 1px;;
}

.paper-input-container-0[disabled] .unfocused-line.paper-input-container {
  border-bottom: 1px dashed;
        border-color: #737373;
        background: transparent;;
}

.paper-input-container-0 .label-and-input-container.paper-input-container {
  -ms-flex: 1 1 auto;
      -webkit-flex: 1 1 auto;
      flex: 1 1 auto;position: relative;

        width: 100%;
        max-width: 100%;
}

.paper-input-container-0 .input-content.paper-input-container {
  display: -ms-flexbox;
      display: -webkit-flex;
      display: flex;

      -ms-flex-direction: row;
      -webkit-flex-direction: row;
      flex-direction: row;-ms-flex-align: center;
      -webkit-align-items: center;
      align-items: center;

        position: relative;
}

.paper-input-container-0 .input-content.paper-input-container  label,.paper-input-container-0 .input-content.paper-input-container  .paper-input-label {
  position: absolute;
        top: 0;
        right: 0;
        left: 0;
        width: 100%;
        font: inherit;
        color: #737373;
        -webkit-transition: -webkit-transform 0.25s, width 0.25s;
        transition: transform 0.25s, width 0.25s;
        -webkit-transform-origin: left top;
        transform-origin: left top;white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;font-family: 'Roboto', 'Noto', sans-serif;
      -webkit-font-smoothing: antialiased;

      font-size: 16px;
      font-weight: 400;
      line-height: 24px;;;
}

.paper-input-container-0 .input-content.label-is-floating.paper-input-container  label,.paper-input-container-0 .input-content.label-is-floating.paper-input-container  .paper-input-label {
  -webkit-transform: translateY(-75%) scale(0.75);
        transform: translateY(-75%) scale(0.75);

        
        width: 133%;;
}

[dir="rtl"] .paper-input-container-0 .input-content.label-is-floating.paper-input-container  label, .paper-input-container-0[dir="rtl"] .input-content.label-is-floating.paper-input-container  label,[dir="rtl"] .paper-input-container-0 .input-content.label-is-floating.paper-input-container  .paper-input-label, .paper-input-container-0[dir="rtl"] .input-content.label-is-floating.paper-input-container  .paper-input-label {
  width: 100%;
        -webkit-transform-origin: right top;
        transform-origin: right top;
}

.paper-input-container-0 .input-content.label-is-highlighted.paper-input-container  label,.paper-input-container-0 .input-content.label-is-highlighted.paper-input-container  .paper-input-label {
  color: #3f51b5;;
}

.paper-input-container-0 .input-content.is-invalid.paper-input-container  label,.paper-input-container-0 .input-content.is-invalid.paper-input-container  .paper-input-label {
  color: #dd2c00;
}

.paper-input-container-0 .input-content.label-is-hidden.paper-input-container  label,.paper-input-container-0 .input-content.label-is-hidden.paper-input-container  .paper-input-label {
  visibility: hidden;
}

.paper-input-container-0 .input-content.paper-input-container  input,.paper-input-container-0 .input-content.paper-input-container  textarea,.paper-input-container-0 .input-content.paper-input-container  iron-autogrow-textarea,.paper-input-container-0 .input-content.paper-input-container  .paper-input-input {
  position: relative; 
        outline: none;
        box-shadow: none;
        padding: 0;
        width: 100%;
        max-width: 100%;
        background: transparent;
        border: none;
        color: #212121;
        -webkit-appearance: none;
        text-align: inherit;font-family: 'Roboto', 'Noto', sans-serif;
      -webkit-font-smoothing: antialiased;

      font-size: 16px;
      font-weight: 400;
      line-height: 24px;;
}

.paper-input-container-0  [prefix] {
  font-family: 'Roboto', 'Noto', sans-serif;
      -webkit-font-smoothing: antialiased;

      font-size: 16px;
      font-weight: 400;
      line-height: 24px;;-ms-flex: none;
      -webkit-flex: none;
      flex: none;
}

.paper-input-container-0  [suffix] {
  font-family: 'Roboto', 'Noto', sans-serif;
      -webkit-font-smoothing: antialiased;

      font-size: 16px;
      font-weight: 400;
      line-height: 24px;;-ms-flex: none;
      -webkit-flex: none;
      flex: none;
}

.paper-input-container-0 .input-content.paper-input-container  input {
  min-width: 0;
}

.paper-input-container-0 .input-content.paper-input-container  textarea {
  resize: none;
}

.paper-input-container-0 .add-on-content.paper-input-container {
  position: relative;
}

.paper-input-container-0 .add-on-content.is-invalid.paper-input-container  * {
  color: #dd2c00;
}

.paper-input-container-0 .add-on-content.is-highlighted.paper-input-container  * {
  color: #3f51b5;
}</style><!-- Shady DOM styles for paper-input-error --><!-- Shady DOM styles for paper-input --><style scope="paper-input-1">.paper-input-1 {
  display: block;
}

.paper-input-1[focused] {
  outline: none;
}

.paper-input-1[hidden] {
  display: none !important;
}

.paper-input-1 input.paper-input::-webkit-input-placeholder {
  color: rgba(255, 255, 255, 0.8);
}

.paper-input-1 input.paper-input:-moz-placeholder {
  color: rgba(255, 255, 255, 0.8);
}

.paper-input-1 input.paper-input::-moz-placeholder {
  color: rgba(255, 255, 255, 0.8);
}

.paper-input-1 input.paper-input:-ms-input-placeholder {
  color: rgba(255, 255, 255, 0.8);
}

.paper-input-1 label.paper-input {
  pointer-events: none;
}</style><style scope="paper-input-0">.paper-input-0 {
  display: block;
}

.paper-input-0[focused] {
  outline: none;
}

.paper-input-0[hidden] {
  display: none !important;
}

.paper-input-0 input.paper-input::-webkit-input-placeholder {
  color: #737373;
}

.paper-input-0 input.paper-input:-moz-placeholder {
  color: #737373;
}

.paper-input-0 input.paper-input::-moz-placeholder {
  color: #737373;
}

.paper-input-0 input.paper-input:-ms-input-placeholder {
  color: #737373;
}

.paper-input-0 label.paper-input {
  pointer-events: none;
}</style><!-- Shady DOM styles for iron-overlay-backdrop --><style scope="iron-overlay-backdrop-0">.iron-overlay-backdrop-0 {
  position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: #000;
        opacity: 0;
        transition: opacity 0.2s;
        pointer-events: none;;
}

.iron-overlay-backdrop-0.opened {
  opacity: 0.6;
        pointer-events: auto;;
}</style><!-- Shady DOM styles for opaque-animation --><!-- Shady DOM styles for iron-dropdown --><style scope="iron-dropdown">iron-dropdown {
  position: fixed;
}

#contentWrapper.iron-dropdown  > * {
  overflow: auto;
}

#contentWrapper.animating.iron-dropdown  > * {
  overflow: hidden;
}</style><!-- Shady DOM styles for fade-in-animation --><!-- Shady DOM styles for fade-out-animation --><!-- Shady DOM styles for paper-menu-grow-height-animation --><!-- Shady DOM styles for paper-menu-grow-width-animation --><!-- Shady DOM styles for paper-menu-shrink-width-animation --><!-- Shady DOM styles for paper-menu-shrink-height-animation --><!-- Shady DOM styles for paper-menu-button --><style scope="paper-menu-button-0">.paper-menu-button-0 {
  display: inline-block;
        position: relative;
        padding: 8px;
        outline: none;;
}

.paper-menu-button-0[disabled] {
  cursor: auto;
        color: #9b9b9b;;
}

.paper-menu-button-0 iron-dropdown.paper-menu-button {
  ;
}

.paper-menu-button-0 .dropdown-content.paper-menu-button {
  box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.14),
                  0 1px 5px 0 rgba(0, 0, 0, 0.12),
                  0 3px 1px -2px rgba(0, 0, 0, 0.2);

        position: relative;
        border-radius: 2px;
        background-color: #ffffff;;
}

.paper-menu-button-0[vertical-align="top"] .dropdown-content.paper-menu-button {
  margin-bottom: 20px;
        margin-top: -10px;
        top: 10px;
}

.paper-menu-button-0[vertical-align="bottom"] .dropdown-content.paper-menu-button {
  bottom: 10px;
        margin-bottom: -10px;
        margin-top: 20px;
}</style><!-- Shady DOM styles for iron-iconset-svg --><!-- Shady DOM styles for paper-dropdown-menu --><style scope="paper-dropdown-menu-1">.paper-dropdown-menu-1 {
  display: inline-block;
        position: relative;
        text-align: left;
        cursor: pointer;

        
        -webkit-tap-highlight-color: rgba(0,0,0,0);
        -webkit-tap-highlight-color: transparent;;
}

.paper-dropdown-menu-1[disabled] {
  ;
}

.paper-dropdown-menu-1[noink] paper-ripple.paper-dropdown-menu {
  display: none;
}

.paper-dropdown-menu-1[no-label-float] paper-ripple.paper-dropdown-menu {
  top: 8px;
}

.paper-dropdown-menu-1 paper-ripple.paper-dropdown-menu {
  top: 12px;
        left: 0px;
        bottom: 8px;
        right: 0px;;
}

.paper-dropdown-menu-1 paper-menu-button.paper-dropdown-menu {
  display: block;
        padding: 0;;
}

.paper-dropdown-menu-1 paper-input.paper-dropdown-menu {
  ;
}

.paper-dropdown-menu-1 iron-icon.paper-dropdown-menu {
  color: #9b9b9b;color: white;
}</style><style scope="paper-dropdown-menu-0">.paper-dropdown-menu-0 {
  display: inline-block;
        position: relative;
        text-align: left;
        cursor: pointer;

        
        -webkit-tap-highlight-color: rgba(0,0,0,0);
        -webkit-tap-highlight-color: transparent;;
}

.paper-dropdown-menu-0[disabled] {
  ;
}

.paper-dropdown-menu-0[noink] paper-ripple.paper-dropdown-menu {
  display: none;
}

.paper-dropdown-menu-0[no-label-float] paper-ripple.paper-dropdown-menu {
  top: 8px;
}

.paper-dropdown-menu-0 paper-ripple.paper-dropdown-menu {
  top: 12px;
        left: 0px;
        bottom: 8px;
        right: 0px;;
}

.paper-dropdown-menu-0 paper-menu-button.paper-dropdown-menu {
  display: block;
        padding: 0;;
}

.paper-dropdown-menu-0 paper-input.paper-dropdown-menu {
  ;
}

.paper-dropdown-menu-0 iron-icon.paper-dropdown-menu {
  color: #9b9b9b;;
}</style><!-- Shady DOM styles for paper-item --><style scope="paper-item-0">.paper-item-0 {
  display: block;
        position: relative;
        min-height: 48px;
        padding: 0px 16px;
}

.paper-item-0[hidden] {
  display: none !important;
}

.paper-item-0.iron-selected {
  font-weight: bold;;
}

.paper-item-0[disabled] {
  color: #9b9b9b;;
}

.paper-item-0:focus {
  position: relative;
        outline: 0;;
}

.paper-item-0:focus:before {
  position: absolute;
      top: 0;
      right: 0;
      bottom: 0;
      left: 0;

        background: currentColor;
        content: '';
        opacity: 0.12;
        pointer-events: none;;
}

.paper-item-0 {
  display: -ms-flexbox;
      display: -webkit-flex;
      display: flex;

      -ms-flex-direction: row;
      -webkit-flex-direction: row;
      flex-direction: row;-ms-flex-align: center;
      -webkit-align-items: center;
      align-items: center;font-family: 'Roboto', 'Noto', sans-serif;
      -webkit-font-smoothing: antialiased;

      font-size: 16px;
      font-weight: 400;
      line-height: 24px;;
}</style><!-- Shady DOM styles for paper-menu --><style scope="paper-menu-1">.paper-menu-1 .selectable-content.paper-menu  > .iron-selected {
  font-weight: bold;;
}

.paper-menu-1 .selectable-content.paper-menu  > [disabled] {
  color: #9b9b9b;
}

.paper-menu-1 .selectable-content.paper-menu  > *:focus {
  position: relative;
        outline: 0;;
}

.paper-menu-1 .selectable-content.paper-menu  > *:focus:after {
  position: absolute;
      top: 0;
      right: 0;
      bottom: 0;
      left: 0;
        background: currentColor;
        opacity: 0.12;
        content: '';
        pointer-events: none;;
}

.paper-menu-1 .selectable-content.paper-menu  > *[colored]:focus:after {
  opacity: 0.26;
}

.paper-menu-1 {
  display: block;
        padding: 8px 0;

        background: #f57c00;
        color: white;text-transform: uppercase;
}</style><style scope="paper-menu-0">.paper-menu-0 .selectable-content.paper-menu  > .iron-selected {
  font-weight: bold;;
}

.paper-menu-0 .selectable-content.paper-menu  > [disabled] {
  color: #9b9b9b;
}

.paper-menu-0 .selectable-content.paper-menu  > *:focus {
  position: relative;
        outline: 0;;
}

.paper-menu-0 .selectable-content.paper-menu  > *:focus:after {
  position: absolute;
      top: 0;
      right: 0;
      bottom: 0;
      left: 0;
        background: currentColor;
        opacity: 0.12;
        content: '';
        pointer-events: none;;
}

.paper-menu-0 .selectable-content.paper-menu  > *[colored]:focus:after {
  opacity: 0.26;
}

.paper-menu-0 {
  display: block;
        padding: 8px 0;

        background: #ffffff;
        color: #212121;;
}</style><!-- Shady DOM styles for iron-collapse --><style scope="iron-collapse-0">.iron-collapse-0 {
  display: block;
        transition-duration: 300ms;
        
        -webkit-transition-duration: 300ms;
        overflow: visible;
}

.iron-collapse-0.iron-collapse-closed {
  display: none;
}

.iron-collapse-0:not(.iron-collapse-opened) {
  overflow: hidden;
}</style><!-- Shady DOM styles for tf-category-pane --><style scope="tf-category-pane-0">.tf-category-pane-0 {
  display: block;
        margin: 0 5px 1px 10px;
}

.tf-category-pane-0:first-of-type {
  margin-top: 20px;
}

.tf-category-pane-0:last-of-type {
  margin-bottom: 20px;
}

.tf-category-pane-0 .heading.tf-category-pane {
  background-color: white;
        border: none;
        cursor: pointer;
        width: 100%;
        font-size: 15px;
        line-height: 1;
        box-shadow: 0 1px 5px rgba(0,0,0,0.2);
        padding: 10px 15px;
}

.tf-category-pane-0 .heading.tf-category-pane::-moz-focus-inner {
  padding: 10px 15px;
}

.tf-category-pane-0 .content.tf-category-pane {
  padding: 15px;
        border: 1px solid #dedede;
        border-top: none;
        border-bottom-left-radius: 2px;
        border-bottom-right-radius: 2px;
        background: white;
}

.tf-category-pane-0 [open-button].tf-category-pane {
  border-bottom-left-radius: 0px !important;
        border-bottom-right-radius: 0px !important;
}

.tf-category-pane-0 .name.tf-category-pane {
  float: left;
}

.tf-category-pane-0 .light.tf-category-pane {
  color: #9e9e9e;
}

.tf-category-pane-0 .category-name.tf-category-pane {
  white-space: pre;
}

.tf-category-pane-0 .count.tf-category-pane {
  float: right;
        margin-right: 5px;
        font-size: 12px;
        color: #9e9e9e;
}</style><!-- Shady DOM styles for tf-dashboard-layout --><style scope="tf-dashboard-layout-0">.tf-dashboard-layout-0 .scrollbar.tf-dashboard-layout::-webkit-scrollbar-track {
  visibility: hidden;
}

.tf-dashboard-layout-0 .scrollbar.tf-dashboard-layout::-webkit-scrollbar {
  width: 10px;
}

.tf-dashboard-layout-0 .scrollbar.tf-dashboard-layout::-webkit-scrollbar-thumb {
  border-radius: 10px;
        -webkit-box-shadow: inset 0 0 2px rgba(0,0,0,.3);
        background-color: #9e9e9e;
        color: #212121;
}

.tf-dashboard-layout-0 .scrollbar.tf-dashboard-layout {
  box-sizing: border-box;
}

.tf-dashboard-layout-0 #sidebar.tf-dashboard-layout {
  width: inherit;
        height: 100%;
        overflow: ellipsis;
        flex-grow: 0;
        flex-shrink: 0;
}

.tf-dashboard-layout-0 #center.tf-dashboard-layout {
  height: 100%;
        overflow-y: auto;
        flex-grow: 1;
        flex-shrink: 1;
}

.tf-dashboard-layout-0 .tf-graph-dashboard.tf-dashboard-layout #center.tf-dashboard-layout {
  background: white;
}

.tf-dashboard-layout-0 {
  display: flex;
        flex-direction: row;
        height: 100%;
}</style><!-- Shady DOM styles for tf-option-selector --><style scope="tf-option-selector-0">.tf-option-selector-0 .content-wrapper.tf-option-selector  > * {
  width: 30%;
        font-size: 13px;
        background: none;
        margin-top: 10px;
        color: #757575;
}

.tf-option-selector-0 .content-wrapper.tf-option-selector  :first-of-type {
  margin-left: 0;
}

.tf-option-selector-0 .content-wrapper.tf-option-selector  .selected {
  background-color: #757575;
        color: white!important;
}

.tf-option-selector-0 h3.tf-option-selector {
  color: #424242;
        margin: 0;
        font-weight: normal;
        font-size: 14px;
        margin-bottom: 5px;
        display: block;
        pointer-events: none;
}</style><!-- Shady DOM styles for tf-paginated-view --><style scope="tf-paginated-view-0">.tf-paginated-view-0 {
  display: flex;
        flex-direction: column;
}

.tf-paginated-view-0 #controls-container.tf-paginated-view {
  justify-content: center;
        display: flex;
        flex-direction: row;
        flex-grow: 0;
        flex-shrink: 0;
        width: 100%;
}

.tf-paginated-view-0 #controls-container.tf-paginated-view paper-button.tf-paginated-view {
  display: inline-block;
}

.tf-paginated-view-0 .big-page-buttons.tf-paginated-view {
  display: flex;
}

.tf-paginated-view-0 .big-page-buttons.tf-paginated-view paper-button.tf-paginated-view {
  background-color: #e0e0e0;
        color: #757575;
        display: inline-block;
        flex-basis: 0;
        flex-grow: 1;
        flex-shrink: 1;
        font-size: 13px;
}

.tf-paginated-view-0 .big-page-buttons.tf-paginated-view paper-button[disabled].tf-paginated-view {
  background: none;
}</style><!-- Shady DOM styles for paper-dialog --><style scope="paper-dialog-0">.paper-dialog-0 {
  display: block;
        margin: 24px 40px;

        background: #ffffff;
        color: #212121;font-family: 'Roboto', 'Noto', sans-serif;
      -webkit-font-smoothing: antialiased;

      font-size: 14px;
      font-weight: 400;
      line-height: 20px;box-shadow: 0 16px 24px 2px rgba(0, 0, 0, 0.14),
                  0  6px 30px 5px rgba(0, 0, 0, 0.12),
                  0  8px 10px -5px rgba(0, 0, 0, 0.4);;
}

.paper-dialog-0  > * {
  margin-top: 20px;
        padding: 0 24px;
}

.paper-dialog-0  > .no-padding {
  padding: 0;
}

.paper-dialog-0  > *:first-child {
  margin-top: 24px;
}

.paper-dialog-0  > *:last-child {
  margin-bottom: 24px;
}

.paper-dialog-0  h2 {
  position: relative;
        margin: 0;font-family: 'Roboto', 'Noto', sans-serif;
      -webkit-font-smoothing: antialiased;white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;

      font-size: 20px;
      font-weight: 500;
      line-height: 28px;;
}

.paper-dialog-0  .buttons {
  position: relative;
        padding: 8px 8px 8px 24px;
        margin: 0;

        color: #3f51b5;display: -ms-flexbox;
      display: -webkit-flex;
      display: flex;

      -ms-flex-direction: row;
      -webkit-flex-direction: row;
      flex-direction: row;-ms-flex-pack: end;
      -webkit-justify-content: flex-end;
      justify-content: flex-end;
}</style><!-- Shady DOM styles for paper-icon-button --><style scope="paper-icon-button-0">.paper-icon-button-0 {
  display: inline-block;
        position: relative;
        padding: 8px;
        outline: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        user-select: none;
        cursor: pointer;
        z-index: 0;
        line-height: 1;

        width: 40px;
        height: 40px;

        
        -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
        -webkit-tap-highlight-color: transparent;

        
        box-sizing: border-box !important;;
}

.paper-icon-button-0 #ink.paper-icon-button {
  color: #212121;
        opacity: 0.6;
}

.paper-icon-button-0[disabled] {
  color: #9b9b9b;
        pointer-events: none;
        cursor: auto;;
}

.paper-icon-button-0:hover {
  ;
}

.paper-icon-button-0 iron-icon.paper-icon-button {
  ;
}</style><!-- Shady DOM styles for tf-multi-checkbox --><style scope="tf-multi-checkbox-0">.tf-multi-checkbox-0 .scrollbar.tf-multi-checkbox::-webkit-scrollbar-track {
  visibility: hidden;
}

.tf-multi-checkbox-0 .scrollbar.tf-multi-checkbox::-webkit-scrollbar {
  width: 10px;
}

.tf-multi-checkbox-0 .scrollbar.tf-multi-checkbox::-webkit-scrollbar-thumb {
  border-radius: 10px;
        -webkit-box-shadow: inset 0 0 2px rgba(0,0,0,.3);
        background-color: #9e9e9e;
        color: #212121;
}

.tf-multi-checkbox-0 .scrollbar.tf-multi-checkbox {
  box-sizing: border-box;
}

.tf-multi-checkbox-0 [color-class="light-blue"].tf-multi-checkbox paper-checkbox.tf-multi-checkbox {
  ;
}

.tf-multi-checkbox-0 [color-class="red"].tf-multi-checkbox paper-checkbox.tf-multi-checkbox {
  ;
}

.tf-multi-checkbox-0 [color-class="green"].tf-multi-checkbox paper-checkbox.tf-multi-checkbox {
  ;
}

.tf-multi-checkbox-0 [color-class="purple"].tf-multi-checkbox paper-checkbox.tf-multi-checkbox {
  ;
}

.tf-multi-checkbox-0 [color-class="teal"].tf-multi-checkbox paper-checkbox.tf-multi-checkbox {
  ;
}

.tf-multi-checkbox-0 [color-class="pink"].tf-multi-checkbox paper-checkbox.tf-multi-checkbox {
  ;
}

.tf-multi-checkbox-0 [color-class="orange"].tf-multi-checkbox paper-checkbox.tf-multi-checkbox {
  ;
}

.tf-multi-checkbox-0 [color-class="brown"].tf-multi-checkbox paper-checkbox.tf-multi-checkbox {
  ;
}

.tf-multi-checkbox-0 [color-class="indigo"].tf-multi-checkbox paper-checkbox.tf-multi-checkbox {
  ;
}

.tf-multi-checkbox-0 paper-input.tf-multi-checkbox {
  ;
}

.tf-multi-checkbox-0 {
  display: flex;
      flex-direction: column;
      height: 100%;
}

.tf-multi-checkbox-0 #outer-container.tf-multi-checkbox {
  overflow-y: auto;
      overflow-x: hidden;
      width: 100%;
      height: 0; 
      flex-grow: 1;
      flex-shrink: 1;
      word-wrap: break-word;
}

.tf-multi-checkbox-0 .run-row.tf-multi-checkbox {
  padding-top: 5px;
      padding-bottom: 5px;
      display: flex;
      flex-direction: row;
      font-size: 13px;
}

.tf-multi-checkbox-0 .icon-container.tf-multi-checkbox {
  flex-grow: 0;
      flex-shrink: 0;
      padding-left: 2px;
}

.tf-multi-checkbox-0 .checkbox.tf-multi-checkbox {
  padding-left: 2px;
      width: 18px;
      height: 18px;
}

.tf-multi-checkbox-0 .isolator.tf-multi-checkbox {
  width: 18px;
      height: 18px;
      padding: 0px;
}

.tf-multi-checkbox-0 .isolator-container.tf-multi-checkbox {
  padding-left: 6px;
      padding-right: 3px;
}

.tf-multi-checkbox-0 .checkbox-container.tf-multi-checkbox {
  padding-left: 2px;
}

.tf-multi-checkbox-0 .item-label-container.tf-multi-checkbox {
  padding-left: 5px;
      flex-grow: 1;
      flex-shrink: 1;
      width: 0px;
}

.tf-multi-checkbox-0 .tooltip-value-container.tf-multi-checkbox {
  display: flex;
      justify-content: center;
      flex-grow: 0;
      flex-shrink: 0;
      text-align:right;
      padding-left: 2px;
}

.tf-multi-checkbox-0 .vertical-align-container.tf-multi-checkbox {
  display: flex;
      justify-content: center;
}

.tf-multi-checkbox-0 .vertical-align-container.tf-multi-checkbox .vertical-align-center.tf-multi-checkbox {
  align-self: center;
}

.tf-multi-checkbox-0 .vertical-align-container.tf-multi-checkbox .vertical-align-top.tf-multi-checkbox {
  align-self: start;
}</style><!-- Shady DOM styles for tf-runs-selector --><style scope="tf-runs-selector-0">.tf-runs-selector-0 {
  display: flex;
        flex-direction: column;
        padding-bottom: 10px;
        box-sizing: border-box;
}

.tf-runs-selector-0 #top-text.tf-runs-selector {
  width: 100%;
        flex-grow: 0;
        flex-shrink: 0;
        padding-right: 16px;
        box-sizing: border-box;
        color: #424242;
}

.tf-runs-selector-0 tf-multi-checkbox.tf-runs-selector {
  display: flex;
        flex-grow: 1;
        flex-shrink: 1;
}

.tf-runs-selector-0 .x-button.tf-runs-selector {
  font-size: 13px;
        background-color: #e0e0e0;
        color: #757575;
}

.tf-runs-selector-0 #tooltip-help.tf-runs-selector {
  color: #424242;
        margin: 0;
        font-weight: normal;
        font-size: 14px;
        margin-bottom: 5px;
}

.tf-runs-selector-0 paper-button.tf-runs-selector {
  margin-left: 0;
}

.tf-runs-selector-0 #logdir.tf-runs-selector {
  color: #757575;
        font-size: 13px;
        margin: 5px 0 0 0;
        max-width: 288px;
}</style><!-- Shady DOM styles for paper-spinner-lite --><style scope="paper-spinner-lite-0">.paper-spinner-lite-0 {
  display: inline-block;
        position: relative;
        width: 28px; 
        height: 28px;
}

.paper-spinner-lite-0 #spinnerContainer.paper-spinner-lite {
  width: 100%;
        height: 100%;

        
        direction: ltr;
}

.paper-spinner-lite-0 #spinnerContainer.active.paper-spinner-lite {
  -webkit-animation: container-rotate-paper-spinner-lite-0 1568ms linear infinite;
        animation: container-rotate-paper-spinner-lite-0 1568ms linear infinite;
}

@-webkit-keyframes container-rotate-paper-spinner-lite-0 {
to {
  -webkit-transform: rotate(360deg)
}

}

@keyframes container-rotate-paper-spinner-lite-0 {
to {
  transform: rotate(360deg)
}

}

.paper-spinner-lite-0 .spinner-layer.paper-spinner-lite {
  position: absolute;
        width: 100%;
        height: 100%;
        opacity: 0;
        white-space: nowrap;
        border-color: #4285f4;
}

.paper-spinner-lite-0 .layer-1.paper-spinner-lite {
  border-color: #4285f4;
}

.paper-spinner-lite-0 .layer-2.paper-spinner-lite {
  border-color: #db4437;
}

.paper-spinner-lite-0 .layer-3.paper-spinner-lite {
  border-color: #f4b400;
}

.paper-spinner-lite-0 .layer-4.paper-spinner-lite {
  border-color: #0f9d58;
}

.paper-spinner-lite-0 .active.paper-spinner-lite .spinner-layer.paper-spinner-lite {
  -webkit-animation: fill-unfill-rotate-paper-spinner-lite-0 5332ms cubic-bezier(0.4, 0.0, 0.2, 1) infinite both;
        animation: fill-unfill-rotate-paper-spinner-lite-0 5332ms cubic-bezier(0.4, 0.0, 0.2, 1) infinite both;
        opacity: 1;
}

.paper-spinner-lite-0 .active.paper-spinner-lite .spinner-layer.layer-1.paper-spinner-lite {
  -webkit-animation: fill-unfill-rotate-paper-spinner-lite-0 5332ms cubic-bezier(0.4, 0.0, 0.2, 1) infinite both, layer-1-fade-in-out-paper-spinner-lite-0 5332ms cubic-bezier(0.4, 0.0, 0.2, 1) infinite both;
        animation: fill-unfill-rotate-paper-spinner-lite-0 5332ms cubic-bezier(0.4, 0.0, 0.2, 1) infinite both, layer-1-fade-in-out-paper-spinner-lite-0 5332ms cubic-bezier(0.4, 0.0, 0.2, 1) infinite both;
}

.paper-spinner-lite-0 .active.paper-spinner-lite .spinner-layer.layer-2.paper-spinner-lite {
  -webkit-animation: fill-unfill-rotate-paper-spinner-lite-0 5332ms cubic-bezier(0.4, 0.0, 0.2, 1) infinite both, layer-2-fade-in-out-paper-spinner-lite-0 5332ms cubic-bezier(0.4, 0.0, 0.2, 1) infinite both;
        animation: fill-unfill-rotate-paper-spinner-lite-0 5332ms cubic-bezier(0.4, 0.0, 0.2, 1) infinite both, layer-2-fade-in-out-paper-spinner-lite-0 5332ms cubic-bezier(0.4, 0.0, 0.2, 1) infinite both;
}

.paper-spinner-lite-0 .active.paper-spinner-lite .spinner-layer.layer-3.paper-spinner-lite {
  -webkit-animation: fill-unfill-rotate-paper-spinner-lite-0 5332ms cubic-bezier(0.4, 0.0, 0.2, 1) infinite both, layer-3-fade-in-out-paper-spinner-lite-0 5332ms cubic-bezier(0.4, 0.0, 0.2, 1) infinite both;
        animation: fill-unfill-rotate-paper-spinner-lite-0 5332ms cubic-bezier(0.4, 0.0, 0.2, 1) infinite both, layer-3-fade-in-out-paper-spinner-lite-0 5332ms cubic-bezier(0.4, 0.0, 0.2, 1) infinite both;
}

.paper-spinner-lite-0 .active.paper-spinner-lite .spinner-layer.layer-4.paper-spinner-lite {
  -webkit-animation: fill-unfill-rotate-paper-spinner-lite-0 5332ms cubic-bezier(0.4, 0.0, 0.2, 1) infinite both, layer-4-fade-in-out-paper-spinner-lite-0 5332ms cubic-bezier(0.4, 0.0, 0.2, 1) infinite both;
        animation: fill-unfill-rotate-paper-spinner-lite-0 5332ms cubic-bezier(0.4, 0.0, 0.2, 1) infinite both, layer-4-fade-in-out-paper-spinner-lite-0 5332ms cubic-bezier(0.4, 0.0, 0.2, 1) infinite both;
}

@-webkit-keyframes fill-unfill-rotate-paper-spinner-lite-0 {
12.5% {
  -webkit-transform: rotate(135deg);
}

25% {
  -webkit-transform: rotate(270deg);
}

37.5% {
  -webkit-transform: rotate(405deg);
}

50% {
  -webkit-transform: rotate(540deg);
}

62.5% {
  -webkit-transform: rotate(675deg);
}

75% {
  -webkit-transform: rotate(810deg);
}

87.5% {
  -webkit-transform: rotate(945deg);
}

to {
  -webkit-transform: rotate(1080deg);
}

}

@keyframes fill-unfill-rotate-paper-spinner-lite-0 {
12.5% {
  transform: rotate(135deg);
}

25% {
  transform: rotate(270deg);
}

37.5% {
  transform: rotate(405deg);
}

50% {
  transform: rotate(540deg);
}

62.5% {
  transform: rotate(675deg);
}

75% {
  transform: rotate(810deg);
}

87.5% {
  transform: rotate(945deg);
}

to {
  transform: rotate(1080deg);
}

}

@-webkit-keyframes layer-1-fade-in-out-paper-spinner-lite-0 {
from {
  opacity: 0.99;
}

25% {
  opacity: 0.99;
}

26% {
  opacity: 0;
}

89% {
  opacity: 0;
}

90% {
  opacity: 0.99;
}

100% {
  opacity: 0.99;
}

}

@keyframes layer-1-fade-in-out-paper-spinner-lite-0 {
from {
  opacity: 0.99;
}

25% {
  opacity: 0.99;
}

26% {
  opacity: 0;
}

89% {
  opacity: 0;
}

90% {
  opacity: 0.99;
}

100% {
  opacity: 0.99;
}

}

@-webkit-keyframes layer-2-fade-in-out-paper-spinner-lite-0 {
from {
  opacity: 0;
}

15% {
  opacity: 0;
}

25% {
  opacity: 0.99;
}

50% {
  opacity: 0.99;
}

51% {
  opacity: 0;
}

}

@keyframes layer-2-fade-in-out-paper-spinner-lite-0 {
from {
  opacity: 0;
}

15% {
  opacity: 0;
}

25% {
  opacity: 0.99;
}

50% {
  opacity: 0.99;
}

51% {
  opacity: 0;
}

}

@-webkit-keyframes layer-3-fade-in-out-paper-spinner-lite-0 {
from {
  opacity: 0;
}

40% {
  opacity: 0;
}

50% {
  opacity: 0.99;
}

75% {
  opacity: 0.99;
}

76% {
  opacity: 0;
}

}

@keyframes layer-3-fade-in-out-paper-spinner-lite-0 {
from {
  opacity: 0;
}

40% {
  opacity: 0;
}

50% {
  opacity: 0.99;
}

75% {
  opacity: 0.99;
}

76% {
  opacity: 0;
}

}

@-webkit-keyframes layer-4-fade-in-out-paper-spinner-lite-0 {
from {
  opacity: 0;
}

65% {
  opacity: 0;
}

75% {
  opacity: 0.99;
}

90% {
  opacity: 0.99;
}

100% {
  opacity: 0;
}

}

@keyframes layer-4-fade-in-out-paper-spinner-lite-0 {
from {
  opacity: 0;
}

65% {
  opacity: 0;
}

75% {
  opacity: 0.99;
}

90% {
  opacity: 0.99;
}

100% {
  opacity: 0;
}

}

.paper-spinner-lite-0 .gap-patch.paper-spinner-lite {
  position: absolute;
        box-sizing: border-box;
        top: 0;
        left: 45%;
        width: 10%;
        height: 100%;
        overflow: hidden;
        border-color: inherit;
}

.paper-spinner-lite-0 .gap-patch.paper-spinner-lite .circle.paper-spinner-lite {
  width: 1000%;
        left: -450%;
}

.paper-spinner-lite-0 .circle-clipper.paper-spinner-lite {
  display: inline-block;
        position: relative;
        width: 50%;
        height: 100%;
        overflow: hidden;
        border-color: inherit;
}

.paper-spinner-lite-0 .circle-clipper.paper-spinner-lite .circle.paper-spinner-lite {
  width: 200%;
}

.paper-spinner-lite-0 .circle.paper-spinner-lite {
  box-sizing: border-box;
        height: 100%;
        border-width: 3px; 
        border-style: solid;
        border-color: inherit;
        border-bottom-color: transparent !important;
        border-radius: 50%;
        -webkit-animation: none;
        animation: none;position: absolute;
      top: 0;
      right: 0;
      bottom: 0;
      left: 0;
}

.paper-spinner-lite-0 .circle-clipper.left.paper-spinner-lite .circle.paper-spinner-lite {
  border-right-color: transparent !important;
        -webkit-transform: rotate(129deg);
        transform: rotate(129deg);
}

.paper-spinner-lite-0 .circle-clipper.right.paper-spinner-lite .circle.paper-spinner-lite {
  left: -100%;
        border-left-color: transparent !important;
        -webkit-transform: rotate(-129deg);
        transform: rotate(-129deg);
}

.paper-spinner-lite-0 .active.paper-spinner-lite .circle-clipper.left.paper-spinner-lite .circle.paper-spinner-lite {
  -webkit-animation: left-spin-paper-spinner-lite-0 1333ms cubic-bezier(0.4, 0.0, 0.2, 1) infinite both;
        animation: left-spin-paper-spinner-lite-0 1333ms cubic-bezier(0.4, 0.0, 0.2, 1) infinite both;
}

.paper-spinner-lite-0 .active.paper-spinner-lite .circle-clipper.right.paper-spinner-lite .circle.paper-spinner-lite {
  -webkit-animation: right-spin-paper-spinner-lite-0 1333ms cubic-bezier(0.4, 0.0, 0.2, 1) infinite both;
        animation: right-spin-paper-spinner-lite-0 1333ms cubic-bezier(0.4, 0.0, 0.2, 1) infinite both;
}

@-webkit-keyframes left-spin-paper-spinner-lite-0 {
from {
  -webkit-transform: rotate(130deg);
}

50% {
  -webkit-transform: rotate(-5deg);
}

to {
  -webkit-transform: rotate(130deg);
}

}

@keyframes left-spin-paper-spinner-lite-0 {
from {
  transform: rotate(130deg);
}

50% {
  transform: rotate(-5deg);
}

to {
  transform: rotate(130deg);
}

}

@-webkit-keyframes right-spin-paper-spinner-lite-0 {
from {
  -webkit-transform: rotate(-130deg);
}

50% {
  -webkit-transform: rotate(5deg);
}

to {
  -webkit-transform: rotate(-130deg);
}

}

@keyframes right-spin-paper-spinner-lite-0 {
from {
  transform: rotate(-130deg);
}

50% {
  transform: rotate(5deg);
}

to {
  transform: rotate(-130deg);
}

}

.paper-spinner-lite-0 #spinnerContainer.cooldown.paper-spinner-lite {
  -webkit-animation: container-rotate-paper-spinner-lite-0 1568ms linear infinite, fade-out-paper-spinner-lite-0 400ms cubic-bezier(0.4, 0.0, 0.2, 1);
        animation: container-rotate-paper-spinner-lite-0 1568ms linear infinite, fade-out-paper-spinner-lite-0 400ms cubic-bezier(0.4, 0.0, 0.2, 1);
}

@-webkit-keyframes fade-out-paper-spinner-lite-0 {
from {
  opacity: 0.99;
}

to {
  opacity: 0;
}

}

@keyframes fade-out-paper-spinner-lite-0 {
from {
  opacity: 0.99;
}

to {
  opacity: 0;
}

}</style><!-- Shady DOM styles for vz-line-chart --><style scope="vz-line-chart">vz-line-chart {
  -webkit-user-select: none;
        -moz-user-select: none;
        display: flex;
        flex-direction: column;
        flex-grow: 1;
        flex-shrink: 1;
        position: relative;
        outline: none;
}

div.vz-line-chart {
  -webkit-user-select: none;
        -moz-user-select: none;
        flex-grow: 1;
        flex-shrink: 1;
}

td.vz-line-chart {
  padding-left: 5px;
        padding-right: 5px;
        font-size: 13px;
        opacity: 1;
}

#tooltip.vz-line-chart {
  pointer-events: none;
        position: absolute;
        opacity: 0;
        box-shadow: 0 1px 4px rgba(0, 0, 0, 0.3);
        font-size: 14px;
        background: rgba(0, 0, 0, 0.8);
        color: white;
        border-radius: 4px;
        line-height: 1.4em;
        padding: 8px;
        z-index: 5;
        cursor: none;
        margin-top: 10px;
}

.swatch.vz-line-chart {
  border-radius: 50%;
        width: 14px;
        height: 14px;
        display: block;
        border: 2px solid rgba(0,0,0,0);
}

.closest.vz-line-chart .swatch.vz-line-chart {
  border: 2px solid white;
}

th.vz-line-chart {
  padding-left: 5px;
        padding-right: 5px;
        text-align: left;
}

.distant.vz-line-chart td.vz-line-chart {
  opacity: 0.8;
}

.distant.vz-line-chart td.swatch.vz-line-chart {
  opacity: 1;
}

.ghost.vz-line-chart {
  opacity: 0.2;
        stroke-width: 1px;
}

#chartdiv.vz-line-chart line.guide-line.vz-line-chart {
  stroke: #999;
        stroke-width: 1.5px;
}</style><!-- Shady DOM styles for tf-line-chart-data-loader --><style scope="tf-line-chart-data-loader">tf-line-chart-data-loader {
  height: 100%;
        width: 100%;
        display: flex;
        flex-direction: column;
}

tf-line-chart-data-loader[_maybe-rendered-in-bad-state] vz-line-chart.tf-line-chart-data-loader {
  visibility: hidden;
}

#chart-and-spinner-container.tf-line-chart-data-loader {
  display: flex;
        flex-grow: 1;
        position: relative;
}

#loading-spinner-container.tf-line-chart-data-loader {
  align-items: center;
        bottom: 0;
        display: flex;
        display: flex;
        justify-content: center;
        left: 0;
        pointer-events: none;
        position: absolute;
        right: 0;
        top: 0;
}

vz-line-chart.tf-line-chart-data-loader {
  -webkit-user-select: none;
        -moz-user-select: none;
}</style><!-- Shady DOM styles for paper-dialog-scrollable --><style scope="paper-dialog-scrollable-0">.paper-dialog-scrollable-0 {
  display: block;position: relative;
}

.paper-dialog-scrollable-0.is-scrolled:not(:first-child)::before {
  content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 1px;
        background: #dbdbdb;
}

.paper-dialog-scrollable-0.can-scroll:not(.scrolled-to-bottom):not(:last-child)::after {
  content: '';
        position: absolute;
        bottom: 0;
        left: 0;
        right: 0;
        height: 1px;
        background: #dbdbdb;
}

.paper-dialog-scrollable-0 .scrollable.paper-dialog-scrollable {
  padding: 0 24px;-webkit-overflow-scrolling: touch;
      overflow: auto;;
}

.paper-dialog-scrollable-0 .fit.paper-dialog-scrollable {
  position: absolute;
      top: 0;
      right: 0;
      bottom: 0;
      left: 0;
}</style><!-- Shady DOM styles for tf-markdown-view --><style scope="tf-markdown-view">#markdown.tf-markdown-view > p.tf-markdown-view:first-child {
  margin-top: 0.3em;
}

#markdown.tf-markdown-view > p.tf-markdown-view:last-child {
  margin-bottom: 0.3em;
}

#markdown.tf-markdown-view table.tf-markdown-view {
  border-collapse: collapse;
}

#markdown.tf-markdown-view table.tf-markdown-view th.tf-markdown-view {
  font-weight: 600;
}

#markdown.tf-markdown-view table.tf-markdown-view th.tf-markdown-view,#markdown.tf-markdown-view table.tf-markdown-view td.tf-markdown-view {
  padding: 6px 13px;
        border: 1px solid #dfe2e5;
}

#markdown.tf-markdown-view table.tf-markdown-view tr.tf-markdown-view {
  background-color: #fff;
        border-top: 1px solid #c6cbd1;
}</style><!-- Shady DOM styles for tf-card-heading --><style scope="tf-card-heading">figcaption.tf-card-heading {
  width: 100%;
}

.heading-row.tf-card-heading {
  margin-top: -4px;
        display: flex;
        flex-direction: row;
        flex-wrap: wrap;
}

.heading-label.tf-card-heading {
  flex-grow: 1;
        margin-top: 4px;
        max-width: 100%;
        word-wrap: break-word;
}

.heading-right.tf-card-heading {
  flex-grow: 0;
}

.container.tf-card-heading {
  display: flex;
}

.content.tf-card-heading {
  font-size: 12px;
        flex-grow: 1;
}

.name.tf-card-heading {
  font-size: 14px;
}

.run.tf-card-heading {
  font-size: 11px;
        width: auto;
        border-radius: 3px;
        font-weight: bold;
        padding: 1px 4px 2px;
}

paper-icon-button.tf-card-heading {
  flex-grow: 0;
}

paper-dialog-scrollable.tf-card-heading {
  max-width: 640px;
}</style><!-- Shady DOM styles for tf-scalar-card --><style scope="tf-scalar-card-0">.tf-scalar-card-0 {
  margin: 5px;
      display: block;
      width: 330px;
}

.tf-scalar-card-0[_expanded] {
  width: 100%;
}

.tf-scalar-card-0[_expanded] #tf-line-chart-data-loader-container.tf-scalar-card {
  height: 400px;
}

.tf-scalar-card-0 #tf-line-chart-data-loader-container.tf-scalar-card {
  height: 200px;
      width: 100%;
}

.tf-scalar-card-0 tf-card-heading.tf-scalar-card {
  display: block;
      margin-bottom: 10px;
}

.tf-scalar-card-0 #buttons.tf-scalar-card {
  display: flex;
      flex-direction: row;
}

.tf-scalar-card-0 paper-icon-button.tf-scalar-card {
  color: #2196F3;
      border-radius: 100%;
      width: 32px;
      height: 32px;
      padding: 4px;
}

.tf-scalar-card-0 paper-icon-button[selected].tf-scalar-card {
  background: #e0e0e0;
}

.tf-scalar-card-0 .download-links.tf-scalar-card {
  display: flex;
      height: 32px;
}

.tf-scalar-card-0 .download-links.tf-scalar-card a.tf-scalar-card {
  font-size: 10px;
      align-self: center;
      margin: 2px;
}

.tf-scalar-card-0 .download-links.tf-scalar-card paper-dropdown-menu.tf-scalar-card {
  width: 100px
}</style><!-- Shady DOM styles for paper-progress --><style scope="paper-progress-0">.paper-progress-0 {
  display: block;
        width: 200px;
        position: relative;
        overflow: hidden;
}

.paper-progress-0 #progressContainer.paper-progress {
  position: relative;
}

.paper-progress-0 #progressContainer.paper-progress,.paper-progress-0 .indeterminate.paper-progress::after {
  height: 2px;
}

.paper-progress-0 #primaryProgress.paper-progress,.paper-progress-0 #secondaryProgress.paper-progress,.paper-progress-0 .indeterminate.paper-progress::after {
  position: absolute;
      top: 0;
      right: 0;
      bottom: 0;
      left: 0;
}

.paper-progress-0 #progressContainer.paper-progress,.paper-progress-0 .indeterminate.paper-progress::after {
  background: #bdbdbd;
}

.paper-progress-0.transiting #primaryProgress.paper-progress,.paper-progress-0.transiting #secondaryProgress.paper-progress {
  -webkit-transition-property: -webkit-transform;
        transition-property: transform;

        
        -webkit-transition-duration: 0.08s;
        transition-duration: 0.08s;

        
        -webkit-transition-timing-function: ease;
        transition-timing-function: ease;

        
        -webkit-transition-delay: 0s;
        transition-delay: 0s;
}

.paper-progress-0 #primaryProgress.paper-progress,.paper-progress-0 #secondaryProgress.paper-progress {
  position: absolute;
      top: 0;
      right: 0;
      bottom: 0;
      left: 0;
        -webkit-transform-origin: left center;
        transform-origin: left center;
        -webkit-transform: scaleX(0);
        transform: scaleX(0);
        will-change: transform;
}

.paper-progress-0 #primaryProgress.paper-progress {
  background: #f57c00;
}

.paper-progress-0 #secondaryProgress.paper-progress {
  background: #7baaf7;
}

.paper-progress-0[disabled] #primaryProgress.paper-progress {
  background: #bdbdbd;
}

.paper-progress-0[disabled] #secondaryProgress.paper-progress {
  background: #bdbdbd;
}

.paper-progress-0:not([disabled]) #primaryProgress.indeterminate.paper-progress {
  -webkit-transform-origin: right center;
        transform-origin: right center;
        -webkit-animation: indeterminate-bar-paper-progress-0 2s linear infinite;
        animation: indeterminate-bar-paper-progress-0 2s linear infinite;
}

.paper-progress-0:not([disabled]) #primaryProgress.indeterminate.paper-progress::after {
  content: "";
        -webkit-transform-origin: center center;
        transform-origin: center center;

        -webkit-animation: indeterminate-splitter-paper-progress-0 2s linear infinite;
        animation: indeterminate-splitter-paper-progress-0 2s linear infinite;
}

@-webkit-keyframes indeterminate-bar-paper-progress-0 {
0% {
  -webkit-transform: scaleX(1) translateX(-100%);
}

50% {
  -webkit-transform: scaleX(1) translateX(0%);
}

75% {
  -webkit-transform: scaleX(1) translateX(0%);
          -webkit-animation-timing-function: cubic-bezier(.28,.62,.37,.91);
}

100% {
  -webkit-transform: scaleX(0) translateX(0%);
}

}

@-webkit-keyframes indeterminate-splitter-paper-progress-0 {
0% {
  -webkit-transform: scaleX(.75) translateX(-125%);
}

30% {
  -webkit-transform: scaleX(.75) translateX(-125%);
          -webkit-animation-timing-function: cubic-bezier(.42,0,.6,.8);
}

90% {
  -webkit-transform: scaleX(.75) translateX(125%);
}

100% {
  -webkit-transform: scaleX(.75) translateX(125%);
}

}

@keyframes indeterminate-bar-paper-progress-0 {
0% {
  transform: scaleX(1) translateX(-100%);
}

50% {
  transform: scaleX(1) translateX(0%);
}

75% {
  transform: scaleX(1) translateX(0%);
          animation-timing-function: cubic-bezier(.28,.62,.37,.91);
}

100% {
  transform: scaleX(0) translateX(0%);
}

}

@keyframes indeterminate-splitter-paper-progress-0 {
0% {
  transform: scaleX(.75) translateX(-125%);
}

30% {
  transform: scaleX(.75) translateX(-125%);
          animation-timing-function: cubic-bezier(.42,0,.6,.8);
}

90% {
  transform: scaleX(.75) translateX(125%);
}

100% {
  transform: scaleX(.75) translateX(125%);
}

}</style><!-- Shady DOM styles for paper-slider --><style scope="paper-slider-0">.paper-slider-0 {
  display: -ms-flexbox;
      display: -webkit-flex;
      display: flex;-ms-flex-pack: justify;
      -webkit-justify-content: space-between;
      justify-content: space-between;-ms-flex-align: center;
      -webkit-align-items: center;
      align-items: center;
        width: 200px;
        cursor: default;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        user-select: none;
        -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
}

.paper-slider-0:focus {
  outline: none;
}

.paper-slider-0 #sliderContainer.paper-slider {
  position: relative;
        width: 100%;
        height: calc(30px + 2px);
        margin-left: calc(15px + 2px/2);
        margin-right: calc(15px + 2px/2);
}

.paper-slider-0 #sliderContainer.paper-slider:focus {
  outline: 0;
}

.paper-slider-0 #sliderContainer.editable.paper-slider {
  margin-top: 12px;
        margin-bottom: 12px;
}

.paper-slider-0 .bar-container.paper-slider {
  position: absolute;
        top: 0;
        bottom: 0;
        left: 0;
        right: 0;
        overflow: hidden;
}

.paper-slider-0 .ring.paper-slider > .bar-container.paper-slider {
  left: calc(5px + 2px/2);
        transition: left 0.18s ease;
}

.paper-slider-0 .ring.expand.dragging.paper-slider > .bar-container.paper-slider {
  transition: none;
}

.paper-slider-0 .ring.expand.paper-slider:not(.pin) > .bar-container.paper-slider {
  left: calc(8px + 2px/2);
}

.paper-slider-0 #sliderBar.paper-slider {
  padding: 15px 0;
        width: 100%;
        background-color: transparent;
}

.paper-slider-0 .slider-markers.paper-slider {
  position: absolute;
        top: calc(14px + 2px/2);
        height: 2px;
        left: 0;
        right: -1px;
        box-sizing: border-box;
        pointer-events: none;display: -ms-flexbox;
      display: -webkit-flex;
      display: flex;

      -ms-flex-direction: row;
      -webkit-flex-direction: row;
      flex-direction: row;
}

.paper-slider-0 .slider-marker.paper-slider {
  -ms-flex: 1 1 0.000000001px;
      -webkit-flex: 1;
      flex: 1;
      -webkit-flex-basis: 0.000000001px;
      flex-basis: 0.000000001px;
}

.paper-slider-0 .slider-markers.paper-slider::after,.paper-slider-0 .slider-marker.paper-slider::after {
  content: "";
        display: block;
        margin-left: -1px;
        width: 2px;
        height: 2px;
        border-radius: 50%;
        background-color: #000;
}

.paper-slider-0 .slider-knob.paper-slider {
  position: absolute;
        left: 0;
        top: 0;
        margin-left: calc(-15px - 2px/2);
        width: calc(30px + 2px);
        height: calc(30px + 2px);
}

.paper-slider-0 .transiting.paper-slider > .slider-knob.paper-slider {
  transition: left 0.08s ease;
}

.paper-slider-0 .slider-knob.paper-slider:focus {
  outline: none;
}

.paper-slider-0 .slider-knob.dragging.paper-slider {
  transition: none;
}

.paper-slider-0 .snaps.paper-slider > .slider-knob.dragging.paper-slider {
  transition: -webkit-transform 0.08s ease;
        transition: transform 0.08s ease;
}

.paper-slider-0 .slider-knob-inner.paper-slider {
  margin: 10px;
        width: calc(100% - 20px);
        height: calc(100% - 20px);
        background-color: #f57c00;
        border: 2px solid #f57c00;
        border-radius: 50%;

        -moz-box-sizing: border-box;
        box-sizing: border-box;

        transition-property: -webkit-transform, background-color, border;
        transition-property: transform, background-color, border;
        transition-duration: 0.18s;
        transition-timing-function: ease;
}

.paper-slider-0 .expand.paper-slider:not(.pin) > .slider-knob.paper-slider > .slider-knob-inner.paper-slider {
  -webkit-transform: scale(1.5);
        transform: scale(1.5);
}

.paper-slider-0 .ring.paper-slider > .slider-knob.paper-slider > .slider-knob-inner.paper-slider {
  background-color: transparent;
        border: 2px solid #bdbdbd;
}

.paper-slider-0 .slider-knob-inner.paper-slider::before {
  background-color: #3367d6;
}

.paper-slider-0 .pin.paper-slider > .slider-knob.paper-slider > .slider-knob-inner.paper-slider::before {
  content: "";
        position: absolute;
        top: 0;
        left: 50%;
        margin-left: -13px;
        width: 26px;
        height: 26px;
        border-radius: 50% 50% 50% 0;

        -webkit-transform: rotate(-45deg) scale(0) translate(0);
        transform: rotate(-45deg) scale(0) translate(0);
}

.paper-slider-0 .slider-knob-inner.paper-slider::before,.paper-slider-0 .slider-knob-inner.paper-slider::after {
  transition: -webkit-transform .18s ease, background-color .18s ease;
        transition: transform .18s ease, background-color .18s ease;
}

.paper-slider-0 .pin.ring.paper-slider > .slider-knob.paper-slider > .slider-knob-inner.paper-slider::before {
  background-color: #bdbdbd;
}

.paper-slider-0 .pin.expand.paper-slider > .slider-knob.paper-slider > .slider-knob-inner.paper-slider::before {
  -webkit-transform: rotate(-45deg) scale(1) translate(17px, -17px);
        transform: rotate(-45deg) scale(1) translate(17px, -17px);
}

.paper-slider-0 .pin.paper-slider > .slider-knob.paper-slider > .slider-knob-inner.paper-slider::after {
  content: attr(value);
        position: absolute;
        top: 0;
        left: 50%;
        margin-left: -16px;
        width: 32px;
        height: 26px;
        text-align: center;
        color: #fff;
        font-size: 10px;

        -webkit-transform: scale(0) translate(0);
        transform: scale(0) translate(0);
}

.paper-slider-0 .pin.expand.paper-slider > .slider-knob.paper-slider > .slider-knob-inner.paper-slider::after {
  -webkit-transform: scale(1) translate(0, -17px);
        transform: scale(1) translate(0, -17px);
}

.paper-slider-0 .slider-input.paper-slider {
  width: 50px;
        overflow: hidden;;
}

.paper-slider-0 #sliderContainer.disabled.paper-slider {
  pointer-events: none;
}

.paper-slider-0 .disabled.paper-slider > .slider-knob.paper-slider > .slider-knob-inner.paper-slider {
  background-color: #bdbdbd;
        border: 2px solid #bdbdbd;
        -webkit-transform: scale3d(0.75, 0.75, 1);
        transform: scale3d(0.75, 0.75, 1);
}

.paper-slider-0 .disabled.ring.paper-slider > .slider-knob.paper-slider > .slider-knob-inner.paper-slider {
  background-color: transparent;
        border: 2px solid #bdbdbd;
}

.paper-slider-0 paper-ripple.paper-slider {
  color: #f57c00;
}</style><!-- Shady DOM styles for tf-smoothing-input --><style scope="tf-smoothing-input-0">.tf-smoothing-input-0 .title.tf-smoothing-input {
  color: #424242;
        margin: 0;
        font-weight: normal;
        font-size: 14px;
        margin-bottom: 5px;
}

.tf-smoothing-input-0 .smoothing-block.tf-smoothing-input {
  display: flex;
}

.tf-smoothing-input-0 paper-slider.tf-smoothing-input {
  margin-left: 12px;
        flex-grow: 2;
}

.tf-smoothing-input-0 paper-input.tf-smoothing-input {
  ;
        width: 60px;
}</style><!-- Shady DOM styles for tf-scalar-dashboard --><style scope="tf-scalar-dashboard">.sidebar.tf-scalar-dashboard {
  display: flex;
        flex-direction: column;
        height: 100%;
        margin-right: 20px;
        min-width: 350px;
}

tf-runs-selector.tf-scalar-dashboard {
  flex-shrink: 1;
        flex-grow: 1;
}

.search-input.tf-scalar-dashboard {
  margin: 10px 5px 0 10px;
}

.sidebar-section.tf-scalar-dashboard {
  border-top: solid 1px rgba(0, 0, 0, 0.12);
        padding: 15px 0px 15px 30px;
}

.sidebar-section.tf-scalar-dashboard:first-child {
  border: none;
}

.sidebar-section.tf-scalar-dashboard:last-child {
  flex-grow: 1;
        display: flex;
}

paper-checkbox.tf-scalar-dashboard {
  font-size: 14px;
        margin-top: 5px;
}

#tooltip-sorting.tf-scalar-dashboard {
  display: flex;
        font-size: 14px;
        margin-top: 5px;
}

#tooltip-sorting-label.tf-scalar-dashboard {
  margin-top: 13px;
}

#tooltip-sorting.tf-scalar-dashboard paper-dropdown-menu.tf-scalar-dashboard {
  margin-left: 10px;
        
        width: 105px;
}

#x-type-selector.tf-scalar-dashboard paper-button.tf-scalar-dashboard {
  margin: 5px 3px;
}

.line-item.tf-scalar-dashboard {
  display: block;
        padding-top: 5px;
}

.no-data-warning.tf-scalar-dashboard {
  max-width: 540px;
        margin: 80px auto 0 auto;
}</style><!-- Shady DOM styles for paper-toggle-button --><!-- Shady DOM styles for tf-regex-group --><!-- Shady DOM styles for tf-image-loader --><!-- Shady DOM styles for tf-image-dashboard --><style scope="tf-image-dashboard">.sidebar.tf-image-dashboard {
  display: flex;
        flex-direction: column;
        height: 100%;
        margin-right: 20px;
        min-width: 350px;
}

tf-runs-selector.tf-image-dashboard {
  flex-shrink: 1;
        flex-grow: 1;
}

.search-input.tf-image-dashboard {
  margin: 10px 5px 0 10px;
}

.sidebar-section.tf-image-dashboard {
  border-top: solid 1px rgba(0, 0, 0, 0.12);
        padding: 15px 0px 15px 30px;
}

.sidebar-section.tf-image-dashboard:first-child {
  border: none;
}

.sidebar-section.tf-image-dashboard:last-child {
  flex-grow: 1;
        display: flex;
}

paper-checkbox.tf-image-dashboard {
  font-size: 14px;
        margin-top: 5px;
}

.no-data-warning.tf-image-dashboard {
  max-width: 540px;
        margin: 80px auto 0 auto;
}</style><!-- Shady DOM styles for tf-audio-loader --><style scope="tf-audio-loader">figcaption.tf-audio-loader {
  width: 100%;
}

.heading-row.tf-audio-loader {
  margin-top: -4px;
        display: flex;
        flex-direction: row;
        flex-wrap: wrap;
}

.heading-label.tf-audio-loader {
  flex-grow: 1;
        margin-top: 4px;
        max-width: 100%;
        word-wrap: break-word;
}

.heading-right.tf-audio-loader {
  flex-grow: 0;
}

tf-audio-loader {
  display: block;
        width: 350px;
        height: auto;
        position: relative;
        
        margin-right: 15px;
        margin-bottom: 15px;
}

#steps.tf-audio-loader {
  height: 15px;
        margin: 0 0 0 -15px;
        width: 100%;
        box-sizing: border-box;
        padding: 0 5px;  
        margin-top: 5px;
}</style><!-- Shady DOM styles for tf-audio-dashboard --><style scope="tf-audio-dashboard">.sidebar.tf-audio-dashboard {
  display: flex;
        flex-direction: column;
        height: 100%;
        margin-right: 20px;
        min-width: 350px;
}

tf-runs-selector.tf-audio-dashboard {
  flex-shrink: 1;
        flex-grow: 1;
}

.search-input.tf-audio-dashboard {
  margin: 10px 5px 0 10px;
}

.sidebar-section.tf-audio-dashboard {
  border-top: solid 1px rgba(0, 0, 0, 0.12);
        padding: 15px 0px 15px 30px;
}

.sidebar-section.tf-audio-dashboard:first-child {
  border: none;
}

.sidebar-section.tf-audio-dashboard:last-child {
  flex-grow: 1;
        display: flex;
}

paper-checkbox.tf-audio-dashboard {
  font-size: 14px;
        margin-top: 5px;
}

.no-data-warning.tf-audio-dashboard {
  max-width: 540px;
        margin: 80px auto 0 auto;
}</style><!-- Shady DOM styles for tf-graph-debugger-data-card --><style scope="tf-graph-debugger-data-card">tf-graph-debugger-data-card {
  font-size: 12px;
  margin: 0;
  padding: 0;
  display: block;
}

h2.tf-graph-debugger-data-card {
  padding: 0;
  text-align: center;
  margin: 0;
}

.health-pill-legend.tf-graph-debugger-data-card {
  padding: 15px;
}

.health-pill-legend.tf-graph-debugger-data-card h2.tf-graph-debugger-data-card {
  text-align: left;
}

.health-pill-entry.tf-graph-debugger-data-card {
  margin: 10px 10px 10px 0;
}

.health-pill-entry.tf-graph-debugger-data-card .color-preview.tf-graph-debugger-data-card {
  width: 26px;
  height: 26px;
  border-radius: 3px;
  display: inline-block;
  margin: 0 10px 0 0;
}

.health-pill-entry.tf-graph-debugger-data-card .color-label.tf-graph-debugger-data-card,.health-pill-entry.tf-graph-debugger-data-card .tensor-count.tf-graph-debugger-data-card {
  color: #777;
  display: inline-block;
  height: 26px;
  font-size: 22px;
  line-height: 26px;
  vertical-align: top;
}

.health-pill-entry.tf-graph-debugger-data-card .tensor-count.tf-graph-debugger-data-card {
  float: right;
}

#health-pill-step-slider.tf-graph-debugger-data-card {
  width: 100%;
  margin: 0 0 0 -15px;
  
  width: calc(100% + 31px);
}

#health-pills-loading-spinner.tf-graph-debugger-data-card {
  width: 20px;
  height: 20px;
  vertical-align: top;
}

#health-pill-step-number-input.tf-graph-debugger-data-card {
  text-align: center;
  vertical-align: top;
}

#numeric-alerts-table-container.tf-graph-debugger-data-card {
  max-height: 400px;
  overflow-x: hidden;
  overflow-y: auto;
}

#numeric-alerts-table.tf-graph-debugger-data-card {
  text-align: left;
}

#numeric-alerts-table.tf-graph-debugger-data-card td.tf-graph-debugger-data-card {
  vertical-align: top;
}

#numeric-alerts-table.tf-graph-debugger-data-card .first-offense-td.tf-graph-debugger-data-card {
  display: inline-block;
}

.first-offense-td.tf-graph-debugger-data-card {
  width: 80px;
}

.tensor-device-td.tf-graph-debugger-data-card {
  max-width: 140px;
  word-wrap : break-word;
}

.tensor-section-within-table.tf-graph-debugger-data-card {
  color: #266236;
  cursor: pointer;
  opacity: 0.8;
  text-decoration: underline;
}

.tensor-section-within-table.tf-graph-debugger-data-card:hover {
  opacity: 1;
}

.device-section-within-table.tf-graph-debugger-data-card {
  color: #666;
}

.mini-health-pill.tf-graph-debugger-data-card {
  width: 130px;
}

.mini-health-pill.tf-graph-debugger-data-card > div.tf-graph-debugger-data-card {
  height: 100%;
  width: 60px;
  border-radius: 3px;
}

#event-counts-th.tf-graph-debugger-data-card {
  padding: 0 0 0 10px;
}

.negative-inf-mini-health-pill-section.tf-graph-debugger-data-card {
  background: rgb(255, 141, 0);
  width: 20px;
}

.positive-inf-mini-health-pill-section.tf-graph-debugger-data-card {
  background: rgb(0, 62, 212);
  width: 20px;
}

.nan-mini-health-pill-section.tf-graph-debugger-data-card {
  background: rgb(204, 47, 44);
  width: 20px;
}

.negative-inf-mini-health-pill-section.tf-graph-debugger-data-card,.positive-inf-mini-health-pill-section.tf-graph-debugger-data-card,.nan-mini-health-pill-section.tf-graph-debugger-data-card {
  color: #fff;
  display: inline-block;
  height: 100%;
  line-height: 20px;
  margin: 0 0 0 10px;
  text-align: center;
}

.no-numeric-alerts-notification.tf-graph-debugger-data-card {
  margin: 0;
}</style><!-- Shady DOM styles for iron-list --><!-- Shady DOM styles for paper-item-body --><!-- Shady DOM styles for tf-graph-icon --><!-- Shady DOM styles for tf-graph-op-compat-list-item --><!-- Shady DOM styles for tf-graph-op-compat-card --><style scope="tf-graph-op-compat-card">tf-graph-op-compat-card {
  max-height: 500px;
}

.incompatible-ops-list.tf-graph-op-compat-card {
  height: 350px;
  max-height: 400px;
  overflow-y: scroll;
  display: flex;
  flex-direction: column;
}

iron-list.tf-graph-op-compat-card {
  flex: 1 1 auto;
}

paper-item.tf-graph-op-compat-card {
  padding: 0;
  background: #e9e9e9;
}

paper-item-body[two-line].tf-graph-op-compat-card {
  min-height: 0;
  padding: 8px 12px 4px;
}

.expandedInfo.tf-graph-op-compat-card {
  padding: 8px 12px;
  font-weight: 500;
  font-size: 12pt;
  width: 100%;
}

.node-name.tf-graph-op-compat-card {
  white-space: normal;
  word-wrap: break-word;
  font-size: 14pt;
  font-weight: 500;
}

.subtitle.tf-graph-op-compat-card {
  font-size: 12pt;
  color: #5e5e5e;
}

.toggle-button.tf-graph-op-compat-card {
  float: right;
  max-height: 20px;
  max-width: 20px;
  padding: 0;
}

.non-control-list-item.tf-graph-op-compat-card {
  padding-left: 10px;
}

div.op-compat-display.tf-graph-op-compat-card {
  margin-top: 10px;
  display: inline-block;
}

svg.op-compat.tf-graph-op-compat-card {
  width: 250px;
  height: 25px;
  float: left;
}

div.op-compat-value.tf-graph-op-compat-card {
  float: right;
  height: 100%;
  font-size: 14px;
  color: black;
  margin-left: 10px;
}</style><!-- Shady DOM styles for tf-node-list-item --><!-- Shady DOM styles for tf-node-info --><!-- Shady DOM styles for tf-graph-info --><style scope="tf-graph-info">tf-graph-info {
  font-size: 12px;
  margin: 0;
  padding: 0;
  display: block;
  max-height: 650px;
  overflow-x: hidden;
  overflow-y: auto;
}

h2.tf-graph-info {
  padding: 0;
  text-align: center;
  margin: 0;
}</style><!-- Shady DOM styles for tf-graph-minimap --><style scope="tf-graph-minimap">tf-graph-minimap {
  background-color:white;
  transition: opacity .3s linear;
  pointer-events: auto;
}

tf-graph-minimap.hidden {
  opacity: 0;
  pointer-events: none;
}

canvas.tf-graph-minimap {
  border: 1px solid #999;
}

rect.tf-graph-minimap {
  fill: white;
  stroke: #111111;
  stroke-width: 1px;
  fill-opacity: 0;
  filter: url('#minimapDropShadow');
  cursor: move;
}

svg.tf-graph-minimap {
  position: absolute;
}</style><!-- Shady DOM styles for tf-graph-scene --><style scope="tf-graph-scene">tf-graph-scene {
  display: flex;
  width: 100%;
  font-size: 20px;
}

tf-graph-scene  #svg {
  overflow: hidden;
  flex: 1;
  height: 100%;
  width: 100%;
}

tf-graph-scene  #hidden {
  position: fixed;
  top: 0px;
  visibility: hidden;
}

tf-graph-scene  .meta > .nodeshape > rect,tf-graph-scene  .meta > .annotation-node > rect {
  cursor: pointer;
  fill: hsl(0, 0%, 70%);
}

tf-graph-scene  .node.meta.highlighted > .nodeshape > rect,tf-graph-scene  .node.meta.highlighted > .annotation-node > rect {
  stroke-width: 2;
}

tf-graph-scene  .annotation.meta.highlighted > .nodeshape > rect,tf-graph-scene  .annotation.meta.highlighted > .annotation-node > rect {
  stroke-width: 1;
}

tf-graph-scene  .meta.selected > .nodeshape > rect,tf-graph-scene  .meta.selected > .annotation-node > rect {
  stroke: red;
  stroke-width: 2;
}

tf-graph-scene  .node.meta.selected.expanded > .nodeshape > rect,tf-graph-scene  .node.meta.selected.expanded > .annotation-node > rect {
  stroke: red;
  stroke-width: 3;
}

tf-graph-scene  .annotation.meta.selected > .nodeshape > rect,tf-graph-scene  .annotation.meta.selected > .annotation-node > rect {
  stroke: red;
  stroke-width: 2;
}

tf-graph-scene  .node.meta.selected.expanded.highlighted > .nodeshape > rect,tf-graph-scene  .node.meta.selected.expanded.highlighted > .annotation-node > rect {
  stroke: red;
  stroke-width: 4;
}

tf-graph-scene  .faded,tf-graph-scene  .faded rect,tf-graph-scene  .faded ellipse,tf-graph-scene  .faded path,tf-graph-scene  .faded use,tf-graph-scene  #rectHatch line,tf-graph-scene  #ellipseHatch line {
  color: #e0d4b3 !important;
  fill: white;
  stroke: #e0d4b3 !important;
}

tf-graph-scene  .faded path {
  stroke-width: 1px !important;
}

tf-graph-scene  .faded rect {
  fill: url('#rectHatch') !important;
}

tf-graph-scene  .faded ellipse,tf-graph-scene  .faded use {
  fill: url('#ellipseHatch') !important;
}

tf-graph-scene  .faded text {
  opacity: 0;
}

tf-graph-scene  .input-highlight > * > rect,tf-graph-scene  .input-highlight > * > ellipse,tf-graph-scene  .input-highlight > * > use {
  fill: white;
  stroke: #ff9800 !important;
}

tf-graph-scene  .non-input > * > rect,tf-graph-scene  .non-input > * > ellipse,tf-graph-scene  .non-input > * > use,tf-graph-scene  .non-input > * > .constant:not([class*="input-highlight"]) > .annotation-node > ellipse,tf-graph-scene  .non-input > g > .annotation > .annotation-node > rect {
  stroke: #e0d4b3 !important;
  stroke-width: inherit;
  stroke-dasharray: inherit;
}

tf-graph-scene  .non-input path {
  visibility: hidden;
}

tf-graph-scene  .non-input > .nodeshape > rect,tf-graph-scene  .non-input > .annotation-node > rect,tf-graph-scene  .non-input > g > .annotation > .annotation-node > rect {
  fill: url('#rectHatch') !important;
}

tf-graph-scene  .non-input ellipse,tf-graph-scene  .non-input use {
  fill: url('#ellipseHatch') !important;
}

tf-graph-scene  .non-input > text {
  opacity: 0;
}

tf-graph-scene  .non-input .annotation > .annotation-edge {
  marker-end: url('#annotation-arrowhead-faded');
}

tf-graph-scene  .non-input .annotation > .annotation-edge.refline {
  marker-start: url('#ref-annotation-arrowhead-faded');
}

tf-graph-scene  .input-edge-highlight > text {
  fill: black !important;
}

tf-graph-scene  .input-highlight > .in-annotations > .annotation > .annotation-edge,tf-graph-scene  .input-highlight-selected > .in-annotations > .annotation > .annotation-edge {
  stroke: #999 !important;
}

tf-graph-scene  .non-input-edge-highlight,tf-graph-scene  .non-input > g > .annotation > path,tf-graph-scene  .non-input > g > .annotation:not(.input-highlight):not(.input-highlight-selected) > .annotation-label {
  visibility: hidden;
}

tf-graph-scene  .op > .nodeshape > .nodecolortarget,tf-graph-scene  .op > .annotation-node > .nodecolortarget {
  cursor: pointer;
  fill: #fff;
  stroke: #ccc;
}

tf-graph-scene  .op.selected > .nodeshape > .nodecolortarget,tf-graph-scene  .op.selected > .annotation-node > .nodecolortarget {
  stroke: red;
  stroke-width: 2;
}

tf-graph-scene  .op.highlighted > .nodeshape > .nodecolortarget,tf-graph-scene  .op.highlighted > .annotation-node > .nodecolortarget {
  stroke-width: 2;
}

tf-graph-scene  .series > .nodeshape > rect {
  fill: hsl(0, 0%, 70%);
  fill-opacity: 0;
  stroke-dasharray: 5, 5;
  stroke-opacity: 0;
  cursor: pointer;
}

tf-graph-scene  .series.expanded > .nodeshape > rect {
  fill-opacity: 0.15;
  stroke: hsl(0, 0%, 70%);
  stroke-opacity: 1;
}

tf-graph-scene  .series.expanded > .nodeshape > use {
  visibility: hidden;
}

tf-graph-scene  .series > .nodeshape > use,tf-graph-scene  .series > .annotation-node > use {
  stroke: #ccc;
}

tf-graph-scene  .series.highlighted > .nodeshape > use,tf-graph-scene  .series.highlighted > .annotation-node > use {
  stroke-width: 2;
}

tf-graph-scene  .series.selected > .nodeshape > use,tf-graph-scene  .series.selected > .annotation-node > use {
  stroke: red;
  stroke-width: 2;
}

tf-graph-scene  .series.selected > .nodeshape > rect {
  stroke: red;
  stroke-width: 2;
}

tf-graph-scene  .annotation.series.selected > .annotation-node > use {
  stroke: red;
  stroke-width: 2;
}

tf-graph-scene  .bridge > .nodeshape > rect {
  stroke: #f0f;
  opacity: 0.2;
  display: none;
}

tf-graph-scene  .edge > path.edgeline.structural {
  stroke: #f0f;
  opacity: 0.2;
  display: none;
}

tf-graph-scene  .edge > path.edgeline.referenceedge {
  stroke: #FFB74D;
  opacity: 1;
}

tf-graph-scene  .series > .annotation-node > rect {
  display: none;
}

tf-graph-scene  .node > text.nodelabel {
  cursor: pointer;
  fill: #444;
}

tf-graph-scene  .meta.expanded > text.nodelabel {
  font-size: 9px;
}

tf-graph-scene  .series > text.nodelabel {
  font-size: 8px;
}

tf-graph-scene  .op > text.nodelabel {
  font-size: 6px;
}

tf-graph-scene  .bridge > text.nodelabel {
  display: none;
}

tf-graph-scene  .node.meta.expanded > text.nodelabel {
  cursor: normal;
}

tf-graph-scene  .annotation.meta.highlighted > text.annotation-label {
  fill: #50A3F7;
}

tf-graph-scene  .annotation.meta.selected > text.annotation-label {
  fill: #4285F4;
}

tf-graph-scene  .annotation > .annotation-node > * {
  stroke-width: 0.5;
  stroke-dasharray: 1, 1;
}

tf-graph-scene  .annotation.summary > .annotation-node > *,tf-graph-scene  .annotation.constant > .annotation-node > * {
  stroke-width: 1;
  stroke-dasharray: none;
}

tf-graph-scene  .annotation > .annotation-edge {
  fill: none;
  stroke: #aaa;
  stroke-width: 0.5;
  marker-end: url('#annotation-arrowhead');
}

tf-graph-scene  .faded .annotation > .annotation-edge {
  marker-end: url('#annotation-arrowhead-faded');
}

tf-graph-scene  .annotation > .annotation-edge.refline {
  marker-start: url('#ref-annotation-arrowhead');
}

tf-graph-scene  .faded .annotation > .annotation-edge.refline {
  marker-start: url('#ref-annotation-arrowhead-faded');
}

tf-graph-scene  .annotation > .annotation-control-edge {
  stroke-dasharray: 1, 1;
}

tf-graph-scene  #annotation-arrowhead {
  fill: #aaa;
}

tf-graph-scene  #annotation-arrowhead-faded {
  fill: #e0d4b3;
}

tf-graph-scene  #ref-annotation-arrowhead {
  fill: #aaa;
}

tf-graph-scene  #ref-annotation-arrowhead-faded {
  fill: #e0d4b3;
}

tf-graph-scene  .annotation > .annotation-label {
  font-size: 5px;
  cursor: pointer;
}

tf-graph-scene  .annotation > .annotation-label.annotation-ellipsis {
  cursor: default;
}

tf-graph-scene  .expanded > .in-annotations,tf-graph-scene  .expanded > .out-annotations {
  display: none;
}

tf-graph-scene  .constant > .annotation-node > ellipse {
  cursor: pointer;
  fill: white;
  stroke: #848484;
}

tf-graph-scene  .constant.selected > .annotation-node > ellipse {
  fill: white;
  stroke: red;
}

tf-graph-scene  .constant.highlighted > .annotation-node > ellipse {
  stroke-width: 1.5;
}

tf-graph-scene  .summary > .annotation-node > ellipse {
  cursor: pointer;
  fill: #DB4437;
  stroke: #DB4437;
}

tf-graph-scene  .summary.selected > .annotation-node > ellipse {
  fill: #A52714;
  stroke: #A52714;
}

tf-graph-scene  .summary.highlighted > .annotation-node > ellipse {
  stroke-width: 1.5;
}

tf-graph-scene  .edge > path.edgeline {
  fill: none;
  stroke: #bbb;
  stroke-linecap: round;
  stroke-width: 0.75;
}

tf-graph-scene  .edge .selectableedge {
  cursor: pointer;
}

tf-graph-scene  .selectededge > path.edgeline {
  cursor: default;
  stroke: #f00;
}

tf-graph-scene  .edge.selectededge text {
  fill: #000;
}

tf-graph-scene  .edge > text {
  font-size: 3.5px;
  fill: #666;
}

tf-graph-scene  .dataflow-arrowhead {
  fill: #bbb;
}

tf-graph-scene  .reference-arrowhead {
  fill: #FFB74D;
}

tf-graph-scene  .selected-arrowhead {
  fill: #f00;
}

tf-graph-scene  .edge .control-dep {
  stroke-dasharray: 2, 2;
}

tf-graph-scene  .node:not(.highlighted):not(.expanded) > .nodeshape > .buttoncontainer {
  opacity: 0.01;
}

tf-graph-scene  .node.highlighted > .nodeshape > .buttoncontainer {
  cursor: pointer;
}

tf-graph-scene  .buttoncircle {
  fill: #E7811D;
}

tf-graph-scene  .buttoncircle:hover {
  fill: #B96717;
}

tf-graph-scene  .expandbutton,tf-graph-scene  .collapsebutton {
  stroke: white;
}

tf-graph-scene  .node > .nodeshape > .buttoncontainer > .expandbutton,tf-graph-scene  .node > .nodeshape > .buttoncontainer > .collapsebutton {
  pointer-events: none;
}

tf-graph-scene  .node.expanded > .nodeshape > .buttoncontainer > .expandbutton {
  display: none;
}

tf-graph-scene  .node:not(.expanded) > .nodeshape > .buttoncontainer > .collapsebutton {
  display: none;
}

tf-graph-scene  .health-pill-stats {
  font-size: 4px;
  text-anchor: middle;
}

tf-graph-scene  .health-pill rect {
  filter: url('#health-pill-shadow');
  rx: 3;
  ry: 3;
}

.titleContainer.tf-graph-scene {
  position: relative;
  top: 20px;
}

.title.tf-graph-scene,.auxTitle.tf-graph-scene,.functionLibraryTitle.tf-graph-scene {
  position: absolute;
}

#minimap.tf-graph-scene {
  position: absolute;
  right: 20px;
  bottom: 20px;
}</style><!-- Shady DOM styles for tf-graph --><!-- Shady DOM styles for tf-graph-board --><!-- Shady DOM styles for paper-radio-button --><!-- Shady DOM styles for paper-radio-group --><style scope="paper-radio-group">paper-radio-group {
  display: inline-block;
}

paper-radio-group  > * {
  padding: 12px;
}</style><!-- Shady DOM styles for paper-tooltip --><!-- Shady DOM styles for tf-graph-controls --><!-- Shady DOM styles for tf-graph-loader --><!-- Shady DOM styles for tf-graph-dashboard --><style scope="tf-graph-dashboard">tf-graph-dashboard   {
  font-family: 'Roboto', sans-serif;
}

.center.tf-graph-dashboard {
  position: relative;
  height: 100%;
}

paper-dialog.tf-graph-dashboard {
  padding: 20px;
}</style><!-- Shady DOM styles for vz-distribution-chart --><style scope="vz-distribution-chart">vz-distribution-chart {
  -webkit-user-select: none;
        -moz-user-select: none;
        display: flex;
        flex-direction: column;
        flex-grow: 1;
        flex-shrink: 1;
        position: relative;
}

#chartdiv.vz-distribution-chart {
  -webkit-user-select: none;
        -moz-user-select: none;
        flex-grow: 1;
        flex-shrink: 1;
}</style><!-- Shady DOM styles for tf-distribution-loader --><!-- Shady DOM styles for tf-distribution-dashboard --><style scope="tf-distribution-dashboard">.sidebar.tf-distribution-dashboard {
  display: flex;
        flex-direction: column;
        height: 100%;
        margin-right: 20px;
        min-width: 350px;
}

tf-runs-selector.tf-distribution-dashboard {
  flex-shrink: 1;
        flex-grow: 1;
}

.search-input.tf-distribution-dashboard {
  margin: 10px 5px 0 10px;
}

.sidebar-section.tf-distribution-dashboard {
  border-top: solid 1px rgba(0, 0, 0, 0.12);
        padding: 15px 0px 15px 30px;
}

.sidebar-section.tf-distribution-dashboard:first-child {
  border: none;
}

.sidebar-section.tf-distribution-dashboard:last-child {
  flex-grow: 1;
        display: flex;
}

paper-checkbox.tf-distribution-dashboard {
  font-size: 14px;
        margin-top: 5px;
}

.no-data-warning.tf-distribution-dashboard {
  max-width: 540px;
        margin: 80px auto 0 auto;
}</style><!-- Shady DOM styles for vz-histogram-timeseries --><style scope="vz-histogram-timeseries">vz-histogram-timeseries {
  display: flex;
          flex-direction: column;
          flex-grow: 1;
          flex-shrink: 1;
          position: relative;
}

svg.vz-histogram-timeseries {
  font-family: roboto, sans-serif;
          overflow: visible;
          display: block;
          width: 100%;
          flex-grow: 1;
          flex-shrink: 1;
}

#tooltip.vz-histogram-timeseries {
  position: absolute;
          display: block;
          opacity: 0;
          font-weight: bold;
          font-size: 11px;
}

.background.vz-histogram-timeseries {
  fill-opacity: 0;
          fill: red;
}

.histogram.vz-histogram-timeseries {
  pointer-events: none;
}

.hover.vz-histogram-timeseries {
  font-size: 9px;
          dominant-baseline: middle;
          opacity: 0;
}

.hover.vz-histogram-timeseries circle.vz-histogram-timeseries {
  stroke: white;
          stroke-opacity: 0.5;
          stroke-width: 1px;
}

.hover.vz-histogram-timeseries text.vz-histogram-timeseries {
  fill: black;
          opacity: 0;
}

.hover.hover-closest.vz-histogram-timeseries circle.vz-histogram-timeseries {
  fill: black!important;
}

.hover.hover-closest.vz-histogram-timeseries text.vz-histogram-timeseries {
  opacity: 1;
}

.baseline.vz-histogram-timeseries {
  stroke: black;
          stroke-opacity: 0.1;
}

.outline.vz-histogram-timeseries {
  fill: none;
          stroke: white;
          stroke-opacity: 0.5;
}

.outline.outline-hover.vz-histogram-timeseries {
  stroke: black!important;
          stroke-opacity: 1;
}

.x-axis-hover.vz-histogram-timeseries,.y-axis-hover.vz-histogram-timeseries,.y-slice-axis-hover.vz-histogram-timeseries {
  pointer-events: none;
}

.x-axis-hover.vz-histogram-timeseries .label.vz-histogram-timeseries,.y-axis-hover.vz-histogram-timeseries .label.vz-histogram-timeseries,.y-slice-axis-hover.vz-histogram-timeseries .label.vz-histogram-timeseries {
  opacity: 0;
          font-weight: bold;
          font-size: 11px;
          text-anchor: end;
}

.x-axis-hover.vz-histogram-timeseries text.vz-histogram-timeseries {
  text-anchor: middle;
}

.y-axis-hover.vz-histogram-timeseries text.vz-histogram-timeseries,.y-slice-axis-hover.vz-histogram-timeseries text.vz-histogram-timeseries {
  text-anchor: start;
}

.x-axis-hover.vz-histogram-timeseries line.vz-histogram-timeseries,.y-axis-hover.vz-histogram-timeseries line.vz-histogram-timeseries,.y-slice-axis-hover.vz-histogram-timeseries line.vz-histogram-timeseries {
  stroke: black;
}

.x-axis-hover.vz-histogram-timeseries rect.vz-histogram-timeseries,.y-axis-hover.vz-histogram-timeseries rect.vz-histogram-timeseries,.y-slice-axis-hover.vz-histogram-timeseries rect.vz-histogram-timeseries {
  fill: white;
}

.axis.vz-histogram-timeseries {
  font-size: 11px;
}

.axis.vz-histogram-timeseries path.domain.vz-histogram-timeseries {
  fill: none;
}

.axis.vz-histogram-timeseries .tick.vz-histogram-timeseries line.vz-histogram-timeseries {
  stroke: #ddd;
}

.axis.slice.vz-histogram-timeseries {
  opacity: 0;
}

.axis.slice.vz-histogram-timeseries .tick.vz-histogram-timeseries line.vz-histogram-timeseries {
  stroke-dasharray: 2;
}

.small.vz-histogram-timeseries .axis.vz-histogram-timeseries text.vz-histogram-timeseries {
  display: none;
}

.small.vz-histogram-timeseries .axis.vz-histogram-timeseries .tick.vz-histogram-timeseries:first-of-type text.vz-histogram-timeseries {
  display: block;
}

.small.vz-histogram-timeseries .axis.vz-histogram-timeseries .tick.vz-histogram-timeseries:last-of-type text.vz-histogram-timeseries {
  display: block;
}

.medium.vz-histogram-timeseries .axis.vz-histogram-timeseries text.vz-histogram-timeseries {
  display: none;
}

.medium.vz-histogram-timeseries .axis.vz-histogram-timeseries .tick.vz-histogram-timeseries:nth-child(2n + 1).vz-histogram-timeseries text.vz-histogram-timeseries {
  display: block;
}

.large.vz-histogram-timeseries .axis.vz-histogram-timeseries text.vz-histogram-timeseries {
  display: none;
}

.large.vz-histogram-timeseries .axis.vz-histogram-timeseries .tick.vz-histogram-timeseries:nth-child(2n + 1).vz-histogram-timeseries text.vz-histogram-timeseries {
  display: block;
}</style><!-- Shady DOM styles for tf-histogram-loader --><!-- Shady DOM styles for tf-histogram-dashboard --><style scope="tf-histogram-dashboard">.sidebar.tf-histogram-dashboard {
  display: flex;
        flex-direction: column;
        height: 100%;
        margin-right: 20px;
        min-width: 350px;
}

tf-runs-selector.tf-histogram-dashboard {
  flex-shrink: 1;
        flex-grow: 1;
}

.search-input.tf-histogram-dashboard {
  margin: 10px 5px 0 10px;
}

.sidebar-section.tf-histogram-dashboard {
  border-top: solid 1px rgba(0, 0, 0, 0.12);
        padding: 15px 0px 15px 30px;
}

.sidebar-section.tf-histogram-dashboard:first-child {
  border: none;
}

.sidebar-section.tf-histogram-dashboard:last-child {
  flex-grow: 1;
        display: flex;
}

paper-checkbox.tf-histogram-dashboard {
  font-size: 14px;
        margin-top: 5px;
}

.no-data-warning.tf-histogram-dashboard {
  max-width: 540px;
        margin: 80px auto 0 auto;
}</style><!-- Shady DOM styles for tf-no-data-warning --><style scope="tf-no-data-warning">.warning.tf-no-data-warning {
  max-width: 540px;
        margin: 80px auto 0 auto;
}</style><!-- Shady DOM styles for paper-listbox --><!-- Shady DOM styles for paper-toast --><!-- Shady DOM styles for iron-autogrow-textarea --><!-- Shady DOM styles for paper-textarea --><style scope="paper-textarea">paper-textarea {
  display: block;
}

paper-textarea[hidden] {
  display: none !important;
}

label.paper-textarea {
  pointer-events: none;
}</style><!-- Shady DOM styles for vz-projector-bookmark-panel --><style scope="vz-projector-bookmark-panel">paper-button.vz-projector-bookmark-panel {
  background: #e3e3e3;
  margin-left: 0;
  text-transform: none;
}

paper-dropdown-menu.vz-projector-bookmark-panel paper-item.vz-projector-bookmark-panel {
  font-size: 13px;
}

paper-tooltip.vz-projector-bookmark-panel {
  max-width: 200px;
}

paper-icon-button.vz-projector-bookmark-panel {
  border-radius: 50%;
}

paper-icon-button[active].vz-projector-bookmark-panel {
  color: white;
  background-color: #880E4F;
}

.slider.vz-projector-bookmark-panel {
  display: flex;
  align-items: center;
  margin-bottom: 10px;
  justify-content: space-between;
}

.slider.vz-projector-bookmark-panel span.vz-projector-bookmark-panel {
  width: 35px;
  text-align: right;
}

.slider.vz-projector-bookmark-panel label.vz-projector-bookmark-panel {
  align-items: center;
  display: flex;
}

.help-icon.vz-projector-bookmark-panel {
  height: 15px;
  left: 2px;
  min-width: 15px;
  min-height: 15px;
  margin: 0;
  padding: 0;
  top: -2px;
  width: 15px;
}

.ink-panel.vz-projector-bookmark-panel {
  display: flex;
  flex-direction: column;
  font-size: 14px;
}

.ink-panel.vz-projector-bookmark-panel h4.vz-projector-bookmark-panel {
  border-bottom: 1px solid #ddd;
  font-size: 14px;
  font-weight: 500;
  margin: 0;
  margin-bottom: 10px;
  padding-bottom: 5px;
}

.ink-panel-header.vz-projector-bookmark-panel {
  border-bottom: 1px solid rgba(0, 0, 0, 0.1);
  border-top: 1px solid rgba(0, 0, 0, 0.1);
  height: 50px;
}

.ink-panel-content.vz-projector-bookmark-panel {
  display: none;
  height: 100%;
}

.ink-panel-content.active.vz-projector-bookmark-panel {
  display: block;
}

.ink-panel-content.vz-projector-bookmark-panel h3.vz-projector-bookmark-panel {
  font-weight: 500;
  font-size: 14px;
  margin-top: 20px;
  margin-bottom: 5px;
  text-transform: uppercase;
}

.ink-panel-header.vz-projector-bookmark-panel h3.vz-projector-bookmark-panel {
  font-weight: 500;
  font-size: 14px;
  margin: 0;
  padding: 0 24px;
  text-transform: uppercase;
}

.ink-tab-group.vz-projector-bookmark-panel {
  align-items: center;
  box-sizing: border-box;
  display: flex;
  height: 100%;
  justify-content: space-around;
}

.ink-tab-group.vz-projector-bookmark-panel .projection-tab.vz-projector-bookmark-panel {
  color: rgba(0, 0, 0, 0.5);
  cursor: pointer;
  font-weight: 300;
  line-height: 49px;
  padding: 0 12px;
  text-align: center;
  text-transform: uppercase;
}

.ink-tab-group.vz-projector-bookmark-panel .projection-tab.vz-projector-bookmark-panel:hover {
  color: black;
}

.ink-tab-group.vz-projector-bookmark-panel .projection-tab.active.vz-projector-bookmark-panel {
  border-bottom: 2px solid black;
  color: black;
  font-weight: 500;
}

h4.vz-projector-bookmark-panel {
  margin: 30px 0 10px 0;
}

.dismiss-dialog-note.vz-projector-bookmark-panel {
  margin-top: 25px;
  font-size: 11px;
  text-align: right;
}

#title.vz-projector-bookmark-panel {
  background-color: #fafafa;
  color: black;
  font-weight: 500;
  left: 0;
  line-height: 60px;
  padding-left: 24px;
  position: absolute;
  width: 276px;
}

#bookmark-container.vz-projector-bookmark-panel {
  background-color: #fafafa;
}

#icon-container.vz-projector-bookmark-panel {
  line-height: 60px;
  position: absolute;
  right: 0;
}

#header.vz-projector-bookmark-panel {
  border-top: 1px solid rgba(0, 0, 0, 0.1);
  position: relative;
}

#panel.vz-projector-bookmark-panel {
  background-color: #fafafa;
  position: relative;
  overflow-y: scroll;
  top: 60px;
  max-height: 50vh;
}

#save-container.vz-projector-bookmark-panel {
  text-align: center;
}

.state-radio.vz-projector-bookmark-panel {
  display: table-cell;
  vertical-align: middle;
  padding-top: 16px;
}

.state-label.vz-projector-bookmark-panel {
  display: table-cell;
  vertical-align: middle;
  top: 14px;
}

.state-label-input.vz-projector-bookmark-panel {
  width: 194px;
}

.state-clear.vz-projector-bookmark-panel {
  display: table-cell;
  vertical-align: middle;
  padding-top: 20px;
}

#state-file.vz-projector-bookmark-panel {
  display: none;
}

#no-bookmarks.vz-projector-bookmark-panel {
  padding: 0 24px;
}

#action-buttons-container.vz-projector-bookmark-panel .add-icon-button.vz-projector-bookmark-panel {
  background-color: #03a9f4;
  color: white;
  margin: 0 4px 4px auto;
  right: 7px;
  top: -4px;
}

.upload-download-icon-button.vz-projector-bookmark-panel {
  padding: 0;
}

#action-buttons-container.vz-projector-bookmark-panel {
  display: flex;
  margin-left: 34px;
  margin-top: 6px;
}

.ink-fab.vz-projector-bookmark-panel {
  border-radius: 50%;
  background: white;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.3);
}</style><!-- Shady DOM styles for vz-projector-legend --><style scope="vz-projector-legend">paper-button.vz-projector-legend {
  background: #e3e3e3;
  margin-left: 0;
  text-transform: none;
}

paper-dropdown-menu.vz-projector-legend paper-item.vz-projector-legend {
  font-size: 13px;
}

paper-tooltip.vz-projector-legend {
  max-width: 200px;
}

paper-icon-button.vz-projector-legend {
  border-radius: 50%;
}

paper-icon-button[active].vz-projector-legend {
  color: white;
  background-color: #880E4F;
}

.slider.vz-projector-legend {
  display: flex;
  align-items: center;
  margin-bottom: 10px;
  justify-content: space-between;
}

.slider.vz-projector-legend span.vz-projector-legend {
  width: 35px;
  text-align: right;
}

.slider.vz-projector-legend label.vz-projector-legend {
  align-items: center;
  display: flex;
}

.help-icon.vz-projector-legend {
  height: 15px;
  left: 2px;
  min-width: 15px;
  min-height: 15px;
  margin: 0;
  padding: 0;
  top: -2px;
  width: 15px;
}

.ink-panel.vz-projector-legend {
  display: flex;
  flex-direction: column;
  font-size: 14px;
}

.ink-panel.vz-projector-legend h4.vz-projector-legend {
  border-bottom: 1px solid #ddd;
  font-size: 14px;
  font-weight: 500;
  margin: 0;
  margin-bottom: 10px;
  padding-bottom: 5px;
}

.ink-panel-header.vz-projector-legend {
  border-bottom: 1px solid rgba(0, 0, 0, 0.1);
  border-top: 1px solid rgba(0, 0, 0, 0.1);
  height: 50px;
}

.ink-panel-content.vz-projector-legend {
  display: none;
  height: 100%;
}

.ink-panel-content.active.vz-projector-legend {
  display: block;
}

.ink-panel-content.vz-projector-legend h3.vz-projector-legend {
  font-weight: 500;
  font-size: 14px;
  margin-top: 20px;
  margin-bottom: 5px;
  text-transform: uppercase;
}

.ink-panel-header.vz-projector-legend h3.vz-projector-legend {
  font-weight: 500;
  font-size: 14px;
  margin: 0;
  padding: 0 24px;
  text-transform: uppercase;
}

.ink-tab-group.vz-projector-legend {
  align-items: center;
  box-sizing: border-box;
  display: flex;
  height: 100%;
  justify-content: space-around;
}

.ink-tab-group.vz-projector-legend .projection-tab.vz-projector-legend {
  color: rgba(0, 0, 0, 0.5);
  cursor: pointer;
  font-weight: 300;
  line-height: 49px;
  padding: 0 12px;
  text-align: center;
  text-transform: uppercase;
}

.ink-tab-group.vz-projector-legend .projection-tab.vz-projector-legend:hover {
  color: black;
}

.ink-tab-group.vz-projector-legend .projection-tab.active.vz-projector-legend {
  border-bottom: 2px solid black;
  color: black;
  font-weight: 500;
}

h4.vz-projector-legend {
  margin: 30px 0 10px 0;
}

.dismiss-dialog-note.vz-projector-legend {
  margin-top: 25px;
  font-size: 11px;
  text-align: right;
}

.item.vz-projector-legend {
  display: flex;
  align-items: flex-start;
  margin-bottom: 10px;
}

.shape.vz-projector-legend {
  width: 10px;
  height: 10px;
  margin-right: 10px;
  margin-top: 5px;
  border-radius: 50%;
}

.label.vz-projector-legend {
  flex-grow: 1;
}

.gradient.vz-projector-legend {
  width: 100%;
  height: 10px;
}

.gradient-boundaries.vz-projector-legend {
  display: flex;
  justify-content: space-between;
}</style><!-- Shady DOM styles for vz-projector-data-panel --><style scope="vz-projector-data-panel">paper-button.vz-projector-data-panel {
  background: #e3e3e3;
  margin-left: 0;
  text-transform: none;
}

paper-dropdown-menu.vz-projector-data-panel paper-item.vz-projector-data-panel {
  font-size: 13px;
}

paper-tooltip.vz-projector-data-panel {
  max-width: 200px;
}

paper-icon-button.vz-projector-data-panel {
  border-radius: 50%;
}

paper-icon-button[active].vz-projector-data-panel {
  color: white;
  background-color: #880E4F;
}

.slider.vz-projector-data-panel {
  display: flex;
  align-items: center;
  margin-bottom: 10px;
  justify-content: space-between;
}

.slider.vz-projector-data-panel span.vz-projector-data-panel {
  width: 35px;
  text-align: right;
}

.slider.vz-projector-data-panel label.vz-projector-data-panel {
  align-items: center;
  display: flex;
}

.help-icon.vz-projector-data-panel {
  height: 15px;
  left: 2px;
  min-width: 15px;
  min-height: 15px;
  margin: 0;
  padding: 0;
  top: -2px;
  width: 15px;
}

.ink-panel.vz-projector-data-panel {
  display: flex;
  flex-direction: column;
  font-size: 14px;
}

.ink-panel.vz-projector-data-panel h4.vz-projector-data-panel {
  border-bottom: 1px solid #ddd;
  font-size: 14px;
  font-weight: 500;
  margin: 0;
  margin-bottom: 10px;
  padding-bottom: 5px;
}

.ink-panel-header.vz-projector-data-panel {
  border-bottom: 1px solid rgba(0, 0, 0, 0.1);
  border-top: 1px solid rgba(0, 0, 0, 0.1);
  height: 50px;
}

.ink-panel-content.vz-projector-data-panel {
  display: none;
  height: 100%;
}

.ink-panel-content.active.vz-projector-data-panel {
  display: block;
}

.ink-panel-content.vz-projector-data-panel h3.vz-projector-data-panel {
  font-weight: 500;
  font-size: 14px;
  margin-top: 20px;
  margin-bottom: 5px;
  text-transform: uppercase;
}

.ink-panel-header.vz-projector-data-panel h3.vz-projector-data-panel {
  font-weight: 500;
  font-size: 14px;
  margin: 0;
  padding: 0 24px;
  text-transform: uppercase;
}

.ink-tab-group.vz-projector-data-panel {
  align-items: center;
  box-sizing: border-box;
  display: flex;
  height: 100%;
  justify-content: space-around;
}

.ink-tab-group.vz-projector-data-panel .projection-tab.vz-projector-data-panel {
  color: rgba(0, 0, 0, 0.5);
  cursor: pointer;
  font-weight: 300;
  line-height: 49px;
  padding: 0 12px;
  text-align: center;
  text-transform: uppercase;
}

.ink-tab-group.vz-projector-data-panel .projection-tab.vz-projector-data-panel:hover {
  color: black;
}

.ink-tab-group.vz-projector-data-panel .projection-tab.active.vz-projector-data-panel {
  border-bottom: 2px solid black;
  color: black;
  font-weight: 500;
}

h4.vz-projector-data-panel {
  margin: 30px 0 10px 0;
}

.dismiss-dialog-note.vz-projector-data-panel {
  margin-top: 25px;
  font-size: 11px;
  text-align: right;
}

.container.vz-projector-data-panel {
  padding: 10px 20px 20px 20px;
}

input[type=file].vz-projector-data-panel {
  display: none;
}

.file-name.vz-projector-data-panel {
  margin-right: 10px;
}

.dirs.vz-projector-data-panel {
  color: rgba(0, 0, 0, 0.7);
  font-size: 12px;
}

.dirs.vz-projector-data-panel table.vz-projector-data-panel tr.vz-projector-data-panel {
  vertical-align: top;
}

.dirs.vz-projector-data-panel table.vz-projector-data-panel tr.vz-projector-data-panel td.vz-projector-data-panel {
  padding-bottom: 10px;
}

.item-details.vz-projector-data-panel {
  margin-left: 5px;
  color: gray;
  font-size: 12px;
}

paper-dropdown-menu.vz-projector-data-panel {
  width: 100%;
}

paper-dropdown-menu.vz-projector-data-panel paper-item.vz-projector-data-panel {
  justify-content: space-between;
}

.title.vz-projector-data-panel {
  align-items: center;
  border-bottom: 1px solid rgba(0, 0, 0, 0.1);
  color: black;
  display: flex;
  font-weight: 500;
  height: 59px;
  padding-left: 20px;
}

#normalize-data-checkbox.vz-projector-data-panel {
  margin: 10px 0;
}

#generate-share-url.vz-projector-data-panel {
  padding: 16px;
  margin-left: 24px;
}

#projector-share-button-container.vz-projector-data-panel {
  margin: 10px 0;
}

.config-checkbox.vz-projector-data-panel {
  display: inline-block;
  font-size: 11px;
  margin-left: 10px;
}

.projector-config-options.vz-projector-data-panel {
  margin-top: 12px;
}

.projector-config-dialog-container.vz-projector-data-panel {
  padding: 24px;
}

.code.vz-projector-data-panel {
  background-color: #f7f7f7;
  display: table;
  font-family: monospace;
  margin-top: 7px;
  padding: 15px;
}

.delimiter.vz-projector-data-panel {
  color: #B71C1C;
}

.upload-step.vz-projector-data-panel {
  display: flex;
  justify-content: space-between;
  margin-bottom: 6px;
}

.upload-step.vz-projector-data-panel paper-button.vz-projector-data-panel {
  margin-left: 30px;
}

.step-label.vz-projector-data-panel {
  color: rgb(38, 180, 226);
}

.scrollable-container.vz-projector-data-panel {
  margin-top: 0;
  min-width: 400px;
}

#projectorConfigDialog.vz-projector-data-panel p.vz-projector-data-panel {
  margin: 8px 0 8px;
}

.data-step.vz-projector-data-panel {
  margin-top: 40px;
}

.data-step-contents.vz-projector-data-panel {
  display: table;
  width: 100%;
}

.data-step-contents-contents.vz-projector-data-panel {
  display: table-cell;
  margin-top: 6px;
}

.data-step-contents-upload.vz-projector-data-panel {
  display: table-cell;
  text-align: right;
  vertical-align: bottom;
}

#demo-data-buttons-container.vz-projector-data-panel {
  display: none;
}

.colorby-container.vz-projector-data-panel {
  margin-bottom: 10px;
}</style><!-- Shady DOM styles for vz-projector-input --><style scope="vz-projector-input">paper-button.vz-projector-input {
  background: #e3e3e3;
  margin-left: 0;
  text-transform: none;
}

paper-dropdown-menu.vz-projector-input paper-item.vz-projector-input {
  font-size: 13px;
}

paper-tooltip.vz-projector-input {
  max-width: 200px;
}

paper-icon-button.vz-projector-input {
  border-radius: 50%;
}

paper-icon-button[active].vz-projector-input {
  color: white;
  background-color: #880E4F;
}

.slider.vz-projector-input {
  display: flex;
  align-items: center;
  margin-bottom: 10px;
  justify-content: space-between;
}

.slider.vz-projector-input span.vz-projector-input {
  width: 35px;
  text-align: right;
}

.slider.vz-projector-input label.vz-projector-input {
  align-items: center;
  display: flex;
}

.help-icon.vz-projector-input {
  height: 15px;
  left: 2px;
  min-width: 15px;
  min-height: 15px;
  margin: 0;
  padding: 0;
  top: -2px;
  width: 15px;
}

.ink-panel.vz-projector-input {
  display: flex;
  flex-direction: column;
  font-size: 14px;
}

.ink-panel.vz-projector-input h4.vz-projector-input {
  border-bottom: 1px solid #ddd;
  font-size: 14px;
  font-weight: 500;
  margin: 0;
  margin-bottom: 10px;
  padding-bottom: 5px;
}

.ink-panel-header.vz-projector-input {
  border-bottom: 1px solid rgba(0, 0, 0, 0.1);
  border-top: 1px solid rgba(0, 0, 0, 0.1);
  height: 50px;
}

.ink-panel-content.vz-projector-input {
  display: none;
  height: 100%;
}

.ink-panel-content.active.vz-projector-input {
  display: block;
}

.ink-panel-content.vz-projector-input h3.vz-projector-input {
  font-weight: 500;
  font-size: 14px;
  margin-top: 20px;
  margin-bottom: 5px;
  text-transform: uppercase;
}

.ink-panel-header.vz-projector-input h3.vz-projector-input {
  font-weight: 500;
  font-size: 14px;
  margin: 0;
  padding: 0 24px;
  text-transform: uppercase;
}

.ink-tab-group.vz-projector-input {
  align-items: center;
  box-sizing: border-box;
  display: flex;
  height: 100%;
  justify-content: space-around;
}

.ink-tab-group.vz-projector-input .projection-tab.vz-projector-input {
  color: rgba(0, 0, 0, 0.5);
  cursor: pointer;
  font-weight: 300;
  line-height: 49px;
  padding: 0 12px;
  text-align: center;
  text-transform: uppercase;
}

.ink-tab-group.vz-projector-input .projection-tab.vz-projector-input:hover {
  color: black;
}

.ink-tab-group.vz-projector-input .projection-tab.active.vz-projector-input {
  border-bottom: 2px solid black;
  color: black;
  font-weight: 500;
}

h4.vz-projector-input {
  margin: 30px 0 10px 0;
}

.dismiss-dialog-note.vz-projector-input {
  margin-top: 25px;
  font-size: 11px;
  text-align: right;
}

.info.vz-projector-input {
  color: rgba(0, 0, 0, 0.5);
  display: block;
  font-size: 11px;
}

.toggle.vz-projector-input {
  font-size: 12px;
  height: 21px;
  margin: 0px;
  min-width: 0px;
  min-height: 0px;
  padding: 0;
  width: 17px;
}

.toggle[active].vz-projector-input {
  background-color: #880E4F;
  color: white;
}</style><!-- Shady DOM styles for vz-projector-inspector-panel --><style scope="vz-projector-inspector-panel">paper-button.vz-projector-inspector-panel {
  background: #e3e3e3;
  margin-left: 0;
  text-transform: none;
}

paper-dropdown-menu.vz-projector-inspector-panel paper-item.vz-projector-inspector-panel {
  font-size: 13px;
}

paper-tooltip.vz-projector-inspector-panel {
  max-width: 200px;
}

paper-icon-button.vz-projector-inspector-panel {
  border-radius: 50%;
}

paper-icon-button[active].vz-projector-inspector-panel {
  color: white;
  background-color: #880E4F;
}

.slider.vz-projector-inspector-panel {
  display: flex;
  align-items: center;
  margin-bottom: 10px;
  justify-content: space-between;
}

.slider.vz-projector-inspector-panel span.vz-projector-inspector-panel {
  width: 35px;
  text-align: right;
}

.slider.vz-projector-inspector-panel label.vz-projector-inspector-panel {
  align-items: center;
  display: flex;
}

.help-icon.vz-projector-inspector-panel {
  height: 15px;
  left: 2px;
  min-width: 15px;
  min-height: 15px;
  margin: 0;
  padding: 0;
  top: -2px;
  width: 15px;
}

.ink-panel.vz-projector-inspector-panel {
  display: flex;
  flex-direction: column;
  font-size: 14px;
}

.ink-panel.vz-projector-inspector-panel h4.vz-projector-inspector-panel {
  border-bottom: 1px solid #ddd;
  font-size: 14px;
  font-weight: 500;
  margin: 0;
  margin-bottom: 10px;
  padding-bottom: 5px;
}

.ink-panel-header.vz-projector-inspector-panel {
  border-bottom: 1px solid rgba(0, 0, 0, 0.1);
  border-top: 1px solid rgba(0, 0, 0, 0.1);
  height: 50px;
}

.ink-panel-content.vz-projector-inspector-panel {
  display: none;
  height: 100%;
}

.ink-panel-content.active.vz-projector-inspector-panel {
  display: block;
}

.ink-panel-content.vz-projector-inspector-panel h3.vz-projector-inspector-panel {
  font-weight: 500;
  font-size: 14px;
  margin-top: 20px;
  margin-bottom: 5px;
  text-transform: uppercase;
}

.ink-panel-header.vz-projector-inspector-panel h3.vz-projector-inspector-panel {
  font-weight: 500;
  font-size: 14px;
  margin: 0;
  padding: 0 24px;
  text-transform: uppercase;
}

.ink-tab-group.vz-projector-inspector-panel {
  align-items: center;
  box-sizing: border-box;
  display: flex;
  height: 100%;
  justify-content: space-around;
}

.ink-tab-group.vz-projector-inspector-panel .projection-tab.vz-projector-inspector-panel {
  color: rgba(0, 0, 0, 0.5);
  cursor: pointer;
  font-weight: 300;
  line-height: 49px;
  padding: 0 12px;
  text-align: center;
  text-transform: uppercase;
}

.ink-tab-group.vz-projector-inspector-panel .projection-tab.vz-projector-inspector-panel:hover {
  color: black;
}

.ink-tab-group.vz-projector-inspector-panel .projection-tab.active.vz-projector-inspector-panel {
  border-bottom: 2px solid black;
  color: black;
  font-weight: 500;
}

h4.vz-projector-inspector-panel {
  margin: 30px 0 10px 0;
}

.dismiss-dialog-note.vz-projector-inspector-panel {
  margin-top: 25px;
  font-size: 11px;
  text-align: right;
}

vz-projector-inspector-panel {
  display: flex;
   flex-direction: column;
   
   height: calc(100% - 55px);
}

.container.vz-projector-inspector-panel {
  display: block;
  padding: 10px 20px 0 20px;
}

.buttons.vz-projector-inspector-panel {
  display: flex;
  height: 60px;
}

.button.vz-projector-inspector-panel {
  margin-right: 10px;
  border: none;
  border-radius: 7px;
  font-size: 13px;
  padding: 10px;
  background: #e3e3e3;
}

.button.vz-projector-inspector-panel:last-child {
  margin-right: 0;
}

.nn.vz-projector-inspector-panel {
  display: flex;
  flex-direction: column;
}

.nn.vz-projector-inspector-panel > *.vz-projector-inspector-panel {
  padding: 0 20px;
}

.nn-list.vz-projector-inspector-panel {
  overflow-y: auto;
}

.nn-list.vz-projector-inspector-panel .neighbor.vz-projector-inspector-panel {
  font-size: 12px;
  margin-bottom: 8px;
}

.nn-list.vz-projector-inspector-panel .label-and-value.vz-projector-inspector-panel {
  display: flex;
  justify-content: space-between;
}

.label.vz-projector-inspector-panel {
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.nn-list.vz-projector-inspector-panel .value.vz-projector-inspector-panel {
  color: #666;
  float: right;
  font-weight: 300;
  margin-left: 8px;
}

.nn-list.vz-projector-inspector-panel .bar.vz-projector-inspector-panel {
  position: relative;
  border-top: 1px solid rgba(0, 0, 0, 0.15);
  margin: 2px 0;
}

.nn-list.vz-projector-inspector-panel .bar.vz-projector-inspector-panel .fill.vz-projector-inspector-panel {
  position: absolute;
  top: -1px;
  border-top: 1px solid white;
}

.nn-list.vz-projector-inspector-panel .tick.vz-projector-inspector-panel {
  position: absolute;
  top: 0px;
  height: 3px;
  border-left: 1px solid rgba(0, 0, 0, 0.15);
}

.nn-list.vz-projector-inspector-panel .neighbor-link.vz-projector-inspector-panel:hover {
  cursor: pointer;
}

.search-by.vz-projector-inspector-panel {
  display: flex;
}

.search-by.vz-projector-inspector-panel vz-projector-input.vz-projector-inspector-panel {
  width: 100%;
}

.search-by.vz-projector-inspector-panel paper-dropdown-menu.vz-projector-inspector-panel {
  margin-left: 10px;
  width: 100px;
}

.distance.vz-projector-inspector-panel .options.vz-projector-inspector-panel {
  float: right;
}

.options.vz-projector-inspector-panel a.vz-projector-inspector-panel {
  color: #727272;
  font-size: 13px;
  margin-left: 12px;
  text-decoration: none;
}

.options.vz-projector-inspector-panel a.selected.vz-projector-inspector-panel {
  color: #009EFE;
}

.neighbors.vz-projector-inspector-panel {
  margin-bottom: 30px;
}

.neighbors-options.vz-projector-inspector-panel {
  margin-top: 6px;
}

.neighbors-options.vz-projector-inspector-panel .option-label.vz-projector-inspector-panel,.distance.vz-projector-inspector-panel .option-label.vz-projector-inspector-panel {
  color: #727272;
  margin-right: 2px;
  width: auto;
}

.num-neighbors-container.vz-projector-inspector-panel {
  display: inline-block;
}

#nn-slider.vz-projector-inspector-panel {
  margin: 0 -12px 0 10px;
}

.euclidean.vz-projector-inspector-panel {
  margin-right: 10px;
}

.matches-list.vz-projector-inspector-panel {
  padding: 0 20px;
}

.matches-list.vz-projector-inspector-panel .row.vz-projector-inspector-panel {
  border-bottom: 1px solid #ddd;
  cursor: pointer;
  display: flex;
  font-size: 12px;
  margin: 5px 0;
  padding: 4px 0;
}

.results.vz-projector-inspector-panel {
  display: flex;
  flex-direction: column;
}</style><!-- Shady DOM styles for vz-projector-metadata-card --><style scope="vz-projector-metadata-card">#metadata-card.vz-projector-metadata-card {
  background-color: rgba(255,255,255,0.9);
  box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.14),
      0 1px 5px 0 rgba(0, 0, 0, 0.12), 0 3px 1px -2px rgba(0, 0, 0, 0.2);
  width: 280px;
}

#header.vz-projector-metadata-card {
  background: #e9e9e9;
}

#icon-container.vz-projector-metadata-card {
  position: absolute;
  right: 0;
  top: 4px;
}

#metadata-label.vz-projector-metadata-card {
  font-weight: 400;
  font-size: 14px;
  line-height: 24px;
  padding: 12px 12px 8px;
  width: 230px;
}

#metadata-table.vz-projector-metadata-card {
  display: table;
  padding: 8px 12px 4px;
}

.metadata-row.vz-projector-metadata-card {
  display: table-row;
}

.metadata-key.vz-projector-metadata-card {
  font-weight: bold;
}

.metadata-key.vz-projector-metadata-card,.metadata-value.vz-projector-metadata-card {
  display: table-cell;
  font-size: 12px;
  padding: 3px 3px;
}</style><!-- Shady DOM styles for vz-projector-projections-panel --><style scope="vz-projector-projections-panel">paper-button.vz-projector-projections-panel {
  background: #e3e3e3;
  margin-left: 0;
  text-transform: none;
}

paper-dropdown-menu.vz-projector-projections-panel paper-item.vz-projector-projections-panel {
  font-size: 13px;
}

paper-tooltip.vz-projector-projections-panel {
  max-width: 200px;
}

paper-icon-button.vz-projector-projections-panel {
  border-radius: 50%;
}

paper-icon-button[active].vz-projector-projections-panel {
  color: white;
  background-color: #880E4F;
}

.slider.vz-projector-projections-panel {
  display: flex;
  align-items: center;
  margin-bottom: 10px;
  justify-content: space-between;
}

.slider.vz-projector-projections-panel span.vz-projector-projections-panel {
  width: 35px;
  text-align: right;
}

.slider.vz-projector-projections-panel label.vz-projector-projections-panel {
  align-items: center;
  display: flex;
}

.help-icon.vz-projector-projections-panel {
  height: 15px;
  left: 2px;
  min-width: 15px;
  min-height: 15px;
  margin: 0;
  padding: 0;
  top: -2px;
  width: 15px;
}

.ink-panel.vz-projector-projections-panel {
  display: flex;
  flex-direction: column;
  font-size: 14px;
}

.ink-panel.vz-projector-projections-panel h4.vz-projector-projections-panel {
  border-bottom: 1px solid #ddd;
  font-size: 14px;
  font-weight: 500;
  margin: 0;
  margin-bottom: 10px;
  padding-bottom: 5px;
}

.ink-panel-header.vz-projector-projections-panel {
  border-bottom: 1px solid rgba(0, 0, 0, 0.1);
  border-top: 1px solid rgba(0, 0, 0, 0.1);
  height: 50px;
}

.ink-panel-content.vz-projector-projections-panel {
  display: none;
  height: 100%;
}

.ink-panel-content.active.vz-projector-projections-panel {
  display: block;
}

.ink-panel-content.vz-projector-projections-panel h3.vz-projector-projections-panel {
  font-weight: 500;
  font-size: 14px;
  margin-top: 20px;
  margin-bottom: 5px;
  text-transform: uppercase;
}

.ink-panel-header.vz-projector-projections-panel h3.vz-projector-projections-panel {
  font-weight: 500;
  font-size: 14px;
  margin: 0;
  padding: 0 24px;
  text-transform: uppercase;
}

.ink-tab-group.vz-projector-projections-panel {
  align-items: center;
  box-sizing: border-box;
  display: flex;
  height: 100%;
  justify-content: space-around;
}

.ink-tab-group.vz-projector-projections-panel .projection-tab.vz-projector-projections-panel {
  color: rgba(0, 0, 0, 0.5);
  cursor: pointer;
  font-weight: 300;
  line-height: 49px;
  padding: 0 12px;
  text-align: center;
  text-transform: uppercase;
}

.ink-tab-group.vz-projector-projections-panel .projection-tab.vz-projector-projections-panel:hover {
  color: black;
}

.ink-tab-group.vz-projector-projections-panel .projection-tab.active.vz-projector-projections-panel {
  border-bottom: 2px solid black;
  color: black;
  font-weight: 500;
}

h4.vz-projector-projections-panel {
  margin: 30px 0 10px 0;
}

.dismiss-dialog-note.vz-projector-projections-panel {
  margin-top: 25px;
  font-size: 11px;
  text-align: right;
}

vz-projector-projections-panel {
  transition: height 0.2s;
}

.ink-button.vz-projector-projections-panel,  .ink-button {
  border: none;
  border-radius: 2px;
  font-size: 13px;
  padding: 10px;
  min-width: 100px;
  flex-shrink: 0;
  background: #e3e3e3;
}

.ink-panel-buttons.vz-projector-projections-panel {
  margin-bottom: 10px;
}

.two-way-toggle.vz-projector-projections-panel {
  display: flex;
  flex-direction: row;
}

.two-way-toggle.vz-projector-projections-panel span.vz-projector-projections-panel {
  padding-right: 7px;
}

.has-border.vz-projector-projections-panel {
  border: 1px solid rgba(0, 0, 0, 0.1);
}

.toggle.vz-projector-projections-panel {
  min-width: 0px;
  font-size: 12px;
  width: 17px;
  min-height: 0px;
  height: 21px;
  padding: 0;
  margin: 0px;
}

.toggle[active].vz-projector-projections-panel {
  background-color: #880E4F;
  color: white;
}

.two-columns.vz-projector-projections-panel {
  display:flex;
  justify-content: space-between;
}

.two-columns.vz-projector-projections-panel > .vz-projector-projections-panel:first-child {
  margin-right: 15px;
}

.two-columns.vz-projector-projections-panel > div.vz-projector-projections-panel {
  width: 50%;
}

.dropdown-item.vz-projector-projections-panel {
  justify-content: space-between;
  min-height: 35px;
}

#z-container.vz-projector-projections-panel {
  display: flex;
  align-items: center;
  width: 50%;
}

#z-checkbox.vz-projector-projections-panel {
  margin: 27px 0 0 5px;
  width: 18px;
}

#z-dropdown.vz-projector-projections-panel {
  flex-grow: 1;
}

.notice.vz-projector-projections-panel {
  color: #880E4F;
}

.container.vz-projector-projections-panel {
  padding: 20px;
}

.book-icon.vz-projector-projections-panel {
  height: 20px;
  color: rgba(0, 0, 0, 0.7);
}

.item-details.vz-projector-projections-panel {
  color: gray;
  font-size: 12px;
  margin-left: 5px;
}

.pca-dropdown.vz-projector-projections-panel {
  width: 100%;
}

.pca-dropdown.vz-projector-projections-panel paper-listbox.vz-projector-projections-panel {
  width: 135px;
}

.dropdown-item.header.vz-projector-projections-panel {
  border-bottom: 1px solid #aaa;
  color: #333;
  font-weight: bold;
}

#total-variance.vz-projector-projections-panel {
  color: rgba(0, 0, 0, 0.7);
}</style><!-- Shady DOM styles for vz-projector --><style scope="vz-projector">paper-button.vz-projector {
  background: #e3e3e3;
  margin-left: 0;
  text-transform: none;
}

paper-dropdown-menu.vz-projector paper-item.vz-projector {
  font-size: 13px;
}

paper-tooltip.vz-projector {
  max-width: 200px;
}

paper-icon-button.vz-projector {
  border-radius: 50%;
}

paper-icon-button[active].vz-projector {
  color: white;
  background-color: #880E4F;
}

.slider.vz-projector {
  display: flex;
  align-items: center;
  margin-bottom: 10px;
  justify-content: space-between;
}

.slider.vz-projector span.vz-projector {
  width: 35px;
  text-align: right;
}

.slider.vz-projector label.vz-projector {
  align-items: center;
  display: flex;
}

.help-icon.vz-projector {
  height: 15px;
  left: 2px;
  min-width: 15px;
  min-height: 15px;
  margin: 0;
  padding: 0;
  top: -2px;
  width: 15px;
}

.ink-panel.vz-projector {
  display: flex;
  flex-direction: column;
  font-size: 14px;
}

.ink-panel.vz-projector h4.vz-projector {
  border-bottom: 1px solid #ddd;
  font-size: 14px;
  font-weight: 500;
  margin: 0;
  margin-bottom: 10px;
  padding-bottom: 5px;
}

.ink-panel-header.vz-projector {
  border-bottom: 1px solid rgba(0, 0, 0, 0.1);
  border-top: 1px solid rgba(0, 0, 0, 0.1);
  height: 50px;
}

.ink-panel-content.vz-projector {
  display: none;
  height: 100%;
}

.ink-panel-content.active.vz-projector {
  display: block;
}

.ink-panel-content.vz-projector h3.vz-projector {
  font-weight: 500;
  font-size: 14px;
  margin-top: 20px;
  margin-bottom: 5px;
  text-transform: uppercase;
}

.ink-panel-header.vz-projector h3.vz-projector {
  font-weight: 500;
  font-size: 14px;
  margin: 0;
  padding: 0 24px;
  text-transform: uppercase;
}

.ink-tab-group.vz-projector {
  align-items: center;
  box-sizing: border-box;
  display: flex;
  height: 100%;
  justify-content: space-around;
}

.ink-tab-group.vz-projector .projection-tab.vz-projector {
  color: rgba(0, 0, 0, 0.5);
  cursor: pointer;
  font-weight: 300;
  line-height: 49px;
  padding: 0 12px;
  text-align: center;
  text-transform: uppercase;
}

.ink-tab-group.vz-projector .projection-tab.vz-projector:hover {
  color: black;
}

.ink-tab-group.vz-projector .projection-tab.active.vz-projector {
  border-bottom: 2px solid black;
  color: black;
  font-weight: 500;
}

h4.vz-projector {
  margin: 30px 0 10px 0;
}

.dismiss-dialog-note.vz-projector {
  margin-top: 25px;
  font-size: 11px;
  text-align: right;
}

vz-projector {
  display: flex;
  width: 100%;
  height: 100%;
}

#container.vz-projector {
  display: flex;
  width: 100%;
  height: 100%;
  overflow: hidden;
}

.hidden.vz-projector {
  display: none !important;
}

#main.vz-projector {
  position: relative;
  flex-grow: 2;
}

#main.vz-projector .stage.vz-projector {
  position: relative;
  flex-grow: 2;
}

#scatter.vz-projector {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
}

#selector.vz-projector {
  display: none;
  height: 100%;
  position: absolute;
  width: 100%;
}

#left-pane.vz-projector {
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  min-width: 312px;
  width: 312px;
  border-right: 1px solid rgba(0, 0, 0, 0.1);
  background: #fafafa;
}

#right-pane.vz-projector {
  border-left: 1px solid rgba(0, 0, 0, 0.1);
  background: #fafafa;
  display: flex;
  height: 100%;
  min-width: 300px;
  width: 300px;
}

.file-name.vz-projector {
  margin-right: 5px;
}

.control.vz-projector input[type=text].vz-projector:focus {
  outline: none;
  border-bottom: 1px solid rgba(0, 0, 0, 1);
}

.control.vz-projector {
  display: inline-block;
  width: 45%;
  vertical-align: top;
  margin-right: 10px;
  overflow-x: hidden;
}

.control.last.vz-projector {
  margin-right: 0;
}

#notification-dialog.vz-projector {
  width: 400px;
  padding-bottom: 20px;
}

#notification-dialog.vz-projector paper-button.vz-projector {
  background: none;
  text-transform: uppercase;
}

#notify-msgs.vz-projector {
  text-align: center;
  display: block;
}

.notify-msg.vz-projector {
  font-weight: 500;
  margin: 0;
  padding: 0;
}

.notify-msg.error.vz-projector {
  text-align: left;
}

.brush.vz-projector .extent.vz-projector {
  stroke: #fff;
  fill-opacity: .125;
  shape-rendering: crispEdges;
}

.origin.vz-projector text.vz-projector {
  font-size: 12px;
  font-weight: 500;
}

.origin.vz-projector line.vz-projector {
  stroke: black;
  stroke-opacity: 0.2;
}

.ink-button.vz-projector,  .ink-button {
  border: none;
  border-radius: 2px;
  font-size: 13px;
  padding: 10px;
  min-width: 100px;
  flex-shrink: 0;
  background: #e3e3e3;
}

.status-bar-panel.vz-projector {
  display: flex;
  align-items: center;
}

.status-bar-entry.vz-projector {
  border-left: 1px solid rgba(0, 0, 0, 0.5);
  margin-left: 5px;
  padding-left: 5px;
}

.ink-panel-menubar.vz-projector {
  align-items: center;
  position: relative;
  height: 60px;
  border-bottom: solid 1px #eee;
  padding: 0 24px;
  display: flex;
}

.ink-panel-menubar.vz-projector .ink-fabs.vz-projector {
  position: absolute;
  right: 12px;
  top: 40px;
  z-index: 1;
}

#bookmark-panel.vz-projector {
  bottom: 0;
  position: absolute;
  width: 300px;
}

#bookmark-panel-container.vz-projector {
  bottom: 60px;
  position: absolute;
}

.ink-fab.vz-projector {
  margin-left: 8px;
  border: 1px solid rgba(0, 0, 0, 0.02);
  background: white;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.3);
}

#metadata-card.vz-projector {
  position: absolute;
  right: 5px;
  top: 25px;
}

#help-3d-icon.vz-projector {
  position: absolute;
  top: 20px;
  left: 20px;
}

#help3dDialog.vz-projector .main.vz-projector {
  margin: 0;
  padding: 20px;
}

#help3dDialog.vz-projector h3.vz-projector {
  margin-top: 20px;
  margin-bottom: 5px;
}

#help3dDialog.vz-projector h3.vz-projector:first-child {
  margin-top: 0;
}

#data-panel.vz-projector {
  border-top: 1px solid rgba(0, 0, 0, 0.1);
  overflow-y: auto;
}

#toast.vz-projector {
  display: flex;
  align-items: center;
}</style><!-- Shady DOM styles for vz-projector-dashboard --><!-- Shady DOM styles for tf-text-loader --><!-- Shady DOM styles for tf-text-dashboard --><style scope="tf-text-dashboard">.sidebar.tf-text-dashboard {
  display: flex;
        flex-direction: column;
        height: 100%;
        margin-right: 20px;
        min-width: 350px;
}

tf-runs-selector.tf-text-dashboard {
  flex-shrink: 1;
        flex-grow: 1;
}

.search-input.tf-text-dashboard {
  margin: 10px 5px 0 10px;
}

.sidebar-section.tf-text-dashboard {
  border-top: solid 1px rgba(0, 0, 0, 0.12);
        padding: 15px 0px 15px 30px;
}

.sidebar-section.tf-text-dashboard:first-child {
  border: none;
}

.sidebar-section.tf-text-dashboard:last-child {
  flex-grow: 1;
        display: flex;
}

paper-checkbox.tf-text-dashboard {
  font-size: 14px;
        margin-top: 5px;
}

.no-data-warning.tf-text-dashboard {
  max-width: 540px;
        margin: 80px auto 0 auto;
}</style><!-- Shady DOM styles for tf-pr-curve-card --><!-- Shady DOM styles for tf-pr-curve-steps-selector --><style scope="tf-pr-curve-steps-selector">.run-widget.tf-pr-curve-steps-selector {
  margin: 10px 0 0 0;
}

paper-slider.tf-pr-curve-steps-selector {
  margin: -8px 0 0 -15px;
        width: 100%;
}

.step-display-container.tf-pr-curve-steps-selector {
  font-size: 0.9em;
        margin: 0 15px 0 0;
}

.run-text.tf-pr-curve-steps-selector {
  display: inline-block;
}

.run-color-box.tf-pr-curve-steps-selector {
  width: 12px;
        height: 12px;
        border-radius: 3px;
        display: inline-block;
}</style><!-- Shady DOM styles for tf-pr-curve-dashboard --><style scope="tf-pr-curve-dashboard">.sidebar.tf-pr-curve-dashboard {
  display: flex;
        flex-direction: column;
        height: 100%;
        margin-right: 20px;
        min-width: 350px;
}

tf-runs-selector.tf-pr-curve-dashboard {
  flex-shrink: 1;
        flex-grow: 1;
}

.search-input.tf-pr-curve-dashboard {
  margin: 10px 5px 0 10px;
}

.sidebar-section.tf-pr-curve-dashboard {
  border-top: solid 1px rgba(0, 0, 0, 0.12);
        padding: 15px 0px 15px 30px;
}

.sidebar-section.tf-pr-curve-dashboard:first-child {
  border: none;
}

.sidebar-section.tf-pr-curve-dashboard:last-child {
  flex-grow: 1;
        display: flex;
}

paper-checkbox.tf-pr-curve-dashboard {
  font-size: 14px;
        margin-top: 5px;
}

.no-data-warning.tf-pr-curve-dashboard {
  max-width: 540px;
        margin: 80px auto 0 auto;
}

#steps-selector-container.tf-pr-curve-dashboard {
  max-height: 40%;
        overflow-y: auto;
}</style><!-- Shady DOM styles for tf-op-table --><style scope="tf-op-table">#time.tf-op-table,#utilization.tf-op-table {
  width: 60px;
}

#name.tf-op-table {
  display: inline-block;
  min-width: 40%;
}

#row.tf-op-table,#header.tf-op-table {
  display: flex;
  align-items: center;
}

#row.tf-op-table > *.tf-op-table,#header.tf-op-table > *.tf-op-table {
  padding: 0.5em;
  overflow: hidden;
  flex-shrink: 0;
  box-sizing: border-box;
}

#header.tf-op-table > *.tf-op-table {
  padding-bottom: 0;
}

#provenance.tf-op-table {
  flex: 1 1 0 ! important;
}

#utilization.tf-op-table {
  text-align: right;
}

tf-op-table {
  display: block;
  background-color: white;
}

#header.tf-op-table {
  font-size: smaller;
  font-weight: bold;
  color: #666;
  padding-bottom: 0.25em;
  border-bottom: 1px solid #666;
  text-transform: uppercase;
  white-space: nowrap;
}

#header.tf-op-table > #name.tf-op-table {
  padding-left: 2em;
}</style><!-- Shady DOM styles for tf-op-table-entry --><style scope="tf-op-table-entry">#time.tf-op-table-entry,#utilization.tf-op-table-entry {
  width: 60px;
}

#name.tf-op-table-entry {
  display: inline-block;
  min-width: 40%;
}

#row.tf-op-table-entry,#header.tf-op-table-entry {
  display: flex;
  align-items: center;
}

#row.tf-op-table-entry > *.tf-op-table-entry,#header.tf-op-table-entry > *.tf-op-table-entry {
  padding: 0.5em;
  overflow: hidden;
  flex-shrink: 0;
  box-sizing: border-box;
}

#header.tf-op-table-entry > *.tf-op-table-entry {
  padding-bottom: 0;
}

#provenance.tf-op-table-entry {
  flex: 1 1 0 ! important;
}

#utilization.tf-op-table-entry {
  text-align: right;
}

#row.tf-op-table-entry {
  position: relative;
  box-shadow: inset 0 1px 0 0 rgba(0,0,0,0.06);
  z-index: 0;
}

#bar.tf-op-table-entry {
  position: absolute;
  top: 0;
  left: 0;
  bottom: 0;
  z-index: -1;
  background-color: #cde;
}

tf-op-table-entry {
  display: block;
}

tf-op-table-entry.selected {
  background-color: rgba(0,0,0,0.04);
}

tf-op-table-entry.selected > #row.tf-op-table-entry {
  font-weight: bold;
}

#row.tf-op-table-entry:hover {
  background-color: rgba(0,0,0,0.05);
}

#disclosure.tf-op-table-entry {
  display: inline-block;
  width: 1em;
}

#name.tf-op-table-entry {
  font-family: monospace;
}

#time.tf-op-table-entry,#utilization.tf-op-table-entry {
  font-size: smaller;
}

#utilization.tf-op-table-entry {
  align-self: stretch;
}

#utilization.tf-op-table-entry div.tf-op-table-entry {
  position: relative; top: 50%; transform: translateY(-50%);
}</style><!-- Shady DOM styles for iron-image --><!-- Shady DOM styles for paper-card --><!-- Shady DOM styles for tf-op-bar --><style scope="tf-op-bar">tf-op-bar {
  display: inline-block;
  height: 1.5em;
  line-height: 1.5em;
}</style><!-- Shady DOM styles for tf-op-details --><style scope="tf-op-details">paper-card.tf-op-details {
  width: 100%;
}

tf-op-bar.tf-op-details {
  width: 100%;
}

#subheader.tf-op-details {
  padding: 0 16px 16px;
  color: rgba(255, 255, 255, 0.7);
  position: relative;
  top: -10px;
}

.card-content.tf-op-details > div.tf-op-details {
  margin-bottom: 1em;
}

.expression.tf-op-details {
  display: block;
  word-wrap: break-word;
}

.unavailable.tf-op-details {
  font-style: italic;
  color: #666;
}

.layout.tf-op-details {
  display: table;
  width: 50%;
  border-spacing: 1em 0.3em;
}

.layout.tf-op-details > *.tf-op-details {
  display: table-row;
}

.layout.tf-op-details > *.tf-op-details > *.tf-op-details {
  display: table-cell;
}

.layout.tf-op-details .size.tf-op-details,.layout.tf-op-details .size-x.tf-op-details {
  text-align: center;
}

.layout.tf-op-details .size-x.tf-op-details {
  font-weight: bold; color: #888;
}

.layout.tf-op-details .semantics.tf-op-details {
  font-size: smaller;
  font-weight: bold;
  color: #48c;
  text-transform: uppercase;
  vertical-align: middle;
}

.layout.tf-op-details .alignment.tf-op-details {
  position: absolute;
  padding: 0.5em;
  margin-top: -0.5em;
  width: 50%;
  box-sizing: border-box;
}</style><!-- Shady DOM styles for tf-op-profile --><style scope="tf-op-profile">tf-op-details.tf-op-profile {
  position: fixed;
  
  left: 16px;
  width: 330px;
}

tf-op-profile {
  display: block;
  margin-right: 1.5em;
}</style><!-- Shady DOM styles for tf-profile-dashboard --><style scope="tf-profile-dashboard">.sidebar.tf-profile-dashboard {
  display: flex;
        flex-direction: column;
        height: 100%;
        margin-right: 20px;
        min-width: 350px;
}

tf-runs-selector.tf-profile-dashboard {
  flex-shrink: 1;
        flex-grow: 1;
}

.search-input.tf-profile-dashboard {
  margin: 10px 5px 0 10px;
}

.sidebar-section.tf-profile-dashboard {
  border-top: solid 1px rgba(0, 0, 0, 0.12);
        padding: 15px 0px 15px 30px;
}

.sidebar-section.tf-profile-dashboard:first-child {
  border: none;
}

.sidebar-section.tf-profile-dashboard:last-child {
  flex-grow: 1;
        display: flex;
}

paper-checkbox.tf-profile-dashboard {
  font-size: 14px;
        margin-top: 5px;
}

.center.tf-profile-dashboard {
  position: relative;
    height: 100%;
}

iframe.tf-profile-dashboard {
  position: absolute;
    width: 100%;
    height: 100%;
    box-sizing: border-box;
}</style><!-- Shady DOM styles for paper-header-panel --><style scope="paper-header-panel-0">.paper-header-panel-0 {
  ;display: -ms-flexbox;
      display: -webkit-flex;
      display: flex;

      -ms-flex-direction: column;
      -webkit-flex-direction: column;
      flex-direction: column;

        position: relative;
        height: 100%;;
}

.paper-header-panel-0 #mainContainer.paper-header-panel {
  -ms-flex: 1 1 0.000000001px;
      -webkit-flex: 1;
      flex: 1;
      -webkit-flex-basis: 0.000000001px;
      flex-basis: 0.000000001px;

        position: relative;
        overflow-y: auto;
        overflow-x: hidden;
        -webkit-overflow-scrolling: touch;
}

.paper-header-panel-0 #mainPanel.paper-header-panel {
  display: -ms-flexbox;
      display: -webkit-flex;
      display: flex;

      -ms-flex-direction: column;
      -webkit-flex-direction: column;
      flex-direction: column;-ms-flex: 1 1 0.000000001px;
      -webkit-flex: 1;
      flex: 1;
      -webkit-flex-basis: 0.000000001px;
      flex-basis: 0.000000001px;

        position: relative;
        min-height: 0;;
}

.paper-header-panel-0[mode=scroll] #mainContainer.paper-header-panel {
  ;

        overflow: visible;
}

.paper-header-panel-0[mode=scroll] {
  overflow-y: auto;
        overflow-x: hidden;
        -webkit-overflow-scrolling: touch;
}

.paper-header-panel-0[mode=cover] #mainContainer.paper-header-panel {
  ;

        position: absolute;
        top: 0;
        right: 0;
        bottom: 0;
        left: 0;
}

.paper-header-panel-0[mode=cover] #mainPanel.paper-header-panel {
  position: static;
}

.paper-header-panel-0[mode=standard] #mainContainer.paper-header-panel {
  ;
}

.paper-header-panel-0[mode=seamed] #mainContainer.paper-header-panel {
  ;
}

.paper-header-panel-0[mode=waterfall] #mainContainer.paper-header-panel {
  ;
}

.paper-header-panel-0[mode=waterfall-tall] #mainContainer.paper-header-panel {
  ;
}

.paper-header-panel-0 #dropShadow.paper-header-panel {
  height: 6px;
          bottom: -6px;
          box-shadow: inset 0px 5px 6px -3px rgba(0, 0, 0, 0.4);

        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 6px;
        pointer-events: none;

        -webkit-transition: opacity 0.5s;
        transition: opacity 0.5s;

        opacity: 0;
}

.paper-header-panel-0 #dropShadow.has-shadow.paper-header-panel {
  opacity: 1;
}</style><!-- Shady DOM styles for paper-tab --><style scope="paper-tab-0">.paper-tab-0 {
  display: -ms-inline-flexbox;
      display: -webkit-inline-flex;
      display: inline-flex;-ms-flex-align: center;
      -webkit-align-items: center;
      align-items: center;-ms-flex-pack: center;
      -webkit-justify-content: center;
      justify-content: center;-ms-flex: 1 1 auto;
      -webkit-flex: 1 1 auto;
      flex: 1 1 auto;

        position: relative;
        padding: 0 12px;
        overflow: hidden;
        cursor: pointer;
        vertical-align: middle;font-family: 'Roboto', 'Noto', sans-serif;
      -webkit-font-smoothing: antialiased;;
}

.paper-tab-0:focus {
  outline: none;
}

.paper-tab-0[link] {
  padding: 0;
}

.paper-tab-0 .tab-content.paper-tab {
  height: 100%;
        transform: translateZ(0);
          -webkit-transform: translateZ(0);
        transition: opacity 0.1s cubic-bezier(0.4, 0.0, 1, 1);display: -ms-flexbox;
      display: -webkit-flex;
      display: flex;

      -ms-flex-direction: row;
      -webkit-flex-direction: row;
      flex-direction: row;-ms-flex-align: center;
      -webkit-align-items: center;
      align-items: center;-ms-flex-pack: center;
      -webkit-justify-content: center;
      justify-content: center;-ms-flex: 1 1 auto;
      -webkit-flex: 1 1 auto;
      flex: 1 1 auto;;
}

.paper-tab-0:not(.iron-selected) > .tab-content.paper-tab {
  opacity: 0.8;;
}

.paper-tab-0:focus .tab-content.paper-tab {
  opacity: 1;
        font-weight: 700;
}

.paper-tab-0 paper-ripple.paper-tab {
  color: #ffff8d;
}

.paper-tab-0 .tab-content.paper-tab  > a {
  -ms-flex: 1 1 auto;
      -webkit-flex: 1 1 auto;
      flex: 1 1 auto;

        height: 100%;
}</style><!-- Shady DOM styles for paper-tabs --><style scope="paper-tabs-0">.paper-tabs-0 {
  display: -ms-flexbox;
      display: -webkit-flex;
      display: flex;-ms-flex-align: center;
      -webkit-align-items: center;
      align-items: center;

        height: 48px;
        font-size: 14px;
        font-weight: 500;
        overflow: hidden;
        -moz-user-select: none;
        -ms-user-select: none;
        -webkit-user-select: none;
        user-select: none;

        
        -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
        -webkit-tap-highlight-color: transparent;;
}

[dir=rtl] .paper-tabs-0, .paper-tabs-0[dir=rtl] {
  display: -ms-flexbox;
      display: -webkit-flex;
      display: flex;

      -ms-flex-direction: row-reverse;
      -webkit-flex-direction: row-reverse;
      flex-direction: row-reverse;
}

.paper-tabs-0 #tabsContainer.paper-tabs {
  position: relative;
        height: 100%;
        white-space: nowrap;
        overflow: hidden;-ms-flex: 1 1 auto;
      -webkit-flex: 1 1 auto;
      flex: 1 1 auto;;
}

.paper-tabs-0 #tabsContent.paper-tabs {
  height: 100%;
        -moz-flex-basis: auto;
        -ms-flex-basis: auto;
        flex-basis: auto;;
}

.paper-tabs-0 #tabsContent.scrollable.paper-tabs {
  position: absolute;
        white-space: nowrap;
}

.paper-tabs-0 #tabsContent.paper-tabs:not(.scrollable),.paper-tabs-0 #tabsContent.scrollable.fit-container.paper-tabs {
  display: -ms-flexbox;
      display: -webkit-flex;
      display: flex;

      -ms-flex-direction: row;
      -webkit-flex-direction: row;
      flex-direction: row;
}

.paper-tabs-0 #tabsContent.scrollable.fit-container.paper-tabs {
  min-width: 100%;
}

.paper-tabs-0 #tabsContent.scrollable.fit-container.paper-tabs  > * {
  -ms-flex: 1 0 auto;
        -webkit-flex: 1 0 auto;
        flex: 1 0 auto;
}

.paper-tabs-0 .hidden.paper-tabs {
  display: none;
}

.paper-tabs-0 .not-visible.paper-tabs {
  opacity: 0;
        cursor: default;
}

.paper-tabs-0 paper-icon-button.paper-tabs {
  width: 48px;
        height: 48px;
        padding: 12px;
        margin: 0 4px;
}

.paper-tabs-0 #selectionBar.paper-tabs {
  position: absolute;
        height: 2px;
        bottom: 0;
        left: 0;
        right: 0;
        background-color: white;
          -webkit-transform: scale(0);
        transform: scale(0);
          -webkit-transform-origin: left center;
        transform-origin: left center;
          transition: -webkit-transform;
        transition: transform;;
}

.paper-tabs-0 #selectionBar.align-bottom.paper-tabs {
  top: 0;
        bottom: auto;
}

.paper-tabs-0 #selectionBar.expand.paper-tabs {
  transition-duration: 0.15s;
        transition-timing-function: cubic-bezier(0.4, 0.0, 1, 1);
}

.paper-tabs-0 #selectionBar.contract.paper-tabs {
  transition-duration: 0.18s;
        transition-timing-function: cubic-bezier(0.0, 0.0, 0.2, 1);
}

.paper-tabs-0 #tabsContent.paper-tabs  > *:not(#selectionBar) {
  height: 100%;
}</style><!-- Shady DOM styles for paper-toolbar --><style scope="paper-toolbar-0">.paper-toolbar-0 {
  display: block;
        position: relative;
        box-sizing: border-box;
        -moz-box-sizing: border-box;

        
        height: 64px;

        background: #3f51b5;
        color: #ffffff;;
}

.paper-toolbar-0.animate {
  transition: height 0.18s ease-in;
}

.paper-toolbar-0.medium-tall {
  height: calc(64px * 2);;
}

.paper-toolbar-0.tall {
  height: calc(64px * 3);;
}

.paper-toolbar-0 .toolbar-tools.paper-toolbar {
  position: relative;
        height: 64px;
        padding: 0 16px;
        pointer-events: none;display: -ms-flexbox;
      display: -webkit-flex;
      display: flex;

      -ms-flex-direction: row;
      -webkit-flex-direction: row;
      flex-direction: row;-ms-flex-align: center;
      -webkit-align-items: center;
      align-items: center;;
}

@media (max-width: 600px) {
.paper-toolbar-0 {
  height: 56px;
}

.paper-toolbar-0.medium-tall {
  height: calc(56px * 2);
}

.paper-toolbar-0.tall {
  height: calc(56px * 3);
}

.paper-toolbar-0 .toolbar-tools.paper-toolbar {
  height: 56px;
}

}

.paper-toolbar-0 #topBar.paper-toolbar {
  position: relative;
}

.paper-toolbar-0 #middleBar.paper-toolbar {
  position: absolute;
        top: 0;
        right: 0;
        left: 0;
}

.paper-toolbar-0.tall #middleBar.paper-toolbar,.paper-toolbar-0.medium-tall #middleBar.paper-toolbar {
  -webkit-transform: translateY(100%);
        transform: translateY(100%);
}

.paper-toolbar-0 #bottomBar.paper-toolbar {
  position: absolute;
        right: 0;
        bottom: 0;
        left: 0;
}

.paper-toolbar-0 .toolbar-tools.paper-toolbar  > *:not([disabled]) {
  pointer-events: auto;
}

.paper-toolbar-0 .toolbar-tools.paper-toolbar  .title {
  font-family: 'Roboto', 'Noto', sans-serif;
      -webkit-font-smoothing: antialiased;

        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
        font-size: 20px;
        font-weight: 400;
        line-height: 1;
        pointer-events: none;-ms-flex: 1 1 0.000000001px;
      -webkit-flex: 1;
      flex: 1;
      -webkit-flex-basis: 0.000000001px;
      flex-basis: 0.000000001px;;
}

.paper-toolbar-0 .toolbar-tools.paper-toolbar  paper-icon-button[icon=menu] {
  margin-right: 24px;
}

.paper-toolbar-0 .toolbar-tools.paper-toolbar  > .title,.paper-toolbar-0 .toolbar-tools.paper-toolbar [select=".middle"] > .title,.paper-toolbar-0 .toolbar-tools.paper-toolbar [select=".bottom"] > .title {
  margin-left: 56px;
}

.paper-toolbar-0 .toolbar-tools.paper-toolbar  > paper-icon-button + .title,.paper-toolbar-0 .toolbar-tools.paper-toolbar [select=".middle"] paper-icon-button + .title,.paper-toolbar-0 .toolbar-tools.paper-toolbar [select=".bottom"] paper-icon-button + .title {
  margin-left: 0;
}

.paper-toolbar-0 .toolbar-tools.paper-toolbar  > .fit {
  position: absolute;
        top: auto;
        right: 0;
        bottom: 0;
        left: 0;
        width: auto;
        margin: 0;
}

.paper-toolbar-0 .start-justified.paper-toolbar {
  -ms-flex-pack: start;
      -webkit-justify-content: flex-start;
      justify-content: flex-start;
}

.paper-toolbar-0 .center-justified.paper-toolbar {
  -ms-flex-pack: center;
      -webkit-justify-content: center;
      justify-content: center;
}

.paper-toolbar-0 .end-justified.paper-toolbar {
  -ms-flex-pack: end;
      -webkit-justify-content: flex-end;
      justify-content: flex-end;
}

.paper-toolbar-0 .around-justified.paper-toolbar {
  -ms-flex-pack: distribute;
      -webkit-justify-content: space-around;
      justify-content: space-around;
}

.paper-toolbar-0 .justified.paper-toolbar {
  -ms-flex-pack: justify;
      -webkit-justify-content: space-between;
      justify-content: space-between;
}</style><!-- Shady DOM styles for tf-tensorboard --><style scope="tf-tensorboard-0">.tf-tensorboard-0 {
  height: 100%;
        display: block;
        background-color: #f5f5f5;
}

.tf-tensorboard-0 #toolbar.tf-tensorboard {
  background-color: #f57c00;
        -webkit-font-smoothing: antialiased;
}

.tf-tensorboard-0 .toolbar-title.tf-tensorboard {
  font-size: 20px;
        margin-left: 10px;
        text-rendering: optimizeLegibility;
        letter-spacing: -0.025em;
        font-weight: 500;
        flex-grow: 1;
        display: block;
}

.tf-tensorboard-0 .toolbar-message.tf-tensorboard {
  opacity: 0.7;
        -webkit-font-smoothing: antialiased;
        font-size: 14px;
        font-weight: 500;
}

.tf-tensorboard-0 #tabs.tf-tensorboard {
  flex-grow: 1;
        text-transform: uppercase;
        height: 100%;
}

.tf-tensorboard-0 paper-tabs.tf-tensorboard {
  ;
}

.tf-tensorboard-0 .global-actions.tf-tensorboard {
  flex-grow: 1;
        display: inline-flex; 
        justify-content: flex-end;
        text-align: right;
        color: white;
}

.tf-tensorboard-0 .global-actions.tf-tensorboard a.tf-tensorboard {
  color: white;
}

.tf-tensorboard-0 #toolbar-content.tf-tensorboard {
  width: 100%;
        height: 100%;
        display: flex;
        flex-direction: row;
        justify-content: space-between;
        align-items: center;
}

.tf-tensorboard-0 #content.tf-tensorboard {
  height: 100%;
}

.tf-tensorboard-0 .dashboard-container.tf-tensorboard {
  height: 100%;
}

.tf-tensorboard-0 .warning-message.tf-tensorboard {
  max-width: 540px;
        margin: 80px auto 0 auto;
}

.tf-tensorboard-0 [disabled].tf-tensorboard {
  opacity: 0.2;
        color: white;
}</style><style>body {transition: opacity ease-in 0.2s; } 
body[unresolved] {opacity: 0; display: block; overflow: hidden; position: relative; } 
</style>
<title>TensorBoard</title>
<link rel="shortcut icon" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMQAAADECAMAAAD3eH5ZAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAD/UExURfFlKfaELvFmKfNyK/67NvWALf68Nv69NvNxK/20NfyyNP22NfN0K/JrKvqhMv2zNf25Nf24Nf23NfeOL/yzNPyvNPJoKviWMPmeMfN1K/WBLfePL/FnKfeML/qlMvR7LPmcMfeLL/aJLvR5LPFoKfJuKvR3LP66NvywNPeNL/V/LfaILv21Nf26NfNzK/NvK/R6LPmaMfyxNPqfMvV+LfurM/iSMPmbMfJvKvmdMfumM/qiMvmZMfytNPJqKvysNPN2K/iYMPNwK/upM/JtKvJsKviVMPaHLvaGLvJpKvR8LPaKLvqkMvuqM/aFLvR4LPuoM/iTMPWDLfiRMPmYMXS0ngkAAALoSURBVHja7drnctpAFIbhFUISSKJ3MKYa0+y4xTW9937/15JkJhlTjhrSrHRmvuf/as6L0YLFCgEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMBJ6njenqspzgnPrsrGX9Zpi2tCrmnc6+dYNthVY5WpMmxQLWPdMsOuYVwzNj3ei2t3mQwaV43BJPDCS2NbJ5aEeuX/+9qcjQOtfFIkIkrvY2g4MVcmOBsFWbowKO/kNyj62gRpJcDaPBlxLr1B0zdG0C/8LzbJiJrshuvy1gzlA9+rD8mIkuyIJjFE3/dqnYwoSm7IUEPoD/wut8iIguSIDjlFxe/yfXL5vuSI21BTZLLhXoOILMO8Hxwa/L8bI0LfmUdhGowb2ZvT0e57pFNDgB06IlVyjmmIBl2T/nl9Rw6SD9GgSG/Q0uQkaW3XhmovKQ3eFQ4N2Uo9OQ1eFZsNerf7vP+rO4rhmY1Lg3vFVoP8+8BXg1sFnwbnCk4NThW8GuiKBDdkVVtTNFvNelVsNqTbyWnIOM2oeTRoyWvwmpJHg/ucXBrcJuXT4DwrpwZi2vy0VCx8YtXg/D2bU4OfiuQ3eFfE2KD4bfCqiLNB993gXsGlwa2CT4NzBacGIVQ6YsipQdh0xEdODUKjIxrSp88onZ8zbbFLg1DoiFO5BXvDGv2My9/JhUT8JUZTI0yDaNHLBzIbvqTDNYhUiVw/kdjQ1kM2CHFDPjKW+KzyRTF0g/ga9w9y+fANQpxvX8CU+Ny7FUWDeF3Y+g3lROIf4k0UDX9eCyvO531PyYhHga9zvPZJU5b73Y/eXj8Hv9D48n6HaF5LbcjRt8TZTtda5M1DfXnbkX1C0SHCFKzQB5Fe8op4GNGNHavvZESbVwT5r6W1xyuCPBY3Y9YgDqzknH/e3YfNzzuL30l0IebrZ5kKtuDIXt1n868ET6kf3/49tLvrCcZyF8Pu215dAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcPIbNrBhOaBXucoAAAAASUVORK5CYII=">
<script>/**
 * @license
 * Copyright (c) 2014 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
 */
// @version 0.7.23
!function(){window.WebComponents=window.WebComponents||{flags:{}};var e="webcomponents-lite.js",t=document.querySelector('script[src*="'+e+'"]'),n={};if(!n.noOpts){if(location.search.slice(1).split("&").forEach(function(e){var t,o=e.split("=");o[0]&&(t=o[0].match(/wc-(.+)/))&&(n[t[1]]=o[1]||!0)}),t)for(var o,r=0;o=t.attributes[r];r++)"src"!==o.name&&(n[o.name]=o.value||!0);if(n.log&&n.log.split){var i=n.log.split(",");n.log={},i.forEach(function(e){n.log[e]=!0})}else n.log={}}n.register&&(window.CustomElements=window.CustomElements||{flags:{}},window.CustomElements.flags.register=n.register),WebComponents.flags=n}(),function(e){"use strict";function t(e){return void 0!==h[e]}function n(){s.call(this),this._isInvalid=!0}function o(e){return""==e&&n.call(this),e.toLowerCase()}function r(e){var t=e.charCodeAt(0);return t>32&&t<127&&[34,35,60,62,63,96].indexOf(t)==-1?e:encodeURIComponent(e)}function i(e){var t=e.charCodeAt(0);return t>32&&t<127&&[34,35,60,62,96].indexOf(t)==-1?e:encodeURIComponent(e)}function a(e,a,s){function c(e){g.push(e)}var d=a||"scheme start",l=0,u="",w=!1,_=!1,g=[];e:for(;(e[l-1]!=p||0==l)&&!this._isInvalid;){var b=e[l];switch(d){case"scheme start":if(!b||!m.test(b)){if(a){c("Invalid scheme.");break e}u="",d="no scheme";continue}u+=b.toLowerCase(),d="scheme";break;case"scheme":if(b&&v.test(b))u+=b.toLowerCase();else{if(":"!=b){if(a){if(p==b)break e;c("Code point not allowed in scheme: "+b);break e}u="",l=0,d="no scheme";continue}if(this._scheme=u,u="",a)break e;t(this._scheme)&&(this._isRelative=!0),d="file"==this._scheme?"relative":this._isRelative&&s&&s._scheme==this._scheme?"relative or authority":this._isRelative?"authority first slash":"scheme data"}break;case"scheme data":"?"==b?(this._query="?",d="query"):"#"==b?(this._fragment="#",d="fragment"):p!=b&&"\t"!=b&&"\n"!=b&&"\r"!=b&&(this._schemeData+=r(b));break;case"no scheme":if(s&&t(s._scheme)){d="relative";continue}c("Missing scheme."),n.call(this);break;case"relative or authority":if("/"!=b||"/"!=e[l+1]){c("Expected /, got: "+b),d="relative";continue}d="authority ignore slashes";break;case"relative":if(this._isRelative=!0,"file"!=this._scheme&&(this._scheme=s._scheme),p==b){this._host=s._host,this._port=s._port,this._path=s._path.slice(),this._query=s._query,this._username=s._username,this._password=s._password;break e}if("/"==b||"\\"==b)"\\"==b&&c("\\ is an invalid code point."),d="relative slash";else if("?"==b)this._host=s._host,this._port=s._port,this._path=s._path.slice(),this._query="?",this._username=s._username,this._password=s._password,d="query";else{if("#"!=b){var y=e[l+1],E=e[l+2];("file"!=this._scheme||!m.test(b)||":"!=y&&"|"!=y||p!=E&&"/"!=E&&"\\"!=E&&"?"!=E&&"#"!=E)&&(this._host=s._host,this._port=s._port,this._username=s._username,this._password=s._password,this._path=s._path.slice(),this._path.pop()),d="relative path";continue}this._host=s._host,this._port=s._port,this._path=s._path.slice(),this._query=s._query,this._fragment="#",this._username=s._username,this._password=s._password,d="fragment"}break;case"relative slash":if("/"!=b&&"\\"!=b){"file"!=this._scheme&&(this._host=s._host,this._port=s._port,this._username=s._username,this._password=s._password),d="relative path";continue}"\\"==b&&c("\\ is an invalid code point."),d="file"==this._scheme?"file host":"authority ignore slashes";break;case"authority first slash":if("/"!=b){c("Expected '/', got: "+b),d="authority ignore slashes";continue}d="authority second slash";break;case"authority second slash":if(d="authority ignore slashes","/"!=b){c("Expected '/', got: "+b);continue}break;case"authority ignore slashes":if("/"!=b&&"\\"!=b){d="authority";continue}c("Expected authority, got: "+b);break;case"authority":if("@"==b){w&&(c("@ already seen."),u+="%40"),w=!0;for(var L=0;L<u.length;L++){var N=u[L];if("\t"!=N&&"\n"!=N&&"\r"!=N)if(":"!=N||null!==this._password){var M=r(N);null!==this._password?this._password+=M:this._username+=M}else this._password="";else c("Invalid whitespace in authority.")}u=""}else{if(p==b||"/"==b||"\\"==b||"?"==b||"#"==b){l-=u.length,u="",d="host";continue}u+=b}break;case"file host":if(p==b||"/"==b||"\\"==b||"?"==b||"#"==b){2!=u.length||!m.test(u[0])||":"!=u[1]&&"|"!=u[1]?0==u.length?d="relative path start":(this._host=o.call(this,u),u="",d="relative path start"):d="relative path";continue}"\t"==b||"\n"==b||"\r"==b?c("Invalid whitespace in file host."):u+=b;break;case"host":case"hostname":if(":"!=b||_){if(p==b||"/"==b||"\\"==b||"?"==b||"#"==b){if(this._host=o.call(this,u),u="",d="relative path start",a)break e;continue}"\t"!=b&&"\n"!=b&&"\r"!=b?("["==b?_=!0:"]"==b&&(_=!1),u+=b):c("Invalid code point in host/hostname: "+b)}else if(this._host=o.call(this,u),u="",d="port","hostname"==a)break e;break;case"port":if(/[0-9]/.test(b))u+=b;else{if(p==b||"/"==b||"\\"==b||"?"==b||"#"==b||a){if(""!=u){var T=parseInt(u,10);T!=h[this._scheme]&&(this._port=T+""),u=""}if(a)break e;d="relative path start";continue}"\t"==b||"\n"==b||"\r"==b?c("Invalid code point in port: "+b):n.call(this)}break;case"relative path start":if("\\"==b&&c("'\\' not allowed in path."),d="relative path","/"!=b&&"\\"!=b)continue;break;case"relative path":if(p!=b&&"/"!=b&&"\\"!=b&&(a||"?"!=b&&"#"!=b))"\t"!=b&&"\n"!=b&&"\r"!=b&&(u+=r(b));else{"\\"==b&&c("\\ not allowed in relative path.");var O;(O=f[u.toLowerCase()])&&(u=O),".."==u?(this._path.pop(),"/"!=b&&"\\"!=b&&this._path.push("")):"."==u&&"/"!=b&&"\\"!=b?this._path.push(""):"."!=u&&("file"==this._scheme&&0==this._path.length&&2==u.length&&m.test(u[0])&&"|"==u[1]&&(u=u[0]+":"),this._path.push(u)),u="","?"==b?(this._query="?",d="query"):"#"==b&&(this._fragment="#",d="fragment")}break;case"query":a||"#"!=b?p!=b&&"\t"!=b&&"\n"!=b&&"\r"!=b&&(this._query+=i(b)):(this._fragment="#",d="fragment");break;case"fragment":p!=b&&"\t"!=b&&"\n"!=b&&"\r"!=b&&(this._fragment+=b)}l++}}function s(){this._scheme="",this._schemeData="",this._username="",this._password=null,this._host="",this._port="",this._path=[],this._query="",this._fragment="",this._isInvalid=!1,this._isRelative=!1}function c(e,t){void 0===t||t instanceof c||(t=new c(String(t))),this._url=e,s.call(this);var n=e.replace(/^[ \t\r\n\f]+|[ \t\r\n\f]+$/g,"");a.call(this,n,null,t)}var d=!1;if(!e.forceJURL)try{var l=new URL("b","http://a");l.pathname="c%20d",d="http://a/c%20d"===l.href}catch(u){}if(!d){var h=Object.create(null);h.ftp=21,h.file=0,h.gopher=70,h.http=80,h.https=443,h.ws=80,h.wss=443;var f=Object.create(null);f["%2e"]=".",f[".%2e"]="..",f["%2e."]="..",f["%2e%2e"]="..";var p=void 0,m=/[a-zA-Z]/,v=/[a-zA-Z0-9\+\-\.]/;c.prototype={toString:function(){return this.href},get href(){if(this._isInvalid)return this._url;var e="";return""==this._username&&null==this._password||(e=this._username+(null!=this._password?":"+this._password:"")+"@"),this.protocol+(this._isRelative?"//"+e+this.host:"")+this.pathname+this._query+this._fragment},set href(e){s.call(this),a.call(this,e)},get protocol(){return this._scheme+":"},set protocol(e){this._isInvalid||a.call(this,e+":","scheme start")},get host(){return this._isInvalid?"":this._port?this._host+":"+this._port:this._host},set host(e){!this._isInvalid&&this._isRelative&&a.call(this,e,"host")},get hostname(){return this._host},set hostname(e){!this._isInvalid&&this._isRelative&&a.call(this,e,"hostname")},get port(){return this._port},set port(e){!this._isInvalid&&this._isRelative&&a.call(this,e,"port")},get pathname(){return this._isInvalid?"":this._isRelative?"/"+this._path.join("/"):this._schemeData},set pathname(e){!this._isInvalid&&this._isRelative&&(this._path=[],a.call(this,e,"relative path start"))},get search(){return this._isInvalid||!this._query||"?"==this._query?"":this._query},set search(e){!this._isInvalid&&this._isRelative&&(this._query="?","?"==e[0]&&(e=e.slice(1)),a.call(this,e,"query"))},get hash(){return this._isInvalid||!this._fragment||"#"==this._fragment?"":this._fragment},set hash(e){this._isInvalid||(this._fragment="#","#"==e[0]&&(e=e.slice(1)),a.call(this,e,"fragment"))},get origin(){var e;if(this._isInvalid||!this._scheme)return"";switch(this._scheme){case"data":case"file":case"javascript":case"mailto":return"null"}return e=this.host,e?this._scheme+"://"+e:""}};var w=e.URL;w&&(c.createObjectURL=function(e){return w.createObjectURL.apply(w,arguments)},c.revokeObjectURL=function(e){w.revokeObjectURL(e)}),e.URL=c}}(self),"undefined"==typeof WeakMap&&!function(){var e=Object.defineProperty,t=Date.now()%1e9,n=function(){this.name="__st"+(1e9*Math.random()>>>0)+(t++ +"__")};n.prototype={set:function(t,n){var o=t[this.name];return o&&o[0]===t?o[1]=n:e(t,this.name,{value:[t,n],writable:!0}),this},get:function(e){var t;return(t=e[this.name])&&t[0]===e?t[1]:void 0},"delete":function(e){var t=e[this.name];return!(!t||t[0]!==e)&&(t[0]=t[1]=void 0,!0)},has:function(e){var t=e[this.name];return!!t&&t[0]===e}},window.WeakMap=n}(),function(e){function t(e){b.push(e),g||(g=!0,m(o))}function n(e){return window.ShadowDOMPolyfill&&window.ShadowDOMPolyfill.wrapIfNeeded(e)||e}function o(){g=!1;var e=b;b=[],e.sort(function(e,t){return e.uid_-t.uid_});var t=!1;e.forEach(function(e){var n=e.takeRecords();r(e),n.length&&(e.callback_(n,e),t=!0)}),t&&o()}function r(e){e.nodes_.forEach(function(t){var n=v.get(t);n&&n.forEach(function(t){t.observer===e&&t.removeTransientObservers()})})}function i(e,t){for(var n=e;n;n=n.parentNode){var o=v.get(n);if(o)for(var r=0;r<o.length;r++){var i=o[r],a=i.options;if(n===e||a.subtree){var s=t(a);s&&i.enqueue(s)}}}}function a(e){this.callback_=e,this.nodes_=[],this.records_=[],this.uid_=++y}function s(e,t){this.type=e,this.target=t,this.addedNodes=[],this.removedNodes=[],this.previousSibling=null,this.nextSibling=null,this.attributeName=null,this.attributeNamespace=null,this.oldValue=null}function c(e){var t=new s(e.type,e.target);return t.addedNodes=e.addedNodes.slice(),t.removedNodes=e.removedNodes.slice(),t.previousSibling=e.previousSibling,t.nextSibling=e.nextSibling,t.attributeName=e.attributeName,t.attributeNamespace=e.attributeNamespace,t.oldValue=e.oldValue,t}function d(e,t){return E=new s(e,t)}function l(e){return L?L:(L=c(E),L.oldValue=e,L)}function u(){E=L=void 0}function h(e){return e===L||e===E}function f(e,t){return e===t?e:L&&h(e)?L:null}function p(e,t,n){this.observer=e,this.target=t,this.options=n,this.transientObservedNodes=[]}if(!e.JsMutationObserver){var m,v=new WeakMap;if(/Trident|Edge/.test(navigator.userAgent))m=setTimeout;else if(window.setImmediate)m=window.setImmediate;else{var w=[],_=String(Math.random());window.addEventListener("message",function(e){if(e.data===_){var t=w;w=[],t.forEach(function(e){e()})}}),m=function(e){w.push(e),window.postMessage(_,"*")}}var g=!1,b=[],y=0;a.prototype={observe:function(e,t){if(e=n(e),!t.childList&&!t.attributes&&!t.characterData||t.attributeOldValue&&!t.attributes||t.attributeFilter&&t.attributeFilter.length&&!t.attributes||t.characterDataOldValue&&!t.characterData)throw new SyntaxError;var o=v.get(e);o||v.set(e,o=[]);for(var r,i=0;i<o.length;i++)if(o[i].observer===this){r=o[i],r.removeListeners(),r.options=t;break}r||(r=new p(this,e,t),o.push(r),this.nodes_.push(e)),r.addListeners()},disconnect:function(){this.nodes_.forEach(function(e){for(var t=v.get(e),n=0;n<t.length;n++){var o=t[n];if(o.observer===this){o.removeListeners(),t.splice(n,1);break}}},this),this.records_=[]},takeRecords:function(){var e=this.records_;return this.records_=[],e}};var E,L;p.prototype={enqueue:function(e){var n=this.observer.records_,o=n.length;if(n.length>0){var r=n[o-1],i=f(r,e);if(i)return void(n[o-1]=i)}else t(this.observer);n[o]=e},addListeners:function(){this.addListeners_(this.target)},addListeners_:function(e){var t=this.options;t.attributes&&e.addEventListener("DOMAttrModified",this,!0),t.characterData&&e.addEventListener("DOMCharacterDataModified",this,!0),t.childList&&e.addEventListener("DOMNodeInserted",this,!0),(t.childList||t.subtree)&&e.addEventListener("DOMNodeRemoved",this,!0)},removeListeners:function(){this.removeListeners_(this.target)},removeListeners_:function(e){var t=this.options;t.attributes&&e.removeEventListener("DOMAttrModified",this,!0),t.characterData&&e.removeEventListener("DOMCharacterDataModified",this,!0),t.childList&&e.removeEventListener("DOMNodeInserted",this,!0),(t.childList||t.subtree)&&e.removeEventListener("DOMNodeRemoved",this,!0)},addTransientObserver:function(e){if(e!==this.target){this.addListeners_(e),this.transientObservedNodes.push(e);var t=v.get(e);t||v.set(e,t=[]),t.push(this)}},removeTransientObservers:function(){var e=this.transientObservedNodes;this.transientObservedNodes=[],e.forEach(function(e){this.removeListeners_(e);for(var t=v.get(e),n=0;n<t.length;n++)if(t[n]===this){t.splice(n,1);break}},this)},handleEvent:function(e){switch(e.stopImmediatePropagation(),e.type){case"DOMAttrModified":var t=e.attrName,n=e.relatedNode.namespaceURI,o=e.target,r=new d("attributes",o);r.attributeName=t,r.attributeNamespace=n;var a=e.attrChange===MutationEvent.ADDITION?null:e.prevValue;i(o,function(e){if(e.attributes&&(!e.attributeFilter||!e.attributeFilter.length||e.attributeFilter.indexOf(t)!==-1||e.attributeFilter.indexOf(n)!==-1))return e.attributeOldValue?l(a):r});break;case"DOMCharacterDataModified":var o=e.target,r=d("characterData",o),a=e.prevValue;i(o,function(e){if(e.characterData)return e.characterDataOldValue?l(a):r});break;case"DOMNodeRemoved":this.addTransientObserver(e.target);case"DOMNodeInserted":var s,c,h=e.target;"DOMNodeInserted"===e.type?(s=[h],c=[]):(s=[],c=[h]);var f=h.previousSibling,p=h.nextSibling,r=d("childList",e.target.parentNode);r.addedNodes=s,r.removedNodes=c,r.previousSibling=f,r.nextSibling=p,i(e.relatedNode,function(e){if(e.childList)return r})}u()}},e.JsMutationObserver=a,e.MutationObserver||(e.MutationObserver=a,a._isPolyfilled=!0)}}(self),function(){function e(e){switch(e){case"&":return"&amp;";case"<":return"&lt;";case">":return"&gt;";case" ":return"&nbsp;"}}function t(t){return t.replace(u,e)}var n="undefined"==typeof HTMLTemplateElement;/Trident/.test(navigator.userAgent)&&!function(){var e=document.importNode;document.importNode=function(){var t=e.apply(document,arguments);if(t.nodeType===Node.DOCUMENT_FRAGMENT_NODE){var n=document.createDocumentFragment();return n.appendChild(t),n}return t}}();var o=function(){if(!n){var e=document.createElement("template"),t=document.createElement("template");t.content.appendChild(document.createElement("div")),e.content.appendChild(t);var o=e.cloneNode(!0);return 0===o.content.childNodes.length||0===o.content.firstChild.content.childNodes.length}}(),r="template",i=function(){};if(n){var a=document.implementation.createHTMLDocument("template"),s=!0,c=document.createElement("style");c.textContent=r+"{display:none;}";var d=document.head;d.insertBefore(c,d.firstElementChild),i.prototype=Object.create(HTMLElement.prototype),i.decorate=function(e){if(!e.content){e.content=a.createDocumentFragment();for(var n;n=e.firstChild;)e.content.appendChild(n);if(e.cloneNode=function(e){return i.cloneNode(this,e)},s)try{Object.defineProperty(e,"innerHTML",{get:function(){for(var e="",n=this.content.firstChild;n;n=n.nextSibling)e+=n.outerHTML||t(n.data);return e},set:function(e){for(a.body.innerHTML=e,i.bootstrap(a);this.content.firstChild;)this.content.removeChild(this.content.firstChild);for(;a.body.firstChild;)this.content.appendChild(a.body.firstChild)},configurable:!0})}catch(o){s=!1}i.bootstrap(e.content)}},i.bootstrap=function(e){for(var t,n=e.querySelectorAll(r),o=0,a=n.length;o<a&&(t=n[o]);o++)i.decorate(t)},document.addEventListener("DOMContentLoaded",function(){i.bootstrap(document)});var l=document.createElement;document.createElement=function(){"use strict";var e=l.apply(document,arguments);return"template"===e.localName&&i.decorate(e),e};var u=/[&\u00A0<>]/g}if(n||o){var h=Node.prototype.cloneNode;i.cloneNode=function(e,t){var n=h.call(e,!1);return this.decorate&&this.decorate(n),t&&(n.content.appendChild(h.call(e.content,!0)),this.fixClonedDom(n.content,e.content)),n},i.fixClonedDom=function(e,t){if(t.querySelectorAll)for(var n,o,i=t.querySelectorAll(r),a=e.querySelectorAll(r),s=0,c=a.length;s<c;s++)o=i[s],n=a[s],this.decorate&&this.decorate(o),n.parentNode.replaceChild(o.cloneNode(!0),n)};var f=document.importNode;Node.prototype.cloneNode=function(e){var t=h.call(this,e);return e&&i.fixClonedDom(t,this),t},document.importNode=function(e,t){if(e.localName===r)return i.cloneNode(e,t);var n=f.call(document,e,t);return t&&i.fixClonedDom(n,e),n},o&&(HTMLTemplateElement.prototype.cloneNode=function(e){return i.cloneNode(this,e)})}n&&(window.HTMLTemplateElement=i)}(),function(e){"use strict";if(!window.performance||!window.performance.now){var t=Date.now();window.performance={now:function(){return Date.now()-t}}}window.requestAnimationFrame||(window.requestAnimationFrame=function(){var e=window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame;return e?function(t){return e(function(){t(performance.now())})}:function(e){return window.setTimeout(e,1e3/60)}}()),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(){return window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||function(e){clearTimeout(e)}}());var n=function(){var e=document.createEvent("Event");return e.initEvent("foo",!0,!0),e.preventDefault(),e.defaultPrevented}();if(!n){var o=Event.prototype.preventDefault;Event.prototype.preventDefault=function(){this.cancelable&&(o.call(this),Object.defineProperty(this,"defaultPrevented",{get:function(){return!0},configurable:!0}))}}var r=/Trident/.test(navigator.userAgent);if((!window.CustomEvent||r&&"function"!=typeof window.CustomEvent)&&(window.CustomEvent=function(e,t){t=t||{};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,Boolean(t.bubbles),Boolean(t.cancelable),t.detail),n},window.CustomEvent.prototype=window.Event.prototype),!window.Event||r&&"function"!=typeof window.Event){var i=window.Event;window.Event=function(e,t){t=t||{};var n=document.createEvent("Event");return n.initEvent(e,Boolean(t.bubbles),Boolean(t.cancelable)),n},window.Event.prototype=i.prototype}}(window.WebComponents),window.HTMLImports=window.HTMLImports||{flags:{}},function(e){function t(e,t){t=t||p,o(function(){i(e,t)},t)}function n(e){return"complete"===e.readyState||e.readyState===w}function o(e,t){if(n(t))e&&e();else{var r=function(){"complete"!==t.readyState&&t.readyState!==w||(t.removeEventListener(_,r),o(e,t))};t.addEventListener(_,r)}}function r(e){e.target.__loaded=!0}function i(e,t){function n(){c==d&&e&&e({allImports:s,loadedImports:l,errorImports:u})}function o(e){r(e),l.push(this),c++,n()}function i(e){u.push(this),c++,n()}var s=t.querySelectorAll("link[rel=import]"),c=0,d=s.length,l=[],u=[];if(d)for(var h,f=0;f<d&&(h=s[f]);f++)a(h)?(l.push(this),c++,n()):(h.addEventListener("load",o),h.addEventListener("error",i));else n()}function a(e){return u?e.__loaded||e["import"]&&"loading"!==e["import"].readyState:e.__importParsed}function s(e){for(var t,n=0,o=e.length;n<o&&(t=e[n]);n++)c(t)&&d(t)}function c(e){return"link"===e.localName&&"import"===e.rel}function d(e){var t=e["import"];t?r({target:e}):(e.addEventListener("load",r),e.addEventListener("error",r))}var l="import",u=Boolean(l in document.createElement("link")),h=Boolean(window.ShadowDOMPolyfill),f=function(e){return h?window.ShadowDOMPolyfill.wrapIfNeeded(e):e},p=f(document),m={get:function(){var e=window.HTMLImports.currentScript||document.currentScript||("complete"!==document.readyState?document.scripts[document.scripts.length-1]:null);return f(e)},configurable:!0};Object.defineProperty(document,"_currentScript",m),Object.defineProperty(p,"_currentScript",m);var v=/Trident/.test(navigator.userAgent),w=v?"complete":"interactive",_="readystatechange";u&&(new MutationObserver(function(e){for(var t,n=0,o=e.length;n<o&&(t=e[n]);n++)t.addedNodes&&s(t.addedNodes)}).observe(document.head,{childList:!0}),function(){if("loading"===document.readyState)for(var e,t=document.querySelectorAll("link[rel=import]"),n=0,o=t.length;n<o&&(e=t[n]);n++)d(e)}()),t(function(e){window.HTMLImports.ready=!0,window.HTMLImports.readyTime=(new Date).getTime();var t=p.createEvent("CustomEvent");t.initCustomEvent("HTMLImportsLoaded",!0,!0,e),p.dispatchEvent(t)}),e.IMPORT_LINK_TYPE=l,e.useNative=u,e.rootDocument=p,e.whenReady=t,e.isIE=v}(window.HTMLImports),function(e){var t=[],n=function(e){t.push(e)},o=function(){t.forEach(function(t){t(e)})};e.addModule=n,e.initializeModules=o}(window.HTMLImports),window.HTMLImports.addModule(function(e){var t=/(url\()([^)]*)(\))/g,n=/(@import[\s]+(?!url\())([^;]*)(;)/g,o={resolveUrlsInStyle:function(e,t){var n=e.ownerDocument,o=n.createElement("a");return e.textContent=this.resolveUrlsInCssText(e.textContent,t,o),e},resolveUrlsInCssText:function(e,o,r){var i=this.replaceUrls(e,r,o,t);return i=this.replaceUrls(i,r,o,n)},replaceUrls:function(e,t,n,o){return e.replace(o,function(e,o,r,i){var a=r.replace(/["']/g,"");return n&&(a=new URL(a,n).href),t.href=a,a=t.href,o+"'"+a+"'"+i})}};e.path=o}),window.HTMLImports.addModule(function(e){var t={async:!0,ok:function(e){return e.status>=200&&e.status<300||304===e.status||0===e.status},load:function(n,o,r){var i=new XMLHttpRequest;return(e.flags.debug||e.flags.bust)&&(n+="?"+Math.random()),i.open("GET",n,t.async),i.addEventListener("readystatechange",function(e){if(4===i.readyState){var n=null;try{var a=i.getResponseHeader("Location");a&&(n="/"===a.substr(0,1)?location.origin+a:a)}catch(e){console.error(e.message)}o.call(r,!t.ok(i)&&i,i.response||i.responseText,n)}}),i.send(),i},loadDocument:function(e,t,n){this.load(e,t,n).responseType="document"}};e.xhr=t}),window.HTMLImports.addModule(function(e){var t=e.xhr,n=e.flags,o=function(e,t){this.cache={},this.onload=e,this.oncomplete=t,this.inflight=0,this.pending={}};o.prototype={addNodes:function(e){this.inflight+=e.length;for(var t,n=0,o=e.length;n<o&&(t=e[n]);n++)this.require(t);this.checkDone()},addNode:function(e){this.inflight++,this.require(e),this.checkDone()},require:function(e){var t=e.src||e.href;e.__nodeUrl=t,this.dedupe(t,e)||this.fetch(t,e)},dedupe:function(e,t){if(this.pending[e])return this.pending[e].push(t),!0;return this.cache[e]?(this.onload(e,t,this.cache[e]),this.tail(),!0):(this.pending[e]=[t],!1)},fetch:function(e,o){if(n.load&&console.log("fetch",e,o),e)if(e.match(/^data:/)){var r=e.split(","),i=r[0],a=r[1];a=i.indexOf(";base64")>-1?atob(a):decodeURIComponent(a),setTimeout(function(){this.receive(e,o,null,a)}.bind(this),0)}else{var s=function(t,n,r){this.receive(e,o,t,n,r)}.bind(this);t.load(e,s)}else setTimeout(function(){this.receive(e,o,{error:"href must be specified"},null)}.bind(this),0)},receive:function(e,t,n,o,r){this.cache[e]=o;for(var i,a=this.pending[e],s=0,c=a.length;s<c&&(i=a[s]);s++)this.onload(e,i,o,n,r),this.tail();this.pending[e]=null},tail:function(){--this.inflight,this.checkDone()},checkDone:function(){this.inflight||this.oncomplete()}},e.Loader=o}),window.HTMLImports.addModule(function(e){var t=function(e){this.addCallback=e,this.mo=new MutationObserver(this.handler.bind(this))};t.prototype={handler:function(e){for(var t,n=0,o=e.length;n<o&&(t=e[n]);n++)"childList"===t.type&&t.addedNodes.length&&this.addedNodes(t.addedNodes)},addedNodes:function(e){this.addCallback&&this.addCallback(e);for(var t,n=0,o=e.length;n<o&&(t=e[n]);n++)t.children&&t.children.length&&this.addedNodes(t.children)},observe:function(e){this.mo.observe(e,{childList:!0,subtree:!0})}},e.Observer=t}),window.HTMLImports.addModule(function(e){function t(e){return"link"===e.localName&&e.rel===l}function n(e){var t=o(e);return"data:text/javascript;charset=utf-8,"+encodeURIComponent(t)}function o(e){return e.textContent+r(e)}function r(e){var t=e.ownerDocument;t.__importedScripts=t.__importedScripts||0;var n=e.ownerDocument.baseURI,o=t.__importedScripts?"-"+t.__importedScripts:"";return t.__importedScripts++,"\n//# sourceURL="+n+o+".js\n"}function i(e){var t=e.ownerDocument.createElement("style");return t.textContent=e.textContent,a.resolveUrlsInStyle(t),t}var a=e.path,s=e.rootDocument,c=e.flags,d=e.isIE,l=e.IMPORT_LINK_TYPE,u="link[rel="+l+"]",h={documentSelectors:u,importsSelectors:[u,"link[rel=stylesheet]:not([type])","style:not([type])","script:not([type])",'script[type="application/javascript"]','script[type="text/javascript"]'].join(","),map:{link:"parseLink",script:"parseScript",style:"parseStyle"},dynamicElements:[],parseNext:function(){var e=this.nextToParse();e&&this.parse(e)},parse:function(e){if(this.isParsed(e))return void(c.parse&&console.log("[%s] is already parsed",e.localName));var t=this[this.map[e.localName]];t&&(this.markParsing(e),t.call(this,e))},parseDynamic:function(e,t){this.dynamicElements.push(e),t||this.parseNext()},markParsing:function(e){c.parse&&console.log("parsing",e),this.parsingElement=e},markParsingComplete:function(e){e.__importParsed=!0,this.markDynamicParsingComplete(e),e.__importElement&&(e.__importElement.__importParsed=!0,this.markDynamicParsingComplete(e.__importElement)),this.parsingElement=null,c.parse&&console.log("completed",e)},markDynamicParsingComplete:function(e){var t=this.dynamicElements.indexOf(e);t>=0&&this.dynamicElements.splice(t,1)},parseImport:function(e){if(e["import"]=e.__doc,window.HTMLImports.__importsParsingHook&&window.HTMLImports.__importsParsingHook(e),e["import"]&&(e["import"].__importParsed=!0),this.markParsingComplete(e),e.__resource&&!e.__error?e.dispatchEvent(new CustomEvent("load",{bubbles:!1})):e.dispatchEvent(new CustomEvent("error",{bubbles:!1})),e.__pending)for(var t;e.__pending.length;)t=e.__pending.shift(),t&&t({target:e});this.parseNext()},parseLink:function(e){t(e)?this.parseImport(e):(e.href=e.href,this.parseGeneric(e))},parseStyle:function(e){var t=e;e=i(e),t.__appliedElement=e,e.__importElement=t,this.parseGeneric(e)},parseGeneric:function(e){this.trackElement(e),this.addElementToDocument(e)},rootImportForElement:function(e){for(var t=e;t.ownerDocument.__importLink;)t=t.ownerDocument.__importLink;return t},addElementToDocument:function(e){var t=this.rootImportForElement(e.__importElement||e);t.parentNode.insertBefore(e,t)},trackElement:function(e,t){var n=this,o=function(r){e.removeEventListener("load",o),e.removeEventListener("error",o),t&&t(r),n.markParsingComplete(e),n.parseNext()};if(e.addEventListener("load",o),e.addEventListener("error",o),d&&"style"===e.localName){var r=!1;if(e.textContent.indexOf("@import")==-1)r=!0;else if(e.sheet){r=!0;for(var i,a=e.sheet.cssRules,s=a?a.length:0,c=0;c<s&&(i=a[c]);c++)i.type===CSSRule.IMPORT_RULE&&(r=r&&Boolean(i.styleSheet))}r&&setTimeout(function(){e.dispatchEvent(new CustomEvent("load",{bubbles:!1}))})}},parseScript:function(t){var o=document.createElement("script");o.__importElement=t,o.src=t.src?t.src:n(t),e.currentScript=t,this.trackElement(o,function(t){o.parentNode&&o.parentNode.removeChild(o),e.currentScript=null}),this.addElementToDocument(o)},nextToParse:function(){return this._mayParse=[],!this.parsingElement&&(this.nextToParseInDoc(s)||this.nextToParseDynamic())},nextToParseInDoc:function(e,n){if(e&&this._mayParse.indexOf(e)<0){this._mayParse.push(e);for(var o,r=e.querySelectorAll(this.parseSelectorsForNode(e)),i=0,a=r.length;i<a&&(o=r[i]);i++)if(!this.isParsed(o))return this.hasResource(o)?t(o)?this.nextToParseInDoc(o.__doc,o):o:void 0}return n},nextToParseDynamic:function(){return this.dynamicElements[0]},parseSelectorsForNode:function(e){var t=e.ownerDocument||e;return t===s?this.documentSelectors:this.importsSelectors},isParsed:function(e){return e.__importParsed},needsDynamicParsing:function(e){return this.dynamicElements.indexOf(e)>=0},hasResource:function(e){return!t(e)||void 0!==e.__doc}};e.parser=h,e.IMPORT_SELECTOR=u}),window.HTMLImports.addModule(function(e){function t(e){return n(e,a)}function n(e,t){return"link"===e.localName&&e.getAttribute("rel")===t}function o(e){return!!Object.getOwnPropertyDescriptor(e,"baseURI")}function r(e,t){var n=document.implementation.createHTMLDocument(a);n._URL=t;var r=n.createElement("base");r.setAttribute("href",t),n.baseURI||o(n)||Object.defineProperty(n,"baseURI",{value:t});var i=n.createElement("meta");return i.setAttribute("charset","utf-8"),n.head.appendChild(i),n.head.appendChild(r),n.body.innerHTML=e,window.HTMLTemplateElement&&HTMLTemplateElement.bootstrap&&HTMLTemplateElement.bootstrap(n),n}var i=e.flags,a=e.IMPORT_LINK_TYPE,s=e.IMPORT_SELECTOR,c=e.rootDocument,d=e.Loader,l=e.Observer,u=e.parser,h={documents:{},documentPreloadSelectors:s,importsPreloadSelectors:[s].join(","),loadNode:function(e){f.addNode(e)},loadSubtree:function(e){var t=this.marshalNodes(e);f.addNodes(t)},marshalNodes:function(e){return e.querySelectorAll(this.loadSelectorsForNode(e))},loadSelectorsForNode:function(e){var t=e.ownerDocument||e;return t===c?this.documentPreloadSelectors:this.importsPreloadSelectors},loaded:function(e,n,o,a,s){if(i.load&&console.log("loaded",e,n),n.__resource=o,n.__error=a,t(n)){var c=this.documents[e];void 0===c&&(c=a?null:r(o,s||e),c&&(c.__importLink=n,this.bootDocument(c)),this.documents[e]=c),n.__doc=c}u.parseNext()},bootDocument:function(e){this.loadSubtree(e),this.observer.observe(e),u.parseNext()},loadedAll:function(){u.parseNext()}},f=new d(h.loaded.bind(h),h.loadedAll.bind(h));if(h.observer=new l,!document.baseURI){var p={get:function(){var e=document.querySelector("base");return e?e.href:window.location.href},configurable:!0};Object.defineProperty(document,"baseURI",p),Object.defineProperty(c,"baseURI",p)}e.importer=h,e.importLoader=f}),window.HTMLImports.addModule(function(e){var t=e.parser,n=e.importer,o={added:function(e){for(var o,r,i,a,s=0,c=e.length;s<c&&(a=e[s]);s++)o||(o=a.ownerDocument,r=t.isParsed(o)),i=this.shouldLoadNode(a),i&&n.loadNode(a),this.shouldParseNode(a)&&r&&t.parseDynamic(a,i)},shouldLoadNode:function(e){return 1===e.nodeType&&r.call(e,n.loadSelectorsForNode(e))},shouldParseNode:function(e){return 1===e.nodeType&&r.call(e,t.parseSelectorsForNode(e))}};n.observer.addCallback=o.added.bind(o);var r=HTMLElement.prototype.matches||HTMLElement.prototype.matchesSelector||HTMLElement.prototype.webkitMatchesSelector||HTMLElement.prototype.mozMatchesSelector||HTMLElement.prototype.msMatchesSelector}),function(e){function t(){window.HTMLImports.importer.bootDocument(o)}var n=e.initializeModules;e.isIE;if(!e.useNative){n();var o=e.rootDocument;"complete"===document.readyState||"interactive"===document.readyState&&!window.attachEvent?t():document.addEventListener("DOMContentLoaded",t)}}(window.HTMLImports),window.CustomElements=window.CustomElements||{flags:{}},function(e){var t=e.flags,n=[],o=function(e){n.push(e)},r=function(){n.forEach(function(t){t(e)})};e.addModule=o,e.initializeModules=r,e.hasNative=Boolean(document.registerElement),e.isIE=/Trident/.test(navigator.userAgent),e.useNative=!t.register&&e.hasNative&&!window.ShadowDOMPolyfill&&(!window.HTMLImports||window.HTMLImports.useNative)}(window.CustomElements),window.CustomElements.addModule(function(e){function t(e,t){n(e,function(e){return!!t(e)||void o(e,t)}),o(e,t)}function n(e,t,o){var r=e.firstElementChild;if(!r)for(r=e.firstChild;r&&r.nodeType!==Node.ELEMENT_NODE;)r=r.nextSibling;for(;r;)t(r,o)!==!0&&n(r,t,o),r=r.nextElementSibling;return null}function o(e,n){for(var o=e.shadowRoot;o;)t(o,n),o=o.olderShadowRoot}function r(e,t){i(e,t,[])}function i(e,t,n){if(e=window.wrap(e),!(n.indexOf(e)>=0)){n.push(e);for(var o,r=e.querySelectorAll("link[rel="+a+"]"),s=0,c=r.length;s<c&&(o=r[s]);s++)o["import"]&&i(o["import"],t,n);t(e)}}var a=window.HTMLImports?window.HTMLImports.IMPORT_LINK_TYPE:"none";e.forDocumentTree=r,e.forSubtree=t}),window.CustomElements.addModule(function(e){function t(e,t){return n(e,t)||o(e,t)}function n(t,n){return!!e.upgrade(t,n)||void(n&&a(t))}function o(e,t){g(e,function(e){if(n(e,t))return!0})}function r(e){L.push(e),E||(E=!0,setTimeout(i))}function i(){E=!1;for(var e,t=L,n=0,o=t.length;n<o&&(e=t[n]);n++)e();L=[]}function a(e){y?r(function(){s(e);
}):s(e)}function s(e){e.__upgraded__&&!e.__attached&&(e.__attached=!0,e.attachedCallback&&e.attachedCallback())}function c(e){d(e),g(e,function(e){d(e)})}function d(e){y?r(function(){l(e)}):l(e)}function l(e){e.__upgraded__&&e.__attached&&(e.__attached=!1,e.detachedCallback&&e.detachedCallback())}function u(e){for(var t=e,n=window.wrap(document);t;){if(t==n)return!0;t=t.parentNode||t.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&t.host}}function h(e){if(e.shadowRoot&&!e.shadowRoot.__watched){_.dom&&console.log("watching shadow-root for: ",e.localName);for(var t=e.shadowRoot;t;)m(t),t=t.olderShadowRoot}}function f(e,n){if(_.dom){var o=n[0];if(o&&"childList"===o.type&&o.addedNodes&&o.addedNodes){for(var r=o.addedNodes[0];r&&r!==document&&!r.host;)r=r.parentNode;var i=r&&(r.URL||r._URL||r.host&&r.host.localName)||"";i=i.split("/?").shift().split("/").pop()}console.group("mutations (%d) [%s]",n.length,i||"")}var a=u(e);n.forEach(function(e){"childList"===e.type&&(N(e.addedNodes,function(e){e.localName&&t(e,a)}),N(e.removedNodes,function(e){e.localName&&c(e)}))}),_.dom&&console.groupEnd()}function p(e){for(e=window.wrap(e),e||(e=window.wrap(document));e.parentNode;)e=e.parentNode;var t=e.__observer;t&&(f(e,t.takeRecords()),i())}function m(e){if(!e.__observer){var t=new MutationObserver(f.bind(this,e));t.observe(e,{childList:!0,subtree:!0}),e.__observer=t}}function v(e){e=window.wrap(e),_.dom&&console.group("upgradeDocument: ",e.baseURI.split("/").pop());var n=e===window.wrap(document);t(e,n),m(e),_.dom&&console.groupEnd()}function w(e){b(e,v)}var _=e.flags,g=e.forSubtree,b=e.forDocumentTree,y=window.MutationObserver._isPolyfilled&&_["throttle-attached"];e.hasPolyfillMutations=y,e.hasThrottledAttached=y;var E=!1,L=[],N=Array.prototype.forEach.call.bind(Array.prototype.forEach),M=Element.prototype.createShadowRoot;M&&(Element.prototype.createShadowRoot=function(){var e=M.call(this);return window.CustomElements.watchShadow(this),e}),e.watchShadow=h,e.upgradeDocumentTree=w,e.upgradeDocument=v,e.upgradeSubtree=o,e.upgradeAll=t,e.attached=a,e.takeRecords=p}),window.CustomElements.addModule(function(e){function t(t,o){if("template"===t.localName&&window.HTMLTemplateElement&&HTMLTemplateElement.decorate&&HTMLTemplateElement.decorate(t),!t.__upgraded__&&t.nodeType===Node.ELEMENT_NODE){var r=t.getAttribute("is"),i=e.getRegisteredDefinition(t.localName)||e.getRegisteredDefinition(r);if(i&&(r&&i.tag==t.localName||!r&&!i["extends"]))return n(t,i,o)}}function n(t,n,r){return a.upgrade&&console.group("upgrade:",t.localName),n.is&&t.setAttribute("is",n.is),o(t,n),t.__upgraded__=!0,i(t),r&&e.attached(t),e.upgradeSubtree(t,r),a.upgrade&&console.groupEnd(),t}function o(e,t){Object.__proto__?e.__proto__=t.prototype:(r(e,t.prototype,t["native"]),e.__proto__=t.prototype)}function r(e,t,n){for(var o={},r=t;r!==n&&r!==HTMLElement.prototype;){for(var i,a=Object.getOwnPropertyNames(r),s=0;i=a[s];s++)o[i]||(Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i)),o[i]=1);r=Object.getPrototypeOf(r)}}function i(e){e.createdCallback&&e.createdCallback()}var a=e.flags;e.upgrade=t,e.upgradeWithDefinition=n,e.implementPrototype=o}),window.CustomElements.addModule(function(e){function t(t,o){var c=o||{};if(!t)throw new Error("document.registerElement: first argument `name` must not be empty");if(t.indexOf("-")<0)throw new Error("document.registerElement: first argument ('name') must contain a dash ('-'). Argument provided was '"+String(t)+"'.");if(r(t))throw new Error("Failed to execute 'registerElement' on 'Document': Registration failed for type '"+String(t)+"'. The type name is invalid.");if(d(t))throw new Error("DuplicateDefinitionError: a type with name '"+String(t)+"' is already registered");return c.prototype||(c.prototype=Object.create(HTMLElement.prototype)),c.__name=t.toLowerCase(),c["extends"]&&(c["extends"]=c["extends"].toLowerCase()),c.lifecycle=c.lifecycle||{},c.ancestry=i(c["extends"]),a(c),s(c),n(c.prototype),l(c.__name,c),c.ctor=u(c),c.ctor.prototype=c.prototype,c.prototype.constructor=c.ctor,e.ready&&v(document),c.ctor}function n(e){if(!e.setAttribute._polyfilled){var t=e.setAttribute;e.setAttribute=function(e,n){o.call(this,e,n,t)};var n=e.removeAttribute;e.removeAttribute=function(e){o.call(this,e,null,n)},e.setAttribute._polyfilled=!0}}function o(e,t,n){e=e.toLowerCase();var o=this.getAttribute(e);n.apply(this,arguments);var r=this.getAttribute(e);this.attributeChangedCallback&&r!==o&&this.attributeChangedCallback(e,o,r)}function r(e){for(var t=0;t<y.length;t++)if(e===y[t])return!0}function i(e){var t=d(e);return t?i(t["extends"]).concat([t]):[]}function a(e){for(var t,n=e["extends"],o=0;t=e.ancestry[o];o++)n=t.is&&t.tag;e.tag=n||e.__name,n&&(e.is=e.__name)}function s(e){if(!Object.__proto__){var t=HTMLElement.prototype;if(e.is){var n=document.createElement(e.tag);t=Object.getPrototypeOf(n)}for(var o,r=e.prototype,i=!1;r;)r==t&&(i=!0),o=Object.getPrototypeOf(r),o&&(r.__proto__=o),r=o;i||console.warn(e.tag+" prototype not found in prototype chain for "+e.is),e["native"]=t}}function c(e){return _(N(e.tag),e)}function d(e){if(e)return E[e.toLowerCase()]}function l(e,t){E[e]=t}function u(e){return function(){return c(e)}}function h(e,t,n){return e===L?f(t,n):M(e,t)}function f(e,t){e&&(e=e.toLowerCase()),t&&(t=t.toLowerCase());var n=d(t||e);if(n){if(e==n.tag&&t==n.is)return new n.ctor;if(!t&&!n.is)return new n.ctor}var o;return t?(o=f(e),o.setAttribute("is",t),o):(o=N(e),e.indexOf("-")>=0&&g(o,HTMLElement),o)}function p(e,t){var n=e[t];e[t]=function(){var e=n.apply(this,arguments);return w(e),e}}var m,v=(e.isIE,e.upgradeDocumentTree),w=e.upgradeAll,_=e.upgradeWithDefinition,g=e.implementPrototype,b=e.useNative,y=["annotation-xml","color-profile","font-face","font-face-src","font-face-uri","font-face-format","font-face-name","missing-glyph"],E={},L="http://www.w3.org/1999/xhtml",N=document.createElement.bind(document),M=document.createElementNS.bind(document);m=Object.__proto__||b?function(e,t){return e instanceof t}:function(e,t){if(e instanceof t)return!0;for(var n=e;n;){if(n===t.prototype)return!0;n=n.__proto__}return!1},p(Node.prototype,"cloneNode"),p(document,"importNode"),document.registerElement=t,document.createElement=f,document.createElementNS=h,e.registry=E,e["instanceof"]=m,e.reservedTagList=y,e.getRegisteredDefinition=d,document.register=document.registerElement}),function(e){function t(){i(window.wrap(document)),window.CustomElements.ready=!0;var e=window.requestAnimationFrame||function(e){setTimeout(e,16)};e(function(){setTimeout(function(){window.CustomElements.readyTime=Date.now(),window.HTMLImports&&(window.CustomElements.elapsed=window.CustomElements.readyTime-window.HTMLImports.readyTime),document.dispatchEvent(new CustomEvent("WebComponentsReady",{bubbles:!0}))})})}var n=e.useNative,o=e.initializeModules;e.isIE;if(n){var r=function(){};e.watchShadow=r,e.upgrade=r,e.upgradeAll=r,e.upgradeDocumentTree=r,e.upgradeSubtree=r,e.takeRecords=r,e["instanceof"]=function(e,t){return e instanceof t}}else o();var i=e.upgradeDocumentTree,a=e.upgradeDocument;if(window.wrap||(window.ShadowDOMPolyfill?(window.wrap=window.ShadowDOMPolyfill.wrapIfNeeded,window.unwrap=window.ShadowDOMPolyfill.unwrapIfNeeded):window.wrap=window.unwrap=function(e){return e}),window.HTMLImports&&(window.HTMLImports.__importsParsingHook=function(e){e["import"]&&a(wrap(e["import"]))}),"complete"===document.readyState||e.flags.eager)t();else if("interactive"!==document.readyState||window.attachEvent||window.HTMLImports&&!window.HTMLImports.ready){var s=window.HTMLImports&&!window.HTMLImports.ready?"HTMLImportsLoaded":"DOMContentLoaded";window.addEventListener(s,t)}else t()}(window.CustomElements),function(e){var t=document.createElement("style");t.textContent="body {transition: opacity ease-in 0.2s; } \nbody[unresolved] {opacity: 0; display: block; overflow: hidden; position: relative; } \n";var n=document.querySelector("head");n.insertBefore(t,n.firstChild)}(window.WebComponents);</script>
<link rel="stylesheet" href="./TensorBoard_files/css">
<link rel="stylesheet" href="./TensorBoard_files/css(1)">


<style>
  html,
  body {
    margin: 0;
    padding: 0;
    height: 100%;
    font-family: "RobotoDraft", "Roboto", sans-serif;
  }
</style>

<script>// Copyright 2014 Google Inc. All rights reserved.
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
//     You may obtain a copy of the License at
//
// http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
//     See the License for the specific language governing permissions and
// limitations under the License.

!function(a,b){var c={},d={},e={},f=null;!function(a,b){function c(a){if("number"==typeof a)return a;var b={};for(var c in a)b[c]=a[c];return b}function d(){this._delay=0,this._endDelay=0,this._fill="none",this._iterationStart=0,this._iterations=1,this._duration=0,this._playbackRate=1,this._direction="normal",this._easing="linear",this._easingFunction=w}function e(){return a.isDeprecated("Invalid timing inputs","2016-03-02","TypeError exceptions will be thrown instead.",!0)}function f(b,c,e){var f=new d;return c&&(f.fill="both",f.duration="auto"),"number"!=typeof b||isNaN(b)?void 0!==b&&Object.getOwnPropertyNames(b).forEach(function(c){if("auto"!=b[c]){if(("number"==typeof f[c]||"duration"==c)&&("number"!=typeof b[c]||isNaN(b[c])))return;if("fill"==c&&-1==u.indexOf(b[c]))return;if("direction"==c&&-1==v.indexOf(b[c]))return;if("playbackRate"==c&&1!==b[c]&&a.isDeprecated("AnimationEffectTiming.playbackRate","2014-11-28","Use Animation.playbackRate instead."))return;f[c]=b[c]}}):f.duration=b,f}function g(a){return"number"==typeof a&&(a=isNaN(a)?{duration:0}:{duration:a}),a}function h(b,c){return b=a.numericTimingToObject(b),f(b,c)}function i(a,b,c,d){return 0>a||a>1||0>c||c>1?w:function(e){function f(a,b,c){return 3*a*(1-c)*(1-c)*c+3*b*(1-c)*c*c+c*c*c}if(0==e||1==e)return e;for(var g=0,h=1;;){var i=(g+h)/2,j=f(a,c,i);if(Math.abs(e-j)<1e-4)return f(b,d,i);e>j?g=i:h=i}}}function j(a,b){return function(c){if(c>=1)return 1;var d=1/a;return c+=b*d,c-c%d}}function k(a){B||(B=document.createElement("div").style),B.animationTimingFunction="",B.animationTimingFunction=a;var b=B.animationTimingFunction;if(""==b&&e())throw new TypeError(a+" is not a valid value for easing");var c=D.exec(b);if(c)return i.apply(this,c.slice(1).map(Number));var d=E.exec(b);if(d)return j(Number(d[1]),{start:x,middle:y,end:z}[d[2]]);var f=A[b];return f?f:w}function l(a){return Math.abs(m(a)/a.playbackRate)}function m(a){return a.duration*a.iterations}function n(a,b,c){return null==b?F:b<c.delay?G:b>=c.delay+a?H:I}function o(a,b,c,d,e){switch(d){case G:return"backwards"==b||"both"==b?0:null;case I:return c-e;case H:return"forwards"==b||"both"==b?a:null;case F:return null}}function p(a,b,c,d){return(d.playbackRate<0?b-a:b)*d.playbackRate+c}function q(a,b,c,d,e){return c===1/0||c===-(1/0)||c-d==b&&e.iterations&&(e.iterations+e.iterationStart)%1==0?a:c%a}function r(a,b,c,d){return 0===c?0:b==a?d.iterationStart+d.iterations-1:Math.floor(c/a)}function s(a,b,c,d){var e=a%2>=1,f="normal"==d.direction||d.direction==(e?"alternate-reverse":"alternate"),g=f?c:b-c,h=g/b;return b*d._easingFunction(h)}function t(a,b,c){var d=n(a,b,c),e=o(a,c.fill,b,d,c.delay);if(null===e)return null;if(0===a)return d===G?0:1;var f=c.iterationStart*c.duration,g=p(a,e,f,c),h=q(c.duration,m(c),g,f,c),i=r(c.duration,h,g,c);return s(i,c.duration,h,c)/c.duration}var u="backwards|forwards|both|none".split("|"),v="reverse|alternate|alternate-reverse".split("|"),w=function(a){return a};d.prototype={_setMember:function(b,c){this["_"+b]=c,this._effect&&(this._effect._timingInput[b]=c,this._effect._timing=a.normalizeTimingInput(this._effect._timingInput),this._effect.activeDuration=a.calculateActiveDuration(this._effect._timing),this._effect._animation&&this._effect._animation._rebuildUnderlyingAnimation())},get playbackRate(){return this._playbackRate},set delay(a){this._setMember("delay",a)},get delay(){return this._delay},set endDelay(a){this._setMember("endDelay",a)},get endDelay(){return this._endDelay},set fill(a){this._setMember("fill",a)},get fill(){return this._fill},set iterationStart(a){if((isNaN(a)||0>a)&&e())throw new TypeError("iterationStart must be a non-negative number, received: "+timing.iterationStart);this._setMember("iterationStart",a)},get iterationStart(){return this._iterationStart},set duration(a){if("auto"!=a&&(isNaN(a)||0>a)&&e())throw new TypeError("duration must be non-negative or auto, received: "+a);this._setMember("duration",a)},get duration(){return this._duration},set direction(a){this._setMember("direction",a)},get direction(){return this._direction},set easing(a){this._easingFunction=k(a),this._setMember("easing",a)},get easing(){return this._easing},set iterations(a){if((isNaN(a)||0>a)&&e())throw new TypeError("iterations must be non-negative, received: "+a);this._setMember("iterations",a)},get iterations(){return this._iterations}};var x=1,y=.5,z=0,A={ease:i(.25,.1,.25,1),"ease-in":i(.42,0,1,1),"ease-out":i(0,0,.58,1),"ease-in-out":i(.42,0,.58,1),"step-start":j(1,x),"step-middle":j(1,y),"step-end":j(1,z)},B=null,C="\\s*(-?\\d+\\.?\\d*|-?\\.\\d+)\\s*",D=new RegExp("cubic-bezier\\("+C+","+C+","+C+","+C+"\\)"),E=/steps\(\s*(\d+)\s*,\s*(start|middle|end)\s*\)/,F=0,G=1,H=2,I=3;a.cloneTimingInput=c,a.makeTiming=f,a.numericTimingToObject=g,a.normalizeTimingInput=h,a.calculateActiveDuration=l,a.calculateTimeFraction=t,a.calculatePhase=n,a.toTimingFunction=k}(c,f),function(a,b){function c(a,b){return a in j?j[a][b]||b:b}function d(a,b,d){var e=g[a];if(e){h.style[a]=b;for(var f in e){var i=e[f],j=h.style[i];d[i]=c(i,j)}}else d[a]=c(a,b)}function e(a){var b=[];for(var c in a)if(!(c in["easing","offset","composite"])){var d=a[c];Array.isArray(d)||(d=[d]);for(var e,f=d.length,g=0;f>g;g++)e={},"offset"in a?e.offset=a.offset:1==f?e.offset=1:e.offset=g/(f-1),"easing"in a&&(e.easing=a.easing),"composite"in a&&(e.composite=a.composite),e[c]=d[g],b.push(e)}return b.sort(function(a,b){return a.offset-b.offset}),b}function f(a){function b(){var a=c.length;null==c[a-1].offset&&(c[a-1].offset=1),a>1&&null==c[0].offset&&(c[0].offset=0);for(var b=0,d=c[0].offset,e=1;a>e;e++){var f=c[e].offset;if(null!=f){for(var g=1;e-b>g;g++)c[b+g].offset=d+(f-d)*g/(e-b);b=e,d=f}}}if(null==a)return[];window.Symbol&&Symbol.iterator&&Array.prototype.from&&a[Symbol.iterator]&&(a=Array.from(a)),Array.isArray(a)||(a=e(a));for(var c=a.map(function(a){var b={};for(var c in a){var e=a[c];if("offset"==c){if(null!=e&&(e=Number(e),!isFinite(e)))throw new TypeError("keyframe offsets must be numbers.")}else{if("composite"==c)throw{type:DOMException.NOT_SUPPORTED_ERR,name:"NotSupportedError",message:"add compositing is not supported"};e=""+e}d(c,e,b)}return void 0==b.offset&&(b.offset=null),b}),f=!0,g=-(1/0),h=0;h<c.length;h++){var i=c[h].offset;if(null!=i){if(g>i)throw{code:DOMException.INVALID_MODIFICATION_ERR,name:"InvalidModificationError",message:"Keyframes are not loosely sorted by offset. Sort or specify offsets."};g=i}else f=!1}return c=c.filter(function(a){return a.offset>=0&&a.offset<=1}),f||b(),c}var g={background:["backgroundImage","backgroundPosition","backgroundSize","backgroundRepeat","backgroundAttachment","backgroundOrigin","backgroundClip","backgroundColor"],border:["borderTopColor","borderTopStyle","borderTopWidth","borderRightColor","borderRightStyle","borderRightWidth","borderBottomColor","borderBottomStyle","borderBottomWidth","borderLeftColor","borderLeftStyle","borderLeftWidth"],borderBottom:["borderBottomWidth","borderBottomStyle","borderBottomColor"],borderColor:["borderTopColor","borderRightColor","borderBottomColor","borderLeftColor"],borderLeft:["borderLeftWidth","borderLeftStyle","borderLeftColor"],borderRadius:["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"],borderRight:["borderRightWidth","borderRightStyle","borderRightColor"],borderTop:["borderTopWidth","borderTopStyle","borderTopColor"],borderWidth:["borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth"],flex:["flexGrow","flexShrink","flexBasis"],font:["fontFamily","fontSize","fontStyle","fontVariant","fontWeight","lineHeight"],margin:["marginTop","marginRight","marginBottom","marginLeft"],outline:["outlineColor","outlineStyle","outlineWidth"],padding:["paddingTop","paddingRight","paddingBottom","paddingLeft"]},h=document.createElementNS("http://www.w3.org/1999/xhtml","div"),i={thin:"1px",medium:"3px",thick:"5px"},j={borderBottomWidth:i,borderLeftWidth:i,borderRightWidth:i,borderTopWidth:i,fontSize:{"xx-small":"60%","x-small":"75%",small:"89%",medium:"100%",large:"120%","x-large":"150%","xx-large":"200%"},fontWeight:{normal:"400",bold:"700"},outlineWidth:i,textShadow:{none:"0px 0px 0px transparent"},boxShadow:{none:"0px 0px 0px 0px transparent"}};a.convertToArrayForm=e,a.normalizeKeyframes=f}(c,f),function(a){var b={};a.isDeprecated=function(a,c,d,e){var f=e?"are":"is",g=new Date,h=new Date(c);return h.setMonth(h.getMonth()+3),h>g?(a in b||console.warn("Web Animations: "+a+" "+f+" deprecated and will stop working on "+h.toDateString()+". "+d),b[a]=!0,!1):!0},a.deprecated=function(b,c,d,e){var f=e?"are":"is";if(a.isDeprecated(b,c,d,e))throw new Error(b+" "+f+" no longer supported. "+d)}}(c),function(){if(document.documentElement.animate){var a=document.documentElement.animate([],0),b=!0;if(a&&(b=!1,"play|currentTime|pause|reverse|playbackRate|cancel|finish|startTime|playState".split("|").forEach(function(c){void 0===a[c]&&(b=!0)})),!b)return}!function(a,b,c){function d(a){for(var b={},c=0;c<a.length;c++)for(var d in a[c])if("offset"!=d&&"easing"!=d&&"composite"!=d){var e={offset:a[c].offset,easing:a[c].easing,value:a[c][d]};b[d]=b[d]||[],b[d].push(e)}for(var f in b){var g=b[f];if(0!=g[0].offset||1!=g[g.length-1].offset)throw{type:DOMException.NOT_SUPPORTED_ERR,name:"NotSupportedError",message:"Partial keyframes are not supported"}}return b}function e(c){var d=[];for(var e in c)for(var f=c[e],g=0;g<f.length-1;g++){var h=f[g].offset,i=f[g+1].offset,j=f[g].value,k=f[g+1].value,l=f[g].easing;h==i&&(1==i?j=k:k=j),d.push({startTime:h,endTime:i,easing:a.toTimingFunction(l?l:"linear"),property:e,interpolation:b.propertyInterpolation(e,j,k)})}return d.sort(function(a,b){return a.startTime-b.startTime}),d}b.convertEffectInput=function(c){var f=a.normalizeKeyframes(c),g=d(f),h=e(g);return function(a,c){if(null!=c)h.filter(function(a){return 0>=c&&0==a.startTime||c>=1&&1==a.endTime||c>=a.startTime&&c<=a.endTime}).forEach(function(d){var e=c-d.startTime,f=d.endTime-d.startTime,g=0==f?0:d.easing(e/f);b.apply(a,d.property,d.interpolation(g))});else for(var d in g)"offset"!=d&&"easing"!=d&&"composite"!=d&&b.clear(a,d)}}}(c,d,f),function(a,b,c){function d(a){return a.replace(/-(.)/g,function(a,b){return b.toUpperCase()})}function e(a,b,c){h[c]=h[c]||[],h[c].push([a,b])}function f(a,b,c){for(var f=0;f<c.length;f++){var g=c[f];e(a,b,d(g))}}function g(c,e,f){var g=c;/-/.test(c)&&!a.isDeprecated("Hyphenated property names","2016-03-22","Use camelCase instead.",!0)&&(g=d(c)),"initial"!=e&&"initial"!=f||("initial"==e&&(e=i[g]),"initial"==f&&(f=i[g]));for(var j=e==f?[]:h[g],k=0;j&&k<j.length;k++){var l=j[k][0](e),m=j[k][0](f);if(void 0!==l&&void 0!==m){var n=j[k][1](l,m);if(n){var o=b.Interpolation.apply(null,n);return function(a){return 0==a?e:1==a?f:o(a)}}}}return b.Interpolation(!1,!0,function(a){return a?f:e})}var h={};b.addPropertiesHandler=f;var i={backgroundColor:"transparent",backgroundPosition:"0% 0%",borderBottomColor:"currentColor",borderBottomLeftRadius:"0px",borderBottomRightRadius:"0px",borderBottomWidth:"3px",borderLeftColor:"currentColor",borderLeftWidth:"3px",borderRightColor:"currentColor",borderRightWidth:"3px",borderSpacing:"2px",borderTopColor:"currentColor",borderTopLeftRadius:"0px",borderTopRightRadius:"0px",borderTopWidth:"3px",bottom:"auto",clip:"rect(0px, 0px, 0px, 0px)",color:"black",fontSize:"100%",fontWeight:"400",height:"auto",left:"auto",letterSpacing:"normal",lineHeight:"120%",marginBottom:"0px",marginLeft:"0px",marginRight:"0px",marginTop:"0px",maxHeight:"none",maxWidth:"none",minHeight:"0px",minWidth:"0px",opacity:"1.0",outlineColor:"invert",outlineOffset:"0px",outlineWidth:"3px",paddingBottom:"0px",paddingLeft:"0px",paddingRight:"0px",paddingTop:"0px",right:"auto",textIndent:"0px",textShadow:"0px 0px 0px transparent",top:"auto",transform:"",verticalAlign:"0px",visibility:"visible",width:"auto",wordSpacing:"normal",zIndex:"auto"};b.propertyInterpolation=g}(c,d,f),function(a,b,c){function d(b){var c=a.calculateActiveDuration(b),d=function(d){return a.calculateTimeFraction(c,d,b)};return d._totalDuration=b.delay+c+b.endDelay,d._isCurrent=function(d){var e=a.calculatePhase(c,d,b);return e===PhaseActive||e===PhaseBefore},d}b.KeyframeEffect=function(c,e,f,g){var h,i=d(a.normalizeTimingInput(f)),j=b.convertEffectInput(e),k=function(){j(c,h)};return k._update=function(a){return h=i(a),null!==h},k._clear=function(){j(c,null)},k._hasSameTarget=function(a){return c===a},k._isCurrent=i._isCurrent,k._totalDuration=i._totalDuration,k._id=g,k},b.NullEffect=function(a){var b=function(){a&&(a(),a=null)};return b._update=function(){return null},b._totalDuration=0,b._isCurrent=function(){return!1},b._hasSameTarget=function(){return!1},b}}(c,d,f),function(a,b){a.apply=function(b,c,d){b.style[a.propertyName(c)]=d},a.clear=function(b,c){b.style[a.propertyName(c)]=""}}(d,f),function(a){window.Element.prototype.animate=function(b,c){var d="";return c&&c.id&&(d=c.id),a.timeline._play(a.KeyframeEffect(this,b,c,d))}}(d),function(a,b){function c(a,b,d){if("number"==typeof a&&"number"==typeof b)return a*(1-d)+b*d;if("boolean"==typeof a&&"boolean"==typeof b)return.5>d?a:b;if(a.length==b.length){for(var e=[],f=0;f<a.length;f++)e.push(c(a[f],b[f],d));return e}throw"Mismatched interpolation arguments "+a+":"+b}a.Interpolation=function(a,b,d){return function(e){return d(c(a,b,e))}}}(d,f),function(a,b,c){a.sequenceNumber=0;var d=function(a,b,c){this.target=a,this.currentTime=b,this.timelineTime=c,this.type="finish",this.bubbles=!1,this.cancelable=!1,this.currentTarget=a,this.defaultPrevented=!1,this.eventPhase=Event.AT_TARGET,this.timeStamp=Date.now()};b.Animation=function(b){this.id="",b&&b._id&&(this.id=b._id),this._sequenceNumber=a.sequenceNumber++,this._currentTime=0,this._startTime=null,this._paused=!1,this._playbackRate=1,this._inTimeline=!0,this._finishedFlag=!0,this.onfinish=null,this._finishHandlers=[],this._effect=b,this._inEffect=this._effect._update(0),this._idle=!0,this._currentTimePending=!1},b.Animation.prototype={_ensureAlive:function(){this.playbackRate<0&&0===this.currentTime?this._inEffect=this._effect._update(-1):this._inEffect=this._effect._update(this.currentTime),this._inTimeline||!this._inEffect&&this._finishedFlag||(this._inTimeline=!0,b.timeline._animations.push(this))},_tickCurrentTime:function(a,b){a!=this._currentTime&&(this._currentTime=a,this._isFinished&&!b&&(this._currentTime=this._playbackRate>0?this._totalDuration:0),this._ensureAlive())},get currentTime(){return this._idle||this._currentTimePending?null:this._currentTime},set currentTime(a){a=+a,isNaN(a)||(b.restart(),this._paused||null==this._startTime||(this._startTime=this._timeline.currentTime-a/this._playbackRate),this._currentTimePending=!1,this._currentTime!=a&&(this._tickCurrentTime(a,!0),b.invalidateEffects()))},get startTime(){return this._startTime},set startTime(a){a=+a,isNaN(a)||this._paused||this._idle||(this._startTime=a,this._tickCurrentTime((this._timeline.currentTime-this._startTime)*this.playbackRate),b.invalidateEffects())},get playbackRate(){return this._playbackRate},set playbackRate(a){if(a!=this._playbackRate){var b=this.currentTime;this._playbackRate=a,this._startTime=null,"paused"!=this.playState&&"idle"!=this.playState&&this.play(),null!=b&&(this.currentTime=b)}},get _isFinished(){return!this._idle&&(this._playbackRate>0&&this._currentTime>=this._totalDuration||this._playbackRate<0&&this._currentTime<=0)},get _totalDuration(){return this._effect._totalDuration},get playState(){return this._idle?"idle":null==this._startTime&&!this._paused&&0!=this.playbackRate||this._currentTimePending?"pending":this._paused?"paused":this._isFinished?"finished":"running"},play:function(){this._paused=!1,(this._isFinished||this._idle)&&(this._currentTime=this._playbackRate>0?0:this._totalDuration,this._startTime=null),this._finishedFlag=!1,this._idle=!1,this._ensureAlive(),b.invalidateEffects()},pause:function(){this._isFinished||this._paused||this._idle||(this._currentTimePending=!0),this._startTime=null,this._paused=!0},finish:function(){this._idle||(this.currentTime=this._playbackRate>0?this._totalDuration:0,this._startTime=this._totalDuration-this.currentTime,this._currentTimePending=!1,b.invalidateEffects())},cancel:function(){this._inEffect&&(this._inEffect=!1,this._idle=!0,this._finishedFlag=!0,this.currentTime=0,this._startTime=null,this._effect._update(null),b.invalidateEffects())},reverse:function(){this.playbackRate*=-1,this.play()},addEventListener:function(a,b){"function"==typeof b&&"finish"==a&&this._finishHandlers.push(b)},removeEventListener:function(a,b){if("finish"==a){var c=this._finishHandlers.indexOf(b);c>=0&&this._finishHandlers.splice(c,1)}},_fireEvents:function(a){if(this._isFinished){if(!this._finishedFlag){var b=new d(this,this._currentTime,a),c=this._finishHandlers.concat(this.onfinish?[this.onfinish]:[]);setTimeout(function(){c.forEach(function(a){a.call(b.target,b)})},0),this._finishedFlag=!0}}else this._finishedFlag=!1},_tick:function(a,b){this._idle||this._paused||(null==this._startTime?b&&(this.startTime=a-this._currentTime/this.playbackRate):this._isFinished||this._tickCurrentTime((a-this._startTime)*this.playbackRate)),b&&(this._currentTimePending=!1,this._fireEvents(a))},get _needsTick(){return this.playState in{pending:1,running:1}||!this._finishedFlag}}}(c,d,f),function(a,b,c){function d(a){var b=j;j=[],a<p.currentTime&&(a=p.currentTime),h(a,!0),b.forEach(function(b){b[1](a)}),g(),l=void 0}function e(a,b){return a._sequenceNumber-b._sequenceNumber}function f(){this._animations=[],this.currentTime=window.performance&&performance.now?performance.now():0}function g(){o.forEach(function(a){a()}),o.length=0}function h(a,c){n=!1;var d=b.timeline;d.currentTime=a,d._animations.sort(e),m=!1;var f=d._animations;d._animations=[];var g=[],h=[];f=f.filter(function(b){b._tick(a,c),b._inEffect?h.push(b._effect):g.push(b._effect),b._needsTick&&(m=!0);var d=b._inEffect||b._needsTick;return b._inTimeline=d,d}),o.push.apply(o,g),o.push.apply(o,h),d._animations.push.apply(d._animations,f),m&&requestAnimationFrame(function(){})}var i=window.requestAnimationFrame,j=[],k=0;window.requestAnimationFrame=function(a){var b=k++;return 0==j.length&&i(d),j.push([b,a]),b},window.cancelAnimationFrame=function(a){j.forEach(function(b){b[0]==a&&(b[1]=function(){})})},f.prototype={_play:function(c){c._timing=a.normalizeTimingInput(c.timing);var d=new b.Animation(c);return d._idle=!1,d._timeline=this,this._animations.push(d),b.restart(),b.invalidateEffects(),d}};var l=void 0,m=!1,n=!1;b.restart=function(){return m||(m=!0,requestAnimationFrame(function(){}),n=!0),n},b.invalidateEffects=function(){h(b.timeline.currentTime,!1),g()};var o=[],p=new f;b.timeline=p}(c,d,f),function(a){function b(a,b){var c=a.exec(b);return c?(c=a.ignoreCase?c[0].toLowerCase():c[0],[c,b.substr(c.length)]):void 0}function c(a,b){b=b.replace(/^\s*/,"");var c=a(b);return c?[c[0],c[1].replace(/^\s*/,"")]:void 0}function d(a,d,e){a=c.bind(null,a);for(var f=[];;){var g=a(e);if(!g)return[f,e];if(f.push(g[0]),e=g[1],g=b(d,e),!g||""==g[1])return[f,e];e=g[1]}}function e(a,b){for(var c=0,d=0;d<b.length&&(!/\s|,/.test(b[d])||0!=c);d++)if("("==b[d])c++;else if(")"==b[d]&&(c--,0==c&&d++,0>=c))break;var e=a(b.substr(0,d));return void 0==e?void 0:[e,b.substr(d)]}function f(a,b){for(var c=a,d=b;c&&d;)c>d?c%=d:d%=c;return c=a*b/(c+d)}function g(a){return function(b){var c=a(b);return c&&(c[0]=void 0),c}}function h(a,b){return function(c){var d=a(c);return d?d:[b,c]}}function i(b,c){for(var d=[],e=0;e<b.length;e++){var f=a.consumeTrimmed(b[e],c);if(!f||""==f[0])return;void 0!==f[0]&&d.push(f[0]),c=f[1]}return""==c?d:void 0}function j(a,b,c,d,e){for(var g=[],h=[],i=[],j=f(d.length,e.length),k=0;j>k;k++){var l=b(d[k%d.length],e[k%e.length]);if(!l)return;g.push(l[0]),h.push(l[1]),i.push(l[2])}return[g,h,function(b){var d=b.map(function(a,b){return i[b](a)}).join(c);return a?a(d):d}]}function k(a,b,c){for(var d=[],e=[],f=[],g=0,h=0;h<c.length;h++)if("function"==typeof c[h]){var i=c[h](a[g],b[g++]);d.push(i[0]),e.push(i[1]),f.push(i[2])}else!function(a){d.push(!1),e.push(!1),f.push(function(){return c[a]})}(h);return[d,e,function(a){for(var b="",c=0;c<a.length;c++)b+=f[c](a[c]);return b}]}a.consumeToken=b,a.consumeTrimmed=c,a.consumeRepeated=d,a.consumeParenthesised=e,a.ignore=g,a.optional=h,a.consumeList=i,a.mergeNestedRepeated=j.bind(null,null),a.mergeWrappedNestedRepeated=j,a.mergeList=k}(d),function(a){function b(b){function c(b){var c=a.consumeToken(/^inset/i,b);if(c)return d.inset=!0,c;var c=a.consumeLengthOrPercent(b);if(c)return d.lengths.push(c[0]),c;var c=a.consumeColor(b);return c?(d.color=c[0],c):void 0}var d={inset:!1,lengths:[],color:null},e=a.consumeRepeated(c,/^/,b);return e&&e[0].length?[d,e[1]]:void 0}function c(c){var d=a.consumeRepeated(b,/^,/,c);return d&&""==d[1]?d[0]:void 0}function d(b,c){for(;b.lengths.length<Math.max(b.lengths.length,c.lengths.length);)b.lengths.push({px:0});for(;c.lengths.length<Math.max(b.lengths.length,c.lengths.length);)c.lengths.push({px:0});if(b.inset==c.inset&&!!b.color==!!c.color){for(var d,e=[],f=[[],0],g=[[],0],h=0;h<b.lengths.length;h++){var i=a.mergeDimensions(b.lengths[h],c.lengths[h],2==h);f[0].push(i[0]),g[0].push(i[1]),e.push(i[2])}if(b.color&&c.color){var j=a.mergeColors(b.color,c.color);f[1]=j[0],g[1]=j[1],d=j[2]}return[f,g,function(a){for(var c=b.inset?"inset ":" ",f=0;f<e.length;f++)c+=e[f](a[0][f])+" ";return d&&(c+=d(a[1])),c}]}}function e(b,c,d,e){function f(a){return{inset:a,color:[0,0,0,0],lengths:[{px:0},{px:0},{px:0},{px:0}]}}for(var g=[],h=[],i=0;i<d.length||i<e.length;i++){var j=d[i]||f(e[i].inset),k=e[i]||f(d[i].inset);g.push(j),h.push(k)}return a.mergeNestedRepeated(b,c,g,h)}var f=e.bind(null,d,", ");a.addPropertiesHandler(c,f,["box-shadow","text-shadow"])}(d),function(a,b){function c(a){return a.toFixed(3).replace(".000","")}function d(a,b,c){return Math.min(b,Math.max(a,c))}function e(a){return/^\s*[-+]?(\d*\.)?\d+\s*$/.test(a)?Number(a):void 0}function f(a,b){return[a,b,c]}function g(a,b){return 0!=a?i(0,1/0)(a,b):void 0}function h(a,b){return[a,b,function(a){return Math.round(d(1,1/0,a))}]}function i(a,b){return function(e,f){return[e,f,function(e){return c(d(a,b,e))}]}}function j(a,b){return[a,b,Math.round]}a.clamp=d,a.addPropertiesHandler(e,i(0,1/0),["border-image-width","line-height"]),a.addPropertiesHandler(e,i(0,1),["opacity","shape-image-threshold"]),a.addPropertiesHandler(e,g,["flex-grow","flex-shrink"]),a.addPropertiesHandler(e,h,["orphans","widows"]),a.addPropertiesHandler(e,j,["z-index"]),a.parseNumber=e,a.mergeNumbers=f,a.numberToString=c}(d,f),function(a,b){function c(a,b){return"visible"==a||"visible"==b?[0,1,function(c){return 0>=c?a:c>=1?b:"visible"}]:void 0}a.addPropertiesHandler(String,c,["visibility"])}(d),function(a,b){function c(a){a=a.trim(),f.fillStyle="#000",f.fillStyle=a;var b=f.fillStyle;if(f.fillStyle="#fff",f.fillStyle=a,b==f.fillStyle){f.fillRect(0,0,1,1);var c=f.getImageData(0,0,1,1).data;f.clearRect(0,0,1,1);var d=c[3]/255;return[c[0]*d,c[1]*d,c[2]*d,d]}}function d(b,c){return[b,c,function(b){function c(a){return Math.max(0,Math.min(255,a))}if(b[3])for(var d=0;3>d;d++)b[d]=Math.round(c(b[d]/b[3]));return b[3]=a.numberToString(a.clamp(0,1,b[3])),"rgba("+b.join(",")+")"}]}var e=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");e.width=e.height=1;var f=e.getContext("2d");a.addPropertiesHandler(c,d,["background-color","border-bottom-color","border-left-color","border-right-color","border-top-color","color","outline-color","text-decoration-color"]),a.consumeColor=a.consumeParenthesised.bind(null,c),a.mergeColors=d}(d,f),function(a,b){function c(a,b){if(b=b.trim().toLowerCase(),"0"==b&&"px".search(a)>=0)return{px:0};if(/^[^(]*$|^calc/.test(b)){b=b.replace(/calc\(/g,"(");var c={};b=b.replace(a,function(a){return c[a]=null,"U"+a});for(var d="U("+a.source+")",e=b.replace(/[-+]?(\d*\.)?\d+/g,"N").replace(new RegExp("N"+d,"g"),"D").replace(/\s[+-]\s/g,"O").replace(/\s/g,""),f=[/N\*(D)/g,/(N|D)[*\/]N/g,/(N|D)O\1/g,/\((N|D)\)/g],g=0;g<f.length;)f[g].test(e)?(e=e.replace(f[g],"$1"),g=0):g++;if("D"==e){for(var h in c){var i=eval(b.replace(new RegExp("U"+h,"g"),"").replace(new RegExp(d,"g"),"*0"));if(!isFinite(i))return;c[h]=i}return c}}}function d(a,b){return e(a,b,!0)}function e(b,c,d){var e,f=[];for(e in b)f.push(e);for(e in c)f.indexOf(e)<0&&f.push(e);return b=f.map(function(a){return b[a]||0}),c=f.map(function(a){return c[a]||0}),[b,c,function(b){var c=b.map(function(c,e){return 1==b.length&&d&&(c=Math.max(c,0)),a.numberToString(c)+f[e]}).join(" + ");return b.length>1?"calc("+c+")":c}]}var f="px|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc",g=c.bind(null,new RegExp(f,"g")),h=c.bind(null,new RegExp(f+"|%","g")),i=c.bind(null,/deg|rad|grad|turn/g);a.parseLength=g,a.parseLengthOrPercent=h,a.consumeLengthOrPercent=a.consumeParenthesised.bind(null,h),a.parseAngle=i,a.mergeDimensions=e;var j=a.consumeParenthesised.bind(null,g),k=a.consumeRepeated.bind(void 0,j,/^/),l=a.consumeRepeated.bind(void 0,k,/^,/);a.consumeSizePairList=l;var m=function(a){var b=l(a);return b&&""==b[1]?b[0]:void 0},n=a.mergeNestedRepeated.bind(void 0,d," "),o=a.mergeNestedRepeated.bind(void 0,n,",");a.mergeNonNegativeSizePair=n,a.addPropertiesHandler(m,o,["background-size"]),a.addPropertiesHandler(h,d,["border-bottom-width","border-image-width","border-left-width","border-right-width","border-top-width","flex-basis","font-size","height","line-height","max-height","max-width","outline-width","width"]),a.addPropertiesHandler(h,e,["border-bottom-left-radius","border-bottom-right-radius","border-top-left-radius","border-top-right-radius","bottom","left","letter-spacing","margin-bottom","margin-left","margin-right","margin-top","min-height","min-width","outline-offset","padding-bottom","padding-left","padding-right","padding-top","perspective","right","shape-margin","text-indent","top","vertical-align","word-spacing"])}(d,f),function(a,b){function c(b){return a.consumeLengthOrPercent(b)||a.consumeToken(/^auto/,b)}function d(b){var d=a.consumeList([a.ignore(a.consumeToken.bind(null,/^rect/)),a.ignore(a.consumeToken.bind(null,/^\(/)),a.consumeRepeated.bind(null,c,/^,/),a.ignore(a.consumeToken.bind(null,/^\)/))],b);return d&&4==d[0].length?d[0]:void 0}function e(b,c){return"auto"==b||"auto"==c?[!0,!1,function(d){var e=d?b:c;if("auto"==e)return"auto";var f=a.mergeDimensions(e,e);return f[2](f[0])}]:a.mergeDimensions(b,c)}function f(a){return"rect("+a+")"}var g=a.mergeWrappedNestedRepeated.bind(null,f,e,", ");a.parseBox=d,a.mergeBoxes=g,a.addPropertiesHandler(d,g,["clip"])}(d,f),function(a,b){function c(a){return function(b){var c=0;return a.map(function(a){return a===k?b[c++]:a})}}function d(a){return a}function e(b){if(b=b.toLowerCase().trim(),"none"==b)return[];for(var c,d=/\s*(\w+)\(([^)]*)\)/g,e=[],f=0;c=d.exec(b);){if(c.index!=f)return;f=c.index+c[0].length;var g=c[1],h=n[g];if(!h)return;var i=c[2].split(","),j=h[0];if(j.length<i.length)return;for(var k=[],o=0;o<j.length;o++){var p,q=i[o],r=j[o];if(p=q?{A:function(b){return"0"==b.trim()?m:a.parseAngle(b)},N:a.parseNumber,T:a.parseLengthOrPercent,L:a.parseLength}[r.toUpperCase()](q):{a:m,n:k[0],t:l}[r],void 0===p)return;k.push(p)}if(e.push({t:g,d:k}),d.lastIndex==b.length)return e}}function f(a){return a.toFixed(6).replace(".000000","")}function g(b,c){if(b.decompositionPair!==c){b.decompositionPair=c;var d=a.makeMatrixDecomposition(b)}if(c.decompositionPair!==b){c.decompositionPair=b;var e=a.makeMatrixDecomposition(c)}return null==d[0]||null==e[0]?[[!1],[!0],function(a){return a?c[0].d:b[0].d}]:(d[0].push(0),e[0].push(1),[d,e,function(b){var c=a.quat(d[0][3],e[0][3],b[5]),g=a.composeMatrix(b[0],b[1],b[2],c,b[4]),h=g.map(f).join(",");return h}])}function h(a){return a.replace(/[xy]/,"")}function i(a){return a.replace(/(x|y|z|3d)?$/,"3d")}function j(b,c){var d=a.makeMatrixDecomposition&&!0,e=!1;if(!b.length||!c.length){b.length||(e=!0,b=c,c=[]);for(var f=0;f<b.length;f++){var j=b[f].t,k=b[f].d,l="scale"==j.substr(0,5)?1:0;c.push({t:j,d:k.map(function(a){if("number"==typeof a)return l;var b={};for(var c in a)b[c]=l;return b})})}}var m=function(a,b){return"perspective"==a&&"perspective"==b||("matrix"==a||"matrix3d"==a)&&("matrix"==b||"matrix3d"==b)},o=[],p=[],q=[];if(b.length!=c.length){if(!d)return;var r=g(b,c);o=[r[0]],p=[r[1]],q=[["matrix",[r[2]]]]}else for(var f=0;f<b.length;f++){var j,s=b[f].t,t=c[f].t,u=b[f].d,v=c[f].d,w=n[s],x=n[t];if(m(s,t)){if(!d)return;var r=g([b[f]],[c[f]]);o.push(r[0]),p.push(r[1]),q.push(["matrix",[r[2]]])}else{if(s==t)j=s;else if(w[2]&&x[2]&&h(s)==h(t))j=h(s),u=w[2](u),v=x[2](v);else{if(!w[1]||!x[1]||i(s)!=i(t)){if(!d)return;var r=g(b,c);o=[r[0]],p=[r[1]],q=[["matrix",[r[2]]]];break}j=i(s),u=w[1](u),v=x[1](v)}for(var y=[],z=[],A=[],B=0;B<u.length;B++){var C="number"==typeof u[B]?a.mergeNumbers:a.mergeDimensions,r=C(u[B],v[B]);y[B]=r[0],z[B]=r[1],A.push(r[2])}o.push(y),p.push(z),q.push([j,A])}}if(e){var D=o;o=p,p=D}return[o,p,function(a){return a.map(function(a,b){var c=a.map(function(a,c){return q[b][1][c](a)}).join(",");return"matrix"==q[b][0]&&16==c.split(",").length&&(q[b][0]="matrix3d"),q[b][0]+"("+c+")"}).join(" ")}]}var k=null,l={px:0},m={deg:0},n={matrix:["NNNNNN",[k,k,0,0,k,k,0,0,0,0,1,0,k,k,0,1],d],matrix3d:["NNNNNNNNNNNNNNNN",d],rotate:["A"],rotatex:["A"],rotatey:["A"],rotatez:["A"],rotate3d:["NNNA"],perspective:["L"],scale:["Nn",c([k,k,1]),d],scalex:["N",c([k,1,1]),c([k,1])],scaley:["N",c([1,k,1]),c([1,k])],scalez:["N",c([1,1,k])],scale3d:["NNN",d],skew:["Aa",null,d],skewx:["A",null,c([k,m])],skewy:["A",null,c([m,k])],translate:["Tt",c([k,k,l]),d],translatex:["T",c([k,l,l]),c([k,l])],translatey:["T",c([l,k,l]),c([l,k])],translatez:["L",c([l,l,k])],translate3d:["TTL",d]};a.addPropertiesHandler(e,j,["transform"])}(d,f),function(a,b){function c(a,b){b.concat([a]).forEach(function(b){b in document.documentElement.style&&(d[a]=b)})}var d={};c("transform",["webkitTransform","msTransform"]),c("transformOrigin",["webkitTransformOrigin"]),c("perspective",["webkitPerspective"]),c("perspectiveOrigin",["webkitPerspectiveOrigin"]),a.propertyName=function(a){return d[a]||a}}(d,f)}(),!function(){if(void 0===document.createElement("div").animate([]).oncancel){var a;if(window.performance&&performance.now)var a=function(){return performance.now()};else var a=function(){return Date.now()};var b=function(a,b,c){this.target=a,this.currentTime=b,this.timelineTime=c,this.type="cancel",this.bubbles=!1,this.cancelable=!1,this.currentTarget=a,this.defaultPrevented=!1,this.eventPhase=Event.AT_TARGET,this.timeStamp=Date.now()},c=window.Element.prototype.animate;window.Element.prototype.animate=function(d,e){var f=c.call(this,d,e);f._cancelHandlers=[],f.oncancel=null;var g=f.cancel;f.cancel=function(){g.call(this);var c=new b(this,null,a()),d=this._cancelHandlers.concat(this.oncancel?[this.oncancel]:[]);setTimeout(function(){d.forEach(function(a){a.call(c.target,c)})},0)};var h=f.addEventListener;f.addEventListener=function(a,b){"function"==typeof b&&"cancel"==a?this._cancelHandlers.push(b):h.call(this,a,b)};var i=f.removeEventListener;return f.removeEventListener=function(a,b){if("cancel"==a){var c=this._cancelHandlers.indexOf(b);c>=0&&this._cancelHandlers.splice(c,1)}else i.call(this,a,b)},f}}}(),function(a){var b=document.documentElement,c=null,d=!1;try{var e=getComputedStyle(b).getPropertyValue("opacity"),f="0"==e?"1":"0";c=b.animate({opacity:[f,f]},{duration:1}),c.currentTime=0,d=getComputedStyle(b).getPropertyValue("opacity")==f}catch(g){}finally{c&&c.cancel()}if(!d){var h=window.Element.prototype.animate;window.Element.prototype.animate=function(b,c){return window.Symbol&&Symbol.iterator&&Array.prototype.from&&b[Symbol.iterator]&&(b=Array.from(b)),Array.isArray(b)||null===b||(b=a.convertToArrayForm(b)),h.call(this,b,c)}}}(c),!function(a,b,c){function d(a){var b=window.document.timeline;b.currentTime=a,b._discardAnimations(),0==b._animations.length?f=!1:requestAnimationFrame(d);
}var e=window.requestAnimationFrame;window.requestAnimationFrame=function(a){return e(function(b){window.document.timeline._updateAnimationsPromises(),a(b),window.document.timeline._updateAnimationsPromises()})},b.AnimationTimeline=function(){this._animations=[],this.currentTime=void 0},b.AnimationTimeline.prototype={getAnimations:function(){return this._discardAnimations(),this._animations.slice()},_updateAnimationsPromises:function(){b.animationsWithPromises=b.animationsWithPromises.filter(function(a){return a._updatePromises()})},_discardAnimations:function(){this._updateAnimationsPromises(),this._animations=this._animations.filter(function(a){return"finished"!=a.playState&&"idle"!=a.playState})},_play:function(a){var c=new b.Animation(a,this);return this._animations.push(c),b.restartWebAnimationsNextTick(),c._updatePromises(),c._animation.play(),c._updatePromises(),c},play:function(a){return a&&a.remove(),this._play(a)}};var f=!1;b.restartWebAnimationsNextTick=function(){f||(f=!0,requestAnimationFrame(d))};var g=new b.AnimationTimeline;b.timeline=g;try{Object.defineProperty(window.document,"timeline",{configurable:!0,get:function(){return g}})}catch(h){}try{window.document.timeline=g}catch(h){}}(c,e,f),function(a,b,c){b.animationsWithPromises=[],b.Animation=function(b,c){if(this.id="",b&&b._id&&(this.id=b._id),this.effect=b,b&&(b._animation=this),!c)throw new Error("Animation with null timeline is not supported");this._timeline=c,this._sequenceNumber=a.sequenceNumber++,this._holdTime=0,this._paused=!1,this._isGroup=!1,this._animation=null,this._childAnimations=[],this._callback=null,this._oldPlayState="idle",this._rebuildUnderlyingAnimation(),this._animation.cancel(),this._updatePromises()},b.Animation.prototype={_updatePromises:function(){var a=this._oldPlayState,b=this.playState;return this._readyPromise&&b!==a&&("idle"==b?(this._rejectReadyPromise(),this._readyPromise=void 0):"pending"==a?this._resolveReadyPromise():"pending"==b&&(this._readyPromise=void 0)),this._finishedPromise&&b!==a&&("idle"==b?(this._rejectFinishedPromise(),this._finishedPromise=void 0):"finished"==b?this._resolveFinishedPromise():"finished"==a&&(this._finishedPromise=void 0)),this._oldPlayState=this.playState,this._readyPromise||this._finishedPromise},_rebuildUnderlyingAnimation:function(){this._updatePromises();var a,c,d,e,f=!!this._animation;f&&(a=this.playbackRate,c=this._paused,d=this.startTime,e=this.currentTime,this._animation.cancel(),this._animation._wrapper=null,this._animation=null),(!this.effect||this.effect instanceof window.KeyframeEffect)&&(this._animation=b.newUnderlyingAnimationForKeyframeEffect(this.effect),b.bindAnimationForKeyframeEffect(this)),(this.effect instanceof window.SequenceEffect||this.effect instanceof window.GroupEffect)&&(this._animation=b.newUnderlyingAnimationForGroup(this.effect),b.bindAnimationForGroup(this)),this.effect&&this.effect._onsample&&b.bindAnimationForCustomEffect(this),f&&(1!=a&&(this.playbackRate=a),null!==d?this.startTime=d:null!==e?this.currentTime=e:null!==this._holdTime&&(this.currentTime=this._holdTime),c&&this.pause()),this._updatePromises()},_updateChildren:function(){if(this.effect&&"idle"!=this.playState){var a=this.effect._timing.delay;this._childAnimations.forEach(function(c){this._arrangeChildren(c,a),this.effect instanceof window.SequenceEffect&&(a+=b.groupChildDuration(c.effect))}.bind(this))}},_setExternalAnimation:function(a){if(this.effect&&this._isGroup)for(var b=0;b<this.effect.children.length;b++)this.effect.children[b]._animation=a,this._childAnimations[b]._setExternalAnimation(a)},_constructChildAnimations:function(){if(this.effect&&this._isGroup){var a=this.effect._timing.delay;this._removeChildAnimations(),this.effect.children.forEach(function(c){var d=window.document.timeline._play(c);this._childAnimations.push(d),d.playbackRate=this.playbackRate,this._paused&&d.pause(),c._animation=this.effect._animation,this._arrangeChildren(d,a),this.effect instanceof window.SequenceEffect&&(a+=b.groupChildDuration(c))}.bind(this))}},_arrangeChildren:function(a,b){null===this.startTime?a.currentTime=this.currentTime-b/this.playbackRate:a.startTime!==this.startTime+b/this.playbackRate&&(a.startTime=this.startTime+b/this.playbackRate)},get timeline(){return this._timeline},get playState(){return this._animation?this._animation.playState:"idle"},get finished(){return window.Promise?(this._finishedPromise||(-1==b.animationsWithPromises.indexOf(this)&&b.animationsWithPromises.push(this),this._finishedPromise=new Promise(function(a,b){this._resolveFinishedPromise=function(){a(this)},this._rejectFinishedPromise=function(){b({type:DOMException.ABORT_ERR,name:"AbortError"})}}.bind(this)),"finished"==this.playState&&this._resolveFinishedPromise()),this._finishedPromise):(console.warn("Animation Promises require JavaScript Promise constructor"),null)},get ready(){return window.Promise?(this._readyPromise||(-1==b.animationsWithPromises.indexOf(this)&&b.animationsWithPromises.push(this),this._readyPromise=new Promise(function(a,b){this._resolveReadyPromise=function(){a(this)},this._rejectReadyPromise=function(){b({type:DOMException.ABORT_ERR,name:"AbortError"})}}.bind(this)),"pending"!==this.playState&&this._resolveReadyPromise()),this._readyPromise):(console.warn("Animation Promises require JavaScript Promise constructor"),null)},get onfinish(){return this._animation.onfinish},set onfinish(a){"function"==typeof a?this._animation.onfinish=function(b){b.target=this,a.call(this,b)}.bind(this):this._animation.onfinish=a},get oncancel(){return this._animation.oncancel},set oncancel(a){"function"==typeof a?this._animation.oncancel=function(b){b.target=this,a.call(this,b)}.bind(this):this._animation.oncancel=a},get currentTime(){this._updatePromises();var a=this._animation.currentTime;return this._updatePromises(),a},set currentTime(a){this._updatePromises(),this._animation.currentTime=isFinite(a)?a:Math.sign(a)*Number.MAX_VALUE,this._register(),this._forEachChild(function(b,c){b.currentTime=a-c}),this._updatePromises()},get startTime(){return this._animation.startTime},set startTime(a){this._updatePromises(),this._animation.startTime=isFinite(a)?a:Math.sign(a)*Number.MAX_VALUE,this._register(),this._forEachChild(function(b,c){b.startTime=a+c}),this._updatePromises()},get playbackRate(){return this._animation.playbackRate},set playbackRate(a){this._updatePromises();var b=this.currentTime;this._animation.playbackRate=a,this._forEachChild(function(b){b.playbackRate=a}),"paused"!=this.playState&&"idle"!=this.playState&&this.play(),null!==b&&(this.currentTime=b),this._updatePromises()},play:function(){this._updatePromises(),this._paused=!1,this._animation.play(),-1==this._timeline._animations.indexOf(this)&&this._timeline._animations.push(this),this._register(),b.awaitStartTime(this),this._forEachChild(function(a){var b=a.currentTime;a.play(),a.currentTime=b}),this._updatePromises()},pause:function(){this._updatePromises(),this.currentTime&&(this._holdTime=this.currentTime),this._animation.pause(),this._register(),this._forEachChild(function(a){a.pause()}),this._paused=!0,this._updatePromises()},finish:function(){this._updatePromises(),this._animation.finish(),this._register(),this._updatePromises()},cancel:function(){this._updatePromises(),this._animation.cancel(),this._register(),this._removeChildAnimations(),this._updatePromises()},reverse:function(){this._updatePromises();var a=this.currentTime;this._animation.reverse(),this._forEachChild(function(a){a.reverse()}),null!==a&&(this.currentTime=a),this._updatePromises()},addEventListener:function(a,b){var c=b;"function"==typeof b&&(c=function(a){a.target=this,b.call(this,a)}.bind(this),b._wrapper=c),this._animation.addEventListener(a,c)},removeEventListener:function(a,b){this._animation.removeEventListener(a,b&&b._wrapper||b)},_removeChildAnimations:function(){for(;this._childAnimations.length;)this._childAnimations.pop().cancel()},_forEachChild:function(b){var c=0;if(this.effect.children&&this._childAnimations.length<this.effect.children.length&&this._constructChildAnimations(),this._childAnimations.forEach(function(a){b.call(this,a,c),this.effect instanceof window.SequenceEffect&&(c+=a.effect.activeDuration)}.bind(this)),"pending"!=this.playState){var d=this.effect._timing,e=this.currentTime;null!==e&&(e=a.calculateTimeFraction(a.calculateActiveDuration(d),e,d)),(null==e||isNaN(e))&&this._removeChildAnimations()}}},window.Animation=b.Animation}(c,e,f),function(a,b,c){function d(b){this._frames=a.normalizeKeyframes(b)}function e(){for(var a=!1;i.length;){var b=i.shift();b._updateChildren(),a=!0}return a}var f=function(a){if(a._animation=void 0,a instanceof window.SequenceEffect||a instanceof window.GroupEffect)for(var b=0;b<a.children.length;b++)f(a.children[b])};b.removeMulti=function(a){for(var b=[],c=0;c<a.length;c++){var d=a[c];d._parent?(-1==b.indexOf(d._parent)&&b.push(d._parent),d._parent.children.splice(d._parent.children.indexOf(d),1),d._parent=null,f(d)):d._animation&&d._animation.effect==d&&(d._animation.cancel(),d._animation.effect=new KeyframeEffect(null,[]),d._animation._callback&&(d._animation._callback._animation=null),d._animation._rebuildUnderlyingAnimation(),f(d))}for(c=0;c<b.length;c++)b[c]._rebuild()},b.KeyframeEffect=function(b,c,e,f){return this.target=b,this._parent=null,e=a.numericTimingToObject(e),this._timingInput=a.cloneTimingInput(e),this._timing=a.normalizeTimingInput(e),this.timing=a.makeTiming(e,!1,this),this.timing._effect=this,"function"==typeof c?(a.deprecated("Custom KeyframeEffect","2015-06-22","Use KeyframeEffect.onsample instead."),this._normalizedKeyframes=c):this._normalizedKeyframes=new d(c),this._keyframes=c,this.activeDuration=a.calculateActiveDuration(this._timing),this._id=f,this},b.KeyframeEffect.prototype={getFrames:function(){return"function"==typeof this._normalizedKeyframes?this._normalizedKeyframes:this._normalizedKeyframes._frames},set onsample(a){if("function"==typeof this.getFrames())throw new Error("Setting onsample on custom effect KeyframeEffect is not supported.");this._onsample=a,this._animation&&this._animation._rebuildUnderlyingAnimation()},get parent(){return this._parent},clone:function(){if("function"==typeof this.getFrames())throw new Error("Cloning custom effects is not supported.");var b=new KeyframeEffect(this.target,[],a.cloneTimingInput(this._timingInput),this._id);return b._normalizedKeyframes=this._normalizedKeyframes,b._keyframes=this._keyframes,b},remove:function(){b.removeMulti([this])}};var g=Element.prototype.animate;Element.prototype.animate=function(a,c){var d="";return c&&c.id&&(d=c.id),b.timeline._play(new b.KeyframeEffect(this,a,c,d))};var h=document.createElementNS("http://www.w3.org/1999/xhtml","div");b.newUnderlyingAnimationForKeyframeEffect=function(a){if(a){var b=a.target||h,c=a._keyframes;"function"==typeof c&&(c=[]);var d=a._timingInput;d.id=a._id}else var b=h,c=[],d=0;return g.apply(b,[c,d])},b.bindAnimationForKeyframeEffect=function(a){a.effect&&"function"==typeof a.effect._normalizedKeyframes&&b.bindAnimationForCustomEffect(a)};var i=[];b.awaitStartTime=function(a){null===a.startTime&&a._isGroup&&(0==i.length&&requestAnimationFrame(e),i.push(a))};var j=window.getComputedStyle;Object.defineProperty(window,"getComputedStyle",{configurable:!0,enumerable:!0,value:function(){window.document.timeline._updateAnimationsPromises();var a=j.apply(this,arguments);return e()&&(a=j.apply(this,arguments)),window.document.timeline._updateAnimationsPromises(),a}}),window.KeyframeEffect=b.KeyframeEffect,window.Element.prototype.getAnimations=function(){return document.timeline.getAnimations().filter(function(a){return null!==a.effect&&a.effect.target==this}.bind(this))}}(c,e,f),function(a,b,c){function d(a){a._registered||(a._registered=!0,g.push(a),h||(h=!0,requestAnimationFrame(e)))}function e(a){var b=g;g=[],b.sort(function(a,b){return a._sequenceNumber-b._sequenceNumber}),b=b.filter(function(a){a();var b=a._animation?a._animation.playState:"idle";return"running"!=b&&"pending"!=b&&(a._registered=!1),a._registered}),g.push.apply(g,b),g.length?(h=!0,requestAnimationFrame(e)):h=!1}var f=(document.createElementNS("http://www.w3.org/1999/xhtml","div"),0);b.bindAnimationForCustomEffect=function(b){var c,e=b.effect.target,g="function"==typeof b.effect.getFrames();c=g?b.effect.getFrames():b.effect._onsample;var h=b.effect.timing,i=null;h=a.normalizeTimingInput(h);var j=function(){var d=j._animation?j._animation.currentTime:null;null!==d&&(d=a.calculateTimeFraction(a.calculateActiveDuration(h),d,h),isNaN(d)&&(d=null)),d!==i&&(g?c(d,e,b.effect):c(d,b.effect,b.effect._animation)),i=d};j._animation=b,j._registered=!1,j._sequenceNumber=f++,b._callback=j,d(j)};var g=[],h=!1;b.Animation.prototype._register=function(){this._callback&&d(this._callback)}}(c,e,f),function(a,b,c){function d(a){return a._timing.delay+a.activeDuration+a._timing.endDelay}function e(b,c,d){this._id=d,this._parent=null,this.children=b||[],this._reparent(this.children),c=a.numericTimingToObject(c),this._timingInput=a.cloneTimingInput(c),this._timing=a.normalizeTimingInput(c,!0),this.timing=a.makeTiming(c,!0,this),this.timing._effect=this,"auto"===this._timing.duration&&(this._timing.duration=this.activeDuration)}window.SequenceEffect=function(){e.apply(this,arguments)},window.GroupEffect=function(){e.apply(this,arguments)},e.prototype={_isAncestor:function(a){for(var b=this;null!==b;){if(b==a)return!0;b=b._parent}return!1},_rebuild:function(){for(var a=this;a;)"auto"===a.timing.duration&&(a._timing.duration=a.activeDuration),a=a._parent;this._animation&&this._animation._rebuildUnderlyingAnimation()},_reparent:function(a){b.removeMulti(a);for(var c=0;c<a.length;c++)a[c]._parent=this},_putChild:function(a,b){for(var c=b?"Cannot append an ancestor or self":"Cannot prepend an ancestor or self",d=0;d<a.length;d++)if(this._isAncestor(a[d]))throw{type:DOMException.HIERARCHY_REQUEST_ERR,name:"HierarchyRequestError",message:c};for(var d=0;d<a.length;d++)b?this.children.push(a[d]):this.children.unshift(a[d]);this._reparent(a),this._rebuild()},append:function(){this._putChild(arguments,!0)},prepend:function(){this._putChild(arguments,!1)},get parent(){return this._parent},get firstChild(){return this.children.length?this.children[0]:null},get lastChild(){return this.children.length?this.children[this.children.length-1]:null},clone:function(){for(var b=a.cloneTimingInput(this._timingInput),c=[],d=0;d<this.children.length;d++)c.push(this.children[d].clone());return this instanceof GroupEffect?new GroupEffect(c,b):new SequenceEffect(c,b)},remove:function(){b.removeMulti([this])}},window.SequenceEffect.prototype=Object.create(e.prototype),Object.defineProperty(window.SequenceEffect.prototype,"activeDuration",{get:function(){var a=0;return this.children.forEach(function(b){a+=d(b)}),Math.max(a,0)}}),window.GroupEffect.prototype=Object.create(e.prototype),Object.defineProperty(window.GroupEffect.prototype,"activeDuration",{get:function(){var a=0;return this.children.forEach(function(b){a=Math.max(a,d(b))}),a}}),b.newUnderlyingAnimationForGroup=function(c){var d,e=null,f=function(b){var c=d._wrapper;return c&&"pending"!=c.playState&&c.effect?null==b?void c._removeChildAnimations():0==b&&c.playbackRate<0&&(e||(e=a.normalizeTimingInput(c.effect.timing)),b=a.calculateTimeFraction(a.calculateActiveDuration(e),-1,e),isNaN(b)||null==b)?(c._forEachChild(function(a){a.currentTime=-1}),void c._removeChildAnimations()):void 0:void 0},g=new KeyframeEffect(null,[],c._timing,c._id);return g.onsample=f,d=b.timeline._play(g)},b.bindAnimationForGroup=function(a){a._animation._wrapper=a,a._isGroup=!0,b.awaitStartTime(a),a._constructChildAnimations(),a._setExternalAnimation(a)},b.groupChildDuration=d}(c,e,f),b["true"]=a}({},function(){return this}());
//# sourceMappingURL=web-animations-next-lite.min.js.map</script><script>// https://d3js.org Version 4.9.1. Copyright 2017 Mike Bostock.
(function(t,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n(t.d3=t.d3||{})})(this,function(t){"use strict";function n(t){return function(n,e){return js(t(n),e)}}function e(t,n){return[t,n]}function r(t,n,e){var r=(n-t)/Math.max(0,e),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=sf?10:o>=ff?5:o>=lf?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=sf?10:o>=ff?5:o>=lf?2:1)}function i(t,n,e){var r=Math.abs(n-t)/Math.max(0,e),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=sf?i*=10:o>=ff?i*=5:o>=lf&&(i*=2),n<t?-i:i}function o(t){return t.length}function u(t){return"translate("+(t+.5)+",0)"}function a(t){return"translate(0,"+(t+.5)+")"}function c(t){var n=Math.max(0,t.bandwidth()-1)/2;return t.round()&&(n=Math.round(n)),function(e){return t(e)+n}}function s(){return!this.__axis}function f(t,n){function e(e){var u=null==i?n.ticks?n.ticks.apply(n,r):n.domain():i,a=null==o?n.tickFormat?n.tickFormat.apply(n,r):Cf:o,_=Math.max(f,0)+h,y=n.range(),g=y[0]+.5,m=y[y.length-1]+.5,x=(n.bandwidth?c:Cf)(n.copy()),b=e.selection?e.selection():e,w=b.selectAll(".domain").data([null]),M=b.selectAll(".tick").data(u,n).order(),T=M.exit(),k=M.enter().append("g").attr("class","tick"),N=M.select("line"),S=M.select("text");w=w.merge(w.enter().insert("path",".tick").attr("class","domain").attr("stroke","#000")),M=M.merge(k),N=N.merge(k.append("line").attr("stroke","#000").attr(d+"2",p*f)),S=S.merge(k.append("text").attr("fill","#000").attr(d,p*_).attr("dy",t===zf?"0em":t===Lf?"0.71em":"0.32em")),e!==b&&(w=w.transition(e),M=M.transition(e),N=N.transition(e),S=S.transition(e),T=T.transition(e).attr("opacity",qf).attr("transform",function(t){return isFinite(t=x(t))?v(t):this.getAttribute("transform")}),k.attr("opacity",qf).attr("transform",function(t){var n=this.parentNode.__axis;return v(n&&isFinite(n=n(t))?n:x(t))})),T.remove(),w.attr("d",t===Rf||t==Pf?"M"+p*l+","+g+"H0.5V"+m+"H"+p*l:"M"+g+","+p*l+"V0.5H"+m+"V"+p*l),M.attr("opacity",1).attr("transform",function(t){return v(x(t))}),N.attr(d+"2",p*f),S.attr(d,p*_).text(a),b.filter(s).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===Pf?"start":t===Rf?"end":"middle"),b.each(function(){this.__axis=x})}var r=[],i=null,o=null,f=6,l=6,h=3,p=t===zf||t===Rf?-1:1,d=t===Rf||t===Pf?"x":"y",v=t===zf||t===Lf?u:a;return e.scale=function(t){return arguments.length?(n=t,e):n},e.ticks=function(){return r=Af.call(arguments),e},e.tickArguments=function(t){return arguments.length?(r=null==t?[]:Af.call(t),e):r.slice()},e.tickValues=function(t){return arguments.length?(i=null==t?null:Af.call(t),e):i&&i.slice()},e.tickFormat=function(t){return arguments.length?(o=t,e):o},e.tickSize=function(t){return arguments.length?(f=l=+t,e):f},e.tickSizeInner=function(t){return arguments.length?(f=+t,e):f},e.tickSizeOuter=function(t){return arguments.length?(l=+t,e):l},e.tickPadding=function(t){return arguments.length?(h=+t,e):h},e}function l(t){return f(zf,t)}function h(t){return f(Pf,t)}function p(t){return f(Lf,t)}function d(t){return f(Rf,t)}function v(){for(var t,n=0,e=arguments.length,r={};n<e;++n){if(!(t=arguments[n]+"")||t in r)throw new Error("illegal type: "+t);r[t]=[]}return new _(r)}function _(t){this._=t}function y(t,n){return t.trim().split(/^|\s+/).map(function(t){var e="",r=t.indexOf(".");if(r>=0&&(e=t.slice(r+1),t=t.slice(0,r)),t&&!n.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}})}function g(t,n){for(var e,r=0,i=t.length;r<i;++r)if((e=t[r]).name===n)return e.value}function m(t,n,e){for(var r=0,i=t.length;r<i;++r)if(t[r].name===n){t[r]=Uf,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=e&&t.push({name:n,value:e}),t}function x(t){return function(){var n=this.ownerDocument,e=this.namespaceURI;return e===Df&&n.documentElement.namespaceURI===Df?n.createElement(t):n.createElementNS(e,t)}}function b(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function w(){return new M}function M(){this._="@"+(++Yf).toString(36)}function T(t,n,e){return t=k(t,n,e),function(n){var e=n.relatedTarget;e&&(e===this||8&e.compareDocumentPosition(this))||t.call(this,n)}}function k(n,e,r){return function(i){var o=t.event;t.event=i;try{n.call(this,this.__data__,e,r)}finally{t.event=o}}}function N(t){return t.trim().split(/^|\s+/).map(function(t){var n="",e=t.indexOf(".");return e>=0&&(n=t.slice(e+1),t=t.slice(0,e)),{type:t,name:n}})}function S(t){return function(){var n=this.__on;if(n){for(var e,r=0,i=-1,o=n.length;r<o;++r)e=n[r],t.type&&e.type!==t.type||e.name!==t.name?n[++i]=e:this.removeEventListener(e.type,e.listener,e.capture);++i?n.length=i:delete this.__on}}}function E(t,n,e){var r=$f.hasOwnProperty(t.type)?T:k;return function(i,o,u){var a,c=this.__on,s=r(n,o,u);if(c)for(var f=0,l=c.length;f<l;++f)if((a=c[f]).type===t.type&&a.name===t.name)return this.removeEventListener(a.type,a.listener,a.capture),this.addEventListener(a.type,a.listener=s,a.capture=e),void(a.value=n);this.addEventListener(t.type,s,e),a={type:t.type,name:t.name,value:n,listener:s,capture:e},c?c.push(a):this.__on=[a]}}function A(n,e,r,i){var o=t.event;n.sourceEvent=t.event,t.event=n;try{return e.apply(r,i)}finally{t.event=o}}function C(){}function z(){return[]}function P(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}function L(t,n,e,r,i,o){for(var u,a=0,c=n.length,s=o.length;a<s;++a)(u=n[a])?(u.__data__=o[a],r[a]=u):e[a]=new P(t,o[a]);for(;a<c;++a)(u=n[a])&&(i[a]=u)}function R(t,n,e,r,i,o,u){var a,c,s,f={},l=n.length,h=o.length,p=new Array(l);for(a=0;a<l;++a)(c=n[a])&&(p[a]=s=ol+u.call(c,c.__data__,a,n),s in f?i[a]=c:f[s]=c);for(a=0;a<h;++a)s=ol+u.call(t,o[a],a,o),(c=f[s])?(r[a]=c,c.__data__=o[a],f[s]=null):e[a]=new P(t,o[a]);for(a=0;a<l;++a)(c=n[a])&&f[p[a]]===c&&(i[a]=c)}function q(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function U(t){return function(){this.removeAttribute(t)}}function D(t){return function(){this.removeAttributeNS(t.space,t.local)}}function O(t,n){return function(){this.setAttribute(t,n)}}function F(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}function I(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttribute(t):this.setAttribute(t,e)}}function Y(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}function B(t){return function(){this.style.removeProperty(t)}}function H(t,n,e){return function(){this.style.setProperty(t,n,e)}}function j(t,n,e){return function(){var r=n.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,e)}}function X(t,n){return t.style.getPropertyValue(n)||gl(t).getComputedStyle(t,null).getPropertyValue(n)}function $(t){return function(){delete this[t]}}function V(t,n){return function(){this[t]=n}}function W(t,n){return function(){var e=n.apply(this,arguments);null==e?delete this[t]:this[t]=e}}function Z(t){return t.trim().split(/^|\s+/)}function G(t){return t.classList||new J(t)}function J(t){this._node=t,this._names=Z(t.getAttribute("class")||"")}function Q(t,n){for(var e=G(t),r=-1,i=n.length;++r<i;)e.add(n[r])}function K(t,n){for(var e=G(t),r=-1,i=n.length;++r<i;)e.remove(n[r])}function tt(t){return function(){Q(this,t)}}function nt(t){return function(){K(this,t)}}function et(t,n){return function(){(n.apply(this,arguments)?Q:K)(this,t)}}function rt(){this.textContent=""}function it(t){return function(){this.textContent=t}}function ot(t){return function(){var n=t.apply(this,arguments);this.textContent=null==n?"":n}}function ut(){this.innerHTML=""}function at(t){return function(){this.innerHTML=t}}function ct(t){return function(){var n=t.apply(this,arguments);this.innerHTML=null==n?"":n}}function st(){this.nextSibling&&this.parentNode.appendChild(this)}function ft(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function lt(){return null}function ht(){var t=this.parentNode;t&&t.removeChild(this)}function pt(t,n,e){var r=gl(t),i=r.CustomEvent;"function"==typeof i?i=new i(n,e):(i=r.document.createEvent("Event"),e?(i.initEvent(n,e.bubbles,e.cancelable),i.detail=e.detail):i.initEvent(n,!1,!1)),t.dispatchEvent(i)}function dt(t,n){return function(){return pt(this,t,n)}}function vt(t,n){return function(){return pt(this,t,n.apply(this,arguments))}}function _t(t,n){this._groups=t,this._parents=n}function yt(){return new _t([[document.documentElement]],zl)}function gt(){t.event.stopImmediatePropagation()}function mt(t,n){var e=t.document.documentElement,r=Pl(t).on("dragstart.drag",null);n&&(r.on("click.drag",Ul,!0),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in e?r.on("selectstart.drag",null):(e.style.MozUserSelect=e.__noselect,delete e.__noselect)}function xt(t,n,e,r,i,o,u,a,c,s){this.target=t,this.type=n,this.subject=e,this.identifier=r,this.active=i,this.x=o,this.y=u,this.dx=a,this.dy=c,this._=s}function bt(){return!t.event.button}function wt(){return this.parentNode}function Mt(n){return null==n?{x:t.event.x,y:t.event.y}:n}function Tt(t,n){var e=Object.create(t.prototype);for(var r in n)e[r]=n[r];return e}function kt(){}function Nt(t){var n;return t=(t+"").trim().toLowerCase(),(n=jl.exec(t))?(n=parseInt(n[1],16),new zt(n>>8&15|n>>4&240,n>>4&15|240&n,(15&n)<<4|15&n,1)):(n=Xl.exec(t))?St(parseInt(n[1],16)):(n=$l.exec(t))?new zt(n[1],n[2],n[3],1):(n=Vl.exec(t))?new zt(255*n[1]/100,255*n[2]/100,255*n[3]/100,1):(n=Wl.exec(t))?Et(n[1],n[2],n[3],n[4]):(n=Zl.exec(t))?Et(255*n[1]/100,255*n[2]/100,255*n[3]/100,n[4]):(n=Gl.exec(t))?Pt(n[1],n[2]/100,n[3]/100,1):(n=Jl.exec(t))?Pt(n[1],n[2]/100,n[3]/100,n[4]):Ql.hasOwnProperty(t)?St(Ql[t]):"transparent"===t?new zt(NaN,NaN,NaN,0):null}function St(t){return new zt(t>>16&255,t>>8&255,255&t,1)}function Et(t,n,e,r){return r<=0&&(t=n=e=NaN),new zt(t,n,e,r)}function At(t){return t instanceof kt||(t=Nt(t)),t?(t=t.rgb(),new zt(t.r,t.g,t.b,t.opacity)):new zt}function Ct(t,n,e,r){return 1===arguments.length?At(t):new zt(t,n,e,null==r?1:r)}function zt(t,n,e,r){this.r=+t,this.g=+n,this.b=+e,this.opacity=+r}function Pt(t,n,e,r){return r<=0?t=n=e=NaN:e<=0||e>=1?t=n=NaN:n<=0&&(t=NaN),new qt(t,n,e,r)}function Lt(t){if(t instanceof qt)return new qt(t.h,t.s,t.l,t.opacity);if(t instanceof kt||(t=Nt(t)),!t)return new qt;if(t instanceof qt)return t;t=t.rgb();var n=t.r/255,e=t.g/255,r=t.b/255,i=Math.min(n,e,r),o=Math.max(n,e,r),u=NaN,a=o-i,c=(o+i)/2;return a?(u=n===o?(e-r)/a+6*(e<r):e===o?(r-n)/a+2:(n-e)/a+4,a/=c<.5?o+i:2-o-i,u*=60):a=c>0&&c<1?0:u,new qt(u,a,c,t.opacity)}function Rt(t,n,e,r){return 1===arguments.length?Lt(t):new qt(t,n,e,null==r?1:r)}function qt(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}function Ut(t,n,e){return 255*(t<60?n+(e-n)*t/60:t<180?e:t<240?n+(e-n)*(240-t)/60:n)}function Dt(t){if(t instanceof Ft)return new Ft(t.l,t.a,t.b,t.opacity);if(t instanceof $t){var n=t.h*Kl;return new Ft(t.l,Math.cos(n)*t.c,Math.sin(n)*t.c,t.opacity)}t instanceof zt||(t=At(t));var e=Ht(t.r),r=Ht(t.g),i=Ht(t.b),o=It((.4124564*e+.3575761*r+.1804375*i)/nh),u=It((.2126729*e+.7151522*r+.072175*i)/eh);return new Ft(116*u-16,500*(o-u),200*(u-It((.0193339*e+.119192*r+.9503041*i)/rh)),t.opacity)}function Ot(t,n,e,r){return 1===arguments.length?Dt(t):new Ft(t,n,e,null==r?1:r)}function Ft(t,n,e,r){this.l=+t,this.a=+n,this.b=+e,this.opacity=+r}function It(t){return t>ah?Math.pow(t,1/3):t/uh+ih}function Yt(t){return t>oh?t*t*t:uh*(t-ih)}function Bt(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function Ht(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function jt(t){if(t instanceof $t)return new $t(t.h,t.c,t.l,t.opacity);t instanceof Ft||(t=Dt(t));var n=Math.atan2(t.b,t.a)*th;return new $t(n<0?n+360:n,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function Xt(t,n,e,r){return 1===arguments.length?jt(t):new $t(t,n,e,null==r?1:r)}function $t(t,n,e,r){this.h=+t,this.c=+n,this.l=+e,this.opacity=+r}function Vt(t){if(t instanceof Zt)return new Zt(t.h,t.s,t.l,t.opacity);t instanceof zt||(t=At(t));var n=t.r/255,e=t.g/255,r=t.b/255,i=(vh*r+ph*n-dh*e)/(vh+ph-dh),o=r-i,u=(hh*(e-i)-fh*o)/lh,a=Math.sqrt(u*u+o*o)/(hh*i*(1-i)),c=a?Math.atan2(u,o)*th-120:NaN;return new Zt(c<0?c+360:c,a,i,t.opacity)}function Wt(t,n,e,r){return 1===arguments.length?Vt(t):new Zt(t,n,e,null==r?1:r)}function Zt(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}function Gt(t,n,e,r,i){var o=t*t,u=o*t;return((1-3*t+3*o-u)*n+(4-6*o+3*u)*e+(1+3*t+3*o-3*u)*r+u*i)/6}function Jt(t,n){return function(e){return t+e*n}}function Qt(t,n,e){return t=Math.pow(t,e),n=Math.pow(n,e)-t,e=1/e,function(r){return Math.pow(t+r*n,e)}}function Kt(t,n){var e=n-t;return e?Jt(t,e>180||e<-180?e-360*Math.round(e/360):e):Th(isNaN(t)?n:t)}function tn(t){return 1==(t=+t)?nn:function(n,e){return e-n?Qt(n,e,t):Th(isNaN(n)?e:n)}}function nn(t,n){var e=n-t;return e?Jt(t,e):Th(isNaN(t)?n:t)}function en(t){return function(n){var e,r,i=n.length,o=new Array(i),u=new Array(i),a=new Array(i);for(e=0;e<i;++e)r=Ct(n[e]),o[e]=r.r||0,u[e]=r.g||0,a[e]=r.b||0;return o=t(o),u=t(u),a=t(a),r.opacity=1,function(t){return r.r=o(t),r.g=u(t),r.b=a(t),r+""}}}function rn(t){return function(){return t}}function on(t){return function(n){return t(n)+""}}function un(t){return"none"===t?Oh:(_h||(_h=document.createElement("DIV"),yh=document.documentElement,gh=document.defaultView),_h.style.transform=t,t=gh.getComputedStyle(yh.appendChild(_h),null).getPropertyValue("transform"),yh.removeChild(_h),t=t.slice(7,-1).split(","),Fh(+t[0],+t[1],+t[2],+t[3],+t[4],+t[5]))}function an(t){return null==t?Oh:(mh||(mh=document.createElementNS("http://www.w3.org/2000/svg","g")),mh.setAttribute("transform",t),(t=mh.transform.baseVal.consolidate())?(t=t.matrix,Fh(t.a,t.b,t.c,t.d,t.e,t.f)):Oh)}function cn(t,n,e,r){function i(t){return t.length?t.pop()+" ":""}function o(t,r,i,o,u,a){if(t!==i||r!==o){var c=u.push("translate(",null,n,null,e);a.push({i:c-4,x:Ch(t,i)},{i:c-2,x:Ch(r,o)})}else(i||o)&&u.push("translate("+i+n+o+e)}function u(t,n,e,o){t!==n?(t-n>180?n+=360:n-t>180&&(t+=360),o.push({i:e.push(i(e)+"rotate(",null,r)-2,x:Ch(t,n)})):n&&e.push(i(e)+"rotate("+n+r)}function a(t,n,e,o){t!==n?o.push({i:e.push(i(e)+"skewX(",null,r)-2,x:Ch(t,n)}):n&&e.push(i(e)+"skewX("+n+r)}function c(t,n,e,r,o,u){if(t!==e||n!==r){var a=o.push(i(o)+"scale(",null,",",null,")");u.push({i:a-4,x:Ch(t,e)},{i:a-2,x:Ch(n,r)})}else 1===e&&1===r||o.push(i(o)+"scale("+e+","+r+")")}return function(n,e){var r=[],i=[];return n=t(n),e=t(e),o(n.translateX,n.translateY,e.translateX,e.translateY,r,i),u(n.rotate,e.rotate,r,i),a(n.skewX,e.skewX,r,i),c(n.scaleX,n.scaleY,e.scaleX,e.scaleY,r,i),n=e=null,function(t){for(var n,e=-1,o=i.length;++e<o;)r[(n=i[e]).i]=n.x(t);return r.join("")}}}function sn(t){return((t=Math.exp(t))+1/t)/2}function fn(t){return((t=Math.exp(t))-1/t)/2}function ln(t){return((t=Math.exp(2*t))-1)/(t+1)}function hn(t){return function(n,e){var r=t((n=Rt(n)).h,(e=Rt(e)).h),i=nn(n.s,e.s),o=nn(n.l,e.l),u=nn(n.opacity,e.opacity);return function(t){return n.h=r(t),n.s=i(t),n.l=o(t),n.opacity=u(t),n+""}}}function pn(t,n){var e=nn((t=Ot(t)).l,(n=Ot(n)).l),r=nn(t.a,n.a),i=nn(t.b,n.b),o=nn(t.opacity,n.opacity);return function(n){return t.l=e(n),t.a=r(n),t.b=i(n),t.opacity=o(n),t+""}}function dn(t){return function(n,e){var r=t((n=Xt(n)).h,(e=Xt(e)).h),i=nn(n.c,e.c),o=nn(n.l,e.l),u=nn(n.opacity,e.opacity);return function(t){return n.h=r(t),n.c=i(t),n.l=o(t),n.opacity=u(t),n+""}}}function vn(t){return function n(e){function r(n,r){var i=t((n=Wt(n)).h,(r=Wt(r)).h),o=nn(n.s,r.s),u=nn(n.l,r.l),a=nn(n.opacity,r.opacity);return function(t){return n.h=i(t),n.s=o(t),n.l=u(Math.pow(t,e)),n.opacity=a(t),n+""}}return e=+e,r.gamma=n,r}(1)}function _n(){return ep||(op(yn),ep=ip.now()+rp)}function yn(){ep=0}function gn(){this._call=this._time=this._next=null}function mn(t,n,e){var r=new gn;return r.restart(t,n,e),r}function xn(){_n(),++Jh;for(var t,n=xh;n;)(t=ep-n._time)>=0&&n._call.call(null,t),n=n._next;--Jh}function bn(){ep=(np=ip.now())+rp,Jh=Qh=0;try{xn()}finally{Jh=0,Mn(),ep=0}}function wn(){var t=ip.now(),n=t-np;n>tp&&(rp-=n,np=t)}function Mn(){for(var t,n,e=xh,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:xh=n);bh=t,Tn(r)}function Tn(t){if(!Jh){Qh&&(Qh=clearTimeout(Qh));var n=t-ep;n>24?(t<1/0&&(Qh=setTimeout(bn,n)),Kh&&(Kh=clearInterval(Kh))):(Kh||(np=ep,Kh=setInterval(wn,tp)),Jh=1,op(bn))}}function kn(t,n){var e=t.__transition;if(!e||!(e=e[n])||e.state>fp)throw new Error("too late");return e}function Nn(t,n){var e=t.__transition;if(!e||!(e=e[n])||e.state>hp)throw new Error("too late");return e}function Sn(t,n){var e=t.__transition;if(!e||!(e=e[n]))throw new Error("too late");return e}function En(t,n,e){function r(t){e.state=lp,e.timer.restart(i,e.delay,e.time),e.delay<=t&&i(t-e.delay)}function i(r){var s,f,l,h;if(e.state!==lp)return u();for(s in c)if(h=c[s],h.name===e.name){if(h.state===pp)return up(i);h.state===dp?(h.state=_p,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete c[s]):+s<n&&(h.state=_p,h.timer.stop(),delete c[s])}if(up(function(){e.state===pp&&(e.state=dp,e.timer.restart(o,e.delay,e.time),o(r))}),e.state=hp,e.on.call("start",t,t.__data__,e.index,e.group),e.state===hp){for(e.state=pp,a=new Array(l=e.tween.length),s=0,f=-1;s<l;++s)(h=e.tween[s].value.call(t,t.__data__,e.index,e.group))&&(a[++f]=h);a.length=f+1}}function o(n){for(var r=n<e.duration?e.ease.call(null,n/e.duration):(e.timer.restart(u),e.state=vp,1),i=-1,o=a.length;++i<o;)a[i].call(null,r);e.state===vp&&(e.on.call("end",t,t.__data__,e.index,e.group),u())}function u(){e.state=_p,e.timer.stop(),delete c[n];for(var r in c)return;delete t.__transition}var a,c=t.__transition;c[n]=e,e.timer=mn(r,0,e.time)}function An(t,n){var e,r;return function(){var i=Nn(this,t),o=i.tween;if(o!==e){r=e=o;for(var u=0,a=r.length;u<a;++u)if(r[u].name===n){r=r.slice(),r.splice(u,1);break}}i.tween=r}}function Cn(t,n,e){var r,i;if("function"!=typeof e)throw new Error;return function(){var o=Nn(this,t),u=o.tween;if(u!==r){i=(r=u).slice();for(var a={name:n,value:e},c=0,s=i.length;c<s;++c)if(i[c].name===n){i[c]=a;break}c===s&&i.push(a)}o.tween=i}}function zn(t,n,e){var r=t._id;return t.each(function(){var t=Nn(this,r);(t.value||(t.value={}))[n]=e.apply(this,arguments)}),function(t){return Sn(t,r).value[n]}}function Pn(t){return function(){this.removeAttribute(t)}}function Ln(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Rn(t,n,e){var r,i;return function(){var o=this.getAttribute(t);return o===e?null:o===r?i:i=n(r=o,e)}}function qn(t,n,e){var r,i;return function(){var o=this.getAttributeNS(t.space,t.local);return o===e?null:o===r?i:i=n(r=o,e)}}function Un(t,n,e){var r,i,o;return function(){var u,a=e(this);return null==a?void this.removeAttribute(t):(u=this.getAttribute(t),u===a?null:u===r&&a===i?o:o=n(r=u,i=a))}}function Dn(t,n,e){var r,i,o;return function(){var u,a=e(this);return null==a?void this.removeAttributeNS(t.space,t.local):(u=this.getAttributeNS(t.space,t.local),u===a?null:u===r&&a===i?o:o=n(r=u,i=a))}}function On(t,n){function e(){var e=this,r=n.apply(e,arguments);return r&&function(n){e.setAttributeNS(t.space,t.local,r(n))}}return e._value=n,e}function Fn(t,n){function e(){var e=this,r=n.apply(e,arguments);return r&&function(n){e.setAttribute(t,r(n))}}return e._value=n,e}function In(t,n){return function(){kn(this,t).delay=+n.apply(this,arguments)}}function Yn(t,n){return n=+n,function(){kn(this,t).delay=n}}function Bn(t,n){return function(){Nn(this,t).duration=+n.apply(this,arguments)}}function Hn(t,n){return n=+n,function(){Nn(this,t).duration=n}}function jn(t,n){if("function"!=typeof n)throw new Error;return function(){Nn(this,t).ease=n}}function Xn(t){return(t+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||"start"===t})}function $n(t,n,e){var r,i,o=Xn(n)?kn:Nn;return function(){var u=o(this,t),a=u.on;a!==r&&(i=(r=a).copy()).on(n,e),u.on=i}}function Vn(t){return function(){var n=this.parentNode;for(var e in this.__transition)if(+e!==t)return;n&&n.removeChild(this)}}function Wn(t,n){var e,r,i;return function(){var o=X(this,t),u=(this.style.removeProperty(t),X(this,t));return o===u?null:o===e&&u===r?i:i=n(e=o,r=u)}}function Zn(t){return function(){this.style.removeProperty(t)}}function Gn(t,n,e){var r,i;return function(){var o=X(this,t);return o===e?null:o===r?i:i=n(r=o,e)}}function Jn(t,n,e){var r,i,o;return function(){var u=X(this,t),a=e(this);return null==a&&(this.style.removeProperty(t),a=X(this,t)),u===a?null:u===r&&a===i?o:o=n(r=u,i=a)}}function Qn(t,n,e){function r(){var r=this,i=n.apply(r,arguments);return i&&function(n){r.style.setProperty(t,i(n),e)}}return r._value=n,r}function Kn(t){return function(){this.textContent=t}}function te(t){return function(){var n=t(this);this.textContent=null==n?"":n}}function ne(t,n,e,r){this._groups=t,this._parents=n,this._name=e,this._id=r}function ee(t){return yt().transition(t)}function re(){return++Fp}function ie(t){return+t}function oe(t){return t*t}function ue(t){return t*(2-t)}function ae(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}function ce(t){return t*t*t}function se(t){return--t*t*t+1}function fe(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}function le(t){return 1-Math.cos(t*Xp)}function he(t){return Math.sin(t*Xp)}function pe(t){return(1-Math.cos(jp*t))/2}function de(t){return Math.pow(2,10*t-10)}function ve(t){return 1-Math.pow(2,-10*t)}function _e(t){return((t*=2)<=1?Math.pow(2,10*t-10):2-Math.pow(2,10-10*t))/2}function ye(t){return 1-Math.sqrt(1-t*t)}function ge(t){return Math.sqrt(1- --t*t)}function me(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}function xe(t){return 1-be(1-t)}function be(t){return(t=+t)<$p?nd*t*t:t<Wp?nd*(t-=Vp)*t+Zp:t<Jp?nd*(t-=Gp)*t+Qp:nd*(t-=Kp)*t+td}function we(t){return((t*=2)<=1?1-be(1-t):be(t-1)+1)/2}function Me(t,n){for(var e;!(e=t.__transition)||!(e=e[n]);)if(!(t=t.parentNode))return sd.time=_n(),sd;return e}function Te(){t.event.stopImmediatePropagation()}function ke(t){return{type:t}}function Ne(){return!t.event.button}function Se(){var t=this.ownerSVGElement||this;return[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function Ee(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function Ae(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}function Ce(t){var n=t.__brush;return n?n.dim.output(n.selection):null}function ze(){return Le(xd)}function Pe(){return Le(bd)}function Le(n){function e(t){var e=t.property("__brush",a).selectAll(".overlay").data([ke("overlay")]);e.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",Md.overlay).merge(e).each(function(){var t=Ee(this).extent;Pl(this).attr("x",t[0][0]).attr("y",t[0][1]).attr("width",t[1][0]-t[0][0]).attr("height",t[1][1]-t[0][1])}),t.selectAll(".selection").data([ke("selection")]).enter().append("rect").attr("class","selection").attr("cursor",Md.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var i=t.selectAll(".handle").data(n.handles,function(t){return t.type});i.exit().remove(),i.enter().append("rect").attr("class",function(t){return"handle handle--"+t.type}).attr("cursor",function(t){return Md[t.type]}),t.each(r).attr("fill","none").attr("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush touchstart.brush",u)}function r(){var t=Pl(this),n=Ee(this).selection;n?(t.selectAll(".selection").style("display",null).attr("x",n[0][0]).attr("y",n[0][1]).attr("width",n[1][0]-n[0][0]).attr("height",n[1][1]-n[0][1]),t.selectAll(".handle").style("display",null).attr("x",function(t){return"e"===t.type[t.type.length-1]?n[1][0]-h/2:n[0][0]-h/2}).attr("y",function(t){return"s"===t.type[0]?n[1][1]-h/2:n[0][1]-h/2}).attr("width",function(t){return"n"===t.type||"s"===t.type?n[1][0]-n[0][0]+h:h}).attr("height",function(t){return"e"===t.type||"w"===t.type?n[1][1]-n[0][1]+h:h})):t.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function i(t,n){return t.__brush.emitter||new o(t,n)}function o(t,n){this.that=t,this.args=n,this.state=t.__brush,this.active=0}function u(){function e(){var t=Gf(T);!U||w||M||(Math.abs(t[0]-O[0])>Math.abs(t[1]-O[1])?M=!0:w=!0),O=t,b=!0,vd(),o()}function o(){var t;switch(m=O[0]-D[0],x=O[1]-D[1],N){case yd:case _d:S&&(m=Math.max(P-l,Math.min(R-v,m)),h=l+m,_=v+m),E&&(x=Math.max(L-p,Math.min(q-y,x)),d=p+x,g=y+x);break;case gd:S<0?(m=Math.max(P-l,Math.min(R-l,m)),h=l+m,_=v):S>0&&(m=Math.max(P-v,Math.min(R-v,m)),h=l,_=v+m),E<0?(x=Math.max(L-p,Math.min(q-p,x)),d=p+x,g=y):E>0&&(x=Math.max(L-y,Math.min(q-y,x)),d=p,g=y+x);break;case md:S&&(h=Math.max(P,Math.min(R,l-m*S)),_=Math.max(P,Math.min(R,v+m*S))),E&&(d=Math.max(L,Math.min(q,p-x*E)),g=Math.max(L,Math.min(q,y+x*E)))}_<h&&(S*=-1,t=l,l=v,v=t,t=h,h=_,_=t,k in Td&&Y.attr("cursor",Md[k=Td[k]])),g<d&&(E*=-1,t=p,p=y,y=t,t=d,d=g,g=t,k in kd&&Y.attr("cursor",Md[k=kd[k]])),A.selection&&(z=A.selection),w&&(h=z[0][0],_=z[1][0]),M&&(d=z[0][1],g=z[1][1]),z[0][0]===h&&z[0][1]===d&&z[1][0]===_&&z[1][1]===g||(A.selection=[[h,d],[_,g]],r.call(T),F.brush())}function u(){if(Te(),t.event.touches){if(t.event.touches.length)return;c&&clearTimeout(c),c=setTimeout(function(){c=null},500),I.on("touchmove.brush touchend.brush touchcancel.brush",null)}else mt(t.event.view,b),B.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);I.attr("pointer-events","all"),Y.attr("cursor",Md.overlay),A.selection&&(z=A.selection),Ae(z)&&(A.selection=null,r.call(T)),F.end()}function a(){switch(t.event.keyCode){case 16:U=S&&E;break;case 18:N===gd&&(S&&(v=_-m*S,l=h+m*S),E&&(y=g-x*E,p=d+x*E),N=md,o());break;case 32:N!==gd&&N!==md||(S<0?v=_-m:S>0&&(l=h-m),E<0?y=g-x:E>0&&(p=d-x),N=yd,Y.attr("cursor",Md.selection),o());break;default:return}vd()}function s(){switch(t.event.keyCode){case 16:U&&(w=M=U=!1,o());break;case 18:N===md&&(S<0?v=_:S>0&&(l=h),E<0?y=g:E>0&&(p=d),N=gd,o());break;case 32:N===yd&&(t.event.altKey?(S&&(v=_-m*S,l=h+m*S),E&&(y=g-x*E,p=d+x*E),N=md):(S<0?v=_:S>0&&(l=h),E<0?y=g:E>0&&(p=d),N=gd),Y.attr("cursor",Md[k]),o());break;default:return}vd()}if(t.event.touches){if(t.event.changedTouches.length<t.event.touches.length)return vd()}else if(c)return;if(f.apply(this,arguments)){var l,h,p,d,v,_,y,g,m,x,b,w,M,T=this,k=t.event.target.__data__.type,N="selection"===(t.event.metaKey?k="overlay":k)?_d:t.event.altKey?md:gd,S=n===bd?null:Nd[k],E=n===xd?null:Sd[k],A=Ee(T),C=A.extent,z=A.selection,P=C[0][0],L=C[0][1],R=C[1][0],q=C[1][1],U=S&&E&&t.event.shiftKey,D=Gf(T),O=D,F=i(T,arguments).beforestart();"overlay"===k?A.selection=z=[[l=n===bd?P:D[0],p=n===xd?L:D[1]],[v=n===bd?R:l,y=n===xd?q:p]]:(l=z[0][0],p=z[0][1],v=z[1][0],y=z[1][1]),h=l,d=p,_=v,g=y;var I=Pl(T).attr("pointer-events","none"),Y=I.selectAll(".overlay").attr("cursor",Md[k]);if(t.event.touches)I.on("touchmove.brush",e,!0).on("touchend.brush touchcancel.brush",u,!0);else{var B=Pl(t.event.view).on("keydown.brush",a,!0).on("keyup.brush",s,!0).on("mousemove.brush",e,!0).on("mouseup.brush",u,!0);Dl(t.event.view)}Te(),gp(T),r.call(T),F.start()}}function a(){var t=this.__brush||{selection:null};return t.extent=s.apply(this,arguments),t.dim=n,t}var c,s=Se,f=Ne,l=v(e,"start","brush","end"),h=6;return e.move=function(t,e){t.selection?t.on("start.brush",function(){i(this,arguments).beforestart().start()}).on("interrupt.brush end.brush",function(){i(this,arguments).end()}).tween("brush",function(){function t(t){u.selection=1===t&&Ae(s)?null:f(t),r.call(o),a.brush()}var o=this,u=o.__brush,a=i(o,arguments),c=u.selection,s=n.input("function"==typeof e?e.apply(this,arguments):e,u.extent),f=qh(c,s);return c&&s?t:t(1)}):t.each(function(){var t=this,o=arguments,u=t.__brush,a=n.input("function"==typeof e?e.apply(t,o):e,u.extent),c=i(t,o).beforestart();gp(t),u.selection=null==a||Ae(a)?null:a,r.call(t),c.start().brush().end()})},o.prototype={beforestart:function(){return 1==++this.active&&(this.state.emitter=this,this.starting=!0),this},start:function(){return this.starting&&(this.starting=!1,this.emit("start")),this},brush:function(){return this.emit("brush"),this},end:function(){return 0==--this.active&&(delete this.state.emitter,this.emit("end")),this},emit:function(t){A(new dd(e,t,n.output(this.state.selection)),l.apply,l,[t,this.that,this.args])}},e.extent=function(t){return arguments.length?(s="function"==typeof t?t:pd([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),e):s},e.filter=function(t){return arguments.length?(f="function"==typeof t?t:pd(!!t),e):f},e.handleSize=function(t){return arguments.length?(h=+t,e):h},e.on=function(){var t=l.on.apply(l,arguments);return t===l?e:t},e}function Re(t){return function(n,e){return t(n.source.value+n.target.value,e.source.value+e.target.value)}}function qe(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Ue(){return new qe}function De(t){return t.source}function Oe(t){return t.target}function Fe(t){return t.radius}function Ie(t){return t.startAngle}function Ye(t){return t.endAngle}function Be(){}function He(t,n){var e=new Be;if(t instanceof Be)t.each(function(t,n){e.set(n,t)});else if(Array.isArray(t)){var r,i=-1,o=t.length;if(null==n)for(;++i<o;)e.set(i,t[i]);else for(;++i<o;)e.set(n(r=t[i],i,t),r)}else if(t)for(var u in t)e.set(u,t[u]);return e}function je(){return{}}function Xe(t,n,e){t[n]=e}function $e(){return He()}function Ve(t,n,e){t.set(n,e)}function We(){}function Ze(t,n){var e=new We;if(t instanceof We)t.each(function(t){e.add(t)});else if(t){var r=-1,i=t.length;if(null==n)for(;++r<i;)e.add(t[r]);else for(;++r<i;)e.add(n(t[r],r,t))}return e}function Ge(t){return new Function("d","return {"+t.map(function(t,n){return JSON.stringify(t)+": d["+n+"]"}).join(",")+"}")}function Je(t,n){var e=Ge(t);return function(r,i){return n(e(r),i,t)}}function Qe(t){var n=Object.create(null),e=[];return t.forEach(function(t){for(var r in t)r in n||e.push(n[r]=r)}),e}function Ke(t,n,e,r){if(isNaN(n)||isNaN(e))return t;var i,o,u,a,c,s,f,l,h,p=t._root,d={data:r},v=t._x0,_=t._y0,y=t._x1,g=t._y1;if(!p)return t._root=d,t;for(;p.length;)if((s=n>=(o=(v+y)/2))?v=o:y=o,(f=e>=(u=(_+g)/2))?_=u:g=u,i=p,!(p=p[l=f<<1|s]))return i[l]=d,t;if(a=+t._x.call(null,p.data),c=+t._y.call(null,p.data),n===a&&e===c)return d.next=p,i?i[l]=d:t._root=d,t;do{i=i?i[l]=new Array(4):t._root=new Array(4),(s=n>=(o=(v+y)/2))?v=o:y=o,(f=e>=(u=(_+g)/2))?_=u:g=u}while((l=f<<1|s)==(h=(c>=u)<<1|a>=o));return i[h]=p,i[l]=d,t}function tr(t){var n,e,r,i,o=t.length,u=new Array(o),a=new Array(o),c=1/0,s=1/0,f=-1/0,l=-1/0;for(e=0;e<o;++e)isNaN(r=+this._x.call(null,n=t[e]))||isNaN(i=+this._y.call(null,n))||(u[e]=r,a[e]=i,r<c&&(c=r),r>f&&(f=r),i<s&&(s=i),i>l&&(l=i));for(f<c&&(c=this._x0,f=this._x1),l<s&&(s=this._y0,l=this._y1),this.cover(c,s).cover(f,l),e=0;e<o;++e)Ke(this,u[e],a[e],t[e]);return this}function nr(t){for(var n=0,e=t.length;n<e;++n)this.remove(t[n]);return this}function er(t){return t[0]}function rr(t){return t[1]}function ir(t,n,e){var r=new or(null==n?er:n,null==e?rr:e,NaN,NaN,NaN,NaN);return null==t?r:r.addAll(t)}function or(t,n,e,r,i,o){this._x=t,this._y=n,this._x0=e,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function ur(t){for(var n={data:t.data},e=n;t=t.next;)e=e.next={data:t.data};return n}function ar(t){return t.x+t.vx}function cr(t){return t.y+t.vy}function sr(t){return t.index}function fr(t,n){var e=t.get(n);if(!e)throw new Error("missing: "+n);return e}function lr(t){return t.x}function hr(t){return t.y}function pr(t){return new dr(t)}function dr(t){if(!(n=Ov.exec(t)))throw new Error("invalid format: "+t);var n,e=n[1]||" ",r=n[2]||">",i=n[3]||"-",o=n[4]||"",u=!!n[5],a=n[6]&&+n[6],c=!!n[7],s=n[8]&&+n[8].slice(1),f=n[9]||"";"n"===f?(c=!0,f="g"):Dv[f]||(f=""),(u||"0"===e&&"="===r)&&(u=!0,e="0",r="="),this.fill=e,this.align=r,
this.sign=i,this.symbol=o,this.zero=u,this.width=a,this.comma=c,this.precision=s,this.type=f}function vr(n){return Fv=Bv(n),t.format=Fv.format,t.formatPrefix=Fv.formatPrefix,Fv}function _r(){this.reset()}function yr(t,n,e){var r=t.s=n+e,i=r-n,o=r-i;t.t=n-o+(e-i)}function gr(t){return t>1?0:t<-1?N_:Math.acos(t)}function mr(t){return t>1?S_:t<-1?-S_:Math.asin(t)}function xr(t){return(t=I_(t/2))*t}function br(){}function wr(t,n){t&&X_.hasOwnProperty(t.type)&&X_[t.type](t,n)}function Mr(t,n,e){var r,i=-1,o=t.length-e;for(n.lineStart();++i<o;)r=t[i],n.point(r[0],r[1],r[2]);n.lineEnd()}function Tr(t,n){var e=-1,r=t.length;for(n.polygonStart();++e<r;)Mr(t[e],n,1);n.polygonEnd()}function kr(){Z_.point=Sr}function Nr(){Er(Vv,Wv)}function Sr(t,n){Z_.point=Er,Vv=t,Wv=n,t*=z_,n*=z_,Zv=t,Gv=q_(n=n/2+E_),Jv=I_(n)}function Er(t,n){t*=z_,n*=z_,n=n/2+E_;var e=t-Zv,r=e>=0?1:-1,i=r*e,o=q_(n),u=I_(n),a=Jv*u,c=Gv*o+a*q_(i),s=a*r*I_(i);V_.add(R_(s,c)),Zv=t,Gv=o,Jv=u}function Ar(t){return[R_(t[1],t[0]),mr(t[2])]}function Cr(t){var n=t[0],e=t[1],r=q_(e);return[r*q_(n),r*I_(n),I_(e)]}function zr(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]}function Pr(t,n){return[t[1]*n[2]-t[2]*n[1],t[2]*n[0]-t[0]*n[2],t[0]*n[1]-t[1]*n[0]]}function Lr(t,n){t[0]+=n[0],t[1]+=n[1],t[2]+=n[2]}function Rr(t,n){return[t[0]*n,t[1]*n,t[2]*n]}function qr(t){var n=B_(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=n,t[1]/=n,t[2]/=n}function Ur(t,n){u_.push(a_=[Qv=t,t_=t]),n<Kv&&(Kv=n),n>n_&&(n_=n)}function Dr(t,n){var e=Cr([t*z_,n*z_]);if(o_){var r=Pr(o_,e),i=[r[1],-r[0],0],o=Pr(i,r);qr(o),o=Ar(o);var u,a=t-e_,c=a>0?1:-1,s=o[0]*C_*c,f=P_(a)>180;f^(c*e_<s&&s<c*t)?(u=o[1]*C_)>n_&&(n_=u):(s=(s+360)%360-180,f^(c*e_<s&&s<c*t)?(u=-o[1]*C_)<Kv&&(Kv=u):(n<Kv&&(Kv=n),n>n_&&(n_=n))),f?t<e_?Hr(Qv,t)>Hr(Qv,t_)&&(t_=t):Hr(t,t_)>Hr(Qv,t_)&&(Qv=t):t_>=Qv?(t<Qv&&(Qv=t),t>t_&&(t_=t)):t>e_?Hr(Qv,t)>Hr(Qv,t_)&&(t_=t):Hr(t,t_)>Hr(Qv,t_)&&(Qv=t)}else u_.push(a_=[Qv=t,t_=t]);n<Kv&&(Kv=n),n>n_&&(n_=n),o_=e,e_=t}function Or(){Q_.point=Dr}function Fr(){a_[0]=Qv,a_[1]=t_,Q_.point=Ur,o_=null}function Ir(t,n){if(o_){var e=t-e_;J_.add(P_(e)>180?e+(e>0?360:-360):e)}else r_=t,i_=n;Z_.point(t,n),Dr(t,n)}function Yr(){Z_.lineStart()}function Br(){Ir(r_,i_),Z_.lineEnd(),P_(J_)>k_&&(Qv=-(t_=180)),a_[0]=Qv,a_[1]=t_,o_=null}function Hr(t,n){return(n-=t)<0?n+360:n}function jr(t,n){return t[0]-n[0]}function Xr(t,n){return t[0]<=t[1]?t[0]<=n&&n<=t[1]:n<t[0]||t[1]<n}function $r(t,n){t*=z_,n*=z_;var e=q_(n);Vr(e*q_(t),e*I_(t),I_(n))}function Vr(t,n,e){++c_,f_+=(t-f_)/c_,l_+=(n-l_)/c_,h_+=(e-h_)/c_}function Wr(){ty.point=Zr}function Zr(t,n){t*=z_,n*=z_;var e=q_(n);b_=e*q_(t),w_=e*I_(t),M_=I_(n),ty.point=Gr,Vr(b_,w_,M_)}function Gr(t,n){t*=z_,n*=z_;var e=q_(n),r=e*q_(t),i=e*I_(t),o=I_(n),u=R_(B_((u=w_*o-M_*i)*u+(u=M_*r-b_*o)*u+(u=b_*i-w_*r)*u),b_*r+w_*i+M_*o);s_+=u,p_+=u*(b_+(b_=r)),d_+=u*(w_+(w_=i)),v_+=u*(M_+(M_=o)),Vr(b_,w_,M_)}function Jr(){ty.point=$r}function Qr(){ty.point=ti}function Kr(){ni(m_,x_),ty.point=$r}function ti(t,n){m_=t,x_=n,t*=z_,n*=z_,ty.point=ni;var e=q_(n);b_=e*q_(t),w_=e*I_(t),M_=I_(n),Vr(b_,w_,M_)}function ni(t,n){t*=z_,n*=z_;var e=q_(n),r=e*q_(t),i=e*I_(t),o=I_(n),u=w_*o-M_*i,a=M_*r-b_*o,c=b_*i-w_*r,s=B_(u*u+a*a+c*c),f=mr(s),l=s&&-f/s;__+=l*u,y_+=l*a,g_+=l*c,s_+=f,p_+=f*(b_+(b_=r)),d_+=f*(w_+(w_=i)),v_+=f*(M_+(M_=o)),Vr(b_,w_,M_)}function ei(t,n){return[t>N_?t-A_:t<-N_?t+A_:t,n]}function ri(t,n,e){return(t%=A_)?n||e?ry(oi(t),ui(n,e)):oi(t):n||e?ui(n,e):ei}function ii(t){return function(n,e){return n+=t,[n>N_?n-A_:n<-N_?n+A_:n,e]}}function oi(t){var n=ii(t);return n.invert=ii(-t),n}function ui(t,n){function e(t,n){var e=q_(n),a=q_(t)*e,c=I_(t)*e,s=I_(n),f=s*r+a*i;return[R_(c*o-f*u,a*r-s*i),mr(f*o+c*u)]}var r=q_(t),i=I_(t),o=q_(n),u=I_(n);return e.invert=function(t,n){var e=q_(n),a=q_(t)*e,c=I_(t)*e,s=I_(n),f=s*o-c*u;return[R_(c*o+s*u,a*r+f*i),mr(f*r-a*i)]},e}function ai(t,n,e,r,i,o){if(e){var u=q_(n),a=I_(n),c=r*e;null==i?(i=n+r*A_,o=n-c/2):(i=ci(u,i),o=ci(u,o),(r>0?i<o:i>o)&&(i+=r*A_));for(var s,f=i;r>0?f>o:f<o;f-=c)s=Ar([u,-a*q_(f),-a*I_(f)]),t.point(s[0],s[1])}}function ci(t,n){n=Cr(n),n[0]-=t,qr(n);var e=gr(-n[1]);return((-n[2]<0?-e:e)+A_-k_)%A_}function si(t,n,e,r){this.x=t,this.z=n,this.o=e,this.e=r,this.v=!1,this.n=this.p=null}function fi(t){if(n=t.length){for(var n,e,r=0,i=t[0];++r<n;)i.n=e=t[r],e.p=i,i=e;i.n=e=t[0],e.p=i}}function li(t,n,e,r){function i(i,o){return t<=i&&i<=e&&n<=o&&o<=r}function o(i,o,a,s){var f=0,l=0;if(null==i||(f=u(i,a))!==(l=u(o,a))||c(i,o)<0^a>0)do{s.point(0===f||3===f?t:e,f>1?r:n)}while((f=(f+a+4)%4)!==l);else s.point(o[0],o[1])}function u(r,i){return P_(r[0]-t)<k_?i>0?0:3:P_(r[0]-e)<k_?i>0?2:1:P_(r[1]-n)<k_?i>0?1:0:i>0?3:2}function a(t,n){return c(t.x,n.x)}function c(t,n){var e=u(t,1),r=u(n,1);return e!==r?e-r:0===e?n[1]-t[1]:1===e?t[0]-n[0]:2===e?t[1]-n[1]:n[0]-t[0]}return function(u){function c(t,n){i(t,n)&&N.point(t,n)}function s(){for(var n=0,e=0,i=_.length;e<i;++e)for(var o,u,a=_[e],c=1,s=a.length,f=a[0],l=f[0],h=f[1];c<s;++c)o=l,u=h,f=a[c],l=f[0],h=f[1],u<=r?h>r&&(l-o)*(r-u)>(h-u)*(t-o)&&++n:h<=r&&(l-o)*(r-u)<(h-u)*(t-o)&&--n;return n}function f(){N=S,v=[],_=[],k=!0}function l(){var t=s(),n=k&&t,e=(v=bf(v)).length;(n||e)&&(u.polygonStart(),n&&(u.lineStart(),o(null,null,1,u),u.lineEnd()),e&&xy(v,a,t,o,u),u.polygonEnd()),N=u,v=_=y=null}function h(){E.point=d,_&&_.push(y=[]),T=!0,M=!1,b=w=NaN}function p(){v&&(d(g,m),x&&M&&S.rejoin(),v.push(S.result())),E.point=c,M&&N.lineEnd()}function d(o,u){var a=i(o,u);if(_&&y.push([o,u]),T)g=o,m=u,x=a,T=!1,a&&(N.lineStart(),N.point(o,u));else if(a&&M)N.point(o,u);else{var c=[b=Math.max(wy,Math.min(by,b)),w=Math.max(wy,Math.min(by,w))],s=[o=Math.max(wy,Math.min(by,o)),u=Math.max(wy,Math.min(by,u))];gy(c,s,t,n,e,r)?(M||(N.lineStart(),N.point(c[0],c[1])),N.point(s[0],s[1]),a||N.lineEnd(),k=!1):a&&(N.lineStart(),N.point(o,u),k=!1)}b=o,w=u,M=a}var v,_,y,g,m,x,b,w,M,T,k,N=u,S=yy(),E={point:c,lineStart:h,lineEnd:p,polygonStart:f,polygonEnd:l};return E}}function hi(){Sy.point=di,Sy.lineEnd=pi}function pi(){Sy.point=Sy.lineEnd=br}function di(t,n){t*=z_,n*=z_,iy=t,oy=I_(n),uy=q_(n),Sy.point=vi}function vi(t,n){t*=z_,n*=z_;var e=I_(n),r=q_(n),i=P_(t-iy),o=q_(i),u=I_(i),a=r*u,c=uy*e-oy*r*o,s=oy*e+uy*r*o;Ny.add(R_(B_(a*a+c*c),s)),iy=t,oy=e,uy=r}function _i(t,n){return!(!t||!Ly.hasOwnProperty(t.type))&&Ly[t.type](t,n)}function yi(t,n){return 0===zy(t,n)}function gi(t,n){var e=zy(t[0],t[1]);return zy(t[0],n)+zy(n,t[1])<=e+k_}function mi(t,n){return!!ky(t.map(xi),bi(n))}function xi(t){return t=t.map(bi),t.pop(),t}function bi(t){return[t[0]*z_,t[1]*z_]}function wi(t,n,e){var r=cf(t,n-k_,e).concat(n);return function(t){return r.map(function(n){return[t,n]})}}function Mi(t,n,e){var r=cf(t,n-k_,e).concat(n);return function(t){return r.map(function(n){return[n,t]})}}function Ti(){function t(){return{type:"MultiLineString",coordinates:n()}}function n(){return cf(U_(o/_)*_,i,_).map(h).concat(cf(U_(s/y)*y,c,y).map(p)).concat(cf(U_(r/d)*d,e,d).filter(function(t){return P_(t%_)>k_}).map(f)).concat(cf(U_(a/v)*v,u,v).filter(function(t){return P_(t%y)>k_}).map(l))}var e,r,i,o,u,a,c,s,f,l,h,p,d=10,v=d,_=90,y=360,g=2.5;return t.lines=function(){return n().map(function(t){return{type:"LineString",coordinates:t}})},t.outline=function(){return{type:"Polygon",coordinates:[h(o).concat(p(c).slice(1),h(i).reverse().slice(1),p(s).reverse().slice(1))]}},t.extent=function(n){return arguments.length?t.extentMajor(n).extentMinor(n):t.extentMinor()},t.extentMajor=function(n){return arguments.length?(o=+n[0][0],i=+n[1][0],s=+n[0][1],c=+n[1][1],o>i&&(n=o,o=i,i=n),s>c&&(n=s,s=c,c=n),t.precision(g)):[[o,s],[i,c]]},t.extentMinor=function(n){return arguments.length?(r=+n[0][0],e=+n[1][0],a=+n[0][1],u=+n[1][1],r>e&&(n=r,r=e,e=n),a>u&&(n=a,a=u,u=n),t.precision(g)):[[r,a],[e,u]]},t.step=function(n){return arguments.length?t.stepMajor(n).stepMinor(n):t.stepMinor()},t.stepMajor=function(n){return arguments.length?(_=+n[0],y=+n[1],t):[_,y]},t.stepMinor=function(n){return arguments.length?(d=+n[0],v=+n[1],t):[d,v]},t.precision=function(n){return arguments.length?(g=+n,f=wi(a,u,90),l=Mi(r,e,g),h=wi(s,c,90),p=Mi(o,i,g),t):g},t.extentMajor([[-180,-90+k_],[180,90-k_]]).extentMinor([[-180,-80-k_],[180,80+k_]])}function ki(){return Ti()()}function Ni(){Fy.point=Si}function Si(t,n){Fy.point=Ei,ay=sy=t,cy=fy=n}function Ei(t,n){Oy.add(fy*t-sy*n),sy=t,fy=n}function Ai(){Ei(ay,cy)}function Ci(t,n){t<Iy&&(Iy=t),t>By&&(By=t),n<Yy&&(Yy=n),n>Hy&&(Hy=n)}function zi(t,n){Xy+=t,$y+=n,++Vy}function Pi(){tg.point=Li}function Li(t,n){tg.point=Ri,zi(py=t,dy=n)}function Ri(t,n){var e=t-py,r=n-dy,i=B_(e*e+r*r);Wy+=i*(py+t)/2,Zy+=i*(dy+n)/2,Gy+=i,zi(py=t,dy=n)}function qi(){tg.point=zi}function Ui(){tg.point=Oi}function Di(){Fi(ly,hy)}function Oi(t,n){tg.point=Fi,zi(ly=py=t,hy=dy=n)}function Fi(t,n){var e=t-py,r=n-dy,i=B_(e*e+r*r);Wy+=i*(py+t)/2,Zy+=i*(dy+n)/2,Gy+=i,i=dy*t-py*n,Jy+=i*(py+t),Qy+=i*(dy+n),Ky+=3*i,zi(py=t,dy=n)}function Ii(t){this._context=t}function Yi(t,n){ag.point=Bi,eg=ig=t,rg=og=n}function Bi(t,n){ig-=t,og-=n,ug.add(B_(ig*ig+og*og)),ig=t,og=n}function Hi(){this._string=[]}function ji(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function Xi(t){return t.length>1}function $i(t,n){return((t=t.x)[0]<0?t[1]-S_-k_:S_-t[1])-((n=n.x)[0]<0?n[1]-S_-k_:S_-n[1])}function Vi(t){var n,e=NaN,r=NaN,i=NaN;return{lineStart:function(){t.lineStart(),n=1},point:function(o,u){var a=o>0?N_:-N_,c=P_(o-e);P_(c-N_)<k_?(t.point(e,r=(r+u)/2>0?S_:-S_),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(a,r),t.point(o,r),n=0):i!==a&&c>=N_&&(P_(e-i)<k_&&(e-=i*k_),P_(o-a)<k_&&(o-=a*k_),r=Wi(e,r,o,u),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(a,r),n=0),t.point(e=o,r=u),i=a},lineEnd:function(){t.lineEnd(),e=r=NaN},clean:function(){return 2-n}}}function Wi(t,n,e,r){var i,o,u=I_(t-e);return P_(u)>k_?L_((I_(n)*(o=q_(r))*I_(e)-I_(r)*(i=q_(n))*I_(t))/(i*o*u)):(n+r)/2}function Zi(t,n,e,r){var i;if(null==t)i=e*S_,r.point(-N_,i),r.point(0,i),r.point(N_,i),r.point(N_,0),r.point(N_,-i),r.point(0,-i),r.point(-N_,-i),r.point(-N_,0),r.point(-N_,i);else if(P_(t[0]-n[0])>k_){var o=t[0]<n[0]?N_:-N_;i=e*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(n[0],n[1])}function Gi(t){return function(n){var e=new Ji;for(var r in t)e[r]=t[r];return e.stream=n,e}}function Ji(){}function Qi(t,n,e){var r=n[1][0]-n[0][0],i=n[1][1]-n[0][1],o=t.clipExtent&&t.clipExtent();t.scale(150).translate([0,0]),null!=o&&t.clipExtent(null),$_(e,t.stream(jy));var u=jy.result(),a=Math.min(r/(u[1][0]-u[0][0]),i/(u[1][1]-u[0][1])),c=+n[0][0]+(r-a*(u[1][0]+u[0][0]))/2,s=+n[0][1]+(i-a*(u[1][1]+u[0][1]))/2;return null!=o&&t.clipExtent(o),t.scale(150*a).translate([c,s])}function Ki(t,n,e){return Qi(t,[[0,0],n],e)}function to(t){return Gi({point:function(n,e){n=t(n,e),this.stream.point(n[0],n[1])}})}function no(t,n){function e(r,i,o,u,a,c,s,f,l,h,p,d,v,_){var y=s-r,g=f-i,m=y*y+g*g;if(m>4*n&&v--){var x=u+h,b=a+p,w=c+d,M=B_(x*x+b*b+w*w),T=mr(w/=M),k=P_(P_(w)-1)<k_||P_(o-l)<k_?(o+l)/2:R_(b,x),N=t(k,T),S=N[0],E=N[1],A=S-r,C=E-i,z=g*A-y*C;(z*z/m>n||P_((y*A+g*C)/m-.5)>.3||u*h+a*p+c*d<dg)&&(e(r,i,o,u,a,c,S,E,k,x/=M,b/=M,w,v,_),_.point(S,E),e(S,E,k,x,b,w,s,f,l,h,p,d,v,_))}}return function(n){function r(e,r){e=t(e,r),n.point(e[0],e[1])}function i(){y=NaN,w.point=o,n.lineStart()}function o(r,i){var o=Cr([r,i]),u=t(r,i);e(y,g,_,m,x,b,y=u[0],g=u[1],_=r,m=o[0],x=o[1],b=o[2],pg,n),n.point(y,g)}function u(){w.point=r,n.lineEnd()}function a(){i(),w.point=c,w.lineEnd=s}function c(t,n){o(f=t,n),l=y,h=g,p=m,d=x,v=b,w.point=o}function s(){e(y,g,_,m,x,b,l,h,f,p,d,v,pg,n),w.lineEnd=u,u()}var f,l,h,p,d,v,_,y,g,m,x,b,w={point:r,lineStart:i,lineEnd:u,polygonStart:function(){n.polygonStart(),w.lineStart=a},polygonEnd:function(){n.polygonEnd(),w.lineStart=i}};return w}}function eo(t){return ro(function(){return t})()}function ro(t){function n(t){return t=f(t[0]*z_,t[1]*z_),[t[0]*_+a,c-t[1]*_]}function e(t){return(t=f.invert((t[0]-a)/_,(c-t[1])/_))&&[t[0]*C_,t[1]*C_]}function r(t,n){return t=u(t,n),[t[0]*_+a,c-t[1]*_]}function i(){f=ry(s=ri(b,w,M),u);var t=u(m,x);return a=y-t[0]*_,c=g+t[1]*_,o()}function o(){return d=v=null,n}var u,a,c,s,f,l,h,p,d,v,_=150,y=480,g=250,m=0,x=0,b=0,w=0,M=0,T=null,k=fg,N=null,S=Uy,E=.5,A=vg(r,E);return n.stream=function(t){return d&&v===t?d:d=_g(k(s,A(S(v=t))))},n.clipAngle=function(t){return arguments.length?(k=+t?lg(T=t*z_,6*z_):(T=null,fg),o()):T*C_},n.clipExtent=function(t){return arguments.length?(S=null==t?(N=l=h=p=null,Uy):li(N=+t[0][0],l=+t[0][1],h=+t[1][0],p=+t[1][1]),o()):null==N?null:[[N,l],[h,p]]},n.scale=function(t){return arguments.length?(_=+t,i()):_},n.translate=function(t){return arguments.length?(y=+t[0],g=+t[1],i()):[y,g]},n.center=function(t){return arguments.length?(m=t[0]%360*z_,x=t[1]%360*z_,i()):[m*C_,x*C_]},n.rotate=function(t){return arguments.length?(b=t[0]%360*z_,w=t[1]%360*z_,M=t.length>2?t[2]%360*z_:0,i()):[b*C_,w*C_,M*C_]},n.precision=function(t){return arguments.length?(A=vg(r,E=t*t),o()):B_(E)},n.fitExtent=function(t,e){return Qi(n,t,e)},n.fitSize=function(t,e){return Ki(n,t,e)},function(){return u=t.apply(this,arguments),n.invert=u.invert&&e,i()}}function io(t){var n=0,e=N_/3,r=ro(t),i=r(n,e);return i.parallels=function(t){return arguments.length?r(n=t[0]*z_,e=t[1]*z_):[n*C_,e*C_]},i}function oo(t){function n(t,n){return[t*e,I_(n)/e]}var e=q_(t);return n.invert=function(t,n){return[t/e,mr(n*e)]},n}function uo(t,n){function e(t,n){var e=B_(o-2*i*I_(n))/i;return[e*I_(t*=i),u-e*q_(t)]}var r=I_(t),i=(r+I_(n))/2;if(P_(i)<k_)return oo(t);var o=1+r*(2*i-r),u=B_(o)/i;return e.invert=function(t,n){var e=u-n;return[R_(t,P_(e))/i*Y_(e),mr((o-(t*t+e*e)*i*i)/(2*i))]},e}function ao(t){var n=t.length;return{point:function(e,r){for(var i=-1;++i<n;)t[i].point(e,r)},sphere:function(){for(var e=-1;++e<n;)t[e].sphere()},lineStart:function(){for(var e=-1;++e<n;)t[e].lineStart()},lineEnd:function(){for(var e=-1;++e<n;)t[e].lineEnd()},polygonStart:function(){for(var e=-1;++e<n;)t[e].polygonStart()},polygonEnd:function(){for(var e=-1;++e<n;)t[e].polygonEnd()}}}function co(t){return function(n,e){var r=q_(n),i=q_(e),o=t(r*i);return[o*i*I_(n),o*I_(e)]}}function so(t){return function(n,e){var r=B_(n*n+e*e),i=t(r),o=I_(i),u=q_(i);return[R_(n*o,r*u),mr(r&&e*o/r)]}}function fo(t,n){return[t,O_(H_((S_+n)/2))]}function lo(t){function n(){var n=N_*a(),u=o(vy(o.rotate()).invert([0,0]));return s(null==f?[[u[0]-n,u[1]-n],[u[0]+n,u[1]+n]]:t===fo?[[Math.max(u[0]-n,f),e],[Math.min(u[0]+n,r),i]]:[[f,Math.max(u[1]-n,e)],[r,Math.min(u[1]+n,i)]])}var e,r,i,o=eo(t),u=o.center,a=o.scale,c=o.translate,s=o.clipExtent,f=null;return o.scale=function(t){return arguments.length?(a(t),n()):a()},o.translate=function(t){return arguments.length?(c(t),n()):c()},o.center=function(t){return arguments.length?(u(t),n()):u()},o.clipExtent=function(t){return arguments.length?(null==t?f=e=r=i=null:(f=+t[0][0],e=+t[0][1],r=+t[1][0],i=+t[1][1]),n()):null==f?null:[[f,e],[r,i]]},n()}function ho(t){return H_((S_+t)/2)}function po(t,n){function e(t,n){o>0?n<-S_+k_&&(n=-S_+k_):n>S_-k_&&(n=S_-k_);var e=o/F_(ho(n),i);return[e*I_(i*t),o-e*q_(i*t)]}var r=q_(t),i=t===n?I_(t):O_(r/q_(n))/O_(ho(n)/ho(t)),o=r*F_(ho(t),i)/i;return i?(e.invert=function(t,n){var e=o-n,r=Y_(i)*B_(t*t+e*e);return[R_(t,P_(e))/i*Y_(e),2*L_(F_(o/r,1/i))-S_]},e):fo}function vo(t,n){return[t,n]}function _o(t,n){function e(t,n){var e=o-n,r=i*t;return[e*I_(r),o-e*q_(r)]}var r=q_(t),i=t===n?I_(t):(r-q_(n))/(n-t),o=r/i+t;return P_(i)<k_?vo:(e.invert=function(t,n){var e=o-n;return[R_(t,P_(e))/i*Y_(e),o-Y_(i)*B_(t*t+e*e)]},e)}function yo(t,n){var e=q_(n),r=q_(t)*e;return[e*I_(t)/r,I_(n)/r]}function go(t,n,e,r){return 1===t&&1===n&&0===e&&0===r?Uy:Gi({point:function(i,o){this.stream.point(i*t+e,o*n+r)}})}function mo(t,n){return[q_(n)*I_(t),I_(n)]}function xo(t,n){var e=q_(n),r=1+q_(t)*e;return[e*I_(t)/r,I_(n)/r]}function bo(t,n){return[O_(H_((S_+n)/2)),-t]}function wo(t,n){return t.parent===n.parent?1:2}function Mo(t){return t.reduce(To,0)/t.length}function To(t,n){return t+n.x}function ko(t){return 1+t.reduce(No,0)}function No(t,n){return Math.max(t,n.y)}function So(t){for(var n;n=t.children;)t=n[0];return t}function Eo(t){for(var n;n=t.children;)t=n[n.length-1];return t}function Ao(t){var n=0,e=t.children,r=e&&e.length;if(r)for(;--r>=0;)n+=e[r].value;else n=1;t.value=n}function Co(t,n){if(t===n)return t;var e=t.ancestors(),r=n.ancestors(),i=null;for(t=e.pop(),n=r.pop();t===n;)i=t,t=e.pop(),n=r.pop();return i}function zo(t,n){var e,r,i,o,u,a=new Uo(t),c=+t.value&&(a.value=t.value),s=[a];for(null==n&&(n=Lo);e=s.pop();)if(c&&(e.value=+e.data.value),(i=n(e.data))&&(u=i.length))for(e.children=new Array(u),o=u-1;o>=0;--o)s.push(r=e.children[o]=new Uo(i[o])),r.parent=e,r.depth=e.depth+1;return a.eachBefore(qo)}function Po(){return zo(this).eachBefore(Ro)}function Lo(t){return t.children}function Ro(t){t.data=t.data.data}function qo(t){var n=0;do{t.height=n}while((t=t.parent)&&t.height<++n)}function Uo(t){this.data=t,this.depth=this.height=0,this.parent=null}function Do(t){this._=t,this.next=null}function Oo(t,n){var e=n.x-t.x,r=n.y-t.y,i=t.r-n.r;return i*i+1e-6>e*e+r*r}function Fo(t,n){var e,r,i,o=null,u=t.head;switch(n.length){case 1:e=Io(n[0]);break;case 2:e=Yo(n[0],n[1]);break;case 3:e=Bo(n[0],n[1],n[2])}for(;u;)i=u._,r=u.next,e&&Oo(e,i)?o=u:(o?(t.tail=o,o.next=null):t.head=t.tail=null,n.push(i),e=Fo(t,n),n.pop(),t.head?(u.next=t.head,t.head=u):(u.next=null,t.head=t.tail=u),o=t.tail,o.next=r),u=r;return t.tail=o,e}function Io(t){return{x:t.x,y:t.y,r:t.r}}function Yo(t,n){var e=t.x,r=t.y,i=t.r,o=n.x,u=n.y,a=n.r,c=o-e,s=u-r,f=a-i,l=Math.sqrt(c*c+s*s);return{x:(e+o+c/l*f)/2,y:(r+u+s/l*f)/2,r:(l+i+a)/2}}function Bo(t,n,e){var r=t.x,i=t.y,o=t.r,u=n.x,a=n.y,c=n.r,s=e.x,f=e.y,l=e.r,h=2*(r-u),p=2*(i-a),d=2*(c-o),v=r*r+i*i-o*o-u*u-a*a+c*c,_=2*(r-s),y=2*(i-f),g=2*(l-o),m=r*r+i*i-o*o-s*s-f*f+l*l,x=_*p-h*y,b=(p*m-y*v)/x-r,w=(y*d-p*g)/x,M=(_*v-h*m)/x-i,T=(h*g-_*d)/x,k=w*w+T*T-1,N=2*(b*w+M*T+o),S=b*b+M*M-o*o,E=(-N-Math.sqrt(N*N-4*k*S))/(2*k);return{x:b+w*E+r,y:M+T*E+i,r:E}}function Ho(t,n,e){var r=t.x,i=t.y,o=n.r+e.r,u=t.r+e.r,a=n.x-r,c=n.y-i,s=a*a+c*c;if(s){var f=.5+((u*=u)-(o*=o))/(2*s),l=Math.sqrt(Math.max(0,2*o*(u+s)-(u-=s)*u-o*o))/(2*s);e.x=r+f*a+l*c,e.y=i+f*c-l*a}else e.x=r+u,e.y=i}function jo(t,n){var e=n.x-t.x,r=n.y-t.y,i=t.r+n.r;return i*i-1e-6>e*e+r*r}function Xo(t,n,e){var r=t._,i=t.next._,o=r.r+i.r,u=(r.x*i.r+i.x*r.r)/o-n,a=(r.y*i.r+i.y*r.r)/o-e;return u*u+a*a}function $o(t){this._=t,this.next=null,this.previous=null}function Vo(t){if(!(i=t.length))return 0;var n,e,r,i;if(n=t[0],n.x=0,n.y=0,!(i>1))return n.r;if(e=t[1],n.x=-e.r,e.x=n.r,e.y=0,!(i>2))return n.r+e.r;Ho(e,n,r=t[2]);var o,u,a,c,s,f,l,h=n.r*n.r,p=e.r*e.r,d=r.r*r.r,v=h+p+d,_=h*n.x+p*e.x+d*r.x,y=h*n.y+p*e.y+d*r.y;n=new $o(n),e=new $o(e),r=new $o(r),n.next=r.previous=e,e.next=n.previous=r,r.next=e.previous=n;t:for(a=3;a<i;++a){Ho(n._,e._,r=t[a]),r=new $o(r),c=e.next,s=n.previous,f=e._.r,l=n._.r;do{if(f<=l){if(jo(c._,r._)){e=c,n.next=e,e.previous=n,--a;continue t}f+=c._.r,c=c.next}else{if(jo(s._,r._)){n=s,n.next=e,e.previous=n,--a;continue t}l+=s._.r,s=s.previous}}while(c!==s.next);for(r.previous=n,r.next=e,n.next=e.previous=e=r,v+=d=r._.r*r._.r,_+=d*r._.x,y+=d*r._.y,h=Xo(n,o=_/v,u=y/v);(r=r.next)!==e;)(d=Xo(r,o,u))<h&&(n=r,h=d);e=n.next}for(n=[e._],r=e;(r=r.next)!==e;)n.push(r._);for(r=$g(n),a=0;a<i;++a)n=t[a],n.x-=r.x,n.y-=r.y;return r.r}function Wo(t){return null==t?null:Zo(t)}function Zo(t){if("function"!=typeof t)throw new Error;return t}function Go(){return 0}function Jo(t){return Math.sqrt(t.value)}function Qo(t){return function(n){n.children||(n.r=Math.max(0,+t(n)||0))}}function Ko(t,n){return function(e){if(r=e.children){var r,i,o,u=r.length,a=t(e)*n||0;if(a)for(i=0;i<u;++i)r[i].r+=a;if(o=Vo(r),a)for(i=0;i<u;++i)r[i].r-=a;e.r=o+a}}}function tu(t){return function(n){var e=n.parent;n.r*=t,e&&(n.x=e.x+t*n.x,n.y=e.y+t*n.y)}}function nu(t){return t.id}function eu(t){return t.parentId}function ru(t,n){return t.parent===n.parent?1:2}function iu(t){var n=t.children;return n?n[0]:t.t}function ou(t){var n=t.children;return n?n[n.length-1]:t.t}function uu(t,n,e){var r=e/(n.i-t.i);n.c-=r,n.s+=e,t.c+=r,n.z+=e,n.m+=e}function au(t){for(var n,e=0,r=0,i=t.children,o=i.length;--o>=0;)n=i[o],n.z+=e,n.m+=e,e+=n.s+(r+=n.c)}function cu(t,n,e){return t.a.parent===n.parent?t.a:e}function su(t,n){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=n}function fu(t){for(var n,e,r,i,o,u=new su(t,0),a=[u];n=a.pop();)if(r=n._.children)for(n.children=new Array(o=r.length),i=o-1;i>=0;--i)a.push(e=n.children[i]=new su(r[i],i)),e.parent=n;return(u.parent=new su(null,0)).children=[u],u}function lu(t,n,e,r,i,o){for(var u,a,c,s,f,l,h,p,d,v,_,y=[],g=n.children,m=0,x=0,b=g.length,w=n.value;m<b;){c=i-e,s=o-r;do{f=g[x++].value}while(!f&&x<b);for(l=h=f,v=Math.max(s/c,c/s)/(w*t),_=f*f*v,d=Math.max(h/_,_/l);x<b;++x){if(f+=a=g[x].value,a<l&&(l=a),a>h&&(h=a),_=f*f*v,(p=Math.max(h/_,_/l))>d){f-=a;break}d=p}y.push(u={value:f,dice:c<s,children:g.slice(m,x)}),u.dice?Jg(u,e,r,i,w?r+=s*f/w:o):im(u,e,r,w?e+=c*f/w:i,o),w-=f,m=x}return y}function hu(t,n){return t[0]-n[0]||t[1]-n[1]}function pu(t){for(var n=t.length,e=[0,1],r=2,i=2;i<n;++i){for(;r>1&&pm(t[e[r-2]],t[e[r-1]],t[i])<=0;)--r;e[r++]=i}return e.slice(0,r)}function du(t){this._size=t,this._call=this._error=null,this._tasks=[],this._data=[],this._waiting=this._active=this._ended=this._start=0}function vu(t){if(!t._start)try{_u(t)}catch(n){if(t._tasks[t._ended+t._active-1])gu(t,n);else if(!t._data)throw n}}function _u(t){for(;t._start=t._waiting&&t._active<t._size;){var n=t._ended+t._active,e=t._tasks[n],r=e.length-1,i=e[r];e[r]=yu(t,n),--t._waiting,++t._active,e=i.apply(null,e),t._tasks[n]&&(t._tasks[n]=e||gm)}}function yu(t,n){return function(e,r){t._tasks[n]&&(--t._active,++t._ended,t._tasks[n]=null,null==t._error&&(null!=e?gu(t,e):(t._data[n]=r,t._waiting?vu(t):mu(t))))}}function gu(t,n){var e,r=t._tasks.length;for(t._error=n,t._data=void 0,t._waiting=NaN;--r>=0;)if((e=t._tasks[r])&&(t._tasks[r]=null,e.abort))try{e.abort()}catch(n){}t._active=NaN,mu(t)}function mu(t){if(!t._active&&t._call){var n=t._data;t._data=void 0,t._call(t._error,n)}}function xu(t){if(null==t)t=1/0;else if(!((t=+t)>=1))throw new Error("invalid concurrency");return new du(t)}function bu(t){return function(n,e){t(null==n?e:null)}}function wu(t){var n=t.responseType;return n&&"text"!==n?t.response:t.responseText}function Mu(t,n){return function(e){return t(e.responseText,n)}}function Tu(t){function n(n){var o=n+"",u=e.get(o);if(!u){if(i!==Om)return i;e.set(o,u=r.push(n))}return t[(u-1)%t.length]}var e=He(),r=[],i=Om;return t=null==t?[]:Dm.call(t),n.domain=function(t){if(!arguments.length)return r.slice();r=[],e=He();for(var i,o,u=-1,a=t.length;++u<a;)e.has(o=(i=t[u])+"")||e.set(o,r.push(i));return n},n.range=function(e){return arguments.length?(t=Dm.call(e),n):t.slice()},n.unknown=function(t){return arguments.length?(i=t,n):i},n.copy=function(){return Tu().domain(r).range(t).unknown(i)},n}function ku(){function t(){var t=i().length,r=u[1]<u[0],l=u[r-0],h=u[1-r];n=(h-l)/Math.max(1,t-c+2*s),a&&(n=Math.floor(n)),l+=(h-l-n*(t-c))*f,e=n*(1-c),a&&(l=Math.round(l),e=Math.round(e));var p=cf(t).map(function(t){return l+n*t});return o(r?p.reverse():p)}var n,e,r=Tu().unknown(void 0),i=r.domain,o=r.range,u=[0,1],a=!1,c=0,s=0,f=.5;return delete r.unknown,r.domain=function(n){return arguments.length?(i(n),t()):i()},r.range=function(n){return arguments.length?(u=[+n[0],+n[1]],t()):u.slice()},r.rangeRound=function(n){return u=[+n[0],+n[1]],a=!0,t()},r.bandwidth=function(){return e},r.step=function(){return n},r.round=function(n){return arguments.length?(a=!!n,t()):a},r.padding=function(n){return arguments.length?(c=s=Math.max(0,Math.min(1,n)),t()):c},r.paddingInner=function(n){return arguments.length?(c=Math.max(0,Math.min(1,n)),t()):c},r.paddingOuter=function(n){return arguments.length?(s=Math.max(0,Math.min(1,n)),t()):s},r.align=function(n){return arguments.length?(f=Math.max(0,Math.min(1,n)),t()):f},r.copy=function(){return ku().domain(i()).range(u).round(a).paddingInner(c).paddingOuter(s).align(f)},t()}function Nu(t){var n=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return Nu(n())},t}function Su(){return Nu(ku().paddingInner(1))}function Eu(t,n){return(n-=t=+t)?function(e){return(e-t)/n}:Fm(n)}function Au(t){return function(n,e){var r=t(n=+n,e=+e);return function(t){return t<=n?0:t>=e?1:r(t)}}}function Cu(t){return function(n,e){var r=t(n=+n,e=+e);return function(t){return t<=0?n:t>=1?e:r(t)}}}function zu(t,n,e,r){var i=t[0],o=t[1],u=n[0],a=n[1];return o<i?(i=e(o,i),u=r(a,u)):(i=e(i,o),u=r(u,a)),function(t){return u(i(t))}}function Pu(t,n,e,r){var i=Math.min(t.length,n.length)-1,o=new Array(i),u=new Array(i),a=-1;for(t[i]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());++a<i;)o[a]=e(t[a],t[a+1]),u[a]=r(n[a],n[a+1]);return function(n){var e=Vs(t,n,1,i)-1;return u[e](o[e](n))}}function Lu(t,n){return n.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp())}function Ru(t,n){function e(){return i=Math.min(a.length,c.length)>2?Pu:zu,o=u=null,r}function r(n){return(o||(o=i(a,c,f?Au(t):t,s)))(+n)}var i,o,u,a=Ym,c=Ym,s=qh,f=!1;return r.invert=function(t){return(u||(u=i(c,a,Eu,f?Cu(n):n)))(+t)},r.domain=function(t){return arguments.length?(a=Um.call(t,Im),e()):a.slice()},r.range=function(t){return arguments.length?(c=Dm.call(t),e()):c.slice()},r.rangeRound=function(t){return c=Dm.call(t),s=Uh,e()},r.clamp=function(t){return arguments.length?(f=!!t,e()):f},r.interpolate=function(t){return arguments.length?(s=t,e()):s},e()}function qu(t){var n=t.domain;return t.ticks=function(t){var e=n();return hf(e[0],e[e.length-1],null==t?10:t)},t.tickFormat=function(t,e){return Bm(n(),t,e)},t.nice=function(e){null==e&&(e=10);var i,o=n(),u=0,a=o.length-1,c=o[u],s=o[a];return s<c&&(i=c,c=s,s=i,i=u,u=a,a=i),i=r(c,s,e),i>0?(c=Math.floor(c/i)*i,s=Math.ceil(s/i)*i,i=r(c,s,e)):i<0&&(c=Math.ceil(c*i)/i,s=Math.floor(s*i)/i,i=r(c,s,e)),i>0?(o[u]=Math.floor(c/i)*i,o[a]=Math.ceil(s/i)*i,n(o)):i<0&&(o[u]=Math.ceil(c*i)/i,o[a]=Math.floor(s*i)/i,n(o)),t},t}function Uu(){var t=Ru(Eu,Ch);return t.copy=function(){return Lu(t,Uu())},qu(t)}function Du(){function t(t){return+t}var n=[0,1];return t.invert=t,t.domain=t.range=function(e){return arguments.length?(n=Um.call(e,Im),t):n.slice()},t.copy=function(){return Du().domain(n)},qu(t)}function Ou(t,n){return(n=Math.log(n/t))?function(e){return Math.log(e/t)/n}:Fm(n)}function Fu(t,n){return t<0?function(e){return-Math.pow(-n,e)*Math.pow(-t,1-e)}:function(e){return Math.pow(n,e)*Math.pow(t,1-e)}}function Iu(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Yu(t){return 10===t?Iu:t===Math.E?Math.exp:function(n){return Math.pow(t,n)}}function Bu(t){return t===Math.E?Math.log:10===t&&Math.log10||2===t&&Math.log2||(t=Math.log(t),function(n){return Math.log(n)/t})}function Hu(t){return function(n){return-t(-n)}}function ju(){function n(){return o=Bu(i),u=Yu(i),r()[0]<0&&(o=Hu(o),u=Hu(u)),e}var e=Ru(Ou,Fu).domain([1,10]),r=e.domain,i=10,o=Bu(10),u=Yu(10);return e.base=function(t){return arguments.length?(i=+t,n()):i},e.domain=function(t){return arguments.length?(r(t),n()):r()},e.ticks=function(t){var n,e=r(),a=e[0],c=e[e.length-1];(n=c<a)&&(h=a,a=c,c=h);var s,f,l,h=o(a),p=o(c),d=null==t?10:+t,v=[];if(!(i%1)&&p-h<d){if(h=Math.round(h)-1,p=Math.round(p)+1,a>0){for(;h<p;++h)for(f=1,s=u(h);f<i;++f)if(!((l=s*f)<a)){if(l>c)break;v.push(l)}}else for(;h<p;++h)for(f=i-1,s=u(h);f>=1;--f)if(!((l=s*f)<a)){if(l>c)break;v.push(l)}}else v=hf(h,p,Math.min(p-h,d)).map(u);return n?v.reverse():v},e.tickFormat=function(n,r){if(null==r&&(r=10===i?".0e":","),"function"!=typeof r&&(r=t.format(r)),n===1/0)return r;null==n&&(n=10);var a=Math.max(1,i*n/e.ticks().length);return function(t){var n=t/u(Math.round(o(t)));return n*i<i-.5&&(n*=i),n<=a?r(t):""}},e.nice=function(){return r(Hm(r(),{floor:function(t){return u(Math.floor(o(t)))},ceil:function(t){return u(Math.ceil(o(t)))}}))},e.copy=function(){return Lu(e,ju().base(i))},e}function Xu(t,n){return t<0?-Math.pow(-t,n):Math.pow(t,n)}function $u(){function t(t,n){return(n=Xu(n,e)-(t=Xu(t,e)))?function(r){return(Xu(r,e)-t)/n}:Fm(n)}function n(t,n){return n=Xu(n,e)-(t=Xu(t,e)),function(r){return Xu(t+n*r,1/e)}}var e=1,r=Ru(t,n),i=r.domain;return r.exponent=function(t){return arguments.length?(e=+t,i(i())):e},r.copy=function(){return Lu(r,$u().exponent(e))},qu(r)}function Vu(){return $u().exponent(.5)}function Wu(){function t(){var t=0,o=Math.max(1,r.length);for(i=new Array(o-1);++t<o;)i[t-1]=vf(e,t/o);return n}function n(t){if(!isNaN(t=+t))return r[Vs(i,t)]}var e=[],r=[],i=[];return n.invertExtent=function(t){var n=r.indexOf(t);return n<0?[NaN,NaN]:[n>0?i[n-1]:e[0],n<i.length?i[n]:e[e.length-1]]},n.domain=function(n){if(!arguments.length)return e.slice();e=[];for(var r,i=0,o=n.length;i<o;++i)null==(r=n[i])||isNaN(r=+r)||e.push(r);return e.sort(js),t()},n.range=function(n){return arguments.length?(r=Dm.call(n),t()):r.slice()},n.quantiles=function(){return i.slice()},n.copy=function(){return Wu().domain(e).range(r)},n}function Zu(){function t(t){if(t<=t)return u[Vs(o,t,0,i)]}function n(){var n=-1;for(o=new Array(i);++n<i;)o[n]=((n+1)*r-(n-i)*e)/(i+1);return t}var e=0,r=1,i=1,o=[.5],u=[0,1];return t.domain=function(t){return arguments.length?(e=+t[0],r=+t[1],n()):[e,r]},t.range=function(t){return arguments.length?(i=(u=Dm.call(t)).length-1,n()):u.slice()},t.invertExtent=function(t){var n=u.indexOf(t);return n<0?[NaN,NaN]:n<1?[e,o[0]]:n>=i?[o[i-1],r]:[o[n-1],o[n]]},t.copy=function(){return Zu().domain([e,r]).range(u)},qu(t)}function Gu(){function t(t){if(t<=t)return e[Vs(n,t,0,r)]}var n=[.5],e=[0,1],r=1;return t.domain=function(i){return arguments.length?(n=Dm.call(i),r=Math.min(n.length,e.length-1),t):n.slice()},t.range=function(i){return arguments.length?(e=Dm.call(i),r=Math.min(n.length,e.length-1),t):e.slice()},t.invertExtent=function(t){var r=e.indexOf(t);return[n[r-1],n[r]]},t.copy=function(){return Gu().domain(n).range(e)},t}function Ju(t,n,e,r){function i(n){return t(n=new Date(+n)),n}return i.floor=i,i.ceil=function(e){return t(e=new Date(e-1)),n(e,1),t(e),e},i.round=function(t){var n=i(t),e=i.ceil(t);return t-n<e-t?n:e},i.offset=function(t,e){return n(t=new Date(+t),null==e?1:Math.floor(e)),t},i.range=function(e,r,o){var u=[];if(e=i.ceil(e),o=null==o?1:Math.floor(o),!(e<r&&o>0))return u;do{u.push(new Date(+e))}while(n(e,o),t(e),e<r);return u},i.filter=function(e){return Ju(function(n){if(n>=n)for(;t(n),!e(n);)n.setTime(n-1)},function(t,r){if(t>=t)for(;--r>=0;)for(;n(t,1),!e(t););})},e&&(i.count=function(n,r){return jm.setTime(+n),Xm.setTime(+r),t(jm),t(Xm),Math.floor(e(jm,Xm))},i.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?i.filter(r?function(n){return r(n)%t==0}:function(n){return i.count(0,n)%t==0}):i:null}),i}function Qu(t){return Ju(function(n){n.setDate(n.getDate()-(n.getDay()+7-t)%7),n.setHours(0,0,0,0)},function(t,n){t.setDate(t.getDate()+7*n)},function(t,n){return(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Wm)/Zm})}function Ku(t){return Ju(function(n){n.setUTCDate(n.getUTCDate()-(n.getUTCDay()+7-t)%7),n.setUTCHours(0,0,0,0)},function(t,n){t.setUTCDate(t.getUTCDate()+7*n)},function(t,n){return(n-t)/Zm})}function ta(t){if(0<=t.y&&t.y<100){var n=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return n.setFullYear(t.y),n}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function na(t){if(0<=t.y&&t.y<100){var n=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return n.setUTCFullYear(t.y),n}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function ea(t){return{y:t,m:0,d:1,H:0,M:0,S:0,L:0}}function ra(t){function n(t,n){return function(e){var r,i,o,u=[],a=-1,c=0,s=t.length;for(e instanceof Date||(e=new Date(+e));++a<s;)37===t.charCodeAt(a)&&(u.push(t.slice(c,a)),null!=(i=Vx[r=t.charAt(++a)])?r=t.charAt(++a):i="e"===r?" ":"0",(o=n[r])&&(r=o(e,i)),
u.push(r),c=a+1);return u.push(t.slice(c,a)),u.join("")}}function e(t,n){return function(e){var i=ea(1900);if(r(i,t,e+="",0)!=e.length)return null;if("p"in i&&(i.H=i.H%12+12*i.p),"W"in i||"U"in i){"w"in i||(i.w="W"in i?1:0);var o="Z"in i?na(ea(i.y)).getUTCDay():n(ea(i.y)).getDay();i.m=0,i.d="W"in i?(i.w+6)%7+7*i.W-(o+5)%7:i.w+7*i.U-(o+6)%7}return"Z"in i?(i.H+=i.Z/100|0,i.M+=i.Z%100,na(i)):n(i)}}function r(t,n,e,r){for(var i,o,u=0,a=n.length,c=e.length;u<a;){if(r>=c)return-1;if(37===(i=n.charCodeAt(u++))){if(i=n.charAt(u++),!(o=B[i in Vx?n.charAt(u++):i])||(r=o(t,e,r))<0)return-1}else if(i!=e.charCodeAt(r++))return-1}return r}function i(t,n,e){var r=C.exec(n.slice(e));return r?(t.p=z[r[0].toLowerCase()],e+r[0].length):-1}function o(t,n,e){var r=R.exec(n.slice(e));return r?(t.w=q[r[0].toLowerCase()],e+r[0].length):-1}function u(t,n,e){var r=P.exec(n.slice(e));return r?(t.w=L[r[0].toLowerCase()],e+r[0].length):-1}function a(t,n,e){var r=O.exec(n.slice(e));return r?(t.m=F[r[0].toLowerCase()],e+r[0].length):-1}function c(t,n,e){var r=U.exec(n.slice(e));return r?(t.m=D[r[0].toLowerCase()],e+r[0].length):-1}function s(t,n,e){return r(t,w,n,e)}function f(t,n,e){return r(t,M,n,e)}function l(t,n,e){return r(t,T,n,e)}function h(t){return S[t.getDay()]}function p(t){return N[t.getDay()]}function d(t){return A[t.getMonth()]}function v(t){return E[t.getMonth()]}function _(t){return k[+(t.getHours()>=12)]}function y(t){return S[t.getUTCDay()]}function g(t){return N[t.getUTCDay()]}function m(t){return A[t.getUTCMonth()]}function x(t){return E[t.getUTCMonth()]}function b(t){return k[+(t.getUTCHours()>=12)]}var w=t.dateTime,M=t.date,T=t.time,k=t.periods,N=t.days,S=t.shortDays,E=t.months,A=t.shortMonths,C=ua(k),z=aa(k),P=ua(N),L=aa(N),R=ua(S),q=aa(S),U=ua(E),D=aa(E),O=ua(A),F=aa(A),I={a:h,A:p,b:d,B:v,c:null,d:wa,e:wa,H:Ma,I:Ta,j:ka,L:Na,m:Sa,M:Ea,p:_,S:Aa,U:Ca,w:za,W:Pa,x:null,X:null,y:La,Y:Ra,Z:qa,"%":Ga},Y={a:y,A:g,b:m,B:x,c:null,d:Ua,e:Ua,H:Da,I:Oa,j:Fa,L:Ia,m:Ya,M:Ba,p:b,S:Ha,U:ja,w:Xa,W:$a,x:null,X:null,y:Va,Y:Wa,Z:Za,"%":Ga},B={a:o,A:u,b:a,B:c,c:s,d:va,e:va,H:ya,I:ya,j:_a,L:xa,m:da,M:ga,p:i,S:ma,U:sa,w:ca,W:fa,x:f,X:l,y:ha,Y:la,Z:pa,"%":ba};return I.x=n(M,I),I.X=n(T,I),I.c=n(w,I),Y.x=n(M,Y),Y.X=n(T,Y),Y.c=n(w,Y),{format:function(t){var e=n(t+="",I);return e.toString=function(){return t},e},parse:function(t){var n=e(t+="",ta);return n.toString=function(){return t},n},utcFormat:function(t){var e=n(t+="",Y);return e.toString=function(){return t},e},utcParse:function(t){var n=e(t,na);return n.toString=function(){return t},n}}}function ia(t,n,e){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<e?new Array(e-o+1).join(n)+i:i)}function oa(t){return t.replace(Gx,"\\$&")}function ua(t){return new RegExp("^(?:"+t.map(oa).join("|")+")","i")}function aa(t){for(var n={},e=-1,r=t.length;++e<r;)n[t[e].toLowerCase()]=e;return n}function ca(t,n,e){var r=Wx.exec(n.slice(e,e+1));return r?(t.w=+r[0],e+r[0].length):-1}function sa(t,n,e){var r=Wx.exec(n.slice(e));return r?(t.U=+r[0],e+r[0].length):-1}function fa(t,n,e){var r=Wx.exec(n.slice(e));return r?(t.W=+r[0],e+r[0].length):-1}function la(t,n,e){var r=Wx.exec(n.slice(e,e+4));return r?(t.y=+r[0],e+r[0].length):-1}function ha(t,n,e){var r=Wx.exec(n.slice(e,e+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),e+r[0].length):-1}function pa(t,n,e){var r=/^(Z)|([+-]\d\d)(?:\:?(\d\d))?/.exec(n.slice(e,e+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),e+r[0].length):-1}function da(t,n,e){var r=Wx.exec(n.slice(e,e+2));return r?(t.m=r[0]-1,e+r[0].length):-1}function va(t,n,e){var r=Wx.exec(n.slice(e,e+2));return r?(t.d=+r[0],e+r[0].length):-1}function _a(t,n,e){var r=Wx.exec(n.slice(e,e+3));return r?(t.m=0,t.d=+r[0],e+r[0].length):-1}function ya(t,n,e){var r=Wx.exec(n.slice(e,e+2));return r?(t.H=+r[0],e+r[0].length):-1}function ga(t,n,e){var r=Wx.exec(n.slice(e,e+2));return r?(t.M=+r[0],e+r[0].length):-1}function ma(t,n,e){var r=Wx.exec(n.slice(e,e+2));return r?(t.S=+r[0],e+r[0].length):-1}function xa(t,n,e){var r=Wx.exec(n.slice(e,e+3));return r?(t.L=+r[0],e+r[0].length):-1}function ba(t,n,e){var r=Zx.exec(n.slice(e,e+1));return r?e+r[0].length:-1}function wa(t,n){return ia(t.getDate(),n,2)}function Ma(t,n){return ia(t.getHours(),n,2)}function Ta(t,n){return ia(t.getHours()%12||12,n,2)}function ka(t,n){return ia(1+ex.count(xx(t),t),n,3)}function Na(t,n){return ia(t.getMilliseconds(),n,3)}function Sa(t,n){return ia(t.getMonth()+1,n,2)}function Ea(t,n){return ia(t.getMinutes(),n,2)}function Aa(t,n){return ia(t.getSeconds(),n,2)}function Ca(t,n){return ia(ix.count(xx(t),t),n,2)}function za(t){return t.getDay()}function Pa(t,n){return ia(ox.count(xx(t),t),n,2)}function La(t,n){return ia(t.getFullYear()%100,n,2)}function Ra(t,n){return ia(t.getFullYear()%1e4,n,4)}function qa(t){var n=t.getTimezoneOffset();return(n>0?"-":(n*=-1,"+"))+ia(n/60|0,"0",2)+ia(n%60,"0",2)}function Ua(t,n){return ia(t.getUTCDate(),n,2)}function Da(t,n){return ia(t.getUTCHours(),n,2)}function Oa(t,n){return ia(t.getUTCHours()%12||12,n,2)}function Fa(t,n){return ia(1+Nx.count(jx(t),t),n,3)}function Ia(t,n){return ia(t.getUTCMilliseconds(),n,3)}function Ya(t,n){return ia(t.getUTCMonth()+1,n,2)}function Ba(t,n){return ia(t.getUTCMinutes(),n,2)}function Ha(t,n){return ia(t.getUTCSeconds(),n,2)}function ja(t,n){return ia(Ex.count(jx(t),t),n,2)}function Xa(t){return t.getUTCDay()}function $a(t,n){return ia(Ax.count(jx(t),t),n,2)}function Va(t,n){return ia(t.getUTCFullYear()%100,n,2)}function Wa(t,n){return ia(t.getUTCFullYear()%1e4,n,4)}function Za(){return"+0000"}function Ga(){return"%"}function Ja(n){return Xx=ra(n),t.timeFormat=Xx.format,t.timeParse=Xx.parse,t.utcFormat=Xx.utcFormat,t.utcParse=Xx.utcParse,Xx}function Qa(t){return t.toISOString()}function Ka(t){var n=new Date(t);return isNaN(n)?null:n}function tc(t){return new Date(t)}function nc(t){return t instanceof Date?+t:+new Date(+t)}function ec(t,n,e,r,o,u,a,c,s){function f(i){return(a(i)<i?v:u(i)<i?_:o(i)<i?y:r(i)<i?g:n(i)<i?e(i)<i?m:x:t(i)<i?b:w)(i)}function l(n,e,r,o){if(null==n&&(n=10),"number"==typeof n){var u=Math.abs(r-e)/n,a=Xs(function(t){return t[2]}).right(M,u);a===M.length?(o=i(e/ob,r/ob,n),n=t):a?(a=M[u/M[a-1][2]<M[a][2]/u?a-1:a],o=a[1],n=a[0]):(o=i(e,r,n),n=c)}return null==o?n:n.every(o)}var h=Ru(Eu,Ch),p=h.invert,d=h.domain,v=s(".%L"),_=s(":%S"),y=s("%I:%M"),g=s("%I %p"),m=s("%a %d"),x=s("%b %d"),b=s("%B"),w=s("%Y"),M=[[a,1,Kx],[a,5,5*Kx],[a,15,15*Kx],[a,30,30*Kx],[u,1,tb],[u,5,5*tb],[u,15,15*tb],[u,30,30*tb],[o,1,nb],[o,3,3*nb],[o,6,6*nb],[o,12,12*nb],[r,1,eb],[r,2,2*eb],[e,1,rb],[n,1,ib],[n,3,3*ib],[t,1,ob]];return h.invert=function(t){return new Date(p(t))},h.domain=function(t){return arguments.length?d(Um.call(t,nc)):d().map(tc)},h.ticks=function(t,n){var e,r=d(),i=r[0],o=r[r.length-1],u=o<i;return u&&(e=i,i=o,o=e),e=l(t,i,o,n),e=e?e.range(i,o+1):[],u?e.reverse():e},h.tickFormat=function(t,n){return null==n?f:s(n)},h.nice=function(t,n){var e=d();return(t=l(t,e[0],e[e.length-1],n))?d(Hm(e,t)):h},h.copy=function(){return Lu(h,ec(t,n,e,r,o,u,a,c,s))},h}function rc(t){var n=t.length;return function(e){return t[Math.max(0,Math.min(n-1,Math.floor(e*n)))]}}function ic(t){function n(n){var o=(n-e)/(r-e);return t(i?Math.max(0,Math.min(1,o)):o)}var e=0,r=1,i=!1;return n.domain=function(t){return arguments.length?(e=+t[0],r=+t[1],n):[e,r]},n.clamp=function(t){return arguments.length?(i=!!t,n):i},n.interpolator=function(e){return arguments.length?(t=e,n):t},n.copy=function(){return ic(t).domain([e,r]).clamp(i)},qu(n)}function oc(t){return t>1?0:t<-1?zb:Math.acos(t)}function uc(t){return t>=1?Pb:t<=-1?-Pb:Math.asin(t)}function ac(t){return t.innerRadius}function cc(t){return t.outerRadius}function sc(t){return t.startAngle}function fc(t){return t.endAngle}function lc(t){return t&&t.padAngle}function hc(t,n,e,r,i,o,u,a){var c=e-t,s=r-n,f=u-i,l=a-o,h=(f*(n-o)-l*(t-i))/(l*c-f*s);return[t+h*c,n+h*s]}function pc(t,n,e,r,i,o,u){var a=t-e,c=n-r,s=(u?o:-o)/Ab(a*a+c*c),f=s*c,l=-s*a,h=t+f,p=n+l,d=e+f,v=r+l,_=(h+d)/2,y=(p+v)/2,g=d-h,m=v-p,x=g*g+m*m,b=i-o,w=h*v-d*p,M=(m<0?-1:1)*Ab(Nb(0,b*b*x-w*w)),T=(w*m-g*M)/x,k=(-w*g-m*M)/x,N=(w*m+g*M)/x,S=(-w*g+m*M)/x,E=T-_,A=k-y,C=N-_,z=S-y;return E*E+A*A>C*C+z*z&&(T=N,k=S),{cx:T,cy:k,x01:-f,y01:-l,x11:T*(i/b-1),y11:k*(i/b-1)}}function dc(t){this._context=t}function vc(t){return t[0]}function _c(t){return t[1]}function yc(t){this._curve=t}function gc(t){function n(n){return new yc(t(n))}return n._curve=t,n}function mc(t){var n=t.curve;return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t.curve=function(t){return arguments.length?n(gc(t)):n()._curve},t}function xc(t){return t.source}function bc(t){return t.target}function wc(t){function n(){var n,a=jb.call(arguments),c=e.apply(this,a),s=r.apply(this,a);if(u||(u=n=Ue()),t(u,+i.apply(this,(a[0]=c,a)),+o.apply(this,a),+i.apply(this,(a[0]=s,a)),+o.apply(this,a)),n)return u=null,n+""||null}var e=xc,r=bc,i=vc,o=_c,u=null;return n.source=function(t){return arguments.length?(e=t,n):e},n.target=function(t){return arguments.length?(r=t,n):r},n.x=function(t){return arguments.length?(i="function"==typeof t?t:wb(+t),n):i},n.y=function(t){return arguments.length?(o="function"==typeof t?t:wb(+t),n):o},n.context=function(t){return arguments.length?(u=null==t?null:t,n):u},n}function Mc(t,n,e,r,i){t.moveTo(n,e),t.bezierCurveTo(n=(n+r)/2,e,n,i,r,i)}function Tc(t,n,e,r,i){t.moveTo(n,e),t.bezierCurveTo(n,e=(e+i)/2,r,e,r,i)}function kc(t,n,e,r,i){var o=Xb(n,e),u=Xb(n,e=(e+i)/2),a=Xb(r,e),c=Xb(r,i);t.moveTo(o[0],o[1]),t.bezierCurveTo(u[0],u[1],a[0],a[1],c[0],c[1])}function Nc(){return wc(Mc)}function Sc(){return wc(Tc)}function Ec(){var t=wc(kc);return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t}function Ac(t,n,e){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+n)/6,(t._y0+4*t._y1+e)/6)}function Cc(t){this._context=t}function zc(t){this._context=t}function Pc(t){this._context=t}function Lc(t,n){this._basis=new Cc(t),this._beta=n}function Rc(t,n,e){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-n),t._y2+t._k*(t._y1-e),t._x2,t._y2)}function qc(t,n){this._context=t,this._k=(1-n)/6}function Uc(t,n){this._context=t,this._k=(1-n)/6}function Dc(t,n){this._context=t,this._k=(1-n)/6}function Oc(t,n,e){var r=t._x1,i=t._y1,o=t._x2,u=t._y2;if(t._l01_a>Cb){var a=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,c=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*a-t._x0*t._l12_2a+t._x2*t._l01_2a)/c,i=(i*a-t._y0*t._l12_2a+t._y2*t._l01_2a)/c}if(t._l23_a>Cb){var s=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,f=3*t._l23_a*(t._l23_a+t._l12_a);o=(o*s+t._x1*t._l23_2a-n*t._l12_2a)/f,u=(u*s+t._y1*t._l23_2a-e*t._l12_2a)/f}t._context.bezierCurveTo(r,i,o,u,t._x2,t._y2)}function Fc(t,n){this._context=t,this._alpha=n}function Ic(t,n){this._context=t,this._alpha=n}function Yc(t,n){this._context=t,this._alpha=n}function Bc(t){this._context=t}function Hc(t){return t<0?-1:1}function jc(t,n,e){var r=t._x1-t._x0,i=n-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),u=(e-t._y1)/(i||r<0&&-0),a=(o*i+u*r)/(r+i);return(Hc(o)+Hc(u))*Math.min(Math.abs(o),Math.abs(u),.5*Math.abs(a))||0}function Xc(t,n){var e=t._x1-t._x0;return e?(3*(t._y1-t._y0)/e-n)/2:n}function $c(t,n,e){var r=t._x0,i=t._y0,o=t._x1,u=t._y1,a=(o-r)/3;t._context.bezierCurveTo(r+a,i+a*n,o-a,u-a*e,o,u)}function Vc(t){this._context=t}function Wc(t){this._context=new Zc(t)}function Zc(t){this._context=t}function Gc(t){return new Vc(t)}function Jc(t){return new Wc(t)}function Qc(t){this._context=t}function Kc(t){var n,e,r=t.length-1,i=new Array(r),o=new Array(r),u=new Array(r);for(i[0]=0,o[0]=2,u[0]=t[0]+2*t[1],n=1;n<r-1;++n)i[n]=1,o[n]=4,u[n]=4*t[n]+2*t[n+1];for(i[r-1]=2,o[r-1]=7,u[r-1]=8*t[r-1]+t[r],n=1;n<r;++n)e=i[n]/o[n-1],o[n]-=e,u[n]-=e*u[n-1];for(i[r-1]=u[r-1]/o[r-1],n=r-2;n>=0;--n)i[n]=(u[n]-i[n+1])/o[n];for(o[r-1]=(t[r]+i[r-1])/2,n=0;n<r-1;++n)o[n]=2*t[n+1]-i[n+1];return[i,o]}function ts(t,n){this._context=t,this._t=n}function ns(t){return new ts(t,0)}function es(t){return new ts(t,1)}function rs(t,n){return t[n]}function is(t){for(var n,e=0,r=-1,i=t.length;++r<i;)(n=+t[r][1])&&(e+=n);return e}function os(t){return t[0]}function us(t){return t[1]}function as(){this._=null}function cs(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function ss(t,n){var e=n,r=n.R,i=e.U;i?i.L===e?i.L=r:i.R=r:t._=r,r.U=i,e.U=r,e.R=r.L,e.R&&(e.R.U=e),r.L=e}function fs(t,n){var e=n,r=n.L,i=e.U;i?i.L===e?i.L=r:i.R=r:t._=r,r.U=i,e.U=r,e.L=r.R,e.L&&(e.L.U=e),r.R=e}function ls(t){for(;t.L;)t=t.L;return t}function hs(t,n,e,r){var i=[null,null],o=Yw.push(i)-1;return i.left=t,i.right=n,e&&ds(i,t,n,e),r&&ds(i,n,t,r),Fw[t.index].halfedges.push(o),Fw[n.index].halfedges.push(o),i}function ps(t,n,e){var r=[n,e];return r.left=t,r}function ds(t,n,e,r){t[0]||t[1]?t.left===e?t[1]=r:t[0]=r:(t[0]=r,t.left=n,t.right=e)}function vs(t,n,e,r,i){var o,u=t[0],a=t[1],c=u[0],s=u[1],f=a[0],l=a[1],h=0,p=1,d=f-c,v=l-s;if(o=n-c,d||!(o>0)){if(o/=d,d<0){if(o<h)return;o<p&&(p=o)}else if(d>0){if(o>p)return;o>h&&(h=o)}if(o=r-c,d||!(o<0)){if(o/=d,d<0){if(o>p)return;o>h&&(h=o)}else if(d>0){if(o<h)return;o<p&&(p=o)}if(o=e-s,v||!(o>0)){if(o/=v,v<0){if(o<h)return;o<p&&(p=o)}else if(v>0){if(o>p)return;o>h&&(h=o)}if(o=i-s,v||!(o<0)){if(o/=v,v<0){if(o>p)return;o>h&&(h=o)}else if(v>0){if(o<h)return;o<p&&(p=o)}return!(h>0||p<1)||(h>0&&(t[0]=[c+h*d,s+h*v]),p<1&&(t[1]=[c+p*d,s+p*v]),!0)}}}}}function _s(t,n,e,r,i){var o=t[1];if(o)return!0;var u,a,c=t[0],s=t.left,f=t.right,l=s[0],h=s[1],p=f[0],d=f[1],v=(l+p)/2,_=(h+d)/2;if(d===h){if(v<n||v>=r)return;if(l>p){if(c){if(c[1]>=i)return}else c=[v,e];o=[v,i]}else{if(c){if(c[1]<e)return}else c=[v,i];o=[v,e]}}else if(u=(l-p)/(d-h),a=_-u*v,u<-1||u>1)if(l>p){if(c){if(c[1]>=i)return}else c=[(e-a)/u,e];o=[(i-a)/u,i]}else{if(c){if(c[1]<e)return}else c=[(i-a)/u,i];o=[(e-a)/u,e]}else if(h<d){if(c){if(c[0]>=r)return}else c=[n,u*n+a];o=[r,u*r+a]}else{if(c){if(c[0]<n)return}else c=[r,u*r+a];o=[n,u*n+a]}return t[0]=c,t[1]=o,!0}function ys(t,n,e,r){for(var i,o=Yw.length;o--;)_s(i=Yw[o],t,n,e,r)&&vs(i,t,n,e,r)&&(Math.abs(i[0][0]-i[1][0])>jw||Math.abs(i[0][1]-i[1][1])>jw)||delete Yw[o]}function gs(t){return Fw[t.index]={site:t,halfedges:[]}}function ms(t,n){var e=t.site,r=n.left,i=n.right;return e===i&&(i=r,r=e),i?Math.atan2(i[1]-r[1],i[0]-r[0]):(e===r?(r=n[1],i=n[0]):(r=n[0],i=n[1]),Math.atan2(r[0]-i[0],i[1]-r[1]))}function xs(t,n){return n[+(n.left!==t.site)]}function bs(t,n){return n[+(n.left===t.site)]}function ws(){for(var t,n,e,r,i=0,o=Fw.length;i<o;++i)if((t=Fw[i])&&(r=(n=t.halfedges).length)){var u=new Array(r),a=new Array(r);for(e=0;e<r;++e)u[e]=e,a[e]=ms(t,Yw[n[e]]);for(u.sort(function(t,n){return a[n]-a[t]}),e=0;e<r;++e)a[e]=n[u[e]];for(e=0;e<r;++e)n[e]=a[e]}}function Ms(t,n,e,r){var i,o,u,a,c,s,f,l,h,p,d,v,_=Fw.length,y=!0;for(i=0;i<_;++i)if(o=Fw[i]){for(u=o.site,c=o.halfedges,a=c.length;a--;)Yw[c[a]]||c.splice(a,1);for(a=0,s=c.length;a<s;)p=bs(o,Yw[c[a]]),d=p[0],v=p[1],f=xs(o,Yw[c[++a%s]]),l=f[0],h=f[1],(Math.abs(d-l)>jw||Math.abs(v-h)>jw)&&(c.splice(a,0,Yw.push(ps(u,p,Math.abs(d-t)<jw&&r-v>jw?[t,Math.abs(l-t)<jw?h:r]:Math.abs(v-r)<jw&&e-d>jw?[Math.abs(h-r)<jw?l:e,r]:Math.abs(d-e)<jw&&v-n>jw?[e,Math.abs(l-e)<jw?h:n]:Math.abs(v-n)<jw&&d-t>jw?[Math.abs(h-n)<jw?l:t,n]:null))-1),++s);s&&(y=!1)}if(y){var g,m,x,b=1/0;for(i=0,y=null;i<_;++i)(o=Fw[i])&&(u=o.site,g=u[0]-t,m=u[1]-n,(x=g*g+m*m)<b&&(b=x,y=o));if(y){var w=[t,n],M=[t,r],T=[e,r],k=[e,n];y.halfedges.push(Yw.push(ps(u=y.site,w,M))-1,Yw.push(ps(u,M,T))-1,Yw.push(ps(u,T,k))-1,Yw.push(ps(u,k,w))-1)}}for(i=0;i<_;++i)(o=Fw[i])&&(o.halfedges.length||delete Fw[i])}function Ts(){cs(this),this.x=this.y=this.arc=this.site=this.cy=null}function ks(t){var n=t.P,e=t.N;if(n&&e){var r=n.site,i=t.site,o=e.site;if(r!==o){var u=i[0],a=i[1],c=r[0]-u,s=r[1]-a,f=o[0]-u,l=o[1]-a,h=2*(c*l-s*f);if(!(h>=-Xw)){var p=c*c+s*s,d=f*f+l*l,v=(l*p-s*d)/h,_=(c*d-f*p)/h,y=Bw.pop()||new Ts;y.arc=t,y.site=i,y.x=v+u,y.y=(y.cy=_+a)+Math.sqrt(v*v+_*_),t.circle=y;for(var g=null,m=Iw._;m;)if(y.y<m.y||y.y===m.y&&y.x<=m.x){if(!m.L){g=m.P;break}m=m.L}else{if(!m.R){g=m;break}m=m.R}Iw.insert(g,y),g||(Dw=y)}}}}function Ns(t){var n=t.circle;n&&(n.P||(Dw=n.N),Iw.remove(n),Bw.push(n),cs(n),t.circle=null)}function Ss(){cs(this),this.edge=this.site=this.circle=null}function Es(t){var n=Hw.pop()||new Ss;return n.site=t,n}function As(t){Ns(t),Ow.remove(t),Hw.push(t),cs(t)}function Cs(t){var n=t.circle,e=n.x,r=n.cy,i=[e,r],o=t.P,u=t.N,a=[t];As(t);for(var c=o;c.circle&&Math.abs(e-c.circle.x)<jw&&Math.abs(r-c.circle.cy)<jw;)o=c.P,a.unshift(c),As(c),c=o;a.unshift(c),Ns(c);for(var s=u;s.circle&&Math.abs(e-s.circle.x)<jw&&Math.abs(r-s.circle.cy)<jw;)u=s.N,a.push(s),As(s),s=u;a.push(s),Ns(s);var f,l=a.length;for(f=1;f<l;++f)s=a[f],c=a[f-1],ds(s.edge,c.site,s.site,i);c=a[0],s=a[l-1],s.edge=hs(c.site,s.site,null,i),ks(c),ks(s)}function zs(t){for(var n,e,r,i,o=t[0],u=t[1],a=Ow._;a;)if((r=Ps(a,u)-o)>jw)a=a.L;else{if(!((i=o-Ls(a,u))>jw)){r>-jw?(n=a.P,e=a):i>-jw?(n=a,e=a.N):n=e=a;break}if(!a.R){n=a;break}a=a.R}gs(t);var c=Es(t);if(Ow.insert(n,c),n||e){if(n===e)return Ns(n),e=Es(n.site),Ow.insert(c,e),c.edge=e.edge=hs(n.site,c.site),ks(n),void ks(e);if(!e)return void(c.edge=hs(n.site,c.site));Ns(n),Ns(e);var s=n.site,f=s[0],l=s[1],h=t[0]-f,p=t[1]-l,d=e.site,v=d[0]-f,_=d[1]-l,y=2*(h*_-p*v),g=h*h+p*p,m=v*v+_*_,x=[(_*g-p*m)/y+f,(h*m-v*g)/y+l];ds(e.edge,s,d,x),c.edge=hs(s,t,null,x),e.edge=hs(t,d,null,x),ks(n),ks(e)}}function Ps(t,n){var e=t.site,r=e[0],i=e[1],o=i-n;if(!o)return r;var u=t.P;if(!u)return-1/0;e=u.site;var a=e[0],c=e[1],s=c-n;if(!s)return a;var f=a-r,l=1/o-1/s,h=f/s;return l?(-h+Math.sqrt(h*h-2*l*(f*f/(-2*s)-c+s/2+i-o/2)))/l+r:(r+a)/2}function Ls(t,n){var e=t.N;if(e)return Ps(e,n);var r=t.site;return r[1]===n?r[0]:1/0}function Rs(t,n,e){return(t[0]-e[0])*(n[1]-t[1])-(t[0]-n[0])*(e[1]-t[1])}function qs(t,n){return n[1]-t[1]||n[0]-t[0]}function Us(t,n){var e,r,i,o=t.sort(qs).pop();for(Yw=[],Fw=new Array(t.length),Ow=new as,Iw=new as;;)if(i=Dw,o&&(!i||o[1]<i.y||o[1]===i.y&&o[0]<i.x))o[0]===e&&o[1]===r||(zs(o),e=o[0],r=o[1]),o=t.pop();else{if(!i)break;Cs(i.arc)}if(ws(),n){var u=+n[0][0],a=+n[0][1],c=+n[1][0],s=+n[1][1];ys(u,a,c,s),Ms(u,a,c,s)}this.edges=Yw,this.cells=Fw,Ow=Iw=Yw=Fw=null}function Ds(t,n,e){this.target=t,this.type=n,this.transform=e}function Os(t,n,e){this.k=t,this.x=n,this.y=e}function Fs(t){return t.__zoom||Ww}function Is(){t.event.stopImmediatePropagation()}function Ys(){return!t.event.button}function Bs(){var t,n,e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,t=e.width.baseVal.value,n=e.height.baseVal.value):(t=e.clientWidth,n=e.clientHeight),[[0,0],[t,n]]}function Hs(){return this.__zoom||Ww}var js=function(t,n){return t<n?-1:t>n?1:t>=n?0:NaN},Xs=function(t){return 1===t.length&&(t=n(t)),{left:function(n,e,r,i){for(null==r&&(r=0),null==i&&(i=n.length);r<i;){var o=r+i>>>1;t(n[o],e)<0?r=o+1:i=o}return r},right:function(n,e,r,i){for(null==r&&(r=0),null==i&&(i=n.length);r<i;){var o=r+i>>>1;t(n[o],e)>0?i=o:r=o+1}return r}}},$s=Xs(js),Vs=$s.right,Ws=$s.left,Zs=function(t,n){null==n&&(n=e);for(var r=0,i=t.length-1,o=t[0],u=new Array(i<0?0:i);r<i;)u[r]=n(o,o=t[++r]);return u},Gs=function(t,n,r){var i,o,u,a,c=t.length,s=n.length,f=new Array(c*s);for(null==r&&(r=e),i=u=0;i<c;++i)for(a=t[i],o=0;o<s;++o,++u)f[u]=r(a,n[o]);return f},Js=function(t,n){return n<t?-1:n>t?1:n>=t?0:NaN},Qs=function(t){return null===t?NaN:+t},Ks=function(t,n){var e,r,i=t.length,o=0,u=-1,a=0,c=0;if(null==n)for(;++u<i;)isNaN(e=Qs(t[u]))||(r=e-a,a+=r/++o,c+=r*(e-a));else for(;++u<i;)isNaN(e=Qs(n(t[u],u,t)))||(r=e-a,a+=r/++o,c+=r*(e-a));if(o>1)return c/(o-1)},tf=function(t,n){var e=Ks(t,n);return e?Math.sqrt(e):e},nf=function(t,n){var e,r,i,o=t.length,u=-1;if(null==n){for(;++u<o;)if(null!=(e=t[u])&&e>=e)for(r=i=e;++u<o;)null!=(e=t[u])&&(r>e&&(r=e),i<e&&(i=e))}else for(;++u<o;)if(null!=(e=n(t[u],u,t))&&e>=e)for(r=i=e;++u<o;)null!=(e=n(t[u],u,t))&&(r>e&&(r=e),i<e&&(i=e));return[r,i]},ef=Array.prototype,rf=ef.slice,of=ef.map,uf=function(t){return function(){return t}},af=function(t){return t},cf=function(t,n,e){t=+t,n=+n,e=(i=arguments.length)<2?(n=t,t=0,1):i<3?1:+e;for(var r=-1,i=0|Math.max(0,Math.ceil((n-t)/e)),o=new Array(i);++r<i;)o[r]=t+r*e;return o},sf=Math.sqrt(50),ff=Math.sqrt(10),lf=Math.sqrt(2),hf=function(t,n,e){var i,o,u,a=n<t,c=-1;if(a&&(i=t,t=n,n=i),0===(u=r(t,n,e))||!isFinite(u))return[];if(u>0)for(t=Math.ceil(t/u),n=Math.floor(n/u),o=new Array(i=Math.ceil(n-t+1));++c<i;)o[c]=(t+c)*u;else for(t=Math.floor(t*u),n=Math.ceil(n*u),o=new Array(i=Math.ceil(t-n+1));++c<i;)o[c]=(t-c)/u;return a&&o.reverse(),o},pf=function(t){return Math.ceil(Math.log(t.length)/Math.LN2)+1},df=function(){function t(t){var o,u,a=t.length,c=new Array(a);for(o=0;o<a;++o)c[o]=n(t[o],o,t);var s=e(c),f=s[0],l=s[1],h=r(c,f,l);Array.isArray(h)||(h=i(f,l,h),h=cf(Math.ceil(f/h)*h,Math.floor(l/h)*h,h));for(var p=h.length;h[0]<=f;)h.shift(),--p;for(;h[p-1]>l;)h.pop(),--p;var d,v=new Array(p+1);for(o=0;o<=p;++o)d=v[o]=[],d.x0=o>0?h[o-1]:f,d.x1=o<p?h[o]:l;for(o=0;o<a;++o)u=c[o],f<=u&&u<=l&&v[Vs(h,u,0,p)].push(t[o]);return v}var n=af,e=nf,r=pf;return t.value=function(e){return arguments.length?(n="function"==typeof e?e:uf(e),t):n},t.domain=function(n){return arguments.length?(e="function"==typeof n?n:uf([n[0],n[1]]),t):e},t.thresholds=function(n){return arguments.length?(r="function"==typeof n?n:uf(Array.isArray(n)?rf.call(n):n),t):r},t},vf=function(t,n,e){if(null==e&&(e=Qs),r=t.length){if((n=+n)<=0||r<2)return+e(t[0],0,t);if(n>=1)return+e(t[r-1],r-1,t);var r,i=(r-1)*n,o=Math.floor(i),u=+e(t[o],o,t);return u+(+e(t[o+1],o+1,t)-u)*(i-o)}},_f=function(t,n,e){return t=of.call(t,Qs).sort(js),Math.ceil((e-n)/(2*(vf(t,.75)-vf(t,.25))*Math.pow(t.length,-1/3)))},yf=function(t,n,e){return Math.ceil((e-n)/(3.5*tf(t)*Math.pow(t.length,-1/3)))},gf=function(t,n){var e,r,i=t.length,o=-1;if(null==n){for(;++o<i;)if(null!=(e=t[o])&&e>=e)for(r=e;++o<i;)null!=(e=t[o])&&e>r&&(r=e)}else for(;++o<i;)if(null!=(e=n(t[o],o,t))&&e>=e)for(r=e;++o<i;)null!=(e=n(t[o],o,t))&&e>r&&(r=e);return r},mf=function(t,n){var e,r=t.length,i=r,o=-1,u=0;if(null==n)for(;++o<r;)isNaN(e=Qs(t[o]))?--i:u+=e;else for(;++o<r;)isNaN(e=Qs(n(t[o],o,t)))?--i:u+=e;if(i)return u/i},xf=function(t,n){var e,r=t.length,i=-1,o=[];if(null==n)for(;++i<r;)isNaN(e=Qs(t[i]))||o.push(e);else for(;++i<r;)isNaN(e=Qs(n(t[i],i,t)))||o.push(e);return vf(o.sort(js),.5)},bf=function(t){for(var n,e,r,i=t.length,o=-1,u=0;++o<i;)u+=t[o].length;for(e=new Array(u);--i>=0;)for(r=t[i],n=r.length;--n>=0;)e[--u]=r[n];return e},wf=function(t,n){var e,r,i=t.length,o=-1;if(null==n){for(;++o<i;)if(null!=(e=t[o])&&e>=e)for(r=e;++o<i;)null!=(e=t[o])&&r>e&&(r=e)}else for(;++o<i;)if(null!=(e=n(t[o],o,t))&&e>=e)for(r=e;++o<i;)null!=(e=n(t[o],o,t))&&r>e&&(r=e);return r},Mf=function(t,n){for(var e=n.length,r=new Array(e);e--;)r[e]=t[n[e]];return r},Tf=function(t,n){if(e=t.length){var e,r,i=0,o=0,u=t[o];for(null==n&&(n=js);++i<e;)(n(r=t[i],u)<0||0!==n(u,u))&&(u=r,o=i);return 0===n(u,u)?o:void 0}},kf=function(t,n,e){for(var r,i,o=(null==e?t.length:e)-(n=null==n?0:+n);o;)i=Math.random()*o--|0,r=t[o+n],t[o+n]=t[i+n],t[i+n]=r;return t},Nf=function(t,n){var e,r=t.length,i=-1,o=0;if(null==n)for(;++i<r;)(e=+t[i])&&(o+=e);else for(;++i<r;)(e=+n(t[i],i,t))&&(o+=e);return o},Sf=function(t){if(!(i=t.length))return[];for(var n=-1,e=wf(t,o),r=new Array(e);++n<e;)for(var i,u=-1,a=r[n]=new Array(i);++u<i;)a[u]=t[u][n];return r},Ef=function(){return Sf(arguments)},Af=Array.prototype.slice,Cf=function(t){return t},zf=1,Pf=2,Lf=3,Rf=4,qf=1e-6,Uf={value:function(){}};_.prototype=v.prototype={constructor:_,on:function(t,n){var e,r=this._,i=y(t+"",r),o=-1,u=i.length;{if(!(arguments.length<2)){if(null!=n&&"function"!=typeof n)throw new Error("invalid callback: "+n);for(;++o<u;)if(e=(t=i[o]).type)r[e]=m(r[e],t.name,n);else if(null==n)for(e in r)r[e]=m(r[e],t.name,null);return this}for(;++o<u;)if((e=(t=i[o]).type)&&(e=g(r[e],t.name)))return e}},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new _(t)},call:function(t,n){if((e=arguments.length-2)>0)for(var e,r,i=new Array(e),o=0;o<e;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(r=this._[t],o=0,e=r.length;o<e;++o)r[o].value.apply(n,i)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(n,e)}};var Df="http://www.w3.org/1999/xhtml",Of={svg:"http://www.w3.org/2000/svg",xhtml:Df,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Ff=function(t){var n=t+="",e=n.indexOf(":");return e>=0&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),Of.hasOwnProperty(n)?{space:Of[n],local:t}:t},If=function(t){var n=Ff(t);return(n.local?b:x)(n)},Yf=0;M.prototype=w.prototype={constructor:M,get:function(t){for(var n=this._;!(n in t);)if(!(t=t.parentNode))return;return t[n]},set:function(t,n){return t[this._]=n},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}};var Bf=function(t){return function(){return this.matches(t)}};if("undefined"!=typeof document){var Hf=document.documentElement;if(!Hf.matches){var jf=Hf.webkitMatchesSelector||Hf.msMatchesSelector||Hf.mozMatchesSelector||Hf.oMatchesSelector;Bf=function(t){return function(){return jf.call(this,t)}}}}var Xf=Bf,$f={};if(t.event=null,"undefined"!=typeof document){"onmouseenter"in document.documentElement||($f={mouseenter:"mouseover",mouseleave:"mouseout"})}var Vf=function(t,n,e){var r,i,o=N(t+""),u=o.length;{if(!(arguments.length<2)){for(a=n?E:S,null==e&&(e=!1),r=0;r<u;++r)this.each(a(o[r],n,e));return this}var a=this.node().__on;if(a)for(var c,s=0,f=a.length;s<f;++s)for(r=0,c=a[s];r<u;++r)if((i=o[r]).type===c.type&&i.name===c.name)return c.value}},Wf=function(){for(var n,e=t.event;n=e.sourceEvent;)e=n;return e},Zf=function(t,n){var e=t.ownerSVGElement||t;if(e.createSVGPoint){var r=e.createSVGPoint();return r.x=n.clientX,r.y=n.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}var i=t.getBoundingClientRect();return[n.clientX-i.left-t.clientLeft,n.clientY-i.top-t.clientTop]},Gf=function(t){var n=Wf();return n.changedTouches&&(n=n.changedTouches[0]),Zf(t,n)},Jf=function(t){return null==t?C:function(){return this.querySelector(t)}},Qf=function(t){"function"!=typeof t&&(t=Jf(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,u,a=n[i],c=a.length,s=r[i]=new Array(c),f=0;f<c;++f)(o=a[f])&&(u=t.call(o,o.__data__,f,a))&&("__data__"in o&&(u.__data__=o.__data__),s[f]=u);return new _t(r,this._parents)},Kf=function(t){return null==t?z:function(){return this.querySelectorAll(t)}},tl=function(t){"function"!=typeof t&&(t=Kf(t));for(var n=this._groups,e=n.length,r=[],i=[],o=0;o<e;++o)for(var u,a=n[o],c=a.length,s=0;s<c;++s)(u=a[s])&&(r.push(t.call(u,u.__data__,s,a)),i.push(u));return new _t(r,i)},nl=function(t){"function"!=typeof t&&(t=Xf(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,u=n[i],a=u.length,c=r[i]=[],s=0;s<a;++s)(o=u[s])&&t.call(o,o.__data__,s,u)&&c.push(o);return new _t(r,this._parents)},el=function(t){return new Array(t.length)},rl=function(){return new _t(this._enter||this._groups.map(el),this._parents)};P.prototype={constructor:P,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var il=function(t){return function(){return t}},ol="$",ul=function(t,n){if(!t)return p=new Array(this.size()),s=-1,this.each(function(t){p[++s]=t}),p;var e=n?R:L,r=this._parents,i=this._groups;"function"!=typeof t&&(t=il(t));for(var o=i.length,u=new Array(o),a=new Array(o),c=new Array(o),s=0;s<o;++s){var f=r[s],l=i[s],h=l.length,p=t.call(f,f&&f.__data__,s,r),d=p.length,v=a[s]=new Array(d),_=u[s]=new Array(d);e(f,l,v,_,c[s]=new Array(h),p,n);for(var y,g,m=0,x=0;m<d;++m)if(y=v[m]){for(m>=x&&(x=m+1);!(g=_[x])&&++x<d;);y._next=g||null}}return u=new _t(u,r),u._enter=a,u._exit=c,u},al=function(){return new _t(this._exit||this._groups.map(el),this._parents)},cl=function(t){for(var n=this._groups,e=t._groups,r=n.length,i=e.length,o=Math.min(r,i),u=new Array(r),a=0;a<o;++a)for(var c,s=n[a],f=e[a],l=s.length,h=u[a]=new Array(l),p=0;p<l;++p)(c=s[p]||f[p])&&(h[p]=c);for(;a<r;++a)u[a]=n[a];return new _t(u,this._parents)},sl=function(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var r,i=t[n],o=i.length-1,u=i[o];--o>=0;)(r=i[o])&&(u&&u!==r.nextSibling&&u.parentNode.insertBefore(r,u),u=r);return this},fl=function(t){function n(n,e){return n&&e?t(n.__data__,e.__data__):!n-!e}t||(t=q);for(var e=this._groups,r=e.length,i=new Array(r),o=0;o<r;++o){for(var u,a=e[o],c=a.length,s=i[o]=new Array(c),f=0;f<c;++f)(u=a[f])&&(s[f]=u);s.sort(n)}return new _t(i,this._parents).order()},ll=function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},hl=function(){var t=new Array(this.size()),n=-1;return this.each(function(){t[++n]=this}),t},pl=function(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,o=r.length;i<o;++i){var u=r[i];if(u)return u}return null},dl=function(){var t=0;return this.each(function(){++t}),t},vl=function(){return!this.node()},_l=function(t){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var i,o=n[e],u=0,a=o.length;u<a;++u)(i=o[u])&&t.call(i,i.__data__,u,o);return this},yl=function(t,n){var e=Ff(t);if(arguments.length<2){var r=this.node();return e.local?r.getAttributeNS(e.space,e.local):r.getAttribute(e)}return this.each((null==n?e.local?D:U:"function"==typeof n?e.local?Y:I:e.local?F:O)(e,n))},gl=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView},ml=function(t,n,e){return arguments.length>1?this.each((null==n?B:"function"==typeof n?j:H)(t,n,null==e?"":e)):X(this.node(),t)},xl=function(t,n){return arguments.length>1?this.each((null==n?$:"function"==typeof n?W:V)(t,n)):this.node()[t]};J.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var bl=function(t,n){var e=Z(t+"");if(arguments.length<2){for(var r=G(this.node()),i=-1,o=e.length;++i<o;)if(!r.contains(e[i]))return!1;return!0}return this.each(("function"==typeof n?et:n?tt:nt)(e,n))},wl=function(t){return arguments.length?this.each(null==t?rt:("function"==typeof t?ot:it)(t)):this.node().textContent},Ml=function(t){return arguments.length?this.each(null==t?ut:("function"==typeof t?ct:at)(t)):this.node().innerHTML},Tl=function(){return this.each(st)},kl=function(){return this.each(ft)},Nl=function(t){var n="function"==typeof t?t:If(t);return this.select(function(){return this.appendChild(n.apply(this,arguments))})},Sl=function(t,n){var e="function"==typeof t?t:If(t),r=null==n?lt:"function"==typeof n?n:Jf(n);return this.select(function(){return this.insertBefore(e.apply(this,arguments),r.apply(this,arguments)||null)})},El=function(){return this.each(ht)},Al=function(t){return arguments.length?this.property("__data__",t):this.node().__data__},Cl=function(t,n){return this.each(("function"==typeof n?vt:dt)(t,n))},zl=[null];_t.prototype=yt.prototype={constructor:_t,select:Qf,selectAll:tl,filter:nl,data:ul,enter:rl,exit:al,merge:cl,order:sl,sort:fl,call:ll,nodes:hl,node:pl,size:dl,empty:vl,each:_l,attr:yl,style:ml,property:xl,classed:bl,text:wl,html:Ml,raise:Tl,lower:kl,append:Nl,insert:Sl,remove:El,datum:Al,on:Vf,dispatch:Cl};var Pl=function(t){return"string"==typeof t?new _t([[document.querySelector(t)]],[document.documentElement]):new _t([[t]],zl)},Ll=function(t){return"string"==typeof t?new _t([document.querySelectorAll(t)],[document.documentElement]):new _t([null==t?[]:t],zl)
},Rl=function(t,n,e){arguments.length<3&&(e=n,n=Wf().changedTouches);for(var r,i=0,o=n?n.length:0;i<o;++i)if((r=n[i]).identifier===e)return Zf(t,r);return null},ql=function(t,n){null==n&&(n=Wf().touches);for(var e=0,r=n?n.length:0,i=new Array(r);e<r;++e)i[e]=Zf(t,n[e]);return i},Ul=function(){t.event.preventDefault(),t.event.stopImmediatePropagation()},Dl=function(t){var n=t.document.documentElement,e=Pl(t).on("dragstart.drag",Ul,!0);"onselectstart"in n?e.on("selectstart.drag",Ul,!0):(n.__noselect=n.style.MozUserSelect,n.style.MozUserSelect="none")},Ol=function(t){return function(){return t}};xt.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};var Fl=function(){function n(t){t.on("mousedown.drag",e).on("touchstart.drag",o).on("touchmove.drag",u).on("touchend.drag touchcancel.drag",a).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function e(){if(!h&&p.apply(this,arguments)){var n=c("mouse",d.apply(this,arguments),Gf,this,arguments);n&&(Pl(t.event.view).on("mousemove.drag",r,!0).on("mouseup.drag",i,!0),Dl(t.event.view),gt(),l=!1,s=t.event.clientX,f=t.event.clientY,n("start"))}}function r(){if(Ul(),!l){var n=t.event.clientX-s,e=t.event.clientY-f;l=n*n+e*e>x}y.mouse("drag")}function i(){Pl(t.event.view).on("mousemove.drag mouseup.drag",null),mt(t.event.view,l),Ul(),y.mouse("end")}function o(){if(p.apply(this,arguments)){var n,e,r=t.event.changedTouches,i=d.apply(this,arguments),o=r.length;for(n=0;n<o;++n)(e=c(r[n].identifier,i,Rl,this,arguments))&&(gt(),e("start"))}}function u(){var n,e,r=t.event.changedTouches,i=r.length;for(n=0;n<i;++n)(e=y[r[n].identifier])&&(Ul(),e("drag"))}function a(){var n,e,r=t.event.changedTouches,i=r.length;for(h&&clearTimeout(h),h=setTimeout(function(){h=null},500),n=0;n<i;++n)(e=y[r[n].identifier])&&(gt(),e("end"))}function c(e,r,i,o,u){var a,c,s,f=i(r,e),l=g.copy();if(A(new xt(n,"beforestart",a,e,m,f[0],f[1],0,0,l),function(){return null!=(t.event.subject=a=_.apply(o,u))&&(c=a.x-f[0]||0,s=a.y-f[1]||0,!0)}))return function t(h){var p,d=f;switch(h){case"start":y[e]=t,p=m++;break;case"end":delete y[e],--m;case"drag":f=i(r,e),p=m}A(new xt(n,h,a,e,p,f[0]+c,f[1]+s,f[0]-d[0],f[1]-d[1],l),l.apply,l,[h,o,u])}}var s,f,l,h,p=bt,d=wt,_=Mt,y={},g=v("start","drag","end"),m=0,x=0;return n.filter=function(t){return arguments.length?(p="function"==typeof t?t:Ol(!!t),n):p},n.container=function(t){return arguments.length?(d="function"==typeof t?t:Ol(t),n):d},n.subject=function(t){return arguments.length?(_="function"==typeof t?t:Ol(t),n):_},n.on=function(){var t=g.on.apply(g,arguments);return t===g?n:t},n.clickDistance=function(t){return arguments.length?(x=(t=+t)*t,n):Math.sqrt(x)},n},Il=function(t,n,e){t.prototype=n.prototype=e,e.constructor=t},Yl="\\s*([+-]?\\d+)\\s*",Bl="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Hl="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",jl=/^#([0-9a-f]{3})$/,Xl=/^#([0-9a-f]{6})$/,$l=new RegExp("^rgb\\("+[Yl,Yl,Yl]+"\\)$"),Vl=new RegExp("^rgb\\("+[Hl,Hl,Hl]+"\\)$"),Wl=new RegExp("^rgba\\("+[Yl,Yl,Yl,Bl]+"\\)$"),Zl=new RegExp("^rgba\\("+[Hl,Hl,Hl,Bl]+"\\)$"),Gl=new RegExp("^hsl\\("+[Bl,Hl,Hl]+"\\)$"),Jl=new RegExp("^hsla\\("+[Bl,Hl,Hl,Bl]+"\\)$"),Ql={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Il(kt,Nt,{displayable:function(){return this.rgb().displayable()},toString:function(){return this.rgb()+""}}),Il(zt,Ct,Tt(kt,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new zt(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new zt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},toString:function(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(1===t?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}})),Il(qt,Rt,Tt(kt,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new qt(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new qt(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,r=e+(e<.5?e:1-e)*n,i=2*e-r;return new zt(Ut(t>=240?t-240:t+120,i,r),Ut(t,i,r),Ut(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}));var Kl=Math.PI/180,th=180/Math.PI,nh=.95047,eh=1,rh=1.08883,ih=4/29,oh=6/29,uh=3*oh*oh,ah=oh*oh*oh;Il(Ft,Ot,Tt(kt,{brighter:function(t){return new Ft(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new Ft(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,n=isNaN(this.a)?t:t+this.a/500,e=isNaN(this.b)?t:t-this.b/200;return t=eh*Yt(t),n=nh*Yt(n),e=rh*Yt(e),new zt(Bt(3.2404542*n-1.5371385*t-.4985314*e),Bt(-.969266*n+1.8760108*t+.041556*e),Bt(.0556434*n-.2040259*t+1.0572252*e),this.opacity)}})),Il($t,Xt,Tt(kt,{brighter:function(t){return new $t(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new $t(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return Dt(this).rgb()}}));var ch=-.14861,sh=1.78277,fh=-.29227,lh=-.90649,hh=1.97294,ph=hh*lh,dh=hh*sh,vh=sh*fh-lh*ch;Il(Zt,Wt,Tt(kt,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Zt(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Zt(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*Kl,n=+this.l,e=isNaN(this.s)?0:this.s*n*(1-n),r=Math.cos(t),i=Math.sin(t);return new zt(255*(n+e*(ch*r+sh*i)),255*(n+e*(fh*r+lh*i)),255*(n+e*(hh*r)),this.opacity)}}));var _h,yh,gh,mh,xh,bh,wh=function(t){var n=t.length-1;return function(e){var r=e<=0?e=0:e>=1?(e=1,n-1):Math.floor(e*n),i=t[r],o=t[r+1],u=r>0?t[r-1]:2*i-o,a=r<n-1?t[r+2]:2*o-i;return Gt((e-r/n)*n,u,i,o,a)}},Mh=function(t){var n=t.length;return function(e){var r=Math.floor(((e%=1)<0?++e:e)*n),i=t[(r+n-1)%n],o=t[r%n],u=t[(r+1)%n],a=t[(r+2)%n];return Gt((e-r/n)*n,i,o,u,a)}},Th=function(t){return function(){return t}},kh=function t(n){function e(t,n){var e=r((t=Ct(t)).r,(n=Ct(n)).r),i=r(t.g,n.g),o=r(t.b,n.b),u=nn(t.opacity,n.opacity);return function(n){return t.r=e(n),t.g=i(n),t.b=o(n),t.opacity=u(n),t+""}}var r=tn(n);return e.gamma=t,e}(1),Nh=en(wh),Sh=en(Mh),Eh=function(t,n){var e,r=n?n.length:0,i=t?Math.min(r,t.length):0,o=new Array(r),u=new Array(r);for(e=0;e<i;++e)o[e]=qh(t[e],n[e]);for(;e<r;++e)u[e]=n[e];return function(t){for(e=0;e<i;++e)u[e]=o[e](t);return u}},Ah=function(t,n){var e=new Date;return t=+t,n-=t,function(r){return e.setTime(t+n*r),e}},Ch=function(t,n){return t=+t,n-=t,function(e){return t+n*e}},zh=function(t,n){var e,r={},i={};null!==t&&"object"==typeof t||(t={}),null!==n&&"object"==typeof n||(n={});for(e in n)e in t?r[e]=qh(t[e],n[e]):i[e]=n[e];return function(t){for(e in r)i[e]=r[e](t);return i}},Ph=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Lh=new RegExp(Ph.source,"g"),Rh=function(t,n){var e,r,i,o=Ph.lastIndex=Lh.lastIndex=0,u=-1,a=[],c=[];for(t+="",n+="";(e=Ph.exec(t))&&(r=Lh.exec(n));)(i=r.index)>o&&(i=n.slice(o,i),a[u]?a[u]+=i:a[++u]=i),(e=e[0])===(r=r[0])?a[u]?a[u]+=r:a[++u]=r:(a[++u]=null,c.push({i:u,x:Ch(e,r)})),o=Lh.lastIndex;return o<n.length&&(i=n.slice(o),a[u]?a[u]+=i:a[++u]=i),a.length<2?c[0]?on(c[0].x):rn(n):(n=c.length,function(t){for(var e,r=0;r<n;++r)a[(e=c[r]).i]=e.x(t);return a.join("")})},qh=function(t,n){var e,r=typeof n;return null==n||"boolean"===r?Th(n):("number"===r?Ch:"string"===r?(e=Nt(n))?(n=e,kh):Rh:n instanceof Nt?kh:n instanceof Date?Ah:Array.isArray(n)?Eh:"function"!=typeof n.valueOf&&"function"!=typeof n.toString||isNaN(n)?zh:Ch)(t,n)},Uh=function(t,n){return t=+t,n-=t,function(e){return Math.round(t+n*e)}},Dh=180/Math.PI,Oh={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},Fh=function(t,n,e,r,i,o){var u,a,c;return(u=Math.sqrt(t*t+n*n))&&(t/=u,n/=u),(c=t*e+n*r)&&(e-=t*c,r-=n*c),(a=Math.sqrt(e*e+r*r))&&(e/=a,r/=a,c/=a),t*r<n*e&&(t=-t,n=-n,c=-c,u=-u),{translateX:i,translateY:o,rotate:Math.atan2(n,t)*Dh,skewX:Math.atan(c)*Dh,scaleX:u,scaleY:a}},Ih=cn(un,"px, ","px)","deg)"),Yh=cn(an,", ",")",")"),Bh=Math.SQRT2,Hh=function(t,n){var e,r,i=t[0],o=t[1],u=t[2],a=n[0],c=n[1],s=n[2],f=a-i,l=c-o,h=f*f+l*l;if(h<1e-12)r=Math.log(s/u)/Bh,e=function(t){return[i+t*f,o+t*l,u*Math.exp(Bh*t*r)]};else{var p=Math.sqrt(h),d=(s*s-u*u+4*h)/(2*u*2*p),v=(s*s-u*u-4*h)/(2*s*2*p),_=Math.log(Math.sqrt(d*d+1)-d),y=Math.log(Math.sqrt(v*v+1)-v);r=(y-_)/Bh,e=function(t){var n=t*r,e=sn(_),a=u/(2*p)*(e*ln(Bh*n+_)-fn(_));return[i+a*f,o+a*l,u*e/sn(Bh*n+_)]}}return e.duration=1e3*r,e},jh=hn(Kt),Xh=hn(nn),$h=dn(Kt),Vh=dn(nn),Wh=vn(Kt),Zh=vn(nn),Gh=function(t,n){for(var e=new Array(n),r=0;r<n;++r)e[r]=t(r/(n-1));return e},Jh=0,Qh=0,Kh=0,tp=1e3,np=0,ep=0,rp=0,ip="object"==typeof performance&&performance.now?performance:Date,op="function"==typeof requestAnimationFrame?requestAnimationFrame:function(t){setTimeout(t,17)};gn.prototype=mn.prototype={constructor:gn,restart:function(t,n,e){if("function"!=typeof t)throw new TypeError("callback is not a function");e=(null==e?_n():+e)+(null==n?0:+n),this._next||bh===this||(bh?bh._next=this:xh=this,bh=this),this._call=t,this._time=e,Tn()},stop:function(){this._call&&(this._call=null,this._time=1/0,Tn())}};var up=function(t,n,e){var r=new gn;return n=null==n?0:+n,r.restart(function(e){r.stop(),t(e+n)},n,e),r},ap=function(t,n,e){var r=new gn,i=n;return null==n?(r.restart(t,n,e),r):(n=+n,e=null==e?_n():+e,r.restart(function o(u){u+=i,r.restart(o,i+=n,e),t(u)},n,e),r)},cp=v("start","end","interrupt"),sp=[],fp=0,lp=1,hp=2,pp=3,dp=4,vp=5,_p=6,yp=function(t,n,e,r,i,o){var u=t.__transition;if(u){if(e in u)return}else t.__transition={};En(t,e,{name:n,index:r,group:i,on:cp,tween:sp,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:fp})},gp=function(t,n){var e,r,i,o=t.__transition,u=!0;if(o){n=null==n?null:n+"";for(i in o)(e=o[i]).name===n?(r=e.state>hp&&e.state<vp,e.state=_p,e.timer.stop(),r&&e.on.call("interrupt",t,t.__data__,e.index,e.group),delete o[i]):u=!1;u&&delete t.__transition}},mp=function(t){return this.each(function(){gp(this,t)})},xp=function(t,n){var e=this._id;if(t+="",arguments.length<2){for(var r,i=Sn(this.node(),e).tween,o=0,u=i.length;o<u;++o)if((r=i[o]).name===t)return r.value;return null}return this.each((null==n?An:Cn)(e,t,n))},bp=function(t,n){var e;return("number"==typeof n?Ch:n instanceof Nt?kh:(e=Nt(n))?(n=e,kh):Rh)(t,n)},wp=function(t,n){var e=Ff(t),r="transform"===e?Yh:bp;return this.attrTween(t,"function"==typeof n?(e.local?Dn:Un)(e,r,zn(this,"attr."+t,n)):null==n?(e.local?Ln:Pn)(e):(e.local?qn:Rn)(e,r,n+""))},Mp=function(t,n){var e="attr."+t;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(null==n)return this.tween(e,null);if("function"!=typeof n)throw new Error;var r=Ff(t);return this.tween(e,(r.local?On:Fn)(r,n))},Tp=function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?In:Yn)(n,t)):Sn(this.node(),n).delay},kp=function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?Bn:Hn)(n,t)):Sn(this.node(),n).duration},Np=function(t){var n=this._id;return arguments.length?this.each(jn(n,t)):Sn(this.node(),n).ease},Sp=function(t){"function"!=typeof t&&(t=Xf(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,u=n[i],a=u.length,c=r[i]=[],s=0;s<a;++s)(o=u[s])&&t.call(o,o.__data__,s,u)&&c.push(o);return new ne(r,this._parents,this._name,this._id)},Ep=function(t){if(t._id!==this._id)throw new Error;for(var n=this._groups,e=t._groups,r=n.length,i=e.length,o=Math.min(r,i),u=new Array(r),a=0;a<o;++a)for(var c,s=n[a],f=e[a],l=s.length,h=u[a]=new Array(l),p=0;p<l;++p)(c=s[p]||f[p])&&(h[p]=c);for(;a<r;++a)u[a]=n[a];return new ne(u,this._parents,this._name,this._id)},Ap=function(t,n){var e=this._id;return arguments.length<2?Sn(this.node(),e).on.on(t):this.each($n(e,t,n))},Cp=function(){return this.on("end.remove",Vn(this._id))},zp=function(t){var n=this._name,e=this._id;"function"!=typeof t&&(t=Jf(t));for(var r=this._groups,i=r.length,o=new Array(i),u=0;u<i;++u)for(var a,c,s=r[u],f=s.length,l=o[u]=new Array(f),h=0;h<f;++h)(a=s[h])&&(c=t.call(a,a.__data__,h,s))&&("__data__"in a&&(c.__data__=a.__data__),l[h]=c,yp(l[h],n,e,h,l,Sn(a,e)));return new ne(o,this._parents,n,e)},Pp=function(t){var n=this._name,e=this._id;"function"!=typeof t&&(t=Kf(t));for(var r=this._groups,i=r.length,o=[],u=[],a=0;a<i;++a)for(var c,s=r[a],f=s.length,l=0;l<f;++l)if(c=s[l]){for(var h,p=t.call(c,c.__data__,l,s),d=Sn(c,e),v=0,_=p.length;v<_;++v)(h=p[v])&&yp(h,n,e,v,p,d);o.push(p),u.push(c)}return new ne(o,u,n,e)},Lp=yt.prototype.constructor,Rp=function(){return new Lp(this._groups,this._parents)},qp=function(t,n,e){var r="transform"==(t+="")?Ih:bp;return null==n?this.styleTween(t,Wn(t,r)).on("end.style."+t,Zn(t)):this.styleTween(t,"function"==typeof n?Jn(t,r,zn(this,"style."+t,n)):Gn(t,r,n+""),e)},Up=function(t,n,e){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==n)return this.tween(r,null);if("function"!=typeof n)throw new Error;return this.tween(r,Qn(t,n,null==e?"":e))},Dp=function(t){return this.tween("text","function"==typeof t?te(zn(this,"text",t)):Kn(null==t?"":t+""))},Op=function(){for(var t=this._name,n=this._id,e=re(),r=this._groups,i=r.length,o=0;o<i;++o)for(var u,a=r[o],c=a.length,s=0;s<c;++s)if(u=a[s]){var f=Sn(u,n);yp(u,t,e,s,a,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new ne(r,this._parents,t,e)},Fp=0,Ip=yt.prototype;ne.prototype=ee.prototype={constructor:ne,select:zp,selectAll:Pp,filter:Sp,merge:Ep,selection:Rp,transition:Op,call:Ip.call,nodes:Ip.nodes,node:Ip.node,size:Ip.size,empty:Ip.empty,each:Ip.each,on:Ap,attr:wp,attrTween:Mp,style:qp,styleTween:Up,text:Dp,remove:Cp,tween:xp,delay:Tp,duration:kp,ease:Np};var Yp=function t(n){function e(t){return Math.pow(t,n)}return n=+n,e.exponent=t,e}(3),Bp=function t(n){function e(t){return 1-Math.pow(1-t,n)}return n=+n,e.exponent=t,e}(3),Hp=function t(n){function e(t){return((t*=2)<=1?Math.pow(t,n):2-Math.pow(2-t,n))/2}return n=+n,e.exponent=t,e}(3),jp=Math.PI,Xp=jp/2,$p=4/11,Vp=6/11,Wp=8/11,Zp=.75,Gp=9/11,Jp=10/11,Qp=.9375,Kp=21/22,td=63/64,nd=1/$p/$p,ed=function t(n){function e(t){return t*t*((n+1)*t-n)}return n=+n,e.overshoot=t,e}(1.70158),rd=function t(n){function e(t){return--t*t*((n+1)*t+n)+1}return n=+n,e.overshoot=t,e}(1.70158),id=function t(n){function e(t){return((t*=2)<1?t*t*((n+1)*t-n):(t-=2)*t*((n+1)*t+n)+2)/2}return n=+n,e.overshoot=t,e}(1.70158),od=2*Math.PI,ud=function t(n,e){function r(t){return n*Math.pow(2,10*--t)*Math.sin((i-t)/e)}var i=Math.asin(1/(n=Math.max(1,n)))*(e/=od);return r.amplitude=function(n){return t(n,e*od)},r.period=function(e){return t(n,e)},r}(1,.3),ad=function t(n,e){function r(t){return 1-n*Math.pow(2,-10*(t=+t))*Math.sin((t+i)/e)}var i=Math.asin(1/(n=Math.max(1,n)))*(e/=od);return r.amplitude=function(n){return t(n,e*od)},r.period=function(e){return t(n,e)},r}(1,.3),cd=function t(n,e){function r(t){return((t=2*t-1)<0?n*Math.pow(2,10*t)*Math.sin((i-t)/e):2-n*Math.pow(2,-10*t)*Math.sin((i+t)/e))/2}var i=Math.asin(1/(n=Math.max(1,n)))*(e/=od);return r.amplitude=function(n){return t(n,e*od)},r.period=function(e){return t(n,e)},r}(1,.3),sd={time:null,delay:0,duration:250,ease:fe},fd=function(t){var n,e;t instanceof ne?(n=t._id,t=t._name):(n=re(),(e=sd).time=_n(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var u,a=r[o],c=a.length,s=0;s<c;++s)(u=a[s])&&yp(u,t,n,s,a,e||Me(u,n));return new ne(r,this._parents,t,n)};yt.prototype.interrupt=mp,yt.prototype.transition=fd;var ld=[null],hd=function(t,n){var e,r,i=t.__transition;if(i){n=null==n?null:n+"";for(r in i)if((e=i[r]).state>lp&&e.name===n)return new ne([[t]],ld,n,+r)}return null},pd=function(t){return function(){return t}},dd=function(t,n,e){this.target=t,this.type=n,this.selection=e},vd=function(){t.event.preventDefault(),t.event.stopImmediatePropagation()},_d={name:"drag"},yd={name:"space"},gd={name:"handle"},md={name:"center"},xd={name:"x",handles:["e","w"].map(ke),input:function(t,n){return t&&[[t[0],n[0][1]],[t[1],n[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},bd={name:"y",handles:["n","s"].map(ke),input:function(t,n){return t&&[[n[0][0],t[0]],[n[1][0],t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},wd={name:"xy",handles:["n","e","s","w","nw","ne","se","sw"].map(ke),input:function(t){return t},output:function(t){return t}},Md={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Td={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},kd={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},Nd={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},Sd={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1},Ed=function(){return Le(wd)},Ad=Math.cos,Cd=Math.sin,zd=Math.PI,Pd=zd/2,Ld=2*zd,Rd=Math.max,qd=function(){function t(t){var o,u,a,c,s,f,l=t.length,h=[],p=cf(l),d=[],v=[],_=v.groups=new Array(l),y=new Array(l*l);for(o=0,s=-1;++s<l;){for(u=0,f=-1;++f<l;)u+=t[s][f];h.push(u),d.push(cf(l)),o+=u}for(e&&p.sort(function(t,n){return e(h[t],h[n])}),r&&d.forEach(function(n,e){n.sort(function(n,i){return r(t[e][n],t[e][i])})}),o=Rd(0,Ld-n*l)/o,c=o?n:Ld/l,u=0,s=-1;++s<l;){for(a=u,f=-1;++f<l;){var g=p[s],m=d[g][f],x=t[g][m],b=u,w=u+=x*o;y[m*l+g]={index:g,subindex:m,startAngle:b,endAngle:w,value:x}}_[g]={index:g,startAngle:a,endAngle:u,value:h[g]},u+=c}for(s=-1;++s<l;)for(f=s-1;++f<l;){var M=y[f*l+s],T=y[s*l+f];(M.value||T.value)&&v.push(M.value<T.value?{source:T,target:M}:{source:M,target:T})}return i?v.sort(i):v}var n=0,e=null,r=null,i=null;return t.padAngle=function(e){return arguments.length?(n=Rd(0,e),t):n},t.sortGroups=function(n){return arguments.length?(e=n,t):e},t.sortSubgroups=function(n){return arguments.length?(r=n,t):r},t.sortChords=function(n){return arguments.length?(null==n?i=null:(i=Re(n))._=n,t):i&&i._},t},Ud=Array.prototype.slice,Dd=function(t){return function(){return t}},Od=Math.PI,Fd=2*Od,Id=Fd-1e-6;qe.prototype=Ue.prototype={constructor:qe,moveTo:function(t,n){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,n){this._+="L"+(this._x1=+t)+","+(this._y1=+n)},quadraticCurveTo:function(t,n,e,r){this._+="Q"+ +t+","+ +n+","+(this._x1=+e)+","+(this._y1=+r)},bezierCurveTo:function(t,n,e,r,i,o){this._+="C"+ +t+","+ +n+","+ +e+","+ +r+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(t,n,e,r,i){t=+t,n=+n,e=+e,r=+r,i=+i;var o=this._x1,u=this._y1,a=e-t,c=r-n,s=o-t,f=u-n,l=s*s+f*f;if(i<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=n);else if(l>1e-6)if(Math.abs(f*a-c*s)>1e-6&&i){var h=e-o,p=r-u,d=a*a+c*c,v=h*h+p*p,_=Math.sqrt(d),y=Math.sqrt(l),g=i*Math.tan((Od-Math.acos((d+l-v)/(2*_*y)))/2),m=g/y,x=g/_;Math.abs(m-1)>1e-6&&(this._+="L"+(t+m*s)+","+(n+m*f)),this._+="A"+i+","+i+",0,0,"+ +(f*h>s*p)+","+(this._x1=t+x*a)+","+(this._y1=n+x*c)}else this._+="L"+(this._x1=t)+","+(this._y1=n);else;},arc:function(t,n,e,r,i,o){t=+t,n=+n,e=+e;var u=e*Math.cos(r),a=e*Math.sin(r),c=t+u,s=n+a,f=1^o,l=o?r-i:i-r;if(e<0)throw new Error("negative radius: "+e);null===this._x1?this._+="M"+c+","+s:(Math.abs(this._x1-c)>1e-6||Math.abs(this._y1-s)>1e-6)&&(this._+="L"+c+","+s),e&&(l<0&&(l=l%Fd+Fd),l>Id?this._+="A"+e+","+e+",0,1,"+f+","+(t-u)+","+(n-a)+"A"+e+","+e+",0,1,"+f+","+(this._x1=c)+","+(this._y1=s):l>1e-6&&(this._+="A"+e+","+e+",0,"+ +(l>=Od)+","+f+","+(this._x1=t+e*Math.cos(i))+","+(this._y1=n+e*Math.sin(i))))},rect:function(t,n,e,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)+"h"+ +e+"v"+ +r+"h"+-e+"Z"},toString:function(){return this._}};var Yd=function(){function t(){var t,a=Ud.call(arguments),c=n.apply(this,a),s=e.apply(this,a),f=+r.apply(this,(a[0]=c,a)),l=i.apply(this,a)-Pd,h=o.apply(this,a)-Pd,p=f*Ad(l),d=f*Cd(l),v=+r.apply(this,(a[0]=s,a)),_=i.apply(this,a)-Pd,y=o.apply(this,a)-Pd;if(u||(u=t=Ue()),u.moveTo(p,d),u.arc(0,0,f,l,h),l===_&&h===y||(u.quadraticCurveTo(0,0,v*Ad(_),v*Cd(_)),u.arc(0,0,v,_,y)),u.quadraticCurveTo(0,0,p,d),u.closePath(),t)return u=null,t+""||null}var n=De,e=Oe,r=Fe,i=Ie,o=Ye,u=null;return t.radius=function(n){return arguments.length?(r="function"==typeof n?n:Dd(+n),t):r},t.startAngle=function(n){return arguments.length?(i="function"==typeof n?n:Dd(+n),t):i},t.endAngle=function(n){return arguments.length?(o="function"==typeof n?n:Dd(+n),t):o},t.source=function(e){return arguments.length?(n=e,t):n},t.target=function(n){return arguments.length?(e=n,t):e},t.context=function(n){return arguments.length?(u=null==n?null:n,t):u},t};Be.prototype=He.prototype={constructor:Be,has:function(t){return"$"+t in this},get:function(t){return this["$"+t]},set:function(t,n){return this["$"+t]=n,this},remove:function(t){var n="$"+t;return n in this&&delete this[n]},clear:function(){for(var t in this)"$"===t[0]&&delete this[t]},keys:function(){var t=[];for(var n in this)"$"===n[0]&&t.push(n.slice(1));return t},values:function(){var t=[];for(var n in this)"$"===n[0]&&t.push(this[n]);return t},entries:function(){var t=[];for(var n in this)"$"===n[0]&&t.push({key:n.slice(1),value:this[n]});return t},size:function(){var t=0;for(var n in this)"$"===n[0]&&++t;return t},empty:function(){for(var t in this)if("$"===t[0])return!1;return!0},each:function(t){for(var n in this)"$"===n[0]&&t(this[n],n.slice(1),this)}};var Bd=function(){function t(n,i,u,a){if(i>=o.length)return null!=r?r(n):null!=e?n.sort(e):n;for(var c,s,f,l=-1,h=n.length,p=o[i++],d=He(),v=u();++l<h;)(f=d.get(c=p(s=n[l])+""))?f.push(s):d.set(c,[s]);return d.each(function(n,e){a(v,e,t(n,i,u,a))}),v}function n(t,e){if(++e>o.length)return t;var i,a=u[e-1];return null!=r&&e>=o.length?i=t.entries():(i=[],t.each(function(t,r){i.push({key:r,values:n(t,e)})})),null!=a?i.sort(function(t,n){return a(t.key,n.key)}):i}var e,r,i,o=[],u=[];return i={object:function(n){return t(n,0,je,Xe)},map:function(n){return t(n,0,$e,Ve)},entries:function(e){return n(t(e,0,$e,Ve),0)},key:function(t){return o.push(t),i},sortKeys:function(t){return u[o.length-1]=t,i},sortValues:function(t){return e=t,i},rollup:function(t){return r=t,i}}},Hd=He.prototype;We.prototype=Ze.prototype={constructor:We,has:Hd.has,add:function(t){return t+="",this["$"+t]=t,this},remove:Hd.remove,clear:Hd.clear,values:Hd.keys,size:Hd.size,empty:Hd.empty,each:Hd.each};var jd=function(t){var n=[];for(var e in t)n.push(e);return n},Xd=function(t){var n=[];for(var e in t)n.push(t[e]);return n},$d=function(t){var n=[];for(var e in t)n.push({key:e,value:t[e]});return n},Vd=function(t){function n(t,n){var r,i,o=e(t,function(t,e){if(r)return r(t,e-1);i=t,r=n?Je(t,n):Ge(t)});return o.columns=i,o}function e(t,n){function e(){if(f>=s)return u;if(i)return i=!1,o;var n,e=f;if(34===t.charCodeAt(e)){for(var r=e;r++<s;)if(34===t.charCodeAt(r)){if(34!==t.charCodeAt(r+1))break;++r}return f=r+2,n=t.charCodeAt(r+1),13===n?(i=!0,10===t.charCodeAt(r+2)&&++f):10===n&&(i=!0),t.slice(e+1,r).replace(/""/g,'"')}for(;f<s;){var a=1;if(10===(n=t.charCodeAt(f++)))i=!0;else if(13===n)i=!0,10===t.charCodeAt(f)&&(++f,++a);else if(n!==c)continue;return t.slice(e,f-a)}return t.slice(e)}for(var r,i,o={},u={},a=[],s=t.length,f=0,l=0;(r=e())!==u;){for(var h=[];r!==o&&r!==u;)h.push(r),r=e();n&&null==(h=n(h,l++))||a.push(h)}return a}function r(n,e){return null==e&&(e=Qe(n)),[e.map(u).join(t)].concat(n.map(function(n){return e.map(function(t){return u(n[t])}).join(t)})).join("\n")}function i(t){return t.map(o).join("\n")}function o(n){return n.map(u).join(t)}function u(t){return null==t?"":a.test(t+="")?'"'+t.replace(/\"/g,'""')+'"':t}var a=new RegExp('["'+t+"\n\r]"),c=t.charCodeAt(0);return{parse:n,parseRows:e,format:r,formatRows:i}},Wd=Vd(","),Zd=Wd.parse,Gd=Wd.parseRows,Jd=Wd.format,Qd=Wd.formatRows,Kd=Vd("\t"),tv=Kd.parse,nv=Kd.parseRows,ev=Kd.format,rv=Kd.formatRows,iv=function(t,n){function e(){var e,i,o=r.length,u=0,a=0;for(e=0;e<o;++e)i=r[e],u+=i.x,a+=i.y;for(u=u/o-t,a=a/o-n,e=0;e<o;++e)i=r[e],i.x-=u,i.y-=a}var r;return null==t&&(t=0),null==n&&(n=0),e.initialize=function(t){r=t},e.x=function(n){return arguments.length?(t=+n,e):t},e.y=function(t){return arguments.length?(n=+t,e):n},e},ov=function(t){return function(){return t}},uv=function(){return 1e-6*(Math.random()-.5)},av=function(t){var n=+this._x.call(null,t),e=+this._y.call(null,t);return Ke(this.cover(n,e),n,e,t)},cv=function(t,n){if(isNaN(t=+t)||isNaN(n=+n))return this;var e=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(e))i=(e=Math.floor(t))+1,o=(r=Math.floor(n))+1;else{if(!(e>t||t>i||r>n||n>o))return this;var u,a,c=i-e,s=this._root;switch(a=(n<(r+o)/2)<<1|t<(e+i)/2){case 0:do{u=new Array(4),u[a]=s,s=u}while(c*=2,i=e+c,o=r+c,t>i||n>o);break;case 1:do{u=new Array(4),u[a]=s,s=u}while(c*=2,e=i-c,o=r+c,e>t||n>o);break;case 2:do{u=new Array(4),u[a]=s,s=u}while(c*=2,i=e+c,r=o-c,t>i||r>n);break;case 3:do{u=new Array(4),u[a]=s,s=u}while(c*=2,e=i-c,r=o-c,e>t||r>n)}this._root&&this._root.length&&(this._root=s)}return this._x0=e,this._y0=r,this._x1=i,this._y1=o,this},sv=function(){var t=[];return this.visit(function(n){if(!n.length)do{t.push(n.data)}while(n=n.next)}),t},fv=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},lv=function(t,n,e,r,i){this.node=t,this.x0=n,this.y0=e,this.x1=r,this.y1=i},hv=function(t,n,e){var r,i,o,u,a,c,s,f=this._x0,l=this._y0,h=this._x1,p=this._y1,d=[],v=this._root;for(v&&d.push(new lv(v,f,l,h,p)),null==e?e=1/0:(f=t-e,l=n-e,h=t+e,p=n+e,e*=e);c=d.pop();)if(!(!(v=c.node)||(i=c.x0)>h||(o=c.y0)>p||(u=c.x1)<f||(a=c.y1)<l))if(v.length){var _=(i+u)/2,y=(o+a)/2;d.push(new lv(v[3],_,y,u,a),new lv(v[2],i,y,_,a),new lv(v[1],_,o,u,y),new lv(v[0],i,o,_,y)),(s=(n>=y)<<1|t>=_)&&(c=d[d.length-1],d[d.length-1]=d[d.length-1-s],d[d.length-1-s]=c)}else{var g=t-+this._x.call(null,v.data),m=n-+this._y.call(null,v.data),x=g*g+m*m;if(x<e){var b=Math.sqrt(e=x);f=t-b,l=n-b,h=t+b,p=n+b,r=v.data}}return r},pv=function(t){if(isNaN(o=+this._x.call(null,t))||isNaN(u=+this._y.call(null,t)))return this;var n,e,r,i,o,u,a,c,s,f,l,h,p=this._root,d=this._x0,v=this._y0,_=this._x1,y=this._y1;if(!p)return this;if(p.length)for(;;){if((s=o>=(a=(d+_)/2))?d=a:_=a,(f=u>=(c=(v+y)/2))?v=c:y=c,n=p,!(p=p[l=f<<1|s]))return this;if(!p.length)break;(n[l+1&3]||n[l+2&3]||n[l+3&3])&&(e=n,h=l)}for(;p.data!==t;)if(r=p,!(p=p.next))return this;return(i=p.next)&&delete p.next,r?(i?r.next=i:delete r.next,this):n?(i?n[l]=i:delete n[l],(p=n[0]||n[1]||n[2]||n[3])&&p===(n[3]||n[2]||n[1]||n[0])&&!p.length&&(e?e[h]=p:this._root=p),this):(this._root=i,this)},dv=function(){return this._root},vv=function(){var t=0;return this.visit(function(n){if(!n.length)do{++t}while(n=n.next)}),t},_v=function(t){var n,e,r,i,o,u,a=[],c=this._root;for(c&&a.push(new lv(c,this._x0,this._y0,this._x1,this._y1));n=a.pop();)if(!t(c=n.node,r=n.x0,i=n.y0,o=n.x1,u=n.y1)&&c.length){var s=(r+o)/2,f=(i+u)/2;(e=c[3])&&a.push(new lv(e,s,f,o,u)),(e=c[2])&&a.push(new lv(e,r,f,s,u)),(e=c[1])&&a.push(new lv(e,s,i,o,f)),(e=c[0])&&a.push(new lv(e,r,i,s,f))}return this},yv=function(t){var n,e=[],r=[];for(this._root&&e.push(new lv(this._root,this._x0,this._y0,this._x1,this._y1));n=e.pop();){var i=n.node;if(i.length){var o,u=n.x0,a=n.y0,c=n.x1,s=n.y1,f=(u+c)/2,l=(a+s)/2;(o=i[0])&&e.push(new lv(o,u,a,f,l)),(o=i[1])&&e.push(new lv(o,f,a,c,l)),(o=i[2])&&e.push(new lv(o,u,l,f,s)),(o=i[3])&&e.push(new lv(o,f,l,c,s))}r.push(n)}for(;n=r.pop();)t(n.node,n.x0,n.y0,n.x1,n.y1);return this},gv=function(t){return arguments.length?(this._x=t,this):this._x},mv=function(t){return arguments.length?(this._y=t,this):this._y},xv=ir.prototype=or.prototype;xv.copy=function(){var t,n,e=new or(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return e;if(!r.length)return e._root=ur(r),e;for(t=[{source:r,target:e._root=new Array(4)}];r=t.pop();)for(var i=0;i<4;++i)(n=r.source[i])&&(n.length?t.push({source:n,target:r.target[i]=new Array(4)}):r.target[i]=ur(n));return e},xv.add=av,xv.addAll=tr,xv.cover=cv,xv.data=sv,xv.extent=fv,xv.find=hv,xv.remove=pv,xv.removeAll=nr,xv.root=dv,xv.size=vv,xv.visit=_v,xv.visitAfter=yv,xv.x=gv,xv.y=mv;var bv,wv=function(t){function n(){function t(t,n,e,r,i){var o=t.data,a=t.r,p=l+a;{if(!o)return n>s+p||r<s-p||e>f+p||i<f-p;if(o.index>c.index){var d=s-o.x-o.vx,v=f-o.y-o.vy,_=d*d+v*v;_<p*p&&(0===d&&(d=uv(),_+=d*d),0===v&&(v=uv(),_+=v*v),_=(p-(_=Math.sqrt(_)))/_*u,c.vx+=(d*=_)*(p=(a*=a)/(h+a)),c.vy+=(v*=_)*p,o.vx-=d*(p=1-p),o.vy-=v*p)}}}for(var n,r,c,s,f,l,h,p=i.length,d=0;d<a;++d)for(r=ir(i,ar,cr).visitAfter(e),n=0;n<p;++n)c=i[n],l=o[c.index],h=l*l,s=c.x+c.vx,f=c.y+c.vy,r.visit(t)}function e(t){if(t.data)return t.r=o[t.data.index];for(var n=t.r=0;n<4;++n)t[n]&&t[n].r>t.r&&(t.r=t[n].r)}function r(){if(i){var n,e,r=i.length;for(o=new Array(r),n=0;n<r;++n)e=i[n],o[e.index]=+t(e,n,i)}}var i,o,u=1,a=1
;return"function"!=typeof t&&(t=ov(null==t?1:+t)),n.initialize=function(t){i=t,r()},n.iterations=function(t){return arguments.length?(a=+t,n):a},n.strength=function(t){return arguments.length?(u=+t,n):u},n.radius=function(e){return arguments.length?(t="function"==typeof e?e:ov(+e),r(),n):t},n},Mv=function(t){function n(t){return 1/Math.min(s[t.source.index],s[t.target.index])}function e(n){for(var e=0,r=t.length;e<d;++e)for(var i,o,c,s,l,h,p,v=0;v<r;++v)i=t[v],o=i.source,c=i.target,s=c.x+c.vx-o.x-o.vx||uv(),l=c.y+c.vy-o.y-o.vy||uv(),h=Math.sqrt(s*s+l*l),h=(h-a[v])/h*n*u[v],s*=h,l*=h,c.vx-=s*(p=f[v]),c.vy-=l*p,o.vx+=s*(p=1-p),o.vy+=l*p}function r(){if(c){var n,e,r=c.length,h=t.length,p=He(c,l);for(n=0,s=new Array(r);n<h;++n)e=t[n],e.index=n,"object"!=typeof e.source&&(e.source=fr(p,e.source)),"object"!=typeof e.target&&(e.target=fr(p,e.target)),s[e.source.index]=(s[e.source.index]||0)+1,s[e.target.index]=(s[e.target.index]||0)+1;for(n=0,f=new Array(h);n<h;++n)e=t[n],f[n]=s[e.source.index]/(s[e.source.index]+s[e.target.index]);u=new Array(h),i(),a=new Array(h),o()}}function i(){if(c)for(var n=0,e=t.length;n<e;++n)u[n]=+h(t[n],n,t)}function o(){if(c)for(var n=0,e=t.length;n<e;++n)a[n]=+p(t[n],n,t)}var u,a,c,s,f,l=sr,h=n,p=ov(30),d=1;return null==t&&(t=[]),e.initialize=function(t){c=t,r()},e.links=function(n){return arguments.length?(t=n,r(),e):t},e.id=function(t){return arguments.length?(l=t,e):l},e.iterations=function(t){return arguments.length?(d=+t,e):d},e.strength=function(t){return arguments.length?(h="function"==typeof t?t:ov(+t),i(),e):h},e.distance=function(t){return arguments.length?(p="function"==typeof t?t:ov(+t),o(),e):p},e},Tv=10,kv=Math.PI*(3-Math.sqrt(5)),Nv=function(t){function n(){e(),p.call("tick",o),u<a&&(h.stop(),p.call("end",o))}function e(){var n,e,r=t.length;for(u+=(s-u)*c,l.each(function(t){t(u)}),n=0;n<r;++n)e=t[n],null==e.fx?e.x+=e.vx*=f:(e.x=e.fx,e.vx=0),null==e.fy?e.y+=e.vy*=f:(e.y=e.fy,e.vy=0)}function r(){for(var n,e=0,r=t.length;e<r;++e){if(n=t[e],n.index=e,isNaN(n.x)||isNaN(n.y)){var i=Tv*Math.sqrt(e),o=e*kv;n.x=i*Math.cos(o),n.y=i*Math.sin(o)}(isNaN(n.vx)||isNaN(n.vy))&&(n.vx=n.vy=0)}}function i(n){return n.initialize&&n.initialize(t),n}var o,u=1,a=.001,c=1-Math.pow(a,1/300),s=0,f=.6,l=He(),h=mn(n),p=v("tick","end");return null==t&&(t=[]),r(),o={tick:e,restart:function(){return h.restart(n),o},stop:function(){return h.stop(),o},nodes:function(n){return arguments.length?(t=n,r(),l.each(i),o):t},alpha:function(t){return arguments.length?(u=+t,o):u},alphaMin:function(t){return arguments.length?(a=+t,o):a},alphaDecay:function(t){return arguments.length?(c=+t,o):+c},alphaTarget:function(t){return arguments.length?(s=+t,o):s},velocityDecay:function(t){return arguments.length?(f=1-t,o):1-f},force:function(t,n){return arguments.length>1?(null==n?l.remove(t):l.set(t,i(n)),o):l.get(t)},find:function(n,e,r){var i,o,u,a,c,s=0,f=t.length;for(null==r?r=1/0:r*=r,s=0;s<f;++s)a=t[s],i=n-a.x,o=e-a.y,(u=i*i+o*o)<r&&(c=a,r=u);return c},on:function(t,n){return arguments.length>1?(p.on(t,n),o):p.on(t)}}},Sv=function(){function t(t){var n,a=i.length,c=ir(i,lr,hr).visitAfter(e);for(u=t,n=0;n<a;++n)o=i[n],c.visit(r)}function n(){if(i){var t,n,e=i.length;for(a=new Array(e),t=0;t<e;++t)n=i[t],a[n.index]=+c(n,t,i)}}function e(t){var n,e,r,i,o,u=0;if(t.length){for(r=i=o=0;o<4;++o)(n=t[o])&&(e=n.value)&&(u+=e,r+=e*n.x,i+=e*n.y);t.x=r/u,t.y=i/u}else{n=t,n.x=n.data.x,n.y=n.data.y;do{u+=a[n.data.index]}while(n=n.next)}t.value=u}function r(t,n,e,r){if(!t.value)return!0;var i=t.x-o.x,c=t.y-o.y,h=r-n,p=i*i+c*c;if(h*h/l<p)return p<f&&(0===i&&(i=uv(),p+=i*i),0===c&&(c=uv(),p+=c*c),p<s&&(p=Math.sqrt(s*p)),o.vx+=i*t.value*u/p,o.vy+=c*t.value*u/p),!0;if(!(t.length||p>=f)){(t.data!==o||t.next)&&(0===i&&(i=uv(),p+=i*i),0===c&&(c=uv(),p+=c*c),p<s&&(p=Math.sqrt(s*p)));do{t.data!==o&&(h=a[t.data.index]*u/p,o.vx+=i*h,o.vy+=c*h)}while(t=t.next)}}var i,o,u,a,c=ov(-30),s=1,f=1/0,l=.81;return t.initialize=function(t){i=t,n()},t.strength=function(e){return arguments.length?(c="function"==typeof e?e:ov(+e),n(),t):c},t.distanceMin=function(n){return arguments.length?(s=n*n,t):Math.sqrt(s)},t.distanceMax=function(n){return arguments.length?(f=n*n,t):Math.sqrt(f)},t.theta=function(n){return arguments.length?(l=n*n,t):Math.sqrt(l)},t},Ev=function(t){function n(t){for(var n,e=0,u=r.length;e<u;++e)n=r[e],n.vx+=(o[e]-n.x)*i[e]*t}function e(){if(r){var n,e=r.length;for(i=new Array(e),o=new Array(e),n=0;n<e;++n)i[n]=isNaN(o[n]=+t(r[n],n,r))?0:+u(r[n],n,r)}}var r,i,o,u=ov(.1);return"function"!=typeof t&&(t=ov(null==t?0:+t)),n.initialize=function(t){r=t,e()},n.strength=function(t){return arguments.length?(u="function"==typeof t?t:ov(+t),e(),n):u},n.x=function(r){return arguments.length?(t="function"==typeof r?r:ov(+r),e(),n):t},n},Av=function(t){function n(t){for(var n,e=0,u=r.length;e<u;++e)n=r[e],n.vy+=(o[e]-n.y)*i[e]*t}function e(){if(r){var n,e=r.length;for(i=new Array(e),o=new Array(e),n=0;n<e;++n)i[n]=isNaN(o[n]=+t(r[n],n,r))?0:+u(r[n],n,r)}}var r,i,o,u=ov(.1);return"function"!=typeof t&&(t=ov(null==t?0:+t)),n.initialize=function(t){r=t,e()},n.strength=function(t){return arguments.length?(u="function"==typeof t?t:ov(+t),e(),n):u},n.y=function(r){return arguments.length?(t="function"==typeof r?r:ov(+r),e(),n):t},n},Cv=function(t,n){if((e=(t=n?t.toExponential(n-1):t.toExponential()).indexOf("e"))<0)return null;var e,r=t.slice(0,e);return[r.length>1?r[0]+r.slice(2):r,+t.slice(e+1)]},zv=function(t){return t=Cv(Math.abs(t)),t?t[1]:NaN},Pv=function(t,n){return function(e,r){for(var i=e.length,o=[],u=0,a=t[0],c=0;i>0&&a>0&&(c+a+1>r&&(a=Math.max(1,r-c)),o.push(e.substring(i-=a,i+a)),!((c+=a+1)>r));)a=t[u=(u+1)%t.length];return o.reverse().join(n)}},Lv=function(t){return function(n){return n.replace(/[0-9]/g,function(n){return t[+n]})}},Rv=function(t,n){t=t.toPrecision(n);t:for(var e,r=t.length,i=1,o=-1;i<r;++i)switch(t[i]){case".":o=e=i;break;case"0":0===o&&(o=i),e=i;break;case"e":break t;default:o>0&&(o=0)}return o>0?t.slice(0,o)+t.slice(e+1):t},qv=function(t,n){var e=Cv(t,n);if(!e)return t+"";var r=e[0],i=e[1],o=i-(bv=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,u=r.length;return o===u?r:o>u?r+new Array(o-u+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Cv(t,Math.max(0,n+o-1))[0]},Uv=function(t,n){var e=Cv(t,n);if(!e)return t+"";var r=e[0],i=e[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")},Dv={"":Rv,"%":function(t,n){return(100*t).toFixed(n)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,n){return t.toExponential(n)},f:function(t,n){return t.toFixed(n)},g:function(t,n){return t.toPrecision(n)},o:function(t){return Math.round(t).toString(8)},p:function(t,n){return Uv(100*t,n)},r:Uv,s:qv,X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}},Ov=/^(?:(.)?([<>=^]))?([+\-\( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?([a-z%])?$/i;pr.prototype=dr.prototype,dr.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+this.type};var Fv,Iv=function(t){return t},Yv=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"],Bv=function(t){function n(t){function n(t){var n,i,a,f=_,x=y;if("c"===v)x=g(t)+x,t="";else{t=+t;var b=t<0;if(t=g(Math.abs(t),d),b&&0==+t&&(b=!1),f=(b?"("===s?s:"-":"-"===s||"("===s?"":s)+f,x=x+("s"===v?Yv[8+bv/3]:"")+(b&&"("===s?")":""),m)for(n=-1,i=t.length;++n<i;)if(48>(a=t.charCodeAt(n))||a>57){x=(46===a?o+t.slice(n+1):t.slice(n))+x,t=t.slice(0,n);break}}p&&!l&&(t=r(t,1/0));var w=f.length+t.length+x.length,M=w<h?new Array(h-w+1).join(e):"";switch(p&&l&&(t=r(M+t,M.length?h-x.length:1/0),M=""),c){case"<":t=f+t+x+M;break;case"=":t=f+M+t+x;break;case"^":t=M.slice(0,w=M.length>>1)+f+t+x+M.slice(w);break;default:t=M+f+t+x}return u(t)}t=pr(t);var e=t.fill,c=t.align,s=t.sign,f=t.symbol,l=t.zero,h=t.width,p=t.comma,d=t.precision,v=t.type,_="$"===f?i[0]:"#"===f&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",y="$"===f?i[1]:/[%p]/.test(v)?a:"",g=Dv[v],m=!v||/[defgprs%]/.test(v);return d=null==d?v?6:12:/[gprs]/.test(v)?Math.max(1,Math.min(21,d)):Math.max(0,Math.min(20,d)),n.toString=function(){return t+""},n}function e(t,e){var r=n((t=pr(t),t.type="f",t)),i=3*Math.max(-8,Math.min(8,Math.floor(zv(e)/3))),o=Math.pow(10,-i),u=Yv[8+i/3];return function(t){return r(o*t)+u}}var r=t.grouping&&t.thousands?Pv(t.grouping,t.thousands):Iv,i=t.currency,o=t.decimal,u=t.numerals?Lv(t.numerals):Iv,a=t.percent||"%";return{format:n,formatPrefix:e}};vr({decimal:".",thousands:",",grouping:[3],currency:["$",""]});var Hv=function(t){return Math.max(0,-zv(Math.abs(t)))},jv=function(t,n){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(zv(n)/3)))-zv(Math.abs(t)))},Xv=function(t,n){return t=Math.abs(t),n=Math.abs(n)-t,Math.max(0,zv(n)-zv(t))+1},$v=function(){return new _r};_r.prototype={constructor:_r,reset:function(){this.s=this.t=0},add:function(t){yr(T_,t,this.t),yr(this,T_.s,this.s),this.s?this.t+=T_.t:this.s=T_.t},valueOf:function(){return this.s}};var Vv,Wv,Zv,Gv,Jv,Qv,Kv,t_,n_,e_,r_,i_,o_,u_,a_,c_,s_,f_,l_,h_,p_,d_,v_,__,y_,g_,m_,x_,b_,w_,M_,T_=new _r,k_=1e-6,N_=Math.PI,S_=N_/2,E_=N_/4,A_=2*N_,C_=180/N_,z_=N_/180,P_=Math.abs,L_=Math.atan,R_=Math.atan2,q_=Math.cos,U_=Math.ceil,D_=Math.exp,O_=Math.log,F_=Math.pow,I_=Math.sin,Y_=Math.sign||function(t){return t>0?1:t<0?-1:0},B_=Math.sqrt,H_=Math.tan,j_={Feature:function(t,n){wr(t.geometry,n)},FeatureCollection:function(t,n){for(var e=t.features,r=-1,i=e.length;++r<i;)wr(e[r].geometry,n)}},X_={Sphere:function(t,n){n.sphere()},Point:function(t,n){t=t.coordinates,n.point(t[0],t[1],t[2])},MultiPoint:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)t=e[r],n.point(t[0],t[1],t[2])},LineString:function(t,n){Mr(t.coordinates,n,0)},MultiLineString:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)Mr(e[r],n,0)},Polygon:function(t,n){Tr(t.coordinates,n)},MultiPolygon:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)Tr(e[r],n)},GeometryCollection:function(t,n){for(var e=t.geometries,r=-1,i=e.length;++r<i;)wr(e[r],n)}},$_=function(t,n){t&&j_.hasOwnProperty(t.type)?j_[t.type](t,n):wr(t,n)},V_=$v(),W_=$v(),Z_={point:br,lineStart:br,lineEnd:br,polygonStart:function(){V_.reset(),Z_.lineStart=kr,Z_.lineEnd=Nr},polygonEnd:function(){var t=+V_;W_.add(t<0?A_+t:t),this.lineStart=this.lineEnd=this.point=br},sphere:function(){W_.add(A_)}},G_=function(t){return W_.reset(),$_(t,Z_),2*W_},J_=$v(),Q_={point:Ur,lineStart:Or,lineEnd:Fr,polygonStart:function(){Q_.point=Ir,Q_.lineStart=Yr,Q_.lineEnd=Br,J_.reset(),Z_.polygonStart()},polygonEnd:function(){Z_.polygonEnd(),Q_.point=Ur,Q_.lineStart=Or,Q_.lineEnd=Fr,V_<0?(Qv=-(t_=180),Kv=-(n_=90)):J_>k_?n_=90:J_<-k_&&(Kv=-90),a_[0]=Qv,a_[1]=t_}},K_=function(t){var n,e,r,i,o,u,a;if(n_=t_=-(Qv=Kv=1/0),u_=[],$_(t,Q_),e=u_.length){for(u_.sort(jr),n=1,r=u_[0],o=[r];n<e;++n)i=u_[n],Xr(r,i[0])||Xr(r,i[1])?(Hr(r[0],i[1])>Hr(r[0],r[1])&&(r[1]=i[1]),Hr(i[0],r[1])>Hr(r[0],r[1])&&(r[0]=i[0])):o.push(r=i);for(u=-1/0,e=o.length-1,n=0,r=o[e];n<=e;r=i,++n)i=o[n],(a=Hr(r[1],i[0]))>u&&(u=a,Qv=i[0],t_=r[1])}return u_=a_=null,Qv===1/0||Kv===1/0?[[NaN,NaN],[NaN,NaN]]:[[Qv,Kv],[t_,n_]]},ty={sphere:br,point:$r,lineStart:Wr,lineEnd:Jr,polygonStart:function(){ty.lineStart=Qr,ty.lineEnd=Kr},polygonEnd:function(){ty.lineStart=Wr,ty.lineEnd=Jr}},ny=function(t){c_=s_=f_=l_=h_=p_=d_=v_=__=y_=g_=0,$_(t,ty);var n=__,e=y_,r=g_,i=n*n+e*e+r*r;return i<1e-12&&(n=p_,e=d_,r=v_,s_<k_&&(n=f_,e=l_,r=h_),(i=n*n+e*e+r*r)<1e-12)?[NaN,NaN]:[R_(e,n)*C_,mr(r/B_(i))*C_]},ey=function(t){return function(){return t}},ry=function(t,n){function e(e,r){return e=t(e,r),n(e[0],e[1])}return t.invert&&n.invert&&(e.invert=function(e,r){return(e=n.invert(e,r))&&t.invert(e[0],e[1])}),e};ei.invert=ei;var iy,oy,uy,ay,cy,sy,fy,ly,hy,py,dy,vy=function(t){function n(n){return n=t(n[0]*z_,n[1]*z_),n[0]*=C_,n[1]*=C_,n}return t=ri(t[0]*z_,t[1]*z_,t.length>2?t[2]*z_:0),n.invert=function(n){return n=t.invert(n[0]*z_,n[1]*z_),n[0]*=C_,n[1]*=C_,n},n},_y=function(){function t(t,n){e.push(t=r(t,n)),t[0]*=C_,t[1]*=C_}function n(){var t=i.apply(this,arguments),n=o.apply(this,arguments)*z_,c=u.apply(this,arguments)*z_;return e=[],r=ri(-t[0]*z_,-t[1]*z_,0).invert,ai(a,n,c,1),t={type:"Polygon",coordinates:[e]},e=r=null,t}var e,r,i=ey([0,0]),o=ey(90),u=ey(6),a={point:t};return n.center=function(t){return arguments.length?(i="function"==typeof t?t:ey([+t[0],+t[1]]),n):i},n.radius=function(t){return arguments.length?(o="function"==typeof t?t:ey(+t),n):o},n.precision=function(t){return arguments.length?(u="function"==typeof t?t:ey(+t),n):u},n},yy=function(){var t,n=[];return{point:function(n,e){t.push([n,e])},lineStart:function(){n.push(t=[])},lineEnd:br,rejoin:function(){n.length>1&&n.push(n.pop().concat(n.shift()))},result:function(){var e=n;return n=[],t=null,e}}},gy=function(t,n,e,r,i,o){var u,a=t[0],c=t[1],s=n[0],f=n[1],l=0,h=1,p=s-a,d=f-c;if(u=e-a,p||!(u>0)){if(u/=p,p<0){if(u<l)return;u<h&&(h=u)}else if(p>0){if(u>h)return;u>l&&(l=u)}if(u=i-a,p||!(u<0)){if(u/=p,p<0){if(u>h)return;u>l&&(l=u)}else if(p>0){if(u<l)return;u<h&&(h=u)}if(u=r-c,d||!(u>0)){if(u/=d,d<0){if(u<l)return;u<h&&(h=u)}else if(d>0){if(u>h)return;u>l&&(l=u)}if(u=o-c,d||!(u<0)){if(u/=d,d<0){if(u>h)return;u>l&&(l=u)}else if(d>0){if(u<l)return;u<h&&(h=u)}return l>0&&(t[0]=a+l*p,t[1]=c+l*d),h<1&&(n[0]=a+h*p,n[1]=c+h*d),!0}}}}},my=function(t,n){return P_(t[0]-n[0])<k_&&P_(t[1]-n[1])<k_},xy=function(t,n,e,r,i){var o,u,a=[],c=[];if(t.forEach(function(t){if(!((n=t.length-1)<=0)){var n,e,r=t[0],u=t[n];if(my(r,u)){for(i.lineStart(),o=0;o<n;++o)i.point((r=t[o])[0],r[1]);return void i.lineEnd()}a.push(e=new si(r,t,null,!0)),c.push(e.o=new si(r,null,e,!1)),a.push(e=new si(u,t,null,!1)),c.push(e.o=new si(u,null,e,!0))}}),a.length){for(c.sort(n),fi(a),fi(c),o=0,u=c.length;o<u;++o)c[o].e=e=!e;for(var s,f,l=a[0];;){for(var h=l,p=!0;h.v;)if((h=h.n)===l)return;s=h.z,i.lineStart();do{if(h.v=h.o.v=!0,h.e){if(p)for(o=0,u=s.length;o<u;++o)i.point((f=s[o])[0],f[1]);else r(h.x,h.n.x,1,i);h=h.n}else{if(p)for(s=h.p.z,o=s.length-1;o>=0;--o)i.point((f=s[o])[0],f[1]);else r(h.x,h.p.x,-1,i);h=h.p}h=h.o,s=h.z,p=!p}while(!h.v);i.lineEnd()}}},by=1e9,wy=-by,My=function(){var t,n,e,r=0,i=0,o=960,u=500;return e={stream:function(e){return t&&n===e?t:t=li(r,i,o,u)(n=e)},extent:function(a){return arguments.length?(r=+a[0][0],i=+a[0][1],o=+a[1][0],u=+a[1][1],t=n=null,e):[[r,i],[o,u]]}}},Ty=$v(),ky=function(t,n){var e=n[0],r=n[1],i=[I_(e),-q_(e),0],o=0,u=0;Ty.reset();for(var a=0,c=t.length;a<c;++a)if(f=(s=t[a]).length)for(var s,f,l=s[f-1],h=l[0],p=l[1]/2+E_,d=I_(p),v=q_(p),_=0;_<f;++_,h=g,d=x,v=b,l=y){var y=s[_],g=y[0],m=y[1]/2+E_,x=I_(m),b=q_(m),w=g-h,M=w>=0?1:-1,T=M*w,k=T>N_,N=d*x;if(Ty.add(R_(N*M*I_(T),v*b+N*q_(T))),o+=k?w+M*A_:w,k^h>=e^g>=e){var S=Pr(Cr(l),Cr(y));qr(S);var E=Pr(i,S);qr(E);var A=(k^w>=0?-1:1)*mr(E[2]);(r>A||r===A&&(S[0]||S[1]))&&(u+=k^w>=0?1:-1)}}return(o<-k_||o<k_&&Ty<-k_)^1&u},Ny=$v(),Sy={sphere:br,point:br,lineStart:hi,lineEnd:br,polygonStart:br,polygonEnd:br},Ey=function(t){return Ny.reset(),$_(t,Sy),+Ny},Ay=[null,null],Cy={type:"LineString",coordinates:Ay},zy=function(t,n){return Ay[0]=t,Ay[1]=n,Ey(Cy)},Py={Feature:function(t,n){return _i(t.geometry,n)},FeatureCollection:function(t,n){for(var e=t.features,r=-1,i=e.length;++r<i;)if(_i(e[r].geometry,n))return!0;return!1}},Ly={Sphere:function(){return!0},Point:function(t,n){return yi(t.coordinates,n)},MultiPoint:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)if(yi(e[r],n))return!0;return!1},LineString:function(t,n){return gi(t.coordinates,n)},MultiLineString:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)if(gi(e[r],n))return!0;return!1},Polygon:function(t,n){return mi(t.coordinates,n)},MultiPolygon:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)if(mi(e[r],n))return!0;return!1},GeometryCollection:function(t,n){for(var e=t.geometries,r=-1,i=e.length;++r<i;)if(_i(e[r],n))return!0;return!1}},Ry=function(t,n){return(t&&Py.hasOwnProperty(t.type)?Py[t.type]:_i)(t,n)},qy=function(t,n){var e=t[0]*z_,r=t[1]*z_,i=n[0]*z_,o=n[1]*z_,u=q_(r),a=I_(r),c=q_(o),s=I_(o),f=u*q_(e),l=u*I_(e),h=c*q_(i),p=c*I_(i),d=2*mr(B_(xr(o-r)+u*c*xr(i-e))),v=I_(d),_=d?function(t){var n=I_(t*=d)/v,e=I_(d-t)/v,r=e*f+n*h,i=e*l+n*p,o=e*a+n*s;return[R_(i,r)*C_,R_(o,B_(r*r+i*i))*C_]}:function(){return[e*C_,r*C_]};return _.distance=d,_},Uy=function(t){return t},Dy=$v(),Oy=$v(),Fy={point:br,lineStart:br,lineEnd:br,polygonStart:function(){Fy.lineStart=Ni,Fy.lineEnd=Ai},polygonEnd:function(){Fy.lineStart=Fy.lineEnd=Fy.point=br,Dy.add(P_(Oy)),Oy.reset()},result:function(){var t=Dy/2;return Dy.reset(),t}},Iy=1/0,Yy=Iy,By=-Iy,Hy=By,jy={point:Ci,lineStart:br,lineEnd:br,polygonStart:br,polygonEnd:br,result:function(){var t=[[Iy,Yy],[By,Hy]];return By=Hy=-(Yy=Iy=1/0),t}},Xy=0,$y=0,Vy=0,Wy=0,Zy=0,Gy=0,Jy=0,Qy=0,Ky=0,tg={point:zi,lineStart:Pi,lineEnd:qi,polygonStart:function(){tg.lineStart=Ui,tg.lineEnd=Di},polygonEnd:function(){tg.point=zi,tg.lineStart=Pi,tg.lineEnd=qi},result:function(){var t=Ky?[Jy/Ky,Qy/Ky]:Gy?[Wy/Gy,Zy/Gy]:Vy?[Xy/Vy,$y/Vy]:[NaN,NaN];return Xy=$y=Vy=Wy=Zy=Gy=Jy=Qy=Ky=0,t}};Ii.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,n){switch(this._point){case 0:this._context.moveTo(t,n),this._point=1;break;case 1:this._context.lineTo(t,n);break;default:this._context.moveTo(t+this._radius,n),this._context.arc(t,n,this._radius,0,A_)}},result:br};var ng,eg,rg,ig,og,ug=$v(),ag={point:br,lineStart:function(){ag.point=Yi},lineEnd:function(){ng&&Bi(eg,rg),ag.point=br},polygonStart:function(){ng=!0},polygonEnd:function(){ng=null},result:function(){var t=+ug;return ug.reset(),t}};Hi.prototype={_radius:4.5,_circle:ji(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(t,n){switch(this._point){case 0:this._string.push("M",t,",",n),this._point=1;break;case 1:this._string.push("L",t,",",n);break;default:null==this._circle&&(this._circle=ji(this._radius)),this._string.push("M",t,",",n,this._circle)}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}return null}};var cg=function(t,n){function e(t){return t&&("function"==typeof o&&i.pointRadius(+o.apply(this,arguments)),$_(t,r(i))),i.result()}var r,i,o=4.5;return e.area=function(t){return $_(t,r(Fy)),Fy.result()},e.measure=function(t){return $_(t,r(ag)),ag.result()},e.bounds=function(t){return $_(t,r(jy)),jy.result()},e.centroid=function(t){return $_(t,r(tg)),tg.result()},e.projection=function(n){return arguments.length?(r=null==n?(t=null,Uy):(t=n).stream,e):t},e.context=function(t){return arguments.length?(i=null==t?(n=null,new Hi):new Ii(n=t),"function"!=typeof o&&i.pointRadius(o),e):n},e.pointRadius=function(t){return arguments.length?(o="function"==typeof t?t:(i.pointRadius(+t),+t),e):o},e.projection(t).context(n)},sg=function(t,n,e,r){return function(i,o){function u(n,e){var r=i(n,e);t(n=r[0],e=r[1])&&o.point(n,e)}function a(t,n){var e=i(t,n);_.point(e[0],e[1])}function c(){b.point=a,_.lineStart()}function s(){b.point=u,_.lineEnd()}function f(t,n){v.push([t,n]);var e=i(t,n);m.point(e[0],e[1])}function l(){m.lineStart(),v=[]}function h(){f(v[0][0],v[0][1]),m.lineEnd();var t,n,e,r,i=m.clean(),u=g.result(),a=u.length;if(v.pop(),p.push(v),v=null,a)if(1&i){if(e=u[0],(n=e.length-1)>0){for(x||(o.polygonStart(),x=!0),o.lineStart(),t=0;t<n;++t)o.point((r=e[t])[0],r[1]);o.lineEnd()}}else a>1&&2&i&&u.push(u.pop().concat(u.shift())),d.push(u.filter(Xi))}var p,d,v,_=n(o),y=i.invert(r[0],r[1]),g=yy(),m=n(g),x=!1,b={point:u,lineStart:c,lineEnd:s,polygonStart:function(){b.point=f,b.lineStart=l,b.lineEnd=h,d=[],p=[]},polygonEnd:function(){b.point=u,b.lineStart=c,b.lineEnd=s,d=bf(d);var t=ky(p,y);d.length?(x||(o.polygonStart(),x=!0),xy(d,$i,t,e,o)):t&&(x||(o.polygonStart(),x=!0),o.lineStart(),e(null,null,1,o),o.lineEnd()),x&&(o.polygonEnd(),x=!1),d=p=null},sphere:function(){o.polygonStart(),o.lineStart(),e(null,null,1,o),o.lineEnd(),o.polygonEnd()}};return b}},fg=sg(function(){return!0},Vi,Zi,[-N_,-S_]),lg=function(t,n){function e(e,r,i,o){ai(o,t,n,i,e,r)}function r(t,n){return q_(t)*q_(n)>a}function i(t){var n,e,i,a,f;return{lineStart:function(){a=i=!1,f=1},point:function(l,h){var p,d=[l,h],v=r(l,h),_=c?v?0:u(l,h):v?u(l+(l<0?N_:-N_),h):0;if(!n&&(a=i=v)&&t.lineStart(),v!==i&&(!(p=o(n,d))||my(n,p)||my(d,p))&&(d[0]+=k_,d[1]+=k_,v=r(d[0],d[1])),v!==i)f=0,v?(t.lineStart(),p=o(d,n),t.point(p[0],p[1])):(p=o(n,d),t.point(p[0],p[1]),t.lineEnd()),n=p;else if(s&&n&&c^v){var y;_&e||!(y=o(d,n,!0))||(f=0,c?(t.lineStart(),t.point(y[0][0],y[0][1]),t.point(y[1][0],y[1][1]),t.lineEnd()):(t.point(y[1][0],y[1][1]),t.lineEnd(),t.lineStart(),t.point(y[0][0],y[0][1])))}!v||n&&my(n,d)||t.point(d[0],d[1]),n=d,i=v,e=_},lineEnd:function(){i&&t.lineEnd(),n=null},clean:function(){return f|(a&&i)<<1}}}function o(t,n,e){var r=Cr(t),i=Cr(n),o=[1,0,0],u=Pr(r,i),c=zr(u,u),s=u[0],f=c-s*s;if(!f)return!e&&t;var l=a*c/f,h=-a*s/f,p=Pr(o,u),d=Rr(o,l);Lr(d,Rr(u,h));var v=p,_=zr(d,v),y=zr(v,v),g=_*_-y*(zr(d,d)-1);if(!(g<0)){var m=B_(g),x=Rr(v,(-_-m)/y);if(Lr(x,d),x=Ar(x),!e)return x;var b,w=t[0],M=n[0],T=t[1],k=n[1];M<w&&(b=w,w=M,M=b);var N=M-w,S=P_(N-N_)<k_,E=S||N<k_;if(!S&&k<T&&(b=T,T=k,k=b),E?S?T+k>0^x[1]<(P_(x[0]-w)<k_?T:k):T<=x[1]&&x[1]<=k:N>N_^(w<=x[0]&&x[0]<=M)){var A=Rr(v,(-_+m)/y);return Lr(A,d),[x,Ar(A)]}}}function u(n,e){var r=c?t:N_-t,i=0;return n<-r?i|=1:n>r&&(i|=2),e<-r?i|=4:e>r&&(i|=8),i}var a=q_(t),c=a>0,s=P_(a)>k_;return sg(r,i,e,c?[0,-t]:[-N_,t-N_])},hg=function(t){return{stream:Gi(t)}};Ji.prototype={constructor:Ji,point:function(t,n){this.stream.point(t,n)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var pg=16,dg=q_(30*z_),vg=function(t,n){return+n?no(t,n):to(t)},_g=Gi({point:function(t,n){this.stream.point(t*z_,n*z_)}}),yg=function(){return io(uo).scale(155.424).center([0,33.6442])},gg=function(){return yg().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])},mg=function(){function t(t){var n=t[0],e=t[1];return a=null,i.point(n,e),a||(o.point(n,e),a)||(u.point(n,e),a)}function n(){return e=r=null,t}var e,r,i,o,u,a,c=gg(),s=yg().rotate([154,0]).center([-2,58.5]).parallels([55,65]),f=yg().rotate([157,0]).center([-3,19.9]).parallels([8,18]),l={point:function(t,n){a=[t,n]}};return t.invert=function(t){var n=c.scale(),e=c.translate(),r=(t[0]-e[0])/n,i=(t[1]-e[1])/n;return(i>=.12&&i<.234&&r>=-.425&&r<-.214?s:i>=.166&&i<.234&&r>=-.214&&r<-.115?f:c).invert(t)},t.stream=function(t){return e&&r===t?e:e=ao([c.stream(r=t),s.stream(t),f.stream(t)])},t.precision=function(t){return arguments.length?(c.precision(t),s.precision(t),f.precision(t),n()):c.precision()},t.scale=function(n){return arguments.length?(c.scale(n),s.scale(.35*n),f.scale(n),t.translate(c.translate())):c.scale()},t.translate=function(t){if(!arguments.length)return c.translate();var e=c.scale(),r=+t[0],a=+t[1];return i=c.translate(t).clipExtent([[r-.455*e,a-.238*e],[r+.455*e,a+.238*e]]).stream(l),o=s.translate([r-.307*e,a+.201*e]).clipExtent([[r-.425*e+k_,a+.12*e+k_],[r-.214*e-k_,a+.234*e-k_]]).stream(l),u=f.translate([r-.205*e,a+.212*e]).clipExtent([[r-.214*e+k_,a+.166*e+k_],[r-.115*e-k_,a+.234*e-k_]]).stream(l),n()},t.fitExtent=function(n,e){return Qi(t,n,e)},t.fitSize=function(n,e){return Ki(t,n,e)},t.scale(1070)},xg=co(function(t){return B_(2/(1+t))});xg.invert=so(function(t){return 2*mr(t/2)});var bg=function(){return eo(xg).scale(124.75).clipAngle(179.999)},wg=co(function(t){return(t=gr(t))&&t/I_(t)});wg.invert=so(function(t){return t});var Mg=function(){return eo(wg).scale(79.4188).clipAngle(179.999)};fo.invert=function(t,n){return[t,2*L_(D_(n))-S_]};var Tg=function(){return lo(fo).scale(961/A_)},kg=function(){return io(po).scale(109.5).parallels([30,30])};vo.invert=vo;var Ng=function(){return eo(vo).scale(152.63)},Sg=function(){return io(_o).scale(131.154).center([0,13.9389])};yo.invert=so(L_);var Eg=function(){return eo(yo).scale(144.049).clipAngle(60)},Ag=function(){function t(){return i=o=null,u}var n,e,r,i,o,u,a=1,c=0,s=0,f=1,l=1,h=Uy,p=null,d=Uy;return u={stream:function(t){return i&&o===t?i:i=h(d(o=t))},clipExtent:function(i){return arguments.length?(d=null==i?(p=n=e=r=null,Uy):li(p=+i[0][0],n=+i[0][1],e=+i[1][0],r=+i[1][1]),t()):null==p?null:[[p,n],[e,r]]},scale:function(n){return arguments.length?(h=go((a=+n)*f,a*l,c,s),t()):a},translate:function(n){return arguments.length?(h=go(a*f,a*l,c=+n[0],s=+n[1]),t()):[c,s]},reflectX:function(n){return arguments.length?(h=go(a*(f=n?-1:1),a*l,c,s),t()):f<0},reflectY:function(n){return arguments.length?(h=go(a*f,a*(l=n?-1:1),c,s),t()):l<0},fitExtent:function(t,n){return Qi(u,t,n)},fitSize:function(t,n){return Ki(u,t,n)}}};mo.invert=so(mr);var Cg=function(){return eo(mo).scale(249.5).clipAngle(90+k_)};xo.invert=so(function(t){return 2*L_(t)});var zg=function(){return eo(xo).scale(250).clipAngle(142)};bo.invert=function(t,n){return[-n,2*L_(D_(t))-S_]};var Pg=function(){var t=lo(bo),n=t.center,e=t.rotate;return t.center=function(t){return arguments.length?n([-t[1],t[0]]):(t=n(),[t[1],-t[0]])},t.rotate=function(t){return arguments.length?e([t[0],t[1],t.length>2?t[2]+90:90]):(t=e(),[t[0],t[1],t[2]-90])},e([0,0,90]).scale(159.155)},Lg=function(){function t(t){var o,u=0;t.eachAfter(function(t){var e=t.children;e?(t.x=Mo(e),t.y=ko(e)):(t.x=o?u+=n(t,o):0,t.y=0,o=t)});var a=So(t),c=Eo(t),s=a.x-n(a,c)/2,f=c.x+n(c,a)/2;return t.eachAfter(i?function(n){n.x=(n.x-t.x)*e,n.y=(t.y-n.y)*r}:function(n){n.x=(n.x-s)/(f-s)*e,n.y=(1-(t.y?n.y/t.y:1))*r})}var n=wo,e=1,r=1,i=!1;return t.separation=function(e){return arguments.length?(n=e,t):n},t.size=function(n){return arguments.length?(i=!1,e=+n[0],r=+n[1],t):i?null:[e,r]},t.nodeSize=function(n){return arguments.length?(i=!0,e=+n[0],r=+n[1],t):i?[e,r]:null},t},Rg=function(){return this.eachAfter(Ao)},qg=function(t){var n,e,r,i,o=this,u=[o];do{for(n=u.reverse(),u=[];o=n.pop();)if(t(o),e=o.children)for(r=0,i=e.length;r<i;++r)u.push(e[r])}while(u.length);return this},Ug=function(t){for(var n,e,r=this,i=[r];r=i.pop();)if(t(r),n=r.children)for(e=n.length-1;e>=0;--e)i.push(n[e]);return this},Dg=function(t){for(var n,e,r,i=this,o=[i],u=[];i=o.pop();)if(u.push(i),n=i.children)for(e=0,r=n.length;e<r;++e)o.push(n[e]);for(;i=u.pop();)t(i);return this},Og=function(t){return this.eachAfter(function(n){for(var e=+t(n.data)||0,r=n.children,i=r&&r.length;--i>=0;)e+=r[i].value;n.value=e})},Fg=function(t){return this.eachBefore(function(n){n.children&&n.children.sort(t)})},Ig=function(t){for(var n=this,e=Co(n,t),r=[n];n!==e;)n=n.parent,r.push(n);for(var i=r.length;t!==e;)r.splice(i,0,t),t=t.parent;return r},Yg=function(){for(var t=this,n=[t];t=t.parent;)n.push(t);return n},Bg=function(){var t=[];return this.each(function(n){t.push(n)}),t},Hg=function(){var t=[];return this.eachBefore(function(n){n.children||t.push(n)}),t},jg=function(){var t=this,n=[];return t.each(function(e){e!==t&&n.push({source:e.parent,target:e})}),n};Uo.prototype=zo.prototype={constructor:Uo,count:Rg,each:qg,eachAfter:Dg,eachBefore:Ug,sum:Og,sort:Fg,path:Ig,ancestors:Yg,descendants:Bg,leaves:Hg,links:jg,copy:Po};var Xg=function(t){for(var n=(t=t.slice()).length,e=null,r=e;n;){var i=new Do(t[n-1]);r=r?r.next=i:e=i,t[void 0]=t[--n]}return{head:e,tail:r}},$g=function(t){return Fo(Xg(t),[])},Vg=function(t){return Vo(t),t},Wg=function(t){return function(){return t}},Zg=function(){function t(t){return t.x=e/2,t.y=r/2,n?t.eachBefore(Qo(n)).eachAfter(Ko(i,.5)).eachBefore(tu(1)):t.eachBefore(Qo(Jo)).eachAfter(Ko(Go,1)).eachAfter(Ko(i,t.r/Math.min(e,r))).eachBefore(tu(Math.min(e,r)/(2*t.r))),t}var n=null,e=1,r=1,i=Go;return t.radius=function(e){return arguments.length?(n=Wo(e),t):n},t.size=function(n){return arguments.length?(e=+n[0],r=+n[1],t):[e,r]},t.padding=function(n){return arguments.length?(i="function"==typeof n?n:Wg(+n),t):i},t},Gg=function(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)},Jg=function(t,n,e,r,i){for(var o,u=t.children,a=-1,c=u.length,s=t.value&&(r-n)/t.value;++a<c;)o=u[a],o.y0=e,o.y1=i,o.x0=n,o.x1=n+=o.value*s},Qg=function(){function t(t){var u=t.height+1;return t.x0=t.y0=i,t.x1=e,t.y1=r/u,t.eachBefore(n(r,u)),o&&t.eachBefore(Gg),t}function n(t,n){return function(e){e.children&&Jg(e,e.x0,t*(e.depth+1)/n,e.x1,t*(e.depth+2)/n);var r=e.x0,o=e.y0,u=e.x1-i,a=e.y1-i;u<r&&(r=u=(r+u)/2),a<o&&(o=a=(o+a)/2),e.x0=r,e.y0=o,e.x1=u,e.y1=a}}var e=1,r=1,i=0,o=!1;return t.round=function(n){return arguments.length?(o=!!n,t):o},t.size=function(n){return arguments.length?(e=+n[0],r=+n[1],t):[e,r]},t.padding=function(n){return arguments.length?(i=+n,t):i},t},Kg="$",tm={depth:-1},nm={},em=function(){function t(t){var r,i,o,u,a,c,s,f=t.length,l=new Array(f),h={};for(i=0;i<f;++i)r=t[i],a=l[i]=new Uo(r),null!=(c=n(r,i,t))&&(c+="")&&(s=Kg+(a.id=c),h[s]=s in h?nm:a);for(i=0;i<f;++i)if(a=l[i],null!=(c=e(t[i],i,t))&&(c+="")){if(!(u=h[Kg+c]))throw new Error("missing: "+c);if(u===nm)throw new Error("ambiguous: "+c);u.children?u.children.push(a):u.children=[a],a.parent=u}else{if(o)throw new Error("multiple roots");o=a}if(!o)throw new Error("no root");if(o.parent=tm,o.eachBefore(function(t){t.depth=t.parent.depth+1,--f}).eachBefore(qo),o.parent=null,f>0)throw new Error("cycle");return o}var n=nu,e=eu;return t.id=function(e){return arguments.length?(n=Zo(e),t):n},t.parentId=function(n){return arguments.length?(e=Zo(n),t):e},t};su.prototype=Object.create(Uo.prototype);var rm=function(){function t(t){var r=fu(t);if(r.eachAfter(n),r.parent.m=-r.z,r.eachBefore(e),c)t.eachBefore(i);else{var s=t,f=t,l=t;t.eachBefore(function(t){t.x<s.x&&(s=t),t.x>f.x&&(f=t),t.depth>l.depth&&(l=t)});var h=s===f?1:o(s,f)/2,p=h-s.x,d=u/(f.x+h+p),v=a/(l.depth||1);t.eachBefore(function(t){t.x=(t.x+p)*d,t.y=t.depth*v})}return t}function n(t){var n=t.children,e=t.parent.children,i=t.i?e[t.i-1]:null;if(n){au(t);var u=(n[0].z+n[n.length-1].z)/2;i?(t.z=i.z+o(t._,i._),t.m=t.z-u):t.z=u}else i&&(t.z=i.z+o(t._,i._));t.parent.A=r(t,i,t.parent.A||e[0])}function e(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function r(t,n,e){if(n){for(var r,i=t,u=t,a=n,c=i.parent.children[0],s=i.m,f=u.m,l=a.m,h=c.m;a=ou(a),i=iu(i),a&&i;)c=iu(c),u=ou(u),u.a=t,r=a.z+l-i.z-s+o(a._,i._),r>0&&(uu(cu(a,t,e),t,r),s+=r,f+=r),l+=a.m,s+=i.m,h+=c.m,f+=u.m;a&&!ou(u)&&(u.t=a,u.m+=l-f),i&&!iu(c)&&(c.t=i,c.m+=s-h,e=t)}return e}function i(t){t.x*=u,t.y=t.depth*a}var o=ru,u=1,a=1,c=null;return t.separation=function(n){return arguments.length?(o=n,t):o},t.size=function(n){return arguments.length?(c=!1,u=+n[0],a=+n[1],t):c?null:[u,a]},t.nodeSize=function(n){return arguments.length?(c=!0,u=+n[0],a=+n[1],t):c?[u,a]:null},t},im=function(t,n,e,r,i){for(var o,u=t.children,a=-1,c=u.length,s=t.value&&(i-e)/t.value;++a<c;)o=u[a],o.x0=n,o.x1=r,o.y0=e,o.y1=e+=o.value*s},om=(1+Math.sqrt(5))/2,um=function t(n){function e(t,e,r,i,o){lu(n,t,e,r,i,o)}return e.ratio=function(n){return t((n=+n)>1?n:1)},e}(om),am=function(){function t(t){return t.x0=t.y0=0,t.x1=i,t.y1=o,t.eachBefore(n),u=[0],r&&t.eachBefore(Gg),t}function n(t){var n=u[t.depth],r=t.x0+n,i=t.y0+n,o=t.x1-n,h=t.y1-n;o<r&&(r=o=(r+o)/2),h<i&&(i=h=(i+h)/2),t.x0=r,t.y0=i,t.x1=o,t.y1=h,
t.children&&(n=u[t.depth+1]=a(t)/2,r+=l(t)-n,i+=c(t)-n,o-=s(t)-n,h-=f(t)-n,o<r&&(r=o=(r+o)/2),h<i&&(i=h=(i+h)/2),e(t,r,i,o,h))}var e=um,r=!1,i=1,o=1,u=[0],a=Go,c=Go,s=Go,f=Go,l=Go;return t.round=function(n){return arguments.length?(r=!!n,t):r},t.size=function(n){return arguments.length?(i=+n[0],o=+n[1],t):[i,o]},t.tile=function(n){return arguments.length?(e=Zo(n),t):e},t.padding=function(n){return arguments.length?t.paddingInner(n).paddingOuter(n):t.paddingInner()},t.paddingInner=function(n){return arguments.length?(a="function"==typeof n?n:Wg(+n),t):a},t.paddingOuter=function(n){return arguments.length?t.paddingTop(n).paddingRight(n).paddingBottom(n).paddingLeft(n):t.paddingTop()},t.paddingTop=function(n){return arguments.length?(c="function"==typeof n?n:Wg(+n),t):c},t.paddingRight=function(n){return arguments.length?(s="function"==typeof n?n:Wg(+n),t):s},t.paddingBottom=function(n){return arguments.length?(f="function"==typeof n?n:Wg(+n),t):f},t.paddingLeft=function(n){return arguments.length?(l="function"==typeof n?n:Wg(+n),t):l},t},cm=function(t,n,e,r,i){function o(t,n,e,r,i,u,a){if(t>=n-1){var s=c[t];return s.x0=r,s.y0=i,s.x1=u,s.y1=a,void 0}for(var l=f[t],h=e/2+l,p=t+1,d=n-1;p<d;){var v=p+d>>>1;f[v]<h?p=v+1:d=v}h-f[p-1]<f[p]-h&&t+1<p&&--p;var _=f[p]-l,y=e-_;if(u-r>a-i){var g=(r*y+u*_)/e;o(t,p,_,r,i,g,a),o(p,n,y,g,i,u,a)}else{var m=(i*y+a*_)/e;o(t,p,_,r,i,u,m),o(p,n,y,r,m,u,a)}}var u,a,c=t.children,s=c.length,f=new Array(s+1);for(f[0]=a=u=0;u<s;++u)f[u+1]=a+=c[u].value;o(0,s,t.value,n,e,r,i)},sm=function(t,n,e,r,i){(1&t.depth?im:Jg)(t,n,e,r,i)},fm=function t(n){function e(t,e,r,i,o){if((u=t._squarify)&&u.ratio===n)for(var u,a,c,s,f,l=-1,h=u.length,p=t.value;++l<h;){for(a=u[l],c=a.children,s=a.value=0,f=c.length;s<f;++s)a.value+=c[s].value;a.dice?Jg(a,e,r,i,r+=(o-r)*a.value/p):im(a,e,r,e+=(i-e)*a.value/p,o),p-=a.value}else t._squarify=u=lu(n,t,e,r,i,o),u.ratio=n}return e.ratio=function(n){return t((n=+n)>1?n:1)},e}(om),lm=function(t){for(var n,e=-1,r=t.length,i=t[r-1],o=0;++e<r;)n=i,i=t[e],o+=n[1]*i[0]-n[0]*i[1];return o/2},hm=function(t){for(var n,e,r=-1,i=t.length,o=0,u=0,a=t[i-1],c=0;++r<i;)n=a,a=t[r],c+=e=n[0]*a[1]-a[0]*n[1],o+=(n[0]+a[0])*e,u+=(n[1]+a[1])*e;return c*=3,[o/c,u/c]},pm=function(t,n,e){return(n[0]-t[0])*(e[1]-t[1])-(n[1]-t[1])*(e[0]-t[0])},dm=function(t){if((e=t.length)<3)return null;var n,e,r=new Array(e),i=new Array(e);for(n=0;n<e;++n)r[n]=[+t[n][0],+t[n][1],n];for(r.sort(hu),n=0;n<e;++n)i[n]=[r[n][0],-r[n][1]];var o=pu(r),u=pu(i),a=u[0]===o[0],c=u[u.length-1]===o[o.length-1],s=[];for(n=o.length-1;n>=0;--n)s.push(t[r[o[n]][2]]);for(n=+a;n<u.length-c;++n)s.push(t[r[u[n]][2]]);return s},vm=function(t,n){for(var e,r,i=t.length,o=t[i-1],u=n[0],a=n[1],c=o[0],s=o[1],f=!1,l=0;l<i;++l)o=t[l],e=o[0],r=o[1],r>a!=s>a&&u<(c-e)*(a-r)/(s-r)+e&&(f=!f),c=e,s=r;return f},_m=function(t){for(var n,e,r=-1,i=t.length,o=t[i-1],u=o[0],a=o[1],c=0;++r<i;)n=u,e=a,o=t[r],u=o[0],a=o[1],n-=u,e-=a,c+=Math.sqrt(n*n+e*e);return c},ym=[].slice,gm={};du.prototype=xu.prototype={constructor:du,defer:function(t){if("function"!=typeof t)throw new Error("invalid callback");if(this._call)throw new Error("defer after await");if(null!=this._error)return this;var n=ym.call(arguments,1);return n.push(t),++this._waiting,this._tasks.push(n),vu(this),this},abort:function(){return null==this._error&&gu(this,new Error("abort")),this},await:function(t){if("function"!=typeof t)throw new Error("invalid callback");if(this._call)throw new Error("multiple await");return this._call=function(n,e){t.apply(null,[n].concat(e))},mu(this),this},awaitAll:function(t){if("function"!=typeof t)throw new Error("invalid callback");if(this._call)throw new Error("multiple await");return this._call=t,mu(this),this}};var mm=function(){return Math.random()},xm=function t(n){function e(t,e){return t=null==t?0:+t,e=null==e?1:+e,1===arguments.length?(e=t,t=0):e-=t,function(){return n()*e+t}}return e.source=t,e}(mm),bm=function t(n){function e(t,e){var r,i;return t=null==t?0:+t,e=null==e?1:+e,function(){var o;if(null!=r)o=r,r=null;else do{r=2*n()-1,o=2*n()-1,i=r*r+o*o}while(!i||i>1);return t+e*o*Math.sqrt(-2*Math.log(i)/i)}}return e.source=t,e}(mm),wm=function t(n){function e(){var t=bm.source(n).apply(this,arguments);return function(){return Math.exp(t())}}return e.source=t,e}(mm),Mm=function t(n){function e(t){return function(){for(var e=0,r=0;r<t;++r)e+=n();return e}}return e.source=t,e}(mm),Tm=function t(n){function e(t){var e=Mm.source(n)(t);return function(){return e()/t}}return e.source=t,e}(mm),km=function t(n){function e(t){return function(){return-Math.log(1-n())/t}}return e.source=t,e}(mm),Nm=function(t,n){function e(t){var n,e=s.status;if(!e&&wu(s)||e>=200&&e<300||304===e){if(o)try{n=o.call(r,s)}catch(t){return void a.call("error",r,t)}else n=s;a.call("load",r,n)}else a.call("error",r,t)}var r,i,o,u,a=v("beforesend","progress","load","error"),c=He(),s=new XMLHttpRequest,f=null,l=null,h=0;if("undefined"==typeof XDomainRequest||"withCredentials"in s||!/^(http(s)?:)?\/\//.test(t)||(s=new XDomainRequest),"onload"in s?s.onload=s.onerror=s.ontimeout=e:s.onreadystatechange=function(t){s.readyState>3&&e(t)},s.onprogress=function(t){a.call("progress",r,t)},r={header:function(t,n){return t=(t+"").toLowerCase(),arguments.length<2?c.get(t):(null==n?c.remove(t):c.set(t,n+""),r)},mimeType:function(t){return arguments.length?(i=null==t?null:t+"",r):i},responseType:function(t){return arguments.length?(u=t,r):u},timeout:function(t){return arguments.length?(h=+t,r):h},user:function(t){return arguments.length<1?f:(f=null==t?null:t+"",r)},password:function(t){return arguments.length<1?l:(l=null==t?null:t+"",r)},response:function(t){return o=t,r},get:function(t,n){return r.send("GET",t,n)},post:function(t,n){return r.send("POST",t,n)},send:function(n,e,o){return s.open(n,t,!0,f,l),null==i||c.has("accept")||c.set("accept",i+",*/*"),s.setRequestHeader&&c.each(function(t,n){s.setRequestHeader(n,t)}),null!=i&&s.overrideMimeType&&s.overrideMimeType(i),null!=u&&(s.responseType=u),h>0&&(s.timeout=h),null==o&&"function"==typeof e&&(o=e,e=null),null!=o&&1===o.length&&(o=bu(o)),null!=o&&r.on("error",o).on("load",function(t){o(null,t)}),a.call("beforesend",r,s),s.send(null==e?null:e),r},abort:function(){return s.abort(),r},on:function(){var t=a.on.apply(a,arguments);return t===a?r:t}},null!=n){if("function"!=typeof n)throw new Error("invalid callback: "+n);return r.get(n)}return r},Sm=function(t,n){return function(e,r){var i=Nm(e).mimeType(t).response(n);if(null!=r){if("function"!=typeof r)throw new Error("invalid callback: "+r);return i.get(r)}return i}},Em=Sm("text/html",function(t){return document.createRange().createContextualFragment(t.responseText)}),Am=Sm("application/json",function(t){return JSON.parse(t.responseText)}),Cm=Sm("text/plain",function(t){return t.responseText}),zm=Sm("application/xml",function(t){var n=t.responseXML;if(!n)throw new Error("parse error");return n}),Pm=function(t,n){return function(e,r,i){arguments.length<3&&(i=r,r=null);var o=Nm(e).mimeType(t);return o.row=function(t){return arguments.length?o.response(Mu(n,r=t)):r},o.row(r),i?o.get(i):o}},Lm=Pm("text/csv",Zd),Rm=Pm("text/tab-separated-values",tv),qm=Array.prototype,Um=qm.map,Dm=qm.slice,Om={name:"implicit"},Fm=function(t){return function(){return t}},Im=function(t){return+t},Ym=[0,1],Bm=function(n,e,r){var o,u=n[0],a=n[n.length-1],c=i(u,a,null==e?10:e);switch(r=pr(null==r?",f":r),r.type){case"s":var s=Math.max(Math.abs(u),Math.abs(a));return null!=r.precision||isNaN(o=jv(c,s))||(r.precision=o),t.formatPrefix(r,s);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(o=Xv(c,Math.max(Math.abs(u),Math.abs(a))))||(r.precision=o-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(o=Hv(c))||(r.precision=o-2*("%"===r.type))}return t.format(r)},Hm=function(t,n){t=t.slice();var e,r=0,i=t.length-1,o=t[r],u=t[i];return u<o&&(e=r,r=i,i=e,e=o,o=u,u=e),t[r]=n.floor(o),t[i]=n.ceil(u),t},jm=new Date,Xm=new Date,$m=Ju(function(){},function(t,n){t.setTime(+t+n)},function(t,n){return n-t});$m.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?Ju(function(n){n.setTime(Math.floor(n/t)*t)},function(n,e){n.setTime(+n+e*t)},function(n,e){return(e-n)/t}):$m:null};var Vm=$m.range,Wm=6e4,Zm=6048e5,Gm=Ju(function(t){t.setTime(1e3*Math.floor(t/1e3))},function(t,n){t.setTime(+t+1e3*n)},function(t,n){return(n-t)/1e3},function(t){return t.getUTCSeconds()}),Jm=Gm.range,Qm=Ju(function(t){t.setTime(Math.floor(t/Wm)*Wm)},function(t,n){t.setTime(+t+n*Wm)},function(t,n){return(n-t)/Wm},function(t){return t.getMinutes()}),Km=Qm.range,tx=Ju(function(t){var n=t.getTimezoneOffset()*Wm%36e5;n<0&&(n+=36e5),t.setTime(36e5*Math.floor((+t-n)/36e5)+n)},function(t,n){t.setTime(+t+36e5*n)},function(t,n){return(n-t)/36e5},function(t){return t.getHours()}),nx=tx.range,ex=Ju(function(t){t.setHours(0,0,0,0)},function(t,n){t.setDate(t.getDate()+n)},function(t,n){return(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Wm)/864e5},function(t){return t.getDate()-1}),rx=ex.range,ix=Qu(0),ox=Qu(1),ux=Qu(2),ax=Qu(3),cx=Qu(4),sx=Qu(5),fx=Qu(6),lx=ix.range,hx=ox.range,px=ux.range,dx=ax.range,vx=cx.range,_x=sx.range,yx=fx.range,gx=Ju(function(t){t.setDate(1),t.setHours(0,0,0,0)},function(t,n){t.setMonth(t.getMonth()+n)},function(t,n){return n.getMonth()-t.getMonth()+12*(n.getFullYear()-t.getFullYear())},function(t){return t.getMonth()}),mx=gx.range,xx=Ju(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,n){t.setFullYear(t.getFullYear()+n)},function(t,n){return n.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()});xx.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Ju(function(n){n.setFullYear(Math.floor(n.getFullYear()/t)*t),n.setMonth(0,1),n.setHours(0,0,0,0)},function(n,e){n.setFullYear(n.getFullYear()+e*t)}):null};var bx=xx.range,wx=Ju(function(t){t.setUTCSeconds(0,0)},function(t,n){t.setTime(+t+n*Wm)},function(t,n){return(n-t)/Wm},function(t){return t.getUTCMinutes()}),Mx=wx.range,Tx=Ju(function(t){t.setUTCMinutes(0,0,0)},function(t,n){t.setTime(+t+36e5*n)},function(t,n){return(n-t)/36e5},function(t){return t.getUTCHours()}),kx=Tx.range,Nx=Ju(function(t){t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCDate(t.getUTCDate()+n)},function(t,n){return(n-t)/864e5},function(t){return t.getUTCDate()-1}),Sx=Nx.range,Ex=Ku(0),Ax=Ku(1),Cx=Ku(2),zx=Ku(3),Px=Ku(4),Lx=Ku(5),Rx=Ku(6),qx=Ex.range,Ux=Ax.range,Dx=Cx.range,Ox=zx.range,Fx=Px.range,Ix=Lx.range,Yx=Rx.range,Bx=Ju(function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCMonth(t.getUTCMonth()+n)},function(t,n){return n.getUTCMonth()-t.getUTCMonth()+12*(n.getUTCFullYear()-t.getUTCFullYear())},function(t){return t.getUTCMonth()}),Hx=Bx.range,jx=Ju(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n)},function(t,n){return n.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()});jx.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Ju(function(n){n.setUTCFullYear(Math.floor(n.getUTCFullYear()/t)*t),n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)},function(n,e){n.setUTCFullYear(n.getUTCFullYear()+e*t)}):null};var Xx,$x=jx.range,Vx={"-":"",_:" ",0:"0"},Wx=/^\s*\d+/,Zx=/^%/,Gx=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;Ja({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var Jx=Date.prototype.toISOString?Qa:t.utcFormat("%Y-%m-%dT%H:%M:%S.%LZ"),Qx=+new Date("2000-01-01T00:00:00.000Z")?Ka:t.utcParse("%Y-%m-%dT%H:%M:%S.%LZ"),Kx=1e3,tb=60*Kx,nb=60*tb,eb=24*nb,rb=7*eb,ib=30*eb,ob=365*eb,ub=function(){return ec(xx,gx,ix,ex,tx,Qm,Gm,$m,t.timeFormat).domain([new Date(2e3,0,1),new Date(2e3,0,2)])},ab=function(){return ec(jx,Bx,Ex,Nx,Tx,wx,Gm,$m,t.utcFormat).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)])},cb=function(t){return t.match(/.{6}/g).map(function(t){return"#"+t})},sb=cb("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),fb=cb("393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6"),lb=cb("3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9"),hb=cb("1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5"),pb=Zh(Wt(300,.5,0),Wt(-240,.5,1)),db=Zh(Wt(-100,.75,.35),Wt(80,1.5,.8)),vb=Zh(Wt(260,.75,.35),Wt(80,1.5,.8)),_b=Wt(),yb=function(t){(t<0||t>1)&&(t-=Math.floor(t));var n=Math.abs(t-.5);return _b.h=360*t-100,_b.s=1.5-1.5*n,_b.l=.8-.9*n,_b+""},gb=rc(cb("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),mb=rc(cb("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),xb=rc(cb("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),bb=rc(cb("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921")),wb=function(t){return function(){return t}},Mb=Math.abs,Tb=Math.atan2,kb=Math.cos,Nb=Math.max,Sb=Math.min,Eb=Math.sin,Ab=Math.sqrt,Cb=1e-12,zb=Math.PI,Pb=zb/2,Lb=2*zb,Rb=function(){function t(){var t,s,f=+n.apply(this,arguments),l=+e.apply(this,arguments),h=o.apply(this,arguments)-Pb,p=u.apply(this,arguments)-Pb,d=Mb(p-h),v=p>h;if(c||(c=t=Ue()),l<f&&(s=l,l=f,f=s),l>Cb)if(d>Lb-Cb)c.moveTo(l*kb(h),l*Eb(h)),c.arc(0,0,l,h,p,!v),f>Cb&&(c.moveTo(f*kb(p),f*Eb(p)),c.arc(0,0,f,p,h,v));else{var _,y,g=h,m=p,x=h,b=p,w=d,M=d,T=a.apply(this,arguments)/2,k=T>Cb&&(i?+i.apply(this,arguments):Ab(f*f+l*l)),N=Sb(Mb(l-f)/2,+r.apply(this,arguments)),S=N,E=N;if(k>Cb){var A=uc(k/f*Eb(T)),C=uc(k/l*Eb(T));(w-=2*A)>Cb?(A*=v?1:-1,x+=A,b-=A):(w=0,x=b=(h+p)/2),(M-=2*C)>Cb?(C*=v?1:-1,g+=C,m-=C):(M=0,g=m=(h+p)/2)}var z=l*kb(g),P=l*Eb(g),L=f*kb(b),R=f*Eb(b);if(N>Cb){var q=l*kb(m),U=l*Eb(m),D=f*kb(x),O=f*Eb(x);if(d<zb){var F=w>Cb?hc(z,P,D,O,q,U,L,R):[L,R],I=z-F[0],Y=P-F[1],B=q-F[0],H=U-F[1],j=1/Eb(oc((I*B+Y*H)/(Ab(I*I+Y*Y)*Ab(B*B+H*H)))/2),X=Ab(F[0]*F[0]+F[1]*F[1]);S=Sb(N,(f-X)/(j-1)),E=Sb(N,(l-X)/(j+1))}}M>Cb?E>Cb?(_=pc(D,O,z,P,l,E,v),y=pc(q,U,L,R,l,E,v),c.moveTo(_.cx+_.x01,_.cy+_.y01),E<N?c.arc(_.cx,_.cy,E,Tb(_.y01,_.x01),Tb(y.y01,y.x01),!v):(c.arc(_.cx,_.cy,E,Tb(_.y01,_.x01),Tb(_.y11,_.x11),!v),c.arc(0,0,l,Tb(_.cy+_.y11,_.cx+_.x11),Tb(y.cy+y.y11,y.cx+y.x11),!v),c.arc(y.cx,y.cy,E,Tb(y.y11,y.x11),Tb(y.y01,y.x01),!v))):(c.moveTo(z,P),c.arc(0,0,l,g,m,!v)):c.moveTo(z,P),f>Cb&&w>Cb?S>Cb?(_=pc(L,R,q,U,f,-S,v),y=pc(z,P,D,O,f,-S,v),c.lineTo(_.cx+_.x01,_.cy+_.y01),S<N?c.arc(_.cx,_.cy,S,Tb(_.y01,_.x01),Tb(y.y01,y.x01),!v):(c.arc(_.cx,_.cy,S,Tb(_.y01,_.x01),Tb(_.y11,_.x11),!v),c.arc(0,0,f,Tb(_.cy+_.y11,_.cx+_.x11),Tb(y.cy+y.y11,y.cx+y.x11),v),c.arc(y.cx,y.cy,S,Tb(y.y11,y.x11),Tb(y.y01,y.x01),!v))):c.arc(0,0,f,b,x,v):c.lineTo(L,R)}else c.moveTo(0,0);if(c.closePath(),t)return c=null,t+""||null}var n=ac,e=cc,r=wb(0),i=null,o=sc,u=fc,a=lc,c=null;return t.centroid=function(){var t=(+n.apply(this,arguments)+ +e.apply(this,arguments))/2,r=(+o.apply(this,arguments)+ +u.apply(this,arguments))/2-zb/2;return[kb(r)*t,Eb(r)*t]},t.innerRadius=function(e){return arguments.length?(n="function"==typeof e?e:wb(+e),t):n},t.outerRadius=function(n){return arguments.length?(e="function"==typeof n?n:wb(+n),t):e},t.cornerRadius=function(n){return arguments.length?(r="function"==typeof n?n:wb(+n),t):r},t.padRadius=function(n){return arguments.length?(i=null==n?null:"function"==typeof n?n:wb(+n),t):i},t.startAngle=function(n){return arguments.length?(o="function"==typeof n?n:wb(+n),t):o},t.endAngle=function(n){return arguments.length?(u="function"==typeof n?n:wb(+n),t):u},t.padAngle=function(n){return arguments.length?(a="function"==typeof n?n:wb(+n),t):a},t.context=function(n){return arguments.length?(c=null==n?null:n,t):c},t};dc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:this._context.lineTo(t,n)}}};var qb=function(t){return new dc(t)},Ub=function(){function t(t){var a,c,s,f=t.length,l=!1;for(null==i&&(u=o(s=Ue())),a=0;a<=f;++a)!(a<f&&r(c=t[a],a,t))===l&&((l=!l)?u.lineStart():u.lineEnd()),l&&u.point(+n(c,a,t),+e(c,a,t));if(s)return u=null,s+""||null}var n=vc,e=_c,r=wb(!0),i=null,o=qb,u=null;return t.x=function(e){return arguments.length?(n="function"==typeof e?e:wb(+e),t):n},t.y=function(n){return arguments.length?(e="function"==typeof n?n:wb(+n),t):e},t.defined=function(n){return arguments.length?(r="function"==typeof n?n:wb(!!n),t):r},t.curve=function(n){return arguments.length?(o=n,null!=i&&(u=o(i)),t):o},t.context=function(n){return arguments.length?(null==n?i=u=null:u=o(i=n),t):i},t},Db=function(){function t(t){var n,f,l,h,p,d=t.length,v=!1,_=new Array(d),y=new Array(d);for(null==a&&(s=c(p=Ue())),n=0;n<=d;++n){if(!(n<d&&u(h=t[n],n,t))===v)if(v=!v)f=n,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),l=n-1;l>=f;--l)s.point(_[l],y[l]);s.lineEnd(),s.areaEnd()}v&&(_[n]=+e(h,n,t),y[n]=+i(h,n,t),s.point(r?+r(h,n,t):_[n],o?+o(h,n,t):y[n]))}if(p)return s=null,p+""||null}function n(){return Ub().defined(u).curve(c).context(a)}var e=vc,r=null,i=wb(0),o=_c,u=wb(!0),a=null,c=qb,s=null;return t.x=function(n){return arguments.length?(e="function"==typeof n?n:wb(+n),r=null,t):e},t.x0=function(n){return arguments.length?(e="function"==typeof n?n:wb(+n),t):e},t.x1=function(n){return arguments.length?(r=null==n?null:"function"==typeof n?n:wb(+n),t):r},t.y=function(n){return arguments.length?(i="function"==typeof n?n:wb(+n),o=null,t):i},t.y0=function(n){return arguments.length?(i="function"==typeof n?n:wb(+n),t):i},t.y1=function(n){return arguments.length?(o=null==n?null:"function"==typeof n?n:wb(+n),t):o},t.lineX0=t.lineY0=function(){return n().x(e).y(i)},t.lineY1=function(){return n().x(e).y(o)},t.lineX1=function(){return n().x(r).y(i)},t.defined=function(n){return arguments.length?(u="function"==typeof n?n:wb(!!n),t):u},t.curve=function(n){return arguments.length?(c=n,null!=a&&(s=c(a)),t):c},t.context=function(n){return arguments.length?(null==n?a=s=null:s=c(a=n),t):a},t},Ob=function(t,n){return n<t?-1:n>t?1:n>=t?0:NaN},Fb=function(t){return t},Ib=function(){function t(t){var a,c,s,f,l,h=t.length,p=0,d=new Array(h),v=new Array(h),_=+i.apply(this,arguments),y=Math.min(Lb,Math.max(-Lb,o.apply(this,arguments)-_)),g=Math.min(Math.abs(y)/h,u.apply(this,arguments)),m=g*(y<0?-1:1);for(a=0;a<h;++a)(l=v[d[a]=a]=+n(t[a],a,t))>0&&(p+=l);for(null!=e?d.sort(function(t,n){return e(v[t],v[n])}):null!=r&&d.sort(function(n,e){return r(t[n],t[e])}),a=0,s=p?(y-h*m)/p:0;a<h;++a,_=f)c=d[a],l=v[c],f=_+(l>0?l*s:0)+m,v[c]={data:t[c],index:a,value:l,startAngle:_,endAngle:f,padAngle:g};return v}var n=Fb,e=Ob,r=null,i=wb(0),o=wb(Lb),u=wb(0);return t.value=function(e){return arguments.length?(n="function"==typeof e?e:wb(+e),t):n},t.sortValues=function(n){return arguments.length?(e=n,r=null,t):e},t.sort=function(n){return arguments.length?(r=n,e=null,t):r},t.startAngle=function(n){return arguments.length?(i="function"==typeof n?n:wb(+n),t):i},t.endAngle=function(n){return arguments.length?(o="function"==typeof n?n:wb(+n),t):o},t.padAngle=function(n){return arguments.length?(u="function"==typeof n?n:wb(+n),t):u},t},Yb=gc(qb);yc.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,n){this._curve.point(n*Math.sin(t),n*-Math.cos(t))}};var Bb=function(){return mc(Ub().curve(Yb))},Hb=function(){var t=Db().curve(Yb),n=t.curve,e=t.lineX0,r=t.lineX1,i=t.lineY0,o=t.lineY1;return t.angle=t.x,delete t.x,t.startAngle=t.x0,delete t.x0,t.endAngle=t.x1,delete t.x1,t.radius=t.y,delete t.y,t.innerRadius=t.y0,delete t.y0,t.outerRadius=t.y1,delete t.y1,t.lineStartAngle=function(){return mc(e())},delete t.lineX0,t.lineEndAngle=function(){return mc(r())},delete t.lineX1,t.lineInnerRadius=function(){return mc(i())},delete t.lineY0,t.lineOuterRadius=function(){return mc(o())},delete t.lineY1,t.curve=function(t){return arguments.length?n(gc(t)):n()._curve},t},jb=Array.prototype.slice,Xb=function(t,n){return[(n=+n)*Math.cos(t-=Math.PI/2),n*Math.sin(t)]},$b={draw:function(t,n){var e=Math.sqrt(n/zb);t.moveTo(e,0),t.arc(0,0,e,0,Lb)}},Vb={draw:function(t,n){var e=Math.sqrt(n/5)/2;t.moveTo(-3*e,-e),t.lineTo(-e,-e),t.lineTo(-e,-3*e),t.lineTo(e,-3*e),t.lineTo(e,-e),t.lineTo(3*e,-e),t.lineTo(3*e,e),t.lineTo(e,e),t.lineTo(e,3*e),t.lineTo(-e,3*e),t.lineTo(-e,e),t.lineTo(-3*e,e),t.closePath()}},Wb=Math.sqrt(1/3),Zb=2*Wb,Gb={draw:function(t,n){var e=Math.sqrt(n/Zb),r=e*Wb;t.moveTo(0,-e),t.lineTo(r,0),t.lineTo(0,e),t.lineTo(-r,0),t.closePath()}},Jb=Math.sin(zb/10)/Math.sin(7*zb/10),Qb=Math.sin(Lb/10)*Jb,Kb=-Math.cos(Lb/10)*Jb,tw={draw:function(t,n){var e=Math.sqrt(.8908130915292852*n),r=Qb*e,i=Kb*e;t.moveTo(0,-e),t.lineTo(r,i);for(var o=1;o<5;++o){var u=Lb*o/5,a=Math.cos(u),c=Math.sin(u);t.lineTo(c*e,-a*e),t.lineTo(a*r-c*i,c*r+a*i)}t.closePath()}},nw={draw:function(t,n){var e=Math.sqrt(n),r=-e/2;t.rect(r,r,e,e)}},ew=Math.sqrt(3),rw={draw:function(t,n){var e=-Math.sqrt(n/(3*ew));t.moveTo(0,2*e),t.lineTo(-ew*e,-e),t.lineTo(ew*e,-e),t.closePath()}},iw=-.5,ow=Math.sqrt(3)/2,uw=1/Math.sqrt(12),aw=3*(uw/2+1),cw={draw:function(t,n){var e=Math.sqrt(n/aw),r=e/2,i=e*uw,o=r,u=e*uw+e,a=-o,c=u;t.moveTo(r,i),t.lineTo(o,u),t.lineTo(a,c),t.lineTo(iw*r-ow*i,ow*r+iw*i),t.lineTo(iw*o-ow*u,ow*o+iw*u),t.lineTo(iw*a-ow*c,ow*a+iw*c),t.lineTo(iw*r+ow*i,iw*i-ow*r),t.lineTo(iw*o+ow*u,iw*u-ow*o),t.lineTo(iw*a+ow*c,iw*c-ow*a),t.closePath()}},sw=[$b,Vb,Gb,nw,tw,rw,cw],fw=function(){function t(){var t;if(r||(r=t=Ue()),n.apply(this,arguments).draw(r,+e.apply(this,arguments)),t)return r=null,t+""||null}var n=wb($b),e=wb(64),r=null;return t.type=function(e){return arguments.length?(n="function"==typeof e?e:wb(e),t):n},t.size=function(n){return arguments.length?(e="function"==typeof n?n:wb(+n),t):e},t.context=function(n){return arguments.length?(r=null==n?null:n,t):r},t},lw=function(){};Cc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Ac(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Ac(this,t,n)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}};var hw=function(t){return new Cc(t)};zc.prototype={areaStart:lw,areaEnd:lw,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._x2=t,this._y2=n;break;case 1:this._point=2,this._x3=t,this._y3=n;break;case 2:this._point=3,this._x4=t,this._y4=n,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+n)/6);break;default:Ac(this,t,n)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}};var pw=function(t){return new zc(t)};Pc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var e=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+n)/6;this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break;case 3:this._point=4;default:Ac(this,t,n)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}};var dw=function(t){return new Pc(t)};Lc.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,n=this._y,e=t.length-1;if(e>0)for(var r,i=t[0],o=n[0],u=t[e]-i,a=n[e]-o,c=-1;++c<=e;)r=c/e,this._basis.point(this._beta*t[c]+(1-this._beta)*(i+r*u),this._beta*n[c]+(1-this._beta)*(o+r*a));this._x=this._y=null,this._basis.lineEnd()},point:function(t,n){this._x.push(+t),this._y.push(+n)}};var vw=function t(n){function e(t){return 1===n?new Cc(t):new Lc(t,n)}return e.beta=function(n){return t(+n)},e}(.85);qc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Rc(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2,this._x1=t,this._y1=n;break;case 2:this._point=3;default:Rc(this,t,n)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,
this._y1=this._y2,this._y2=n}};var _w=function t(n){function e(t){return new qc(t,n)}return e.tension=function(n){return t(+n)},e}(0);Uc.prototype={areaStart:lw,areaEnd:lw,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._x3=t,this._y3=n;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=n);break;case 2:this._point=3,this._x5=t,this._y5=n;break;default:Rc(this,t,n)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var yw=function t(n){function e(t){return new Uc(t,n)}return e.tension=function(n){return t(+n)},e}(0);Dc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Rc(this,t,n)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var gw=function t(n){function e(t){return new Dc(t,n)}return e.tension=function(n){return t(+n)},e}(0);Fc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,r=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3;default:Oc(this,t,n)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var mw=function t(n){function e(t){return n?new Fc(t,n):new qc(t,0)}return e.alpha=function(n){return t(+n)},e}(.5);Ic.prototype={areaStart:lw,areaEnd:lw,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,r=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=n;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=n);break;case 2:this._point=3,this._x5=t,this._y5=n;break;default:Oc(this,t,n)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var xw=function t(n){function e(t){return n?new Ic(t,n):new Uc(t,0)}return e.alpha=function(n){return t(+n)},e}(.5);Yc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,r=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Oc(this,t,n)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var bw=function t(n){function e(t){return n?new Yc(t,n):new Dc(t,0)}return e.alpha=function(n){return t(+n)},e}(.5);Bc.prototype={areaStart:lw,areaEnd:lw,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,n){t=+t,n=+n,this._point?this._context.lineTo(t,n):(this._point=1,this._context.moveTo(t,n))}};var ww=function(t){return new Bc(t)};Vc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:$c(this,this._t0,Xc(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){var e=NaN;if(t=+t,n=+n,t!==this._x1||n!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3,$c(this,Xc(this,e=jc(this,t,n)),e);break;default:$c(this,this._t0,e=jc(this,t,n))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n,this._t0=e}}},(Wc.prototype=Object.create(Vc.prototype)).point=function(t,n){Vc.prototype.point.call(this,n,t)},Zc.prototype={moveTo:function(t,n){this._context.moveTo(n,t)},closePath:function(){this._context.closePath()},lineTo:function(t,n){this._context.lineTo(n,t)},bezierCurveTo:function(t,n,e,r,i,o){this._context.bezierCurveTo(n,t,r,e,o,i)}},Qc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,n=this._y,e=t.length;if(e)if(this._line?this._context.lineTo(t[0],n[0]):this._context.moveTo(t[0],n[0]),2===e)this._context.lineTo(t[1],n[1]);else for(var r=Kc(t),i=Kc(n),o=0,u=1;u<e;++o,++u)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[u],n[u]);(this._line||0!==this._line&&1===e)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,n){this._x.push(+t),this._y.push(+n)}};var Mw=function(t){return new Qc(t)};ts.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,n),this._context.lineTo(t,n);else{var e=this._x*(1-this._t)+t*this._t;this._context.lineTo(e,this._y),this._context.lineTo(e,n)}}this._x=t,this._y=n}};var Tw=function(t){return new ts(t,.5)},kw=function(t,n){if((i=t.length)>1)for(var e,r,i,o=1,u=t[n[0]],a=u.length;o<i;++o)for(r=u,u=t[n[o]],e=0;e<a;++e)u[e][1]+=u[e][0]=isNaN(r[e][1])?r[e][0]:r[e][1]},Nw=function(t){for(var n=t.length,e=new Array(n);--n>=0;)e[n]=n;return e},Sw=function(){function t(t){var o,u,a=n.apply(this,arguments),c=t.length,s=a.length,f=new Array(s);for(o=0;o<s;++o){for(var l,h=a[o],p=f[o]=new Array(c),d=0;d<c;++d)p[d]=l=[0,+i(t[d],h,d,t)],l.data=t[d];p.key=h}for(o=0,u=e(f);o<s;++o)f[u[o]].index=o;return r(f,u),f}var n=wb([]),e=Nw,r=kw,i=rs;return t.keys=function(e){return arguments.length?(n="function"==typeof e?e:wb(jb.call(e)),t):n},t.value=function(n){return arguments.length?(i="function"==typeof n?n:wb(+n),t):i},t.order=function(n){return arguments.length?(e=null==n?Nw:"function"==typeof n?n:wb(jb.call(n)),t):e},t.offset=function(n){return arguments.length?(r=null==n?kw:n,t):r},t},Ew=function(t,n){if((r=t.length)>0){for(var e,r,i,o=0,u=t[0].length;o<u;++o){for(i=e=0;e<r;++e)i+=t[e][o][1]||0;if(i)for(e=0;e<r;++e)t[e][o][1]/=i}kw(t,n)}},Aw=function(t,n){if((a=t.length)>1)for(var e,r,i,o,u,a,c=0,s=t[n[0]].length;c<s;++c)for(o=u=0,e=0;e<a;++e)(i=(r=t[n[e]][c])[1]-r[0])>=0?(r[0]=o,r[1]=o+=i):i<0?(r[1]=u,r[0]=u+=i):r[0]=o},Cw=function(t,n){if((e=t.length)>0){for(var e,r=0,i=t[n[0]],o=i.length;r<o;++r){for(var u=0,a=0;u<e;++u)a+=t[u][r][1]||0;i[r][1]+=i[r][0]=-a/2}kw(t,n)}},zw=function(t,n){if((i=t.length)>0&&(r=(e=t[n[0]]).length)>0){for(var e,r,i,o=0,u=1;u<r;++u){for(var a=0,c=0,s=0;a<i;++a){for(var f=t[n[a]],l=f[u][1]||0,h=f[u-1][1]||0,p=(l-h)/2,d=0;d<a;++d){var v=t[n[d]];p+=(v[u][1]||0)-(v[u-1][1]||0)}c+=l,s+=p*l}e[u-1][1]+=e[u-1][0]=o,c&&(o-=s/c)}e[u-1][1]+=e[u-1][0]=o,kw(t,n)}},Pw=function(t){var n=t.map(is);return Nw(t).sort(function(t,e){return n[t]-n[e]})},Lw=function(t){return Pw(t).reverse()},Rw=function(t){var n,e,r=t.length,i=t.map(is),o=Nw(t).sort(function(t,n){return i[n]-i[t]}),u=0,a=0,c=[],s=[];for(n=0;n<r;++n)e=o[n],u<a?(u+=i[e],c.push(e)):(a+=i[e],s.push(e));return s.reverse().concat(c)},qw=function(t){return Nw(t).reverse()},Uw=function(t){return function(){return t}};as.prototype={constructor:as,insert:function(t,n){var e,r,i;if(t){if(n.P=t,n.N=t.N,t.N&&(t.N.P=n),t.N=n,t.R){for(t=t.R;t.L;)t=t.L;t.L=n}else t.R=n;e=t}else this._?(t=ls(this._),n.P=null,n.N=t,t.P=t.L=n,e=t):(n.P=n.N=null,this._=n,e=null);for(n.L=n.R=null,n.U=e,n.C=!0,t=n;e&&e.C;)r=e.U,e===r.L?(i=r.R,i&&i.C?(e.C=i.C=!1,r.C=!0,t=r):(t===e.R&&(ss(this,e),t=e,e=t.U),e.C=!1,r.C=!0,fs(this,r))):(i=r.L,i&&i.C?(e.C=i.C=!1,r.C=!0,t=r):(t===e.L&&(fs(this,e),t=e,e=t.U),e.C=!1,r.C=!0,ss(this,r))),e=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var n,e,r,i=t.U,o=t.L,u=t.R;if(e=o?u?ls(u):o:u,i?i.L===t?i.L=e:i.R=e:this._=e,o&&u?(r=e.C,e.C=t.C,e.L=o,o.U=e,e!==u?(i=e.U,e.U=t.U,t=e.R,i.L=t,e.R=u,u.U=e):(e.U=i,i=e,t=e.R)):(r=t.C,t=e),t&&(t.U=i),!r){if(t&&t.C)return void(t.C=!1);do{if(t===this._)break;if(t===i.L){if(n=i.R,n.C&&(n.C=!1,i.C=!0,ss(this,i),n=i.R),n.L&&n.L.C||n.R&&n.R.C){n.R&&n.R.C||(n.L.C=!1,n.C=!0,fs(this,n),n=i.R),n.C=i.C,i.C=n.R.C=!1,ss(this,i),t=this._;break}}else if(n=i.L,n.C&&(n.C=!1,i.C=!0,fs(this,i),n=i.L),n.L&&n.L.C||n.R&&n.R.C){n.L&&n.L.C||(n.R.C=!1,n.C=!0,ss(this,n),n=i.L),n.C=i.C,i.C=n.L.C=!1,fs(this,i),t=this._;break}n.C=!0,t=i,i=i.U}while(!t.C);t&&(t.C=!1)}}};var Dw,Ow,Fw,Iw,Yw,Bw=[],Hw=[],jw=1e-6,Xw=1e-12;Us.prototype={constructor:Us,polygons:function(){var t=this.edges;return this.cells.map(function(n){var e=n.halfedges.map(function(e){return xs(n,t[e])});return e.data=n.site.data,e})},triangles:function(){var t=[],n=this.edges;return this.cells.forEach(function(e,r){if(o=(i=e.halfedges).length)for(var i,o,u,a=e.site,c=-1,s=n[i[o-1]],f=s.left===a?s.right:s.left;++c<o;)u=f,s=n[i[c]],f=s.left===a?s.right:s.left,u&&f&&r<u.index&&r<f.index&&Rs(a,u,f)<0&&t.push([a.data,u.data,f.data])}),t},links:function(){return this.edges.filter(function(t){return t.right}).map(function(t){return{source:t.left.data,target:t.right.data}})},find:function(t,n,e){for(var r,i,o=this,u=o._found||0,a=o.cells.length;!(i=o.cells[u]);)if(++u>=a)return null;var c=t-i.site[0],s=n-i.site[1],f=c*c+s*s;do{i=o.cells[r=u],u=null,i.halfedges.forEach(function(e){var r=o.edges[e],a=r.left;if(a!==i.site&&a||(a=r.right)){var c=t-a[0],s=n-a[1],l=c*c+s*s;l<f&&(f=l,u=a.index)}})}while(null!==u);return o._found=r,null==e||f<=e*e?i.site:null}};var $w=function(){function t(t){return new Us(t.map(function(r,i){var o=[Math.round(n(r,i,t)/jw)*jw,Math.round(e(r,i,t)/jw)*jw];return o.index=i,o.data=r,o}),r)}var n=os,e=us,r=null;return t.polygons=function(n){return t(n).polygons()},t.links=function(n){return t(n).links()},t.triangles=function(n){return t(n).triangles()},t.x=function(e){return arguments.length?(n="function"==typeof e?e:Uw(+e),t):n},t.y=function(n){return arguments.length?(e="function"==typeof n?n:Uw(+n),t):e},t.extent=function(n){return arguments.length?(r=null==n?null:[[+n[0][0],+n[0][1]],[+n[1][0],+n[1][1]]],t):r&&[[r[0][0],r[0][1]],[r[1][0],r[1][1]]]},t.size=function(n){return arguments.length?(r=null==n?null:[[0,0],[+n[0],+n[1]]],t):r&&[r[1][0]-r[0][0],r[1][1]-r[0][1]]},t},Vw=function(t){return function(){return t}};Os.prototype={constructor:Os,scale:function(t){return 1===t?this:new Os(this.k*t,this.x,this.y)},translate:function(t,n){return 0===t&0===n?this:new Os(this.k,this.x+this.k*t,this.y+this.k*n)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Ww=new Os(1,0,0);Fs.prototype=Os.prototype;var Zw=function(){t.event.preventDefault(),t.event.stopImmediatePropagation()},Gw=function(){function n(t){t.on("wheel.zoom",s).on("mousedown.zoom",f).on("dblclick.zoom",l).on("touchstart.zoom",h).on("touchmove.zoom",p).on("touchend.zoom touchcancel.zoom",d).style("-webkit-tap-highlight-color","rgba(0,0,0,0)").property("__zoom",Hs)}function e(t,n){return n=Math.max(x,Math.min(b,n)),n===t.k?t:new Os(n,t.x,t.y)}function r(t,n,e){var r=n[0]-e[0]*t.k,i=n[1]-e[1]*t.k;return r===t.x&&i===t.y?t:new Os(t.k,r,i)}function i(t,n){var e=t.invertX(n[0][0])-w,r=t.invertX(n[1][0])-M,i=t.invertY(n[0][1])-T,o=t.invertY(n[1][1])-k;return t.translate(r>e?(e+r)/2:Math.min(0,e)||Math.max(0,r),o>i?(i+o)/2:Math.min(0,i)||Math.max(0,o))}function o(t){return[(+t[0][0]+ +t[1][0])/2,(+t[0][1]+ +t[1][1])/2]}function u(t,n,e){t.on("start.zoom",function(){a(this,arguments).start()}).on("interrupt.zoom end.zoom",function(){a(this,arguments).end()}).tween("zoom",function(){var t=this,r=arguments,i=a(t,r),u=m.apply(t,r),c=e||o(u),s=Math.max(u[1][0]-u[0][0],u[1][1]-u[0][1]),f=t.__zoom,l="function"==typeof n?n.apply(t,r):n,h=S(f.invert(c).concat(s/f.k),l.invert(c).concat(s/l.k));return function(t){if(1===t)t=l;else{var n=h(t),e=s/n[2];t=new Os(e,c[0]-n[0]*e,c[1]-n[1]*e)}i.zoom(null,t)}})}function a(t,n){for(var e,r=0,i=E.length;r<i;++r)if((e=E[r]).that===t)return e;return new c(t,n)}function c(t,n){this.that=t,this.args=n,this.index=-1,this.active=0,this.extent=m.apply(t,n)}function s(){function n(){o.wheel=null,o.end()}if(g.apply(this,arguments)){var o=a(this,arguments),u=this.__zoom,c=Math.max(x,Math.min(b,u.k*Math.pow(2,-t.event.deltaY*(t.event.deltaMode?120:1)/500))),s=Gf(this);if(o.wheel)o.mouse[0][0]===s[0]&&o.mouse[0][1]===s[1]||(o.mouse[1]=u.invert(o.mouse[0]=s)),clearTimeout(o.wheel);else{if(u.k===c)return;o.mouse=[s,u.invert(s)],gp(this),o.start()}Zw(),o.wheel=setTimeout(n,P),o.zoom("mouse",i(r(e(u,c),o.mouse[0],o.mouse[1]),o.extent))}}function f(){function n(){if(Zw(),!o.moved){var n=t.event.clientX-s,e=t.event.clientY-f;o.moved=n*n+e*e>L}o.zoom("mouse",i(r(o.that.__zoom,o.mouse[0]=Gf(o.that),o.mouse[1]),o.extent))}function e(){u.on("mousemove.zoom mouseup.zoom",null),mt(t.event.view,o.moved),Zw(),o.end()}if(!y&&g.apply(this,arguments)){var o=a(this,arguments),u=Pl(t.event.view).on("mousemove.zoom",n,!0).on("mouseup.zoom",e,!0),c=Gf(this),s=t.event.clientX,f=t.event.clientY;Dl(t.event.view),Is(),o.mouse=[c,this.__zoom.invert(c)],gp(this),o.start()}}function l(){if(g.apply(this,arguments)){var o=this.__zoom,a=Gf(this),c=o.invert(a),s=o.k*(t.event.shiftKey?.5:2),f=i(r(e(o,s),a,c),m.apply(this,arguments));Zw(),N>0?Pl(this).transition().duration(N).call(u,f,a):Pl(this).call(n.transform,f)}}function h(){if(g.apply(this,arguments)){var n,e,r,i,o=a(this,arguments),u=t.event.changedTouches,c=u.length;for(Is(),e=0;e<c;++e)r=u[e],i=Rl(this,u,r.identifier),i=[i,this.__zoom.invert(i),r.identifier],o.touch0?o.touch1||(o.touch1=i):(o.touch0=i,n=!0);if(_&&(_=clearTimeout(_),!o.touch1))return o.end(),void((i=Pl(this).on("dblclick.zoom"))&&i.apply(this,arguments));n&&(_=setTimeout(function(){_=null},z),gp(this),o.start())}}function p(){var n,o,u,c,s=a(this,arguments),f=t.event.changedTouches,l=f.length;for(Zw(),_&&(_=clearTimeout(_)),n=0;n<l;++n)o=f[n],u=Rl(this,f,o.identifier),s.touch0&&s.touch0[2]===o.identifier?s.touch0[0]=u:s.touch1&&s.touch1[2]===o.identifier&&(s.touch1[0]=u);if(o=s.that.__zoom,s.touch1){var h=s.touch0[0],p=s.touch0[1],d=s.touch1[0],v=s.touch1[1],y=(y=d[0]-h[0])*y+(y=d[1]-h[1])*y,g=(g=v[0]-p[0])*g+(g=v[1]-p[1])*g;o=e(o,Math.sqrt(y/g)),u=[(h[0]+d[0])/2,(h[1]+d[1])/2],c=[(p[0]+v[0])/2,(p[1]+v[1])/2]}else{if(!s.touch0)return;u=s.touch0[0],c=s.touch0[1]}s.zoom("touch",i(r(o,u,c),s.extent))}function d(){var n,e,r=a(this,arguments),i=t.event.changedTouches,o=i.length;for(Is(),y&&clearTimeout(y),y=setTimeout(function(){y=null},z),n=0;n<o;++n)e=i[n],r.touch0&&r.touch0[2]===e.identifier?delete r.touch0:r.touch1&&r.touch1[2]===e.identifier&&delete r.touch1;r.touch1&&!r.touch0&&(r.touch0=r.touch1,delete r.touch1),r.touch0?r.touch0[1]=this.__zoom.invert(r.touch0[0]):r.end()}var _,y,g=Ys,m=Bs,x=0,b=1/0,w=-b,M=b,T=w,k=M,N=250,S=Hh,E=[],C=v("start","zoom","end"),z=500,P=150,L=0;return n.transform=function(t,n){var e=t.selection?t.selection():t;e.property("__zoom",Hs),t!==e?u(t,n):e.interrupt().each(function(){a(this,arguments).start().zoom(null,"function"==typeof n?n.apply(this,arguments):n).end()})},n.scaleBy=function(t,e){n.scaleTo(t,function(){return this.__zoom.k*("function"==typeof e?e.apply(this,arguments):e)})},n.scaleTo=function(t,u){n.transform(t,function(){var t=m.apply(this,arguments),n=this.__zoom,a=o(t),c=n.invert(a);return i(r(e(n,"function"==typeof u?u.apply(this,arguments):u),a,c),t)})},n.translateBy=function(t,e,r){n.transform(t,function(){return i(this.__zoom.translate("function"==typeof e?e.apply(this,arguments):e,"function"==typeof r?r.apply(this,arguments):r),m.apply(this,arguments))})},c.prototype={start:function(){return 1==++this.active&&(this.index=E.push(this)-1,this.emit("start")),this},zoom:function(t,n){return this.mouse&&"mouse"!==t&&(this.mouse[1]=n.invert(this.mouse[0])),this.touch0&&"touch"!==t&&(this.touch0[1]=n.invert(this.touch0[0])),this.touch1&&"touch"!==t&&(this.touch1[1]=n.invert(this.touch1[0])),this.that.__zoom=n,this.emit("zoom"),this},end:function(){return 0==--this.active&&(E.splice(this.index,1),this.index=-1,this.emit("end")),this},emit:function(t){A(new Ds(n,t,this.that.__zoom),C.apply,C,[t,this.that,this.args])}},n.filter=function(t){return arguments.length?(g="function"==typeof t?t:Vw(!!t),n):g},n.extent=function(t){return arguments.length?(m="function"==typeof t?t:Vw([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),n):m},n.scaleExtent=function(t){return arguments.length?(x=+t[0],b=+t[1],n):[x,b]},n.translateExtent=function(t){return arguments.length?(w=+t[0][0],M=+t[1][0],T=+t[0][1],k=+t[1][1],n):[[w,T],[M,k]]},n.duration=function(t){return arguments.length?(N=+t,n):N},n.interpolate=function(t){return arguments.length?(S=t,n):S},n.on=function(){var t=C.on.apply(C,arguments);return t===C?n:t},n.clickDistance=function(t){return arguments.length?(L=(t=+t)*t,n):Math.sqrt(L)},n};t.version="4.9.1",t.bisect=Vs,t.bisectRight=Vs,t.bisectLeft=Ws,t.ascending=js,t.bisector=Xs,t.cross=Gs,t.descending=Js,t.deviation=tf,t.extent=nf,t.histogram=df,t.thresholdFreedmanDiaconis=_f,t.thresholdScott=yf,t.thresholdSturges=pf,t.max=gf,t.mean=mf,t.median=xf,t.merge=bf,t.min=wf,t.pairs=Zs,t.permute=Mf,t.quantile=vf,t.range=cf,t.scan=Tf,t.shuffle=kf,t.sum=Nf,t.ticks=hf,t.tickIncrement=r,t.tickStep=i,t.transpose=Sf,t.variance=Ks,t.zip=Ef,t.axisTop=l,t.axisRight=h,t.axisBottom=p,t.axisLeft=d,t.brush=Ed,t.brushX=ze,t.brushY=Pe,t.brushSelection=Ce,t.chord=qd,t.ribbon=Yd,t.nest=Bd,t.set=Ze,t.map=He,t.keys=jd,t.values=Xd,t.entries=$d,t.color=Nt,t.rgb=Ct,t.hsl=Rt,t.lab=Ot,t.hcl=Xt,t.cubehelix=Wt,t.dispatch=v,t.drag=Fl,t.dragDisable=Dl,t.dragEnable=mt,t.dsvFormat=Vd,t.csvParse=Zd,t.csvParseRows=Gd,t.csvFormat=Jd,t.csvFormatRows=Qd,t.tsvParse=tv,t.tsvParseRows=nv,t.tsvFormat=ev,t.tsvFormatRows=rv,t.easeLinear=ie,t.easeQuad=ae,t.easeQuadIn=oe,t.easeQuadOut=ue,t.easeQuadInOut=ae,t.easeCubic=fe,t.easeCubicIn=ce,t.easeCubicOut=se,t.easeCubicInOut=fe,t.easePoly=Hp,t.easePolyIn=Yp,t.easePolyOut=Bp,t.easePolyInOut=Hp,t.easeSin=pe,t.easeSinIn=le,t.easeSinOut=he,t.easeSinInOut=pe,t.easeExp=_e,t.easeExpIn=de,t.easeExpOut=ve,t.easeExpInOut=_e,t.easeCircle=me,t.easeCircleIn=ye,t.easeCircleOut=ge,t.easeCircleInOut=me,t.easeBounce=be,t.easeBounceIn=xe,t.easeBounceOut=be,t.easeBounceInOut=we,t.easeBack=id,t.easeBackIn=ed,t.easeBackOut=rd,t.easeBackInOut=id,t.easeElastic=ad,t.easeElasticIn=ud,t.easeElasticOut=ad,t.easeElasticInOut=cd,t.forceCenter=iv,t.forceCollide=wv,t.forceLink=Mv,t.forceManyBody=Sv,t.forceSimulation=Nv,t.forceX=Ev,t.forceY=Av,t.formatDefaultLocale=vr,t.formatLocale=Bv,t.formatSpecifier=pr,t.precisionFixed=Hv,t.precisionPrefix=jv,t.precisionRound=Xv,t.geoArea=G_,t.geoBounds=K_,t.geoCentroid=ny,t.geoCircle=_y,t.geoClipExtent=My,t.geoContains=Ry,t.geoDistance=zy,t.geoGraticule=Ti,t.geoGraticule10=ki,t.geoInterpolate=qy,t.geoLength=Ey,t.geoPath=cg,t.geoAlbers=gg,t.geoAlbersUsa=mg,t.geoAzimuthalEqualArea=bg,t.geoAzimuthalEqualAreaRaw=xg,t.geoAzimuthalEquidistant=Mg,t.geoAzimuthalEquidistantRaw=wg,t.geoConicConformal=kg,t.geoConicConformalRaw=po,t.geoConicEqualArea=yg,t.geoConicEqualAreaRaw=uo,t.geoConicEquidistant=Sg,t.geoConicEquidistantRaw=_o,t.geoEquirectangular=Ng,t.geoEquirectangularRaw=vo,t.geoGnomonic=Eg,t.geoGnomonicRaw=yo,t.geoIdentity=Ag,t.geoProjection=eo,t.geoProjectionMutator=ro,t.geoMercator=Tg,t.geoMercatorRaw=fo,t.geoOrthographic=Cg,t.geoOrthographicRaw=mo,t.geoStereographic=zg,t.geoStereographicRaw=xo,t.geoTransverseMercator=Pg,t.geoTransverseMercatorRaw=bo,t.geoRotation=vy,t.geoStream=$_,t.geoTransform=hg,t.cluster=Lg,t.hierarchy=zo,t.pack=Zg,t.packSiblings=Vg,t.packEnclose=$g,t.partition=Qg,t.stratify=em,t.tree=rm,t.treemap=am,t.treemapBinary=cm,t.treemapDice=Jg,t.treemapSlice=im,t.treemapSliceDice=sm,t.treemapSquarify=um,t.treemapResquarify=fm,t.interpolate=qh,t.interpolateArray=Eh,t.interpolateBasis=wh,t.interpolateBasisClosed=Mh,t.interpolateDate=Ah,t.interpolateNumber=Ch,t.interpolateObject=zh,t.interpolateRound=Uh,t.interpolateString=Rh,t.interpolateTransformCss=Ih,t.interpolateTransformSvg=Yh,t.interpolateZoom=Hh,t.interpolateRgb=kh,t.interpolateRgbBasis=Nh,t.interpolateRgbBasisClosed=Sh,t.interpolateHsl=jh,t.interpolateHslLong=Xh,t.interpolateLab=pn,t.interpolateHcl=$h,t.interpolateHclLong=Vh,t.interpolateCubehelix=Wh,t.interpolateCubehelixLong=Zh,t.quantize=Gh,t.path=Ue,t.polygonArea=lm,t.polygonCentroid=hm;t.polygonHull=dm,t.polygonContains=vm,t.polygonLength=_m,t.quadtree=ir,t.queue=xu,t.randomUniform=xm,t.randomNormal=bm,t.randomLogNormal=wm,t.randomBates=Tm,t.randomIrwinHall=Mm,t.randomExponential=km,t.request=Nm,t.html=Em,t.json=Am,t.text=Cm,t.xml=zm,t.csv=Lm,t.tsv=Rm,t.scaleBand=ku,t.scalePoint=Su,t.scaleIdentity=Du,t.scaleLinear=Uu,t.scaleLog=ju,t.scaleOrdinal=Tu,t.scaleImplicit=Om,t.scalePow=$u,t.scaleSqrt=Vu,t.scaleQuantile=Wu,t.scaleQuantize=Zu,t.scaleThreshold=Gu,t.scaleTime=ub,t.scaleUtc=ab,t.schemeCategory10=sb,t.schemeCategory20b=fb,t.schemeCategory20c=lb,t.schemeCategory20=hb,t.interpolateCubehelixDefault=pb,t.interpolateRainbow=yb,t.interpolateWarm=db,t.interpolateCool=vb,t.interpolateViridis=gb,t.interpolateMagma=mb,t.interpolateInferno=xb,t.interpolatePlasma=bb,t.scaleSequential=ic,t.creator=If,t.local=w,t.matcher=Xf,t.mouse=Gf,t.namespace=Ff,t.namespaces=Of,t.select=Pl,t.selectAll=Ll,t.selection=yt,t.selector=Jf,t.selectorAll=Kf,t.style=X,t.touch=Rl,t.touches=ql,t.window=gl,t.customEvent=A,t.arc=Rb,t.area=Db,t.line=Ub,t.pie=Ib,t.radialArea=Hb,t.radialLine=Bb,t.linkHorizontal=Nc,t.linkVertical=Sc,t.linkRadial=Ec,t.symbol=fw,t.symbols=sw,t.symbolCircle=$b,t.symbolCross=Vb,t.symbolDiamond=Gb,t.symbolSquare=nw,t.symbolStar=tw,t.symbolTriangle=rw,t.symbolWye=cw,t.curveBasisClosed=pw,t.curveBasisOpen=dw,t.curveBasis=hw,t.curveBundle=vw,t.curveCardinalClosed=yw,t.curveCardinalOpen=gw,t.curveCardinal=_w,t.curveCatmullRomClosed=xw,t.curveCatmullRomOpen=bw,t.curveCatmullRom=mw,t.curveLinearClosed=ww,t.curveLinear=qb,t.curveMonotoneX=Gc,t.curveMonotoneY=Jc,t.curveNatural=Mw,t.curveStep=Tw,t.curveStepAfter=es,t.curveStepBefore=ns,t.stack=Sw,t.stackOffsetExpand=Ew,t.stackOffsetDiverging=Aw,t.stackOffsetNone=kw,t.stackOffsetSilhouette=Cw,t.stackOffsetWiggle=zw,t.stackOrderAscending=Pw,t.stackOrderDescending=Lw,t.stackOrderInsideOut=Rw,t.stackOrderNone=Nw,t.stackOrderReverse=qw,t.timeInterval=Ju,t.timeMillisecond=$m,t.timeMilliseconds=Vm,t.utcMillisecond=$m,t.utcMilliseconds=Vm,t.timeSecond=Gm,t.timeSeconds=Jm,t.utcSecond=Gm,t.utcSeconds=Jm,t.timeMinute=Qm,t.timeMinutes=Km,t.timeHour=tx,t.timeHours=nx,t.timeDay=ex,t.timeDays=rx,t.timeWeek=ix,t.timeWeeks=lx,t.timeSunday=ix,t.timeSundays=lx,t.timeMonday=ox,t.timeMondays=hx,t.timeTuesday=ux,t.timeTuesdays=px,t.timeWednesday=ax,t.timeWednesdays=dx,t.timeThursday=cx,t.timeThursdays=vx,t.timeFriday=sx,t.timeFridays=_x,t.timeSaturday=fx,t.timeSaturdays=yx,t.timeMonth=gx,t.timeMonths=mx,t.timeYear=xx,t.timeYears=bx,t.utcMinute=wx,t.utcMinutes=Mx,t.utcHour=Tx,t.utcHours=kx,t.utcDay=Nx,t.utcDays=Sx,t.utcWeek=Ex,t.utcWeeks=qx,t.utcSunday=Ex,t.utcSundays=qx,t.utcMonday=Ax,t.utcMondays=Ux,t.utcTuesday=Cx,t.utcTuesdays=Dx,t.utcWednesday=zx,t.utcWednesdays=Ox,t.utcThursday=Px,t.utcThursdays=Fx,t.utcFriday=Lx,t.utcFridays=Ix,t.utcSaturday=Rx,t.utcSaturdays=Yx,t.utcMonth=Bx,t.utcMonths=Hx,t.utcYear=jx,t.utcYears=$x,t.timeFormatDefaultLocale=Ja,t.timeFormatLocale=ra,t.isoFormat=Jx,t.isoParse=Qx,t.now=_n,t.timer=mn,t.timerFlush=xn,t.timeout=up,t.interval=ap,t.transition=ee,t.active=hd,t.interrupt=gp,t.voronoi=$w,t.zoom=Gw,t.zoomTransform=Fs,t.zoomIdentity=Ww,Object.defineProperty(t,"__esModule",{value:!0})});</script><script>/*

 lodash 3.10.1 (Custom Build) <https://lodash.com/>
 Build: `lodash modern -o ./lodash.js`
 Copyright 2012-2015 The Dojo Foundation <http://dojofoundation.org/>
 Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 Copyright 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 Available under MIT license <https://lodash.com/license>
*/
(function(){var undefined;var VERSION="3.10.1";var BIND_FLAG=1,BIND_KEY_FLAG=2,CURRY_BOUND_FLAG=4,CURRY_FLAG=8,CURRY_RIGHT_FLAG=16,PARTIAL_FLAG=32,PARTIAL_RIGHT_FLAG=64,ARY_FLAG=128,REARG_FLAG=256;var DEFAULT_TRUNC_LENGTH=30,DEFAULT_TRUNC_OMISSION="...";var HOT_COUNT=150,HOT_SPAN=16;var LARGE_ARRAY_SIZE=200;var LAZY_FILTER_FLAG=1,LAZY_MAP_FLAG=2;var FUNC_ERROR_TEXT="Expected a function";var PLACEHOLDER="__lodash_placeholder__";var argsTag="[object Arguments]",arrayTag="[object Array]",boolTag="[object Boolean]",
dateTag="[object Date]",errorTag="[object Error]",funcTag="[object Function]",mapTag="[object Map]",numberTag="[object Number]",objectTag="[object Object]",regexpTag="[object RegExp]",setTag="[object Set]",stringTag="[object String]",weakMapTag="[object WeakMap]";var arrayBufferTag="[object ArrayBuffer]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag=
"[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]";var reEmptyStringLeading=/\b__p \+= '';/g,reEmptyStringMiddle=/\b(__p \+=) '' \+/g,reEmptyStringTrailing=/(__e\(.*?\)|\b__t\)) \+\n'';/g;var reEscapedHtml=/&(?:amp|lt|gt|quot|#39|#96);/g,reUnescapedHtml=/[&<>"'`]/g,reHasEscapedHtml=RegExp(reEscapedHtml.source),reHasUnescapedHtml=RegExp(reUnescapedHtml.source);var reEscape=/<%-([\s\S]+?)%>/g,reEvaluate=/<%([\s\S]+?)%>/g,reInterpolate=/<%=([\s\S]+?)%>/g;var reIsDeepProp=
/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/,rePropName=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g;var reRegExpChars=/^[:!,]|[\\^$.*+?()[\]{}|\/]|(^[0-9a-fA-Fnrtuvx])|([\n\r\u2028\u2029])/g,reHasRegExpChars=RegExp(reRegExpChars.source);var reComboMark=/[\u0300-\u036f\ufe20-\ufe23]/g;var reEscapeChar=/\\(\\)?/g;var reEsTemplate=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g;var reFlags=/\w*$/;var reHasHexPrefix=/^0[xX]/;var reIsHostCtor=/^\[object .+?Constructor\]$/;
var reIsUint=/^\d+$/;var reLatin1=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g;var reNoMatch=/($^)/;var reUnescapedString=/['\n\r\u2028\u2029\\]/g;var reWords=function(){var upper="[A-Z\\xc0-\\xd6\\xd8-\\xde]",lower="[a-z\\xdf-\\xf6\\xf8-\\xff]+";return RegExp(upper+"+(?\x3d"+upper+lower+")|"+upper+"?"+lower+"|"+upper+"+|[0-9]+","g")}();var contextProps=["Array","ArrayBuffer","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Math","Number","Object","RegExp",
"Set","String","_","clearTimeout","isFinite","parseFloat","parseInt","setTimeout","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap"];var templateCounter=-1;var typedArrayTags={};typedArrayTags[float32Tag]=typedArrayTags[float64Tag]=typedArrayTags[int8Tag]=typedArrayTags[int16Tag]=typedArrayTags[int32Tag]=typedArrayTags[uint8Tag]=typedArrayTags[uint8ClampedTag]=typedArrayTags[uint16Tag]=typedArrayTags[uint32Tag]=true;typedArrayTags[argsTag]=typedArrayTags[arrayTag]=
typedArrayTags[arrayBufferTag]=typedArrayTags[boolTag]=typedArrayTags[dateTag]=typedArrayTags[errorTag]=typedArrayTags[funcTag]=typedArrayTags[mapTag]=typedArrayTags[numberTag]=typedArrayTags[objectTag]=typedArrayTags[regexpTag]=typedArrayTags[setTag]=typedArrayTags[stringTag]=typedArrayTags[weakMapTag]=false;var cloneableTags={};cloneableTags[argsTag]=cloneableTags[arrayTag]=cloneableTags[arrayBufferTag]=cloneableTags[boolTag]=cloneableTags[dateTag]=cloneableTags[float32Tag]=cloneableTags[float64Tag]=
cloneableTags[int8Tag]=cloneableTags[int16Tag]=cloneableTags[int32Tag]=cloneableTags[numberTag]=cloneableTags[objectTag]=cloneableTags[regexpTag]=cloneableTags[stringTag]=cloneableTags[uint8Tag]=cloneableTags[uint8ClampedTag]=cloneableTags[uint16Tag]=cloneableTags[uint32Tag]=true;cloneableTags[errorTag]=cloneableTags[funcTag]=cloneableTags[mapTag]=cloneableTags[setTag]=cloneableTags[weakMapTag]=false;var deburredLetters={"\u00c0":"A","\u00c1":"A","\u00c2":"A","\u00c3":"A","\u00c4":"A","\u00c5":"A",
"\u00e0":"a","\u00e1":"a","\u00e2":"a","\u00e3":"a","\u00e4":"a","\u00e5":"a","\u00c7":"C","\u00e7":"c","\u00d0":"D","\u00f0":"d","\u00c8":"E","\u00c9":"E","\u00ca":"E","\u00cb":"E","\u00e8":"e","\u00e9":"e","\u00ea":"e","\u00eb":"e","\u00cc":"I","\u00cd":"I","\u00ce":"I","\u00cf":"I","\u00ec":"i","\u00ed":"i","\u00ee":"i","\u00ef":"i","\u00d1":"N","\u00f1":"n","\u00d2":"O","\u00d3":"O","\u00d4":"O","\u00d5":"O","\u00d6":"O","\u00d8":"O","\u00f2":"o","\u00f3":"o","\u00f4":"o","\u00f5":"o","\u00f6":"o",
"\u00f8":"o","\u00d9":"U","\u00da":"U","\u00db":"U","\u00dc":"U","\u00f9":"u","\u00fa":"u","\u00fb":"u","\u00fc":"u","\u00dd":"Y","\u00fd":"y","\u00ff":"y","\u00c6":"Ae","\u00e6":"ae","\u00de":"Th","\u00fe":"th","\u00df":"ss"};var htmlEscapes={"\x26":"\x26amp;","\x3c":"\x26lt;","\x3e":"\x26gt;",'"':"\x26quot;","'":"\x26#39;","`":"\x26#96;"};var htmlUnescapes={"\x26amp;":"\x26","\x26lt;":"\x3c","\x26gt;":"\x3e","\x26quot;":'"',"\x26#39;":"'","\x26#96;":"`"};var objectTypes={"function":true,"object":true};
var regexpEscapes={0:"x30",1:"x31",2:"x32",3:"x33",4:"x34",5:"x35",6:"x36",7:"x37",8:"x38",9:"x39","A":"x41","B":"x42","C":"x43","D":"x44","E":"x45","F":"x46","a":"x61","b":"x62","c":"x63","d":"x64","e":"x65","f":"x66","n":"x6e","r":"x72","t":"x74","u":"x75","v":"x76","x":"x78"};var stringEscapes={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"};var freeExports=objectTypes[typeof exports]&&exports&&!exports.nodeType&&exports;var freeModule=objectTypes[typeof module]&&module&&
!module.nodeType&&module;var freeGlobal=freeExports&&freeModule&&typeof global=="object"&&global&&global.Object&&global;var freeSelf=objectTypes[typeof self]&&self&&self.Object&&self;var freeWindow=objectTypes[typeof window]&&window&&window.Object&&window;var moduleExports=freeModule&&freeModule.exports===freeExports&&freeExports;var root=freeGlobal||freeWindow!==(this&&this.window)&&freeWindow||freeSelf||this;function baseCompareAscending(value,other){if(value!==other){var valIsNull=value===null,
valIsUndef=value===undefined,valIsReflexive=value===value;var othIsNull=other===null,othIsUndef=other===undefined,othIsReflexive=other===other;if(value>other&&!othIsNull||!valIsReflexive||valIsNull&&!othIsUndef&&othIsReflexive||valIsUndef&&othIsReflexive)return 1;if(value<other&&!valIsNull||!othIsReflexive||othIsNull&&!valIsUndef&&valIsReflexive||othIsUndef&&valIsReflexive)return-1}return 0}function baseFindIndex(array,predicate,fromRight){var length=array.length,index=fromRight?length:-1;while(fromRight?
index--:++index<length)if(predicate(array[index],index,array))return index;return-1}function baseIndexOf(array,value,fromIndex){if(value!==value)return indexOfNaN(array,fromIndex);var index=fromIndex-1,length=array.length;while(++index<length)if(array[index]===value)return index;return-1}function baseIsFunction(value){return typeof value=="function"||false}function baseToString(value){return value==null?"":value+""}function charsLeftIndex(string,chars){var index=-1,length=string.length;while(++index<
length&&chars.indexOf(string.charAt(index))>-1);return index}function charsRightIndex(string,chars){var index=string.length;while(index--&&chars.indexOf(string.charAt(index))>-1);return index}function compareAscending(object,other){return baseCompareAscending(object.criteria,other.criteria)||object.index-other.index}function compareMultiple(object,other,orders){var index=-1,objCriteria=object.criteria,othCriteria=other.criteria,length=objCriteria.length,ordersLength=orders.length;while(++index<length){var result=
baseCompareAscending(objCriteria[index],othCriteria[index]);if(result){if(index>=ordersLength)return result;var order=orders[index];return result*(order==="asc"||order===true?1:-1)}}return object.index-other.index}function deburrLetter(letter){return deburredLetters[letter]}function escapeHtmlChar(chr){return htmlEscapes[chr]}function escapeRegExpChar(chr,leadingChar,whitespaceChar){if(leadingChar)chr=regexpEscapes[chr];else if(whitespaceChar)chr=stringEscapes[chr];return"\\"+chr}function escapeStringChar(chr){return"\\"+
stringEscapes[chr]}function indexOfNaN(array,fromIndex,fromRight){var length=array.length,index=fromIndex+(fromRight?0:-1);while(fromRight?index--:++index<length){var other=array[index];if(other!==other)return index}return-1}function isObjectLike(value){return!!value&&typeof value=="object"}function isSpace(charCode){return charCode<=160&&(charCode>=9&&charCode<=13)||charCode==32||charCode==160||charCode==5760||charCode==6158||charCode>=8192&&(charCode<=8202||charCode==8232||charCode==8233||charCode==
8239||charCode==8287||charCode==12288||charCode==65279)}function replaceHolders(array,placeholder){var index=-1,length=array.length,resIndex=-1,result=[];while(++index<length)if(array[index]===placeholder){array[index]=PLACEHOLDER;result[++resIndex]=index}return result}function sortedUniq(array,iteratee){var seen,index=-1,length=array.length,resIndex=-1,result=[];while(++index<length){var value=array[index],computed=iteratee?iteratee(value,index,array):value;if(!index||seen!==computed){seen=computed;
result[++resIndex]=value}}return result}function trimmedLeftIndex(string){var index=-1,length=string.length;while(++index<length&&isSpace(string.charCodeAt(index)));return index}function trimmedRightIndex(string){var index=string.length;while(index--&&isSpace(string.charCodeAt(index)));return index}function unescapeHtmlChar(chr){return htmlUnescapes[chr]}function runInContext(context){context=context?_.defaults(root.Object(),context,_.pick(root,contextProps)):root;var Array=context.Array,Date=context.Date,
Error=context.Error,Function=context.Function,Math=context.Math,Number=context.Number,Object=context.Object,RegExp=context.RegExp,String=context.String,TypeError=context.TypeError;var arrayProto=Array.prototype,objectProto=Object.prototype,stringProto=String.prototype;var fnToString=Function.prototype.toString;var hasOwnProperty=objectProto.hasOwnProperty;var idCounter=0;var objToString=objectProto.toString;var oldDash=root._;var reIsNative=RegExp("^"+fnToString.call(hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,
"\\$\x26").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var ArrayBuffer=context.ArrayBuffer,clearTimeout=context.clearTimeout,parseFloat=context.parseFloat,pow=Math.pow,propertyIsEnumerable=objectProto.propertyIsEnumerable,Set=getNative(context,"Set"),setTimeout=context.setTimeout,splice=arrayProto.splice,Uint8Array=context.Uint8Array,WeakMap=getNative(context,"WeakMap");var nativeCeil=Math.ceil,nativeCreate=getNative(Object,"create"),nativeFloor=Math.floor,nativeIsArray=
getNative(Array,"isArray"),nativeIsFinite=context.isFinite,nativeKeys=getNative(Object,"keys"),nativeMax=Math.max,nativeMin=Math.min,nativeNow=getNative(Date,"now"),nativeParseInt=context.parseInt,nativeRandom=Math.random;var NEGATIVE_INFINITY=Number.NEGATIVE_INFINITY,POSITIVE_INFINITY=Number.POSITIVE_INFINITY;var MAX_ARRAY_LENGTH=4294967295,MAX_ARRAY_INDEX=MAX_ARRAY_LENGTH-1,HALF_MAX_ARRAY_LENGTH=MAX_ARRAY_LENGTH>>>1;var MAX_SAFE_INTEGER=9007199254740991;var metaMap=WeakMap&&new WeakMap;var realNames=
{};function lodash(value){if(isObjectLike(value)&&!isArray(value)&&!(value instanceof LazyWrapper)){if(value instanceof LodashWrapper)return value;if(hasOwnProperty.call(value,"__chain__")&&hasOwnProperty.call(value,"__wrapped__"))return wrapperClone(value)}return new LodashWrapper(value)}function baseLodash(){}function LodashWrapper(value,chainAll,actions){this.__wrapped__=value;this.__actions__=actions||[];this.__chain__=!!chainAll}var support=lodash.support={};lodash.templateSettings={"escape":reEscape,
"evaluate":reEvaluate,"interpolate":reInterpolate,"variable":"","imports":{"_":lodash}};function LazyWrapper(value){this.__wrapped__=value;this.__actions__=[];this.__dir__=1;this.__filtered__=false;this.__iteratees__=[];this.__takeCount__=POSITIVE_INFINITY;this.__views__=[]}function lazyClone(){var result=new LazyWrapper(this.__wrapped__);result.__actions__=arrayCopy(this.__actions__);result.__dir__=this.__dir__;result.__filtered__=this.__filtered__;result.__iteratees__=arrayCopy(this.__iteratees__);
result.__takeCount__=this.__takeCount__;result.__views__=arrayCopy(this.__views__);return result}function lazyReverse(){if(this.__filtered__){var result=new LazyWrapper(this);result.__dir__=-1;result.__filtered__=true}else{result=this.clone();result.__dir__*=-1}return result}function lazyValue(){var array=this.__wrapped__.value(),dir=this.__dir__,isArr=isArray(array),isRight=dir<0,arrLength=isArr?array.length:0,view=getView(0,arrLength,this.__views__),start=view.start,end=view.end,length=end-start,
index=isRight?end:start-1,iteratees=this.__iteratees__,iterLength=iteratees.length,resIndex=0,takeCount=nativeMin(length,this.__takeCount__);if(!isArr||arrLength<LARGE_ARRAY_SIZE||arrLength==length&&takeCount==length)return baseWrapperValue(array,this.__actions__);var result=[];outer:while(length--&&resIndex<takeCount){index+=dir;var iterIndex=-1,value=array[index];while(++iterIndex<iterLength){var data=iteratees[iterIndex],iteratee=data.iteratee,type=data.type,computed=iteratee(value);if(type==LAZY_MAP_FLAG)value=
computed;else if(!computed)if(type==LAZY_FILTER_FLAG)continue outer;else break outer}result[resIndex++]=value}return result}function MapCache(){this.__data__={}}function mapDelete(key){return this.has(key)&&delete this.__data__[key]}function mapGet(key){return key=="__proto__"?undefined:this.__data__[key]}function mapHas(key){return key!="__proto__"&&hasOwnProperty.call(this.__data__,key)}function mapSet(key,value){if(key!="__proto__")this.__data__[key]=value;return this}function SetCache(values){var length=
values?values.length:0;this.data={"hash":nativeCreate(null),"set":new Set};while(length--)this.push(values[length])}function cacheIndexOf(cache,value){var data=cache.data,result=typeof value=="string"||isObject(value)?data.set.has(value):data.hash[value];return result?0:-1}function cachePush(value){var data=this.data;if(typeof value=="string"||isObject(value))data.set.add(value);else data.hash[value]=true}function arrayConcat(array,other){var index=-1,length=array.length,othIndex=-1,othLength=other.length,
result=Array(length+othLength);while(++index<length)result[index]=array[index];while(++othIndex<othLength)result[index++]=other[othIndex];return result}function arrayCopy(source,array){var index=-1,length=source.length;array||(array=Array(length));while(++index<length)array[index]=source[index];return array}function arrayEach(array,iteratee){var index=-1,length=array.length;while(++index<length)if(iteratee(array[index],index,array)===false)break;return array}function arrayEachRight(array,iteratee){var length=
array.length;while(length--)if(iteratee(array[length],length,array)===false)break;return array}function arrayEvery(array,predicate){var index=-1,length=array.length;while(++index<length)if(!predicate(array[index],index,array))return false;return true}function arrayExtremum(array,iteratee,comparator,exValue){var index=-1,length=array.length,computed=exValue,result=computed;while(++index<length){var value=array[index],current=+iteratee(value);if(comparator(current,computed)){computed=current;result=
value}}return result}function arrayFilter(array,predicate){var index=-1,length=array.length,resIndex=-1,result=[];while(++index<length){var value=array[index];if(predicate(value,index,array))result[++resIndex]=value}return result}function arrayMap(array,iteratee){var index=-1,length=array.length,result=Array(length);while(++index<length)result[index]=iteratee(array[index],index,array);return result}function arrayPush(array,values){var index=-1,length=values.length,offset=array.length;while(++index<
length)array[offset+index]=values[index];return array}function arrayReduce(array,iteratee,accumulator,initFromArray){var index=-1,length=array.length;if(initFromArray&&length)accumulator=array[++index];while(++index<length)accumulator=iteratee(accumulator,array[index],index,array);return accumulator}function arrayReduceRight(array,iteratee,accumulator,initFromArray){var length=array.length;if(initFromArray&&length)accumulator=array[--length];while(length--)accumulator=iteratee(accumulator,array[length],
length,array);return accumulator}function arraySome(array,predicate){var index=-1,length=array.length;while(++index<length)if(predicate(array[index],index,array))return true;return false}function arraySum(array,iteratee){var length=array.length,result=0;while(length--)result+=+iteratee(array[length])||0;return result}function assignDefaults(objectValue,sourceValue){return objectValue===undefined?sourceValue:objectValue}function assignOwnDefaults(objectValue,sourceValue,key,object){return objectValue===
undefined||!hasOwnProperty.call(object,key)?sourceValue:objectValue}function assignWith(object,source,customizer){var index=-1,props=keys(source),length=props.length;while(++index<length){var key=props[index],value=object[key],result=customizer(value,source[key],key,object,source);if((result===result?result!==value:value===value)||value===undefined&&!(key in object))object[key]=result}return object}function baseAssign(object,source){return source==null?object:baseCopy(source,keys(source),object)}
function baseAt(collection,props){var index=-1,isNil=collection==null,isArr=!isNil&&isArrayLike(collection),length=isArr?collection.length:0,propsLength=props.length,result=Array(propsLength);while(++index<propsLength){var key=props[index];if(isArr)result[index]=isIndex(key,length)?collection[key]:undefined;else result[index]=isNil?undefined:collection[key]}return result}function baseCopy(source,props,object){object||(object={});var index=-1,length=props.length;while(++index<length){var key=props[index];
object[key]=source[key]}return object}function baseCallback(func,thisArg,argCount){var type=typeof func;if(type=="function")return thisArg===undefined?func:bindCallback(func,thisArg,argCount);if(func==null)return identity;if(type=="object")return baseMatches(func);return thisArg===undefined?property(func):baseMatchesProperty(func,thisArg)}function baseClone(value,isDeep,customizer,key,object,stackA,stackB){var result;if(customizer)result=object?customizer(value,key,object):customizer(value);if(result!==
undefined)return result;if(!isObject(value))return value;var isArr=isArray(value);if(isArr){result=initCloneArray(value);if(!isDeep)return arrayCopy(value,result)}else{var tag=objToString.call(value),isFunc=tag==funcTag;if(tag==objectTag||tag==argsTag||isFunc&&!object){result=initCloneObject(isFunc?{}:value);if(!isDeep)return baseAssign(result,value)}else return cloneableTags[tag]?initCloneByTag(value,tag,isDeep):object?value:{}}stackA||(stackA=[]);stackB||(stackB=[]);var length=stackA.length;while(length--)if(stackA[length]==
value)return stackB[length];stackA.push(value);stackB.push(result);(isArr?arrayEach:baseForOwn)(value,function(subValue,key){result[key]=baseClone(subValue,isDeep,customizer,key,value,stackA,stackB)});return result}var baseCreate=function(){function object(){}return function(prototype){if(isObject(prototype)){object.prototype=prototype;var result=new object;object.prototype=undefined}return result||{}}}();function baseDelay(func,wait,args){if(typeof func!="function")throw new TypeError(FUNC_ERROR_TEXT);
return setTimeout(function(){func.apply(undefined,args)},wait)}function baseDifference(array,values){var length=array?array.length:0,result=[];if(!length)return result;var index=-1,indexOf=getIndexOf(),isCommon=indexOf===baseIndexOf,cache=isCommon&&values.length>=LARGE_ARRAY_SIZE?createCache(values):null,valuesLength=values.length;if(cache){indexOf=cacheIndexOf;isCommon=false;values=cache}outer:while(++index<length){var value=array[index];if(isCommon&&value===value){var valuesIndex=valuesLength;while(valuesIndex--)if(values[valuesIndex]===
value)continue outer;result.push(value)}else if(indexOf(values,value,0)<0)result.push(value)}return result}var baseEach=createBaseEach(baseForOwn);var baseEachRight=createBaseEach(baseForOwnRight,true);function baseEvery(collection,predicate){var result=true;baseEach(collection,function(value,index,collection){result=!!predicate(value,index,collection);return result});return result}function baseExtremum(collection,iteratee,comparator,exValue){var computed=exValue,result=computed;baseEach(collection,
function(value,index,collection){var current=+iteratee(value,index,collection);if(comparator(current,computed)||current===exValue&&current===result){computed=current;result=value}});return result}function baseFill(array,value,start,end){var length=array.length;start=start==null?0:+start||0;if(start<0)start=-start>length?0:length+start;end=end===undefined||end>length?length:+end||0;if(end<0)end+=length;length=start>end?0:end>>>0;start>>>=0;while(start<length)array[start++]=value;return array}function baseFilter(collection,
predicate){var result=[];baseEach(collection,function(value,index,collection){if(predicate(value,index,collection))result.push(value)});return result}function baseFind(collection,predicate,eachFunc,retKey){var result;eachFunc(collection,function(value,key,collection){if(predicate(value,key,collection)){result=retKey?key:value;return false}});return result}function baseFlatten(array,isDeep,isStrict,result){result||(result=[]);var index=-1,length=array.length;while(++index<length){var value=array[index];
if(isObjectLike(value)&&isArrayLike(value)&&(isStrict||isArray(value)||isArguments(value)))if(isDeep)baseFlatten(value,isDeep,isStrict,result);else arrayPush(result,value);else if(!isStrict)result[result.length]=value}return result}var baseFor=createBaseFor();var baseForRight=createBaseFor(true);function baseForIn(object,iteratee){return baseFor(object,iteratee,keysIn)}function baseForOwn(object,iteratee){return baseFor(object,iteratee,keys)}function baseForOwnRight(object,iteratee){return baseForRight(object,
iteratee,keys)}function baseFunctions(object,props){var index=-1,length=props.length,resIndex=-1,result=[];while(++index<length){var key=props[index];if(isFunction(object[key]))result[++resIndex]=key}return result}function baseGet(object,path,pathKey){if(object==null)return;if(pathKey!==undefined&&pathKey in toObject(object))path=[pathKey];var index=0,length=path.length;while(object!=null&&index<length)object=object[path[index++]];return index&&index==length?object:undefined}function baseIsEqual(value,
other,customizer,isLoose,stackA,stackB){if(value===other)return true;if(value==null||other==null||!isObject(value)&&!isObjectLike(other))return value!==value&&other!==other;return baseIsEqualDeep(value,other,baseIsEqual,customizer,isLoose,stackA,stackB)}function baseIsEqualDeep(object,other,equalFunc,customizer,isLoose,stackA,stackB){var objIsArr=isArray(object),othIsArr=isArray(other),objTag=arrayTag,othTag=arrayTag;if(!objIsArr){objTag=objToString.call(object);if(objTag==argsTag)objTag=objectTag;
else if(objTag!=objectTag)objIsArr=isTypedArray(object)}if(!othIsArr){othTag=objToString.call(other);if(othTag==argsTag)othTag=objectTag;else if(othTag!=objectTag)othIsArr=isTypedArray(other)}var objIsObj=objTag==objectTag,othIsObj=othTag==objectTag,isSameTag=objTag==othTag;if(isSameTag&&!(objIsArr||objIsObj))return equalByTag(object,other,objTag);if(!isLoose){var objIsWrapped=objIsObj&&hasOwnProperty.call(object,"__wrapped__"),othIsWrapped=othIsObj&&hasOwnProperty.call(other,"__wrapped__");if(objIsWrapped||
othIsWrapped)return equalFunc(objIsWrapped?object.value():object,othIsWrapped?other.value():other,customizer,isLoose,stackA,stackB)}if(!isSameTag)return false;stackA||(stackA=[]);stackB||(stackB=[]);var length=stackA.length;while(length--)if(stackA[length]==object)return stackB[length]==other;stackA.push(object);stackB.push(other);var result=(objIsArr?equalArrays:equalObjects)(object,other,equalFunc,customizer,isLoose,stackA,stackB);stackA.pop();stackB.pop();return result}function baseIsMatch(object,
matchData,customizer){var index=matchData.length,length=index,noCustomizer=!customizer;if(object==null)return!length;object=toObject(object);while(index--){var data=matchData[index];if(noCustomizer&&data[2]?data[1]!==object[data[0]]:!(data[0]in object))return false}while(++index<length){data=matchData[index];var key=data[0],objValue=object[key],srcValue=data[1];if(noCustomizer&&data[2]){if(objValue===undefined&&!(key in object))return false}else{var result=customizer?customizer(objValue,srcValue,
key):undefined;if(!(result===undefined?baseIsEqual(srcValue,objValue,customizer,true):result))return false}}return true}function baseMap(collection,iteratee){var index=-1,result=isArrayLike(collection)?Array(collection.length):[];baseEach(collection,function(value,key,collection){result[++index]=iteratee(value,key,collection)});return result}function baseMatches(source){var matchData=getMatchData(source);if(matchData.length==1&&matchData[0][2]){var key=matchData[0][0],value=matchData[0][1];return function(object){if(object==
null)return false;return object[key]===value&&(value!==undefined||key in toObject(object))}}return function(object){return baseIsMatch(object,matchData)}}function baseMatchesProperty(path,srcValue){var isArr=isArray(path),isCommon=isKey(path)&&isStrictComparable(srcValue),pathKey=path+"";path=toPath(path);return function(object){if(object==null)return false;var key=pathKey;object=toObject(object);if((isArr||!isCommon)&&!(key in object)){object=path.length==1?object:baseGet(object,baseSlice(path,0,
-1));if(object==null)return false;key=last(path);object=toObject(object)}return object[key]===srcValue?srcValue!==undefined||key in object:baseIsEqual(srcValue,object[key],undefined,true)}}function baseMerge(object,source,customizer,stackA,stackB){if(!isObject(object))return object;var isSrcArr=isArrayLike(source)&&(isArray(source)||isTypedArray(source)),props=isSrcArr?undefined:keys(source);arrayEach(props||source,function(srcValue,key){if(props){key=srcValue;srcValue=source[key]}if(isObjectLike(srcValue)){stackA||
(stackA=[]);stackB||(stackB=[]);baseMergeDeep(object,source,key,baseMerge,customizer,stackA,stackB)}else{var value=object[key],result=customizer?customizer(value,srcValue,key,object,source):undefined,isCommon=result===undefined;if(isCommon)result=srcValue;if((result!==undefined||isSrcArr&&!(key in object))&&(isCommon||(result===result?result!==value:value===value)))object[key]=result}});return object}function baseMergeDeep(object,source,key,mergeFunc,customizer,stackA,stackB){var length=stackA.length,
srcValue=source[key];while(length--)if(stackA[length]==srcValue){object[key]=stackB[length];return}var value=object[key],result=customizer?customizer(value,srcValue,key,object,source):undefined,isCommon=result===undefined;if(isCommon){result=srcValue;if(isArrayLike(srcValue)&&(isArray(srcValue)||isTypedArray(srcValue)))result=isArray(value)?value:isArrayLike(value)?arrayCopy(value):[];else if(isPlainObject(srcValue)||isArguments(srcValue))result=isArguments(value)?toPlainObject(value):isPlainObject(value)?
value:{};else isCommon=false}stackA.push(srcValue);stackB.push(result);if(isCommon)object[key]=mergeFunc(result,srcValue,customizer,stackA,stackB);else if(result===result?result!==value:value===value)object[key]=result}function baseProperty(key){return function(object){return object==null?undefined:object[key]}}function basePropertyDeep(path){var pathKey=path+"";path=toPath(path);return function(object){return baseGet(object,path,pathKey)}}function basePullAt(array,indexes){var length=array?indexes.length:
0;while(length--){var index=indexes[length];if(index!=previous&&isIndex(index)){var previous=index;splice.call(array,index,1)}}return array}function baseRandom(min,max){return min+nativeFloor(nativeRandom()*(max-min+1))}function baseReduce(collection,iteratee,accumulator,initFromCollection,eachFunc){eachFunc(collection,function(value,index,collection){accumulator=initFromCollection?(initFromCollection=false,value):iteratee(accumulator,value,index,collection)});return accumulator}var baseSetData=!metaMap?
identity:function(func,data){metaMap.set(func,data);return func};function baseSlice(array,start,end){var index=-1,length=array.length;start=start==null?0:+start||0;if(start<0)start=-start>length?0:length+start;end=end===undefined||end>length?length:+end||0;if(end<0)end+=length;length=start>end?0:end-start>>>0;start>>>=0;var result=Array(length);while(++index<length)result[index]=array[index+start];return result}function baseSome(collection,predicate){var result;baseEach(collection,function(value,
index,collection){result=predicate(value,index,collection);return!result});return!!result}function baseSortBy(array,comparer){var length=array.length;array.sort(comparer);while(length--)array[length]=array[length].value;return array}function baseSortByOrder(collection,iteratees,orders){var callback=getCallback(),index=-1;iteratees=arrayMap(iteratees,function(iteratee){return callback(iteratee)});var result=baseMap(collection,function(value){var criteria=arrayMap(iteratees,function(iteratee){return iteratee(value)});
return{"criteria":criteria,"index":++index,"value":value}});return baseSortBy(result,function(object,other){return compareMultiple(object,other,orders)})}function baseSum(collection,iteratee){var result=0;baseEach(collection,function(value,index,collection){result+=+iteratee(value,index,collection)||0});return result}function baseUniq(array,iteratee){var index=-1,indexOf=getIndexOf(),length=array.length,isCommon=indexOf===baseIndexOf,isLarge=isCommon&&length>=LARGE_ARRAY_SIZE,seen=isLarge?createCache():
null,result=[];if(seen){indexOf=cacheIndexOf;isCommon=false}else{isLarge=false;seen=iteratee?[]:result}outer:while(++index<length){var value=array[index],computed=iteratee?iteratee(value,index,array):value;if(isCommon&&value===value){var seenIndex=seen.length;while(seenIndex--)if(seen[seenIndex]===computed)continue outer;if(iteratee)seen.push(computed);result.push(value)}else if(indexOf(seen,computed,0)<0){if(iteratee||isLarge)seen.push(computed);result.push(value)}}return result}function baseValues(object,
props){var index=-1,length=props.length,result=Array(length);while(++index<length)result[index]=object[props[index]];return result}function baseWhile(array,predicate,isDrop,fromRight){var length=array.length,index=fromRight?length:-1;while((fromRight?index--:++index<length)&&predicate(array[index],index,array));return isDrop?baseSlice(array,fromRight?0:index,fromRight?index+1:length):baseSlice(array,fromRight?index+1:0,fromRight?length:index)}function baseWrapperValue(value,actions){var result=value;
if(result instanceof LazyWrapper)result=result.value();var index=-1,length=actions.length;while(++index<length){var action=actions[index];result=action.func.apply(action.thisArg,arrayPush([result],action.args))}return result}function binaryIndex(array,value,retHighest){var low=0,high=array?array.length:low;if(typeof value=="number"&&value===value&&high<=HALF_MAX_ARRAY_LENGTH){while(low<high){var mid=low+high>>>1,computed=array[mid];if((retHighest?computed<=value:computed<value)&&computed!==null)low=
mid+1;else high=mid}return high}return binaryIndexBy(array,value,identity,retHighest)}function binaryIndexBy(array,value,iteratee,retHighest){value=iteratee(value);var low=0,high=array?array.length:0,valIsNaN=value!==value,valIsNull=value===null,valIsUndef=value===undefined;while(low<high){var mid=nativeFloor((low+high)/2),computed=iteratee(array[mid]),isDef=computed!==undefined,isReflexive=computed===computed;if(valIsNaN)var setLow=isReflexive||retHighest;else if(valIsNull)setLow=isReflexive&&isDef&&
(retHighest||computed!=null);else if(valIsUndef)setLow=isReflexive&&(retHighest||isDef);else if(computed==null)setLow=false;else setLow=retHighest?computed<=value:computed<value;if(setLow)low=mid+1;else high=mid}return nativeMin(high,MAX_ARRAY_INDEX)}function bindCallback(func,thisArg,argCount){if(typeof func!="function")return identity;if(thisArg===undefined)return func;switch(argCount){case 1:return function(value){return func.call(thisArg,value)};case 3:return function(value,index,collection){return func.call(thisArg,
value,index,collection)};case 4:return function(accumulator,value,index,collection){return func.call(thisArg,accumulator,value,index,collection)};case 5:return function(value,other,key,object,source){return func.call(thisArg,value,other,key,object,source)}}return function(){return func.apply(thisArg,arguments)}}function bufferClone(buffer){var result=new ArrayBuffer(buffer.byteLength),view=new Uint8Array(result);view.set(new Uint8Array(buffer));return result}function composeArgs(args,partials,holders){var holdersLength=
holders.length,argsIndex=-1,argsLength=nativeMax(args.length-holdersLength,0),leftIndex=-1,leftLength=partials.length,result=Array(leftLength+argsLength);while(++leftIndex<leftLength)result[leftIndex]=partials[leftIndex];while(++argsIndex<holdersLength)result[holders[argsIndex]]=args[argsIndex];while(argsLength--)result[leftIndex++]=args[argsIndex++];return result}function composeArgsRight(args,partials,holders){var holdersIndex=-1,holdersLength=holders.length,argsIndex=-1,argsLength=nativeMax(args.length-
holdersLength,0),rightIndex=-1,rightLength=partials.length,result=Array(argsLength+rightLength);while(++argsIndex<argsLength)result[argsIndex]=args[argsIndex];var offset=argsIndex;while(++rightIndex<rightLength)result[offset+rightIndex]=partials[rightIndex];while(++holdersIndex<holdersLength)result[offset+holders[holdersIndex]]=args[argsIndex++];return result}function createAggregator(setter,initializer){return function(collection,iteratee,thisArg){var result=initializer?initializer():{};iteratee=
getCallback(iteratee,thisArg,3);if(isArray(collection)){var index=-1,length=collection.length;while(++index<length){var value=collection[index];setter(result,value,iteratee(value,index,collection),collection)}}else baseEach(collection,function(value,key,collection){setter(result,value,iteratee(value,key,collection),collection)});return result}}function createAssigner(assigner){return restParam(function(object,sources){var index=-1,length=object==null?0:sources.length,customizer=length>2?sources[length-
2]:undefined,guard=length>2?sources[2]:undefined,thisArg=length>1?sources[length-1]:undefined;if(typeof customizer=="function"){customizer=bindCallback(customizer,thisArg,5);length-=2}else{customizer=typeof thisArg=="function"?thisArg:undefined;length-=customizer?1:0}if(guard&&isIterateeCall(sources[0],sources[1],guard)){customizer=length<3?undefined:customizer;length=1}while(++index<length){var source=sources[index];if(source)assigner(object,source,customizer)}return object})}function createBaseEach(eachFunc,
fromRight){return function(collection,iteratee){var length=collection?getLength(collection):0;if(!isLength(length))return eachFunc(collection,iteratee);var index=fromRight?length:-1,iterable=toObject(collection);while(fromRight?index--:++index<length)if(iteratee(iterable[index],index,iterable)===false)break;return collection}}function createBaseFor(fromRight){return function(object,iteratee,keysFunc){var iterable=toObject(object),props=keysFunc(object),length=props.length,index=fromRight?length:-1;
while(fromRight?index--:++index<length){var key=props[index];if(iteratee(iterable[key],key,iterable)===false)break}return object}}function createBindWrapper(func,thisArg){var Ctor=createCtorWrapper(func);function wrapper(){var fn=this&&this!==root&&this instanceof wrapper?Ctor:func;return fn.apply(thisArg,arguments)}return wrapper}function createCache(values){return nativeCreate&&Set?new SetCache(values):null}function createCompounder(callback){return function(string){var index=-1,array=words(deburr(string)),
length=array.length,result="";while(++index<length)result=callback(result,array[index],index);return result}}function createCtorWrapper(Ctor){return function(){var args=arguments;switch(args.length){case 0:return new Ctor;case 1:return new Ctor(args[0]);case 2:return new Ctor(args[0],args[1]);case 3:return new Ctor(args[0],args[1],args[2]);case 4:return new Ctor(args[0],args[1],args[2],args[3]);case 5:return new Ctor(args[0],args[1],args[2],args[3],args[4]);case 6:return new Ctor(args[0],args[1],
args[2],args[3],args[4],args[5]);case 7:return new Ctor(args[0],args[1],args[2],args[3],args[4],args[5],args[6])}var thisBinding=baseCreate(Ctor.prototype),result=Ctor.apply(thisBinding,args);return isObject(result)?result:thisBinding}}function createCurry(flag){function curryFunc(func,arity,guard){if(guard&&isIterateeCall(func,arity,guard))arity=undefined;var result=createWrapper(func,flag,undefined,undefined,undefined,undefined,undefined,arity);result.placeholder=curryFunc.placeholder;return result}
return curryFunc}function createDefaults(assigner,customizer){return restParam(function(args){var object=args[0];if(object==null)return object;args.push(customizer);return assigner.apply(undefined,args)})}function createExtremum(comparator,exValue){return function(collection,iteratee,thisArg){if(thisArg&&isIterateeCall(collection,iteratee,thisArg))iteratee=undefined;iteratee=getCallback(iteratee,thisArg,3);if(iteratee.length==1){collection=isArray(collection)?collection:toIterable(collection);var result=
arrayExtremum(collection,iteratee,comparator,exValue);if(!(collection.length&&result===exValue))return result}return baseExtremum(collection,iteratee,comparator,exValue)}}function createFind(eachFunc,fromRight){return function(collection,predicate,thisArg){predicate=getCallback(predicate,thisArg,3);if(isArray(collection)){var index=baseFindIndex(collection,predicate,fromRight);return index>-1?collection[index]:undefined}return baseFind(collection,predicate,eachFunc)}}function createFindIndex(fromRight){return function(array,
predicate,thisArg){if(!(array&&array.length))return-1;predicate=getCallback(predicate,thisArg,3);return baseFindIndex(array,predicate,fromRight)}}function createFindKey(objectFunc){return function(object,predicate,thisArg){predicate=getCallback(predicate,thisArg,3);return baseFind(object,predicate,objectFunc,true)}}function createFlow(fromRight){return function(){var wrapper,length=arguments.length,index=fromRight?length:-1,leftIndex=0,funcs=Array(length);while(fromRight?index--:++index<length){var func=
funcs[leftIndex++]=arguments[index];if(typeof func!="function")throw new TypeError(FUNC_ERROR_TEXT);if(!wrapper&&LodashWrapper.prototype.thru&&getFuncName(func)=="wrapper")wrapper=new LodashWrapper([],true)}index=wrapper?-1:length;while(++index<length){func=funcs[index];var funcName=getFuncName(func),data=funcName=="wrapper"?getData(func):undefined;if(data&&isLaziable(data[0])&&data[1]==(ARY_FLAG|CURRY_FLAG|PARTIAL_FLAG|REARG_FLAG)&&!data[4].length&&data[9]==1)wrapper=wrapper[getFuncName(data[0])].apply(wrapper,
data[3]);else wrapper=func.length==1&&isLaziable(func)?wrapper[funcName]():wrapper.thru(func)}return function(){var args=arguments,value=args[0];if(wrapper&&args.length==1&&isArray(value)&&value.length>=LARGE_ARRAY_SIZE)return wrapper.plant(value).value();var index=0,result=length?funcs[index].apply(this,args):value;while(++index<length)result=funcs[index].call(this,result);return result}}}function createForEach(arrayFunc,eachFunc){return function(collection,iteratee,thisArg){return typeof iteratee==
"function"&&thisArg===undefined&&isArray(collection)?arrayFunc(collection,iteratee):eachFunc(collection,bindCallback(iteratee,thisArg,3))}}function createForIn(objectFunc){return function(object,iteratee,thisArg){if(typeof iteratee!="function"||thisArg!==undefined)iteratee=bindCallback(iteratee,thisArg,3);return objectFunc(object,iteratee,keysIn)}}function createForOwn(objectFunc){return function(object,iteratee,thisArg){if(typeof iteratee!="function"||thisArg!==undefined)iteratee=bindCallback(iteratee,
thisArg,3);return objectFunc(object,iteratee)}}function createObjectMapper(isMapKeys){return function(object,iteratee,thisArg){var result={};iteratee=getCallback(iteratee,thisArg,3);baseForOwn(object,function(value,key,object){var mapped=iteratee(value,key,object);key=isMapKeys?mapped:key;value=isMapKeys?value:mapped;result[key]=value});return result}}function createPadDir(fromRight){return function(string,length,chars){string=baseToString(string);return(fromRight?string:"")+createPadding(string,
length,chars)+(fromRight?"":string)}}function createPartial(flag){var partialFunc=restParam(function(func,partials){var holders=replaceHolders(partials,partialFunc.placeholder);return createWrapper(func,flag,undefined,partials,holders)});return partialFunc}function createReduce(arrayFunc,eachFunc){return function(collection,iteratee,accumulator,thisArg){var initFromArray=arguments.length<3;return typeof iteratee=="function"&&thisArg===undefined&&isArray(collection)?arrayFunc(collection,iteratee,accumulator,
initFromArray):baseReduce(collection,getCallback(iteratee,thisArg,4),accumulator,initFromArray,eachFunc)}}function createHybridWrapper(func,bitmask,thisArg,partials,holders,partialsRight,holdersRight,argPos,ary,arity){var isAry=bitmask&ARY_FLAG,isBind=bitmask&BIND_FLAG,isBindKey=bitmask&BIND_KEY_FLAG,isCurry=bitmask&CURRY_FLAG,isCurryBound=bitmask&CURRY_BOUND_FLAG,isCurryRight=bitmask&CURRY_RIGHT_FLAG,Ctor=isBindKey?undefined:createCtorWrapper(func);function wrapper(){var length=arguments.length,
index=length,args=Array(length);while(index--)args[index]=arguments[index];if(partials)args=composeArgs(args,partials,holders);if(partialsRight)args=composeArgsRight(args,partialsRight,holdersRight);if(isCurry||isCurryRight){var placeholder=wrapper.placeholder,argsHolders=replaceHolders(args,placeholder);length-=argsHolders.length;if(length<arity){var newArgPos=argPos?arrayCopy(argPos):undefined,newArity=nativeMax(arity-length,0),newsHolders=isCurry?argsHolders:undefined,newHoldersRight=isCurry?undefined:
argsHolders,newPartials=isCurry?args:undefined,newPartialsRight=isCurry?undefined:args;bitmask|=isCurry?PARTIAL_FLAG:PARTIAL_RIGHT_FLAG;bitmask&=~(isCurry?PARTIAL_RIGHT_FLAG:PARTIAL_FLAG);if(!isCurryBound)bitmask&=~(BIND_FLAG|BIND_KEY_FLAG);var newData=[func,bitmask,thisArg,newPartials,newsHolders,newPartialsRight,newHoldersRight,newArgPos,ary,newArity],result=createHybridWrapper.apply(undefined,newData);if(isLaziable(func))setData(result,newData);result.placeholder=placeholder;return result}}var thisBinding=
isBind?thisArg:this,fn=isBindKey?thisBinding[func]:func;if(argPos)args=reorder(args,argPos);if(isAry&&ary<args.length)args.length=ary;if(this&&this!==root&&this instanceof wrapper)fn=Ctor||createCtorWrapper(func);return fn.apply(thisBinding,args)}return wrapper}function createPadding(string,length,chars){var strLength=string.length;length=+length;if(strLength>=length||!nativeIsFinite(length))return"";var padLength=length-strLength;chars=chars==null?" ":chars+"";return repeat(chars,nativeCeil(padLength/
chars.length)).slice(0,padLength)}function createPartialWrapper(func,bitmask,thisArg,partials){var isBind=bitmask&BIND_FLAG,Ctor=createCtorWrapper(func);function wrapper(){var argsIndex=-1,argsLength=arguments.length,leftIndex=-1,leftLength=partials.length,args=Array(leftLength+argsLength);while(++leftIndex<leftLength)args[leftIndex]=partials[leftIndex];while(argsLength--)args[leftIndex++]=arguments[++argsIndex];var fn=this&&this!==root&&this instanceof wrapper?Ctor:func;return fn.apply(isBind?thisArg:
this,args)}return wrapper}function createRound(methodName){var func=Math[methodName];return function(number,precision){precision=precision===undefined?0:+precision||0;if(precision){precision=pow(10,precision);return func(number*precision)/precision}return func(number)}}function createSortedIndex(retHighest){return function(array,value,iteratee,thisArg){var callback=getCallback(iteratee);return iteratee==null&&callback===baseCallback?binaryIndex(array,value,retHighest):binaryIndexBy(array,value,callback(iteratee,
thisArg,1),retHighest)}}function createWrapper(func,bitmask,thisArg,partials,holders,argPos,ary,arity){var isBindKey=bitmask&BIND_KEY_FLAG;if(!isBindKey&&typeof func!="function")throw new TypeError(FUNC_ERROR_TEXT);var length=partials?partials.length:0;if(!length){bitmask&=~(PARTIAL_FLAG|PARTIAL_RIGHT_FLAG);partials=holders=undefined}length-=holders?holders.length:0;if(bitmask&PARTIAL_RIGHT_FLAG){var partialsRight=partials,holdersRight=holders;partials=holders=undefined}var data=isBindKey?undefined:
getData(func),newData=[func,bitmask,thisArg,partials,holders,partialsRight,holdersRight,argPos,ary,arity];if(data){mergeData(newData,data);bitmask=newData[1];arity=newData[9]}newData[9]=arity==null?isBindKey?0:func.length:nativeMax(arity-length,0)||0;if(bitmask==BIND_FLAG)var result=createBindWrapper(newData[0],newData[2]);else if((bitmask==PARTIAL_FLAG||bitmask==(BIND_FLAG|PARTIAL_FLAG))&&!newData[4].length)result=createPartialWrapper.apply(undefined,newData);else result=createHybridWrapper.apply(undefined,
newData);var setter=data?baseSetData:setData;return setter(result,newData)}function equalArrays(array,other,equalFunc,customizer,isLoose,stackA,stackB){var index=-1,arrLength=array.length,othLength=other.length;if(arrLength!=othLength&&!(isLoose&&othLength>arrLength))return false;while(++index<arrLength){var arrValue=array[index],othValue=other[index],result=customizer?customizer(isLoose?othValue:arrValue,isLoose?arrValue:othValue,index):undefined;if(result!==undefined){if(result)continue;return false}if(isLoose){if(!arraySome(other,
function(othValue){return arrValue===othValue||equalFunc(arrValue,othValue,customizer,isLoose,stackA,stackB)}))return false}else if(!(arrValue===othValue||equalFunc(arrValue,othValue,customizer,isLoose,stackA,stackB)))return false}return true}function equalByTag(object,other,tag){switch(tag){case boolTag:case dateTag:return+object==+other;case errorTag:return object.name==other.name&&object.message==other.message;case numberTag:return object!=+object?other!=+other:object==+other;case regexpTag:case stringTag:return object==
other+""}return false}function equalObjects(object,other,equalFunc,customizer,isLoose,stackA,stackB){var objProps=keys(object),objLength=objProps.length,othProps=keys(other),othLength=othProps.length;if(objLength!=othLength&&!isLoose)return false;var index=objLength;while(index--){var key=objProps[index];if(!(isLoose?key in other:hasOwnProperty.call(other,key)))return false}var skipCtor=isLoose;while(++index<objLength){key=objProps[index];var objValue=object[key],othValue=other[key],result=customizer?
customizer(isLoose?othValue:objValue,isLoose?objValue:othValue,key):undefined;if(!(result===undefined?equalFunc(objValue,othValue,customizer,isLoose,stackA,stackB):result))return false;skipCtor||(skipCtor=key=="constructor")}if(!skipCtor){var objCtor=object.constructor,othCtor=other.constructor;if(objCtor!=othCtor&&("constructor"in object&&"constructor"in other)&&!(typeof objCtor=="function"&&objCtor instanceof objCtor&&typeof othCtor=="function"&&othCtor instanceof othCtor))return false}return true}
function getCallback(func,thisArg,argCount){var result=lodash.callback||callback;result=result===callback?baseCallback:result;return argCount?result(func,thisArg,argCount):result}var getData=!metaMap?noop:function(func){return metaMap.get(func)};function getFuncName(func){var result=func.name+"",array=realNames[result],length=array?array.length:0;while(length--){var data=array[length],otherFunc=data.func;if(otherFunc==null||otherFunc==func)return data.name}return result}function getIndexOf(collection,
target,fromIndex){var result=lodash.indexOf||indexOf;result=result===indexOf?baseIndexOf:result;return collection?result(collection,target,fromIndex):result}var getLength=baseProperty("length");function getMatchData(object){var result=pairs(object),length=result.length;while(length--)result[length][2]=isStrictComparable(result[length][1]);return result}function getNative(object,key){var value=object==null?undefined:object[key];return isNative(value)?value:undefined}function getView(start,end,transforms){var index=
-1,length=transforms.length;while(++index<length){var data=transforms[index],size=data.size;switch(data.type){case "drop":start+=size;break;case "dropRight":end-=size;break;case "take":end=nativeMin(end,start+size);break;case "takeRight":start=nativeMax(start,end-size);break}}return{"start":start,"end":end}}function initCloneArray(array){var length=array.length,result=new array.constructor(length);if(length&&typeof array[0]=="string"&&hasOwnProperty.call(array,"index")){result.index=array.index;result.input=
array.input}return result}function initCloneObject(object){var Ctor=object.constructor;if(!(typeof Ctor=="function"&&Ctor instanceof Ctor))Ctor=Object;return new Ctor}function initCloneByTag(object,tag,isDeep){var Ctor=object.constructor;switch(tag){case arrayBufferTag:return bufferClone(object);case boolTag:case dateTag:return new Ctor(+object);case float32Tag:case float64Tag:case int8Tag:case int16Tag:case int32Tag:case uint8Tag:case uint8ClampedTag:case uint16Tag:case uint32Tag:var buffer=object.buffer;
return new Ctor(isDeep?bufferClone(buffer):buffer,object.byteOffset,object.length);case numberTag:case stringTag:return new Ctor(object);case regexpTag:var result=new Ctor(object.source,reFlags.exec(object));result.lastIndex=object.lastIndex}return result}function invokePath(object,path,args){if(object!=null&&!isKey(path,object)){path=toPath(path);object=path.length==1?object:baseGet(object,baseSlice(path,0,-1));path=last(path)}var func=object==null?object:object[path];return func==null?undefined:
func.apply(object,args)}function isArrayLike(value){return value!=null&&isLength(getLength(value))}function isIndex(value,length){value=typeof value=="number"||reIsUint.test(value)?+value:-1;length=length==null?MAX_SAFE_INTEGER:length;return value>-1&&value%1==0&&value<length}function isIterateeCall(value,index,object){if(!isObject(object))return false;var type=typeof index;if(type=="number"?isArrayLike(object)&&isIndex(index,object.length):type=="string"&&index in object){var other=object[index];
return value===value?value===other:other!==other}return false}function isKey(value,object){var type=typeof value;if(type=="string"&&reIsPlainProp.test(value)||type=="number")return true;if(isArray(value))return false;var result=!reIsDeepProp.test(value);return result||object!=null&&value in toObject(object)}function isLaziable(func){var funcName=getFuncName(func),other=lodash[funcName];if(typeof other!="function"||!(funcName in LazyWrapper.prototype))return false;if(func===other)return true;var data=
getData(other);return!!data&&func===data[0]}function isLength(value){return typeof value=="number"&&value>-1&&value%1==0&&value<=MAX_SAFE_INTEGER}function isStrictComparable(value){return value===value&&!isObject(value)}function mergeData(data,source){var bitmask=data[1],srcBitmask=source[1],newBitmask=bitmask|srcBitmask,isCommon=newBitmask<ARY_FLAG;var isCombo=srcBitmask==ARY_FLAG&&bitmask==CURRY_FLAG||srcBitmask==ARY_FLAG&&bitmask==REARG_FLAG&&data[7].length<=source[8]||srcBitmask==(ARY_FLAG|REARG_FLAG)&&
bitmask==CURRY_FLAG;if(!(isCommon||isCombo))return data;if(srcBitmask&BIND_FLAG){data[2]=source[2];newBitmask|=bitmask&BIND_FLAG?0:CURRY_BOUND_FLAG}var value=source[3];if(value){var partials=data[3];data[3]=partials?composeArgs(partials,value,source[4]):arrayCopy(value);data[4]=partials?replaceHolders(data[3],PLACEHOLDER):arrayCopy(source[4])}value=source[5];if(value){partials=data[5];data[5]=partials?composeArgsRight(partials,value,source[6]):arrayCopy(value);data[6]=partials?replaceHolders(data[5],
PLACEHOLDER):arrayCopy(source[6])}value=source[7];if(value)data[7]=arrayCopy(value);if(srcBitmask&ARY_FLAG)data[8]=data[8]==null?source[8]:nativeMin(data[8],source[8]);if(data[9]==null)data[9]=source[9];data[0]=source[0];data[1]=newBitmask;return data}function mergeDefaults(objectValue,sourceValue){return objectValue===undefined?sourceValue:merge(objectValue,sourceValue,mergeDefaults)}function pickByArray(object,props){object=toObject(object);var index=-1,length=props.length,result={};while(++index<
length){var key=props[index];if(key in object)result[key]=object[key]}return result}function pickByCallback(object,predicate){var result={};baseForIn(object,function(value,key,object){if(predicate(value,key,object))result[key]=value});return result}function reorder(array,indexes){var arrLength=array.length,length=nativeMin(indexes.length,arrLength),oldArray=arrayCopy(array);while(length--){var index=indexes[length];array[length]=isIndex(index,arrLength)?oldArray[index]:undefined}return array}var setData=
function(){var count=0,lastCalled=0;return function(key,value){var stamp=now(),remaining=HOT_SPAN-(stamp-lastCalled);lastCalled=stamp;if(remaining>0){if(++count>=HOT_COUNT)return key}else count=0;return baseSetData(key,value)}}();function shimKeys(object){var props=keysIn(object),propsLength=props.length,length=propsLength&&object.length;var allowIndexes=!!length&&isLength(length)&&(isArray(object)||isArguments(object));var index=-1,result=[];while(++index<propsLength){var key=props[index];if(allowIndexes&&
isIndex(key,length)||hasOwnProperty.call(object,key))result.push(key)}return result}function toIterable(value){if(value==null)return[];if(!isArrayLike(value))return values(value);return isObject(value)?value:Object(value)}function toObject(value){return isObject(value)?value:Object(value)}function toPath(value){if(isArray(value))return value;var result=[];baseToString(value).replace(rePropName,function(match,number,quote,string){result.push(quote?string.replace(reEscapeChar,"$1"):number||match)});
return result}function wrapperClone(wrapper){return wrapper instanceof LazyWrapper?wrapper.clone():new LodashWrapper(wrapper.__wrapped__,wrapper.__chain__,arrayCopy(wrapper.__actions__))}function chunk(array,size,guard){if(guard?isIterateeCall(array,size,guard):size==null)size=1;else size=nativeMax(nativeFloor(size)||1,1);var index=0,length=array?array.length:0,resIndex=-1,result=Array(nativeCeil(length/size));while(index<length)result[++resIndex]=baseSlice(array,index,index+=size);return result}
function compact(array){var index=-1,length=array?array.length:0,resIndex=-1,result=[];while(++index<length){var value=array[index];if(value)result[++resIndex]=value}return result}var difference=restParam(function(array,values){return isObjectLike(array)&&isArrayLike(array)?baseDifference(array,baseFlatten(values,false,true)):[]});function drop(array,n,guard){var length=array?array.length:0;if(!length)return[];if(guard?isIterateeCall(array,n,guard):n==null)n=1;return baseSlice(array,n<0?0:n)}function dropRight(array,
n,guard){var length=array?array.length:0;if(!length)return[];if(guard?isIterateeCall(array,n,guard):n==null)n=1;n=length-(+n||0);return baseSlice(array,0,n<0?0:n)}function dropRightWhile(array,predicate,thisArg){return array&&array.length?baseWhile(array,getCallback(predicate,thisArg,3),true,true):[]}function dropWhile(array,predicate,thisArg){return array&&array.length?baseWhile(array,getCallback(predicate,thisArg,3),true):[]}function fill(array,value,start,end){var length=array?array.length:0;if(!length)return[];
if(start&&typeof start!="number"&&isIterateeCall(array,value,start)){start=0;end=length}return baseFill(array,value,start,end)}var findIndex=createFindIndex();var findLastIndex=createFindIndex(true);function first(array){return array?array[0]:undefined}function flatten(array,isDeep,guard){var length=array?array.length:0;if(guard&&isIterateeCall(array,isDeep,guard))isDeep=false;return length?baseFlatten(array,isDeep):[]}function flattenDeep(array){var length=array?array.length:0;return length?baseFlatten(array,
true):[]}function indexOf(array,value,fromIndex){var length=array?array.length:0;if(!length)return-1;if(typeof fromIndex=="number")fromIndex=fromIndex<0?nativeMax(length+fromIndex,0):fromIndex;else if(fromIndex){var index=binaryIndex(array,value);if(index<length&&(value===value?value===array[index]:array[index]!==array[index]))return index;return-1}return baseIndexOf(array,value,fromIndex||0)}function initial(array){return dropRight(array,1)}var intersection=restParam(function(arrays){var othLength=
arrays.length,othIndex=othLength,caches=Array(length),indexOf=getIndexOf(),isCommon=indexOf===baseIndexOf,result=[];while(othIndex--){var value=arrays[othIndex]=isArrayLike(value=arrays[othIndex])?value:[];caches[othIndex]=isCommon&&value.length>=120?createCache(othIndex&&value):null}var array=arrays[0],index=-1,length=array?array.length:0,seen=caches[0];outer:while(++index<length){value=array[index];if((seen?cacheIndexOf(seen,value):indexOf(result,value,0))<0){var othIndex=othLength;while(--othIndex){var cache=
caches[othIndex];if((cache?cacheIndexOf(cache,value):indexOf(arrays[othIndex],value,0))<0)continue outer}if(seen)seen.push(value);result.push(value)}}return result});function last(array){var length=array?array.length:0;return length?array[length-1]:undefined}function lastIndexOf(array,value,fromIndex){var length=array?array.length:0;if(!length)return-1;var index=length;if(typeof fromIndex=="number")index=(fromIndex<0?nativeMax(length+fromIndex,0):nativeMin(fromIndex||0,length-1))+1;else if(fromIndex){index=
binaryIndex(array,value,true)-1;var other=array[index];if(value===value?value===other:other!==other)return index;return-1}if(value!==value)return indexOfNaN(array,index,true);while(index--)if(array[index]===value)return index;return-1}function pull(){var args=arguments,array=args[0];if(!(array&&array.length))return array;var index=0,indexOf=getIndexOf(),length=args.length;while(++index<length){var fromIndex=0,value=args[index];while((fromIndex=indexOf(array,value,fromIndex))>-1)splice.call(array,
fromIndex,1)}return array}var pullAt=restParam(function(array,indexes){indexes=baseFlatten(indexes);var result=baseAt(array,indexes);basePullAt(array,indexes.sort(baseCompareAscending));return result});function remove(array,predicate,thisArg){var result=[];if(!(array&&array.length))return result;var index=-1,indexes=[],length=array.length;predicate=getCallback(predicate,thisArg,3);while(++index<length){var value=array[index];if(predicate(value,index,array)){result.push(value);indexes.push(index)}}basePullAt(array,
indexes);return result}function rest(array){return drop(array,1)}function slice(array,start,end){var length=array?array.length:0;if(!length)return[];if(end&&typeof end!="number"&&isIterateeCall(array,start,end)){start=0;end=length}return baseSlice(array,start,end)}var sortedIndex=createSortedIndex();var sortedLastIndex=createSortedIndex(true);function take(array,n,guard){var length=array?array.length:0;if(!length)return[];if(guard?isIterateeCall(array,n,guard):n==null)n=1;return baseSlice(array,0,
n<0?0:n)}function takeRight(array,n,guard){var length=array?array.length:0;if(!length)return[];if(guard?isIterateeCall(array,n,guard):n==null)n=1;n=length-(+n||0);return baseSlice(array,n<0?0:n)}function takeRightWhile(array,predicate,thisArg){return array&&array.length?baseWhile(array,getCallback(predicate,thisArg,3),false,true):[]}function takeWhile(array,predicate,thisArg){return array&&array.length?baseWhile(array,getCallback(predicate,thisArg,3)):[]}var union=restParam(function(arrays){return baseUniq(baseFlatten(arrays,
false,true))});function uniq(array,isSorted,iteratee,thisArg){var length=array?array.length:0;if(!length)return[];if(isSorted!=null&&typeof isSorted!="boolean"){thisArg=iteratee;iteratee=isIterateeCall(array,isSorted,thisArg)?undefined:isSorted;isSorted=false}var callback=getCallback();if(!(iteratee==null&&callback===baseCallback))iteratee=callback(iteratee,thisArg,3);return isSorted&&getIndexOf()===baseIndexOf?sortedUniq(array,iteratee):baseUniq(array,iteratee)}function unzip(array){if(!(array&&
array.length))return[];var index=-1,length=0;array=arrayFilter(array,function(group){if(isArrayLike(group)){length=nativeMax(group.length,length);return true}});var result=Array(length);while(++index<length)result[index]=arrayMap(array,baseProperty(index));return result}function unzipWith(array,iteratee,thisArg){var length=array?array.length:0;if(!length)return[];var result=unzip(array);if(iteratee==null)return result;iteratee=bindCallback(iteratee,thisArg,4);return arrayMap(result,function(group){return arrayReduce(group,
iteratee,undefined,true)})}var without=restParam(function(array,values){return isArrayLike(array)?baseDifference(array,values):[]});function xor(){var index=-1,length=arguments.length;while(++index<length){var array=arguments[index];if(isArrayLike(array))var result=result?arrayPush(baseDifference(result,array),baseDifference(array,result)):array}return result?baseUniq(result):[]}var zip=restParam(unzip);function zipObject(props,values){var index=-1,length=props?props.length:0,result={};if(length&&
!values&&!isArray(props[0]))values=[];while(++index<length){var key=props[index];if(values)result[key]=values[index];else if(key)result[key[0]]=key[1]}return result}var zipWith=restParam(function(arrays){var length=arrays.length,iteratee=length>2?arrays[length-2]:undefined,thisArg=length>1?arrays[length-1]:undefined;if(length>2&&typeof iteratee=="function")length-=2;else{iteratee=length>1&&typeof thisArg=="function"?(--length,thisArg):undefined;thisArg=undefined}arrays.length=length;return unzipWith(arrays,
iteratee,thisArg)});function chain(value){var result=lodash(value);result.__chain__=true;return result}function tap(value,interceptor,thisArg){interceptor.call(thisArg,value);return value}function thru(value,interceptor,thisArg){return interceptor.call(thisArg,value)}function wrapperChain(){return chain(this)}function wrapperCommit(){return new LodashWrapper(this.value(),this.__chain__)}var wrapperConcat=restParam(function(values){values=baseFlatten(values);return this.thru(function(array){return arrayConcat(isArray(array)?
array:[toObject(array)],values)})});function wrapperPlant(value){var result,parent=this;while(parent instanceof baseLodash){var clone=wrapperClone(parent);if(result)previous.__wrapped__=clone;else result=clone;var previous=clone;parent=parent.__wrapped__}previous.__wrapped__=value;return result}function wrapperReverse(){var value=this.__wrapped__;var interceptor=function(value){return value.reverse()};if(value instanceof LazyWrapper){var wrapped=value;if(this.__actions__.length)wrapped=new LazyWrapper(this);
wrapped=wrapped.reverse();wrapped.__actions__.push({"func":thru,"args":[interceptor],"thisArg":undefined});return new LodashWrapper(wrapped,this.__chain__)}return this.thru(interceptor)}function wrapperToString(){return this.value()+""}function wrapperValue(){return baseWrapperValue(this.__wrapped__,this.__actions__)}var at=restParam(function(collection,props){return baseAt(collection,baseFlatten(props))});var countBy=createAggregator(function(result,value,key){hasOwnProperty.call(result,key)?++result[key]:
result[key]=1});function every(collection,predicate,thisArg){var func=isArray(collection)?arrayEvery:baseEvery;if(thisArg&&isIterateeCall(collection,predicate,thisArg))predicate=undefined;if(typeof predicate!="function"||thisArg!==undefined)predicate=getCallback(predicate,thisArg,3);return func(collection,predicate)}function filter(collection,predicate,thisArg){var func=isArray(collection)?arrayFilter:baseFilter;predicate=getCallback(predicate,thisArg,3);return func(collection,predicate)}var find=
createFind(baseEach);var findLast=createFind(baseEachRight,true);function findWhere(collection,source){return find(collection,baseMatches(source))}var forEach=createForEach(arrayEach,baseEach);var forEachRight=createForEach(arrayEachRight,baseEachRight);var groupBy=createAggregator(function(result,value,key){if(hasOwnProperty.call(result,key))result[key].push(value);else result[key]=[value]});function includes(collection,target,fromIndex,guard){var length=collection?getLength(collection):0;if(!isLength(length)){collection=
values(collection);length=collection.length}if(typeof fromIndex!="number"||guard&&isIterateeCall(target,fromIndex,guard))fromIndex=0;else fromIndex=fromIndex<0?nativeMax(length+fromIndex,0):fromIndex||0;return typeof collection=="string"||!isArray(collection)&&isString(collection)?fromIndex<=length&&collection.indexOf(target,fromIndex)>-1:!!length&&getIndexOf(collection,target,fromIndex)>-1}var indexBy=createAggregator(function(result,value,key){result[key]=value});var invoke=restParam(function(collection,
path,args){var index=-1,isFunc=typeof path=="function",isProp=isKey(path),result=isArrayLike(collection)?Array(collection.length):[];baseEach(collection,function(value){var func=isFunc?path:isProp&&value!=null?value[path]:undefined;result[++index]=func?func.apply(value,args):invokePath(value,path,args)});return result});function map(collection,iteratee,thisArg){var func=isArray(collection)?arrayMap:baseMap;iteratee=getCallback(iteratee,thisArg,3);return func(collection,iteratee)}var partition=createAggregator(function(result,
value,key){result[key?0:1].push(value)},function(){return[[],[]]});function pluck(collection,path){return map(collection,property(path))}var reduce=createReduce(arrayReduce,baseEach);var reduceRight=createReduce(arrayReduceRight,baseEachRight);function reject(collection,predicate,thisArg){var func=isArray(collection)?arrayFilter:baseFilter;predicate=getCallback(predicate,thisArg,3);return func(collection,function(value,index,collection){return!predicate(value,index,collection)})}function sample(collection,
n,guard){if(guard?isIterateeCall(collection,n,guard):n==null){collection=toIterable(collection);var length=collection.length;return length>0?collection[baseRandom(0,length-1)]:undefined}var index=-1,result=toArray(collection),length=result.length,lastIndex=length-1;n=nativeMin(n<0?0:+n||0,length);while(++index<n){var rand=baseRandom(index,lastIndex),value=result[rand];result[rand]=result[index];result[index]=value}result.length=n;return result}function shuffle(collection){return sample(collection,
POSITIVE_INFINITY)}function size(collection){var length=collection?getLength(collection):0;return isLength(length)?length:keys(collection).length}function some(collection,predicate,thisArg){var func=isArray(collection)?arraySome:baseSome;if(thisArg&&isIterateeCall(collection,predicate,thisArg))predicate=undefined;if(typeof predicate!="function"||thisArg!==undefined)predicate=getCallback(predicate,thisArg,3);return func(collection,predicate)}function sortBy(collection,iteratee,thisArg){if(collection==
null)return[];if(thisArg&&isIterateeCall(collection,iteratee,thisArg))iteratee=undefined;var index=-1;iteratee=getCallback(iteratee,thisArg,3);var result=baseMap(collection,function(value,key,collection){return{"criteria":iteratee(value,key,collection),"index":++index,"value":value}});return baseSortBy(result,compareAscending)}var sortByAll=restParam(function(collection,iteratees){if(collection==null)return[];var guard=iteratees[2];if(guard&&isIterateeCall(iteratees[0],iteratees[1],guard))iteratees.length=
1;return baseSortByOrder(collection,baseFlatten(iteratees),[])});function sortByOrder(collection,iteratees,orders,guard){if(collection==null)return[];if(guard&&isIterateeCall(iteratees,orders,guard))orders=undefined;if(!isArray(iteratees))iteratees=iteratees==null?[]:[iteratees];if(!isArray(orders))orders=orders==null?[]:[orders];return baseSortByOrder(collection,iteratees,orders)}function where(collection,source){return filter(collection,baseMatches(source))}var now=nativeNow||function(){return(new Date).getTime()};
function after(n,func){if(typeof func!="function")if(typeof n=="function"){var temp=n;n=func;func=temp}else throw new TypeError(FUNC_ERROR_TEXT);n=nativeIsFinite(n=+n)?n:0;return function(){if(--n<1)return func.apply(this,arguments)}}function ary(func,n,guard){if(guard&&isIterateeCall(func,n,guard))n=undefined;n=func&&n==null?func.length:nativeMax(+n||0,0);return createWrapper(func,ARY_FLAG,undefined,undefined,undefined,undefined,n)}function before(n,func){var result;if(typeof func!="function")if(typeof n==
"function"){var temp=n;n=func;func=temp}else throw new TypeError(FUNC_ERROR_TEXT);return function(){if(--n>0)result=func.apply(this,arguments);if(n<=1)func=undefined;return result}}var bind=restParam(function(func,thisArg,partials){var bitmask=BIND_FLAG;if(partials.length){var holders=replaceHolders(partials,bind.placeholder);bitmask|=PARTIAL_FLAG}return createWrapper(func,bitmask,thisArg,partials,holders)});var bindAll=restParam(function(object,methodNames){methodNames=methodNames.length?baseFlatten(methodNames):
functions(object);var index=-1,length=methodNames.length;while(++index<length){var key=methodNames[index];object[key]=createWrapper(object[key],BIND_FLAG,object)}return object});var bindKey=restParam(function(object,key,partials){var bitmask=BIND_FLAG|BIND_KEY_FLAG;if(partials.length){var holders=replaceHolders(partials,bindKey.placeholder);bitmask|=PARTIAL_FLAG}return createWrapper(key,bitmask,object,partials,holders)});var curry=createCurry(CURRY_FLAG);var curryRight=createCurry(CURRY_RIGHT_FLAG);
function debounce(func,wait,options){var args,maxTimeoutId,result,stamp,thisArg,timeoutId,trailingCall,lastCalled=0,maxWait=false,trailing=true;if(typeof func!="function")throw new TypeError(FUNC_ERROR_TEXT);wait=wait<0?0:+wait||0;if(options===true){var leading=true;trailing=false}else if(isObject(options)){leading=!!options.leading;maxWait="maxWait"in options&&nativeMax(+options.maxWait||0,wait);trailing="trailing"in options?!!options.trailing:trailing}function cancel(){if(timeoutId)clearTimeout(timeoutId);
if(maxTimeoutId)clearTimeout(maxTimeoutId);lastCalled=0;maxTimeoutId=timeoutId=trailingCall=undefined}function complete(isCalled,id){if(id)clearTimeout(id);maxTimeoutId=timeoutId=trailingCall=undefined;if(isCalled){lastCalled=now();result=func.apply(thisArg,args);if(!timeoutId&&!maxTimeoutId)args=thisArg=undefined}}function delayed(){var remaining=wait-(now()-stamp);if(remaining<=0||remaining>wait)complete(trailingCall,maxTimeoutId);else timeoutId=setTimeout(delayed,remaining)}function maxDelayed(){complete(trailing,
timeoutId)}function debounced(){args=arguments;stamp=now();thisArg=this;trailingCall=trailing&&(timeoutId||!leading);if(maxWait===false)var leadingCall=leading&&!timeoutId;else{if(!maxTimeoutId&&!leading)lastCalled=stamp;var remaining=maxWait-(stamp-lastCalled),isCalled=remaining<=0||remaining>maxWait;if(isCalled){if(maxTimeoutId)maxTimeoutId=clearTimeout(maxTimeoutId);lastCalled=stamp;result=func.apply(thisArg,args)}else if(!maxTimeoutId)maxTimeoutId=setTimeout(maxDelayed,remaining)}if(isCalled&&
timeoutId)timeoutId=clearTimeout(timeoutId);else if(!timeoutId&&wait!==maxWait)timeoutId=setTimeout(delayed,wait);if(leadingCall){isCalled=true;result=func.apply(thisArg,args)}if(isCalled&&!timeoutId&&!maxTimeoutId)args=thisArg=undefined;return result}debounced.cancel=cancel;return debounced}var defer=restParam(function(func,args){return baseDelay(func,1,args)});var delay=restParam(function(func,wait,args){return baseDelay(func,wait,args)});var flow=createFlow();var flowRight=createFlow(true);function memoize(func,
resolver){if(typeof func!="function"||resolver&&typeof resolver!="function")throw new TypeError(FUNC_ERROR_TEXT);var memoized=function(){var args=arguments,key=resolver?resolver.apply(this,args):args[0],cache=memoized.cache;if(cache.has(key))return cache.get(key);var result=func.apply(this,args);memoized.cache=cache.set(key,result);return result};memoized.cache=new memoize.Cache;return memoized}var modArgs=restParam(function(func,transforms){transforms=baseFlatten(transforms);if(typeof func!="function"||
!arrayEvery(transforms,baseIsFunction))throw new TypeError(FUNC_ERROR_TEXT);var length=transforms.length;return restParam(function(args){var index=nativeMin(args.length,length);while(index--)args[index]=transforms[index](args[index]);return func.apply(this,args)})});function negate(predicate){if(typeof predicate!="function")throw new TypeError(FUNC_ERROR_TEXT);return function(){return!predicate.apply(this,arguments)}}function once(func){return before(2,func)}var partial=createPartial(PARTIAL_FLAG);
var partialRight=createPartial(PARTIAL_RIGHT_FLAG);var rearg=restParam(function(func,indexes){return createWrapper(func,REARG_FLAG,undefined,undefined,undefined,baseFlatten(indexes))});function restParam(func,start){if(typeof func!="function")throw new TypeError(FUNC_ERROR_TEXT);start=nativeMax(start===undefined?func.length-1:+start||0,0);return function(){var args=arguments,index=-1,length=nativeMax(args.length-start,0),rest=Array(length);while(++index<length)rest[index]=args[start+index];switch(start){case 0:return func.call(this,
rest);case 1:return func.call(this,args[0],rest);case 2:return func.call(this,args[0],args[1],rest)}var otherArgs=Array(start+1);index=-1;while(++index<start)otherArgs[index]=args[index];otherArgs[start]=rest;return func.apply(this,otherArgs)}}function spread(func){if(typeof func!="function")throw new TypeError(FUNC_ERROR_TEXT);return function(array){return func.apply(this,array)}}function throttle(func,wait,options){var leading=true,trailing=true;if(typeof func!="function")throw new TypeError(FUNC_ERROR_TEXT);
if(options===false)leading=false;else if(isObject(options)){leading="leading"in options?!!options.leading:leading;trailing="trailing"in options?!!options.trailing:trailing}return debounce(func,wait,{"leading":leading,"maxWait":+wait,"trailing":trailing})}function wrap(value,wrapper){wrapper=wrapper==null?identity:wrapper;return createWrapper(wrapper,PARTIAL_FLAG,undefined,[value],[])}function clone(value,isDeep,customizer,thisArg){if(isDeep&&typeof isDeep!="boolean"&&isIterateeCall(value,isDeep,customizer))isDeep=
false;else if(typeof isDeep=="function"){thisArg=customizer;customizer=isDeep;isDeep=false}return typeof customizer=="function"?baseClone(value,isDeep,bindCallback(customizer,thisArg,3)):baseClone(value,isDeep)}function cloneDeep(value,customizer,thisArg){return typeof customizer=="function"?baseClone(value,true,bindCallback(customizer,thisArg,3)):baseClone(value,true)}function gt(value,other){return value>other}function gte(value,other){return value>=other}function isArguments(value){return isObjectLike(value)&&
isArrayLike(value)&&hasOwnProperty.call(value,"callee")&&!propertyIsEnumerable.call(value,"callee")}var isArray=nativeIsArray||function(value){return isObjectLike(value)&&isLength(value.length)&&objToString.call(value)==arrayTag};function isBoolean(value){return value===true||value===false||isObjectLike(value)&&objToString.call(value)==boolTag}function isDate(value){return isObjectLike(value)&&objToString.call(value)==dateTag}function isElement(value){return!!value&&value.nodeType===1&&isObjectLike(value)&&
!isPlainObject(value)}function isEmpty(value){if(value==null)return true;if(isArrayLike(value)&&(isArray(value)||isString(value)||isArguments(value)||isObjectLike(value)&&isFunction(value.splice)))return!value.length;return!keys(value).length}function isEqual(value,other,customizer,thisArg){customizer=typeof customizer=="function"?bindCallback(customizer,thisArg,3):undefined;var result=customizer?customizer(value,other):undefined;return result===undefined?baseIsEqual(value,other,customizer):!!result}
function isError(value){return isObjectLike(value)&&typeof value.message=="string"&&objToString.call(value)==errorTag}function isFinite(value){return typeof value=="number"&&nativeIsFinite(value)}function isFunction(value){return isObject(value)&&objToString.call(value)==funcTag}function isObject(value){var type=typeof value;return!!value&&(type=="object"||type=="function")}function isMatch(object,source,customizer,thisArg){customizer=typeof customizer=="function"?bindCallback(customizer,thisArg,
3):undefined;return baseIsMatch(object,getMatchData(source),customizer)}function isNaN(value){return isNumber(value)&&value!=+value}function isNative(value){if(value==null)return false;if(isFunction(value))return reIsNative.test(fnToString.call(value));return isObjectLike(value)&&reIsHostCtor.test(value)}function isNull(value){return value===null}function isNumber(value){return typeof value=="number"||isObjectLike(value)&&objToString.call(value)==numberTag}function isPlainObject(value){var Ctor;if(!(isObjectLike(value)&&
objToString.call(value)==objectTag&&!isArguments(value))||!hasOwnProperty.call(value,"constructor")&&(Ctor=value.constructor,typeof Ctor=="function"&&!(Ctor instanceof Ctor)))return false;var result;baseForIn(value,function(subValue,key){result=key});return result===undefined||hasOwnProperty.call(value,result)}function isRegExp(value){return isObject(value)&&objToString.call(value)==regexpTag}function isString(value){return typeof value=="string"||isObjectLike(value)&&objToString.call(value)==stringTag}
function isTypedArray(value){return isObjectLike(value)&&isLength(value.length)&&!!typedArrayTags[objToString.call(value)]}function isUndefined(value){return value===undefined}function lt(value,other){return value<other}function lte(value,other){return value<=other}function toArray(value){var length=value?getLength(value):0;if(!isLength(length))return values(value);if(!length)return[];return arrayCopy(value)}function toPlainObject(value){return baseCopy(value,keysIn(value))}var merge=createAssigner(baseMerge);
var assign=createAssigner(function(object,source,customizer){return customizer?assignWith(object,source,customizer):baseAssign(object,source)});function create(prototype,properties,guard){var result=baseCreate(prototype);if(guard&&isIterateeCall(prototype,properties,guard))properties=undefined;return properties?baseAssign(result,properties):result}var defaults=createDefaults(assign,assignDefaults);var defaultsDeep=createDefaults(merge,mergeDefaults);var findKey=createFindKey(baseForOwn);var findLastKey=
createFindKey(baseForOwnRight);var forIn=createForIn(baseFor);var forInRight=createForIn(baseForRight);var forOwn=createForOwn(baseForOwn);var forOwnRight=createForOwn(baseForOwnRight);function functions(object){return baseFunctions(object,keysIn(object))}function get(object,path,defaultValue){var result=object==null?undefined:baseGet(object,toPath(path),path+"");return result===undefined?defaultValue:result}function has(object,path){if(object==null)return false;var result=hasOwnProperty.call(object,
path);if(!result&&!isKey(path)){path=toPath(path);object=path.length==1?object:baseGet(object,baseSlice(path,0,-1));if(object==null)return false;path=last(path);result=hasOwnProperty.call(object,path)}return result||isLength(object.length)&&isIndex(path,object.length)&&(isArray(object)||isArguments(object))}function invert(object,multiValue,guard){if(guard&&isIterateeCall(object,multiValue,guard))multiValue=undefined;var index=-1,props=keys(object),length=props.length,result={};while(++index<length){var key=
props[index],value=object[key];if(multiValue)if(hasOwnProperty.call(result,value))result[value].push(key);else result[value]=[key];else result[value]=key}return result}var keys=!nativeKeys?shimKeys:function(object){var Ctor=object==null?undefined:object.constructor;if(typeof Ctor=="function"&&Ctor.prototype===object||typeof object!="function"&&isArrayLike(object))return shimKeys(object);return isObject(object)?nativeKeys(object):[]};function keysIn(object){if(object==null)return[];if(!isObject(object))object=
Object(object);var length=object.length;length=length&&isLength(length)&&(isArray(object)||isArguments(object))&&length||0;var Ctor=object.constructor,index=-1,isProto=typeof Ctor=="function"&&Ctor.prototype===object,result=Array(length),skipIndexes=length>0;while(++index<length)result[index]=index+"";for(var key in object)if(!(skipIndexes&&isIndex(key,length))&&!(key=="constructor"&&(isProto||!hasOwnProperty.call(object,key))))result.push(key);return result}var mapKeys=createObjectMapper(true);var mapValues=
createObjectMapper();var omit=restParam(function(object,props){if(object==null)return{};if(typeof props[0]!="function"){var props=arrayMap(baseFlatten(props),String);return pickByArray(object,baseDifference(keysIn(object),props))}var predicate=bindCallback(props[0],props[1],3);return pickByCallback(object,function(value,key,object){return!predicate(value,key,object)})});function pairs(object){object=toObject(object);var index=-1,props=keys(object),length=props.length,result=Array(length);while(++index<
length){var key=props[index];result[index]=[key,object[key]]}return result}var pick=restParam(function(object,props){if(object==null)return{};return typeof props[0]=="function"?pickByCallback(object,bindCallback(props[0],props[1],3)):pickByArray(object,baseFlatten(props))});function result(object,path,defaultValue){var result=object==null?undefined:object[path];if(result===undefined){if(object!=null&&!isKey(path,object)){path=toPath(path);object=path.length==1?object:baseGet(object,baseSlice(path,
0,-1));result=object==null?undefined:object[last(path)]}result=result===undefined?defaultValue:result}return isFunction(result)?result.call(object):result}function set(object,path,value){if(object==null)return object;var pathKey=path+"";path=object[pathKey]!=null||isKey(path,object)?[pathKey]:toPath(path);var index=-1,length=path.length,lastIndex=length-1,nested=object;while(nested!=null&&++index<length){var key=path[index];if(isObject(nested))if(index==lastIndex)nested[key]=value;else if(nested[key]==
null)nested[key]=isIndex(path[index+1])?[]:{};nested=nested[key]}return object}function transform(object,iteratee,accumulator,thisArg){var isArr=isArray(object)||isTypedArray(object);iteratee=getCallback(iteratee,thisArg,4);if(accumulator==null)if(isArr||isObject(object)){var Ctor=object.constructor;if(isArr)accumulator=isArray(object)?new Ctor:[];else accumulator=baseCreate(isFunction(Ctor)?Ctor.prototype:undefined)}else accumulator={};(isArr?arrayEach:baseForOwn)(object,function(value,index,object){return iteratee(accumulator,
value,index,object)});return accumulator}function values(object){return baseValues(object,keys(object))}function valuesIn(object){return baseValues(object,keysIn(object))}function inRange(value,start,end){start=+start||0;if(end===undefined){end=start;start=0}else end=+end||0;return value>=nativeMin(start,end)&&value<nativeMax(start,end)}function random(min,max,floating){if(floating&&isIterateeCall(min,max,floating))max=floating=undefined;var noMin=min==null,noMax=max==null;if(floating==null)if(noMax&&
typeof min=="boolean"){floating=min;min=1}else if(typeof max=="boolean"){floating=max;noMax=true}if(noMin&&noMax){max=1;noMax=false}min=+min||0;if(noMax){max=min;min=0}else max=+max||0;if(floating||min%1||max%1){var rand=nativeRandom();return nativeMin(min+rand*(max-min+parseFloat("1e-"+((rand+"").length-1))),max)}return baseRandom(min,max)}var camelCase=createCompounder(function(result,word,index){word=word.toLowerCase();return result+(index?word.charAt(0).toUpperCase()+word.slice(1):word)});function capitalize(string){string=
baseToString(string);return string&&string.charAt(0).toUpperCase()+string.slice(1)}function deburr(string){string=baseToString(string);return string&&string.replace(reLatin1,deburrLetter).replace(reComboMark,"")}function endsWith(string,target,position){string=baseToString(string);target=target+"";var length=string.length;position=position===undefined?length:nativeMin(position<0?0:+position||0,length);position-=target.length;return position>=0&&string.indexOf(target,position)==position}function escape(string){string=
baseToString(string);return string&&reHasUnescapedHtml.test(string)?string.replace(reUnescapedHtml,escapeHtmlChar):string}function escapeRegExp(string){string=baseToString(string);return string&&reHasRegExpChars.test(string)?string.replace(reRegExpChars,escapeRegExpChar):string||"(?:)"}var kebabCase=createCompounder(function(result,word,index){return result+(index?"-":"")+word.toLowerCase()});function pad(string,length,chars){string=baseToString(string);length=+length;var strLength=string.length;
if(strLength>=length||!nativeIsFinite(length))return string;var mid=(length-strLength)/2,leftLength=nativeFloor(mid),rightLength=nativeCeil(mid);chars=createPadding("",rightLength,chars);return chars.slice(0,leftLength)+string+chars}var padLeft=createPadDir();var padRight=createPadDir(true);function parseInt(string,radix,guard){if(guard?isIterateeCall(string,radix,guard):radix==null)radix=0;else if(radix)radix=+radix;string=trim(string);return nativeParseInt(string,radix||(reHasHexPrefix.test(string)?
16:10))}function repeat(string,n){var result="";string=baseToString(string);n=+n;if(n<1||!string||!nativeIsFinite(n))return result;do{if(n%2)result+=string;n=nativeFloor(n/2);string+=string}while(n);return result}var snakeCase=createCompounder(function(result,word,index){return result+(index?"_":"")+word.toLowerCase()});var startCase=createCompounder(function(result,word,index){return result+(index?" ":"")+(word.charAt(0).toUpperCase()+word.slice(1))});function startsWith(string,target,position){string=
baseToString(string);position=position==null?0:nativeMin(position<0?0:+position||0,string.length);return string.lastIndexOf(target,position)==position}function template(string,options,otherOptions){var settings=lodash.templateSettings;if(otherOptions&&isIterateeCall(string,options,otherOptions))options=otherOptions=undefined;string=baseToString(string);options=assignWith(baseAssign({},otherOptions||options),settings,assignOwnDefaults);var imports=assignWith(baseAssign({},options.imports),settings.imports,
assignOwnDefaults),importsKeys=keys(imports),importsValues=baseValues(imports,importsKeys);var isEscaping,isEvaluating,index=0,interpolate=options.interpolate||reNoMatch,source="__p +\x3d '";var reDelimiters=RegExp((options.escape||reNoMatch).source+"|"+interpolate.source+"|"+(interpolate===reInterpolate?reEsTemplate:reNoMatch).source+"|"+(options.evaluate||reNoMatch).source+"|$","g");var sourceURL="//# sourceURL\x3d"+("sourceURL"in options?options.sourceURL:"lodash.templateSources["+ ++templateCounter+
"]")+"\n";string.replace(reDelimiters,function(match,escapeValue,interpolateValue,esTemplateValue,evaluateValue,offset){interpolateValue||(interpolateValue=esTemplateValue);source+=string.slice(index,offset).replace(reUnescapedString,escapeStringChar);if(escapeValue){isEscaping=true;source+="' +\n__e("+escapeValue+") +\n'"}if(evaluateValue){isEvaluating=true;source+="';\n"+evaluateValue+";\n__p +\x3d '"}if(interpolateValue)source+="' +\n((__t \x3d ("+interpolateValue+")) \x3d\x3d null ? '' : __t) +\n'";
index=offset+match.length;return match});source+="';\n";var variable=options.variable;if(!variable)source="with (obj) {\n"+source+"\n}\n";source=(isEvaluating?source.replace(reEmptyStringLeading,""):source).replace(reEmptyStringMiddle,"$1").replace(reEmptyStringTrailing,"$1;");source="function("+(variable||"obj")+") {\n"+(variable?"":"obj || (obj \x3d {});\n")+"var __t, __p \x3d ''"+(isEscaping?", __e \x3d _.escape":"")+(isEvaluating?", __j \x3d Array.prototype.join;\n"+"function print() { __p +\x3d __j.call(arguments, '') }\n":
";\n")+source+"return __p\n}";var result=attempt(function(){return Function(importsKeys,sourceURL+"return "+source).apply(undefined,importsValues)});result.source=source;if(isError(result))throw result;return result}function trim(string,chars,guard){var value=string;string=baseToString(string);if(!string)return string;if(guard?isIterateeCall(value,chars,guard):chars==null)return string.slice(trimmedLeftIndex(string),trimmedRightIndex(string)+1);chars=chars+"";return string.slice(charsLeftIndex(string,
chars),charsRightIndex(string,chars)+1)}function trimLeft(string,chars,guard){var value=string;string=baseToString(string);if(!string)return string;if(guard?isIterateeCall(value,chars,guard):chars==null)return string.slice(trimmedLeftIndex(string));return string.slice(charsLeftIndex(string,chars+""))}function trimRight(string,chars,guard){var value=string;string=baseToString(string);if(!string)return string;if(guard?isIterateeCall(value,chars,guard):chars==null)return string.slice(0,trimmedRightIndex(string)+
1);return string.slice(0,charsRightIndex(string,chars+"")+1)}function trunc(string,options,guard){if(guard&&isIterateeCall(string,options,guard))options=undefined;var length=DEFAULT_TRUNC_LENGTH,omission=DEFAULT_TRUNC_OMISSION;if(options!=null)if(isObject(options)){var separator="separator"in options?options.separator:separator;length="length"in options?+options.length||0:length;omission="omission"in options?baseToString(options.omission):omission}else length=+options||0;string=baseToString(string);
if(length>=string.length)return string;var end=length-omission.length;if(end<1)return omission;var result=string.slice(0,end);if(separator==null)return result+omission;if(isRegExp(separator)){if(string.slice(end).search(separator)){var match,newEnd,substring=string.slice(0,end);if(!separator.global)separator=RegExp(separator.source,(reFlags.exec(separator)||"")+"g");separator.lastIndex=0;while(match=separator.exec(substring))newEnd=match.index;result=result.slice(0,newEnd==null?end:newEnd)}}else if(string.indexOf(separator,
end)!=end){var index=result.lastIndexOf(separator);if(index>-1)result=result.slice(0,index)}return result+omission}function unescape(string){string=baseToString(string);return string&&reHasEscapedHtml.test(string)?string.replace(reEscapedHtml,unescapeHtmlChar):string}function words(string,pattern,guard){if(guard&&isIterateeCall(string,pattern,guard))pattern=undefined;string=baseToString(string);return string.match(pattern||reWords)||[]}var attempt=restParam(function(func,args){try{return func.apply(undefined,
args)}catch(e){return isError(e)?e:new Error(e)}});function callback(func,thisArg,guard){if(guard&&isIterateeCall(func,thisArg,guard))thisArg=undefined;return isObjectLike(func)?matches(func):baseCallback(func,thisArg)}function constant(value){return function(){return value}}function identity(value){return value}function matches(source){return baseMatches(baseClone(source,true))}function matchesProperty(path,srcValue){return baseMatchesProperty(path,baseClone(srcValue,true))}var method=restParam(function(path,
args){return function(object){return invokePath(object,path,args)}});var methodOf=restParam(function(object,args){return function(path){return invokePath(object,path,args)}});function mixin(object,source,options){if(options==null){var isObj=isObject(source),props=isObj?keys(source):undefined,methodNames=props&&props.length?baseFunctions(source,props):undefined;if(!(methodNames?methodNames.length:isObj)){methodNames=false;options=source;source=object;object=this}}if(!methodNames)methodNames=baseFunctions(source,
keys(source));var chain=true,index=-1,isFunc=isFunction(object),length=methodNames.length;if(options===false)chain=false;else if(isObject(options)&&"chain"in options)chain=options.chain;while(++index<length){var methodName=methodNames[index],func=source[methodName];object[methodName]=func;if(isFunc)object.prototype[methodName]=function(func){return function(){var chainAll=this.__chain__;if(chain||chainAll){var result=object(this.__wrapped__),actions=result.__actions__=arrayCopy(this.__actions__);
actions.push({"func":func,"args":arguments,"thisArg":object});result.__chain__=chainAll;return result}return func.apply(object,arrayPush([this.value()],arguments))}}(func)}return object}function noConflict(){root._=oldDash;return this}function noop(){}function property(path){return isKey(path)?baseProperty(path):basePropertyDeep(path)}function propertyOf(object){return function(path){return baseGet(object,toPath(path),path+"")}}function range(start,end,step){if(step&&isIterateeCall(start,end,step))end=
step=undefined;start=+start||0;step=step==null?1:+step||0;if(end==null){end=start;start=0}else end=+end||0;var index=-1,length=nativeMax(nativeCeil((end-start)/(step||1)),0),result=Array(length);while(++index<length){result[index]=start;start+=step}return result}function times(n,iteratee,thisArg){n=nativeFloor(n);if(n<1||!nativeIsFinite(n))return[];var index=-1,result=Array(nativeMin(n,MAX_ARRAY_LENGTH));iteratee=bindCallback(iteratee,thisArg,1);while(++index<n)if(index<MAX_ARRAY_LENGTH)result[index]=
iteratee(index);else iteratee(index);return result}function uniqueId(prefix){var id=++idCounter;return baseToString(prefix)+id}function add(augend,addend){return(+augend||0)+(+addend||0)}var ceil=createRound("ceil");var floor=createRound("floor");var max=createExtremum(gt,NEGATIVE_INFINITY);var min=createExtremum(lt,POSITIVE_INFINITY);var round=createRound("round");function sum(collection,iteratee,thisArg){if(thisArg&&isIterateeCall(collection,iteratee,thisArg))iteratee=undefined;iteratee=getCallback(iteratee,
thisArg,3);return iteratee.length==1?arraySum(isArray(collection)?collection:toIterable(collection),iteratee):baseSum(collection,iteratee)}lodash.prototype=baseLodash.prototype;LodashWrapper.prototype=baseCreate(baseLodash.prototype);LodashWrapper.prototype.constructor=LodashWrapper;LazyWrapper.prototype=baseCreate(baseLodash.prototype);LazyWrapper.prototype.constructor=LazyWrapper;MapCache.prototype["delete"]=mapDelete;MapCache.prototype.get=mapGet;MapCache.prototype.has=mapHas;MapCache.prototype.set=
mapSet;SetCache.prototype.push=cachePush;memoize.Cache=MapCache;lodash.after=after;lodash.ary=ary;lodash.assign=assign;lodash.at=at;lodash.before=before;lodash.bind=bind;lodash.bindAll=bindAll;lodash.bindKey=bindKey;lodash.callback=callback;lodash.chain=chain;lodash.chunk=chunk;lodash.compact=compact;lodash.constant=constant;lodash.countBy=countBy;lodash.create=create;lodash.curry=curry;lodash.curryRight=curryRight;lodash.debounce=debounce;lodash.defaults=defaults;lodash.defaultsDeep=defaultsDeep;
lodash.defer=defer;lodash.delay=delay;lodash.difference=difference;lodash.drop=drop;lodash.dropRight=dropRight;lodash.dropRightWhile=dropRightWhile;lodash.dropWhile=dropWhile;lodash.fill=fill;lodash.filter=filter;lodash.flatten=flatten;lodash.flattenDeep=flattenDeep;lodash.flow=flow;lodash.flowRight=flowRight;lodash.forEach=forEach;lodash.forEachRight=forEachRight;lodash.forIn=forIn;lodash.forInRight=forInRight;lodash.forOwn=forOwn;lodash.forOwnRight=forOwnRight;lodash.functions=functions;lodash.groupBy=
groupBy;lodash.indexBy=indexBy;lodash.initial=initial;lodash.intersection=intersection;lodash.invert=invert;lodash.invoke=invoke;lodash.keys=keys;lodash.keysIn=keysIn;lodash.map=map;lodash.mapKeys=mapKeys;lodash.mapValues=mapValues;lodash.matches=matches;lodash.matchesProperty=matchesProperty;lodash.memoize=memoize;lodash.merge=merge;lodash.method=method;lodash.methodOf=methodOf;lodash.mixin=mixin;lodash.modArgs=modArgs;lodash.negate=negate;lodash.omit=omit;lodash.once=once;lodash.pairs=pairs;lodash.partial=
partial;lodash.partialRight=partialRight;lodash.partition=partition;lodash.pick=pick;lodash.pluck=pluck;lodash.property=property;lodash.propertyOf=propertyOf;lodash.pull=pull;lodash.pullAt=pullAt;lodash.range=range;lodash.rearg=rearg;lodash.reject=reject;lodash.remove=remove;lodash.rest=rest;lodash.restParam=restParam;lodash.set=set;lodash.shuffle=shuffle;lodash.slice=slice;lodash.sortBy=sortBy;lodash.sortByAll=sortByAll;lodash.sortByOrder=sortByOrder;lodash.spread=spread;lodash.take=take;lodash.takeRight=
takeRight;lodash.takeRightWhile=takeRightWhile;lodash.takeWhile=takeWhile;lodash.tap=tap;lodash.throttle=throttle;lodash.thru=thru;lodash.times=times;lodash.toArray=toArray;lodash.toPlainObject=toPlainObject;lodash.transform=transform;lodash.union=union;lodash.uniq=uniq;lodash.unzip=unzip;lodash.unzipWith=unzipWith;lodash.values=values;lodash.valuesIn=valuesIn;lodash.where=where;lodash.without=without;lodash.wrap=wrap;lodash.xor=xor;lodash.zip=zip;lodash.zipObject=zipObject;lodash.zipWith=zipWith;
lodash.backflow=flowRight;lodash.collect=map;lodash.compose=flowRight;lodash.each=forEach;lodash.eachRight=forEachRight;lodash.extend=assign;lodash.iteratee=callback;lodash.methods=functions;lodash.object=zipObject;lodash.select=filter;lodash.tail=rest;lodash.unique=uniq;mixin(lodash,lodash);lodash.add=add;lodash.attempt=attempt;lodash.camelCase=camelCase;lodash.capitalize=capitalize;lodash.ceil=ceil;lodash.clone=clone;lodash.cloneDeep=cloneDeep;lodash.deburr=deburr;lodash.endsWith=endsWith;lodash.escape=
escape;lodash.escapeRegExp=escapeRegExp;lodash.every=every;lodash.find=find;lodash.findIndex=findIndex;lodash.findKey=findKey;lodash.findLast=findLast;lodash.findLastIndex=findLastIndex;lodash.findLastKey=findLastKey;lodash.findWhere=findWhere;lodash.first=first;lodash.floor=floor;lodash.get=get;lodash.gt=gt;lodash.gte=gte;lodash.has=has;lodash.identity=identity;lodash.includes=includes;lodash.indexOf=indexOf;lodash.inRange=inRange;lodash.isArguments=isArguments;lodash.isArray=isArray;lodash.isBoolean=
isBoolean;lodash.isDate=isDate;lodash.isElement=isElement;lodash.isEmpty=isEmpty;lodash.isEqual=isEqual;lodash.isError=isError;lodash.isFinite=isFinite;lodash.isFunction=isFunction;lodash.isMatch=isMatch;lodash.isNaN=isNaN;lodash.isNative=isNative;lodash.isNull=isNull;lodash.isNumber=isNumber;lodash.isObject=isObject;lodash.isPlainObject=isPlainObject;lodash.isRegExp=isRegExp;lodash.isString=isString;lodash.isTypedArray=isTypedArray;lodash.isUndefined=isUndefined;lodash.kebabCase=kebabCase;lodash.last=
last;lodash.lastIndexOf=lastIndexOf;lodash.lt=lt;lodash.lte=lte;lodash.max=max;lodash.min=min;lodash.noConflict=noConflict;lodash.noop=noop;lodash.now=now;lodash.pad=pad;lodash.padLeft=padLeft;lodash.padRight=padRight;lodash.parseInt=parseInt;lodash.random=random;lodash.reduce=reduce;lodash.reduceRight=reduceRight;lodash.repeat=repeat;lodash.result=result;lodash.round=round;lodash.runInContext=runInContext;lodash.size=size;lodash.snakeCase=snakeCase;lodash.some=some;lodash.sortedIndex=sortedIndex;
lodash.sortedLastIndex=sortedLastIndex;lodash.startCase=startCase;lodash.startsWith=startsWith;lodash.sum=sum;lodash.template=template;lodash.trim=trim;lodash.trimLeft=trimLeft;lodash.trimRight=trimRight;lodash.trunc=trunc;lodash.unescape=unescape;lodash.uniqueId=uniqueId;lodash.words=words;lodash.all=every;lodash.any=some;lodash.contains=includes;lodash.eq=isEqual;lodash.detect=find;lodash.foldl=reduce;lodash.foldr=reduceRight;lodash.head=first;lodash.include=includes;lodash.inject=reduce;mixin(lodash,
function(){var source={};baseForOwn(lodash,function(func,methodName){if(!lodash.prototype[methodName])source[methodName]=func});return source}(),false);lodash.sample=sample;lodash.prototype.sample=function(n){if(!this.__chain__&&n==null)return sample(this.value());return this.thru(function(value){return sample(value,n)})};lodash.VERSION=VERSION;arrayEach(["bind","bindKey","curry","curryRight","partial","partialRight"],function(methodName){lodash[methodName].placeholder=lodash});arrayEach(["drop",
"take"],function(methodName,index){LazyWrapper.prototype[methodName]=function(n){var filtered=this.__filtered__;if(filtered&&!index)return new LazyWrapper(this);n=n==null?1:nativeMax(nativeFloor(n)||0,0);var result=this.clone();if(filtered)result.__takeCount__=nativeMin(result.__takeCount__,n);else result.__views__.push({"size":n,"type":methodName+(result.__dir__<0?"Right":"")});return result};LazyWrapper.prototype[methodName+"Right"]=function(n){return this.reverse()[methodName](n).reverse()}});
arrayEach(["filter","map","takeWhile"],function(methodName,index){var type=index+1,isFilter=type!=LAZY_MAP_FLAG;LazyWrapper.prototype[methodName]=function(iteratee,thisArg){var result=this.clone();result.__iteratees__.push({"iteratee":getCallback(iteratee,thisArg,1),"type":type});result.__filtered__=result.__filtered__||isFilter;return result}});arrayEach(["first","last"],function(methodName,index){var takeName="take"+(index?"Right":"");LazyWrapper.prototype[methodName]=function(){return this[takeName](1).value()[0]}});
arrayEach(["initial","rest"],function(methodName,index){var dropName="drop"+(index?"":"Right");LazyWrapper.prototype[methodName]=function(){return this.__filtered__?new LazyWrapper(this):this[dropName](1)}});arrayEach(["pluck","where"],function(methodName,index){var operationName=index?"filter":"map",createCallback=index?baseMatches:property;LazyWrapper.prototype[methodName]=function(value){return this[operationName](createCallback(value))}});LazyWrapper.prototype.compact=function(){return this.filter(identity)};
LazyWrapper.prototype.reject=function(predicate,thisArg){predicate=getCallback(predicate,thisArg,1);return this.filter(function(value){return!predicate(value)})};LazyWrapper.prototype.slice=function(start,end){start=start==null?0:+start||0;var result=this;if(result.__filtered__&&(start>0||end<0))return new LazyWrapper(result);if(start<0)result=result.takeRight(-start);else if(start)result=result.drop(start);if(end!==undefined){end=+end||0;result=end<0?result.dropRight(-end):result.take(end-start)}return result};
LazyWrapper.prototype.takeRightWhile=function(predicate,thisArg){return this.reverse().takeWhile(predicate,thisArg).reverse()};LazyWrapper.prototype.toArray=function(){return this.take(POSITIVE_INFINITY)};baseForOwn(LazyWrapper.prototype,function(func,methodName){var checkIteratee=/^(?:filter|map|reject)|While$/.test(methodName),retUnwrapped=/^(?:first|last)$/.test(methodName),lodashFunc=lodash[retUnwrapped?"take"+(methodName=="last"?"Right":""):methodName];if(!lodashFunc)return;lodash.prototype[methodName]=
function(){var args=retUnwrapped?[1]:arguments,chainAll=this.__chain__,value=this.__wrapped__,isHybrid=!!this.__actions__.length,isLazy=value instanceof LazyWrapper,iteratee=args[0],useLazy=isLazy||isArray(value);if(useLazy&&checkIteratee&&typeof iteratee=="function"&&iteratee.length!=1)isLazy=useLazy=false;var interceptor=function(value){return retUnwrapped&&chainAll?lodashFunc(value,1)[0]:lodashFunc.apply(undefined,arrayPush([value],args))};var action={"func":thru,"args":[interceptor],"thisArg":undefined},
onlyLazy=isLazy&&!isHybrid;if(retUnwrapped&&!chainAll){if(onlyLazy){value=value.clone();value.__actions__.push(action);return func.call(value)}return lodashFunc.call(undefined,this.value())[0]}if(!retUnwrapped&&useLazy){value=onlyLazy?value:new LazyWrapper(this);var result=func.apply(value,args);result.__actions__.push(action);return new LodashWrapper(result,chainAll)}return this.thru(interceptor)}});arrayEach(["join","pop","push","replace","shift","sort","splice","split","unshift"],function(methodName){var func=
(/^(?:replace|split)$/.test(methodName)?stringProto:arrayProto)[methodName],chainName=/^(?:push|sort|unshift)$/.test(methodName)?"tap":"thru",retUnwrapped=/^(?:join|pop|replace|shift)$/.test(methodName);lodash.prototype[methodName]=function(){var args=arguments;if(retUnwrapped&&!this.__chain__)return func.apply(this.value(),args);return this[chainName](function(value){return func.apply(value,args)})}});baseForOwn(LazyWrapper.prototype,function(func,methodName){var lodashFunc=lodash[methodName];if(lodashFunc){var key=
lodashFunc.name+"",names=realNames[key]||(realNames[key]=[]);names.push({"name":methodName,"func":lodashFunc})}});realNames[createHybridWrapper(undefined,BIND_KEY_FLAG).name]=[{"name":"wrapper","func":undefined}];LazyWrapper.prototype.clone=lazyClone;LazyWrapper.prototype.reverse=lazyReverse;LazyWrapper.prototype.value=lazyValue;lodash.prototype.chain=wrapperChain;lodash.prototype.commit=wrapperCommit;lodash.prototype.concat=wrapperConcat;lodash.prototype.plant=wrapperPlant;lodash.prototype.reverse=
wrapperReverse;lodash.prototype.toString=wrapperToString;lodash.prototype.run=lodash.prototype.toJSON=lodash.prototype.valueOf=lodash.prototype.value=wrapperValue;lodash.prototype.collect=lodash.prototype.map;lodash.prototype.head=lodash.prototype.first;lodash.prototype.select=lodash.prototype.filter;lodash.prototype.tail=lodash.prototype.rest;return lodash}var _=runInContext();if(typeof define=="function"&&typeof define.amd=="object"&&define.amd){root._=_;define(function(){return _})}else if(freeExports&&
freeModule)if(moduleExports)(freeModule.exports=_)._=_;else freeExports._=_;else root._=_}).call(this);</script><script>/*

 Copyright (c) 2014, Chris Pettitt
 All rights reserved.

 Redistribution and use in source and binary forms, with or without
 modification, are permitted provided that the following conditions are met:

 1. Redistributions of source code must retain the above copyright notice, this
 list of conditions and the following disclaimer.

 2. Redistributions in binary form must reproduce the above copyright notice,
 this list of conditions and the following disclaimer in the documentation
 and/or other materials provided with the distribution.

 3. Neither the name of the copyright holder nor the names of its contributors
 may be used to endorse or promote products derived from this software without
 specific prior written permission.

 THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
 ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
 WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE
 FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
 DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR
 SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER
 CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,
 OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/
(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f;}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){(function(global){global.graphlib=
require("./index")}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"./index":2}],2:[function(require,module,exports){var lib=require("./lib");module.exports={Graph:lib.Graph,json:require("./lib/json"),alg:require("./lib/alg"),version:lib.version}},{"./lib":18,"./lib/alg":9,"./lib/json":19}],3:[function(require,module,exports){var _=require("../lodash");module.exports=components;function components(g){var visited={},cmpts=[],cmpt;
function dfs(v){if(_.has(visited,v))return;visited[v]=true;cmpt.push(v);_.each(g.successors(v),dfs);_.each(g.predecessors(v),dfs)}_.each(g.nodes(),function(v){cmpt=[];dfs(v);if(cmpt.length)cmpts.push(cmpt)});return cmpts}},{"../lodash":20}],4:[function(require,module,exports){var _=require("../lodash");module.exports=dfs;function dfs(g,vs,order){if(!_.isArray(vs))vs=[vs];var acc=[],visited={};_.each(vs,function(v){if(!g.hasNode(v))throw new Error("Graph does not have node: "+v);doDfs(g,v,order===
"post",visited,acc)});return acc}function doDfs(g,v,postorder,visited,acc){if(!_.has(visited,v)){visited[v]=true;if(!postorder)acc.push(v);_.each(g.neighbors(v),function(w){doDfs(g,w,postorder,visited,acc)});if(postorder)acc.push(v)}}},{"../lodash":20}],5:[function(require,module,exports){var dijkstra=require("./dijkstra"),_=require("../lodash");module.exports=dijkstraAll;function dijkstraAll(g,weightFunc,edgeFunc){return _.transform(g.nodes(),function(acc,v){acc[v]=dijkstra(g,v,weightFunc,edgeFunc)},
{})}},{"../lodash":20,"./dijkstra":6}],6:[function(require,module,exports){var _=require("../lodash"),PriorityQueue=require("../data/priority-queue");module.exports=dijkstra;var DEFAULT_WEIGHT_FUNC=_.constant(1);function dijkstra(g,source,weightFn,edgeFn){return runDijkstra(g,String(source),weightFn||DEFAULT_WEIGHT_FUNC,edgeFn||function(v){return g.outEdges(v)})}function runDijkstra(g,source,weightFn,edgeFn){var results={},pq=new PriorityQueue,v,vEntry;var updateNeighbors=function(edge){var w=edge.v!==
v?edge.v:edge.w,wEntry=results[w],weight=weightFn(edge),distance=vEntry.distance+weight;if(weight<0)throw new Error("dijkstra does not allow negative edge weights. "+"Bad edge: "+edge+" Weight: "+weight);if(distance<wEntry.distance){wEntry.distance=distance;wEntry.predecessor=v;pq.decrease(w,distance)}};g.nodes().forEach(function(v){var distance=v===source?0:Number.POSITIVE_INFINITY;results[v]={distance:distance};pq.add(v,distance)});while(pq.size()>0){v=pq.removeMin();vEntry=results[v];if(vEntry.distance===
Number.POSITIVE_INFINITY)break;edgeFn(v).forEach(updateNeighbors)}return results}},{"../data/priority-queue":16,"../lodash":20}],7:[function(require,module,exports){var _=require("../lodash"),tarjan=require("./tarjan");module.exports=findCycles;function findCycles(g){return _.filter(tarjan(g),function(cmpt){return cmpt.length>1||cmpt.length===1&&g.hasEdge(cmpt[0],cmpt[0])})}},{"../lodash":20,"./tarjan":14}],8:[function(require,module,exports){var _=require("../lodash");module.exports=floydWarshall;
var DEFAULT_WEIGHT_FUNC=_.constant(1);function floydWarshall(g,weightFn,edgeFn){return runFloydWarshall(g,weightFn||DEFAULT_WEIGHT_FUNC,edgeFn||function(v){return g.outEdges(v)})}function runFloydWarshall(g,weightFn,edgeFn){var results={},nodes=g.nodes();nodes.forEach(function(v){results[v]={};results[v][v]={distance:0};nodes.forEach(function(w){if(v!==w)results[v][w]={distance:Number.POSITIVE_INFINITY}});edgeFn(v).forEach(function(edge){var w=edge.v===v?edge.w:edge.v,d=weightFn(edge);results[v][w]=
{distance:d,predecessor:v}})});nodes.forEach(function(k){var rowK=results[k];nodes.forEach(function(i){var rowI=results[i];nodes.forEach(function(j){var ik=rowI[k];var kj=rowK[j];var ij=rowI[j];var altDistance=ik.distance+kj.distance;if(altDistance<ij.distance){ij.distance=altDistance;ij.predecessor=kj.predecessor}})})});return results}},{"../lodash":20}],9:[function(require,module,exports){module.exports={components:require("./components"),dijkstra:require("./dijkstra"),dijkstraAll:require("./dijkstra-all"),
findCycles:require("./find-cycles"),floydWarshall:require("./floyd-warshall"),isAcyclic:require("./is-acyclic"),postorder:require("./postorder"),preorder:require("./preorder"),prim:require("./prim"),tarjan:require("./tarjan"),topsort:require("./topsort")}},{"./components":3,"./dijkstra":6,"./dijkstra-all":5,"./find-cycles":7,"./floyd-warshall":8,"./is-acyclic":10,"./postorder":11,"./preorder":12,"./prim":13,"./tarjan":14,"./topsort":15}],10:[function(require,module,exports){var topsort=require("./topsort");
module.exports=isAcyclic;function isAcyclic(g){try{topsort(g)}catch(e){if(e instanceof topsort.CycleException)return false;throw e;}return true}},{"./topsort":15}],11:[function(require,module,exports){var dfs=require("./dfs");module.exports=postorder;function postorder(g,vs){return dfs(g,vs,"post")}},{"./dfs":4}],12:[function(require,module,exports){var dfs=require("./dfs");module.exports=preorder;function preorder(g,vs){return dfs(g,vs,"pre")}},{"./dfs":4}],13:[function(require,module,exports){var _=
require("../lodash"),Graph=require("../graph"),PriorityQueue=require("../data/priority-queue");module.exports=prim;function prim(g,weightFunc){var result=new Graph,parents={},pq=new PriorityQueue,v;function updateNeighbors(edge){var w=edge.v===v?edge.w:edge.v,pri=pq.priority(w);if(pri!==undefined){var edgeWeight=weightFunc(edge);if(edgeWeight<pri){parents[w]=v;pq.decrease(w,edgeWeight)}}}if(g.nodeCount()===0)return result;_.each(g.nodes(),function(v){pq.add(v,Number.POSITIVE_INFINITY);result.setNode(v)});
pq.decrease(g.nodes()[0],0);var init=false;while(pq.size()>0){v=pq.removeMin();if(_.has(parents,v))result.setEdge(v,parents[v]);else if(init)throw new Error("Input graph is not connected: "+g);else init=true;g.nodeEdges(v).forEach(updateNeighbors)}return result}},{"../data/priority-queue":16,"../graph":17,"../lodash":20}],14:[function(require,module,exports){var _=require("../lodash");module.exports=tarjan;function tarjan(g){var index=0,stack=[],visited={},results=[];function dfs(v){var entry=visited[v]=
{onStack:true,lowlink:index,index:index++};stack.push(v);g.successors(v).forEach(function(w){if(!_.has(visited,w)){dfs(w);entry.lowlink=Math.min(entry.lowlink,visited[w].lowlink)}else if(visited[w].onStack)entry.lowlink=Math.min(entry.lowlink,visited[w].index)});if(entry.lowlink===entry.index){var cmpt=[],w;do{w=stack.pop();visited[w].onStack=false;cmpt.push(w)}while(v!==w);results.push(cmpt)}}g.nodes().forEach(function(v){if(!_.has(visited,v))dfs(v)});return results}},{"../lodash":20}],15:[function(require,
module,exports){var _=require("../lodash");module.exports=topsort;topsort.CycleException=CycleException;function topsort(g){var visited={},stack={},results=[];function visit(node){if(_.has(stack,node))throw new CycleException;if(!_.has(visited,node)){stack[node]=true;visited[node]=true;_.each(g.predecessors(node),visit);delete stack[node];results.push(node)}}_.each(g.sinks(),visit);if(_.size(visited)!==g.nodeCount())throw new CycleException;return results}function CycleException(){}},{"../lodash":20}],
16:[function(require,module,exports){var _=require("../lodash");module.exports=PriorityQueue;function PriorityQueue(){this._arr=[];this._keyIndices={}}PriorityQueue.prototype.size=function(){return this._arr.length};PriorityQueue.prototype.keys=function(){return this._arr.map(function(x){return x.key})};PriorityQueue.prototype.has=function(key){return _.has(this._keyIndices,key)};PriorityQueue.prototype.priority=function(key){var index=this._keyIndices[key];if(index!==undefined)return this._arr[index].priority};
PriorityQueue.prototype.min=function(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key};PriorityQueue.prototype.add=function(key,priority){var keyIndices=this._keyIndices;key=String(key);if(!_.has(keyIndices,key)){var arr=this._arr;var index=arr.length;keyIndices[key]=index;arr.push({key:key,priority:priority});this._decrease(index);return true}return false};PriorityQueue.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var min=this._arr.pop();delete this._keyIndices[min.key];
this._heapify(0);return min.key};PriorityQueue.prototype.decrease=function(key,priority){var index=this._keyIndices[key];if(priority>this._arr[index].priority)throw new Error("New priority is greater than current priority. "+"Key: "+key+" Old: "+this._arr[index].priority+" New: "+priority);this._arr[index].priority=priority;this._decrease(index)};PriorityQueue.prototype._heapify=function(i){var arr=this._arr;var l=2*i,r=l+1,largest=i;if(l<arr.length){largest=arr[l].priority<arr[largest].priority?
l:largest;if(r<arr.length)largest=arr[r].priority<arr[largest].priority?r:largest;if(largest!==i){this._swap(i,largest);this._heapify(largest)}}};PriorityQueue.prototype._decrease=function(index){var arr=this._arr;var priority=arr[index].priority;var parent;while(index!==0){parent=index>>1;if(arr[parent].priority<priority)break;this._swap(index,parent);index=parent}};PriorityQueue.prototype._swap=function(i,j){var arr=this._arr;var keyIndices=this._keyIndices;var origArrI=arr[i];var origArrJ=arr[j];
arr[i]=origArrJ;arr[j]=origArrI;keyIndices[origArrJ.key]=i;keyIndices[origArrI.key]=j}},{"../lodash":20}],17:[function(require,module,exports){var _=require("./lodash");module.exports=Graph;var DEFAULT_EDGE_NAME="\x00",GRAPH_NODE="\x00",EDGE_KEY_DELIM="\u0001";function Graph(opts){this._isDirected=_.has(opts,"directed")?opts.directed:true;this._isMultigraph=_.has(opts,"multigraph")?opts.multigraph:false;this._isCompound=_.has(opts,"compound")?opts.compound:false;this._label=undefined;this._defaultNodeLabelFn=
_.constant(undefined);this._defaultEdgeLabelFn=_.constant(undefined);this._nodes={};if(this._isCompound){this._parent={};this._children={};this._children[GRAPH_NODE]={}}this._in={};this._preds={};this._out={};this._sucs={};this._edgeObjs={};this._edgeLabels={}}Graph.prototype._nodeCount=0;Graph.prototype._edgeCount=0;Graph.prototype.isDirected=function(){return this._isDirected};Graph.prototype.isMultigraph=function(){return this._isMultigraph};Graph.prototype.isCompound=function(){return this._isCompound};
Graph.prototype.setGraph=function(label){this._label=label;return this};Graph.prototype.graph=function(){return this._label};Graph.prototype.setDefaultNodeLabel=function(newDefault){if(!_.isFunction(newDefault))newDefault=_.constant(newDefault);this._defaultNodeLabelFn=newDefault;return this};Graph.prototype.nodeCount=function(){return this._nodeCount};Graph.prototype.nodes=function(){return _.keys(this._nodes)};Graph.prototype.sources=function(){return _.filter(this.nodes(),function(v){return _.isEmpty(this._in[v])},
this)};Graph.prototype.sinks=function(){return _.filter(this.nodes(),function(v){return _.isEmpty(this._out[v])},this)};Graph.prototype.setNodes=function(vs,value){var args=arguments;_.each(vs,function(v){if(args.length>1)this.setNode(v,value);else this.setNode(v)},this);return this};Graph.prototype.setNode=function(v,value){if(_.has(this._nodes,v)){if(arguments.length>1)this._nodes[v]=value;return this}this._nodes[v]=arguments.length>1?value:this._defaultNodeLabelFn(v);if(this._isCompound){this._parent[v]=
GRAPH_NODE;this._children[v]={};this._children[GRAPH_NODE][v]=true}this._in[v]={};this._preds[v]={};this._out[v]={};this._sucs[v]={};++this._nodeCount;return this};Graph.prototype.node=function(v){return this._nodes[v]};Graph.prototype.hasNode=function(v){return _.has(this._nodes,v)};Graph.prototype.removeNode=function(v){var self=this;if(_.has(this._nodes,v)){var removeEdge=function(e){self.removeEdge(self._edgeObjs[e])};delete this._nodes[v];if(this._isCompound){this._removeFromParentsChildList(v);
delete this._parent[v];_.each(this.children(v),function(child){this.setParent(child)},this);delete this._children[v]}_.each(_.keys(this._in[v]),removeEdge);delete this._in[v];delete this._preds[v];_.each(_.keys(this._out[v]),removeEdge);delete this._out[v];delete this._sucs[v];--this._nodeCount}return this};Graph.prototype.setParent=function(v,parent){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(_.isUndefined(parent))parent=GRAPH_NODE;else{parent+="";for(var ancestor=
parent;!_.isUndefined(ancestor);ancestor=this.parent(ancestor))if(ancestor===v)throw new Error("Setting "+parent+" as parent of "+v+" would create create a cycle");this.setNode(parent)}this.setNode(v);this._removeFromParentsChildList(v);this._parent[v]=parent;this._children[parent][v]=true;return this};Graph.prototype._removeFromParentsChildList=function(v){delete this._children[this._parent[v]][v]};Graph.prototype.parent=function(v){if(this._isCompound){var parent=this._parent[v];if(parent!==GRAPH_NODE)return parent}};
Graph.prototype.children=function(v){if(_.isUndefined(v))v=GRAPH_NODE;if(this._isCompound){var children=this._children[v];if(children)return _.keys(children)}else if(v===GRAPH_NODE)return this.nodes();else if(this.hasNode(v))return[]};Graph.prototype.predecessors=function(v){var predsV=this._preds[v];if(predsV)return _.keys(predsV)};Graph.prototype.successors=function(v){var sucsV=this._sucs[v];if(sucsV)return _.keys(sucsV)};Graph.prototype.neighbors=function(v){var preds=this.predecessors(v);if(preds)return _.union(preds,
this.successors(v))};Graph.prototype.filterNodes=function(filter){var copy=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});copy.setGraph(this.graph());_.each(this._nodes,function(value,v){if(filter(v))copy.setNode(v,value)},this);_.each(this._edgeObjs,function(e){if(copy.hasNode(e.v)&&copy.hasNode(e.w))copy.setEdge(e,this.edge(e))},this);var self=this;var parents={};function findParent(v){var parent=self.parent(v);if(parent===undefined||copy.hasNode(parent)){parents[v]=
parent;return parent}else if(parent in parents)return parents[parent];else return findParent(parent)}if(this._isCompound)_.each(copy.nodes(),function(v){copy.setParent(v,findParent(v))});return copy};Graph.prototype.setDefaultEdgeLabel=function(newDefault){if(!_.isFunction(newDefault))newDefault=_.constant(newDefault);this._defaultEdgeLabelFn=newDefault;return this};Graph.prototype.edgeCount=function(){return this._edgeCount};Graph.prototype.edges=function(){return _.values(this._edgeObjs)};Graph.prototype.setPath=
function(vs,value){var self=this,args=arguments;_.reduce(vs,function(v,w){if(args.length>1)self.setEdge(v,w,value);else self.setEdge(v,w);return w});return this};Graph.prototype.setEdge=function(){var v,w,name,value,valueSpecified=false,arg0=arguments[0];if(typeof arg0==="object"&&arg0!==null&&"v"in arg0){v=arg0.v;w=arg0.w;name=arg0.name;if(arguments.length===2){value=arguments[1];valueSpecified=true}}else{v=arg0;w=arguments[1];name=arguments[3];if(arguments.length>2){value=arguments[2];valueSpecified=
true}}v=""+v;w=""+w;if(!_.isUndefined(name))name=""+name;var e=edgeArgsToId(this._isDirected,v,w,name);if(_.has(this._edgeLabels,e)){if(valueSpecified)this._edgeLabels[e]=value;return this}if(!_.isUndefined(name)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph \x3d false");this.setNode(v);this.setNode(w);this._edgeLabels[e]=valueSpecified?value:this._defaultEdgeLabelFn(v,w,name);var edgeObj=edgeArgsToObj(this._isDirected,v,w,name);v=edgeObj.v;w=edgeObj.w;Object.freeze(edgeObj);
this._edgeObjs[e]=edgeObj;incrementOrInitEntry(this._preds[w],v);incrementOrInitEntry(this._sucs[v],w);this._in[w][e]=edgeObj;this._out[v][e]=edgeObj;this._edgeCount++;return this};Graph.prototype.edge=function(v,w,name){var e=arguments.length===1?edgeObjToId(this._isDirected,arguments[0]):edgeArgsToId(this._isDirected,v,w,name);return this._edgeLabels[e]};Graph.prototype.hasEdge=function(v,w,name){var e=arguments.length===1?edgeObjToId(this._isDirected,arguments[0]):edgeArgsToId(this._isDirected,
v,w,name);return _.has(this._edgeLabels,e)};Graph.prototype.removeEdge=function(v,w,name){var e=arguments.length===1?edgeObjToId(this._isDirected,arguments[0]):edgeArgsToId(this._isDirected,v,w,name),edge=this._edgeObjs[e];if(edge){v=edge.v;w=edge.w;delete this._edgeLabels[e];delete this._edgeObjs[e];decrementOrRemoveEntry(this._preds[w],v);decrementOrRemoveEntry(this._sucs[v],w);delete this._in[w][e];delete this._out[v][e];this._edgeCount--}return this};Graph.prototype.inEdges=function(v,u){var inV=
this._in[v];if(inV){var edges=_.values(inV);if(!u)return edges;return _.filter(edges,function(edge){return edge.v===u})}};Graph.prototype.outEdges=function(v,w){var outV=this._out[v];if(outV){var edges=_.values(outV);if(!w)return edges;return _.filter(edges,function(edge){return edge.w===w})}};Graph.prototype.nodeEdges=function(v,w){var inEdges=this.inEdges(v,w);if(inEdges)return inEdges.concat(this.outEdges(v,w))};function incrementOrInitEntry(map,k){if(map[k])map[k]++;else map[k]=1}function decrementOrRemoveEntry(map,
k){if(!--map[k])delete map[k]}function edgeArgsToId(isDirected,v_,w_,name){var v=""+v_;var w=""+w_;if(!isDirected&&v>w){var tmp=v;v=w;w=tmp}return v+EDGE_KEY_DELIM+w+EDGE_KEY_DELIM+(_.isUndefined(name)?DEFAULT_EDGE_NAME:name)}function edgeArgsToObj(isDirected,v_,w_,name){var v=""+v_;var w=""+w_;if(!isDirected&&v>w){var tmp=v;v=w;w=tmp}var edgeObj={v:v,w:w};if(name)edgeObj.name=name;return edgeObj}function edgeObjToId(isDirected,edgeObj){return edgeArgsToId(isDirected,edgeObj.v,edgeObj.w,edgeObj.name)}
},{"./lodash":20}],18:[function(require,module,exports){module.exports={Graph:require("./graph"),version:require("./version")}},{"./graph":17,"./version":21}],19:[function(require,module,exports){var _=require("./lodash"),Graph=require("./graph");module.exports={write:write,read:read};function write(g){var json={options:{directed:g.isDirected(),multigraph:g.isMultigraph(),compound:g.isCompound()},nodes:writeNodes(g),edges:writeEdges(g)};if(!_.isUndefined(g.graph()))json.value=_.clone(g.graph());return json}
function writeNodes(g){return _.map(g.nodes(),function(v){var nodeValue=g.node(v),parent=g.parent(v),node={v:v};if(!_.isUndefined(nodeValue))node.value=nodeValue;if(!_.isUndefined(parent))node.parent=parent;return node})}function writeEdges(g){return _.map(g.edges(),function(e){var edgeValue=g.edge(e),edge={v:e.v,w:e.w};if(!_.isUndefined(e.name))edge.name=e.name;if(!_.isUndefined(edgeValue))edge.value=edgeValue;return edge})}function read(json){var g=(new Graph(json.options)).setGraph(json.value);
_.each(json.nodes,function(entry){g.setNode(entry.v,entry.value);if(entry.parent)g.setParent(entry.v,entry.parent)});_.each(json.edges,function(entry){g.setEdge({v:entry.v,w:entry.w,name:entry.name},entry.value)});return g}},{"./graph":17,"./lodash":20}],20:[function(require,module,exports){var lodash;if(typeof require==="function")try{lodash=require("lodash")}catch(e){}if(!lodash)lodash=window._;module.exports=lodash},{"lodash":undefined}],21:[function(require,module,exports){module.exports="1.0.7"},
{}]},{},[1]);</script><script>!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var f;"undefined"!=typeof window?f=window:"undefined"!=typeof global?f=global:"undefined"!=typeof self&&(f=self),f.dagre=e()}}(function(){var define,module,exports;return function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+
o+"'");throw f.code="MODULE_NOT_FOUND",f;}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s}({1:[function(require,module,exports){module.exports={graphlib:require("./lib/graphlib"),layout:require("./lib/layout"),debug:require("./lib/debug"),util:{time:require("./lib/util").time,notime:require("./lib/util").notime},version:require("./lib/version")}},
{"./lib/debug":6,"./lib/graphlib":7,"./lib/layout":9,"./lib/util":29,"./lib/version":30}],2:[function(require,module,exports){var _=require("./lodash"),greedyFAS=require("./greedy-fas");module.exports={run:run,undo:undo};function run(g){var fas=g.graph().acyclicer==="greedy"?greedyFAS(g,weightFn(g)):dfsFAS(g);_.each(fas,function(e){var label=g.edge(e);g.removeEdge(e);label.forwardName=e.name;label.reversed=true;g.setEdge(e.w,e.v,label,_.uniqueId("rev"))});function weightFn(g){return function(e){return g.edge(e).weight}}
}function dfsFAS(g){var fas=[],stack={},visited={};function dfs(v){if(_.has(visited,v))return;visited[v]=true;stack[v]=true;_.each(g.outEdges(v),function(e){if(_.has(stack,e.w))fas.push(e);else dfs(e.w)});delete stack[v]}_.each(g.nodes(),dfs);return fas}function undo(g){_.each(g.edges(),function(e){var label=g.edge(e);if(label.reversed){g.removeEdge(e);var forwardName=label.forwardName;delete label.reversed;delete label.forwardName;g.setEdge(e.w,e.v,label,forwardName)}})}},{"./greedy-fas":8,"./lodash":10}],
3:[function(require,module,exports){var _=require("./lodash"),util=require("./util");module.exports=addBorderSegments;function addBorderSegments(g){function dfs(v){var children=g.children(v),node=g.node(v);if(children.length)_.each(children,dfs);if(_.has(node,"minRank")){node.borderLeft=[];node.borderRight=[];for(var rank=node.minRank,maxRank=node.maxRank+1;rank<maxRank;++rank){addBorderNode(g,"borderLeft","_bl",v,node,rank);addBorderNode(g,"borderRight","_br",v,node,rank)}}}_.each(g.children(),dfs)}
function addBorderNode(g,prop,prefix,sg,sgNode,rank){var label={width:0,height:0,rank:rank,borderType:prop},prev=sgNode[prop][rank-1],curr=util.addDummyNode(g,"border",label,prefix);sgNode[prop][rank]=curr;g.setParent(curr,sg);if(prev)g.setEdge(prev,curr,{weight:1})}},{"./lodash":10,"./util":29}],4:[function(require,module,exports){var _=require("./lodash");module.exports={adjust:adjust,undo:undo};function adjust(g){var rankDir=g.graph().rankdir.toLowerCase();if(rankDir==="lr"||rankDir==="rl")swapWidthHeight(g)}
function undo(g){var rankDir=g.graph().rankdir.toLowerCase();if(rankDir==="bt"||rankDir==="rl")reverseY(g);if(rankDir==="lr"||rankDir==="rl"){swapXY(g);swapWidthHeight(g)}}function swapWidthHeight(g){_.each(g.nodes(),function(v){swapWidthHeightOne(g.node(v))});_.each(g.edges(),function(e){swapWidthHeightOne(g.edge(e))})}function swapWidthHeightOne(attrs){var w=attrs.width;attrs.width=attrs.height;attrs.height=w}function reverseY(g){_.each(g.nodes(),function(v){reverseYOne(g.node(v))});_.each(g.edges(),
function(e){var edge=g.edge(e);_.each(edge.points,reverseYOne);if(_.has(edge,"y"))reverseYOne(edge)})}function reverseYOne(attrs){attrs.y=-attrs.y}function swapXY(g){_.each(g.nodes(),function(v){swapXYOne(g.node(v))});_.each(g.edges(),function(e){var edge=g.edge(e);_.each(edge.points,swapXYOne);if(_.has(edge,"x"))swapXYOne(edge)})}function swapXYOne(attrs){var x=attrs.x;attrs.x=attrs.y;attrs.y=x}},{"./lodash":10}],5:[function(require,module,exports){module.exports=List;function List(){var sentinel=
{};sentinel._next=sentinel._prev=sentinel;this._sentinel=sentinel}List.prototype.dequeue=function(){var sentinel=this._sentinel,entry=sentinel._prev;if(entry!==sentinel){unlink(entry);return entry}};List.prototype.enqueue=function(entry){var sentinel=this._sentinel;if(entry._prev&&entry._next)unlink(entry);entry._next=sentinel._next;sentinel._next._prev=entry;sentinel._next=entry;entry._prev=sentinel};List.prototype.toString=function(){var strs=[],sentinel=this._sentinel,curr=sentinel._prev;while(curr!==
sentinel){strs.push(JSON.stringify(curr,filterOutLinks));curr=curr._prev}return"["+strs.join(", ")+"]"};function unlink(entry){entry._prev._next=entry._next;entry._next._prev=entry._prev;delete entry._next;delete entry._prev}function filterOutLinks(k,v){if(k!=="_next"&&k!=="_prev")return v}},{}],6:[function(require,module,exports){var _=require("./lodash"),util=require("./util"),Graph=require("./graphlib").Graph;module.exports={debugOrdering:debugOrdering};function debugOrdering(g){var layerMatrix=
util.buildLayerMatrix(g);var h=(new Graph({compound:true,multigraph:true})).setGraph({});_.each(g.nodes(),function(v){h.setNode(v,{label:v});h.setParent(v,"layer"+g.node(v).rank)});_.each(g.edges(),function(e){h.setEdge(e.v,e.w,{},e.name)});_.each(layerMatrix,function(layer,i){var layerV="layer"+i;h.setNode(layerV,{rank:"same"});_.reduce(layer,function(u,v){h.setEdge(u,v,{style:"invis"});return v})});return h}},{"./graphlib":7,"./lodash":10,"./util":29}],7:[function(require,module,exports){var graphlib;
if(typeof require==="function")try{graphlib=require("graphlib")}catch(e){}if(!graphlib)graphlib=window.graphlib;module.exports=graphlib},{"graphlib":undefined}],8:[function(require,module,exports){var _=require("./lodash"),Graph=require("./graphlib").Graph,List=require("./data/list");module.exports=greedyFAS;var DEFAULT_WEIGHT_FN=_.constant(1);function greedyFAS(g,weightFn){if(g.nodeCount()<=1)return[];var state=buildState(g,weightFn||DEFAULT_WEIGHT_FN);var results=doGreedyFAS(state.graph,state.buckets,
state.zeroIdx);return _.flatten(_.map(results,function(e){return g.outEdges(e.v,e.w)}),true)}function doGreedyFAS(g,buckets,zeroIdx){var results=[],sources=buckets[buckets.length-1],sinks=buckets[0];var entry;while(g.nodeCount()){while(entry=sinks.dequeue())removeNode(g,buckets,zeroIdx,entry);while(entry=sources.dequeue())removeNode(g,buckets,zeroIdx,entry);if(g.nodeCount())for(var i=buckets.length-2;i>0;--i){entry=buckets[i].dequeue();if(entry){results=results.concat(removeNode(g,buckets,zeroIdx,
entry,true));break}}}return results}function removeNode(g,buckets,zeroIdx,entry,collectPredecessors){var results=collectPredecessors?[]:undefined;_.each(g.inEdges(entry.v),function(edge){var weight=g.edge(edge),uEntry=g.node(edge.v);if(collectPredecessors)results.push({v:edge.v,w:edge.w});uEntry.out-=weight;assignBucket(buckets,zeroIdx,uEntry)});_.each(g.outEdges(entry.v),function(edge){var weight=g.edge(edge),w=edge.w,wEntry=g.node(w);wEntry["in"]-=weight;assignBucket(buckets,zeroIdx,wEntry)});g.removeNode(entry.v);
return results}function buildState(g,weightFn){var fasGraph=new Graph,maxIn=0,maxOut=0;_.each(g.nodes(),function(v){fasGraph.setNode(v,{v:v,"in":0,out:0})});_.each(g.edges(),function(e){var prevWeight=fasGraph.edge(e.v,e.w)||0,weight=weightFn(e),edgeWeight=prevWeight+weight;fasGraph.setEdge(e.v,e.w,edgeWeight);maxOut=Math.max(maxOut,fasGraph.node(e.v).out+=weight);maxIn=Math.max(maxIn,fasGraph.node(e.w)["in"]+=weight)});var buckets=_.range(maxOut+maxIn+3).map(function(){return new List});var zeroIdx=
maxIn+1;_.each(fasGraph.nodes(),function(v){assignBucket(buckets,zeroIdx,fasGraph.node(v))});return{graph:fasGraph,buckets:buckets,zeroIdx:zeroIdx}}function assignBucket(buckets,zeroIdx,entry){if(!entry.out)buckets[0].enqueue(entry);else if(!entry["in"])buckets[buckets.length-1].enqueue(entry);else buckets[entry.out-entry["in"]+zeroIdx].enqueue(entry)}},{"./data/list":5,"./graphlib":7,"./lodash":10}],9:[function(require,module,exports){var _=require("./lodash"),acyclic=require("./acyclic"),normalize=
require("./normalize"),rank=require("./rank"),normalizeRanks=require("./util").normalizeRanks,parentDummyChains=require("./parent-dummy-chains"),removeEmptyRanks=require("./util").removeEmptyRanks,nestingGraph=require("./nesting-graph"),addBorderSegments=require("./add-border-segments"),coordinateSystem=require("./coordinate-system"),order=require("./order"),position=require("./position"),util=require("./util"),Graph=require("./graphlib").Graph;module.exports=layout;function layout(g,opts){var time=
opts&&opts.debugTiming?util.time:util.notime;time("layout",function(){var layoutGraph=time("  buildLayoutGraph",function(){return buildLayoutGraph(g)});time("  runLayout",function(){runLayout(layoutGraph,time)});time("  updateInputGraph",function(){updateInputGraph(g,layoutGraph)})})}function runLayout(g,time){time("    makeSpaceForEdgeLabels",function(){makeSpaceForEdgeLabels(g)});time("    removeSelfEdges",function(){removeSelfEdges(g)});time("    acyclic",function(){acyclic.run(g)});time("    nestingGraph.run",
function(){nestingGraph.run(g)});time("    rank",function(){rank(util.asNonCompoundGraph(g))});time("    injectEdgeLabelProxies",function(){injectEdgeLabelProxies(g)});time("    removeEmptyRanks",function(){removeEmptyRanks(g)});time("    nestingGraph.cleanup",function(){nestingGraph.cleanup(g)});time("    normalizeRanks",function(){normalizeRanks(g)});time("    assignRankMinMax",function(){assignRankMinMax(g)});time("    removeEdgeLabelProxies",function(){removeEdgeLabelProxies(g)});time("    normalize.run",
function(){normalize.run(g)});time("    parentDummyChains",function(){parentDummyChains(g)});time("    addBorderSegments",function(){addBorderSegments(g)});time("    order",function(){order(g)});time("    insertSelfEdges",function(){insertSelfEdges(g)});time("    adjustCoordinateSystem",function(){coordinateSystem.adjust(g)});time("    position",function(){position(g)});time("    positionSelfEdges",function(){positionSelfEdges(g)});time("    removeBorderNodes",function(){removeBorderNodes(g)});time("    normalize.undo",
function(){normalize.undo(g)});time("    fixupEdgeLabelCoords",function(){fixupEdgeLabelCoords(g)});time("    undoCoordinateSystem",function(){coordinateSystem.undo(g)});time("    translateGraph",function(){translateGraph(g)});time("    assignNodeIntersects",function(){assignNodeIntersects(g)});time("    reversePoints",function(){reversePointsForReversedEdges(g)});time("    acyclic.undo",function(){acyclic.undo(g)})}function updateInputGraph(inputGraph,layoutGraph){_.each(inputGraph.nodes(),function(v){var inputLabel=
inputGraph.node(v),layoutLabel=layoutGraph.node(v);if(inputLabel){inputLabel.x=layoutLabel.x;inputLabel.y=layoutLabel.y;if(layoutGraph.children(v).length){inputLabel.width=layoutLabel.width;inputLabel.height=layoutLabel.height}}});_.each(inputGraph.edges(),function(e){var inputLabel=inputGraph.edge(e),layoutLabel=layoutGraph.edge(e);inputLabel.points=layoutLabel.points;if(_.has(layoutLabel,"x")){inputLabel.x=layoutLabel.x;inputLabel.y=layoutLabel.y}});inputGraph.graph().width=layoutGraph.graph().width;
inputGraph.graph().height=layoutGraph.graph().height}var graphNumAttrs=["nodesep","edgesep","ranksep","marginx","marginy"],graphDefaults={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},graphAttrs=["acyclicer","ranker","rankdir","align"],nodeNumAttrs=["width","height"],nodeDefaults={width:0,height:0},edgeNumAttrs=["minlen","weight","width","height","labeloffset"],edgeDefaults={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},edgeAttrs=["labelpos"];function buildLayoutGraph(inputGraph){var g=
new Graph({multigraph:true,compound:true}),graph=canonicalize(inputGraph.graph());g.setGraph(_.merge({},graphDefaults,selectNumberAttrs(graph,graphNumAttrs),_.pick(graph,graphAttrs)));_.each(inputGraph.nodes(),function(v){var node=canonicalize(inputGraph.node(v));g.setNode(v,_.defaults(selectNumberAttrs(node,nodeNumAttrs),nodeDefaults));g.setParent(v,inputGraph.parent(v))});_.each(inputGraph.edges(),function(e){var edge=canonicalize(inputGraph.edge(e));g.setEdge(e,_.merge({},edgeDefaults,selectNumberAttrs(edge,
edgeNumAttrs),_.pick(edge,edgeAttrs)))});return g}function makeSpaceForEdgeLabels(g){var graph=g.graph();graph.ranksep/=2;_.each(g.edges(),function(e){var edge=g.edge(e);edge.minlen*=2;if(edge.labelpos.toLowerCase()!=="c")if(graph.rankdir==="TB"||graph.rankdir==="BT")edge.width+=edge.labeloffset;else edge.height+=edge.labeloffset})}function injectEdgeLabelProxies(g){_.each(g.edges(),function(e){var edge=g.edge(e);if(edge.width&&edge.height){var v=g.node(e.v),w=g.node(e.w),label={rank:(w.rank-v.rank)/
2+v.rank,e:e};util.addDummyNode(g,"edge-proxy",label,"_ep")}})}function assignRankMinMax(g){var maxRank=0;_.each(g.nodes(),function(v){var node=g.node(v);if(node.borderTop){node.minRank=g.node(node.borderTop).rank;node.maxRank=g.node(node.borderBottom).rank;maxRank=_.max(maxRank,node.maxRank)}});g.graph().maxRank=maxRank}function removeEdgeLabelProxies(g){_.each(g.nodes(),function(v){var node=g.node(v);if(node.dummy==="edge-proxy"){g.edge(node.e).labelRank=node.rank;g.removeNode(v)}})}function translateGraph(g){var minX=
Number.POSITIVE_INFINITY,maxX=0,minY=Number.POSITIVE_INFINITY,maxY=0,graphLabel=g.graph(),marginX=graphLabel.marginx||0,marginY=graphLabel.marginy||0;function getExtremes(attrs){var x=attrs.x,y=attrs.y,w=attrs.width,h=attrs.height;minX=Math.min(minX,x-w/2);maxX=Math.max(maxX,x+w/2);minY=Math.min(minY,y-h/2);maxY=Math.max(maxY,y+h/2)}_.each(g.nodes(),function(v){getExtremes(g.node(v))});_.each(g.edges(),function(e){var edge=g.edge(e);if(_.has(edge,"x"))getExtremes(edge)});minX-=marginX;minY-=marginY;
_.each(g.nodes(),function(v){var node=g.node(v);node.x-=minX;node.y-=minY});_.each(g.edges(),function(e){var edge=g.edge(e);_.each(edge.points,function(p){p.x-=minX;p.y-=minY});if(_.has(edge,"x"))edge.x-=minX;if(_.has(edge,"y"))edge.y-=minY});graphLabel.width=maxX-minX+marginX;graphLabel.height=maxY-minY+marginY}function assignNodeIntersects(g){_.each(g.edges(),function(e){var edge=g.edge(e),nodeV=g.node(e.v),nodeW=g.node(e.w),p1,p2;if(!edge.points){edge.points=[];p1=nodeW;p2=nodeV}else{p1=edge.points[0];
p2=edge.points[edge.points.length-1]}edge.points.unshift(util.intersectRect(nodeV,p1));edge.points.push(util.intersectRect(nodeW,p2))})}function fixupEdgeLabelCoords(g){_.each(g.edges(),function(e){var edge=g.edge(e);if(_.has(edge,"x")){if(edge.labelpos==="l"||edge.labelpos==="r")edge.width-=edge.labeloffset;switch(edge.labelpos){case "l":edge.x-=edge.width/2+edge.labeloffset;break;case "r":edge.x+=edge.width/2+edge.labeloffset;break}}})}function reversePointsForReversedEdges(g){_.each(g.edges(),
function(e){var edge=g.edge(e);if(edge.reversed)edge.points.reverse()})}function removeBorderNodes(g){_.each(g.nodes(),function(v){if(g.children(v).length){var node=g.node(v),t=g.node(node.borderTop),b=g.node(node.borderBottom),l=g.node(_.last(node.borderLeft)),r=g.node(_.last(node.borderRight));node.width=Math.abs(r.x-l.x);node.height=Math.abs(b.y-t.y);node.x=l.x+node.width/2;node.y=t.y+node.height/2}});_.each(g.nodes(),function(v){if(g.node(v).dummy==="border")g.removeNode(v)})}function removeSelfEdges(g){_.each(g.edges(),
function(e){if(e.v===e.w){var node=g.node(e.v);if(!node.selfEdges)node.selfEdges=[];node.selfEdges.push({e:e,label:g.edge(e)});g.removeEdge(e)}})}function insertSelfEdges(g){var layers=util.buildLayerMatrix(g);_.each(layers,function(layer){var orderShift=0;_.each(layer,function(v,i){var node=g.node(v);node.order=i+orderShift;_.each(node.selfEdges,function(selfEdge){util.addDummyNode(g,"selfedge",{width:selfEdge.label.width,height:selfEdge.label.height,rank:node.rank,order:i+ ++orderShift,e:selfEdge.e,
label:selfEdge.label},"_se")});delete node.selfEdges})})}function positionSelfEdges(g){_.each(g.nodes(),function(v){var node=g.node(v);if(node.dummy==="selfedge"){var selfNode=g.node(node.e.v),x=selfNode.x+selfNode.width/2,y=selfNode.y,dx=node.x-x,dy=selfNode.height/2;g.setEdge(node.e,node.label);g.removeNode(v);node.label.points=[{x:x+2*dx/3,y:y-dy},{x:x+5*dx/6,y:y-dy},{x:x+dx,y:y},{x:x+5*dx/6,y:y+dy},{x:x+2*dx/3,y:y+dy}];node.label.x=node.x;node.label.y=node.y}})}function selectNumberAttrs(obj,
attrs){return _.mapValues(_.pick(obj,attrs),Number)}function canonicalize(attrs){var newAttrs={};_.each(attrs,function(v,k){newAttrs[k.toLowerCase()]=v});return newAttrs}},{"./acyclic":2,"./add-border-segments":3,"./coordinate-system":4,"./graphlib":7,"./lodash":10,"./nesting-graph":11,"./normalize":12,"./order":17,"./parent-dummy-chains":22,"./position":24,"./rank":26,"./util":29}],10:[function(require,module,exports){var lodash;if(typeof require==="function")try{lodash=require("lodash")}catch(e){}if(!lodash)lodash=
window._;module.exports=lodash},{"lodash":undefined}],11:[function(require,module,exports){var _=require("./lodash"),util=require("./util");module.exports={run:run,cleanup:cleanup};function run(g){var root=util.addDummyNode(g,"root",{},"_root"),depths=treeDepths(g),height=_.max(depths)-1,nodeSep=2*height+1;g.graph().nestingRoot=root;_.each(g.edges(),function(e){g.edge(e).minlen*=nodeSep});var weight=sumWeights(g)+1;_.each(g.children(),function(child){dfs(g,root,nodeSep,weight,height,depths,child)});
g.graph().nodeRankFactor=nodeSep}function dfs(g,root,nodeSep,weight,height,depths,v){var children=g.children(v);if(!children.length){if(v!==root)g.setEdge(root,v,{weight:0,minlen:nodeSep});return}var top=util.addBorderNode(g,"_bt"),bottom=util.addBorderNode(g,"_bb"),label=g.node(v);g.setParent(top,v);label.borderTop=top;g.setParent(bottom,v);label.borderBottom=bottom;_.each(children,function(child){dfs(g,root,nodeSep,weight,height,depths,child);var childNode=g.node(child),childTop=childNode.borderTop?
childNode.borderTop:child,childBottom=childNode.borderBottom?childNode.borderBottom:child,thisWeight=childNode.borderTop?weight:2*weight,minlen=childTop!==childBottom?1:height-depths[v]+1;g.setEdge(top,childTop,{weight:thisWeight,minlen:minlen,nestingEdge:true});g.setEdge(childBottom,bottom,{weight:thisWeight,minlen:minlen,nestingEdge:true})});if(!g.parent(v))g.setEdge(root,top,{weight:0,minlen:height+depths[v]})}function treeDepths(g){var depths={};function dfs(v,depth){var children=g.children(v);
if(children&&children.length)_.each(children,function(child){dfs(child,depth+1)});depths[v]=depth}_.each(g.children(),function(v){dfs(v,1)});return depths}function sumWeights(g){return _.reduce(g.edges(),function(acc,e){return acc+g.edge(e).weight},0)}function cleanup(g){var graphLabel=g.graph();g.removeNode(graphLabel.nestingRoot);delete graphLabel.nestingRoot;_.each(g.edges(),function(e){var edge=g.edge(e);if(edge.nestingEdge)g.removeEdge(e)})}},{"./lodash":10,"./util":29}],12:[function(require,
module,exports){var _=require("./lodash"),util=require("./util");module.exports={run:run,undo:undo};function run(g){g.graph().dummyChains=[];_.each(g.edges(),function(edge){normalizeEdge(g,edge)})}function normalizeEdge(g,e){var v=e.v,vRank=g.node(v).rank,w=e.w,wRank=g.node(w).rank,name=e.name,edgeLabel=g.edge(e),labelRank=edgeLabel.labelRank;if(wRank===vRank+1)return;g.removeEdge(e);var dummy,attrs,i;for(i=0,++vRank;vRank<wRank;++i,++vRank){edgeLabel.points=[];attrs={width:0,height:0,edgeLabel:edgeLabel,
edgeObj:e,rank:vRank};dummy=util.addDummyNode(g,"edge",attrs,"_d");if(vRank===labelRank){attrs.width=edgeLabel.width;attrs.height=edgeLabel.height;attrs.dummy="edge-label";attrs.labelpos=edgeLabel.labelpos}g.setEdge(v,dummy,{weight:edgeLabel.weight},name);if(i===0)g.graph().dummyChains.push(dummy);v=dummy}g.setEdge(v,w,{weight:edgeLabel.weight},name)}function undo(g){_.each(g.graph().dummyChains,function(v){var node=g.node(v),origLabel=node.edgeLabel,w;g.setEdge(node.edgeObj,origLabel);while(node.dummy){w=
g.successors(v)[0];g.removeNode(v);origLabel.points.push({x:node.x,y:node.y});if(node.dummy==="edge-label"){origLabel.x=node.x;origLabel.y=node.y;origLabel.width=node.width;origLabel.height=node.height}v=w;node=g.node(v)}})}},{"./lodash":10,"./util":29}],13:[function(require,module,exports){var _=require("../lodash");module.exports=addSubgraphConstraints;function addSubgraphConstraints(g,cg,vs){var prev={},rootPrev;_.each(vs,function(v){var child=g.parent(v),parent,prevChild;while(child){parent=g.parent(child);
if(parent){prevChild=prev[parent];prev[parent]=child}else{prevChild=rootPrev;rootPrev=child}if(prevChild&&prevChild!==child){cg.setEdge(prevChild,child);return}child=parent}})}},{"../lodash":10}],14:[function(require,module,exports){var _=require("../lodash");module.exports=barycenter;function barycenter(g,movable){return _.map(movable,function(v){var inV=g.inEdges(v);if(!inV.length)return{v:v};else{var result=_.reduce(inV,function(acc,e){var edge=g.edge(e),nodeU=g.node(e.v);return{sum:acc.sum+edge.weight*
nodeU.order,weight:acc.weight+edge.weight}},{sum:0,weight:0});return{v:v,barycenter:result.sum/result.weight,weight:result.weight}}})}},{"../lodash":10}],15:[function(require,module,exports){var _=require("../lodash"),Graph=require("../graphlib").Graph;module.exports=buildLayerGraph;function buildLayerGraph(g,rank,relationship){var root=createRootNode(g),result=(new Graph({compound:true})).setGraph({root:root}).setDefaultNodeLabel(function(v){return g.node(v)});_.each(g.nodes(),function(v){var node=
g.node(v),parent=g.parent(v);if(node.rank===rank||node.minRank<=rank&&rank<=node.maxRank){result.setNode(v);result.setParent(v,parent||root);_.each(g[relationship](v),function(e){var u=e.v===v?e.w:e.v,edge=result.edge(u,v),weight=!_.isUndefined(edge)?edge.weight:0;result.setEdge(u,v,{weight:g.edge(e).weight+weight})});if(_.has(node,"minRank"))result.setNode(v,{borderLeft:node.borderLeft[rank],borderRight:node.borderRight[rank]})}});return result}function createRootNode(g){var v;while(g.hasNode(v=
_.uniqueId("_root")));return v}},{"../graphlib":7,"../lodash":10}],16:[function(require,module,exports){var _=require("../lodash");module.exports=crossCount;function crossCount(g,layering){var cc=0;for(var i=1;i<layering.length;++i)cc+=twoLayerCrossCount(g,layering[i-1],layering[i]);return cc}function twoLayerCrossCount(g,northLayer,southLayer){var southPos=_.zipObject(southLayer,_.map(southLayer,function(v,i){return i}));var southEntries=_.flatten(_.map(northLayer,function(v){return _.chain(g.outEdges(v)).map(function(e){return{pos:southPos[e.w],
weight:g.edge(e).weight}}).sortBy("pos").value()}),true);var firstIndex=1;while(firstIndex<southLayer.length)firstIndex<<=1;var treeSize=2*firstIndex-1;firstIndex-=1;var tree=_.map(new Array(treeSize),function(){return 0});var cc=0;_.each(southEntries.forEach(function(entry){var index=entry.pos+firstIndex;tree[index]+=entry.weight;var weightSum=0;while(index>0){if(index%2)weightSum+=tree[index+1];index=index-1>>1;tree[index]+=entry.weight}cc+=entry.weight*weightSum}));return cc}},{"../lodash":10}],
17:[function(require,module,exports){var _=require("../lodash"),initOrder=require("./init-order"),crossCount=require("./cross-count"),sortSubgraph=require("./sort-subgraph"),buildLayerGraph=require("./build-layer-graph"),addSubgraphConstraints=require("./add-subgraph-constraints"),Graph=require("../graphlib").Graph,util=require("../util");module.exports=order;function order(g){var maxRank=util.maxRank(g),downLayerGraphs=buildLayerGraphs(g,_.range(1,maxRank+1),"inEdges"),upLayerGraphs=buildLayerGraphs(g,
_.range(maxRank-1,-1,-1),"outEdges");var layering=initOrder(g);assignOrder(g,layering);var bestCC=Number.POSITIVE_INFINITY,best;for(var i=0,lastBest=0;lastBest<4;++i,++lastBest){sweepLayerGraphs(i%2?downLayerGraphs:upLayerGraphs,i%4>=2);layering=util.buildLayerMatrix(g);var cc=crossCount(g,layering);if(cc<bestCC){lastBest=0;best=_.cloneDeep(layering);bestCC=cc}}assignOrder(g,best)}function buildLayerGraphs(g,ranks,relationship){return _.map(ranks,function(rank){return buildLayerGraph(g,rank,relationship)})}
function sweepLayerGraphs(layerGraphs,biasRight){var cg=new Graph;_.each(layerGraphs,function(lg){var root=lg.graph().root;var sorted=sortSubgraph(lg,root,cg,biasRight);_.each(sorted.vs,function(v,i){lg.node(v).order=i});addSubgraphConstraints(lg,cg,sorted.vs)})}function assignOrder(g,layering){_.each(layering,function(layer){_.each(layer,function(v,i){g.node(v).order=i})})}},{"../graphlib":7,"../lodash":10,"../util":29,"./add-subgraph-constraints":13,"./build-layer-graph":15,"./cross-count":16,"./init-order":18,
"./sort-subgraph":20}],18:[function(require,module,exports){var _=require("../lodash");module.exports=initOrder;function initOrder(g){var visited={},simpleNodes=_.filter(g.nodes(),function(v){return!g.children(v).length}),maxRank=_.max(_.map(simpleNodes,function(v){return g.node(v).rank})),layers=_.map(_.range(maxRank+1),function(){return[]});function dfs(v){if(_.has(visited,v))return;visited[v]=true;var node=g.node(v);layers[node.rank].push(v);_.each(g.successors(v),dfs)}var orderedVs=_.sortBy(simpleNodes,
function(v){return g.node(v).rank});_.each(orderedVs,dfs);return layers}},{"../lodash":10}],19:[function(require,module,exports){var _=require("../lodash");module.exports=resolveConflicts;function resolveConflicts(entries,cg){var mappedEntries={};_.each(entries,function(entry,i){var tmp=mappedEntries[entry.v]={indegree:0,"in":[],out:[],vs:[entry.v],i:i};if(!_.isUndefined(entry.barycenter)){tmp.barycenter=entry.barycenter;tmp.weight=entry.weight}});_.each(cg.edges(),function(e){var entryV=mappedEntries[e.v],
entryW=mappedEntries[e.w];if(!_.isUndefined(entryV)&&!_.isUndefined(entryW)){entryW.indegree++;entryV.out.push(mappedEntries[e.w])}});var sourceSet=_.filter(mappedEntries,function(entry){return!entry.indegree});return doResolveConflicts(sourceSet)}function doResolveConflicts(sourceSet){var entries=[];function handleIn(vEntry){return function(uEntry){if(uEntry.merged)return;if(_.isUndefined(uEntry.barycenter)||_.isUndefined(vEntry.barycenter)||uEntry.barycenter>=vEntry.barycenter)mergeEntries(vEntry,
uEntry)}}function handleOut(vEntry){return function(wEntry){wEntry["in"].push(vEntry);if(--wEntry.indegree===0)sourceSet.push(wEntry)}}while(sourceSet.length){var entry=sourceSet.pop();entries.push(entry);_.each(entry["in"].reverse(),handleIn(entry));_.each(entry.out,handleOut(entry))}return _.chain(entries).filter(function(entry){return!entry.merged}).map(function(entry){return _.pick(entry,["vs","i","barycenter","weight"])}).value()}function mergeEntries(target,source){var sum=0,weight=0;if(target.weight){sum+=
target.barycenter*target.weight;weight+=target.weight}if(source.weight){sum+=source.barycenter*source.weight;weight+=source.weight}target.vs=source.vs.concat(target.vs);target.barycenter=sum/weight;target.weight=weight;target.i=Math.min(source.i,target.i);source.merged=true}},{"../lodash":10}],20:[function(require,module,exports){var _=require("../lodash"),barycenter=require("./barycenter"),resolveConflicts=require("./resolve-conflicts"),sort=require("./sort");module.exports=sortSubgraph;function sortSubgraph(g,
v,cg,biasRight){var movable=g.children(v),node=g.node(v),bl=node?node.borderLeft:undefined,br=node?node.borderRight:undefined,subgraphs={};if(bl)movable=_.filter(movable,function(w){return w!==bl&&w!==br});var barycenters=barycenter(g,movable);_.each(barycenters,function(entry){if(g.children(entry.v).length){var subgraphResult=sortSubgraph(g,entry.v,cg,biasRight);subgraphs[entry.v]=subgraphResult;if(_.has(subgraphResult,"barycenter"))mergeBarycenters(entry,subgraphResult)}});var entries=resolveConflicts(barycenters,
cg);expandSubgraphs(entries,subgraphs);var result=sort(entries,biasRight);if(bl){result.vs=_.flatten([bl,result.vs,br],true);if(g.predecessors(bl).length){var blPred=g.node(g.predecessors(bl)[0]),brPred=g.node(g.predecessors(br)[0]);if(!_.has(result,"barycenter")){result.barycenter=0;result.weight=0}result.barycenter=(result.barycenter*result.weight+blPred.order+brPred.order)/(result.weight+2);result.weight+=2}}return result}function expandSubgraphs(entries,subgraphs){_.each(entries,function(entry){entry.vs=
_.flatten(entry.vs.map(function(v){if(subgraphs[v])return subgraphs[v].vs;return v}),true)})}function mergeBarycenters(target,other){if(!_.isUndefined(target.barycenter)){target.barycenter=(target.barycenter*target.weight+other.barycenter*other.weight)/(target.weight+other.weight);target.weight+=other.weight}else{target.barycenter=other.barycenter;target.weight=other.weight}}},{"../lodash":10,"./barycenter":14,"./resolve-conflicts":19,"./sort":21}],21:[function(require,module,exports){var _=require("../lodash"),
util=require("../util");module.exports=sort;function sort(entries,biasRight){var parts=util.partition(entries,function(entry){return _.has(entry,"barycenter")});var sortable=parts.lhs,unsortable=_.sortBy(parts.rhs,function(entry){return-entry.i}),vs=[],sum=0,weight=0,vsIndex=0;sortable.sort(compareWithBias(!!biasRight));vsIndex=consumeUnsortable(vs,unsortable,vsIndex);_.each(sortable,function(entry){vsIndex+=entry.vs.length;vs.push(entry.vs);sum+=entry.barycenter*entry.weight;weight+=entry.weight;
vsIndex=consumeUnsortable(vs,unsortable,vsIndex)});var result={vs:_.flatten(vs,true)};if(weight){result.barycenter=sum/weight;result.weight=weight}return result}function consumeUnsortable(vs,unsortable,index){var last;while(unsortable.length&&(last=_.last(unsortable)).i<=index){unsortable.pop();vs.push(last.vs);index++}return index}function compareWithBias(bias){return function(entryV,entryW){if(entryV.barycenter<entryW.barycenter)return-1;else if(entryV.barycenter>entryW.barycenter)return 1;return!bias?
entryV.i-entryW.i:entryW.i-entryV.i}}},{"../lodash":10,"../util":29}],22:[function(require,module,exports){var _=require("./lodash");module.exports=parentDummyChains;function parentDummyChains(g){var postorderNums=postorder(g);_.each(g.graph().dummyChains,function(v){var node=g.node(v),edgeObj=node.edgeObj,pathData=findPath(g,postorderNums,edgeObj.v,edgeObj.w),path=pathData.path,lca=pathData.lca,pathIdx=0,pathV=path[pathIdx],ascending=true;while(v!==edgeObj.w){node=g.node(v);if(ascending){while((pathV=
path[pathIdx])!==lca&&g.node(pathV).maxRank<node.rank)pathIdx++;if(pathV===lca)ascending=false}if(!ascending){while(pathIdx<path.length-1&&g.node(pathV=path[pathIdx+1]).minRank<=node.rank)pathIdx++;pathV=path[pathIdx]}g.setParent(v,pathV);v=g.successors(v)[0]}})}function findPath(g,postorderNums,v,w){var vPath=[],wPath=[],low=Math.min(postorderNums[v].low,postorderNums[w].low),lim=Math.max(postorderNums[v].lim,postorderNums[w].lim),parent,lca;parent=v;do{parent=g.parent(parent);vPath.push(parent)}while(parent&&
(postorderNums[parent].low>low||lim>postorderNums[parent].lim));lca=parent;parent=w;while((parent=g.parent(parent))!==lca)wPath.push(parent);return{path:vPath.concat(wPath.reverse()),lca:lca}}function postorder(g){var result={},lim=0;function dfs(v){var low=lim;_.each(g.children(v),dfs);result[v]={low:low,lim:lim++}}_.each(g.children(),dfs);return result}},{"./lodash":10}],23:[function(require,module,exports){var _=require("../lodash"),Graph=require("../graphlib").Graph,util=require("../util");module.exports=
{positionX:positionX,findType1Conflicts:findType1Conflicts,findType2Conflicts:findType2Conflicts,addConflict:addConflict,hasConflict:hasConflict,verticalAlignment:verticalAlignment,horizontalCompaction:horizontalCompaction,alignCoordinates:alignCoordinates,findSmallestWidthAlignment:findSmallestWidthAlignment,balance:balance};function findType1Conflicts(g,layering){var conflicts={};function visitLayer(prevLayer,layer){var k0=0,scanPos=0,prevLayerLength=prevLayer.length,lastNode=_.last(layer);_.each(layer,
function(v,i){var w=findOtherInnerSegmentNode(g,v),k1=w?g.node(w).order:prevLayerLength;if(w||v===lastNode){_.each(layer.slice(scanPos,i+1),function(scanNode){_.each(g.predecessors(scanNode),function(u){var uLabel=g.node(u),uPos=uLabel.order;if((uPos<k0||k1<uPos)&&!(uLabel.dummy&&g.node(scanNode).dummy))addConflict(conflicts,u,scanNode)})});scanPos=i+1;k0=k1}});return layer}_.reduce(layering,visitLayer);return conflicts}function findType2Conflicts(g,layering){var conflicts={};function scan(south,
southPos,southEnd,prevNorthBorder,nextNorthBorder){var v;_.each(_.range(southPos,southEnd),function(i){v=south[i];if(g.node(v).dummy)_.each(g.predecessors(v),function(u){var uNode=g.node(u);if(uNode.dummy&&(uNode.order<prevNorthBorder||uNode.order>nextNorthBorder))addConflict(conflicts,u,v)})})}function visitLayer(north,south){var prevNorthPos=-1,nextNorthPos,southPos=0;_.each(south,function(v,southLookahead){if(g.node(v).dummy==="border"){var predecessors=g.predecessors(v);if(predecessors.length){nextNorthPos=
g.node(predecessors[0]).order;scan(south,southPos,southLookahead,prevNorthPos,nextNorthPos);southPos=southLookahead;prevNorthPos=nextNorthPos}}scan(south,southPos,south.length,nextNorthPos,north.length)});return south}_.reduce(layering,visitLayer);return conflicts}function findOtherInnerSegmentNode(g,v){if(g.node(v).dummy)return _.find(g.predecessors(v),function(u){return g.node(u).dummy})}function addConflict(conflicts,v,w){if(v>w){var tmp=v;v=w;w=tmp}var conflictsV=conflicts[v];if(!conflictsV)conflicts[v]=
conflictsV={};conflictsV[w]=true}function hasConflict(conflicts,v,w){if(v>w){var tmp=v;v=w;w=tmp}return _.has(conflicts[v],w)}function verticalAlignment(g,layering,conflicts,neighborFn){var root={},align={},pos={};_.each(layering,function(layer){_.each(layer,function(v,order){root[v]=v;align[v]=v;pos[v]=order})});_.each(layering,function(layer){var prevIdx=-1;_.each(layer,function(v){var ws=neighborFn(v);if(ws.length){ws=_.sortBy(ws,function(w){return pos[w]});var mp=(ws.length-1)/2;for(var i=Math.floor(mp),
il=Math.ceil(mp);i<=il;++i){var w=ws[i];if(align[v]===v&&prevIdx<pos[w]&&!hasConflict(conflicts,v,w)){align[w]=v;align[v]=root[v]=root[w];prevIdx=pos[w]}}}})});return{root:root,align:align}}function horizontalCompaction(g,layering,root,align,reverseSep){var xs={},blockG=buildBlockGraph(g,layering,root,reverseSep);var visited={};function pass1(v){if(!_.has(visited,v)){visited[v]=true;xs[v]=_.reduce(blockG.inEdges(v),function(max,e){pass1(e.v);return Math.max(max,xs[e.v]+blockG.edge(e))},0)}}_.each(blockG.nodes(),
pass1);var borderType=reverseSep?"borderLeft":"borderRight";function pass2(v){if(visited[v]!==2){visited[v]++;var node=g.node(v);var min=_.reduce(blockG.outEdges(v),function(min,e){pass2(e.w);return Math.min(min,xs[e.w]-blockG.edge(e))},Number.POSITIVE_INFINITY);if(min!==Number.POSITIVE_INFINITY&&node.borderType!==borderType)xs[v]=Math.max(xs[v],min)}}_.each(blockG.nodes(),pass2);_.each(align,function(v){xs[v]=xs[root[v]]});return xs}function buildBlockGraph(g,layering,root,reverseSep){var blockGraph=
new Graph,graphLabel=g.graph(),sepFn=sep(graphLabel.nodesep,graphLabel.edgesep,reverseSep);_.each(layering,function(layer){var u;_.each(layer,function(v){var vRoot=root[v];blockGraph.setNode(vRoot);if(u){var uRoot=root[u],prevMax=blockGraph.edge(uRoot,vRoot);blockGraph.setEdge(uRoot,vRoot,Math.max(sepFn(g,v,u),prevMax||0))}u=v})});return blockGraph}function findSmallestWidthAlignment(g,xss){return _.min(xss,function(xs){var min=_.min(xs,function(x,v){return x-width(g,v)/2}),max=_.max(xs,function(x,
v){return x+width(g,v)/2});return max-min})}function alignCoordinates(xss,alignTo){var alignToMin=_.min(alignTo),alignToMax=_.max(alignTo);_.each(["u","d"],function(vert){_.each(["l","r"],function(horiz){var alignment=vert+horiz,xs=xss[alignment],delta;if(xs===alignTo)return;delta=horiz==="l"?alignToMin-_.min(xs):alignToMax-_.max(xs);if(delta)xss[alignment]=_.mapValues(xs,function(x){return x+delta})})})}function balance(xss,align){return _.mapValues(xss.ul,function(ignore,v){if(align)return xss[align.toLowerCase()][v];
else{var xs=_.sortBy(_.pluck(xss,v));return(xs[1]+xs[2])/2}})}function positionX(g){var layering=util.buildLayerMatrix(g),conflicts=_.merge(findType1Conflicts(g,layering),findType2Conflicts(g,layering));var xss={},adjustedLayering;_.each(["u","d"],function(vert){adjustedLayering=vert==="u"?layering:_.values(layering).reverse();_.each(["l","r"],function(horiz){if(horiz==="r")adjustedLayering=_.map(adjustedLayering,function(inner){return _.values(inner).reverse()});var neighborFn=_.bind(vert==="u"?
g.predecessors:g.successors,g);var align=verticalAlignment(g,adjustedLayering,conflicts,neighborFn);var xs=horizontalCompaction(g,adjustedLayering,align.root,align.align,horiz==="r");if(horiz==="r")xs=_.mapValues(xs,function(x){return-x});xss[vert+horiz]=xs})});var smallestWidth=findSmallestWidthAlignment(g,xss);alignCoordinates(xss,smallestWidth);return balance(xss,g.graph().align)}function sep(nodeSep,edgeSep,reverseSep){return function(g,v,w){var vLabel=g.node(v),wLabel=g.node(w),sum=0,delta;sum+=
vLabel.width/2;if(_.has(vLabel,"labelpos"))switch(vLabel.labelpos.toLowerCase()){case "l":delta=-vLabel.width/2;break;case "r":delta=vLabel.width/2;break}if(delta)sum+=reverseSep?delta:-delta;delta=0;sum+=(vLabel.dummy?edgeSep:nodeSep)/2;sum+=(wLabel.dummy?edgeSep:nodeSep)/2;sum+=wLabel.width/2;if(_.has(wLabel,"labelpos"))switch(wLabel.labelpos.toLowerCase()){case "l":delta=wLabel.width/2;break;case "r":delta=-wLabel.width/2;break}if(delta)sum+=reverseSep?delta:-delta;delta=0;return sum}}function width(g,
v){return g.node(v).width}},{"../graphlib":7,"../lodash":10,"../util":29}],24:[function(require,module,exports){var _=require("../lodash"),util=require("../util"),positionX=require("./bk").positionX;module.exports=position;function position(g){g=util.asNonCompoundGraph(g);positionY(g);_.each(positionX(g),function(x,v){g.node(v).x=x})}function positionY(g){var layering=util.buildLayerMatrix(g),rankSep=g.graph().ranksep,prevY=0;_.each(layering,function(layer){var maxHeight=_.max(_.map(layer,function(v){return g.node(v).height}));
_.each(layer,function(v){g.node(v).y=prevY+maxHeight/2});prevY+=maxHeight+rankSep})}},{"../lodash":10,"../util":29,"./bk":23}],25:[function(require,module,exports){var _=require("../lodash"),Graph=require("../graphlib").Graph,slack=require("./util").slack;module.exports=feasibleTree;function feasibleTree(g){var t=new Graph({directed:false});var start=g.nodes()[0],size=g.nodeCount();t.setNode(start,{});var edge,delta;while(tightTree(t,g)<size){edge=findMinSlackEdge(t,g);delta=t.hasNode(edge.v)?slack(g,
edge):-slack(g,edge);shiftRanks(t,g,delta)}return t}function tightTree(t,g){function dfs(v){_.each(g.nodeEdges(v),function(e){var edgeV=e.v,w=v===edgeV?e.w:edgeV;if(!t.hasNode(w)&&!slack(g,e)){t.setNode(w,{});t.setEdge(v,w,{});dfs(w)}})}_.each(t.nodes(),dfs);return t.nodeCount()}function findMinSlackEdge(t,g){return _.min(g.edges(),function(e){if(t.hasNode(e.v)!==t.hasNode(e.w))return slack(g,e)})}function shiftRanks(t,g,delta){_.each(t.nodes(),function(v){g.node(v).rank+=delta})}},{"../graphlib":7,
"../lodash":10,"./util":28}],26:[function(require,module,exports){var rankUtil=require("./util"),longestPath=rankUtil.longestPath,feasibleTree=require("./feasible-tree"),networkSimplex=require("./network-simplex");module.exports=rank;function rank(g){switch(g.graph().ranker){case "network-simplex":networkSimplexRanker(g);break;case "tight-tree":tightTreeRanker(g);break;case "longest-path":longestPathRanker(g);break;default:networkSimplexRanker(g)}}var longestPathRanker=longestPath;function tightTreeRanker(g){longestPath(g);
feasibleTree(g)}function networkSimplexRanker(g){networkSimplex(g)}},{"./feasible-tree":25,"./network-simplex":27,"./util":28}],27:[function(require,module,exports){var _=require("../lodash"),feasibleTree=require("./feasible-tree"),slack=require("./util").slack,initRank=require("./util").longestPath,preorder=require("../graphlib").alg.preorder,postorder=require("../graphlib").alg.postorder,simplify=require("../util").simplify;module.exports=networkSimplex;networkSimplex.initLowLimValues=initLowLimValues;
networkSimplex.initCutValues=initCutValues;networkSimplex.calcCutValue=calcCutValue;networkSimplex.leaveEdge=leaveEdge;networkSimplex.enterEdge=enterEdge;networkSimplex.exchangeEdges=exchangeEdges;function networkSimplex(g){g=simplify(g);initRank(g);var t=feasibleTree(g);initLowLimValues(t);initCutValues(t,g);var e,f;while(e=leaveEdge(t)){f=enterEdge(t,g,e);exchangeEdges(t,g,e,f)}}function initCutValues(t,g){var vs=postorder(t,t.nodes());vs=vs.slice(0,vs.length-1);_.each(vs,function(v){assignCutValue(t,
g,v)})}function assignCutValue(t,g,child){var childLab=t.node(child),parent=childLab.parent;t.edge(child,parent).cutvalue=calcCutValue(t,g,child)}function calcCutValue(t,g,child){var childLab=t.node(child),parent=childLab.parent,childIsTail=true,graphEdge=g.edge(child,parent),cutValue=0;if(!graphEdge){childIsTail=false;graphEdge=g.edge(parent,child)}cutValue=graphEdge.weight;_.each(g.nodeEdges(child),function(e){var isOutEdge=e.v===child,other=isOutEdge?e.w:e.v;if(other!==parent){var pointsToHead=
isOutEdge===childIsTail,otherWeight=g.edge(e).weight;cutValue+=pointsToHead?otherWeight:-otherWeight;if(isTreeEdge(t,child,other)){var otherCutValue=t.edge(child,other).cutvalue;cutValue+=pointsToHead?-otherCutValue:otherCutValue}}});return cutValue}function initLowLimValues(tree,root){if(arguments.length<2)root=tree.nodes()[0];dfsAssignLowLim(tree,{},1,root)}function dfsAssignLowLim(tree,visited,nextLim,v,parent){var low=nextLim,label=tree.node(v);visited[v]=true;_.each(tree.neighbors(v),function(w){if(!_.has(visited,
w))nextLim=dfsAssignLowLim(tree,visited,nextLim,w,v)});label.low=low;label.lim=nextLim++;if(parent)label.parent=parent;else delete label.parent;return nextLim}function leaveEdge(tree){return _.find(tree.edges(),function(e){return tree.edge(e).cutvalue<0})}function enterEdge(t,g,edge){var v=edge.v,w=edge.w;if(!g.hasEdge(v,w)){v=edge.w;w=edge.v}var vLabel=t.node(v),wLabel=t.node(w),tailLabel=vLabel,flip=false;if(vLabel.lim>wLabel.lim){tailLabel=wLabel;flip=true}var candidates=_.filter(g.edges(),function(edge){return flip===
isDescendant(t,t.node(edge.v),tailLabel)&&flip!==isDescendant(t,t.node(edge.w),tailLabel)});return _.min(candidates,function(edge){return slack(g,edge)})}function exchangeEdges(t,g,e,f){var v=e.v,w=e.w;t.removeEdge(v,w);t.setEdge(f.v,f.w,{});initLowLimValues(t);initCutValues(t,g);updateRanks(t,g)}function updateRanks(t,g){var root=_.find(t.nodes(),function(v){return!g.node(v).parent}),vs=preorder(t,root);vs=vs.slice(1);_.each(vs,function(v){var parent=t.node(v).parent,edge=g.edge(v,parent),flipped=
false;if(!edge){edge=g.edge(parent,v);flipped=true}g.node(v).rank=g.node(parent).rank+(flipped?edge.minlen:-edge.minlen)})}function isTreeEdge(tree,u,v){return tree.hasEdge(u,v)}function isDescendant(tree,vLabel,rootLabel){return rootLabel.low<=vLabel.lim&&vLabel.lim<=rootLabel.lim}},{"../graphlib":7,"../lodash":10,"../util":29,"./feasible-tree":25,"./util":28}],28:[function(require,module,exports){var _=require("../lodash");module.exports={longestPath:longestPath,slack:slack};function longestPath(g){var visited=
{};function dfs(v){var label=g.node(v);if(_.has(visited,v))return label.rank;visited[v]=true;var rank=_.min(_.map(g.outEdges(v),function(e){return dfs(e.w)-g.edge(e).minlen}));if(rank===Number.POSITIVE_INFINITY)rank=0;return label.rank=rank}_.each(g.sources(),dfs)}function slack(g,e){return g.node(e.w).rank-g.node(e.v).rank-g.edge(e).minlen}},{"../lodash":10}],29:[function(require,module,exports){var _=require("./lodash"),Graph=require("./graphlib").Graph;module.exports={addDummyNode:addDummyNode,
simplify:simplify,asNonCompoundGraph:asNonCompoundGraph,successorWeights:successorWeights,predecessorWeights:predecessorWeights,intersectRect:intersectRect,buildLayerMatrix:buildLayerMatrix,normalizeRanks:normalizeRanks,removeEmptyRanks:removeEmptyRanks,addBorderNode:addBorderNode,maxRank:maxRank,partition:partition,time:time,notime:notime};function addDummyNode(g,type,attrs,name){var v;do v=_.uniqueId(name);while(g.hasNode(v));attrs.dummy=type;g.setNode(v,attrs);return v}function simplify(g){var simplified=
(new Graph).setGraph(g.graph());_.each(g.nodes(),function(v){simplified.setNode(v,g.node(v))});_.each(g.edges(),function(e){var simpleLabel=simplified.edge(e.v,e.w)||{weight:0,minlen:1},label=g.edge(e);simplified.setEdge(e.v,e.w,{weight:simpleLabel.weight+label.weight,minlen:Math.max(simpleLabel.minlen,label.minlen)})});return simplified}function asNonCompoundGraph(g){var simplified=(new Graph({multigraph:g.isMultigraph()})).setGraph(g.graph());_.each(g.nodes(),function(v){if(!g.children(v).length)simplified.setNode(v,
g.node(v))});_.each(g.edges(),function(e){simplified.setEdge(e,g.edge(e))});return simplified}function successorWeights(g){var weightMap=_.map(g.nodes(),function(v){var sucs={};_.each(g.outEdges(v),function(e){sucs[e.w]=(sucs[e.w]||0)+g.edge(e).weight});return sucs});return _.zipObject(g.nodes(),weightMap)}function predecessorWeights(g){var weightMap=_.map(g.nodes(),function(v){var preds={};_.each(g.inEdges(v),function(e){preds[e.v]=(preds[e.v]||0)+g.edge(e).weight});return preds});return _.zipObject(g.nodes(),
weightMap)}function intersectRect(rect,point){var x=rect.x;var y=rect.y;var dx=point.x-x;var dy=point.y-y;var w=rect.width/2;var h=rect.height/2;if(!dx&&!dy)throw new Error("Not possible to find intersection inside of the rectangle");var sx,sy;if(Math.abs(dy)*w>Math.abs(dx)*h){if(dy<0)h=-h;sx=h*dx/dy;sy=h}else{if(dx<0)w=-w;sx=w;sy=w*dy/dx}return{x:x+sx,y:y+sy}}function buildLayerMatrix(g){var layering=_.map(_.range(maxRank(g)+1),function(){return[]});_.each(g.nodes(),function(v){var node=g.node(v),
rank=node.rank;if(!_.isUndefined(rank))layering[rank][node.order]=v});return layering}function normalizeRanks(g){var min=_.min(_.map(g.nodes(),function(v){return g.node(v).rank}));_.each(g.nodes(),function(v){var node=g.node(v);if(_.has(node,"rank"))node.rank-=min})}function removeEmptyRanks(g){var offset=_.min(_.map(g.nodes(),function(v){return g.node(v).rank}));var layers=[];_.each(g.nodes(),function(v){var rank=g.node(v).rank-offset;if(!layers[rank])layers[rank]=[];layers[rank].push(v)});var delta=
0,nodeRankFactor=g.graph().nodeRankFactor;_.each(layers,function(vs,i){if(_.isUndefined(vs)&&i%nodeRankFactor!==0)--delta;else if(delta)_.each(vs,function(v){g.node(v).rank+=delta})})}function addBorderNode(g,prefix,rank,order){var node={width:0,height:0};if(arguments.length>=4){node.rank=rank;node.order=order}return addDummyNode(g,"border",node,prefix)}function maxRank(g){return _.max(_.map(g.nodes(),function(v){var rank=g.node(v).rank;if(!_.isUndefined(rank))return rank}))}function partition(collection,
fn){var result={lhs:[],rhs:[]};_.each(collection,function(value){if(fn(value))result.lhs.push(value);else result.rhs.push(value)});return result}function time(name,fn){var start=_.now();try{return fn()}finally{console.log(name+" time: "+(_.now()-start)+"ms")}}function notime(name,fn){return fn()}},{"./graphlib":7,"./lodash":10}],30:[function(require,module,exports){module.exports="0.7.4"},{}]},{},[1])(1)});</script><script>var numeric=typeof exports==="undefined"?function numeric(){}:exports;if(typeof global!=="undefined")global.numeric=numeric;numeric.version="1.2.6";numeric.bench=function bench(f,interval){var t1,t2,n,i;if(typeof interval==="undefined")interval=15;n=.5;t1=new Date;while(1){n*=2;for(i=n;i>3;i-=4){f();f();f();f()}while(i>0){f();i--}t2=new Date;if(t2-t1>interval)break}for(i=n;i>3;i-=4){f();f();f();f()}while(i>0){f();i--}t2=new Date;return 1E3*(3*n-1)/(t2-t1)};
numeric._myIndexOf=function _myIndexOf(w){var n=this.length,k;for(k=0;k<n;++k)if(this[k]===w)return k;return-1};numeric.myIndexOf=Array.prototype.indexOf?Array.prototype.indexOf:numeric._myIndexOf;numeric.Function=Function;numeric.precision=4;numeric.largeArray=50;
numeric.prettyPrint=function prettyPrint(x){function fmtnum(x){if(x===0)return"0";if(isNaN(x))return"NaN";if(x<0)return"-"+fmtnum(-x);if(isFinite(x)){var scale=Math.floor(Math.log(x)/Math.log(10));var normalized=x/Math.pow(10,scale);var basic=normalized.toPrecision(numeric.precision);if(parseFloat(basic)===10){scale++;normalized=1;basic=normalized.toPrecision(numeric.precision)}return parseFloat(basic).toString()+"e"+scale.toString()}return"Infinity"}var ret=[];function foo(x){var k;if(typeof x===
"undefined"){ret.push(Array(numeric.precision+8).join(" "));return false}if(typeof x==="string"){ret.push('"'+x+'"');return false}if(typeof x==="boolean"){ret.push(x.toString());return false}if(typeof x==="number"){var a=fmtnum(x);var b=x.toPrecision(numeric.precision);var c=parseFloat(x.toString()).toString();var d=[a,b,c,parseFloat(b).toString(),parseFloat(c).toString()];for(k=1;k<d.length;k++)if(d[k].length<a.length)a=d[k];ret.push(Array(numeric.precision+8-a.length).join(" ")+a);return false}if(x===
null){ret.push("null");return false}if(typeof x==="function"){ret.push(x.toString());var flag=false;for(k in x)if(x.hasOwnProperty(k)){if(flag)ret.push(",\n");else ret.push("\n{");flag=true;ret.push(k);ret.push(": \n");foo(x[k])}if(flag)ret.push("}\n");return true}if(x instanceof Array){if(x.length>numeric.largeArray){ret.push("...Large Array...");return true}var flag=false;ret.push("[");for(k=0;k<x.length;k++){if(k>0){ret.push(",");if(flag)ret.push("\n ")}flag=foo(x[k])}ret.push("]");return true}ret.push("{");
var flag=false;for(k in x)if(x.hasOwnProperty(k)){if(flag)ret.push(",\n");flag=true;ret.push(k);ret.push(": \n");foo(x[k])}ret.push("}");return true}foo(x);return ret.join("")};numeric.parseDate=function parseDate(d){function foo(d){if(typeof d==="string")return Date.parse(d.replace(/-/g,"/"));if(!(d instanceof Array))throw new Error("parseDate: parameter must be arrays of strings");var ret=[],k;for(k=0;k<d.length;k++)ret[k]=foo(d[k]);return ret}return foo(d)};
numeric.parseFloat=function parseFloat_(d){function foo(d){if(typeof d==="string")return parseFloat(d);if(!(d instanceof Array))throw new Error("parseFloat: parameter must be arrays of strings");var ret=[],k;for(k=0;k<d.length;k++)ret[k]=foo(d[k]);return ret}return foo(d)};
numeric.parseCSV=function parseCSV(t){var foo=t.split("\n");var j,k;var ret=[];var pat=/(([^'",]*)|('[^']*')|("[^"]*")),/g;var patnum=/^\s*(([+-]?[0-9]+(\.[0-9]*)?(e[+-]?[0-9]+)?)|([+-]?[0-9]*(\.[0-9]+)?(e[+-]?[0-9]+)?))\s*$/;var stripper=function(n){return n.substr(0,n.length-1)};var count=0;for(k=0;k<foo.length;k++){var bar=(foo[k]+",").match(pat),baz;if(bar.length>0){ret[count]=[];for(j=0;j<bar.length;j++){baz=stripper(bar[j]);if(patnum.test(baz))ret[count][j]=parseFloat(baz);else ret[count][j]=
baz}count++}}return ret};numeric.toCSV=function toCSV(A){var s=numeric.dim(A);var i,j,m,n,row,ret;m=s[0];n=s[1];ret=[];for(i=0;i<m;i++){row=[];for(j=0;j<m;j++)row[j]=A[i][j].toString();ret[i]=row.join(", ")}return ret.join("\n")+"\n"};numeric.getURL=function getURL(url){var client=new XMLHttpRequest;client.open("GET",url,false);client.send();return client};
numeric.imageURL=function imageURL(img){function base64(A){var n=A.length,i,x,y,z,p,q,r,s;var key="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\x3d";var ret="";for(i=0;i<n;i+=3){x=A[i];y=A[i+1];z=A[i+2];p=x>>2;q=((x&3)<<4)+(y>>4);r=((y&15)<<2)+(z>>6);s=z&63;if(i+1>=n)r=s=64;else if(i+2>=n)s=64;ret+=key.charAt(p)+key.charAt(q)+key.charAt(r)+key.charAt(s)}return ret}function crc32Array(a,from,to){if(typeof from==="undefined")from=0;if(typeof to==="undefined")to=a.length;var table=
[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,
651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,
4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,
167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,
3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918E3,
2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];var crc=-1,y=0,n=a.length,i;for(i=from;i<to;i++){y=(crc^a[i])&255;crc=crc>>>8^table[y]}return crc^-1}var h=img[0].length,w=img[0][0].length,s1,s2,next,k,length,a,b,i,j,adler32,crc32;var stream=[137,80,78,71,13,10,26,10,0,0,0,13,73,72,68,82,w>>24&255,w>>16&255,w>>8&255,w&255,h>>24&255,
h>>16&255,h>>8&255,h&255,8,2,0,0,0,-1,-2,-3,-4,-5,-6,-7,-8,73,68,65,84,8,29];crc32=crc32Array(stream,12,29);stream[29]=crc32>>24&255;stream[30]=crc32>>16&255;stream[31]=crc32>>8&255;stream[32]=crc32&255;s1=1;s2=0;for(i=0;i<h;i++){if(i<h-1)stream.push(0);else stream.push(1);a=3*w+1+(i===0)&255;b=3*w+1+(i===0)>>8&255;stream.push(a);stream.push(b);stream.push(~a&255);stream.push(~b&255);if(i===0)stream.push(0);for(j=0;j<w;j++)for(k=0;k<3;k++){a=img[k][i][j];if(a>255)a=255;else if(a<0)a=0;else a=Math.round(a);
s1=(s1+a)%65521;s2=(s2+s1)%65521;stream.push(a)}stream.push(0)}adler32=(s2<<16)+s1;stream.push(adler32>>24&255);stream.push(adler32>>16&255);stream.push(adler32>>8&255);stream.push(adler32&255);length=stream.length-41;stream[33]=length>>24&255;stream[34]=length>>16&255;stream[35]=length>>8&255;stream[36]=length&255;crc32=crc32Array(stream,37);stream.push(crc32>>24&255);stream.push(crc32>>16&255);stream.push(crc32>>8&255);stream.push(crc32&255);stream.push(0);stream.push(0);stream.push(0);stream.push(0);
stream.push(73);stream.push(69);stream.push(78);stream.push(68);stream.push(174);stream.push(66);stream.push(96);stream.push(130);return"data:image/png;base64,"+base64(stream)};numeric._dim=function _dim(x){var ret=[];while(typeof x==="object"){ret.push(x.length);x=x[0]}return ret};numeric.dim=function dim(x){var y,z;if(typeof x==="object"){y=x[0];if(typeof y==="object"){z=y[0];if(typeof z==="object")return numeric._dim(x);return[x.length,y.length]}return[x.length]}return[]};
numeric.mapreduce=function mapreduce(body,init){return Function("x","accum","_s","_k",'if(typeof accum \x3d\x3d\x3d "undefined") accum \x3d '+init+";\n"+'if(typeof x \x3d\x3d\x3d "number") { var xi \x3d x; '+body+"; return accum; }\n"+'if(typeof _s \x3d\x3d\x3d "undefined") _s \x3d numeric.dim(x);\n'+'if(typeof _k \x3d\x3d\x3d "undefined") _k \x3d 0;\n'+"var _n \x3d _s[_k];\n"+"var i,xi;\n"+"if(_k \x3c _s.length-1) {\n"+"    for(i\x3d_n-1;i\x3e\x3d0;i--) {\n"+"        accum \x3d arguments.callee(x[i],accum,_s,_k+1);\n"+
"    }"+"    return accum;\n"+"}\n"+"for(i\x3d_n-1;i\x3e\x3d1;i-\x3d2) { \n"+"    xi \x3d x[i];\n"+"    "+body+";\n"+"    xi \x3d x[i-1];\n"+"    "+body+";\n"+"}\n"+"if(i \x3d\x3d\x3d 0) {\n"+"    xi \x3d x[i];\n"+"    "+body+"\n"+"}\n"+"return accum;")};numeric.mapreduce2=function mapreduce2(body,setup){return Function("x","var n \x3d x.length;\n"+"var i,xi;\n"+setup+";\n"+"for(i\x3dn-1;i!\x3d\x3d-1;--i) { \n"+"    xi \x3d x[i];\n"+"    "+body+";\n"+"}\n"+"return accum;")};
numeric.same=function same(x,y){var i,n;if(!(x instanceof Array)||!(y instanceof Array))return false;n=x.length;if(n!==y.length)return false;for(i=0;i<n;i++){if(x[i]===y[i])continue;if(typeof x[i]==="object"){if(!same(x[i],y[i]))return false}else return false}return true};numeric.rep=function rep(s,v,k){if(typeof k==="undefined")k=0;var n=s[k],ret=Array(n),i;if(k===s.length-1){for(i=n-2;i>=0;i-=2){ret[i+1]=v;ret[i]=v}if(i===-1)ret[0]=v;return ret}for(i=n-1;i>=0;i--)ret[i]=numeric.rep(s,v,k+1);return ret};
numeric.dotMMsmall=function dotMMsmall(x,y){var i,j,k,p,q,r,ret,foo,bar,woo,i0,k0,p0,r0;p=x.length;q=y.length;r=y[0].length;ret=Array(p);for(i=p-1;i>=0;i--){foo=Array(r);bar=x[i];for(k=r-1;k>=0;k--){woo=bar[q-1]*y[q-1][k];for(j=q-2;j>=1;j-=2){i0=j-1;woo+=bar[j]*y[j][k]+bar[i0]*y[i0][k]}if(j===0)woo+=bar[0]*y[0][k];foo[k]=woo}ret[i]=foo}return ret};numeric._getCol=function _getCol(A,j,x){var n=A.length,i;for(i=n-1;i>0;--i){x[i]=A[i][j];--i;x[i]=A[i][j]}if(i===0)x[0]=A[0][j]};
numeric.dotMMbig=function dotMMbig(x,y){var gc=numeric._getCol,p=y.length,v=Array(p);var m=x.length,n=y[0].length,A=new Array(m),xj;var VV=numeric.dotVV;var i,j,k,z;--p;--m;for(i=m;i!==-1;--i)A[i]=Array(n);--n;for(i=n;i!==-1;--i){gc(y,i,v);for(j=m;j!==-1;--j){z=0;xj=x[j];A[j][i]=VV(xj,v)}}return A};numeric.dotMV=function dotMV(x,y){var p=x.length,q=y.length,i;var ret=Array(p),dotVV=numeric.dotVV;for(i=p-1;i>=0;i--)ret[i]=dotVV(x[i],y);return ret};
numeric.dotVM=function dotVM(x,y){var i,j,k,p,q,r,ret,foo,bar,woo,i0,k0,p0,r0,s1,s2,s3,baz,accum;p=x.length;q=y[0].length;ret=Array(q);for(k=q-1;k>=0;k--){woo=x[p-1]*y[p-1][k];for(j=p-2;j>=1;j-=2){i0=j-1;woo+=x[j]*y[j][k]+x[i0]*y[i0][k]}if(j===0)woo+=x[0]*y[0][k];ret[k]=woo}return ret};numeric.dotVV=function dotVV(x,y){var i,n=x.length,i1,ret=x[n-1]*y[n-1];for(i=n-2;i>=1;i-=2){i1=i-1;ret+=x[i]*y[i]+x[i1]*y[i1]}if(i===0)ret+=x[0]*y[0];return ret};
numeric.dot=function dot(x,y){var d=numeric.dim;switch(d(x).length*1E3+d(y).length){case 2002:if(y.length<10)return numeric.dotMMsmall(x,y);else return numeric.dotMMbig(x,y);case 2001:return numeric.dotMV(x,y);case 1002:return numeric.dotVM(x,y);case 1001:return numeric.dotVV(x,y);case 1E3:return numeric.mulVS(x,y);case 1:return numeric.mulSV(x,y);case 0:return x*y;default:throw new Error("numeric.dot only works on vectors and matrices");}};
numeric.diag=function diag(d){var i,i1,j,n=d.length,A=Array(n),Ai;for(i=n-1;i>=0;i--){Ai=Array(n);i1=i+2;for(j=n-1;j>=i1;j-=2){Ai[j]=0;Ai[j-1]=0}if(j>i)Ai[j]=0;Ai[i]=d[i];for(j=i-1;j>=1;j-=2){Ai[j]=0;Ai[j-1]=0}if(j===0)Ai[0]=0;A[i]=Ai}return A};numeric.getDiag=function(A){var n=Math.min(A.length,A[0].length),i,ret=Array(n);for(i=n-1;i>=1;--i){ret[i]=A[i][i];--i;ret[i]=A[i][i]}if(i===0)ret[0]=A[0][0];return ret};numeric.identity=function identity(n){return numeric.diag(numeric.rep([n],1))};
numeric.pointwise=function pointwise(params,body,setup){if(typeof setup==="undefined")setup="";var fun=[];var k;var avec=/\[i\]$/,p,thevec="";var haveret=false;for(k=0;k<params.length;k++){if(avec.test(params[k])){p=params[k].substring(0,params[k].length-3);thevec=p}else p=params[k];if(p==="ret")haveret=true;fun.push(p)}fun[params.length]="_s";fun[params.length+1]="_k";fun[params.length+2]='if(typeof _s \x3d\x3d\x3d "undefined") _s \x3d numeric.dim('+thevec+");\n"+'if(typeof _k \x3d\x3d\x3d "undefined") _k \x3d 0;\n'+
"var _n \x3d _s[_k];\n"+"var i"+(haveret?"":", ret \x3d Array(_n)")+";\n"+"if(_k \x3c _s.length-1) {\n"+"    for(i\x3d_n-1;i\x3e\x3d0;i--) ret[i] \x3d arguments.callee("+params.join(",")+",_s,_k+1);\n"+"    return ret;\n"+"}\n"+setup+"\n"+"for(i\x3d_n-1;i!\x3d\x3d-1;--i) {\n"+"    "+body+"\n"+"}\n"+"return ret;";return Function.apply(null,fun)};
numeric.pointwise2=function pointwise2(params,body,setup){if(typeof setup==="undefined")setup="";var fun=[];var k;var avec=/\[i\]$/,p,thevec="";var haveret=false;for(k=0;k<params.length;k++){if(avec.test(params[k])){p=params[k].substring(0,params[k].length-3);thevec=p}else p=params[k];if(p==="ret")haveret=true;fun.push(p)}fun[params.length]="var _n \x3d "+thevec+".length;\n"+"var i"+(haveret?"":", ret \x3d Array(_n)")+";\n"+setup+"\n"+"for(i\x3d_n-1;i!\x3d\x3d-1;--i) {\n"+body+"\n"+"}\n"+"return ret;";
return Function.apply(null,fun)};numeric._biforeach=function _biforeach(x,y,s,k,f){if(k===s.length-1){f(x,y);return}var i,n=s[k];for(i=n-1;i>=0;i--)_biforeach(typeof x==="object"?x[i]:x,typeof y==="object"?y[i]:y,s,k+1,f)};numeric._biforeach2=function _biforeach2(x,y,s,k,f){if(k===s.length-1)return f(x,y);var i,n=s[k],ret=Array(n);for(i=n-1;i>=0;--i)ret[i]=_biforeach2(typeof x==="object"?x[i]:x,typeof y==="object"?y[i]:y,s,k+1,f);return ret};
numeric._foreach=function _foreach(x,s,k,f){if(k===s.length-1){f(x);return}var i,n=s[k];for(i=n-1;i>=0;i--)_foreach(x[i],s,k+1,f)};numeric._foreach2=function _foreach2(x,s,k,f){if(k===s.length-1)return f(x);var i,n=s[k],ret=Array(n);for(i=n-1;i>=0;i--)ret[i]=_foreach2(x[i],s,k+1,f);return ret};
numeric.ops2={add:"+",sub:"-",mul:"*",div:"/",mod:"%",and:"\x26\x26",or:"||",eq:"\x3d\x3d\x3d",neq:"!\x3d\x3d",lt:"\x3c",gt:"\x3e",leq:"\x3c\x3d",geq:"\x3e\x3d",band:"\x26",bor:"|",bxor:"^",lshift:"\x3c\x3c",rshift:"\x3e\x3e",rrshift:"\x3e\x3e\x3e"};numeric.opseq={addeq:"+\x3d",subeq:"-\x3d",muleq:"*\x3d",diveq:"/\x3d",modeq:"%\x3d",lshifteq:"\x3c\x3c\x3d",rshifteq:"\x3e\x3e\x3d",rrshifteq:"\x3e\x3e\x3e\x3d",bandeq:"\x26\x3d",boreq:"|\x3d",bxoreq:"^\x3d"};
numeric.mathfuns=["abs","acos","asin","atan","ceil","cos","exp","floor","log","round","sin","sqrt","tan","isNaN","isFinite"];numeric.mathfuns2=["atan2","pow","max","min"];numeric.ops1={neg:"-",not:"!",bnot:"~",clone:""};
numeric.mapreducers={any:["if(xi) return true;","var accum \x3d false;"],all:["if(!xi) return false;","var accum \x3d true;"],sum:["accum +\x3d xi;","var accum \x3d 0;"],prod:["accum *\x3d xi;","var accum \x3d 1;"],norm2Squared:["accum +\x3d xi*xi;","var accum \x3d 0;"],norminf:["accum \x3d max(accum,abs(xi));","var accum \x3d 0, max \x3d Math.max, abs \x3d Math.abs;"],norm1:["accum +\x3d abs(xi)","var accum \x3d 0, abs \x3d Math.abs;"],sup:["accum \x3d max(accum,xi);","var accum \x3d -Infinity, max \x3d Math.max;"],
inf:["accum \x3d min(accum,xi);","var accum \x3d Infinity, min \x3d Math.min;"]};
(function(){var i,o;for(i=0;i<numeric.mathfuns2.length;++i){o=numeric.mathfuns2[i];numeric.ops2[o]=o}for(i in numeric.ops2)if(numeric.ops2.hasOwnProperty(i)){o=numeric.ops2[i];var code,codeeq,setup="";if(numeric.myIndexOf.call(numeric.mathfuns2,i)!==-1){setup="var "+o+" \x3d Math."+o+";\n";code=function(r,x,y){return r+" \x3d "+o+"("+x+","+y+")"};codeeq=function(x,y){return x+" \x3d "+o+"("+x+","+y+")"}}else{code=function(r,x,y){return r+" \x3d "+x+" "+o+" "+y};if(numeric.opseq.hasOwnProperty(i+"eq"))codeeq=
function(x,y){return x+" "+o+"\x3d "+y};else codeeq=function(x,y){return x+" \x3d "+x+" "+o+" "+y}}numeric[i+"VV"]=numeric.pointwise2(["x[i]","y[i]"],code("ret[i]","x[i]","y[i]"),setup);numeric[i+"SV"]=numeric.pointwise2(["x","y[i]"],code("ret[i]","x","y[i]"),setup);numeric[i+"VS"]=numeric.pointwise2(["x[i]","y"],code("ret[i]","x[i]","y"),setup);numeric[i]=Function("var n \x3d arguments.length, i, x \x3d arguments[0], y;\n"+"var VV \x3d numeric."+i+"VV, VS \x3d numeric."+i+"VS, SV \x3d numeric."+
i+"SV;\n"+"var dim \x3d numeric.dim;\n"+"for(i\x3d1;i!\x3d\x3dn;++i) { \n"+"  y \x3d arguments[i];\n"+'  if(typeof x \x3d\x3d\x3d "object") {\n'+'      if(typeof y \x3d\x3d\x3d "object") x \x3d numeric._biforeach2(x,y,dim(x),0,VV);\n'+"      else x \x3d numeric._biforeach2(x,y,dim(x),0,VS);\n"+'  } else if(typeof y \x3d\x3d\x3d "object") x \x3d numeric._biforeach2(x,y,dim(y),0,SV);\n'+"  else "+codeeq("x","y")+"\n"+"}\nreturn x;\n");numeric[o]=numeric[i];numeric[i+"eqV"]=numeric.pointwise2(["ret[i]",
"x[i]"],codeeq("ret[i]","x[i]"),setup);numeric[i+"eqS"]=numeric.pointwise2(["ret[i]","x"],codeeq("ret[i]","x"),setup);numeric[i+"eq"]=Function("var n \x3d arguments.length, i, x \x3d arguments[0], y;\n"+"var V \x3d numeric."+i+"eqV, S \x3d numeric."+i+"eqS\n"+"var s \x3d numeric.dim(x);\n"+"for(i\x3d1;i!\x3d\x3dn;++i) { \n"+"  y \x3d arguments[i];\n"+'  if(typeof y \x3d\x3d\x3d "object") numeric._biforeach(x,y,s,0,V);\n'+"  else numeric._biforeach(x,y,s,0,S);\n"+"}\nreturn x;\n")}for(i=0;i<numeric.mathfuns2.length;++i){o=
numeric.mathfuns2[i];delete numeric.ops2[o]}for(i=0;i<numeric.mathfuns.length;++i){o=numeric.mathfuns[i];numeric.ops1[o]=o}for(i in numeric.ops1)if(numeric.ops1.hasOwnProperty(i)){setup="";o=numeric.ops1[i];if(numeric.myIndexOf.call(numeric.mathfuns,i)!==-1)if(Math.hasOwnProperty(o))setup="var "+o+" \x3d Math."+o+";\n";numeric[i+"eqV"]=numeric.pointwise2(["ret[i]"],"ret[i] \x3d "+o+"(ret[i]);",setup);numeric[i+"eq"]=Function("x",'if(typeof x !\x3d\x3d "object") return '+o+"x\n"+"var i;\n"+"var V \x3d numeric."+
i+"eqV;\n"+"var s \x3d numeric.dim(x);\n"+"numeric._foreach(x,s,0,V);\n"+"return x;\n");numeric[i+"V"]=numeric.pointwise2(["x[i]"],"ret[i] \x3d "+o+"(x[i]);",setup);numeric[i]=Function("x",'if(typeof x !\x3d\x3d "object") return '+o+"(x)\n"+"var i;\n"+"var V \x3d numeric."+i+"V;\n"+"var s \x3d numeric.dim(x);\n"+"return numeric._foreach2(x,s,0,V);\n")}for(i=0;i<numeric.mathfuns.length;++i){o=numeric.mathfuns[i];delete numeric.ops1[o]}for(i in numeric.mapreducers)if(numeric.mapreducers.hasOwnProperty(i)){o=
numeric.mapreducers[i];numeric[i+"V"]=numeric.mapreduce2(o[0],o[1]);numeric[i]=Function("x","s","k",o[1]+'if(typeof x !\x3d\x3d "object") {'+"    xi \x3d x;\n"+o[0]+";\n"+"    return accum;\n"+"}"+'if(typeof s \x3d\x3d\x3d "undefined") s \x3d numeric.dim(x);\n'+'if(typeof k \x3d\x3d\x3d "undefined") k \x3d 0;\n'+"if(k \x3d\x3d\x3d s.length-1) return numeric."+i+"V(x);\n"+"var xi;\n"+"var n \x3d x.length, i;\n"+"for(i\x3dn-1;i!\x3d\x3d-1;--i) {\n"+"   xi \x3d arguments.callee(x[i]);\n"+o[0]+";\n"+
"}\n"+"return accum;\n")}})();numeric.truncVV=numeric.pointwise(["x[i]","y[i]"],"ret[i] \x3d round(x[i]/y[i])*y[i];","var round \x3d Math.round;");numeric.truncVS=numeric.pointwise(["x[i]","y"],"ret[i] \x3d round(x[i]/y)*y;","var round \x3d Math.round;");numeric.truncSV=numeric.pointwise(["x","y[i]"],"ret[i] \x3d round(x/y[i])*y[i];","var round \x3d Math.round;");
numeric.trunc=function trunc(x,y){if(typeof x==="object"){if(typeof y==="object")return numeric.truncVV(x,y);return numeric.truncVS(x,y)}if(typeof y==="object")return numeric.truncSV(x,y);return Math.round(x/y)*y};
numeric.inv=function inv(x){var s=numeric.dim(x),abs=Math.abs,m=s[0],n=s[1];var A=numeric.clone(x),Ai,Aj;var I=numeric.identity(m),Ii,Ij;var i,j,k,x;for(j=0;j<n;++j){var i0=-1;var v0=-1;for(i=j;i!==m;++i){k=abs(A[i][j]);if(k>v0){i0=i;v0=k}}Aj=A[i0];A[i0]=A[j];A[j]=Aj;Ij=I[i0];I[i0]=I[j];I[j]=Ij;x=Aj[j];for(k=j;k!==n;++k)Aj[k]/=x;for(k=n-1;k!==-1;--k)Ij[k]/=x;for(i=m-1;i!==-1;--i)if(i!==j){Ai=A[i];Ii=I[i];x=Ai[j];for(k=j+1;k!==n;++k)Ai[k]-=Aj[k]*x;for(k=n-1;k>0;--k){Ii[k]-=Ij[k]*x;--k;Ii[k]-=Ij[k]*
x}if(k===0)Ii[0]-=Ij[0]*x}}return I};
numeric.det=function det(x){var s=numeric.dim(x);if(s.length!==2||s[0]!==s[1])throw new Error("numeric: det() only works on square matrices");var n=s[0],ret=1,i,j,k,A=numeric.clone(x),Aj,Ai,alpha,temp,k1,k2,k3;for(j=0;j<n-1;j++){k=j;for(i=j+1;i<n;i++)if(Math.abs(A[i][j])>Math.abs(A[k][j]))k=i;if(k!==j){temp=A[k];A[k]=A[j];A[j]=temp;ret*=-1}Aj=A[j];for(i=j+1;i<n;i++){Ai=A[i];alpha=Ai[j]/Aj[j];for(k=j+1;k<n-1;k+=2){k1=k+1;Ai[k]-=Aj[k]*alpha;Ai[k1]-=Aj[k1]*alpha}if(k!==n)Ai[k]-=Aj[k]*alpha}if(Aj[j]===
0)return 0;ret*=Aj[j]}return ret*A[j][j]};numeric.transpose=function transpose(x){var i,j,m=x.length,n=x[0].length,ret=Array(n),A0,A1,Bj;for(j=0;j<n;j++)ret[j]=Array(m);for(i=m-1;i>=1;i-=2){A1=x[i];A0=x[i-1];for(j=n-1;j>=1;--j){Bj=ret[j];Bj[i]=A1[j];Bj[i-1]=A0[j];--j;Bj=ret[j];Bj[i]=A1[j];Bj[i-1]=A0[j]}if(j===0){Bj=ret[0];Bj[i]=A1[0];Bj[i-1]=A0[0]}}if(i===0){A0=x[0];for(j=n-1;j>=1;--j){ret[j][0]=A0[j];--j;ret[j][0]=A0[j]}if(j===0)ret[0][0]=A0[0]}return ret};
numeric.negtranspose=function negtranspose(x){var i,j,m=x.length,n=x[0].length,ret=Array(n),A0,A1,Bj;for(j=0;j<n;j++)ret[j]=Array(m);for(i=m-1;i>=1;i-=2){A1=x[i];A0=x[i-1];for(j=n-1;j>=1;--j){Bj=ret[j];Bj[i]=-A1[j];Bj[i-1]=-A0[j];--j;Bj=ret[j];Bj[i]=-A1[j];Bj[i-1]=-A0[j]}if(j===0){Bj=ret[0];Bj[i]=-A1[0];Bj[i-1]=-A0[0]}}if(i===0){A0=x[0];for(j=n-1;j>=1;--j){ret[j][0]=-A0[j];--j;ret[j][0]=-A0[j]}if(j===0)ret[0][0]=-A0[0]}return ret};
numeric._random=function _random(s,k){var i,n=s[k],ret=Array(n),rnd;if(k===s.length-1){rnd=Math.random;for(i=n-1;i>=1;i-=2){ret[i]=rnd();ret[i-1]=rnd()}if(i===0)ret[0]=rnd();return ret}for(i=n-1;i>=0;i--)ret[i]=_random(s,k+1);return ret};numeric.random=function random(s){return numeric._random(s,0)};numeric.norm2=function norm2(x){return Math.sqrt(numeric.norm2Squared(x))};
numeric.linspace=function linspace(a,b,n){if(typeof n==="undefined")n=Math.max(Math.round(b-a)+1,1);if(n<2)return n===1?[a]:[];var i,ret=Array(n);n--;for(i=n;i>=0;i--)ret[i]=(i*b+(n-i)*a)/n;return ret};numeric.getBlock=function getBlock(x,from,to){var s=numeric.dim(x);function foo(x,k){var i,a=from[k],n=to[k]-a,ret=Array(n);if(k===s.length-1){for(i=n;i>=0;i--)ret[i]=x[i+a];return ret}for(i=n;i>=0;i--)ret[i]=foo(x[i+a],k+1);return ret}return foo(x,0)};
numeric.setBlock=function setBlock(x,from,to,B){var s=numeric.dim(x);function foo(x,y,k){var i,a=from[k],n=to[k]-a;if(k===s.length-1)for(i=n;i>=0;i--)x[i+a]=y[i];for(i=n;i>=0;i--)foo(x[i+a],y[i],k+1)}foo(x,B,0);return x};numeric.getRange=function getRange(A,I,J){var m=I.length,n=J.length;var i,j;var B=Array(m),Bi,AI;for(i=m-1;i!==-1;--i){B[i]=Array(n);Bi=B[i];AI=A[I[i]];for(j=n-1;j!==-1;--j)Bi[j]=AI[J[j]]}return B};
numeric.blockMatrix=function blockMatrix(X){var s=numeric.dim(X);if(s.length<4)return numeric.blockMatrix([X]);var m=s[0],n=s[1],M,N,i,j,Xij;M=0;N=0;for(i=0;i<m;++i)M+=X[i][0].length;for(j=0;j<n;++j)N+=X[0][j][0].length;var Z=Array(M);for(i=0;i<M;++i)Z[i]=Array(N);var I=0,J,ZI,k,l,Xijk;for(i=0;i<m;++i){J=N;for(j=n-1;j!==-1;--j){Xij=X[i][j];J-=Xij[0].length;for(k=Xij.length-1;k!==-1;--k){Xijk=Xij[k];ZI=Z[I+k];for(l=Xijk.length-1;l!==-1;--l)ZI[J+l]=Xijk[l]}}I+=X[i][0].length}return Z};
numeric.tensor=function tensor(x,y){if(typeof x==="number"||typeof y==="number")return numeric.mul(x,y);var s1=numeric.dim(x),s2=numeric.dim(y);if(s1.length!==1||s2.length!==1)throw new Error("numeric: tensor product is only defined for vectors");var m=s1[0],n=s2[0],A=Array(m),Ai,i,j,xi;for(i=m-1;i>=0;i--){Ai=Array(n);xi=x[i];for(j=n-1;j>=3;--j){Ai[j]=xi*y[j];--j;Ai[j]=xi*y[j];--j;Ai[j]=xi*y[j];--j;Ai[j]=xi*y[j]}while(j>=0){Ai[j]=xi*y[j];--j}A[i]=Ai}return A};
numeric.T=function T(x,y){this.x=x;this.y=y};numeric.t=function t(x,y){return new numeric.T(x,y)};
numeric.Tbinop=function Tbinop(rr,rc,cr,cc,setup){var io=numeric.indexOf;if(typeof setup!=="string"){var k;setup="";for(k in numeric)if(numeric.hasOwnProperty(k)&&(rr.indexOf(k)>=0||rc.indexOf(k)>=0||cr.indexOf(k)>=0||cc.indexOf(k)>=0)&&k.length>1)setup+="var "+k+" \x3d numeric."+k+";\n"}return Function(["y"],"var x \x3d this;\n"+"if(!(y instanceof numeric.T)) { y \x3d new numeric.T(y); }\n"+setup+"\n"+"if(x.y) {"+"  if(y.y) {"+"    return new numeric.T("+cc+");\n"+"  }\n"+"  return new numeric.T("+
cr+");\n"+"}\n"+"if(y.y) {\n"+"  return new numeric.T("+rc+");\n"+"}\n"+"return new numeric.T("+rr+");\n")};numeric.T.prototype.add=numeric.Tbinop("add(x.x,y.x)","add(x.x,y.x),y.y","add(x.x,y.x),x.y","add(x.x,y.x),add(x.y,y.y)");numeric.T.prototype.sub=numeric.Tbinop("sub(x.x,y.x)","sub(x.x,y.x),neg(y.y)","sub(x.x,y.x),x.y","sub(x.x,y.x),sub(x.y,y.y)");numeric.T.prototype.mul=numeric.Tbinop("mul(x.x,y.x)","mul(x.x,y.x),mul(x.x,y.y)","mul(x.x,y.x),mul(x.y,y.x)","sub(mul(x.x,y.x),mul(x.y,y.y)),add(mul(x.x,y.y),mul(x.y,y.x))");
numeric.T.prototype.reciprocal=function reciprocal(){var mul=numeric.mul,div=numeric.div;if(this.y){var d=numeric.add(mul(this.x,this.x),mul(this.y,this.y));return new numeric.T(div(this.x,d),div(numeric.neg(this.y),d))}return new T(div(1,this.x))};numeric.T.prototype.div=function div(y){if(!(y instanceof numeric.T))y=new numeric.T(y);if(y.y)return this.mul(y.reciprocal());var div=numeric.div;if(this.y)return new numeric.T(div(this.x,y.x),div(this.y,y.x));return new numeric.T(div(this.x,y.x))};
numeric.T.prototype.dot=numeric.Tbinop("dot(x.x,y.x)","dot(x.x,y.x),dot(x.x,y.y)","dot(x.x,y.x),dot(x.y,y.x)","sub(dot(x.x,y.x),dot(x.y,y.y)),add(dot(x.x,y.y),dot(x.y,y.x))");numeric.T.prototype.transpose=function transpose(){var t=numeric.transpose,x=this.x,y=this.y;if(y)return new numeric.T(t(x),t(y));return new numeric.T(t(x))};numeric.T.prototype.transjugate=function transjugate(){var t=numeric.transpose,x=this.x,y=this.y;if(y)return new numeric.T(t(x),numeric.negtranspose(y));return new numeric.T(t(x))};
numeric.Tunop=function Tunop(r,c,s){if(typeof s!=="string")s="";return Function("var x \x3d this;\n"+s+"\n"+"if(x.y) {"+"  "+c+";\n"+"}\n"+r+";\n")};numeric.T.prototype.exp=numeric.Tunop("return new numeric.T(ex)","return new numeric.T(mul(cos(x.y),ex),mul(sin(x.y),ex))","var ex \x3d numeric.exp(x.x), cos \x3d numeric.cos, sin \x3d numeric.sin, mul \x3d numeric.mul;");numeric.T.prototype.conj=numeric.Tunop("return new numeric.T(x.x);","return new numeric.T(x.x,numeric.neg(x.y));");
numeric.T.prototype.neg=numeric.Tunop("return new numeric.T(neg(x.x));","return new numeric.T(neg(x.x),neg(x.y));","var neg \x3d numeric.neg;");numeric.T.prototype.sin=numeric.Tunop("return new numeric.T(numeric.sin(x.x))","return x.exp().sub(x.neg().exp()).div(new numeric.T(0,2));");numeric.T.prototype.cos=numeric.Tunop("return new numeric.T(numeric.cos(x.x))","return x.exp().add(x.neg().exp()).div(2);");
numeric.T.prototype.abs=numeric.Tunop("return new numeric.T(numeric.abs(x.x));","return new numeric.T(numeric.sqrt(numeric.add(mul(x.x,x.x),mul(x.y,x.y))));","var mul \x3d numeric.mul;");numeric.T.prototype.log=numeric.Tunop("return new numeric.T(numeric.log(x.x));","var theta \x3d new numeric.T(numeric.atan2(x.y,x.x)), r \x3d x.abs();\n"+"return new numeric.T(numeric.log(r.x),theta.x);");numeric.T.prototype.norm2=numeric.Tunop("return numeric.norm2(x.x);","var f \x3d numeric.norm2Squared;\n"+"return Math.sqrt(f(x.x)+f(x.y));");
numeric.T.prototype.inv=function inv(){var A=this;if(typeof A.y==="undefined")return new numeric.T(numeric.inv(A.x));var n=A.x.length,i,j,k;var Rx=numeric.identity(n),Ry=numeric.rep([n,n],0);var Ax=numeric.clone(A.x),Ay=numeric.clone(A.y);var Aix,Aiy,Ajx,Ajy,Rix,Riy,Rjx,Rjy;var i,j,k,d,d1,ax,ay,bx,by,temp;for(i=0;i<n;i++){ax=Ax[i][i];ay=Ay[i][i];d=ax*ax+ay*ay;k=i;for(j=i+1;j<n;j++){ax=Ax[j][i];ay=Ay[j][i];d1=ax*ax+ay*ay;if(d1>d){k=j;d=d1}}if(k!==i){temp=Ax[i];Ax[i]=Ax[k];Ax[k]=temp;temp=Ay[i];Ay[i]=
Ay[k];Ay[k]=temp;temp=Rx[i];Rx[i]=Rx[k];Rx[k]=temp;temp=Ry[i];Ry[i]=Ry[k];Ry[k]=temp}Aix=Ax[i];Aiy=Ay[i];Rix=Rx[i];Riy=Ry[i];ax=Aix[i];ay=Aiy[i];for(j=i+1;j<n;j++){bx=Aix[j];by=Aiy[j];Aix[j]=(bx*ax+by*ay)/d;Aiy[j]=(by*ax-bx*ay)/d}for(j=0;j<n;j++){bx=Rix[j];by=Riy[j];Rix[j]=(bx*ax+by*ay)/d;Riy[j]=(by*ax-bx*ay)/d}for(j=i+1;j<n;j++){Ajx=Ax[j];Ajy=Ay[j];Rjx=Rx[j];Rjy=Ry[j];ax=Ajx[i];ay=Ajy[i];for(k=i+1;k<n;k++){bx=Aix[k];by=Aiy[k];Ajx[k]-=bx*ax-by*ay;Ajy[k]-=by*ax+bx*ay}for(k=0;k<n;k++){bx=Rix[k];by=
Riy[k];Rjx[k]-=bx*ax-by*ay;Rjy[k]-=by*ax+bx*ay}}}for(i=n-1;i>0;i--){Rix=Rx[i];Riy=Ry[i];for(j=i-1;j>=0;j--){Rjx=Rx[j];Rjy=Ry[j];ax=Ax[j][i];ay=Ay[j][i];for(k=n-1;k>=0;k--){bx=Rix[k];by=Riy[k];Rjx[k]-=ax*bx-ay*by;Rjy[k]-=ax*by+ay*bx}}}return new numeric.T(Rx,Ry)};numeric.T.prototype.get=function get(i){var x=this.x,y=this.y,k=0,ik,n=i.length;if(y){while(k<n){ik=i[k];x=x[ik];y=y[ik];k++}return new numeric.T(x,y)}while(k<n){ik=i[k];x=x[ik];k++}return new numeric.T(x)};
numeric.T.prototype.set=function set(i,v){var x=this.x,y=this.y,k=0,ik,n=i.length,vx=v.x,vy=v.y;if(n===0){if(vy)this.y=vy;else if(y)this.y=undefined;this.x=x;return this}if(vy){if(y);else{y=numeric.rep(numeric.dim(x),0);this.y=y}while(k<n-1){ik=i[k];x=x[ik];y=y[ik];k++}ik=i[k];x[ik]=vx;y[ik]=vy;return this}if(y){while(k<n-1){ik=i[k];x=x[ik];y=y[ik];k++}ik=i[k];x[ik]=vx;if(vx instanceof Array)y[ik]=numeric.rep(numeric.dim(vx),0);else y[ik]=0;return this}while(k<n-1){ik=i[k];x=x[ik];k++}ik=i[k];x[ik]=
vx;return this};numeric.T.prototype.getRows=function getRows(i0,i1){var n=i1-i0+1,j;var rx=Array(n),ry,x=this.x,y=this.y;for(j=i0;j<=i1;j++)rx[j-i0]=x[j];if(y){ry=Array(n);for(j=i0;j<=i1;j++)ry[j-i0]=y[j];return new numeric.T(rx,ry)}return new numeric.T(rx)};
numeric.T.prototype.setRows=function setRows(i0,i1,A){var j;var rx=this.x,ry=this.y,x=A.x,y=A.y;for(j=i0;j<=i1;j++)rx[j]=x[j-i0];if(y){if(!ry){ry=numeric.rep(numeric.dim(rx),0);this.y=ry}for(j=i0;j<=i1;j++)ry[j]=y[j-i0]}else if(ry)for(j=i0;j<=i1;j++)ry[j]=numeric.rep([x[j-i0].length],0);return this};numeric.T.prototype.getRow=function getRow(k){var x=this.x,y=this.y;if(y)return new numeric.T(x[k],y[k]);return new numeric.T(x[k])};
numeric.T.prototype.setRow=function setRow(i,v){var rx=this.x,ry=this.y,x=v.x,y=v.y;rx[i]=x;if(y){if(!ry){ry=numeric.rep(numeric.dim(rx),0);this.y=ry}ry[i]=y}else if(ry)ry=numeric.rep([x.length],0);return this};numeric.T.prototype.getBlock=function getBlock(from,to){var x=this.x,y=this.y,b=numeric.getBlock;if(y)return new numeric.T(b(x,from,to),b(y,from,to));return new numeric.T(b(x,from,to))};
numeric.T.prototype.setBlock=function setBlock(from,to,A){if(!(A instanceof numeric.T))A=new numeric.T(A);var x=this.x,y=this.y,b=numeric.setBlock,Ax=A.x,Ay=A.y;if(Ay){if(!y){this.y=numeric.rep(numeric.dim(this),0);y=this.y}b(x,from,to,Ax);b(y,from,to,Ay);return this}b(x,from,to,Ax);if(y)b(y,from,to,numeric.rep(numeric.dim(Ax),0))};numeric.T.rep=function rep(s,v){var T=numeric.T;if(!(v instanceof T))v=new T(v);var x=v.x,y=v.y,r=numeric.rep;if(y)return new T(r(s,x),r(s,y));return new T(r(s,x))};
numeric.T.diag=function diag(d){if(!(d instanceof numeric.T))d=new numeric.T(d);var x=d.x,y=d.y,diag=numeric.diag;if(y)return new numeric.T(diag(x),diag(y));return new numeric.T(diag(x))};numeric.T.eig=function eig(){if(this.y)throw new Error("eig: not implemented for complex matrices.");return numeric.eig(this.x)};numeric.T.identity=function identity(n){return new numeric.T(numeric.identity(n))};
numeric.T.prototype.getDiag=function getDiag(){var n=numeric;var x=this.x,y=this.y;if(y)return new n.T(n.getDiag(x),n.getDiag(y));return new n.T(n.getDiag(x))};numeric.house=function house(x){var v=numeric.clone(x);var s=x[0]>=0?1:-1;var alpha=s*numeric.norm2(x);v[0]+=alpha;var foo=numeric.norm2(v);if(foo===0)throw new Error("eig: internal error");return numeric.div(v,foo)};
numeric.toUpperHessenberg=function toUpperHessenberg(me){var s=numeric.dim(me);if(s.length!==2||s[0]!==s[1])throw new Error("numeric: toUpperHessenberg() only works on square matrices");var m=s[0],i,j,k,x,v,A=numeric.clone(me),B,C,Ai,Ci,Q=numeric.identity(m),Qi;for(j=0;j<m-2;j++){x=Array(m-j-1);for(i=j+1;i<m;i++)x[i-j-1]=A[i][j];if(numeric.norm2(x)>0){v=numeric.house(x);B=numeric.getBlock(A,[j+1,j],[m-1,m-1]);C=numeric.tensor(v,numeric.dot(v,B));for(i=j+1;i<m;i++){Ai=A[i];Ci=C[i-j-1];for(k=j;k<m;k++)Ai[k]-=
2*Ci[k-j]}B=numeric.getBlock(A,[0,j+1],[m-1,m-1]);C=numeric.tensor(numeric.dot(B,v),v);for(i=0;i<m;i++){Ai=A[i];Ci=C[i];for(k=j+1;k<m;k++)Ai[k]-=2*Ci[k-j-1]}B=Array(m-j-1);for(i=j+1;i<m;i++)B[i-j-1]=Q[i];C=numeric.tensor(v,numeric.dot(v,B));for(i=j+1;i<m;i++){Qi=Q[i];Ci=C[i-j-1];for(k=0;k<m;k++)Qi[k]-=2*Ci[k]}}}return{H:A,Q:Q}};numeric.epsilon=2.220446049250313E-16;
numeric.QRFrancis=function(H,maxiter){if(typeof maxiter==="undefined")maxiter=1E4;H=numeric.clone(H);var H0=numeric.clone(H);var s=numeric.dim(H),m=s[0],x,v,a,b,c,d,det,tr,Hloc,Q=numeric.identity(m),Qi,Hi,B,C,Ci,i,j,k,iter;if(m<3)return{Q:Q,B:[[0,m-1]]};var epsilon=numeric.epsilon;for(iter=0;iter<maxiter;iter++){for(j=0;j<m-1;j++)if(Math.abs(H[j+1][j])<epsilon*(Math.abs(H[j][j])+Math.abs(H[j+1][j+1]))){var QH1=numeric.QRFrancis(numeric.getBlock(H,[0,0],[j,j]),maxiter);var QH2=numeric.QRFrancis(numeric.getBlock(H,
[j+1,j+1],[m-1,m-1]),maxiter);B=Array(j+1);for(i=0;i<=j;i++)B[i]=Q[i];C=numeric.dot(QH1.Q,B);for(i=0;i<=j;i++)Q[i]=C[i];B=Array(m-j-1);for(i=j+1;i<m;i++)B[i-j-1]=Q[i];C=numeric.dot(QH2.Q,B);for(i=j+1;i<m;i++)Q[i]=C[i-j-1];return{Q:Q,B:QH1.B.concat(numeric.add(QH2.B,j+1))}}a=H[m-2][m-2];b=H[m-2][m-1];c=H[m-1][m-2];d=H[m-1][m-1];tr=a+d;det=a*d-b*c;Hloc=numeric.getBlock(H,[0,0],[2,2]);if(tr*tr>=4*det){var s1,s2;s1=.5*(tr+Math.sqrt(tr*tr-4*det));s2=.5*(tr-Math.sqrt(tr*tr-4*det));Hloc=numeric.add(numeric.sub(numeric.dot(Hloc,
Hloc),numeric.mul(Hloc,s1+s2)),numeric.diag(numeric.rep([3],s1*s2)))}else Hloc=numeric.add(numeric.sub(numeric.dot(Hloc,Hloc),numeric.mul(Hloc,tr)),numeric.diag(numeric.rep([3],det)));x=[Hloc[0][0],Hloc[1][0],Hloc[2][0]];v=numeric.house(x);B=[H[0],H[1],H[2]];C=numeric.tensor(v,numeric.dot(v,B));for(i=0;i<3;i++){Hi=H[i];Ci=C[i];for(k=0;k<m;k++)Hi[k]-=2*Ci[k]}B=numeric.getBlock(H,[0,0],[m-1,2]);C=numeric.tensor(numeric.dot(B,v),v);for(i=0;i<m;i++){Hi=H[i];Ci=C[i];for(k=0;k<3;k++)Hi[k]-=2*Ci[k]}B=[Q[0],
Q[1],Q[2]];C=numeric.tensor(v,numeric.dot(v,B));for(i=0;i<3;i++){Qi=Q[i];Ci=C[i];for(k=0;k<m;k++)Qi[k]-=2*Ci[k]}var J;for(j=0;j<m-2;j++){for(k=j;k<=j+1;k++)if(Math.abs(H[k+1][k])<epsilon*(Math.abs(H[k][k])+Math.abs(H[k+1][k+1]))){var QH1=numeric.QRFrancis(numeric.getBlock(H,[0,0],[k,k]),maxiter);var QH2=numeric.QRFrancis(numeric.getBlock(H,[k+1,k+1],[m-1,m-1]),maxiter);B=Array(k+1);for(i=0;i<=k;i++)B[i]=Q[i];C=numeric.dot(QH1.Q,B);for(i=0;i<=k;i++)Q[i]=C[i];B=Array(m-k-1);for(i=k+1;i<m;i++)B[i-k-
1]=Q[i];C=numeric.dot(QH2.Q,B);for(i=k+1;i<m;i++)Q[i]=C[i-k-1];return{Q:Q,B:QH1.B.concat(numeric.add(QH2.B,k+1))}}J=Math.min(m-1,j+3);x=Array(J-j);for(i=j+1;i<=J;i++)x[i-j-1]=H[i][j];v=numeric.house(x);B=numeric.getBlock(H,[j+1,j],[J,m-1]);C=numeric.tensor(v,numeric.dot(v,B));for(i=j+1;i<=J;i++){Hi=H[i];Ci=C[i-j-1];for(k=j;k<m;k++)Hi[k]-=2*Ci[k-j]}B=numeric.getBlock(H,[0,j+1],[m-1,J]);C=numeric.tensor(numeric.dot(B,v),v);for(i=0;i<m;i++){Hi=H[i];Ci=C[i];for(k=j+1;k<=J;k++)Hi[k]-=2*Ci[k-j-1]}B=Array(J-
j);for(i=j+1;i<=J;i++)B[i-j-1]=Q[i];C=numeric.tensor(v,numeric.dot(v,B));for(i=j+1;i<=J;i++){Qi=Q[i];Ci=C[i-j-1];for(k=0;k<m;k++)Qi[k]-=2*Ci[k]}}}throw new Error("numeric: eigenvalue iteration does not converge -- increase maxiter?");};
numeric.eig=function eig(A,maxiter){var QH=numeric.toUpperHessenberg(A);var QB=numeric.QRFrancis(QH.H,maxiter);var T=numeric.T;var n=A.length,i,k,flag=false,B=QB.B,H=numeric.dot(QB.Q,numeric.dot(QH.H,numeric.transpose(QB.Q)));var Q=new T(numeric.dot(QB.Q,QH.Q)),Q0;var m=B.length,j;var a,b,c,d,p1,p2,disc,x,y,p,q,n1,n2;var sqrt=Math.sqrt;for(k=0;k<m;k++){i=B[k][0];if(i===B[k][1]);else{j=i+1;a=H[i][i];b=H[i][j];c=H[j][i];d=H[j][j];if(b===0&&c===0)continue;p1=-a-d;p2=a*d-b*c;disc=p1*p1-4*p2;if(disc>=
0){if(p1<0)x=-.5*(p1-sqrt(disc));else x=-.5*(p1+sqrt(disc));n1=(a-x)*(a-x)+b*b;n2=c*c+(d-x)*(d-x);if(n1>n2){n1=sqrt(n1);p=(a-x)/n1;q=b/n1}else{n2=sqrt(n2);p=c/n2;q=(d-x)/n2}Q0=new T([[q,-p],[p,q]]);Q.setRows(i,j,Q0.dot(Q.getRows(i,j)))}else{x=-.5*p1;y=.5*sqrt(-disc);n1=(a-x)*(a-x)+b*b;n2=c*c+(d-x)*(d-x);if(n1>n2){n1=sqrt(n1+y*y);p=(a-x)/n1;q=b/n1;x=0;y/=n1}else{n2=sqrt(n2+y*y);p=c/n2;q=(d-x)/n2;x=y/n2;y=0}Q0=new T([[q,-p],[p,q]],[[x,y],[y,-x]]);Q.setRows(i,j,Q0.dot(Q.getRows(i,j)))}}}var R=Q.dot(A).dot(Q.transjugate()),
n=A.length,E=numeric.T.identity(n);for(j=0;j<n;j++)if(j>0)for(k=j-1;k>=0;k--){var Rk=R.get([k,k]),Rj=R.get([j,j]);if(numeric.neq(Rk.x,Rj.x)||numeric.neq(Rk.y,Rj.y)){x=R.getRow(k).getBlock([k],[j-1]);y=E.getRow(j).getBlock([k],[j-1]);E.set([j,k],R.get([k,j]).neg().sub(x.dot(y)).div(Rk.sub(Rj)))}else{E.setRow(j,E.getRow(k));continue}}for(j=0;j<n;j++){x=E.getRow(j);E.setRow(j,x.div(x.norm2()))}E=E.transpose();E=Q.transjugate().dot(E);return{lambda:R.getDiag(),E:E}};
numeric.ccsSparse=function ccsSparse(A){var m=A.length,n,foo,i,j,counts=[];for(i=m-1;i!==-1;--i){foo=A[i];for(j in foo){j=parseInt(j);while(j>=counts.length)counts[counts.length]=0;if(foo[j]!==0)counts[j]++}}var n=counts.length;var Ai=Array(n+1);Ai[0]=0;for(i=0;i<n;++i)Ai[i+1]=Ai[i]+counts[i];var Aj=Array(Ai[n]),Av=Array(Ai[n]);for(i=m-1;i!==-1;--i){foo=A[i];for(j in foo)if(foo[j]!==0){counts[j]--;Aj[Ai[j]+counts[j]]=i;Av[Ai[j]+counts[j]]=foo[j]}}return[Ai,Aj,Av]};
numeric.ccsFull=function ccsFull(A){var Ai=A[0],Aj=A[1],Av=A[2],s=numeric.ccsDim(A),m=s[0],n=s[1],i,j,j0,j1,k;var B=numeric.rep([m,n],0);for(i=0;i<n;i++){j0=Ai[i];j1=Ai[i+1];for(j=j0;j<j1;++j)B[Aj[j]][i]=Av[j]}return B};
numeric.ccsTSolve=function ccsTSolve(A,b,x,bj,xj){var Ai=A[0],Aj=A[1],Av=A[2],m=Ai.length-1,max=Math.max,n=0;if(typeof bj==="undefined")x=numeric.rep([m],0);if(typeof bj==="undefined")bj=numeric.linspace(0,x.length-1);if(typeof xj==="undefined")xj=[];function dfs(j){var k;if(x[j]!==0)return;x[j]=1;for(k=Ai[j];k<Ai[j+1];++k)dfs(Aj[k]);xj[n]=j;++n}var i,j,j0,j1,k,l,l0,l1,a;for(i=bj.length-1;i!==-1;--i)dfs(bj[i]);xj.length=n;for(i=xj.length-1;i!==-1;--i)x[xj[i]]=0;for(i=bj.length-1;i!==-1;--i){j=bj[i];
x[j]=b[j]}for(i=xj.length-1;i!==-1;--i){j=xj[i];j0=Ai[j];j1=max(Ai[j+1],j0);for(k=j0;k!==j1;++k)if(Aj[k]===j){x[j]/=Av[k];break}a=x[j];for(k=j0;k!==j1;++k){l=Aj[k];if(l!==j)x[l]-=a*Av[k]}}return x};numeric.ccsDFS=function ccsDFS(n){this.k=Array(n);this.k1=Array(n);this.j=Array(n)};
numeric.ccsDFS.prototype.dfs=function dfs(J,Ai,Aj,x,xj,Pinv){var m=0,foo,n=xj.length;var k=this.k,k1=this.k1,j=this.j,km,k11;if(x[J]!==0)return;x[J]=1;j[0]=J;k[0]=km=Ai[J];k1[0]=k11=Ai[J+1];while(1)if(km>=k11){xj[n]=j[m];if(m===0)return;++n;--m;km=k[m];k11=k1[m]}else{foo=Pinv[Aj[km]];if(x[foo]===0){x[foo]=1;k[m]=km;++m;j[m]=foo;km=Ai[foo];k1[m]=k11=Ai[foo+1]}else++km}};
numeric.ccsLPSolve=function ccsLPSolve(A,B,x,xj,I,Pinv,dfs){var Ai=A[0],Aj=A[1],Av=A[2],m=Ai.length-1,n=0;var Bi=B[0],Bj=B[1],Bv=B[2];var i,i0,i1,j,J,j0,j1,k,l,l0,l1,a;i0=Bi[I];i1=Bi[I+1];xj.length=0;for(i=i0;i<i1;++i)dfs.dfs(Pinv[Bj[i]],Ai,Aj,x,xj,Pinv);for(i=xj.length-1;i!==-1;--i)x[xj[i]]=0;for(i=i0;i!==i1;++i){j=Pinv[Bj[i]];x[j]=Bv[i]}for(i=xj.length-1;i!==-1;--i){j=xj[i];j0=Ai[j];j1=Ai[j+1];for(k=j0;k<j1;++k)if(Pinv[Aj[k]]===j){x[j]/=Av[k];break}a=x[j];for(k=j0;k<j1;++k){l=Pinv[Aj[k]];if(l!==
j)x[l]-=a*Av[k]}}return x};
numeric.ccsLUP1=function ccsLUP1(A,threshold){var m=A[0].length-1;var L=[numeric.rep([m+1],0),[],[]],U=[numeric.rep([m+1],0),[],[]];var Li=L[0],Lj=L[1],Lv=L[2],Ui=U[0],Uj=U[1],Uv=U[2];var x=numeric.rep([m],0),xj=numeric.rep([m],0);var i,j,k,j0,j1,a,e,c,d,K;var sol=numeric.ccsLPSolve,max=Math.max,abs=Math.abs;var P=numeric.linspace(0,m-1),Pinv=numeric.linspace(0,m-1);var dfs=new numeric.ccsDFS(m);if(typeof threshold==="undefined")threshold=1;for(i=0;i<m;++i){sol(L,A,x,xj,i,Pinv,dfs);a=-1;e=-1;for(j=
xj.length-1;j!==-1;--j){k=xj[j];if(k<=i)continue;c=abs(x[k]);if(c>a){e=k;a=c}}if(abs(x[i])<threshold*a){j=P[i];a=P[e];P[i]=a;Pinv[a]=i;P[e]=j;Pinv[j]=e;a=x[i];x[i]=x[e];x[e]=a}a=Li[i];e=Ui[i];d=x[i];Lj[a]=P[i];Lv[a]=1;++a;for(j=xj.length-1;j!==-1;--j){k=xj[j];c=x[k];xj[j]=0;x[k]=0;if(k<=i){Uj[e]=k;Uv[e]=c;++e}else{Lj[a]=P[k];Lv[a]=c/d;++a}}Li[i+1]=a;Ui[i+1]=e}for(j=Lj.length-1;j!==-1;--j)Lj[j]=Pinv[Lj[j]];return{L:L,U:U,P:P,Pinv:Pinv}};
numeric.ccsDFS0=function ccsDFS0(n){this.k=Array(n);this.k1=Array(n);this.j=Array(n)};
numeric.ccsDFS0.prototype.dfs=function dfs(J,Ai,Aj,x,xj,Pinv,P){var m=0,foo,n=xj.length;var k=this.k,k1=this.k1,j=this.j,km,k11;if(x[J]!==0)return;x[J]=1;j[0]=J;k[0]=km=Ai[Pinv[J]];k1[0]=k11=Ai[Pinv[J]+1];while(1){if(isNaN(km))throw new Error("Ow!");if(km>=k11){xj[n]=Pinv[j[m]];if(m===0)return;++n;--m;km=k[m];k11=k1[m]}else{foo=Aj[km];if(x[foo]===0){x[foo]=1;k[m]=km;++m;j[m]=foo;foo=Pinv[foo];km=Ai[foo];k1[m]=k11=Ai[foo+1]}else++km}}};
numeric.ccsLPSolve0=function ccsLPSolve0(A,B,y,xj,I,Pinv,P,dfs){var Ai=A[0],Aj=A[1],Av=A[2],m=Ai.length-1,n=0;var Bi=B[0],Bj=B[1],Bv=B[2];var i,i0,i1,j,J,j0,j1,k,l,l0,l1,a;i0=Bi[I];i1=Bi[I+1];xj.length=0;for(i=i0;i<i1;++i)dfs.dfs(Bj[i],Ai,Aj,y,xj,Pinv,P);for(i=xj.length-1;i!==-1;--i){j=xj[i];y[P[j]]=0}for(i=i0;i!==i1;++i){j=Bj[i];y[j]=Bv[i]}for(i=xj.length-1;i!==-1;--i){j=xj[i];l=P[j];j0=Ai[j];j1=Ai[j+1];for(k=j0;k<j1;++k)if(Aj[k]===l){y[l]/=Av[k];break}a=y[l];for(k=j0;k<j1;++k)y[Aj[k]]-=a*Av[k];
y[l]=a}};
numeric.ccsLUP0=function ccsLUP0(A,threshold){var m=A[0].length-1;var L=[numeric.rep([m+1],0),[],[]],U=[numeric.rep([m+1],0),[],[]];var Li=L[0],Lj=L[1],Lv=L[2],Ui=U[0],Uj=U[1],Uv=U[2];var y=numeric.rep([m],0),xj=numeric.rep([m],0);var i,j,k,j0,j1,a,e,c,d,K;var sol=numeric.ccsLPSolve0,max=Math.max,abs=Math.abs;var P=numeric.linspace(0,m-1),Pinv=numeric.linspace(0,m-1);var dfs=new numeric.ccsDFS0(m);if(typeof threshold==="undefined")threshold=1;for(i=0;i<m;++i){sol(L,A,y,xj,i,Pinv,P,dfs);a=-1;e=-1;
for(j=xj.length-1;j!==-1;--j){k=xj[j];if(k<=i)continue;c=abs(y[P[k]]);if(c>a){e=k;a=c}}if(abs(y[P[i]])<threshold*a){j=P[i];a=P[e];P[i]=a;Pinv[a]=i;P[e]=j;Pinv[j]=e}a=Li[i];e=Ui[i];d=y[P[i]];Lj[a]=P[i];Lv[a]=1;++a;for(j=xj.length-1;j!==-1;--j){k=xj[j];c=y[P[k]];xj[j]=0;y[P[k]]=0;if(k<=i){Uj[e]=k;Uv[e]=c;++e}else{Lj[a]=P[k];Lv[a]=c/d;++a}}Li[i+1]=a;Ui[i+1]=e}for(j=Lj.length-1;j!==-1;--j)Lj[j]=Pinv[Lj[j]];return{L:L,U:U,P:P,Pinv:Pinv}};numeric.ccsLUP=numeric.ccsLUP0;
numeric.ccsDim=function ccsDim(A){return[numeric.sup(A[1])+1,A[0].length-1]};
numeric.ccsGetBlock=function ccsGetBlock(A,i,j){var s=numeric.ccsDim(A),m=s[0],n=s[1];if(typeof i==="undefined")i=numeric.linspace(0,m-1);else if(typeof i==="number")i=[i];if(typeof j==="undefined")j=numeric.linspace(0,n-1);else if(typeof j==="number")j=[j];var p,p0,p1,P=i.length,q,Q=j.length,r,jq,ip;var Bi=numeric.rep([n],0),Bj=[],Bv=[],B=[Bi,Bj,Bv];var Ai=A[0],Aj=A[1],Av=A[2];var x=numeric.rep([m],0),count=0,flags=numeric.rep([m],0);for(q=0;q<Q;++q){jq=j[q];var q0=Ai[jq];var q1=Ai[jq+1];for(p=q0;p<
q1;++p){r=Aj[p];flags[r]=1;x[r]=Av[p]}for(p=0;p<P;++p){ip=i[p];if(flags[ip]){Bj[count]=p;Bv[count]=x[i[p]];++count}}for(p=q0;p<q1;++p){r=Aj[p];flags[r]=0}Bi[q+1]=count}return B};
numeric.ccsDot=function ccsDot(A,B){var Ai=A[0],Aj=A[1],Av=A[2];var Bi=B[0],Bj=B[1],Bv=B[2];var sA=numeric.ccsDim(A),sB=numeric.ccsDim(B);var m=sA[0],n=sA[1],o=sB[1];var x=numeric.rep([m],0),flags=numeric.rep([m],0),xj=Array(m);var Ci=numeric.rep([o],0),Cj=[],Cv=[],C=[Ci,Cj,Cv];var i,j,k,j0,j1,i0,i1,l,p,a,b;for(k=0;k!==o;++k){j0=Bi[k];j1=Bi[k+1];p=0;for(j=j0;j<j1;++j){a=Bj[j];b=Bv[j];i0=Ai[a];i1=Ai[a+1];for(i=i0;i<i1;++i){l=Aj[i];if(flags[l]===0){xj[p]=l;flags[l]=1;p=p+1}x[l]=x[l]+Av[i]*b}}j0=Ci[k];
j1=j0+p;Ci[k+1]=j1;for(j=p-1;j!==-1;--j){b=j0+j;i=xj[j];Cj[b]=i;Cv[b]=x[i];flags[i]=0;x[i]=0}Ci[k+1]=Ci[k]+p}return C};
numeric.ccsLUPSolve=function ccsLUPSolve(LUP,B){var L=LUP.L,U=LUP.U,P=LUP.P;var Bi=B[0];var flag=false;if(typeof Bi!=="object"){B=[[0,B.length],numeric.linspace(0,B.length-1),B];Bi=B[0];flag=true}var Bj=B[1],Bv=B[2];var n=L[0].length-1,m=Bi.length-1;var x=numeric.rep([n],0),xj=Array(n);var b=numeric.rep([n],0),bj=Array(n);var Xi=numeric.rep([m+1],0),Xj=[],Xv=[];var sol=numeric.ccsTSolve;var i,j,j0,j1,k,J,N=0;for(i=0;i<m;++i){k=0;j0=Bi[i];j1=Bi[i+1];for(j=j0;j<j1;++j){J=LUP.Pinv[Bj[j]];bj[k]=J;b[J]=
Bv[j];++k}bj.length=k;sol(L,b,x,bj,xj);for(j=bj.length-1;j!==-1;--j)b[bj[j]]=0;sol(U,x,b,xj,bj);if(flag)return b;for(j=xj.length-1;j!==-1;--j)x[xj[j]]=0;for(j=bj.length-1;j!==-1;--j){J=bj[j];Xj[N]=J;Xv[N]=b[J];b[J]=0;++N}Xi[i+1]=N}return[Xi,Xj,Xv]};
numeric.ccsbinop=function ccsbinop(body,setup){if(typeof setup==="undefined")setup="";return Function("X","Y","var Xi \x3d X[0], Xj \x3d X[1], Xv \x3d X[2];\n"+"var Yi \x3d Y[0], Yj \x3d Y[1], Yv \x3d Y[2];\n"+"var n \x3d Xi.length-1,m \x3d Math.max(numeric.sup(Xj),numeric.sup(Yj))+1;\n"+"var Zi \x3d numeric.rep([n+1],0), Zj \x3d [], Zv \x3d [];\n"+"var x \x3d numeric.rep([m],0),y \x3d numeric.rep([m],0);\n"+"var xk,yk,zk;\n"+"var i,j,j0,j1,k,p\x3d0;\n"+setup+"for(i\x3d0;i\x3cn;++i) {\n"+"  j0 \x3d Xi[i]; j1 \x3d Xi[i+1];\n"+
"  for(j\x3dj0;j!\x3d\x3dj1;++j) {\n"+"    k \x3d Xj[j];\n"+"    x[k] \x3d 1;\n"+"    Zj[p] \x3d k;\n"+"    ++p;\n"+"  }\n"+"  j0 \x3d Yi[i]; j1 \x3d Yi[i+1];\n"+"  for(j\x3dj0;j!\x3d\x3dj1;++j) {\n"+"    k \x3d Yj[j];\n"+"    y[k] \x3d Yv[j];\n"+"    if(x[k] \x3d\x3d\x3d 0) {\n"+"      Zj[p] \x3d k;\n"+"      ++p;\n"+"    }\n"+"  }\n"+"  Zi[i+1] \x3d p;\n"+"  j0 \x3d Xi[i]; j1 \x3d Xi[i+1];\n"+"  for(j\x3dj0;j!\x3d\x3dj1;++j) x[Xj[j]] \x3d Xv[j];\n"+"  j0 \x3d Zi[i]; j1 \x3d Zi[i+1];\n"+"  for(j\x3dj0;j!\x3d\x3dj1;++j) {\n"+
"    k \x3d Zj[j];\n"+"    xk \x3d x[k];\n"+"    yk \x3d y[k];\n"+body+"\n"+"    Zv[j] \x3d zk;\n"+"  }\n"+"  j0 \x3d Xi[i]; j1 \x3d Xi[i+1];\n"+"  for(j\x3dj0;j!\x3d\x3dj1;++j) x[Xj[j]] \x3d 0;\n"+"  j0 \x3d Yi[i]; j1 \x3d Yi[i+1];\n"+"  for(j\x3dj0;j!\x3d\x3dj1;++j) y[Yj[j]] \x3d 0;\n"+"}\n"+"return [Zi,Zj,Zv];")};
(function(){var k,A,B,C;for(k in numeric.ops2){if(isFinite(eval("1"+numeric.ops2[k]+"0")))A="[Y[0],Y[1],numeric."+k+"(X,Y[2])]";else A="NaN";if(isFinite(eval("0"+numeric.ops2[k]+"1")))B="[X[0],X[1],numeric."+k+"(X[2],Y)]";else B="NaN";if(isFinite(eval("1"+numeric.ops2[k]+"0"))&&isFinite(eval("0"+numeric.ops2[k]+"1")))C="numeric.ccs"+k+"MM(X,Y)";else C="NaN";numeric["ccs"+k+"MM"]=numeric.ccsbinop("zk \x3d xk "+numeric.ops2[k]+"yk;");numeric["ccs"+k]=Function("X","Y",'if(typeof X \x3d\x3d\x3d "number") return '+
A+";\n"+'if(typeof Y \x3d\x3d\x3d "number") return '+B+";\n"+"return "+C+";\n")}})();numeric.ccsScatter=function ccsScatter(A){var Ai=A[0],Aj=A[1],Av=A[2];var n=numeric.sup(Aj)+1,m=Ai.length;var Ri=numeric.rep([n],0),Rj=Array(m),Rv=Array(m);var counts=numeric.rep([n],0),i;for(i=0;i<m;++i)counts[Aj[i]]++;for(i=0;i<n;++i)Ri[i+1]=Ri[i]+counts[i];var ptr=Ri.slice(0),k,Aii;for(i=0;i<m;++i){Aii=Aj[i];k=ptr[Aii];Rj[k]=Ai[i];Rv[k]=Av[i];ptr[Aii]=ptr[Aii]+1}return[Ri,Rj,Rv]};
numeric.ccsGather=function ccsGather(A){var Ai=A[0],Aj=A[1],Av=A[2];var n=Ai.length-1,m=Aj.length;var Ri=Array(m),Rj=Array(m),Rv=Array(m);var i,j,j0,j1,p;p=0;for(i=0;i<n;++i){j0=Ai[i];j1=Ai[i+1];for(j=j0;j!==j1;++j){Rj[p]=i;Ri[p]=Aj[j];Rv[p]=Av[j];++p}}return[Ri,Rj,Rv]};
numeric.sdim=function dim(A,ret,k){if(typeof ret==="undefined")ret=[];if(typeof A!=="object")return ret;if(typeof k==="undefined")k=0;if(!(k in ret))ret[k]=0;if(A.length>ret[k])ret[k]=A.length;var i;for(i in A)if(A.hasOwnProperty(i))dim(A[i],ret,k+1);return ret};
numeric.sclone=function clone(A,k,n){if(typeof k==="undefined")k=0;if(typeof n==="undefined")n=numeric.sdim(A).length;var i,ret=Array(A.length);if(k===n-1){for(i in A)if(A.hasOwnProperty(i))ret[i]=A[i];return ret}for(i in A)if(A.hasOwnProperty(i))ret[i]=clone(A[i],k+1,n);return ret};numeric.sdiag=function diag(d){var n=d.length,i,ret=Array(n),i1,i2,i3;for(i=n-1;i>=1;i-=2){i1=i-1;ret[i]=[];ret[i][i]=d[i];ret[i1]=[];ret[i1][i1]=d[i1]}if(i===0){ret[0]=[];ret[0][0]=d[i]}return ret};
numeric.sidentity=function identity(n){return numeric.sdiag(numeric.rep([n],1))};numeric.stranspose=function transpose(A){var ret=[],n=A.length,i,j,Ai;for(i in A){if(!A.hasOwnProperty(i))continue;Ai=A[i];for(j in Ai){if(!Ai.hasOwnProperty(j))continue;if(typeof ret[j]!=="object")ret[j]=[];ret[j][i]=Ai[j]}}return ret};numeric.sLUP=function LUP(A,tol){throw new Error("The function numeric.sLUP had a bug in it and has been removed. Please use the new numeric.ccsLUP function instead.");};
numeric.sdotMM=function dotMM(A,B){var p=A.length,q=B.length,BT=numeric.stranspose(B),r=BT.length,Ai,BTk;var i,j,k,accum;var ret=Array(p),reti;for(i=p-1;i>=0;i--){reti=[];Ai=A[i];for(k=r-1;k>=0;k--){accum=0;BTk=BT[k];for(j in Ai){if(!Ai.hasOwnProperty(j))continue;if(j in BTk)accum+=Ai[j]*BTk[j]}if(accum)reti[k]=accum}ret[i]=reti}return ret};
numeric.sdotMV=function dotMV(A,x){var p=A.length,Ai,i,j;var ret=Array(p),accum;for(i=p-1;i>=0;i--){Ai=A[i];accum=0;for(j in Ai){if(!Ai.hasOwnProperty(j))continue;if(x[j])accum+=Ai[j]*x[j]}if(accum)ret[i]=accum}return ret};numeric.sdotVM=function dotMV(x,A){var i,j,Ai,alpha;var ret=[],accum;for(i in x){if(!x.hasOwnProperty(i))continue;Ai=A[i];alpha=x[i];for(j in Ai){if(!Ai.hasOwnProperty(j))continue;if(!ret[j])ret[j]=0;ret[j]+=alpha*Ai[j]}}return ret};
numeric.sdotVV=function dotVV(x,y){var i,ret=0;for(i in x)if(x[i]&&y[i])ret+=x[i]*y[i];return ret};numeric.sdot=function dot(A,B){var m=numeric.sdim(A).length,n=numeric.sdim(B).length;var k=m*1E3+n;switch(k){case 0:return A*B;case 1001:return numeric.sdotVV(A,B);case 2001:return numeric.sdotMV(A,B);case 1002:return numeric.sdotVM(A,B);case 2002:return numeric.sdotMM(A,B);default:throw new Error("numeric.sdot not implemented for tensors of order "+m+" and "+n);}};
numeric.sscatter=function scatter(V){var n=V[0].length,Vij,i,j,m=V.length,A=[],Aj;for(i=n-1;i>=0;--i){if(!V[m-1][i])continue;Aj=A;for(j=0;j<m-2;j++){Vij=V[j][i];if(!Aj[Vij])Aj[Vij]=[];Aj=Aj[Vij]}Aj[V[j][i]]=V[j+1][i]}return A};
numeric.sgather=function gather(A,ret,k){if(typeof ret==="undefined")ret=[];if(typeof k==="undefined")k=[];var n,i,Ai;n=k.length;for(i in A)if(A.hasOwnProperty(i)){k[n]=parseInt(i);Ai=A[i];if(typeof Ai==="number"){if(Ai){if(ret.length===0)for(i=n+1;i>=0;--i)ret[i]=[];for(i=n;i>=0;--i)ret[i].push(k[i]);ret[n+1].push(Ai)}}else gather(Ai,ret,k)}if(k.length>n)k.pop();return ret};
numeric.cLU=function LU(A){var I=A[0],J=A[1],V=A[2];var p=I.length,m=0,i,j,k,a,b,c;for(i=0;i<p;i++)if(I[i]>m)m=I[i];m++;var L=Array(m),U=Array(m),left=numeric.rep([m],Infinity),right=numeric.rep([m],-Infinity);var Ui,Uj,alpha;for(k=0;k<p;k++){i=I[k];j=J[k];if(j<left[i])left[i]=j;if(j>right[i])right[i]=j}for(i=0;i<m-1;i++)if(right[i]>right[i+1])right[i+1]=right[i];for(i=m-1;i>=1;i--)if(left[i]<left[i-1])left[i-1]=left[i];var countL=0,countU=0;for(i=0;i<m;i++){U[i]=numeric.rep([right[i]-left[i]+1],
0);L[i]=numeric.rep([i-left[i]],0);countL+=i-left[i]+1;countU+=right[i]-i+1}for(k=0;k<p;k++){i=I[k];U[i][J[k]-left[i]]=V[k]}for(i=0;i<m-1;i++){a=i-left[i];Ui=U[i];for(j=i+1;left[j]<=i&&j<m;j++){b=i-left[j];c=right[i]-i;Uj=U[j];alpha=Uj[b]/Ui[a];if(alpha){for(k=1;k<=c;k++)Uj[k+b]-=alpha*Ui[k+a];L[j][i-left[j]]=alpha}}}var Ui=[],Uj=[],Uv=[],Li=[],Lj=[],Lv=[];var p,q,foo;p=0;q=0;for(i=0;i<m;i++){a=left[i];b=right[i];foo=U[i];for(j=i;j<=b;j++)if(foo[j-a]){Ui[p]=i;Uj[p]=j;Uv[p]=foo[j-a];p++}foo=L[i];for(j=
a;j<i;j++)if(foo[j-a]){Li[q]=i;Lj[q]=j;Lv[q]=foo[j-a];q++}Li[q]=i;Lj[q]=i;Lv[q]=1;q++}return{U:[Ui,Uj,Uv],L:[Li,Lj,Lv]}};numeric.cLUsolve=function LUsolve(lu,b){var L=lu.L,U=lu.U,ret=numeric.clone(b);var Li=L[0],Lj=L[1],Lv=L[2];var Ui=U[0],Uj=U[1],Uv=U[2];var p=Ui.length,q=Li.length;var m=ret.length,i,j,k;k=0;for(i=0;i<m;i++){while(Lj[k]<i){ret[i]-=Lv[k]*ret[Lj[k]];k++}k++}k=p-1;for(i=m-1;i>=0;i--){while(Uj[k]>i){ret[i]-=Uv[k]*ret[Uj[k]];k--}ret[i]/=Uv[k];k--}return ret};
numeric.cgrid=function grid(n,shape){if(typeof n==="number")n=[n,n];var ret=numeric.rep(n,-1);var i,j,count;if(typeof shape!=="function")switch(shape){case "L":shape=function(i,j){return i>=n[0]/2||j<n[1]/2};break;default:shape=function(i,j){return true};break}count=0;for(i=1;i<n[0]-1;i++)for(j=1;j<n[1]-1;j++)if(shape(i,j)){ret[i][j]=count;count++}return ret};
numeric.cdelsq=function delsq(g){var dir=[[-1,0],[0,-1],[0,1],[1,0]];var s=numeric.dim(g),m=s[0],n=s[1],i,j,k,p,q;var Li=[],Lj=[],Lv=[];for(i=1;i<m-1;i++)for(j=1;j<n-1;j++){if(g[i][j]<0)continue;for(k=0;k<4;k++){p=i+dir[k][0];q=j+dir[k][1];if(g[p][q]<0)continue;Li.push(g[i][j]);Lj.push(g[p][q]);Lv.push(-1)}Li.push(g[i][j]);Lj.push(g[i][j]);Lv.push(4)}return[Li,Lj,Lv]};
numeric.cdotMV=function dotMV(A,x){var ret,Ai=A[0],Aj=A[1],Av=A[2],k,p=Ai.length,N;N=0;for(k=0;k<p;k++)if(Ai[k]>N)N=Ai[k];N++;ret=numeric.rep([N],0);for(k=0;k<p;k++)ret[Ai[k]]+=Av[k]*x[Aj[k]];return ret};numeric.Spline=function Spline(x,yl,yr,kl,kr){this.x=x;this.yl=yl;this.yr=yr;this.kl=kl;this.kr=kr};
numeric.Spline.prototype._at=function _at(x1,p){var x=this.x;var yl=this.yl;var yr=this.yr;var kl=this.kl;var kr=this.kr;var x1,a,b,t;var add=numeric.add,sub=numeric.sub,mul=numeric.mul;a=sub(mul(kl[p],x[p+1]-x[p]),sub(yr[p+1],yl[p]));b=add(mul(kr[p+1],x[p]-x[p+1]),sub(yr[p+1],yl[p]));t=(x1-x[p])/(x[p+1]-x[p]);var s=t*(1-t);return add(add(add(mul(1-t,yl[p]),mul(t,yr[p+1])),mul(a,s*(1-t))),mul(b,s*t))};
numeric.Spline.prototype.at=function at(x0){if(typeof x0==="number"){var x=this.x;var n=x.length;var p,q,mid,floor=Math.floor,a,b,t;p=0;q=n-1;while(q-p>1){mid=floor((p+q)/2);if(x[mid]<=x0)p=mid;else q=mid}return this._at(x0,p)}var n=x0.length,i,ret=Array(n);for(i=n-1;i!==-1;--i)ret[i]=this.at(x0[i]);return ret};
numeric.Spline.prototype.diff=function diff(){var x=this.x;var yl=this.yl;var yr=this.yr;var kl=this.kl;var kr=this.kr;var n=yl.length;var i,dx,dy;var zl=kl,zr=kr,pl=Array(n),pr=Array(n);var add=numeric.add,mul=numeric.mul,div=numeric.div,sub=numeric.sub;for(i=n-1;i!==-1;--i){dx=x[i+1]-x[i];dy=sub(yr[i+1],yl[i]);pl[i]=div(add(mul(dy,6),mul(kl[i],-4*dx),mul(kr[i+1],-2*dx)),dx*dx);pr[i+1]=div(add(mul(dy,-6),mul(kl[i],2*dx),mul(kr[i+1],4*dx)),dx*dx)}return new numeric.Spline(x,zl,zr,pl,pr)};
numeric.Spline.prototype.roots=function roots(){function sqr(x){return x*x}function heval(y0,y1,k0,k1,x){var A=k0*2-(y1-y0);var B=-k1*2+(y1-y0);var t=(x+1)*.5;var s=t*(1-t);return(1-t)*y0+t*y1+A*s*(1-t)+B*s*t}var ret=[];var x=this.x,yl=this.yl,yr=this.yr,kl=this.kl,kr=this.kr;if(typeof yl[0]==="number"){yl=[yl];yr=[yr];kl=[kl];kr=[kr]}var m=yl.length,n=x.length-1,i,j,k,y,s,t;var ai,bi,ci,di,ret=Array(m),ri,k0,k1,y0,y1,A,B,D,dx,cx,stops,z0,z1,zm,t0,t1,tm;var sqrt=Math.sqrt;for(i=0;i!==m;++i){ai=yl[i];
bi=yr[i];ci=kl[i];di=kr[i];ri=[];for(j=0;j!==n;j++){if(j>0&&bi[j]*ai[j]<0)ri.push(x[j]);dx=x[j+1]-x[j];cx=x[j];y0=ai[j];y1=bi[j+1];k0=ci[j]/dx;k1=di[j+1]/dx;D=sqr(k0-k1+3*(y0-y1))+12*k1*y0;A=k1+3*y0+2*k0-3*y1;B=3*(k1+k0+2*(y0-y1));if(D<=0){z0=A/B;if(z0>x[j]&&z0<x[j+1])stops=[x[j],z0,x[j+1]];else stops=[x[j],x[j+1]]}else{z0=(A-sqrt(D))/B;z1=(A+sqrt(D))/B;stops=[x[j]];if(z0>x[j]&&z0<x[j+1])stops.push(z0);if(z1>x[j]&&z1<x[j+1])stops.push(z1);stops.push(x[j+1])}t0=stops[0];z0=this._at(t0,j);for(k=0;k<
stops.length-1;k++){t1=stops[k+1];z1=this._at(t1,j);if(z0===0){ri.push(t0);t0=t1;z0=z1;continue}if(z1===0||z0*z1>0){t0=t1;z0=z1;continue}var side=0;while(1){tm=(z0*t1-z1*t0)/(z0-z1);if(tm<=t0||tm>=t1)break;zm=this._at(tm,j);if(zm*z1>0){t1=tm;z1=zm;if(side===-1)z0*=.5;side=-1}else if(zm*z0>0){t0=tm;z0=zm;if(side===1)z1*=.5;side=1}else break}ri.push(tm);t0=stops[k+1];z0=this._at(t0,j)}if(z1===0)ri.push(t1)}ret[i]=ri}if(typeof this.yl[0]==="number")return ret[0];return ret};
numeric.spline=function spline(x,y,k1,kn){var n=x.length,b=[],dx=[],dy=[];var i;var sub=numeric.sub,mul=numeric.mul,add=numeric.add;for(i=n-2;i>=0;i--){dx[i]=x[i+1]-x[i];dy[i]=sub(y[i+1],y[i])}if(typeof k1==="string"||typeof kn==="string")k1=kn="periodic";var T=[[],[],[]];switch(typeof k1){case "undefined":b[0]=mul(3/(dx[0]*dx[0]),dy[0]);T[0].push(0,0);T[1].push(0,1);T[2].push(2/dx[0],1/dx[0]);break;case "string":b[0]=add(mul(3/(dx[n-2]*dx[n-2]),dy[n-2]),mul(3/(dx[0]*dx[0]),dy[0]));T[0].push(0,0,
0);T[1].push(n-2,0,1);T[2].push(1/dx[n-2],2/dx[n-2]+2/dx[0],1/dx[0]);break;default:b[0]=k1;T[0].push(0);T[1].push(0);T[2].push(1);break}for(i=1;i<n-1;i++){b[i]=add(mul(3/(dx[i-1]*dx[i-1]),dy[i-1]),mul(3/(dx[i]*dx[i]),dy[i]));T[0].push(i,i,i);T[1].push(i-1,i,i+1);T[2].push(1/dx[i-1],2/dx[i-1]+2/dx[i],1/dx[i])}switch(typeof kn){case "undefined":b[n-1]=mul(3/(dx[n-2]*dx[n-2]),dy[n-2]);T[0].push(n-1,n-1);T[1].push(n-2,n-1);T[2].push(1/dx[n-2],2/dx[n-2]);break;case "string":T[1][T[1].length-1]=0;break;
default:b[n-1]=kn;T[0].push(n-1);T[1].push(n-1);T[2].push(1);break}if(typeof b[0]!=="number")b=numeric.transpose(b);else b=[b];var k=Array(b.length);if(typeof k1==="string")for(i=k.length-1;i!==-1;--i){k[i]=numeric.ccsLUPSolve(numeric.ccsLUP(numeric.ccsScatter(T)),b[i]);k[i][n-1]=k[i][0]}else for(i=k.length-1;i!==-1;--i)k[i]=numeric.cLUsolve(numeric.cLU(T),b[i]);if(typeof y[0]==="number")k=k[0];else k=numeric.transpose(k);return new numeric.Spline(x,y,y,k,k)};
numeric.fftpow2=function fftpow2(x,y){var n=x.length;if(n===1)return;var cos=Math.cos,sin=Math.sin,i,j;var xe=Array(n/2),ye=Array(n/2),xo=Array(n/2),yo=Array(n/2);j=n/2;for(i=n-1;i!==-1;--i){--j;xo[j]=x[i];yo[j]=y[i];--i;xe[j]=x[i];ye[j]=y[i]}fftpow2(xe,ye);fftpow2(xo,yo);j=n/2;var t,k=-6.283185307179586/n,ci,si;for(i=n-1;i!==-1;--i){--j;if(j===-1)j=n/2-1;t=k*i;ci=cos(t);si=sin(t);x[i]=xe[j]+ci*xo[j]-si*yo[j];y[i]=ye[j]+ci*yo[j]+si*xo[j]}};
numeric._ifftpow2=function _ifftpow2(x,y){var n=x.length;if(n===1)return;var cos=Math.cos,sin=Math.sin,i,j;var xe=Array(n/2),ye=Array(n/2),xo=Array(n/2),yo=Array(n/2);j=n/2;for(i=n-1;i!==-1;--i){--j;xo[j]=x[i];yo[j]=y[i];--i;xe[j]=x[i];ye[j]=y[i]}_ifftpow2(xe,ye);_ifftpow2(xo,yo);j=n/2;var t,k=6.283185307179586/n,ci,si;for(i=n-1;i!==-1;--i){--j;if(j===-1)j=n/2-1;t=k*i;ci=cos(t);si=sin(t);x[i]=xe[j]+ci*xo[j]-si*yo[j];y[i]=ye[j]+ci*yo[j]+si*xo[j]}};
numeric.ifftpow2=function ifftpow2(x,y){numeric._ifftpow2(x,y);numeric.diveq(x,x.length);numeric.diveq(y,y.length)};numeric.convpow2=function convpow2(ax,ay,bx,by){numeric.fftpow2(ax,ay);numeric.fftpow2(bx,by);var i,n=ax.length,axi,bxi,ayi,byi;for(i=n-1;i!==-1;--i){axi=ax[i];ayi=ay[i];bxi=bx[i];byi=by[i];ax[i]=axi*bxi-ayi*byi;ay[i]=axi*byi+ayi*bxi}numeric.ifftpow2(ax,ay)};
numeric.T.prototype.fft=function fft(){var x=this.x,y=this.y;var n=x.length,log=Math.log,log2=log(2),p=Math.ceil(log(2*n-1)/log2),m=Math.pow(2,p);var cx=numeric.rep([m],0),cy=numeric.rep([m],0),cos=Math.cos,sin=Math.sin;var k,c=-3.141592653589793/n,t;var a=numeric.rep([m],0),b=numeric.rep([m],0),nhalf=Math.floor(n/2);for(k=0;k<n;k++)a[k]=x[k];if(typeof y!=="undefined")for(k=0;k<n;k++)b[k]=y[k];cx[0]=1;for(k=1;k<=m/2;k++){t=c*k*k;cx[k]=cos(t);cy[k]=sin(t);cx[m-k]=cos(t);cy[m-k]=sin(t)}var X=new numeric.T(a,
b),Y=new numeric.T(cx,cy);X=X.mul(Y);numeric.convpow2(X.x,X.y,numeric.clone(Y.x),numeric.neg(Y.y));X=X.mul(Y);X.x.length=n;X.y.length=n;return X};
numeric.T.prototype.ifft=function ifft(){var x=this.x,y=this.y;var n=x.length,log=Math.log,log2=log(2),p=Math.ceil(log(2*n-1)/log2),m=Math.pow(2,p);var cx=numeric.rep([m],0),cy=numeric.rep([m],0),cos=Math.cos,sin=Math.sin;var k,c=3.141592653589793/n,t;var a=numeric.rep([m],0),b=numeric.rep([m],0),nhalf=Math.floor(n/2);for(k=0;k<n;k++)a[k]=x[k];if(typeof y!=="undefined")for(k=0;k<n;k++)b[k]=y[k];cx[0]=1;for(k=1;k<=m/2;k++){t=c*k*k;cx[k]=cos(t);cy[k]=sin(t);cx[m-k]=cos(t);cy[m-k]=sin(t)}var X=new numeric.T(a,
b),Y=new numeric.T(cx,cy);X=X.mul(Y);numeric.convpow2(X.x,X.y,numeric.clone(Y.x),numeric.neg(Y.y));X=X.mul(Y);X.x.length=n;X.y.length=n;return X.div(n)};
numeric.gradient=function gradient(f,x){var n=x.length;var f0=f(x);if(isNaN(f0))throw new Error("gradient: f(x) is a NaN!");var max=Math.max;var i,x0=numeric.clone(x),f1,f2,J=Array(n);var div=numeric.div,sub=numeric.sub,errest,roundoff,max=Math.max,eps=.001,abs=Math.abs,min=Math.min;var t0,t1,t2,it=0,d1,d2,N;for(i=0;i<n;i++){var h=max(1E-6*f0,1E-8);while(1){++it;if(it>20)throw new Error("Numerical gradient fails");x0[i]=x[i]+h;f1=f(x0);x0[i]=x[i]-h;f2=f(x0);x0[i]=x[i];if(isNaN(f1)||isNaN(f2)){h/=
16;continue}J[i]=(f1-f2)/(2*h);t0=x[i]-h;t1=x[i];t2=x[i]+h;d1=(f1-f0)/h;d2=(f0-f2)/h;N=max(abs(J[i]),abs(f0),abs(f1),abs(f2),abs(t0),abs(t1),abs(t2),1E-8);errest=min(max(abs(d1-J[i]),abs(d2-J[i]),abs(d1-d2))/N,h/N);if(errest>eps)h/=16;else break}}return J};
numeric.uncmin=function uncmin(f,x0,tol,gradient,maxit,callback,options){var grad=numeric.gradient;if(typeof options==="undefined")options={};if(typeof tol==="undefined")tol=1E-8;if(typeof gradient==="undefined")gradient=function(x){return grad(f,x)};if(typeof maxit==="undefined")maxit=1E3;x0=numeric.clone(x0);var n=x0.length;var f0=f(x0),f1,df0;if(isNaN(f0))throw new Error("uncmin: f(x0) is a NaN!");var max=Math.max,norm2=numeric.norm2;tol=max(tol,numeric.epsilon);var step,g0,g1,H1=options.Hinv||
numeric.identity(n);var dot=numeric.dot,inv=numeric.inv,sub=numeric.sub,add=numeric.add,ten=numeric.tensor,div=numeric.div,mul=numeric.mul;var all=numeric.all,isfinite=numeric.isFinite,neg=numeric.neg;var it=0,i,s,x1,y,Hy,Hs,ys,i0,t,nstep,t1,t2;var msg="";g0=gradient(x0);while(it<maxit){if(typeof callback==="function")if(callback(it,x0,f0,g0,H1)){msg="Callback returned true";break}if(!all(isfinite(g0))){msg="Gradient has Infinity or NaN";break}step=neg(dot(H1,g0));if(!all(isfinite(step))){msg="Search direction has Infinity or NaN";
break}nstep=norm2(step);if(nstep<tol){msg="Newton step smaller than tol";break}t=1;df0=dot(g0,step);x1=x0;while(it<maxit){if(t*nstep<tol)break;s=mul(step,t);x1=add(x0,s);f1=f(x1);if(f1-f0>=.1*t*df0||isNaN(f1)){t*=.5;++it;continue}break}if(t*nstep<tol){msg="Line search step size smaller than tol";break}if(it===maxit){msg="maxit reached during line search";break}g1=gradient(x1);y=sub(g1,g0);ys=dot(y,s);Hy=dot(H1,y);H1=sub(add(H1,mul((ys+dot(y,Hy))/(ys*ys),ten(s,s))),div(add(ten(Hy,s),ten(s,Hy)),ys));
x0=x1;f0=f1;g0=g1;++it}return{solution:x0,f:f0,gradient:g0,invHessian:H1,iterations:it,message:msg}};numeric.Dopri=function Dopri(x,y,f,ymid,iterations,msg,events){this.x=x;this.y=y;this.f=f;this.ymid=ymid;this.iterations=iterations;this.events=events;this.message=msg};
numeric.Dopri.prototype._at=function _at(xi,j){function sqr(x){return x*x}var sol=this;var xs=sol.x;var ys=sol.y;var k1=sol.f;var ymid=sol.ymid;var n=xs.length;var x0,x1,xh,y0,y1,yh,xi;var floor=Math.floor,h;var c=.5;var add=numeric.add,mul=numeric.mul,sub=numeric.sub,p,q,w;x0=xs[j];x1=xs[j+1];y0=ys[j];y1=ys[j+1];h=x1-x0;xh=x0+c*h;yh=ymid[j];p=sub(k1[j],mul(y0,1/(x0-xh)+2/(x0-x1)));q=sub(k1[j+1],mul(y1,1/(x1-xh)+2/(x1-x0)));w=[sqr(xi-x1)*(xi-xh)/sqr(x0-x1)/(x0-xh),sqr(xi-x0)*sqr(xi-x1)/sqr(x0-xh)/
sqr(x1-xh),sqr(xi-x0)*(xi-xh)/sqr(x1-x0)/(x1-xh),(xi-x0)*sqr(xi-x1)*(xi-xh)/sqr(x0-x1)/(x0-xh),(xi-x1)*sqr(xi-x0)*(xi-xh)/sqr(x0-x1)/(x1-xh)];return add(add(add(add(mul(y0,w[0]),mul(yh,w[1])),mul(y1,w[2])),mul(p,w[3])),mul(q,w[4]))};
numeric.Dopri.prototype.at=function at(x){var i,j,k,floor=Math.floor;if(typeof x!=="number"){var n=x.length,ret=Array(n);for(i=n-1;i!==-1;--i)ret[i]=this.at(x[i]);return ret}var x0=this.x;i=0;j=x0.length-1;while(j-i>1){k=floor(.5*(i+j));if(x0[k]<=x)i=k;else j=k}return this._at(x,i)};
numeric.dopri=function dopri(x0,x1,y0,f,tol,maxit,event){if(typeof tol==="undefined")tol=1E-6;if(typeof maxit==="undefined")maxit=1E3;var xs=[x0],ys=[y0],k1=[f(x0,y0)],k2,k3,k4,k5,k6,k7,ymid=[];var A2=1/5;var A3=[3/40,9/40];var A4=[44/45,-56/15,32/9];var A5=[19372/6561,-25360/2187,64448/6561,-212/729];var A6=[9017/3168,-355/33,46732/5247,49/176,-5103/18656];var b=[35/384,0,500/1113,125/192,-2187/6784,11/84];var bm=[.5*6025192743/30085553152,0,.5*51252292925/65400821598,.5*-2691868925/45128329728,
.5*187940372067/1594534317056,.5*-1776094331/19743644256,.5*11237099/235043384];var c=[1/5,3/10,4/5,8/9,1,1];var e=[-71/57600,0,71/16695,-71/1920,17253/339200,-22/525,1/40];var i=0,er,j;var h=(x1-x0)/10;var it=0;var add=numeric.add,mul=numeric.mul,y1,erinf;var max=Math.max,min=Math.min,abs=Math.abs,norminf=numeric.norminf,pow=Math.pow;var any=numeric.any,lt=numeric.lt,and=numeric.and,sub=numeric.sub;var e0,e1,ev;var ret=new numeric.Dopri(xs,ys,k1,ymid,-1,"");if(typeof event==="function")e0=event(x0,
y0);while(x0<x1&&it<maxit){++it;if(x0+h>x1)h=x1-x0;k2=f(x0+c[0]*h,add(y0,mul(A2*h,k1[i])));k3=f(x0+c[1]*h,add(add(y0,mul(A3[0]*h,k1[i])),mul(A3[1]*h,k2)));k4=f(x0+c[2]*h,add(add(add(y0,mul(A4[0]*h,k1[i])),mul(A4[1]*h,k2)),mul(A4[2]*h,k3)));k5=f(x0+c[3]*h,add(add(add(add(y0,mul(A5[0]*h,k1[i])),mul(A5[1]*h,k2)),mul(A5[2]*h,k3)),mul(A5[3]*h,k4)));k6=f(x0+c[4]*h,add(add(add(add(add(y0,mul(A6[0]*h,k1[i])),mul(A6[1]*h,k2)),mul(A6[2]*h,k3)),mul(A6[3]*h,k4)),mul(A6[4]*h,k5)));y1=add(add(add(add(add(y0,mul(k1[i],
h*b[0])),mul(k3,h*b[2])),mul(k4,h*b[3])),mul(k5,h*b[4])),mul(k6,h*b[5]));k7=f(x0+h,y1);er=add(add(add(add(add(mul(k1[i],h*e[0]),mul(k3,h*e[2])),mul(k4,h*e[3])),mul(k5,h*e[4])),mul(k6,h*e[5])),mul(k7,h*e[6]));if(typeof er==="number")erinf=abs(er);else erinf=norminf(er);if(erinf>tol){h=.2*h*pow(tol/erinf,.25);if(x0+h===x0){ret.msg="Step size became too small";break}continue}ymid[i]=add(add(add(add(add(add(y0,mul(k1[i],h*bm[0])),mul(k3,h*bm[2])),mul(k4,h*bm[3])),mul(k5,h*bm[4])),mul(k6,h*bm[5])),mul(k7,
h*bm[6]));++i;xs[i]=x0+h;ys[i]=y1;k1[i]=k7;if(typeof event==="function"){var yi,xl=x0,xr=x0+.5*h,xi;e1=event(xr,ymid[i-1]);ev=and(lt(e0,0),lt(0,e1));if(!any(ev)){xl=xr;xr=x0+h;e0=e1;e1=event(xr,y1);ev=and(lt(e0,0),lt(0,e1))}if(any(ev)){var xc,yc,en,ei;var side=0,sl=1,sr=1;while(1){if(typeof e0==="number")xi=(sr*e1*xl-sl*e0*xr)/(sr*e1-sl*e0);else{xi=xr;for(j=e0.length-1;j!==-1;--j)if(e0[j]<0&&e1[j]>0)xi=min(xi,(sr*e1[j]*xl-sl*e0[j]*xr)/(sr*e1[j]-sl*e0[j]))}if(xi<=xl||xi>=xr)break;yi=ret._at(xi,i-1);
ei=event(xi,yi);en=and(lt(e0,0),lt(0,ei));if(any(en)){xr=xi;e1=ei;ev=en;sr=1;if(side===-1)sl*=.5;else sl=1;side=-1}else{xl=xi;e0=ei;sl=1;if(side===1)sr*=.5;else sr=1;side=1}}y1=ret._at(.5*(x0+xi),i-1);ret.f[i]=f(xi,yi);ret.x[i]=xi;ret.y[i]=yi;ret.ymid[i-1]=y1;ret.events=ev;ret.iterations=it;return ret}}x0+=h;y0=y1;e0=e1;h=min(.8*h*pow(tol/erinf,.25),4*h)}ret.iterations=it;return ret};
numeric.LU=function(A,fast){fast=fast||false;var abs=Math.abs;var i,j,k,absAjk,Akk,Ak,Pk,Ai;var max;var n=A.length,n1=n-1;var P=new Array(n);if(!fast)A=numeric.clone(A);for(k=0;k<n;++k){Pk=k;Ak=A[k];max=abs(Ak[k]);for(j=k+1;j<n;++j){absAjk=abs(A[j][k]);if(max<absAjk){max=absAjk;Pk=j}}P[k]=Pk;if(Pk!=k){A[k]=A[Pk];A[Pk]=Ak;Ak=A[k]}Akk=Ak[k];for(i=k+1;i<n;++i)A[i][k]/=Akk;for(i=k+1;i<n;++i){Ai=A[i];for(j=k+1;j<n1;++j){Ai[j]-=Ai[k]*Ak[j];++j;Ai[j]-=Ai[k]*Ak[j]}if(j===n1)Ai[j]-=Ai[k]*Ak[j]}}return{LU:A,
P:P}};numeric.LUsolve=function LUsolve(LUP,b){var i,j;var LU=LUP.LU;var n=LU.length;var x=numeric.clone(b);var P=LUP.P;var Pi,LUi,LUii,tmp;for(i=n-1;i!==-1;--i)x[i]=b[i];for(i=0;i<n;++i){Pi=P[i];if(P[i]!==i){tmp=x[i];x[i]=x[Pi];x[Pi]=tmp}LUi=LU[i];for(j=0;j<i;++j)x[i]-=x[j]*LUi[j]}for(i=n-1;i>=0;--i){LUi=LU[i];for(j=i+1;j<n;++j)x[i]-=x[j]*LUi[j];x[i]/=LUi[i]}return x};numeric.solve=function solve(A,b,fast){return numeric.LUsolve(numeric.LU(A,fast),b)};
numeric.echelonize=function echelonize(A){var s=numeric.dim(A),m=s[0],n=s[1];var I=numeric.identity(m);var P=Array(m);var i,j,k,l,Ai,Ii,Z,a;var abs=Math.abs;var diveq=numeric.diveq;A=numeric.clone(A);for(i=0;i<m;++i){k=0;Ai=A[i];Ii=I[i];for(j=1;j<n;++j)if(abs(Ai[k])<abs(Ai[j]))k=j;P[i]=k;diveq(Ii,Ai[k]);diveq(Ai,Ai[k]);for(j=0;j<m;++j)if(j!==i){Z=A[j];a=Z[k];for(l=n-1;l!==-1;--l)Z[l]-=Ai[l]*a;Z=I[j];for(l=m-1;l!==-1;--l)Z[l]-=Ii[l]*a}}return{I:I,A:A,P:P}};
numeric.__solveLP=function __solveLP(c,A,b,tol,maxit,x,flag){var sum=numeric.sum,log=numeric.log,mul=numeric.mul,sub=numeric.sub,dot=numeric.dot,div=numeric.div,add=numeric.add;var m=c.length,n=b.length,y;var unbounded=false,cb,i0=0;var alpha=1;var f0,df0,AT=numeric.transpose(A),svd=numeric.svd,transpose=numeric.transpose,leq=numeric.leq,sqrt=Math.sqrt,abs=Math.abs;var muleq=numeric.muleq;var norm=numeric.norminf,any=numeric.any,min=Math.min;var all=numeric.all,gt=numeric.gt;var p=Array(m),A0=Array(n),
e=numeric.rep([n],1),H;var solve=numeric.solve,z=sub(b,dot(A,x)),count;var dotcc=dot(c,c);var g;for(count=i0;count<maxit;++count){var i,j,d;for(i=n-1;i!==-1;--i)A0[i]=div(A[i],z[i]);var A1=transpose(A0);for(i=m-1;i!==-1;--i)p[i]=sum(A1[i]);alpha=.25*abs(dotcc/dot(c,p));var a1=100*sqrt(dotcc/dot(p,p));if(!isFinite(alpha)||alpha>a1)alpha=a1;g=add(c,mul(alpha,p));H=dot(A1,A0);for(i=m-1;i!==-1;--i)H[i][i]+=1;d=solve(H,div(g,alpha),true);var t0=div(z,dot(A,d));var t=1;for(i=n-1;i!==-1;--i)if(t0[i]<0)t=
min(t,-.999*t0[i]);y=sub(x,mul(d,t));z=sub(b,dot(A,y));if(!all(gt(z,0)))return{solution:x,message:"",iterations:count};x=y;if(alpha<tol)return{solution:y,message:"",iterations:count};if(flag){var s=dot(c,g),Ag=dot(A,g);unbounded=true;for(i=n-1;i!==-1;--i)if(s*Ag[i]<0){unbounded=false;break}}else if(x[m-1]>=0)unbounded=false;else unbounded=true;if(unbounded)return{solution:y,message:"Unbounded",iterations:count}}return{solution:x,message:"maximum iteration count exceeded",iterations:count}};
numeric._solveLP=function _solveLP(c,A,b,tol,maxit){var m=c.length,n=b.length,y;var sum=numeric.sum,log=numeric.log,mul=numeric.mul,sub=numeric.sub,dot=numeric.dot,div=numeric.div,add=numeric.add;var c0=numeric.rep([m],0).concat([1]);var J=numeric.rep([n,1],-1);var A0=numeric.blockMatrix([[A,J]]);var b0=b;var y=numeric.rep([m],0).concat(Math.max(0,numeric.sup(numeric.neg(b)))+1);var x0=numeric.__solveLP(c0,A0,b0,tol,maxit,y,false);var x=numeric.clone(x0.solution);x.length=m;var foo=numeric.inf(sub(b,
dot(A,x)));if(foo<0)return{solution:NaN,message:"Infeasible",iterations:x0.iterations};var ret=numeric.__solveLP(c,A,b,tol,maxit-x0.iterations,x,true);ret.iterations+=x0.iterations;return ret};
numeric.solveLP=function solveLP(c,A,b,Aeq,beq,tol,maxit){if(typeof maxit==="undefined")maxit=1E3;if(typeof tol==="undefined")tol=numeric.epsilon;if(typeof Aeq==="undefined")return numeric._solveLP(c,A,b,tol,maxit);var m=Aeq.length,n=Aeq[0].length,o=A.length;var B=numeric.echelonize(Aeq);var flags=numeric.rep([n],0);var P=B.P;var Q=[];var i;for(i=P.length-1;i!==-1;--i)flags[P[i]]=1;for(i=n-1;i!==-1;--i)if(flags[i]===0)Q.push(i);var g=numeric.getRange;var I=numeric.linspace(0,m-1),J=numeric.linspace(0,
o-1);var Aeq2=g(Aeq,I,Q),A1=g(A,J,P),A2=g(A,J,Q),dot=numeric.dot,sub=numeric.sub;var A3=dot(A1,B.I);var A4=sub(A2,dot(A3,Aeq2)),b4=sub(b,dot(A3,beq));var c1=Array(P.length),c2=Array(Q.length);for(i=P.length-1;i!==-1;--i)c1[i]=c[P[i]];for(i=Q.length-1;i!==-1;--i)c2[i]=c[Q[i]];var c4=sub(c2,dot(c1,dot(B.I,Aeq2)));var S=numeric._solveLP(c4,A4,b4,tol,maxit);var x2=S.solution;if(x2!==x2)return S;var x1=dot(B.I,sub(beq,dot(Aeq2,x2)));var x=Array(c.length);for(i=P.length-1;i!==-1;--i)x[P[i]]=x1[i];for(i=
Q.length-1;i!==-1;--i)x[Q[i]]=x2[i];return{solution:x,message:S.message,iterations:S.iterations}};
numeric.MPStoLP=function MPStoLP(MPS){if(MPS instanceof String)MPS.split("\n");var state=0;var states=["Initial state","NAME","ROWS","COLUMNS","RHS","BOUNDS","ENDATA"];var n=MPS.length;var i,j,z,N=0,rows={},sign=[],rl=0,vars={},nv=0;var name;var c=[],A=[],b=[];function err(e){throw new Error("MPStoLP: "+e+"\nLine "+i+": "+MPS[i]+"\nCurrent state: "+states[state]+"\n");}for(i=0;i<n;++i){z=MPS[i];var w0=z.match(/\S*/g);var w=[];for(j=0;j<w0.length;++j)if(w0[j]!=="")w.push(w0[j]);if(w.length===0)continue;
for(j=0;j<states.length;++j)if(z.substr(0,states[j].length)===states[j])break;if(j<states.length){state=j;if(j===1)name=w[1];if(j===6)return{name:name,c:c,A:numeric.transpose(A),b:b,rows:rows,vars:vars};continue}switch(state){case 0:case 1:err("Unexpected line");case 2:switch(w[0]){case "N":if(N===0)N=w[1];else err("Two or more N rows");break;case "L":rows[w[1]]=rl;sign[rl]=1;b[rl]=0;++rl;break;case "G":rows[w[1]]=rl;sign[rl]=-1;b[rl]=0;++rl;break;case "E":rows[w[1]]=rl;sign[rl]=0;b[rl]=0;++rl;break;
default:err("Parse error "+numeric.prettyPrint(w))}break;case 3:if(!vars.hasOwnProperty(w[0])){vars[w[0]]=nv;c[nv]=0;A[nv]=numeric.rep([rl],0);++nv}var p=vars[w[0]];for(j=1;j<w.length;j+=2){if(w[j]===N){c[p]=parseFloat(w[j+1]);continue}var q=rows[w[j]];A[p][q]=(sign[q]<0?-1:1)*parseFloat(w[j+1])}break;case 4:for(j=1;j<w.length;j+=2)b[rows[w[j]]]=(sign[rows[w[j]]]<0?-1:1)*parseFloat(w[j+1]);break;case 5:break;case 6:err("Internal error")}}err("Reached end of file without ENDATA")};
numeric.seedrandom={pow:Math.pow,random:Math.random};
(function(pool,math,width,chunks,significance,overflow,startdenom){math["seedrandom"]=function seedrandom(seed,use_entropy){var key=[];var arc4;seed=mixkey(flatten(use_entropy?[seed,pool]:arguments.length?seed:[(new Date).getTime(),pool,window],3),key);arc4=new ARC4(key);mixkey(arc4.S,pool);math["random"]=function random(){var n=arc4.g(chunks);var d=startdenom;var x=0;while(n<significance){n=(n+x)*width;d*=width;x=arc4.g(1)}while(n>=overflow){n/=2;d/=2;x>>>=1}return(n+x)/d};return seed};function ARC4(key){var t,
u,me=this,keylen=key.length;var i=0,j=me.i=me.j=me.m=0;me.S=[];me.c=[];if(!keylen)key=[keylen++];while(i<width)me.S[i]=i++;for(i=0;i<width;i++){t=me.S[i];j=lowbits(j+t+key[i%keylen]);u=me.S[j];me.S[i]=u;me.S[j]=t}me.g=function getnext(count){var s=me.S;var i=lowbits(me.i+1);var t=s[i];var j=lowbits(me.j+t);var u=s[j];s[i]=u;s[j]=t;var r=s[lowbits(t+u)];while(--count){i=lowbits(i+1);t=s[i];j=lowbits(j+t);u=s[j];s[i]=u;s[j]=t;r=r*width+s[lowbits(t+u)]}me.i=i;me.j=j;return r};me.g(width)}function flatten(obj,
depth,result,prop,typ){result=[];typ=typeof obj;if(depth&&typ=="object")for(prop in obj)if(prop.indexOf("S")<5)try{result.push(flatten(obj[prop],depth-1))}catch(e){}return result.length?result:obj+(typ!="string"?"\x00":"")}function mixkey(seed,key,smear,j){seed+="";smear=0;for(j=0;j<seed.length;j++)key[lowbits(j)]=lowbits((smear^=key[lowbits(j)]*19)+seed.charCodeAt(j));seed="";for(j in key)seed+=String.fromCharCode(key[j]);return seed}function lowbits(n){return n&width-1}startdenom=math.pow(width,
chunks);significance=math.pow(2,significance);overflow=significance*2;mixkey(math.random(),pool)})([],numeric.seedrandom,256,6,52);
(function(exports){function base0to1(A){if(typeof A!=="object")return A;var ret=[],i,n=A.length;for(i=0;i<n;i++)ret[i+1]=base0to1(A[i]);return ret}function base1to0(A){if(typeof A!=="object")return A;var ret=[],i,n=A.length;for(i=1;i<n;i++)ret[i-1]=base1to0(A[i]);return ret}function dpori(a,lda,n){var i,j,k,kp1,t;for(k=1;k<=n;k=k+1){a[k][k]=1/a[k][k];t=-a[k][k];for(i=1;i<k;i=i+1)a[i][k]=t*a[i][k];kp1=k+1;if(n<kp1)break;for(j=kp1;j<=n;j=j+1){t=a[k][j];a[k][j]=0;for(i=1;i<=k;i=i+1)a[i][j]=a[i][j]+t*
a[i][k]}}}function dposl(a,lda,n,b){var i,k,kb,t;for(k=1;k<=n;k=k+1){t=0;for(i=1;i<k;i=i+1)t=t+a[i][k]*b[i];b[k]=(b[k]-t)/a[k][k]}for(kb=1;kb<=n;kb=kb+1){k=n+1-kb;b[k]=b[k]/a[k][k];t=-b[k];for(i=1;i<k;i=i+1)b[i]=b[i]+t*a[i][k]}}function dpofa(a,lda,n,info){var i,j,jm1,k,t,s;for(j=1;j<=n;j=j+1){info[1]=j;s=0;jm1=j-1;if(jm1<1){s=a[j][j]-s;if(s<=0)break;a[j][j]=Math.sqrt(s)}else{for(k=1;k<=jm1;k=k+1){t=a[k][j];for(i=1;i<k;i=i+1)t=t-a[i][j]*a[i][k];t=t/a[k][k];a[k][j]=t;s=s+t*t}s=a[j][j]-s;if(s<=0)break;
a[j][j]=Math.sqrt(s)}info[1]=0}}function qpgen2(dmat,dvec,fddmat,n,sol,crval,amat,bvec,fdamat,q,meq,iact,nact,iter,work,ierr){var i,j,l,l1,info,it1,iwzv,iwrv,iwrm,iwsv,iwuv,nvl,r,iwnbv,temp,sum,t1,tt,gc,gs,nu,t1inf,t2min,vsmall,tmpa,tmpb,go;r=Math.min(n,q);l=2*n+r*(r+5)/2+2*q+1;vsmall=1E-60;do{vsmall=vsmall+vsmall;tmpa=1+.1*vsmall;tmpb=1+.2*vsmall}while(tmpa<=1||tmpb<=1);for(i=1;i<=n;i=i+1)work[i]=dvec[i];for(i=n+1;i<=l;i=i+1)work[i]=0;for(i=1;i<=q;i=i+1)iact[i]=0;info=[];if(ierr[1]===0){dpofa(dmat,
fddmat,n,info);if(info[1]!==0){ierr[1]=2;return}dposl(dmat,fddmat,n,dvec);dpori(dmat,fddmat,n)}else{for(j=1;j<=n;j=j+1){sol[j]=0;for(i=1;i<=j;i=i+1)sol[j]=sol[j]+dmat[i][j]*dvec[i]}for(j=1;j<=n;j=j+1){dvec[j]=0;for(i=j;i<=n;i=i+1)dvec[j]=dvec[j]+dmat[j][i]*sol[i]}}crval[1]=0;for(j=1;j<=n;j=j+1){sol[j]=dvec[j];crval[1]=crval[1]+work[j]*sol[j];work[j]=0;for(i=j+1;i<=n;i=i+1)dmat[i][j]=0}crval[1]=-crval[1]/2;ierr[1]=0;iwzv=n;iwrv=iwzv+n;iwuv=iwrv+r;iwrm=iwuv+r+1;iwsv=iwrm+r*(r+1)/2;iwnbv=iwsv+q;for(i=
1;i<=q;i=i+1){sum=0;for(j=1;j<=n;j=j+1)sum=sum+amat[j][i]*amat[j][i];work[iwnbv+i]=Math.sqrt(sum)}nact=0;iter[1]=0;iter[2]=0;function fn_goto_50(){iter[1]=iter[1]+1;l=iwsv;for(i=1;i<=q;i=i+1){l=l+1;sum=-bvec[i];for(j=1;j<=n;j=j+1)sum=sum+amat[j][i]*sol[j];if(Math.abs(sum)<vsmall)sum=0;if(i>meq)work[l]=sum;else{work[l]=-Math.abs(sum);if(sum>0){for(j=1;j<=n;j=j+1)amat[j][i]=-amat[j][i];bvec[i]=-bvec[i]}}}for(i=1;i<=nact;i=i+1)work[iwsv+iact[i]]=0;nvl=0;temp=0;for(i=1;i<=q;i=i+1)if(work[iwsv+i]<temp*
work[iwnbv+i]){nvl=i;temp=work[iwsv+i]/work[iwnbv+i]}if(nvl===0)return 999;return 0}function fn_goto_55(){for(i=1;i<=n;i=i+1){sum=0;for(j=1;j<=n;j=j+1)sum=sum+dmat[j][i]*amat[j][nvl];work[i]=sum}l1=iwzv;for(i=1;i<=n;i=i+1)work[l1+i]=0;for(j=nact+1;j<=n;j=j+1)for(i=1;i<=n;i=i+1)work[l1+i]=work[l1+i]+dmat[i][j]*work[j];t1inf=true;for(i=nact;i>=1;i=i-1){sum=work[i];l=iwrm+i*(i+3)/2;l1=l-i;for(j=i+1;j<=nact;j=j+1){sum=sum-work[l]*work[iwrv+j];l=l+j}sum=sum/work[l1];work[iwrv+i]=sum;if(iact[i]<meq)break;
if(sum<0)break;t1inf=false;it1=i}if(!t1inf){t1=work[iwuv+it1]/work[iwrv+it1];for(i=1;i<=nact;i=i+1){if(iact[i]<meq)break;if(work[iwrv+i]<0)break;temp=work[iwuv+i]/work[iwrv+i];if(temp<t1){t1=temp;it1=i}}}sum=0;for(i=iwzv+1;i<=iwzv+n;i=i+1)sum=sum+work[i]*work[i];if(Math.abs(sum)<=vsmall)if(t1inf){ierr[1]=1;return 999}else{for(i=1;i<=nact;i=i+1)work[iwuv+i]=work[iwuv+i]-t1*work[iwrv+i];work[iwuv+nact+1]=work[iwuv+nact+1]+t1;return 700}else{sum=0;for(i=1;i<=n;i=i+1)sum=sum+work[iwzv+i]*amat[i][nvl];
tt=-work[iwsv+nvl]/sum;t2min=true;if(!t1inf)if(t1<tt){tt=t1;t2min=false}for(i=1;i<=n;i=i+1){sol[i]=sol[i]+tt*work[iwzv+i];if(Math.abs(sol[i])<vsmall)sol[i]=0}crval[1]=crval[1]+tt*sum*(tt/2+work[iwuv+nact+1]);for(i=1;i<=nact;i=i+1)work[iwuv+i]=work[iwuv+i]-tt*work[iwrv+i];work[iwuv+nact+1]=work[iwuv+nact+1]+tt;if(t2min){nact=nact+1;iact[nact]=nvl;l=iwrm+(nact-1)*nact/2+1;for(i=1;i<=nact-1;i=i+1){work[l]=work[i];l=l+1}if(nact===n)work[l]=work[n];else{for(i=n;i>=nact+1;i=i-1){if(work[i]===0)break;gc=
Math.max(Math.abs(work[i-1]),Math.abs(work[i]));gs=Math.min(Math.abs(work[i-1]),Math.abs(work[i]));if(work[i-1]>=0)temp=Math.abs(gc*Math.sqrt(1+gs*gs/(gc*gc)));else temp=-Math.abs(gc*Math.sqrt(1+gs*gs/(gc*gc)));gc=work[i-1]/temp;gs=work[i]/temp;if(gc===1)break;if(gc===0){work[i-1]=gs*temp;for(j=1;j<=n;j=j+1){temp=dmat[j][i-1];dmat[j][i-1]=dmat[j][i];dmat[j][i]=temp}}else{work[i-1]=temp;nu=gs/(1+gc);for(j=1;j<=n;j=j+1){temp=gc*dmat[j][i-1]+gs*dmat[j][i];dmat[j][i]=nu*(dmat[j][i-1]+temp)-dmat[j][i];
dmat[j][i-1]=temp}}}work[l]=work[nact]}}else{sum=-bvec[nvl];for(j=1;j<=n;j=j+1)sum=sum+sol[j]*amat[j][nvl];if(nvl>meq)work[iwsv+nvl]=sum;else{work[iwsv+nvl]=-Math.abs(sum);if(sum>0){for(j=1;j<=n;j=j+1)amat[j][nvl]=-amat[j][nvl];bvec[nvl]=-bvec[nvl]}}return 700}}return 0}function fn_goto_797(){l=iwrm+it1*(it1+1)/2+1;l1=l+it1;if(work[l1]===0)return 798;gc=Math.max(Math.abs(work[l1-1]),Math.abs(work[l1]));gs=Math.min(Math.abs(work[l1-1]),Math.abs(work[l1]));if(work[l1-1]>=0)temp=Math.abs(gc*Math.sqrt(1+
gs*gs/(gc*gc)));else temp=-Math.abs(gc*Math.sqrt(1+gs*gs/(gc*gc)));gc=work[l1-1]/temp;gs=work[l1]/temp;if(gc===1)return 798;if(gc===0){for(i=it1+1;i<=nact;i=i+1){temp=work[l1-1];work[l1-1]=work[l1];work[l1]=temp;l1=l1+i}for(i=1;i<=n;i=i+1){temp=dmat[i][it1];dmat[i][it1]=dmat[i][it1+1];dmat[i][it1+1]=temp}}else{nu=gs/(1+gc);for(i=it1+1;i<=nact;i=i+1){temp=gc*work[l1-1]+gs*work[l1];work[l1]=nu*(work[l1-1]+temp)-work[l1];work[l1-1]=temp;l1=l1+i}for(i=1;i<=n;i=i+1){temp=gc*dmat[i][it1]+gs*dmat[i][it1+
1];dmat[i][it1+1]=nu*(dmat[i][it1]+temp)-dmat[i][it1+1];dmat[i][it1]=temp}}return 0}function fn_goto_798(){l1=l-it1;for(i=1;i<=it1;i=i+1){work[l1]=work[l];l=l+1;l1=l1+1}work[iwuv+it1]=work[iwuv+it1+1];iact[it1]=iact[it1+1];it1=it1+1;if(it1<nact)return 797;return 0}function fn_goto_799(){work[iwuv+nact]=work[iwuv+nact+1];work[iwuv+nact+1]=0;iact[nact]=0;nact=nact-1;iter[2]=iter[2]+1;return 0}go=0;while(true){go=fn_goto_50();if(go===999)return;while(true){go=fn_goto_55();if(go===0)break;if(go===999)return;
if(go===700)if(it1===nact)fn_goto_799();else{while(true){fn_goto_797();go=fn_goto_798();if(go!==797)break}fn_goto_799()}}}}function solveQP(Dmat,dvec,Amat,bvec,meq,factorized){Dmat=base0to1(Dmat);dvec=base0to1(dvec);Amat=base0to1(Amat);var i,n,q,nact,r,crval=[],iact=[],sol=[],work=[],iter=[],message;meq=meq||0;factorized=factorized?base0to1(factorized):[undefined,0];bvec=bvec?base0to1(bvec):[];n=Dmat.length-1;q=Amat[1].length-1;if(!bvec)for(i=1;i<=q;i=i+1)bvec[i]=0;for(i=1;i<=q;i=i+1)iact[i]=0;nact=
0;r=Math.min(n,q);for(i=1;i<=n;i=i+1)sol[i]=0;crval[1]=0;for(i=1;i<=2*n+r*(r+5)/2+2*q+1;i=i+1)work[i]=0;for(i=1;i<=2;i=i+1)iter[i]=0;qpgen2(Dmat,dvec,n,n,sol,crval,Amat,bvec,n,q,meq,iact,nact,iter,work,factorized);message="";if(factorized[1]===1)message="constraints are inconsistent, no solution!";if(factorized[1]===2)message="matrix D in quadratic function is not positive definite!";return{solution:base1to0(sol),value:base1to0(crval),unconstrained_solution:base1to0(dvec),iterations:base1to0(iter),
iact:base1to0(iact),message:message}}exports.solveQP=solveQP})(numeric);
numeric.svd=function svd(A){var temp;var prec=numeric.epsilon;var tolerance=1E-64/prec;var itmax=50;var c=0;var i=0;var j=0;var k=0;var l=0;var u=numeric.clone(A);var m=u.length;var n=u[0].length;if(m<n)throw"Need more rows than columns";var e=new Array(n);var q=new Array(n);for(i=0;i<n;i++)e[i]=q[i]=0;var v=numeric.rep([n,n],0);function pythag(a,b){a=Math.abs(a);b=Math.abs(b);if(a>b)return a*Math.sqrt(1+b*b/a/a);else if(b==0)return a;return b*Math.sqrt(1+a*a/b/b)}var f=0;var g=0;var h=0;var x=0;
var y=0;var z=0;var s=0;for(i=0;i<n;i++){e[i]=g;s=0;l=i+1;for(j=i;j<m;j++)s+=u[j][i]*u[j][i];if(s<=tolerance)g=0;else{f=u[i][i];g=Math.sqrt(s);if(f>=0)g=-g;h=f*g-s;u[i][i]=f-g;for(j=l;j<n;j++){s=0;for(k=i;k<m;k++)s+=u[k][i]*u[k][j];f=s/h;for(k=i;k<m;k++)u[k][j]+=f*u[k][i]}}q[i]=g;s=0;for(j=l;j<n;j++)s=s+u[i][j]*u[i][j];if(s<=tolerance)g=0;else{f=u[i][i+1];g=Math.sqrt(s);if(f>=0)g=-g;h=f*g-s;u[i][i+1]=f-g;for(j=l;j<n;j++)e[j]=u[i][j]/h;for(j=l;j<m;j++){s=0;for(k=l;k<n;k++)s+=u[j][k]*u[i][k];for(k=
l;k<n;k++)u[j][k]+=s*e[k]}}y=Math.abs(q[i])+Math.abs(e[i]);if(y>x)x=y}for(i=n-1;i!=-1;i+=-1){if(g!=0){h=g*u[i][i+1];for(j=l;j<n;j++)v[j][i]=u[i][j]/h;for(j=l;j<n;j++){s=0;for(k=l;k<n;k++)s+=u[i][k]*v[k][j];for(k=l;k<n;k++)v[k][j]+=s*v[k][i]}}for(j=l;j<n;j++){v[i][j]=0;v[j][i]=0}v[i][i]=1;g=e[i];l=i}for(i=n-1;i!=-1;i+=-1){l=i+1;g=q[i];for(j=l;j<n;j++)u[i][j]=0;if(g!=0){h=u[i][i]*g;for(j=l;j<n;j++){s=0;for(k=l;k<m;k++)s+=u[k][i]*u[k][j];f=s/h;for(k=i;k<m;k++)u[k][j]+=f*u[k][i]}for(j=i;j<m;j++)u[j][i]=
u[j][i]/g}else for(j=i;j<m;j++)u[j][i]=0;u[i][i]+=1}prec=prec*x;for(k=n-1;k!=-1;k+=-1)for(var iteration=0;iteration<itmax;iteration++){var test_convergence=false;for(l=k;l!=-1;l+=-1){if(Math.abs(e[l])<=prec){test_convergence=true;break}if(Math.abs(q[l-1])<=prec)break}if(!test_convergence){c=0;s=1;var l1=l-1;for(i=l;i<k+1;i++){f=s*e[i];e[i]=c*e[i];if(Math.abs(f)<=prec)break;g=q[i];h=pythag(f,g);q[i]=h;c=g/h;s=-f/h;for(j=0;j<m;j++){y=u[j][l1];z=u[j][i];u[j][l1]=y*c+z*s;u[j][i]=-y*s+z*c}}}z=q[k];if(l==
k){if(z<0){q[k]=-z;for(j=0;j<n;j++)v[j][k]=-v[j][k]}break}if(iteration>=itmax-1)throw"Error: no convergence.";x=q[l];y=q[k-1];g=e[k-1];h=e[k];f=((y-z)*(y+z)+(g-h)*(g+h))/(2*h*y);g=pythag(f,1);if(f<0)f=((x-z)*(x+z)+h*(y/(f-g)-h))/x;else f=((x-z)*(x+z)+h*(y/(f+g)-h))/x;c=1;s=1;for(i=l+1;i<k+1;i++){g=e[i];y=q[i];h=s*g;g=c*g;z=pythag(f,h);e[i-1]=z;c=f/z;s=h/z;f=x*c+g*s;g=-x*s+g*c;h=y*s;y=y*c;for(j=0;j<n;j++){x=v[j][i-1];z=v[j][i];v[j][i-1]=x*c+z*s;v[j][i]=-x*s+z*c}z=pythag(f,h);q[i-1]=z;c=f/z;s=h/z;f=
c*g+s*y;x=-s*g+c*y;for(j=0;j<m;j++){y=u[j][i-1];z=u[j][i];u[j][i-1]=y*c+z*s;u[j][i]=-y*s+z*c}}e[l]=0;e[k]=f;q[k]=x}for(i=0;i<q.length;i++)if(q[i]<prec)q[i]=0;for(i=0;i<n;i++)for(j=i-1;j>=0;j--)if(q[j]<q[i]){c=q[j];q[j]=q[i];q[i]=c;for(k=0;k<u.length;k++){temp=u[k][i];u[k][i]=u[k][j];u[k][j]=temp}for(k=0;k<v.length;k++){temp=v[k][i];v[k][i]=v[k][j];v[k][j]=temp}i=j}return{U:u,S:q,V:v}};</script><script>(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.weblas = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
function sgemm(e,t,l,a,r,c,u,n){if(null!=n&&n.length!=t)throw new Error("Only vector C with length matching rows in A is currently supported.");var o,s=r,i=n;o=transpose(l,t,c);var g=gl.createDataTexture(e,l,s),p=gl.createDataTexture(t,l,o),x=null;null!=i&&(x=gl.createDataTexture(1,t,i));var d=gl.createOutputTexture(e,t);return sgemmcalculator.calculate(e,t,l,a,g,p,u,x,d),rawBuffer=gl.readData(e,t),gl.context.deleteTexture(g),gl.context.deleteTexture(p),null!=x&&gl.context.deleteTexture(x),gl.context.deleteTexture(d),new Float32Array(rawBuffer)}function saxpy(e,t,l,a){var r,c,u=l;isFloat32Array(a)?c=a:(c=new Float32Array(e),c.fill(a));var n=gl.createDataTexture(1,e,u),o=gl.createDataTexture(1,e,c),s=gl.createOutputTexture(1,e);return saxpycalculator.calculate(e,t,n,o,s),r=gl.readData(1,e),gl.context.deleteTexture(n),gl.context.deleteTexture(o),gl.context.deleteTexture(s),new Float32Array(r)}function isFloat32Array(e){return"[object Float32Array]"===Object.prototype.toString.call(e)}function sscal(e,t,l,a,r){var c,u=r,n=gl.createDataTexture(e,t,u),o=gl.createOutputTexture(e,t);return sscalcalculator.calculate(e,t,l,a,n,o),c=gl.readData(e,t),gl.context.deleteTexture(n),gl.context.deleteTexture(o),new Float32Array(c)}function sstd(e,t,l,a,r){var c,u=r,n=gl.createDataTexture(e,t,u),o=gl.createOutputTexture(e,t);return sscalcalculator.calculate(e,t,1/a,-1*l/a,n,o),c=gl.readData(e,t),gl.context.deleteTexture(n),gl.context.deleteTexture(o),new Float32Array(c)}function sdwns(e,t,l,a,r,c){var u=gl.createDataTexture(e,t*l,c),n=Math.floor((t-a)/r)+1,o=Math.floor((e-a)/r)+1,s=gl.createOutputTexture(o,n*l);return sdwnscalculator.calculate(e,t,l,a,r,u,s),rawBuffer=gl.readData(o,n*l),gl.context.deleteTexture(u),gl.context.deleteTexture(s),new Float32Array(rawBuffer)}function sclmp(e,t,l,a,r){l=null!=l?l:Number.MIN_VALUE,a=null!=a?a:Number.MAX_VALUE;var c,u=r,n=gl.createDataTexture(e,t,u),o=gl.createOutputTexture(e,t);return sclmpcalculator.calculate(e,t,l,a,n,o),c=gl.readData(e,t),gl.context.deleteTexture(n),gl.context.deleteTexture(o),new Float32Array(c)}function isNumeric(e){return e-parseFloat(e)+1>=0}function fromArray(e,t,l){var a,r,c=[];l?(c[1]=e.length,c[0]=e[0].length):(c[0]=e.length,c[1]=e[0].length),r=c[1],t=t||Float32Array,a=new t(c[0]*c[1]);for(var u=0;u<c[0];++u)for(var n=0;n<c[1];++n)l?a[u*r+n]=e[n][u]:a[u*r+n]=e[u][n];return a}function transpose(e,t,l){for(var a=new l.constructor(e*t),r=0;e>r;r++)for(var c=0;t>c;c++)a[c*e+r]=l[r*t+c];return a}var globals=require("./lib/globals"),pipeline=require("./lib/pipeline"),SGEMMCalculator=require("./lib/sgemmcalculator"),SAXPYCalculator=require("./lib/saxpycalculator"),SSCALCalculator=require("./lib/sscalcalculator"),SDWNSCalculator=require("./lib/sdwnscalculator"),SCLMPCalculator=require("./lib/sclmpcalculator"),test=require("./lib/test"),gl=globals.gl,sgemmcalculator=new SGEMMCalculator(gl),saxpycalculator=new SAXPYCalculator(gl),sscalcalculator=new SSCALCalculator(gl),sdwnscalculator=new SDWNSCalculator(gl),sclmpcalculator=new SCLMPCalculator(gl);module.exports={saxpy:saxpy,sscal:sscal,sgemm:sgemm,sstd:sstd,sdwns:sdwns,sclmp:sclmp,pipeline:pipeline,gpu:{gl:gl,sgemm:pipeline.sgemmcalculator.calculate.bind(pipeline.sgemmcalculator),sscal:pipeline.sscalcalculator.calculate.bind(pipeline.sscalcalculator),sclmp:pipeline.sclmpcalculator.calculate.bind(pipeline.sclmpcalculator),sdwns:pipeline.sdwnscalculator.calculate.bind(pipeline.sdwnscalculator),encode:gl.encode.bind(gl)},util:{fromArray:fromArray,transpose:transpose},test:test},String.prototype.format||(String.prototype.format=function(){var e=arguments;return this.replace(/{(\d+)}/g,function(t,l){return"undefined"!=typeof e[l]?e[l]:t})});
},{"./lib/globals":2,"./lib/pipeline":3,"./lib/saxpycalculator":4,"./lib/sclmpcalculator":5,"./lib/sdwnscalculator":6,"./lib/sgemmcalculator":7,"./lib/sscalcalculator":8,"./lib/test":10}],2:[function(require,module,exports){
var WebGL=require("./webgl"),gl=new WebGL;module.exports={gl:gl};
},{"./webgl":11}],3:[function(require,module,exports){
function sscal(l,a,e){var r=e.shape[0],s=e.shape[1],c=new Tensor([r,s],null);return sscalcalculator.calculate(r,s,l,a,e.texture,c.texture),c}function sgemm(l,a,e,r,s){if(e.shape[1]!==a.shape[1])throw new Error("Second dimension must be of same size for input Tensors (second Tensor is transposed).");var c,t=a.shape[0],u=e.shape[0],o=a.shape[1];c=s?s.texture:null;var n=new Tensor([t,u],null);return sgemmcalculator.calculate(t,u,o,l,a.texture,e.texture,r,c,n.texture),n}function sdwns(l,a,e,r){if(r.shape[1]%l!==0)throw new Error("Second dimension of tensor must be a multiple of channels");var s=r.shape[0],c=r.shape[1]/l,t=Math.floor((s-a)/e)+1,u=Math.floor((c-a)/e)+1,o=new Tensor([t,u*l],null);return sdwnscalculator.calculate(s,c,l,a,e,r.texture,o.texture),o}function sclmp(l,a,e){l=null!=l?l:Number.MIN_VALUE,a=null!=a?a:Number.MAX_VALUE;var r=e.shape[0],s=e.shape[1],c=new Tensor([r,s],null);return sclmpcalculator.calculate(r,s,l,a,e.texture,c.texture),c}var globals=require("./globals"),SGEMMCalculator=require("./sgemmcalculator"),SAXPYCalculator=require("./saxpycalculator"),SSCALCalculator=require("./sscalcalculator"),SDWNSCalculator=require("./sdwnscalculator"),SCLMPCalculator=require("./sclmpcalculator"),Tensor=require("./tensor"),gl=globals.gl,sgemmcalculator=new SGEMMCalculator(gl,!1),saxpycalculator=new SAXPYCalculator(gl,!1),sscalcalculator=new SSCALCalculator(gl,!1),sdwnscalculator=new SDWNSCalculator(gl,!1),sclmpcalculator=new SCLMPCalculator(gl,!1);module.exports={Tensor:Tensor,sscal:sscal,sgemm:sgemm,sdwns:sdwns,sclmp:sclmp,sgemmcalculator:sgemmcalculator,saxpycalculator:saxpycalculator,sscalcalculator:sscalcalculator,sdwnscalculator:sdwnscalculator,sclmpcalculator:sclmpcalculator};
},{"./globals":2,"./saxpycalculator":4,"./sclmpcalculator":5,"./sdwnscalculator":6,"./sgemmcalculator":7,"./sscalcalculator":8,"./tensor":9}],4:[function(require,module,exports){
function SAXPYCalculator(t,n){this.webgl=t,this.standalone=n||!0;var e="#define GLSLIFY 1\nprecision highp float;\n\nvarying vec2      outTex;	// texture coords of row/column to calculate\nuniform sampler2D X;		// texture with data from padded A\nuniform sampler2D Y;		// texture with data from padded transpose of B\nuniform int       N;\nuniform float     a; 		// coefficient to multiplication\n\n// Render float to bytes according to IEEE 754 Floating Point\nvec4 encode_float_1540259130(float val) {\n\n	// TODO: correctly handle denormal numbers\n	// http://www.2ality.com/2012/04/number-encoding.html\n	float a = abs(val);                           // encode absolute value + sign\n	float exp = floor(log2(a));                 // number of powers of 2\n	float mant = pow(2.,log2(a)-exp) * pow(2.,23.);  // multiply to fill 24 bits (implied leading 1)\n	float mant1 = floor(mant / 256. / 256.);    // first 8 bits of mantissa\n	float mant2 = mod(floor(mant / 256.),256.); // second 8 bits\n	float mant3 = mod(mant,256.);               // third 8 bits\n\n	highp float sign = 128.-128.*(a/val);			// sign bit is 256 or 0\n	highp float e = (sign+exp+127.)/510.;		// exponent and sign\n	highp float m1 = (mant1-(128.*(1.-mod(exp+127.,2.))))/255.; // handle leading bit\n	highp float m2 = (mant2)/255.;				// middle part\n	highp float m3 = (mant3+.5)/255.;			// scale to 0 - 255\n\n	return vec4(m3,m2,m1,e);\n}\n\n// select an element from a vector based on index\nfloat select_index_1604150559(vec4 v, int index){\n	float val;\n	if (index == 0) {\n		val = v.r;\n	} else if(index == 1) {\n		val = v.g;\n	} else if(index == 2) {\n		val = v.b;\n	} else if(index == 3){\n		val = v.a;\n	} else {\n		// should never be here\n		val = 0.0;\n	}\n\n	return val;\n}\n\nvoid main(void) {\n\n	// get the implied row and column from .y and .x of passed (output)\n	// texture coordinate. These map directly to input texture space when\n	// the relevant dimensions are the same.\n 	float row = outTex.y;\n	float col = outTex.x;\n\n	// direct usage of col requires output be padded exactly like input\n	vec4 x = texture2D( X, vec2(col, row));\n	vec4 y = texture2D( Y, vec2(col, row));\n	vec4 sum_v = (a * x) + y;\n	int channel = int(mod(col * float(N), 4.0 ));\n	float sum = select_index_1604150559(sum_v, channel);\n\n	if (sum == 0.) {\n		gl_FragColor = vec4(0.,0.,0.,0.);\n		return;\n	}\n\n 	// output vec4 with bytes for an IEEE754 32-bit floating point number\n	gl_FragColor = encode_float_1540259130(sum);\n}\n";this.standalone?this.program=this.webgl.createProgram(e):this.program=this.webgl.createProgram(p)}var WebGL=require("./webgl");module.exports=SAXPYCalculator,SAXPYCalculator.TEXTURE_UNIFORM_NAME_0="X",SAXPYCalculator.TEXTURE_UNIFORM_NAME_1="Y",SAXPYCalculator.LENGTH_UNIFORM_NAME="N",SAXPYCalculator.COEFFICIENT_UNIFORM_NAME="a",SAXPYCalculator.prototype.calculate=function(t,n,e,o,a){var l=this.webgl.context;this.webgl.selectProgram(this.program),this.bindInputTexture(e,l.TEXTURE0,SAXPYCalculator.TEXTURE_UNIFORM_NAME_0),this.bindInputTexture(o,l.TEXTURE1,SAXPYCalculator.TEXTURE_UNIFORM_NAME_1);var i=this.webgl.getPad(t);this.bindUniforms(t+i,n),this.webgl.bindOutputTexture(1,t+i,a),l.drawElements(l.TRIANGLES,6,l.UNSIGNED_SHORT,0),this.webgl.unbindInputTexture(l.TEXTURE0),this.webgl.unbindInputTexture(l.TEXTURE1)},SAXPYCalculator.prototype.bindInputTexture=function(t,n,e){var o=this.webgl.context,a=this.program;o.activeTexture(n),o.bindTexture(o.TEXTURE_2D,t);var l=o.getUniformLocation(a,e);o.uniform1i(l,n-o.TEXTURE0)},SAXPYCalculator.prototype.bindUniforms=function(t,n){var e=this.webgl.context,o=e.getUniformLocation(this.program,SAXPYCalculator.LENGTH_UNIFORM_NAME),a=e.getUniformLocation(this.program,SAXPYCalculator.COEFFICIENT_UNIFORM_NAME);e.uniform1i(o,t),e.uniform1f(a,n)};
},{"./webgl":11}],5:[function(require,module,exports){
function SCLMPCalculator(n,t){this.webgl=n,this.standalone=null!=t?t:!0;var e="#define GLSLIFY 1\nprecision highp float;\n\nvarying vec2      outTex;	// texture coords of row/column to calculate\nuniform sampler2D X;		// texture with data from padded A\nuniform int       N;		// number of columns\nuniform int       pad;		// additional columns to nearest multiple of four\nuniform float     a; 		// lower bound\nuniform float     b; 		// upper bound\n\n// Render float to bytes according to IEEE 754 Floating Point\nvec4 encode_float_1540259130(float val) {\n\n	// TODO: correctly handle denormal numbers\n	// http://www.2ality.com/2012/04/number-encoding.html\n	float a = abs(val);                           // encode absolute value + sign\n	float exp = floor(log2(a));                 // number of powers of 2\n	float mant = pow(2.,log2(a)-exp) * pow(2.,23.);  // multiply to fill 24 bits (implied leading 1)\n	float mant1 = floor(mant / 256. / 256.);    // first 8 bits of mantissa\n	float mant2 = mod(floor(mant / 256.),256.); // second 8 bits\n	float mant3 = mod(mant,256.);               // third 8 bits\n\n	highp float sign = 128.-128.*(a/val);			// sign bit is 256 or 0\n	highp float e = (sign+exp+127.)/510.;		// exponent and sign\n	highp float m1 = (mant1-(128.*(1.-mod(exp+127.,2.))))/255.; // handle leading bit\n	highp float m2 = (mant2)/255.;				// middle part\n	highp float m3 = (mant3+.5)/255.;			// scale to 0 - 255\n\n	return vec4(m3,m2,m1,e);\n}\n\n// select an element from a vector based on index\nfloat select_index_1604150559(vec4 v, int index){\n	float val;\n	if (index == 0) {\n		val = v.r;\n	} else if(index == 1) {\n		val = v.g;\n	} else if(index == 2) {\n		val = v.b;\n	} else if(index == 3){\n		val = v.a;\n	} else {\n		// should never be here\n		val = 0.0;\n	}\n\n	return val;\n}\n\nvoid main(void) {\n\n	// get the implied row and column from .y and .x of passed (output)\n	// texture coordinate. These map directly to input texture space when\n	// the relevant dimensions are the same.\n	float row = outTex.y;\n	float col = outTex.x;\n\n	// return 0.0 if in padded region of output texture\n	if(col * float(N + pad) > float(N) ) {\n		gl_FragColor = vec4(0.,0.,0.,0.);\n		return;\n	}\n\n	// direct usage of col requires output be padded exactly like input\n	vec4 x = texture2D( X, vec2(col, row));\n	vec4 val = clamp(x, a, b);\n\n	// select and output channel (standalone version only)\n	int channel = int(mod(col * float(N + pad), 4.0));\n	float sum = select_index_1604150559(val, channel);\n\n	if (sum == 0.) {\n		gl_FragColor = vec4(0.,0.,0.,0.);\n		return;\n	}\n\n	// output vec4 with bytes for an IEEE754 32-bit floating point number\n	gl_FragColor = encode_float_1540259130(sum);\n}\n",o="#define GLSLIFY 1\nprecision highp float;\n\nvarying vec2      outTex;	// texture coords of row/column to calculate\nuniform sampler2D X;		// texture with data from padded A\nuniform int       N;		// number of columns\nuniform int       pad;		// additional columns to nearest multiple of four\nuniform float     a; 		// lower bound\nuniform float     b; 		// upper bound\n\n// set pad values to 0.0, if in padded region of output texture\nvoid fix_pad_1540259130(inout vec4 v, int pad){\n	v.a = 0.0;\n	if(pad == 2){\n		v.b = 0.0;\n	} else if(pad == 3){\n		v.b = 0.0;\n		v.g = 0.0;\n	}\n}\n\nvoid main(void) {\n\n	// get the implied row and column from .y and .x of passed (output)\n	// texture coordinate. These map directly to input texture space when\n	// the relevant dimensions are the same.\n	float row_t = outTex.y;\n	float col_t = outTex.x;\n	float col = (col_t * float(N + pad) - 2.0); // index of first element in pixel (matrix space)\n\n	// direct usage of col requires output be padded exactly like input\n	vec4 x = texture2D( X, vec2(col_t, row_t));\n	vec4 val_v = clamp(x, a, b);\n\n	// is last element in pixel past row length?\n	if(pad > 0 && (col + 4.0) > float(N) ) {\n		// fix elements in padded region\n		fix_pad_1540259130(val_v, pad);\n	}\n\n	gl_FragColor = val_v;\n}\n";this.standalone?this.program=this.webgl.createProgram(e):this.program=this.webgl.createProgram(o)}var WebGL=require("./webgl");module.exports=SCLMPCalculator,SCLMPCalculator.TEXTURE_UNIFORM_NAME_0="X",SCLMPCalculator.LENGTH_UNIFORM_NAME="N",SCLMPCalculator.LOWER_UNIFORM_NAME="a",SCLMPCalculator.UPPER_UNIFORM_NAME="b",SCLMPCalculator.prototype.calculate=function(n,t,e,o,a,l){e=null!=e?e:Number.MIN_VALUE,o=null!=o?o:Number.MAX_VALUE;var i=this.webgl.context;this.webgl.selectProgram(this.program),this.bindInputTexture(a,i.TEXTURE0,SCLMPCalculator.TEXTURE_UNIFORM_NAME_0);var r=this.webgl.getPad(t);this.bindUniforms(t,r,e,o),this.standalone?this.webgl.bindOutputTexture(n,t+r,l):this.webgl.bindOutputTexture(n,(t+r)/4,l),i.drawElements(i.TRIANGLES,6,i.UNSIGNED_SHORT,0),this.webgl.unbindInputTexture(i.TEXTURE0)},SCLMPCalculator.prototype.bindInputTexture=function(n,t,e){var o=this.webgl.context,a=this.program;o.activeTexture(t),o.bindTexture(o.TEXTURE_2D,n);var l=o.getUniformLocation(a,e);o.uniform1i(l,t-o.TEXTURE0)},SCLMPCalculator.prototype.bindUniforms=function(n,t,e,o){var a=this.webgl.context,l=a.getUniformLocation(this.program,SCLMPCalculator.LENGTH_UNIFORM_NAME),i=a.getUniformLocation(this.program,SCLMPCalculator.UPPER_UNIFORM_NAME),r=a.getUniformLocation(this.program,SCLMPCalculator.LOWER_UNIFORM_NAME),u=a.getUniformLocation(this.program,"pad");a.uniform1i(l,n),a.uniform1i(u,t),a.uniform1f(r,e),a.uniform1f(i,o)};
},{"./webgl":11}],6:[function(require,module,exports){
function DownsampleCalculator(n,o){this.webgl=n,this.standalone=null!=o?o:!0;var t="#define GLSLIFY 1\n// TODO: unroll loop for stride == factor and small values (2, 3)\nprecision highp float;\n\nvarying vec2      outTex;  // texture coords of row/column to calculate\nuniform sampler2D X;       // texture with data from padded A\nuniform int       factor;  // width of image patch\nuniform float     stride;  // width between image patches\nuniform float     C;       // number of channels\nuniform float     M;\nuniform float     N;\nuniform float     N_out;\nuniform float     M_out;\n\n// Render float to bytes according to IEEE 754 Floating Point\nvec4 encode_float_1540259130(float val) {\n\n	// TODO: correctly handle denormal numbers\n	// http://www.2ality.com/2012/04/number-encoding.html\n	float a = abs(val);                           // encode absolute value + sign\n	float exp = floor(log2(a));                 // number of powers of 2\n	float mant = pow(2.,log2(a)-exp) * pow(2.,23.);  // multiply to fill 24 bits (implied leading 1)\n	float mant1 = floor(mant / 256. / 256.);    // first 8 bits of mantissa\n	float mant2 = mod(floor(mant / 256.),256.); // second 8 bits\n	float mant3 = mod(mant,256.);               // third 8 bits\n\n	highp float sign = 128.-128.*(a/val);			// sign bit is 256 or 0\n	highp float e = (sign+exp+127.)/510.;		// exponent and sign\n	highp float m1 = (mant1-(128.*(1.-mod(exp+127.,2.))))/255.; // handle leading bit\n	highp float m2 = (mant2)/255.;				// middle part\n	highp float m3 = (mant3+.5)/255.;			// scale to 0 - 255\n\n	return vec4(m3,m2,m1,e);\n}\n\n// select an element from a vector based on index\nfloat select_index_1604150559(vec4 v, int index){\n	float val;\n	if (index == 0) {\n		val = v.r;\n	} else if(index == 1) {\n		val = v.g;\n	} else if(index == 2) {\n		val = v.b;\n	} else if(index == 3){\n		val = v.a;\n	} else {\n		// should never be here\n		val = 0.0;\n	}\n\n	return val;\n}\n\nvoid main(void) {\n\n	// get the implied row and column from .y and .x of passed (output)\n	// texture coordinate and translate to output pixel space.\n	float row = floor(outTex.y * M_out);   // row on output texture (matrix space)\n	float col = floor(outTex.x * N_out); // column on output texture (matrix space)\n	float vcol = floor(col / C);   // virtual column on output texture (matrix space)\n	float vchannel = floor(mod(col, C)); // virtual channel on output texture\n\n	const float min = -1.0e+08;\n	vec4 currentMax = vec4(min, min, min, min);\n\n	float deltaY = 1.0/M;\n	float deltaX = 1.0/N;\n	float y = ((row * stride) + 0.5)*deltaY; // texture position of input row\n	float x;\n	float z = vchannel * deltaX;\n	for (int i = 0; i < 100; i += 1) {\n		if (i >= factor) {\n			break;\n		}\n		x = ((vcol * stride * C) + 0.5) * deltaX; // texture position of input column\n\n		for (int j = 0; j < 100; j += 1) {\n			if (j >= factor) {\n				break;\n			}\n\n			vec2 coords = vec2(x + z, y);\n			vec4 x_v = texture2D(X, coords);\n			currentMax = max(currentMax, x_v);\n\n			x += (deltaX * C);\n		}\n		y += deltaY;\n	}\n	int chan = int(mod(outTex.x * N_out, 4.0 ));\n	float val = select_index_1604150559(currentMax, int(chan));\n	if (val == 0.) {\n		gl_FragColor = vec4(0.,0.,0.,0.);\n		return;\n	}\n\n	gl_FragColor = encode_float_1540259130(val);\n}\n";p="#define GLSLIFY 1\n// TODO: unroll loop for stride == factor and small values (2, 3)\nprecision highp float;\n\nvarying vec2      outTex;  // texture coords of row/column to calculate\nuniform sampler2D X;       // texture with data from padded A\nuniform int       factor;  // width of image patch\nuniform float     stride;  // width between image patches\nuniform float     C;       // number of channels\nuniform float     M;\nuniform float     N;\nuniform float     N_out;\nuniform float     M_out;\n\nvoid main(void) {\n\n	// get the implied row and column from .y and .x of passed (output)\n	// texture coordinate and translate to output pixel space.\n	float row = floor(outTex.y * M_out);   // row on output texture (pixel space)\n	float col = floor(outTex.x * N_out); // column on output texture (matrix space)\n	float vcol = floor(col / C);   // virtual column on output texture (matrix space)\n	float vchannel = floor(mod(col, C)); // virtual channel on output texture\n\n	const float min = -1.0e+08;\n	vec4 currentMax = vec4(min, min, min, min);\n\n	float deltaY = 1.0/M;\n	float deltaX = 1.0/N;\n	float y = ((row * stride) + 0.5)*deltaY; // texture position of input row\n	float x;\n	float z = vchannel * deltaX;\n	for (int i = 0; i < 100; i += 1) {\n		if (i >= factor) {\n			break;\n		}\n		x = ((vcol * stride * C) + 0.5) * deltaX; // texture position of input column\n\n		for (int j = 0; j < 100; j += 1) {\n			if (j >= factor) {\n				break;\n			}\n\n			vec2 coords = vec2(x + z, y);\n			vec4 x_v = texture2D(X, coords);\n			currentMax = max(currentMax, x_v);\n\n			x += (deltaX * C);\n		}\n		y += deltaY;\n	}\n\n	gl_FragColor = currentMax;\n}\n",this.standalone?this.program=this.webgl.createProgram(t):this.program=this.webgl.createProgram(p)}var WebGL=require("./webgl");module.exports=DownsampleCalculator,DownsampleCalculator.TEXTURE_UNIFORM_NAME_0="X",DownsampleCalculator.INPUT_ROW_COUNT_UNIFORM_NAME="M",DownsampleCalculator.INPUT_COLUMN_COUNT_UNIFORM_NAME="N",DownsampleCalculator.OUTPUT_ROW_COUNT_UNIFORM_NAME="M_out",DownsampleCalculator.OUTPUT_COLUMN_COUNT_UNIFORM_NAME="N_out",DownsampleCalculator.FACTOR_UNIFORM_NAME="factor",DownsampleCalculator.STRIDE_UNIFORM_NAME="stride",DownsampleCalculator.CHANNEL_COUNT_UNIFORM_NAME="C",DownsampleCalculator.prototype.calculate=function(n,o,t,a,e,l,r){if(t%WebGL.COMPONENTS_PER_TEXEL!=0)throw new Error("Channel count must be a multiple of "+WebGL.COMPONENTS_PER_TEXEL);var i=this.webgl.context,u=(Math.floor((o-a)/e)+1)*t,f=Math.floor((n-a)/e)+1;this.webgl.selectProgram(this.program),this.bindInputTexture(l,i.TEXTURE0,DownsampleCalculator.TEXTURE_UNIFORM_NAME_0),this.bindUniforms(n,o*t,f,u,a,e,t),this.standalone?this.webgl.bindOutputTexture(f,u,r):this.webgl.bindOutputTexture(f,u/WebGL.COMPONENTS_PER_TEXEL,r),i.drawElements(i.TRIANGLES,6,i.UNSIGNED_SHORT,0),this.webgl.unbindInputTexture(i.TEXTURE0)},DownsampleCalculator.prototype.bindInputTexture=function(n,o,t){var a=this.webgl.context,e=this.program;a.activeTexture(o),a.bindTexture(a.TEXTURE_2D,n);var l=a.getUniformLocation(e,t);a.uniform1i(l,o-a.TEXTURE0)},DownsampleCalculator.prototype.bindUniforms=function(n,o,t,a,e,l,r){var i=this.webgl.context,u=i.getUniformLocation(this.program,DownsampleCalculator.INPUT_ROW_COUNT_UNIFORM_NAME),f=i.getUniformLocation(this.program,DownsampleCalculator.INPUT_COLUMN_COUNT_UNIFORM_NAME),m=i.getUniformLocation(this.program,DownsampleCalculator.OUTPUT_ROW_COUNT_UNIFORM_NAME),c=i.getUniformLocation(this.program,DownsampleCalculator.OUTPUT_COLUMN_COUNT_UNIFORM_NAME),s=i.getUniformLocation(this.program,DownsampleCalculator.FACTOR_UNIFORM_NAME),p=i.getUniformLocation(this.program,DownsampleCalculator.STRIDE_UNIFORM_NAME),d=i.getUniformLocation(this.program,DownsampleCalculator.CHANNEL_COUNT_UNIFORM_NAME);i.uniform1f(u,n),i.uniform1f(f,o),i.uniform1f(m,t),i.uniform1f(c,a),i.uniform1i(s,e),i.uniform1f(p,l),i.uniform1f(d,r)};
},{"./webgl":11}],7:[function(require,module,exports){
function SGEMMCalculator(t,e){this.webgl=t,this.standalone=null!=e?e:!0;var n="#define GLSLIFY 1\n// fragment shader that calculates the matrix product and renders each\n// element to the bytes representing a 32-bit IEEE754 floating point in\n// the output RGBA canvas.\n// readPixel is used to read the bytes.\n\nprecision highp float;\n\nvarying vec2      outTex;	// texture coords of row/column to calculate\nuniform sampler2D A;		// texture with data from padded A\nuniform sampler2D B_t;		// texture with data from padded transpose of B\nuniform int       K;		// number of elements in shared dimension\nuniform int       N;		// number of columns in output\nuniform int       pad;		//\nuniform float     alpha; 	// coefficient to multiplication\n\n// sum of products between elements in row i (from A) x col j (from B)\n\n// Calculate the dot product between the row (from A) and column (from B)\n// identified by the passed indeces (output texture coordinate space).\n// We loop over elements in the row and column and sum the product\n// using the glsl `dot` function to process four elements at a time.\n// This four element optimization requires that the matrix B be\n// transposed before texel packing and that both matrices be padded\n// (with zeros) to a multiple of four (4) in their shared dimension.\nfloat dot_rowcol_1540259130(float y, float x, sampler2D A, sampler2D B_t, int K) {\n	float delta_t = 1./float(K);// space (on texture) between elements\n	float sum = 0.;			// sum for this row/column pair\n	float z = 0.5 * (4.0 * delta_t);// position for shared dimension on source textures\n\n	for (int l=0 ; l<4096 ; ++l) {\n		if(l >= K / 4) break;    // stop when we finish the row/column\n		// l is in pixel space, so we divide by four\n\n		// retrieve next four elements from each texture\n		vec4 a_ik = texture2D(  A, vec2(z, y));\n		vec4 b_kj = texture2D(B_t, vec2(z, x));\n\n	// use `dot` to process four elements at a time\n		sum +=  dot(a_ik, b_kj);\n		z += (4.0 * delta_t);      // (z + 0.5)*delta\n	}\n	return sum;\n}\n\n// Render float to bytes according to IEEE 754 Floating Point\nvec4 encode_float_1604150559(float val) {\n\n	// TODO: correctly handle denormal numbers\n	// http://www.2ality.com/2012/04/number-encoding.html\n	float a = abs(val);                           // encode absolute value + sign\n	float exp = floor(log2(a));                 // number of powers of 2\n	float mant = pow(2.,log2(a)-exp) * pow(2.,23.);  // multiply to fill 24 bits (implied leading 1)\n	float mant1 = floor(mant / 256. / 256.);    // first 8 bits of mantissa\n	float mant2 = mod(floor(mant / 256.),256.); // second 8 bits\n	float mant3 = mod(mant,256.);               // third 8 bits\n\n	highp float sign = 128.-128.*(a/val);			// sign bit is 256 or 0\n	highp float e = (sign+exp+127.)/510.;		// exponent and sign\n	highp float m1 = (mant1-(128.*(1.-mod(exp+127.,2.))))/255.; // handle leading bit\n	highp float m2 = (mant2)/255.;				// middle part\n	highp float m3 = (mant3+.5)/255.;			// scale to 0 - 255\n\n	return vec4(m3,m2,m1,e);\n}\n\nvoid main(void) {\n\n	// get the implied row and column from .y and .x of passed (output)\n	// texture coordinate. These map directly to input texture space when\n	// the relevant dimensions are the same.\n	float row_t = outTex.y;\n	float col_t = outTex.x;\n\n	// sum row x col for the passed pixel\n	float sum = alpha * dot_rowcol_1540259130(row_t, col_t * float(N + pad)/float(N), A, B_t, K);\n\n	if (sum == 0.) {\n		gl_FragColor = vec4(0.,0.,0.,0.);\n		return;\n	}\n\n	// output vec4 with bytes for an IEEE754 32-bit floating point number\n	gl_FragColor = encode_float_1604150559(sum);\n}\n",o="#define GLSLIFY 1\n// fragment shader that calculates the matrix product (with additive 'C' term)\n// and renders each element to the bytes representing a 32-bit IEEE754 floating\n// point in the output RGBA canvas.\n// readPixel is used to read the bytes.\n\nprecision highp float;\n\nvarying vec2      outTex;	// texture coords of row/column to calculate\nuniform sampler2D A;		// texture with data from padded A\nuniform sampler2D B_t;		// texture with data from padded transpose of B\nuniform sampler2D C;		// texture with data from C\nuniform int       K;		// number of elements in shared dimension\nuniform int       N;		// number of columns in output\nuniform int       pad;		//\nuniform float     alpha; 	// coefficient to multiplication\nuniform float     beta; 	// coefficient to additive term\n\n// sum of products between elements in row i (from A) x col j (from B)\n\n// Calculate the dot product between the row (from A) and column (from B)\n// identified by the passed indeces (output texture coordinate space).\n// We loop over elements in the row and column and sum the product\n// using the glsl `dot` function to process four elements at a time.\n// This four element optimization requires that the matrix B be\n// transposed before texel packing and that both matrices be padded\n// (with zeros) to a multiple of four (4) in their shared dimension.\nfloat dot_rowcol_1540259130(float y, float x, sampler2D A, sampler2D B_t, int K) {\n	float delta_t = 1./float(K);// space (on texture) between elements\n	float sum = 0.;			// sum for this row/column pair\n	float z = 0.5 * (4.0 * delta_t);// position for shared dimension on source textures\n\n	for (int l=0 ; l<4096 ; ++l) {\n		if(l >= K / 4) break;    // stop when we finish the row/column\n		// l is in pixel space, so we divide by four\n\n		// retrieve next four elements from each texture\n		vec4 a_ik = texture2D(  A, vec2(z, y));\n		vec4 b_kj = texture2D(B_t, vec2(z, x));\n\n	// use `dot` to process four elements at a time\n		sum +=  dot(a_ik, b_kj);\n		z += (4.0 * delta_t);      // (z + 0.5)*delta\n	}\n	return sum;\n}\n\n// Render float to bytes according to IEEE 754 Floating Point\nvec4 encode_float_1604150559(float val) {\n\n	// TODO: correctly handle denormal numbers\n	// http://www.2ality.com/2012/04/number-encoding.html\n	float a = abs(val);                           // encode absolute value + sign\n	float exp = floor(log2(a));                 // number of powers of 2\n	float mant = pow(2.,log2(a)-exp) * pow(2.,23.);  // multiply to fill 24 bits (implied leading 1)\n	float mant1 = floor(mant / 256. / 256.);    // first 8 bits of mantissa\n	float mant2 = mod(floor(mant / 256.),256.); // second 8 bits\n	float mant3 = mod(mant,256.);               // third 8 bits\n\n	highp float sign = 128.-128.*(a/val);			// sign bit is 256 or 0\n	highp float e = (sign+exp+127.)/510.;		// exponent and sign\n	highp float m1 = (mant1-(128.*(1.-mod(exp+127.,2.))))/255.; // handle leading bit\n	highp float m2 = (mant2)/255.;				// middle part\n	highp float m3 = (mant3+.5)/255.;			// scale to 0 - 255\n\n	return vec4(m3,m2,m1,e);\n}\n\n// select an element from a vector based on index\nfloat select_index_1117569599(vec4 v, int index){\n	float val;\n	if (index == 0) {\n		val = v.r;\n	} else if(index == 1) {\n		val = v.g;\n	} else if(index == 2) {\n		val = v.b;\n	} else if(index == 3){\n		val = v.a;\n	} else {\n		// should never be here\n		val = 0.0;\n	}\n\n	return val;\n}\n\nvoid main(void) {\n\n	// get the implied row and column from .y and .x of passed (output)\n	// texture coordinate. These map directly to input texture space when\n	// the relevant dimensions are the same.\n	float row_t = outTex.y;\n	float col_t = outTex.x;\n	vec4 c_vec = texture2D(C, vec2(col_t, 0.5));\n\n	// should be -0.5, but that subtly breaks at zero\n	float col = col_t * float(N + pad); // index of first element in pixel (matrix space)\n	int channel = int(mod(col, 4.0 ));\n	float c = select_index_1117569599(c_vec, channel);\n\n	// sum row x col for the passed pixel\n	float sum = alpha * dot_rowcol_1540259130(row_t, col_t * float(N + pad)/float(N), A, B_t, K);\n	sum += beta * c;\n\n	if (sum == 0.) {\n		gl_FragColor = vec4(0.,0.,0.,0.);\n		return;\n	}\n\n	// output vec4 with bytes for an IEEE754 32-bit floating point number\n	gl_FragColor = encode_float_1604150559(sum);\n}\n",a="#define GLSLIFY 1\n// fragment shader that calculates the matrix product and writes each\n// element to a pixel component in a floating point texture.\n// the output RGBA canvas.\n// readPixel is used to read the bytes.\n\nprecision highp float;\n\nvarying vec2      outTex;	// texture coords of row/column to calculate\nuniform sampler2D A;		// texture with data from padded A\nuniform sampler2D B_t;		// texture with data from padded transpose of B\nuniform int       K;		// number of elements in shared dimension\nuniform int       N;		// number of columns in output\nuniform int       pad;		//\nuniform float     alpha; 	// coefficient to multiplication\n\n// sum of products between elements in row i (from A) x col j (from B)\n\n// Calculate the dot product between the row (from A) and column (from B)\n// identified by the passed indeces (output texture coordinate space).\n// We loop over elements in the row and column and sum the product\n// using the glsl `dot` function to process four elements at a time.\n// This four element optimization requires that the matrix B be\n// transposed before texel packing and that both matrices be padded\n// (with zeros) to a multiple of four (4) in their shared dimension.\nfloat dot_rowcol_1540259130(float y, float x, sampler2D A, sampler2D B_t, int K) {\n	float delta_t = 1./float(K);// space (on texture) between elements\n	float sum = 0.;			// sum for this row/column pair\n	float z = 0.5 * (4.0 * delta_t);// position for shared dimension on source textures\n\n	for (int l=0 ; l<4096 ; ++l) {\n		if(l >= K / 4) break;    // stop when we finish the row/column\n		// l is in pixel space, so we divide by four\n\n		// retrieve next four elements from each texture\n		vec4 a_ik = texture2D(  A, vec2(z, y));\n		vec4 b_kj = texture2D(B_t, vec2(z, x));\n\n	// use `dot` to process four elements at a time\n		sum +=  dot(a_ik, b_kj);\n		z += (4.0 * delta_t);      // (z + 0.5)*delta\n	}\n	return sum;\n}\n\nvoid main(void) {\n\n	// get the implied row and column from .y and .x of passed (output)\n	// texture coordinate. These map directly to input texture space when\n	// the relevant dimensions are the same.\n	float row_t = outTex.y;\n	float col_t = outTex.x;\n\n	vec4 sum_v = vec4(0.0, 0.0, 0.0, 0.0);\n	float col = (col_t * float(N + pad) - 2.0); // index of first element in pixel (matrix space)\n	sum_v.r = alpha * dot_rowcol_1540259130(row_t, (col + 0.5)/float(N), A, B_t, K);\n	// is last element in pixel past row length?\n	if(pad > 0 && (col + 4.0) > float(N) ) {\n		// compute elements in padded region\n		if(pad < 3){\n			sum_v.g = alpha * dot_rowcol_1540259130(row_t, (col + 1.5)/float(N), A, B_t, K);\n		}\n		if(pad < 2){\n			sum_v.b = alpha * dot_rowcol_1540259130(row_t, (col + 2.5)/float(N), A, B_t, K);\n		}\n	} else {\n		sum_v.g = alpha * dot_rowcol_1540259130(row_t, (col + 1.5)/float(N), A, B_t, K);\n		sum_v.b = alpha * dot_rowcol_1540259130(row_t, (col + 2.5)/float(N), A, B_t, K);\n		sum_v.a = alpha * dot_rowcol_1540259130(row_t, (col + 3.5)/float(N), A, B_t, K);\n	}\n\n	gl_FragColor = sum_v;\n}\n",r="#define GLSLIFY 1\n// fragment shader that calculates the matrix product and writes each\n// element to a pixel component in a floating point texture.\n// the output RGBA canvas.\n// readPixel is used to read the bytes.\n\nprecision highp float;\n\nvarying vec2      outTex;	// texture coords of row/column to calculate\nuniform sampler2D A;		// texture with data from padded A\nuniform sampler2D B_t;		// texture with data from padded transpose of B\nuniform sampler2D C;		// texture with data from C\nuniform int       K;		// number of elements in shared dimension\nuniform int       N;		// number of columns in output\nuniform int       pad;		//\nuniform float     alpha; 	// coefficient to multiplication\nuniform float     beta; 	// coefficient to addition\n\n// sum of products between elements in row i (from A) x col j (from B)\n\n// Calculate the dot product between the row (from A) and column (from B)\n// identified by the passed indeces (output texture coordinate space).\n// We loop over elements in the row and column and sum the product\n// using the glsl `dot` function to process four elements at a time.\n// This four element optimization requires that the matrix B be\n// transposed before texel packing and that both matrices be padded\n// (with zeros) to a multiple of four (4) in their shared dimension.\nfloat dot_rowcol_1540259130(float y, float x, sampler2D A, sampler2D B_t, int K) {\n	float delta_t = 1./float(K);// space (on texture) between elements\n	float sum = 0.;			// sum for this row/column pair\n	float z = 0.5 * (4.0 * delta_t);// position for shared dimension on source textures\n\n	for (int l=0 ; l<4096 ; ++l) {\n		if(l >= K / 4) break;    // stop when we finish the row/column\n		// l is in pixel space, so we divide by four\n\n		// retrieve next four elements from each texture\n		vec4 a_ik = texture2D(  A, vec2(z, y));\n		vec4 b_kj = texture2D(B_t, vec2(z, x));\n\n	// use `dot` to process four elements at a time\n		sum +=  dot(a_ik, b_kj);\n		z += (4.0 * delta_t);      // (z + 0.5)*delta\n	}\n	return sum;\n}\n\nvoid main(void) {\n\n	// get the implied row and column from .y and .x of passed (output)\n	// texture coordinate. These map directly to input texture space when\n	// the relevant dimensions are the same.\n	float row_t = outTex.y;\n	float col_t = outTex.x;\n	vec4 c_v = texture2D(C, vec2(col_t, 0.5));\n\n	vec4 sum_v = vec4(0.0, 0.0, 0.0, 0.0);\n	float col = (col_t * float(N + pad) - 2.0); // index of first element in pixel (matrix space)\n	sum_v.r = alpha * dot_rowcol_1540259130(row_t, (col + 0.5)/float(N), A, B_t, K);\n	// in the padding region?\n	if(pad > 0 && (col + 4.0) > float(N) ) {\n		// pad\n		if(pad < 3){\n			sum_v.g = alpha * dot_rowcol_1540259130(row_t, (col + 1.5)/float(N), A, B_t, K);\n		}\n		if(pad < 2){\n			sum_v.b = alpha * dot_rowcol_1540259130(row_t, (col + 2.5)/float(N), A, B_t, K);\n		}\n	} else {\n		sum_v.g = alpha * dot_rowcol_1540259130(row_t, (col + 1.5)/float(N), A, B_t, K);\n		sum_v.b = alpha * dot_rowcol_1540259130(row_t, (col + 2.5)/float(N), A, B_t, K);\n		sum_v.a = alpha * dot_rowcol_1540259130(row_t, (col + 3.5)/float(N), A, B_t, K);\n	}\n\n	gl_FragColor = sum_v + beta*c_v;\n}\n";this.standalone?(this.program_=this.webgl.createProgram(n),this.program_c=this.webgl.createProgram(o)):(this.program_=this.webgl.createProgram(a),this.program_c=this.webgl.createProgram(r))}var WebGL=require("./webgl");module.exports=SGEMMCalculator,SGEMMCalculator.TEXTURE_UNIFORM_NAME_0="A",SGEMMCalculator.TEXTURE_UNIFORM_NAME_1="B_t",SGEMMCalculator.TEXTURE_UNIFORM_NAME_2="C",SGEMMCalculator.SHARED_LENGTH_UNIFORM_NAME="K",SGEMMCalculator.COLUMN_COUNT_UNIFORM_NAME="N",SGEMMCalculator.PAD_UNIFORM_NAME="pad",SGEMMCalculator.ALPHA_UNIFORM_NAME="alpha",SGEMMCalculator.BETA_UNIFORM_NAME="beta",SGEMMCalculator.prototype.calculate=function(t,e,n,o,a,r,i,l,s){var u=this.webgl.context;null!=l?this.program=this.program_c:(i=null,this.program=this.program_),this.webgl.selectProgram(this.program),this.bindInputTexture(a,u.TEXTURE0,SGEMMCalculator.TEXTURE_UNIFORM_NAME_0),this.bindInputTexture(r,u.TEXTURE1,SGEMMCalculator.TEXTURE_UNIFORM_NAME_1),null!=l&&this.bindInputTexture(l,u.TEXTURE2,SGEMMCalculator.TEXTURE_UNIFORM_NAME_2);var m=this.webgl.getPad(n),d=this.webgl.getPad(e);this.bindUniforms(e,n+m,d,o,i),this.standalone?this.webgl.bindOutputTexture(t,e+d,s):this.webgl.bindOutputTexture(t,(e+d)/4,s),u.drawElements(u.TRIANGLES,6,u.UNSIGNED_SHORT,0),this.webgl.unbindInputTexture(u.TEXTURE0),this.webgl.unbindInputTexture(u.TEXTURE1),this.webgl.unbindInputTexture(u.TEXTURE2)},SGEMMCalculator.prototype.bindInputTexture=function(t,e,n){var o=this.webgl.context,a=this.program;o.activeTexture(e),o.bindTexture(o.TEXTURE_2D,t);var r=o.getUniformLocation(a,n);o.uniform1i(r,e-o.TEXTURE0)},SGEMMCalculator.prototype.bindUniforms=function(t,e,n,o,a){var r=this.webgl.context,i=r.getUniformLocation(this.program,SGEMMCalculator.SHARED_LENGTH_UNIFORM_NAME),l=r.getUniformLocation(this.program,SGEMMCalculator.ALPHA_UNIFORM_NAME),s=r.getUniformLocation(this.program,SGEMMCalculator.BETA_UNIFORM_NAME),u=r.getUniformLocation(this.program,SGEMMCalculator.COLUMN_COUNT_UNIFORM_NAME),m=m=r.getUniformLocation(this.program,SGEMMCalculator.PAD_UNIFORM_NAME);r.uniform1f(s,a),r.uniform1i(u,t),r.uniform1i(m,n),r.uniform1i(i,e),r.uniform1f(l,o)};
},{"./webgl":11}],8:[function(require,module,exports){
function SSCALCalculator(n,t){this.webgl=n,this.standalone=null!=t?t:!0;var e="#define GLSLIFY 1\nprecision highp float;\n\nvarying vec2      outTex;	// texture coords of row/column to calculate\nuniform sampler2D X;		// texture with data from padded X\nuniform int       N;		// number of columns\nuniform int       pad;		// additional columns to nearest multiple of four\nuniform float     b; 		// additive term\nuniform float     a; 		// multiplicative term\n\n// Render float to bytes according to IEEE 754 Floating Point\nvec4 encode_float_1540259130(float val) {\n\n	// TODO: correctly handle denormal numbers\n	// http://www.2ality.com/2012/04/number-encoding.html\n	float a = abs(val);                           // encode absolute value + sign\n	float exp = floor(log2(a));                 // number of powers of 2\n	float mant = pow(2.,log2(a)-exp) * pow(2.,23.);  // multiply to fill 24 bits (implied leading 1)\n	float mant1 = floor(mant / 256. / 256.);    // first 8 bits of mantissa\n	float mant2 = mod(floor(mant / 256.),256.); // second 8 bits\n	float mant3 = mod(mant,256.);               // third 8 bits\n\n	highp float sign = 128.-128.*(a/val);			// sign bit is 256 or 0\n	highp float e = (sign+exp+127.)/510.;		// exponent and sign\n	highp float m1 = (mant1-(128.*(1.-mod(exp+127.,2.))))/255.; // handle leading bit\n	highp float m2 = (mant2)/255.;				// middle part\n	highp float m3 = (mant3+.5)/255.;			// scale to 0 - 255\n\n	return vec4(m3,m2,m1,e);\n}\n\n// select an element from a vector based on index\nfloat select_index_1604150559(vec4 v, int index){\n	float val;\n	if (index == 0) {\n		val = v.r;\n	} else if(index == 1) {\n		val = v.g;\n	} else if(index == 2) {\n		val = v.b;\n	} else if(index == 3){\n		val = v.a;\n	} else {\n		// should never be here\n		val = 0.0;\n	}\n\n	return val;\n}\n\nvoid main(void) {\n\n	// get the implied row and column from .y and .x of passed (output)\n	// texture coordinate. These map directly to input texture space when\n	// the relevant dimensions are the same.\n 	float row = outTex.y;\n	float col = outTex.x;\n\n	// direct usage of col requires output be padded exactly like input\n	vec4 x = texture2D( X, vec2(col, row));\n	vec4 sum_v = (a * x) + b;\n	int channel = int(mod(col * float(N + pad), 4.0 ));\n	float sum = select_index_1604150559(sum_v, channel);\n\n	if (sum == 0.) {\n		gl_FragColor = vec4(0.,0.,0.,0.);\n		return;\n	}\n\n 	// output vec4 with bytes for an IEEE754 32-bit floating point number\n	gl_FragColor = encode_float_1540259130(sum);\n}\n",o="#define GLSLIFY 1\nprecision highp float;\n\nvarying vec2      outTex;	// texture coords of row/column to calculate\nuniform sampler2D X;		// texture with data from padded X\nuniform int       N;		// number of columns\nuniform int       pad;		// additional columns to nearest multiple of four\nuniform float     b; 		// additive term\nuniform float     a; 		// multiplicative term\n\n// set pad values to 0.0, if in padded region of output texture\nvoid fix_pad_1540259130(inout vec4 v, int pad){\n	v.a = 0.0;\n	if(pad == 2){\n		v.b = 0.0;\n	} else if(pad == 3){\n		v.b = 0.0;\n		v.g = 0.0;\n	}\n}\n\nvoid main(void) {\n\n	// get the implied row and column from .y and .x of passed (output)\n	// texture coordinate. These map directly to input texture space when\n	// the relevant dimensions are the same.\n	float row_t = outTex.y;\n	float col_t = outTex.x;\n	float col = (col_t * float(N + pad) - 2.0); // index of first element in pixel (matrix space)\n\n	// direct usage of col requires output be padded exactly like input\n	vec4 x = texture2D( X, vec2(col_t, row_t));\n	vec4 sum_v = (a * x) + b;\n\n	// fix padded region\n	if(pad > 0 && col + 4.0 > float(N) ) {\n		fix_pad_1540259130(sum_v, pad);\n	}\n\n	gl_FragColor = sum_v;\n}\n";this.standalone?this.program=this.webgl.createProgram(e):this.program=this.webgl.createProgram(o)}var WebGL=require("./webgl");module.exports=SSCALCalculator,SSCALCalculator.TEXTURE_UNIFORM_NAME_0="X",SSCALCalculator.LENGTH_UNIFORM_NAME="N",SSCALCalculator.ADD_UNIFORM_NAME="b",SSCALCalculator.MUL_UNIFORM_NAME="a",SSCALCalculator.prototype.calculate=function(n,t,e,o,a,i){var l=this.webgl.context,r=t%WebGL.COMPONENTS_PER_TEXEL,u=0==r?0:WebGL.COMPONENTS_PER_TEXEL-r;this.webgl.selectProgram(this.program),this.bindInputTexture(a,l.TEXTURE0,SSCALCalculator.TEXTURE_UNIFORM_NAME_0),this.bindUniforms(t,u,e,o),this.standalone?this.webgl.bindOutputTexture(n,t+u,i):this.webgl.bindOutputTexture(n,(t+u)/4,i),l.drawElements(l.TRIANGLES,6,l.UNSIGNED_SHORT,0),this.webgl.unbindInputTexture(l.TEXTURE0)},SSCALCalculator.prototype.bindInputTexture=function(n,t,e){var o=this.webgl.context,a=this.program;o.activeTexture(t),o.bindTexture(o.TEXTURE_2D,n);var i=o.getUniformLocation(a,e);o.uniform1i(i,t-o.TEXTURE0)},SSCALCalculator.prototype.bindUniforms=function(n,t,e,o){var a=this.webgl.context,i=a.getUniformLocation(this.program,SSCALCalculator.LENGTH_UNIFORM_NAME),l=a.getUniformLocation(this.program,SSCALCalculator.ADD_UNIFORM_NAME),r=a.getUniformLocation(this.program,SSCALCalculator.MUL_UNIFORM_NAME),u=a.getUniformLocation(this.program,"pad");a.uniform1i(i,n),a.uniform1i(u,t),a.uniform1f(r,e),a.uniform1f(l,o)};
},{"./webgl":11}],9:[function(require,module,exports){
function Tensor(e,t){if(2!=e.length)throw new Error("Only Tensor of order two (matrix) is supported right now.");var r=e[0],s=e[1];this.texture=gl.createDataTexture(r,s,t),this.shape=[r,s]}var globals=require("./globals"),gl=globals.gl;module.exports=Tensor,Tensor.prototype["delete"]=function(){gl.context.deleteTexture(this.texture),this.texture=null,this.shape=null},Tensor.prototype.transfer=function(e){var t,r,s=this.shape[0],o=this.shape[1];return t=gl.createOutputTexture(s,o),gl.encode(s,o,this.texture,t),r=new Float32Array(gl.readData(s,o)),gl.context.deleteTexture(t),e||this["delete"](),r},Tensor.prototype.reshape=function(e,t){var r=this.shape[0],s=this.shape[1],o=e[0],n=e[1],l=new Tensor(e,null);return gl.reshape(r,s,o,n,this.texture,l.texture),t||this["delete"](),l},Tensor.prototype.transpose=function(e){var t=this.shape[0],r=this.shape[1],s=new Tensor([r,t],null);return gl.transpose(t,r,this.texture,s.texture),e||this["delete"](),s};
},{"./globals":2}],10:[function(require,module,exports){
var async=require("async"),loader=require("floader");test={},test.allclose=function(e,t,r,a){if(r=r||1e-5,a=a||1e-8,e.length!=t.length)return console.log("lengths not equal: "+e.length+", "+t.length),{result:!1,index:null};for(var n,l=0;l<e.length;l++)if(n=Math.abs(e[l]-t[l])<=a+r*Math.abs(t[l]),!n)return{result:!1,index:l};return{result:!0,index:l}},test.randomArray=function(e,t){for(var r=[],a=0;e>a;a++){for(var n=[],l=0;t>l;l++)n[l]=Math.random()/Math.sqrt(e);r.push(n)}return r},test.padData=function(e,t,r,a){for(var n=new Float32Array(e*(t+r)),l=0;e>l;l++)n.set(a.subarray(l*t,(l+1)*t),l*(t+r));return n},test.load=function(e,t,r){var a=t.map(function(t){return e+t});async.map(a,loader.load,function(e,t){if(e)return r(e);var a=t.map(JSON.parse);r(e,a)})},test.assert={},test.assert.allclose=function(e,t,r,a,n,l){var s=test.allclose(t,r,n,l),o="[",u="[";if(!s.result){s.index>1&&(o+="..., ",u+="..., "),s.index>0&&(o+=t[s.index-1]+", ",u+=r[s.index-1]+", "),o+="-->",u+="-->";for(var i=s.index;i<s.index+4&&i<t.length;i++)o+=t[i]+", ",u+=r[i]+", ";i<t.length?(o+="...]",u+="...]"):(o+="]",u+="]"),a=a||"should be allclose at "+s.index}e._assert(s.result,{message:a||"should be allclose",operator:"allclose",actual:o,expected:u,extra:null})},module.exports=test;
},{"async":12,"floader":13}],11:[function(require,module,exports){
function WebGL(e){var t,n;if(e=e||{},"undefined"==typeof e.canvas?this.canvas=document.createElement("canvas"):this.canvas=e.canvas,t={premultipliedAlpha:!1,preserveDrawingBuffer:!1},this.context=this.canvas.getContext("experimental-webgl",t),"undefined"==typeof this.context)throw new Error("No support for Webgl.");try{n=this.context.getExtension("OES_texture_float")}catch(o){}n?this.hasFloat=!0:(console.log("No support for OES_texture_float extension."),this.hasFloat=!1);var r=this.context.getShaderPrecisionFormat(this.context.FRAGMENT_SHADER,this.context.HIGH_FLOAT);this.hasHighPrecision=0!=r.precision,this.hasHighPrecision&&(this.highp=r);var i="#define GLSLIFY 1\n// vertex shader for a single quad\n// work is performed in the operation specific texture shader\n\nprecision highp float;\n\nattribute vec3 pos;\nattribute vec2 tex;\nvarying vec2   outTex;\nvoid main(void)\n{\n	// just pass the position and texture coords\n	gl_Position = vec4(pos, 1.0);\n	outTex = tex;\n}\n";this.vertexShader=this.context.createShader(this.context.VERTEX_SHADER),this.context.shaderSource(this.vertexShader,i),this.context.compileShader(this.vertexShader);var a="#define GLSLIFY 1\nprecision highp float;\n\nvarying vec2      outTex;	// texture coords of row/column to calculate\nuniform sampler2D A;		// texture with data from padded A\nuniform int       N;		// number of columns in output\nuniform int       pad;		//\n\n// Render float to bytes according to IEEE 754 Floating Point\nvec4 encode_float_1540259130(float val) {\n\n	// TODO: correctly handle denormal numbers\n	// http://www.2ality.com/2012/04/number-encoding.html\n	float a = abs(val);                           // encode absolute value + sign\n	float exp = floor(log2(a));                 // number of powers of 2\n	float mant = pow(2.,log2(a)-exp) * pow(2.,23.);  // multiply to fill 24 bits (implied leading 1)\n	float mant1 = floor(mant / 256. / 256.);    // first 8 bits of mantissa\n	float mant2 = mod(floor(mant / 256.),256.); // second 8 bits\n	float mant3 = mod(mant,256.);               // third 8 bits\n\n	highp float sign = 128.-128.*(a/val);			// sign bit is 256 or 0\n	highp float e = (sign+exp+127.)/510.;		// exponent and sign\n	highp float m1 = (mant1-(128.*(1.-mod(exp+127.,2.))))/255.; // handle leading bit\n	highp float m2 = (mant2)/255.;				// middle part\n	highp float m3 = (mant3+.5)/255.;			// scale to 0 - 255\n\n	return vec4(m3,m2,m1,e);\n}\n\n// select an element from a vector based on index\nfloat select_index_1604150559(vec4 v, int index){\n	float val;\n	if (index == 0) {\n		val = v.r;\n	} else if(index == 1) {\n		val = v.g;\n	} else if(index == 2) {\n		val = v.b;\n	} else if(index == 3){\n		val = v.a;\n	} else {\n		// should never be here\n		val = 0.0;\n	}\n\n	return val;\n}\n\nvoid main(void) {\n\n	// get the implied row and column from .y and .x of passed (output)\n	// texture coordinate. These map directly to input texture space when\n	// the relevant dimensions are the same.\n	float row_t = outTex.y;\n	float col_t = outTex.x;\n\n	vec4 val_v = texture2D(A, vec2(col_t * float(N)/float(N + pad), row_t));\n	int channel = int(mod(col_t * float(N), 4.0 ));\n	float val = select_index_1604150559(val_v, channel);\n\n	if (val == 0.) {\n		gl_FragColor = vec4(0.,0.,0.,0.);\n		return;\n	}\n\n 	// output vec4 with bytes for an IEEE754 32-bit floating point number\n	gl_FragColor = encode_float_1540259130(val);\n}\n",l="#define GLSLIFY 1\nprecision highp float;\n\nvarying vec2      outTex;	// texture coords of row/column to calculate\nuniform sampler2D A;		// texture with data from padded A\nuniform int       M;		// number of rows in output\nuniform int       N;		// number of columns in output\nuniform int       mpad;		//\nuniform int       npad;		//\n\n// select an element from a vector based on index\nfloat select_index_1540259130(vec4 v, int index){\n	float val;\n	if (index == 0) {\n		val = v.r;\n	} else if(index == 1) {\n		val = v.g;\n	} else if(index == 2) {\n		val = v.b;\n	} else if(index == 3){\n		val = v.a;\n	} else {\n		// should never be here\n		val = 0.0;\n	}\n\n	return val;\n}\n\nvoid main(void) {\n\n	// get the implied row and column from .y and .x of passed (output)\n	// texture coordinate. These map directly to input texture space when\n	// the relevant dimensions are the same.\n	float row_t = outTex.y;\n	float col_t = outTex.x;\n	float col = (col_t * float(N + npad) - 2.0); // index of first element in pixel (matrix space)\n\n	// get rows in the input, each containing one element in the output\n	vec4 row_1 = texture2D(A, vec2((row_t * float(M))/float(M + mpad), (col + 0.5)/float(N)));\n	vec4 row_2 = texture2D(A, vec2((row_t * float(M))/float(M + mpad), (col + 1.5)/float(N)));\n	vec4 row_3 = texture2D(A, vec2((row_t * float(M))/float(M + mpad), (col + 2.5)/float(N)));\n	vec4 row_4 = texture2D(A, vec2((row_t * float(M))/float(M + mpad), (col + 3.5)/float(N)));\n\n	// package into output vector\n	int channel = int(mod(row_t * float(M), 4.0 ));\n\n	vec4 col_v = vec4(0.0, 0.0, 0.0, 0.0); // vec4 representing four elements in a column in the input\n\n	// extract relevent element from each input row\n	col_v.r = select_index_1540259130(row_1, channel);\n	if(npad > 0 && (col + 4.0) > float(N) ) {\n		// compute elements in padded region\n		if(npad < 3){\n			col_v.g = select_index_1540259130(row_2, channel);\n		}\n		if(npad < 2){\n			col_v.b = select_index_1540259130(row_3, channel);\n		}\n	} else {\n		col_v.g = select_index_1540259130(row_2, channel);\n		col_v.b = select_index_1540259130(row_3, channel);\n		col_v.a = select_index_1540259130(row_4, channel);\n	}\n\n	gl_FragColor = col_v;\n}\n",s="#define GLSLIFY 1\nprecision highp float;\n\nvarying vec2      outTex;	// texture coords of row/column to calculate\nuniform sampler2D A;		// texture with data from padded A\nuniform float     M;		// number of rows in output\nuniform float     N;		// number of columns in output\nuniform float     pad;		// column padding in output\nuniform float     M_in;		// number of rows in input\nuniform float     N_in;		// number of columns in input\nuniform float     pad_in;	// column padding in input\n\n/* number of input pixels\n   origin index (channel) for each\n   termination index (channel) for each\n   destination origin index (channel) for each\n */\n// select an element from a vector based on index\nfloat select_index_1604150559(vec4 v, int index){\n	float val;\n	if (index == 0) {\n		val = v.r;\n	} else if(index == 1) {\n		val = v.g;\n	} else if(index == 2) {\n		val = v.b;\n	} else if(index == 3){\n		val = v.a;\n	} else {\n		// should never be here\n		val = 0.0;\n	}\n\n	return val;\n}\n\n// set pad values to 0.0, if in padded region of output texture\nvoid fix_pad_1540259130(inout vec4 v, int pad){\n	v.a = 0.0;\n	if(pad == 2){\n		v.b = 0.0;\n	} else if(pad == 3){\n		v.b = 0.0;\n		v.g = 0.0;\n	}\n}\n\n// translate a linear index into x, y coordinates for a matrix\nvec2 linear_index_coords(float linear_index, float row_length){\n	vec2 coords;\n\n	coords.x = floor(mod(linear_index + 0.5, row_length)); // column\n	coords.y = floor((linear_index + 0.5) / row_length); // row\n\n	return coords;\n}\n\nvoid main(void) {\n\n	// get the implied row and column from .y and .x of passed (output)\n	// texture coordinate. These map directly to input texture space when\n	// the relevant dimensions are the same.\n	float row_t = outTex.y;\n	float col_t = outTex.x;\n\n	float row = floor(row_t * M);\n	float col_0 = (col_t * (N + pad) - 2.0); // index of first element in pixel (matrix space)\n	//float col_0 = floor(col_t * (N + pad)/4.0)*4.0; // index of first element in pixel (matrix space)\n	float lin_index_0 = row * N + col_0; // linearized index of first element in pixel in output\n\n	vec4 pixel_in = vec4(0.0, 0.0, 0.0, 0.0);\n	vec4 result = vec4(0.0, 0.0, 0.0, 0.0);\n	vec2 coords = linear_index_coords(lin_index_0, N_in);\n	vec2 ncoords;\n	int current_pixel_index = int(mod(coords.x, 4.0));\n\n	pixel_in = texture2D(A, vec2((coords.x + 0.5)/(N_in + pad_in), (coords.y + 0.5)/M_in));\n\n	// go through channels for current output pixel\n	for(int i = 0; i < 4; i++){\n\n		// are we on a new input pixel?\n		ncoords = linear_index_coords(lin_index_0 + float(i), N_in);\n		if(floor(coords.x/4.0) != floor(ncoords.x/4.0) || coords.y != ncoords.y){\n			coords = ncoords;\n			pixel_in = texture2D(A, vec2((coords.x + 0.5)/(N_in + pad_in), (coords.y + 0.5)/M_in));\n			current_pixel_index = 0;\n		}\n\n		if(i == 0){\n			result.r = select_index_1604150559(pixel_in, current_pixel_index);\n		} else if(i == 1){\n			result.g = select_index_1604150559(pixel_in, current_pixel_index);\n		} else if(i == 2){\n			result.b = select_index_1604150559(pixel_in, current_pixel_index);\n		} else {\n			result.a = select_index_1604150559(pixel_in, current_pixel_index);\n		}\n\n		current_pixel_index++;\n	}\n\n	// are we in the padded (output) region?\n	if(pad > 0.0 && col_0 + 3.5 > N ) {\n		fix_pad_1540259130(result, int(pad));\n	}\n\n	gl_FragColor = result;\n}\n";this.encode_program=this.createProgram(a),this.transpose_program=this.createProgram(l),this.reshape_program=this.createProgram(s)}module.exports=WebGL,WebGL.COMPONENTS_PER_TEXEL=4,WebGL.POSITION_UNIFORM_NAME="pos",WebGL.TEXTURE_UNIFORM_NAME="tex",WebGL.prototype.encode=function(e,t,n,o){this.program=this.encode_program,this.selectProgram(this.program);var r=this.getPad(t),i=this.context.getUniformLocation(this.program,"N"),a=this.context.getUniformLocation(this.program,"pad");this.context.uniform1i(i,t),this.context.uniform1i(a,r),this.bindInputTexture(n,this.context.TEXTURE0,"A"),this.bindOutputTexture(e,t,o),this.context.drawElements(this.context.TRIANGLES,6,this.context.UNSIGNED_SHORT,0),this.unbindInputTexture(this.context.TEXTURE0)},WebGL.prototype.transpose=function(e,t,n,o){this.program=this.transpose_program,this.selectProgram(this.program);var r=this.getPad(t),i=this.getPad(e),a=this.context.getUniformLocation(this.program,"N"),l=this.context.getUniformLocation(this.program,"npad"),s=this.context.getUniformLocation(this.program,"M"),c=this.context.getUniformLocation(this.program,"mpad");this.context.uniform1i(a,e),this.context.uniform1i(l,i),this.context.uniform1i(s,t),this.context.uniform1i(c,r),this.bindInputTexture(n,this.context.TEXTURE0,"A"),this.bindOutputTexture(t,(e+i)/4,o),this.context.drawElements(this.context.TRIANGLES,6,this.context.UNSIGNED_SHORT,0),this.unbindInputTexture(this.context.TEXTURE0)},WebGL.prototype.reshape=function(e,t,n,o,r,i){this.program=this.reshape_program,this.selectProgram(this.program);var a=this.getPad(t),l=this.getPad(o),s=this.context.getUniformLocation(this.program,"M"),c=this.context.getUniformLocation(this.program,"N"),f=this.context.getUniformLocation(this.program,"pad"),u=this.context.getUniformLocation(this.program,"M_in"),d=this.context.getUniformLocation(this.program,"N_in"),x=this.context.getUniformLocation(this.program,"pad_in");this.context.uniform1f(s,n),this.context.uniform1f(c,o),this.context.uniform1f(f,l),this.context.uniform1f(u,e),this.context.uniform1f(d,t),this.context.uniform1f(x,a),this.bindInputTexture(r,this.context.TEXTURE0,"A"),this.bindOutputTexture(n,(o+l)/4,i),this.context.drawElements(this.context.TRIANGLES,6,this.context.UNSIGNED_SHORT,0),this.unbindInputTexture(this.context.TEXTURE0)},WebGL.prototype.bindInputTexture=function(e,t,n){var o=this.context,r=this.program;o.activeTexture(t),o.bindTexture(o.TEXTURE_2D,e);var i=o.getUniformLocation(r,n);o.uniform1i(i,t-o.TEXTURE0)},WebGL.prototype.createProgram=function(e){var t,n=this.context;if(t=n.createShader(n.FRAGMENT_SHADER),n.shaderSource(t,e),n.compileShader(t),0==n.getShaderParameter(t,n.COMPILE_STATUS))throw new Error(n.getShaderInfoLog(t));var o=n.createProgram();return n.attachShader(o,this.vertexShader),n.attachShader(o,t),n.linkProgram(o),o},WebGL.prototype.selectProgram=function(e){var t=this.context;t.useProgram(e),this.bindVertices(e)},WebGL.prototype.bindVertices=function(e){var t=this.context,n=e,o=t.getAttribLocation(n,WebGL.POSITION_UNIFORM_NAME),r=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,r);var i=[-1,-1,0,1,-1,0,1,1,0,-1,1,0];t.bufferData(t.ARRAY_BUFFER,new Float32Array(i),t.STATIC_DRAW),t.vertexAttribPointer(o,3,t.FLOAT,!1,0,0),t.enableVertexAttribArray(o);var a=t.getAttribLocation(n,WebGL.TEXTURE_UNIFORM_NAME),l=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,l);var s=[0,0,1,0,1,1,0,1];t.bufferData(t.ARRAY_BUFFER,new Float32Array(s),t.STATIC_DRAW),t.vertexAttribPointer(a,2,t.FLOAT,!1,0,0),t.enableVertexAttribArray(a);var c=t.createBuffer();t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,c);var f=[0,1,2,0,2,3];t.bufferData(t.ELEMENT_ARRAY_BUFFER,new Uint16Array(f),t.STATIC_DRAW)},WebGL.prototype.createDataTexture=function(e,t,n){var o=this.context,r=[0,0,0,0],i=t%WebGL.COMPONENTS_PER_TEXEL,a=0==i?0:WebGL.COMPONENTS_PER_TEXEL-i,l=o.createTexture();if(o.bindTexture(o.TEXTURE_2D,l),0==a||null==n||"undefined"==typeof n)o.texImage2D(o.TEXTURE_2D,0,o.RGBA,(t+a)/WebGL.COMPONENTS_PER_TEXEL,e,0,o.RGBA,o.FLOAT,n);else{o.texImage2D(o.TEXTURE_2D,0,o.RGBA,(t+a)/WebGL.COMPONENTS_PER_TEXEL,e,0,o.RGBA,o.FLOAT,null);for(var s,c,f=t-i,u=f/WebGL.COMPONENTS_PER_TEXEL,d=0,x=new Float32Array(r),_=0;e>_;_++)d=_*t,full_texel_row_end=d+f,s=new Float32Array(n.buffer,d*n.BYTES_PER_ELEMENT,f),f>0&&o.texSubImage2D(o.TEXTURE_2D,0,0,_,u,1,o.RGBA,o.FLOAT,s),c=new Float32Array(n.buffer,full_texel_row_end*n.BYTES_PER_ELEMENT,i),x.set(c),o.texSubImage2D(o.TEXTURE_2D,0,u,_,1,1,o.RGBA,o.FLOAT,x)}return o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_S,o.CLAMP_TO_EDGE),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_T,o.CLAMP_TO_EDGE),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MAG_FILTER,o.NEAREST),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MIN_FILTER,o.NEAREST),o.bindTexture(o.TEXTURE_2D,null),l},WebGL.prototype.createOutputTexture=function(e,t){var n=this.context,o=this.getPad(t),r=n.createTexture();return n.bindTexture(n.TEXTURE_2D,r),n.texImage2D(n.TEXTURE_2D,0,n.RGBA,t+o,e,0,n.RGBA,n.UNSIGNED_BYTE,null),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.NEAREST),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.NEAREST),n.bindTexture(n.TEXTURE_2D,null),r},WebGL.prototype.bindOutputTexture=function(e,t,n){var o=this.context;if(this.canvas.height=e,this.canvas.width=t,o.viewport(0,0,t,e),this.framebuffer=this.framebuffer||o.createFramebuffer(),o.bindFramebuffer(o.FRAMEBUFFER,this.framebuffer),o.framebufferTexture2D(o.FRAMEBUFFER,o.COLOR_ATTACHMENT0,o.TEXTURE_2D,n,0),o.checkFramebufferStatus(o.FRAMEBUFFER)!=o.FRAMEBUFFER_COMPLETE)throw new Error("Bound framebuffer is not complete.");return this.framebuffer},WebGL.prototype.unbindInputTexture=function(e){var t=this.context;t.activeTexture(e),t.bindTexture(t.TEXTURE_2D,null)},WebGL.prototype.readData=function(e,t){var n=this.context;return rawbuffer=new ArrayBuffer(e*t*Float32Array.BYTES_PER_ELEMENT),prod=new Uint8Array(rawbuffer),n.readPixels(0,0,t,e,n.RGBA,n.UNSIGNED_BYTE,prod),rawbuffer},WebGL.prototype.getPad=function(e){var t=e%WebGL.COMPONENTS_PER_TEXEL,n=0==t?0:WebGL.COMPONENTS_PER_TEXEL-t;return n};
},{}],12:[function(require,module,exports){
(function (process,global){
!function(){function n(){}function t(n){return n}function e(n){return!!n}function r(n){return!n}function u(n){return function(){if(null===n)throw new Error("Callback was already called.");n.apply(this,arguments),n=null}}function i(n){return function(){null!==n&&(n.apply(this,arguments),n=null)}}function o(n){return M(n)||"number"==typeof n.length&&n.length>=0&&n.length%1===0}function c(n,t){for(var e=-1,r=n.length;++e<r;)t(n[e],e,n)}function a(n,t){for(var e=-1,r=n.length,u=Array(r);++e<r;)u[e]=t(n[e],e,n);return u}function f(n){return a(Array(n),function(n,t){return t})}function l(n,t,e){return c(n,function(n,r,u){e=t(e,n,r,u)}),e}function s(n,t){c(W(n),function(e){t(n[e],e)})}function p(n,t){for(var e=0;e<n.length;e++)if(n[e]===t)return e;return-1}function h(n){var t,e,r=-1;return o(n)?(t=n.length,function(){return r++,t>r?r:null}):(e=W(n),t=e.length,function(){return r++,t>r?e[r]:null})}function m(n,t){return t=null==t?n.length-1:+t,function(){for(var e=Math.max(arguments.length-t,0),r=Array(e),u=0;e>u;u++)r[u]=arguments[u+t];switch(t){case 0:return n.call(this,r);case 1:return n.call(this,arguments[0],r)}}}function y(n){return function(t,e,r){return n(t,r)}}function v(t){return function(e,r,o){o=i(o||n),e=e||[];var c=h(e);if(0>=t)return o(null);var a=!1,f=0,l=!1;!function s(){if(a&&0>=f)return o(null);for(;t>f&&!l;){var n=c();if(null===n)return a=!0,void(0>=f&&o(null));f+=1,r(e[n],n,u(function(n){f-=1,n?(o(n),l=!0):s()}))}}()}}function d(n){return function(t,e,r){return n(C.eachOf,t,e,r)}}function g(n){return function(t,e,r,u){return n(v(e),t,r,u)}}function k(n){return function(t,e,r){return n(C.eachOfSeries,t,e,r)}}function b(t,e,r,u){u=i(u||n),e=e||[];var c=o(e)?[]:{};t(e,function(n,t,e){r(n,function(n,r){c[t]=r,e(n)})},function(n){u(n,c)})}function w(n,t,e,r){var u=[];n(t,function(n,t,r){e(n,function(e){e&&u.push({index:t,value:n}),r()})},function(){r(a(u.sort(function(n,t){return n.index-t.index}),function(n){return n.value}))})}function O(n,t,e,r){w(n,t,function(n,t){e(n,function(n){t(!n)})},r)}function S(n,t,e){return function(r,u,i,o){function c(){o&&o(e(!1,void 0))}function a(n,r,u){return o?void i(n,function(r){o&&t(r)&&(o(e(!0,n)),o=i=!1),u()}):u()}arguments.length>3?n(r,u,a,c):(o=i,i=u,n(r,a,c))}}function E(n,t){return t}function L(t,e,r){r=r||n;var u=o(e)?[]:{};t(e,function(n,t,e){n(m(function(n,r){r.length<=1&&(r=r[0]),u[t]=r,e(n)}))},function(n){r(n,u)})}function I(n,t,e,r){var u=[];n(t,function(n,t,r){e(n,function(n,t){u=u.concat(t||[]),r(n)})},function(n){r(n,u)})}function x(t,e,r){function i(t,e,r,u){if(null!=u&&"function"!=typeof u)throw new Error("task callback must be a function");return t.started=!0,M(e)||(e=[e]),0===e.length&&t.idle()?C.setImmediate(function(){t.drain()}):(c(e,function(e){var i={data:e,callback:u||n};r?t.tasks.unshift(i):t.tasks.push(i),t.tasks.length===t.concurrency&&t.saturated()}),void C.setImmediate(t.process))}function o(n,t){return function(){f-=1;var e=!1,r=arguments;c(t,function(n){c(l,function(t,r){t!==n||e||(l.splice(r,1),e=!0)}),n.callback.apply(n,r)}),n.tasks.length+f===0&&n.drain(),n.process()}}if(null==e)e=1;else if(0===e)throw new Error("Concurrency must not be zero");var f=0,l=[],s={tasks:[],concurrency:e,payload:r,saturated:n,empty:n,drain:n,started:!1,paused:!1,push:function(n,t){i(s,n,!1,t)},kill:function(){s.drain=n,s.tasks=[]},unshift:function(n,t){i(s,n,!0,t)},process:function(){if(!s.paused&&f<s.concurrency&&s.tasks.length)for(;f<s.concurrency&&s.tasks.length;){var n=s.payload?s.tasks.splice(0,s.payload):s.tasks.splice(0,s.tasks.length),e=a(n,function(n){return n.data});0===s.tasks.length&&s.empty(),f+=1,l.push(n[0]);var r=u(o(s,n));t(e,r)}},length:function(){return s.tasks.length},running:function(){return f},workersList:function(){return l},idle:function(){return s.tasks.length+f===0},pause:function(){s.paused=!0},resume:function(){if(s.paused!==!1){s.paused=!1;for(var n=Math.min(s.concurrency,s.tasks.length),t=1;n>=t;t++)C.setImmediate(s.process)}}};return s}function j(n){return m(function(t,e){t.apply(null,e.concat([m(function(t,e){"object"==typeof console&&(t?console.error&&console.error(t):console[n]&&c(e,function(t){console[n](t)}))})]))})}function A(n){return function(t,e,r){n(f(t),e,r)}}function T(n){return m(function(t,e){var r=m(function(e){var r=this,u=e.pop();return n(t,function(n,t,u){n.apply(r,e.concat([u]))},u)});return e.length?r.apply(this,e):r})}function z(n){return m(function(t){var e=t.pop();t.push(function(){var n=arguments;r?C.setImmediate(function(){e.apply(null,n)}):e.apply(null,n)});var r=!0;n.apply(this,t),r=!1})}var q,C={},P="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global||this;null!=P&&(q=P.async),C.noConflict=function(){return P.async=q,C};var H=Object.prototype.toString,M=Array.isArray||function(n){return"[object Array]"===H.call(n)},U=function(n){var t=typeof n;return"function"===t||"object"===t&&!!n},W=Object.keys||function(n){var t=[];for(var e in n)n.hasOwnProperty(e)&&t.push(e);return t},B="function"==typeof setImmediate&&setImmediate,D=B?function(n){B(n)}:function(n){setTimeout(n,0)};"object"==typeof process&&"function"==typeof process.nextTick?C.nextTick=process.nextTick:C.nextTick=D,C.setImmediate=B?D:C.nextTick,C.forEach=C.each=function(n,t,e){return C.eachOf(n,y(t),e)},C.forEachSeries=C.eachSeries=function(n,t,e){return C.eachOfSeries(n,y(t),e)},C.forEachLimit=C.eachLimit=function(n,t,e,r){return v(t)(n,y(e),r)},C.forEachOf=C.eachOf=function(t,e,r){function o(n){f--,n?r(n):null===c&&0>=f&&r(null)}r=i(r||n),t=t||[];for(var c,a=h(t),f=0;null!=(c=a());)f+=1,e(t[c],c,u(o));0===f&&r(null)},C.forEachOfSeries=C.eachOfSeries=function(t,e,r){function o(){var n=!0;return null===a?r(null):(e(t[a],a,u(function(t){if(t)r(t);else{if(a=c(),null===a)return r(null);n?C.setImmediate(o):o()}})),void(n=!1))}r=i(r||n),t=t||[];var c=h(t),a=c();o()},C.forEachOfLimit=C.eachOfLimit=function(n,t,e,r){v(t)(n,e,r)},C.map=d(b),C.mapSeries=k(b),C.mapLimit=g(b),C.inject=C.foldl=C.reduce=function(n,t,e,r){C.eachOfSeries(n,function(n,r,u){e(t,n,function(n,e){t=e,u(n)})},function(n){r(n,t)})},C.foldr=C.reduceRight=function(n,e,r,u){var i=a(n,t).reverse();C.reduce(i,e,r,u)},C.transform=function(n,t,e,r){3===arguments.length&&(r=e,e=t,t=M(n)?[]:{}),C.eachOf(n,function(n,r,u){e(t,n,r,u)},function(n){r(n,t)})},C.select=C.filter=d(w),C.selectLimit=C.filterLimit=g(w),C.selectSeries=C.filterSeries=k(w),C.reject=d(O),C.rejectLimit=g(O),C.rejectSeries=k(O),C.any=C.some=S(C.eachOf,e,t),C.someLimit=S(C.eachOfLimit,e,t),C.all=C.every=S(C.eachOf,r,r),C.everyLimit=S(C.eachOfLimit,r,r),C.detect=S(C.eachOf,t,E),C.detectSeries=S(C.eachOfSeries,t,E),C.detectLimit=S(C.eachOfLimit,t,E),C.sortBy=function(n,t,e){function r(n,t){var e=n.criteria,r=t.criteria;return r>e?-1:e>r?1:0}C.map(n,function(n,e){t(n,function(t,r){t?e(t):e(null,{value:n,criteria:r})})},function(n,t){return n?e(n):void e(null,a(t.sort(r),function(n){return n.value}))})},C.auto=function(t,e,r){function u(n){d.unshift(n)}function o(n){var t=p(d,n);t>=0&&d.splice(t,1)}function a(){h--,c(d.slice(0),function(n){n()})}r||(r=e,e=null),r=i(r||n);var f=W(t),h=f.length;if(!h)return r(null);e||(e=h);var y={},v=0,d=[];u(function(){h||r(null,y)}),c(f,function(n){function i(){return e>v&&l(g,function(n,t){return n&&y.hasOwnProperty(t)},!0)&&!y.hasOwnProperty(n)}function c(){i()&&(v++,o(c),h[h.length-1](d,y))}for(var f,h=M(t[n])?t[n]:[t[n]],d=m(function(t,e){if(v--,e.length<=1&&(e=e[0]),t){var u={};s(y,function(n,t){u[t]=n}),u[n]=e,r(t,u)}else y[n]=e,C.setImmediate(a)}),g=h.slice(0,h.length-1),k=g.length;k--;){if(!(f=t[g[k]]))throw new Error("Has inexistant dependency");if(M(f)&&p(f,n)>=0)throw new Error("Has cyclic dependencies")}i()?(v++,h[h.length-1](d,y)):u(c)})},C.retry=function(n,t,e){function r(n,t){if("number"==typeof t)n.times=parseInt(t,10)||i;else{if("object"!=typeof t)throw new Error("Unsupported argument type for 'times': "+typeof t);n.times=parseInt(t.times,10)||i,n.interval=parseInt(t.interval,10)||o}}function u(n,t){function e(n,e){return function(r){n(function(n,t){r(!n||e,{err:n,result:t})},t)}}function r(n){return function(t){setTimeout(function(){t(null)},n)}}for(;a.times;){var u=!(a.times-=1);c.push(e(a.task,u)),!u&&a.interval>0&&c.push(r(a.interval))}C.series(c,function(t,e){e=e[e.length-1],(n||a.callback)(e.err,e.result)})}var i=5,o=0,c=[],a={times:i,interval:o},f=arguments.length;if(1>f||f>3)throw new Error("Invalid arguments - must be either (task), (task, callback), (times, task) or (times, task, callback)");return 2>=f&&"function"==typeof n&&(e=t,t=n),"function"!=typeof n&&r(a,n),a.callback=e,a.task=t,a.callback?u():u},C.waterfall=function(t,e){function r(n){return m(function(t,u){if(t)e.apply(null,[t].concat(u));else{var i=n.next();i?u.push(r(i)):u.push(e),z(n).apply(null,u)}})}if(e=i(e||n),!M(t)){var u=new Error("First argument to waterfall must be an array of functions");return e(u)}return t.length?void r(C.iterator(t))():e()},C.parallel=function(n,t){L(C.eachOf,n,t)},C.parallelLimit=function(n,t,e){L(v(t),n,e)},C.series=function(n,t){L(C.eachOfSeries,n,t)},C.iterator=function(n){function t(e){function r(){return n.length&&n[e].apply(null,arguments),r.next()}return r.next=function(){return e<n.length-1?t(e+1):null},r}return t(0)},C.apply=m(function(n,t){return m(function(e){return n.apply(null,t.concat(e))})}),C.concat=d(I),C.concatSeries=k(I),C.whilst=function(t,e,r){if(r=r||n,t()){var u=m(function(n,i){n?r(n):t.apply(this,i)?e(u):r(null)});e(u)}else r(null)},C.doWhilst=function(n,t,e){var r=0;return C.whilst(function(){return++r<=1||t.apply(this,arguments)},n,e)},C.until=function(n,t,e){return C.whilst(function(){return!n.apply(this,arguments)},t,e)},C.doUntil=function(n,t,e){return C.doWhilst(n,function(){return!t.apply(this,arguments)},e)},C.during=function(t,e,r){r=r||n;var u=m(function(n,e){n?r(n):(e.push(i),t.apply(this,e))}),i=function(n,t){n?r(n):t?e(u):r(null)};t(i)},C.doDuring=function(n,t,e){var r=0;C.during(function(n){r++<1?n(null,!0):t.apply(this,arguments)},n,e)},C.queue=function(n,t){var e=x(function(t,e){n(t[0],e)},t,1);return e},C.priorityQueue=function(t,e){function r(n,t){return n.priority-t.priority}function u(n,t,e){for(var r=-1,u=n.length-1;u>r;){var i=r+(u-r+1>>>1);e(t,n[i])>=0?r=i:u=i-1}return r}function i(t,e,i,o){if(null!=o&&"function"!=typeof o)throw new Error("task callback must be a function");return t.started=!0,M(e)||(e=[e]),0===e.length?C.setImmediate(function(){t.drain()}):void c(e,function(e){var c={data:e,priority:i,callback:"function"==typeof o?o:n};t.tasks.splice(u(t.tasks,c,r)+1,0,c),t.tasks.length===t.concurrency&&t.saturated(),C.setImmediate(t.process)})}var o=C.queue(t,e);return o.push=function(n,t,e){i(o,n,t,e)},delete o.unshift,o},C.cargo=function(n,t){return x(n,1,t)},C.log=j("log"),C.dir=j("dir"),C.memoize=function(n,e){var r={},u={};e=e||t;var i=m(function(t){var i=t.pop(),o=e.apply(null,t);o in r?C.setImmediate(function(){i.apply(null,r[o])}):o in u?u[o].push(i):(u[o]=[i],n.apply(null,t.concat([m(function(n){r[o]=n;var t=u[o];delete u[o];for(var e=0,i=t.length;i>e;e++)t[e].apply(null,n)})])))});return i.memo=r,i.unmemoized=n,i},C.unmemoize=function(n){return function(){return(n.unmemoized||n).apply(null,arguments)}},C.times=A(C.map),C.timesSeries=A(C.mapSeries),C.timesLimit=function(n,t,e,r){return C.mapLimit(f(n),t,e,r)},C.seq=function(){var t=arguments;return m(function(e){var r=this,u=e[e.length-1];"function"==typeof u?e.pop():u=n,C.reduce(t,e,function(n,t,e){t.apply(r,n.concat([m(function(n,t){e(n,t)})]))},function(n,t){u.apply(r,[n].concat(t))})})},C.compose=function(){return C.seq.apply(null,Array.prototype.reverse.call(arguments))},C.applyEach=T(C.eachOf),C.applyEachSeries=T(C.eachOfSeries),C.forever=function(t,e){function r(n){return n?i(n):void o(r)}var i=u(e||n),o=z(t);r()},C.ensureAsync=z,C.constant=m(function(n){var t=[null].concat(n);return function(n){return n.apply(this,t)}}),C.wrapSync=C.asyncify=function(n){return m(function(t){var e,r=t.pop();try{e=n.apply(this,t)}catch(u){return r(u)}U(e)&&"function"==typeof e.then?e.then(function(n){r(null,n)})["catch"](function(n){r(n.message?n:new Error(n))}):r(null,e)})},"object"==typeof module&&module.exports?module.exports=C:"function"==typeof define&&define.amd?define([],function(){return C}):P.async=C}();
}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"_process":14}],13:[function(require,module,exports){
exports.load=function(e,t){var n=new XMLHttpRequest;n.onreadystatechange=function(){if(4===n.readyState)if(n.status>=200&&n.status<300)t(null,n.responseText);else{var r=new Error("failed to request file '"+e+"'");r.errno=34,t(r)}};try{n.open("GET",e,!0),n.send(null)}catch(r){t(r)}};
},{}],14:[function(require,module,exports){
function cleanUpNextTick(){draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue()}function drainQueue(){if(!draining){var e=setTimeout(cleanUpNextTick);draining=!0;for(var n=queue.length;n;){for(currentQueue=queue,queue=[];++queueIndex<n;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,n=queue.length}currentQueue=null,draining=!1,clearTimeout(e)}}function Item(e,n){this.fun=e,this.array=n}function noop(){}var process=module.exports={},queue=[],draining=!1,currentQueue,queueIndex=-1;process.nextTick=function(e){var n=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)n[r-1]=arguments[r];queue.push(new Item(e,n)),1!==queue.length||draining||setTimeout(drainQueue,0)},Item.prototype.run=function(){this.fun.apply(null,this.array)},process.title="browser",process.browser=!0,process.env={},process.argv=[],process.version="",process.versions={},process.on=noop,process.addListener=noop,process.once=noop,process.off=noop,process.removeListener=noop,process.removeAllListeners=noop,process.emit=noop,process.binding=function(e){throw new Error("process.binding is not supported")},process.cwd=function(){return"/"},process.chdir=function(e){throw new Error("process.chdir is not supported")},process.umask=function(){return 0};
},{}]},{},[1])(1)
});


//# sourceMappingURL=./weblas.map.json</script><script>//~~WEBPATH~~external/com_google_javascript_closure_library/closure/goog/base.js
var h,aa="function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value)},ba="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global&&null!=global?global:this;function ha(){ha=function(){};ba.Symbol||(ba.Symbol=ia)}var ja=0;function ia(a){return"jscomp_symbol_"+(a||"")+ja++}
function ka(){ha();var a=ba.Symbol.iterator;a||(a=ba.Symbol.iterator=ba.Symbol("iterator"));"function"!=typeof Array.prototype[a]&&aa(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return la(this)}});ka=function(){}}function la(a){var b=0;return pa(function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}})}function pa(a){ka();a={next:a};a[ba.Symbol.iterator]=function(){return this};return a};
//~~WEBPATH~~external/com_google_javascript_closure_library/closure/goog/deps.js
//~~WEBPATH~~/polymer/polymer-micro.html.js
(function(){function a(){document.body.removeAttribute("unresolved")}window.WebComponents?addEventListener("WebComponentsReady",a):"interactive"===document.readyState||"complete"===document.readyState?a():addEventListener("DOMContentLoaded",a)})();var qa=window,ra=window.Polymer||{};if(!ra.noUrlSettings)for(var sa=location.search.slice(1).split("\x26"),ta=0,va;ta<sa.length&&(va=sa[ta]);ta++)va=va.split("\x3d"),va[0]&&(ra[va[0]]=va[1]||!0);ra.wantShadow="shadow"===ra.dom;ra.hasShadow=!!Element.prototype.createShadowRoot;
ra.nativeShadow=ra.hasShadow&&!window.ShadowDOMPolyfill;ra.useShadow=ra.wantShadow&&ra.hasShadow;ra.hasNativeImports="import"in document.createElement("link");ra.useNativeImports=ra.hasNativeImports;ra.useNativeCustomElements=!window.CustomElements||window.CustomElements.useNative;ra.useNativeShadow=ra.useShadow&&ra.nativeShadow;ra.usePolyfillProto=!ra.useNativeCustomElements&&!Object.__proto__;
ra.hasNativeCSSProperties=!navigator.userAgent.match("AppleWebKit/601")&&window.CSS&&CSS.supports&&CSS.supports("box-shadow","0 0 0 var(--foo)");ra.useNativeCSSProperties=ra.hasNativeCSSProperties&&ra.lazyRegister&&ra.useNativeCSSProperties;ra.isIE=navigator.userAgent.match("Trident");qa.Polymer={Settings:ra};
(function(){function a(a){var b=Polymer.Base;a.extends&&(b=Polymer.Base._getExtendedPrototype(a.extends));a=Polymer.Base.chainObject(a,b);a.registerCallback();return a}var b=window.Polymer;window.Polymer=function(b){"function"===typeof b&&(b=b.prototype);b||(b={});b=a(b);var c=b===b.constructor.prototype?b.constructor:null,d={prototype:b};b.extends&&(d.extends=b.extends);Polymer.telemetry._registrate(b);b=document.registerElement(b.is,d);return c||b};if(b)for(var c in b)Polymer[c]=b[c];Polymer.Class=
function(b){b.factoryImpl||(b.factoryImpl=function(){});return a(b).constructor}})();Polymer.telemetry={registrations:[],_regLog:function(a){console.log("["+a.is+"]: registered")},_registrate:function(a){this.registrations.push(a);Polymer.log&&this._regLog(a)},dumpRegistrations:function(){this.registrations.forEach(this._regLog)}};Object.defineProperty(window,"currentImport",{enumerable:!0,configurable:!0,get:function(){return(document._currentScript||document.currentScript||{}).ownerDocument}});
Polymer.RenderStatus={_ready:!1,_callbacks:[],whenReady:function(a){this._ready?a():this._callbacks.push(a)},_makeReady:function(){this._ready=!0;for(var a=0;a<this._callbacks.length;a++)this._callbacks[a]();this._callbacks=[]},_catchFirstRender:function(){requestAnimationFrame(function(){Polymer.RenderStatus._makeReady()})},_afterNextRenderQueue:[],_waitingNextRender:!1,afterNextRender:function(a,b,c){this._watchNextRender();this._afterNextRenderQueue.push([a,b,c])},hasRendered:function(){return this._ready},
_watchNextRender:function(){if(!this._waitingNextRender){this._waitingNextRender=!0;var a=function(){Polymer.RenderStatus._flushNextRender()};this._ready?requestAnimationFrame(a):this.whenReady(a)}},_flushNextRender:function(){var a=this;setTimeout(function(){a._flushRenderCallbacks(a._afterNextRenderQueue);a._afterNextRenderQueue=[];a._waitingNextRender=!1})},_flushRenderCallbacks:function(a){for(var b=0,c;b<a.length;b++)c=a[b],c[1].apply(c[0],c[2]||Polymer.nar)}};
window.HTMLImports?HTMLImports.whenReady(function(){Polymer.RenderStatus._catchFirstRender()}):Polymer.RenderStatus._catchFirstRender();Polymer.ImportStatus=Polymer.RenderStatus;Polymer.ImportStatus.whenLoaded=Polymer.ImportStatus.whenReady;
(function(){var a=Polymer.Settings;Polymer.Base={__isPolymerInstance__:!0,_addFeature:function(a){this.mixin(this,a)},registerCallback:function(){if("max"!==a.lazyRegister){this._desugarBehaviors();for(var b=0,c;b<this.behaviors.length;b++)c=this.behaviors[b],c.beforeRegister&&c.beforeRegister.call(this)}this.beforeRegister&&this.beforeRegister();this._registerFeatures();a.lazyRegister||this.ensureRegisterFinished()},createdCallback:function(){if(a.disableUpgradeEnabled){if(this.hasAttribute("disable-upgrade")){this._propertySetter=
b;this._configValue=null;this.__data__={};return}this.__hasInitialized=!0}this.__initialize()},__initialize:function(){this.__hasRegisterFinished||this._ensureRegisterFinished(this.__proto__);Polymer.telemetry.instanceCount++;this.root=this;for(var a=0,b;a<this.behaviors.length;a++)b=this.behaviors[a],b.created&&b.created.call(this);this.created&&this.created();this._initFeatures()},ensureRegisterFinished:function(){this._ensureRegisterFinished(this)},_ensureRegisterFinished:function(b){if(b.__hasRegisterFinished!==
b.is||!b.is){if("max"===a.lazyRegister){b._desugarBehaviors();for(var c=0,d;c<b.behaviors.length;c++)d=b.behaviors[c],d.beforeRegister&&d.beforeRegister.call(b)}b.__hasRegisterFinished=b.is;b._finishRegisterFeatures&&b._finishRegisterFeatures();for(c=0;c<b.behaviors.length;c++)d=b.behaviors[c],d.registered&&d.registered.call(b);b.registered&&b.registered();a.usePolyfillProto&&b!==this&&b.extend(this,b)}},attachedCallback:function(){var a=this;Polymer.RenderStatus.whenReady(function(){a.isAttached=
!0;for(var b=0,c;b<a.behaviors.length;b++)c=a.behaviors[b],c.attached&&c.attached.call(a);a.attached&&a.attached()})},detachedCallback:function(){var a=this;Polymer.RenderStatus.whenReady(function(){a.isAttached=!1;for(var b=0,c;b<a.behaviors.length;b++)c=a.behaviors[b],c.detached&&c.detached.call(a);a.detached&&a.detached()})},attributeChangedCallback:function(a,b,c){this._attributeChangedImpl(a);for(var d=0,e;d<this.behaviors.length;d++)e=this.behaviors[d],e.attributeChanged&&e.attributeChanged.call(this,
a,b,c);this.attributeChanged&&this.attributeChanged(a,b,c)},_attributeChangedImpl:function(a){this._setAttributeToProperty(this,a)},extend:function(a,b){if(a&&b)for(var c=Object.getOwnPropertyNames(b),d=0,e;d<c.length&&(e=c[d]);d++)this.copyOwnProperty(e,b,a);return a||b},mixin:function(a,b){for(var c in b)a[c]=b[c];return a},copyOwnProperty:function(a,b,c){(b=Object.getOwnPropertyDescriptor(b,a))&&Object.defineProperty(c,a,b)},_logger:function(a,b){1===b.length&&Array.isArray(b[0])&&(b=b[0]);switch(a){case "log":case "warn":case "error":console[a].apply(console,
b)}},_log:function(){this._logger("log",Array.prototype.slice.call(arguments,0))},_warn:function(){this._logger("warn",Array.prototype.slice.call(arguments,0))},_error:function(){this._logger("error",Array.prototype.slice.call(arguments,0))},_logf:function(){return this._logPrefix.concat(this.is).concat(Array.prototype.slice.call(arguments,0))}};Polymer.Base._logPrefix=window.chrome&&!/edge/i.test(navigator.userAgent)||/firefox/i.test(navigator.userAgent)?["%c[%s::%s]:","font-weight: bold; background-color:#EEEE00;"]:
["[%s::%s]:"];Polymer.Base.chainObject=function(a,b){a&&b&&a!==b&&(Object.__proto__||(a=Polymer.Base.extend(Object.create(b),a)),a.__proto__=b);return a};Polymer.Base=Polymer.Base.chainObject(Polymer.Base,HTMLElement.prototype);Polymer.BaseDescriptors={};if(a.disableUpgradeEnabled){var b=function(a,b){this.__data__[a]=b};var c=Polymer.Base.attributeChangedCallback;Polymer.Base.attributeChangedCallback=function(a,b,f){this.__hasInitialized||"disable-upgrade"!==a||(this.__hasInitialized=!0,this._propertySetter=
Polymer.Bind._modelApi._propertySetter,this._configValue=Polymer.Base._configValue,this.__initialize());c.call(this,a,b,f)}}Polymer.instanceof=window.CustomElements?CustomElements.instanceof:function(a,b){return a instanceof b};Polymer.isInstance=function(a){return!(!a||!a.__isPolymerInstance__)};Polymer.telemetry.instanceCount=0})();
(function(){function a(){return document.createElement("dom-module")}var b={},c={};a.prototype=Object.create(HTMLElement.prototype);Polymer.Base.mixin(a.prototype,{createdCallback:function(){this.register()},register:function(a){if(a=a||this.id||this.getAttribute("name")||this.getAttribute("is"))this.id=a,b[a]=this,c[a.toLowerCase()]=this},import:function(a,f){if(a){var e=b[a]||c[a.toLowerCase()];if(!e){if(d){e=document._currentScript||document.currentScript;e=(e&&e.ownerDocument||document).querySelectorAll("dom-module");
for(var k=e.length-1,l;0<=k&&(l=e[k])&&!l.__upgraded__;k--)CustomElements.upgrade(l)}e=b[a]||c[a.toLowerCase()]}e&&f&&(e=e.querySelector(f));return e}}});Object.defineProperty(a.prototype,"constructor",{value:a,configurable:!0,writable:!0});var d=window.CustomElements&&!CustomElements.useNative;document.registerElement("dom-module",a)})();
Polymer.Base._addFeature({_prepIs:function(){if(!this.is){var a=(document._currentScript||document.currentScript).parentNode;"dom-module"===a.localName&&(this.is=a.id||a.getAttribute("name")||a.getAttribute("is"))}this.is&&(this.is=this.is.toLowerCase())}});
Polymer.Base._addFeature({behaviors:[],_desugarBehaviors:function(){this.behaviors.length&&(this.behaviors=this._desugarSomeBehaviors(this.behaviors))},_desugarSomeBehaviors:function(a){var b=[];a=this._flattenBehaviorsList(a);for(var c=a.length-1;0<=c;c--){var d=a[c];-1===b.indexOf(d)&&(this._mixinBehavior(d),b.unshift(d))}return b},_flattenBehaviorsList:function(a){for(var b=[],c=0;c<a.length;c++){var d=a[c];d instanceof Array?b=b.concat(this._flattenBehaviorsList(d)):d?b.push(d):this._warn(this._logf("_flattenBehaviorsList",
"behavior is null, check for missing or 404 import"))}return b},_mixinBehavior:function(a){for(var b=Object.getOwnPropertyNames(a),c=a._noAccessors,d=0,e;d<b.length&&(e=b[d]);d++)Polymer.Base._behaviorProperties[e]||this.hasOwnProperty(e)||(c?this[e]=a[e]:this.copyOwnProperty(e,a,this))},_prepBehaviors:function(){this._prepFlattenedBehaviors(this.behaviors)},_prepFlattenedBehaviors:function(a){for(var b=0,c=a.length;b<c;b++)this._prepBehavior(a[b]);this._prepBehavior(this)},_marshalBehaviors:function(){for(var a=
0;a<this.behaviors.length;a++)this._marshalBehavior(this.behaviors[a]);this._marshalBehavior(this)}});Polymer.Base._behaviorProperties={hostAttributes:!0,beforeRegister:!0,registered:!0,properties:!0,observers:!0,listeners:!0,created:!0,attached:!0,detached:!0,attributeChanged:!0,ready:!0,_noAccessors:!0};
Polymer.Base._addFeature({_getExtendedPrototype:function(a){return this._getExtendedNativePrototype(a)},_nativePrototypes:{},_getExtendedNativePrototype:function(a){var b=this._nativePrototypes[a];if(!b){b=Object.create(this.getNativePrototype(a));for(var c=Object.getOwnPropertyNames(Polymer.Base),d=0,e;d<c.length&&(e=c[d]);d++)Polymer.BaseDescriptors[e]||(b[e]=Polymer.Base[e]);Object.defineProperties(b,Polymer.BaseDescriptors);this._nativePrototypes[a]=b}return b},getNativePrototype:function(a){return Object.getPrototypeOf(document.createElement(a))}});
Polymer.Base._addFeature({_prepConstructor:function(){function a(){return this._factory(arguments)}this._factoryArgs=this.extends?[this.extends,this.is]:[this.is];this.hasOwnProperty("extends")&&(a.extends=this.extends);Object.defineProperty(this,"constructor",{value:a,writable:!0,configurable:!0});a.prototype=this},_factory:function(a){var b=document.createElement.apply(document,this._factoryArgs);this.factoryImpl&&this.factoryImpl.apply(b,a);return b}});Polymer.nob=Object.create(null);
Polymer.Base._addFeature({getPropertyInfo:function(a){var b=this._getPropertyInfo(a,this.properties);if(!b)for(var c=0;c<this.behaviors.length;c++)if(b=this._getPropertyInfo(a,this.behaviors[c].properties))return b;return b||Polymer.nob},_getPropertyInfo:function(a,b){var c=b&&b[a];"function"===typeof c&&(c=b[a]={type:c});c&&(c.defined=!0);return c},_prepPropertyInfo:function(){this._propertyInfo={};for(var a=0;a<this.behaviors.length;a++)this._addPropertyInfo(this._propertyInfo,this.behaviors[a].properties);
this._addPropertyInfo(this._propertyInfo,this.properties);this._addPropertyInfo(this._propertyInfo,this._propertyEffects)},_addPropertyInfo:function(a,b){if(b){var c;for(c in b){var d=a[c];var e=b[c];if("_"!==c[0]||e.readOnly)a[c]?(d.type||(d.type=e.type),d.readOnly||(d.readOnly=e.readOnly)):a[c]={type:"function"===typeof e?e:e.type,readOnly:e.readOnly,attribute:Polymer.CaseMap.camelToDashCase(c)}}}}});var xa={configurable:!0,writable:!0,enumerable:!0,value:{}};
Polymer.BaseDescriptors.properties=xa;Object.defineProperty(Polymer.Base,"properties",xa);Polymer.CaseMap={_caseMap:{},_rx:{dashToCamel:/-[a-z]/g,camelToDash:/([A-Z])/g},dashToCamelCase:function(a){return this._caseMap[a]||(this._caseMap[a]=0>a.indexOf("-")?a:a.replace(this._rx.dashToCamel,function(a){return a[1].toUpperCase()}))},camelToDashCase:function(a){return this._caseMap[a]||(this._caseMap[a]=a.replace(this._rx.camelToDash,"-$1").toLowerCase())}};
Polymer.Base._addFeature({_addHostAttributes:function(a){this._aggregatedAttributes||(this._aggregatedAttributes={});a&&this.mixin(this._aggregatedAttributes,a)},_marshalHostAttributes:function(){this._aggregatedAttributes&&this._applyAttributes(this,this._aggregatedAttributes)},_applyAttributes:function(a,b){for(var c in b)this.hasAttribute(c)||"class"===c||this.serializeValueToAttribute(b[c],c,this)},_marshalAttributes:function(){this._takeAttributesToModel(this)},_takeAttributesToModel:function(a){if(this.hasAttributes())for(var b in this._propertyInfo){var c=
this._propertyInfo[b];this.hasAttribute(c.attribute)&&this._setAttributeToProperty(a,c.attribute,b,c)}},_setAttributeToProperty:function(a,b,c,d){this._serializing||(c=c||Polymer.CaseMap.dashToCamelCase(b),(d=d||this._propertyInfo&&this._propertyInfo[c])&&!d.readOnly&&(b=this.getAttribute(b),a[c]=this.deserialize(b,d.type)))},_serializing:!1,reflectPropertyToAttribute:function(a,b,c){this._serializing=!0;c=void 0===c?this[a]:c;this.serializeValueToAttribute(c,b||Polymer.CaseMap.camelToDashCase(a));
this._serializing=!1},serializeValueToAttribute:function(a,b,c){a=this.serialize(a);c=c||this;void 0===a?c.removeAttribute(b):c.setAttribute(b,a)},deserialize:function(a,b){switch(b){case Number:a=Number(a);break;case Boolean:a=null!=a;break;case Object:try{a=JSON.parse(a)}catch(c){}break;case Array:try{a=JSON.parse(a)}catch(c){a=null,console.warn("Polymer::Attributes: couldn`t decode Array as JSON")}break;case Date:a=new Date(a)}return a},serialize:function(a){switch(typeof a){case "boolean":return a?
"":void 0;case "object":if(a instanceof Date)return a.toString();if(a)try{return JSON.stringify(a)}catch(b){return""}default:return null!=a?a:void 0}}});Polymer.version="1.8.1";Polymer.Base._addFeature({_registerFeatures:function(){this._prepIs();this._prepBehaviors();this._prepConstructor();this._prepPropertyInfo()},_prepBehavior:function(a){this._addHostAttributes(a.hostAttributes)},_marshalBehavior:function(){},_initFeatures:function(){this._marshalHostAttributes();this._marshalBehaviors()}});
</script>











<script>//~~WEBPATH~~/polymer/polymer-mini.html.js
Polymer.Base._addFeature({_prepTemplate:function(){void 0===this._template&&(this._template=Polymer.DomModule.import(this.is,"template"));this._template&&this._template.hasAttribute("is")&&this._warn(this._logf("_prepTemplate","top-level Polymer template must not be a type-extension, found",this._template,"Move inside simple \x3ctemplate\x3e."));this._template&&!this._template.content&&window.HTMLTemplateElement&&HTMLTemplateElement.decorate&&HTMLTemplateElement.decorate(this._template)},_stampTemplate:function(){this._template&&
(this.root=this.instanceTemplate(this._template))},instanceTemplate:function(a){return document.importNode(a._content||a.content,!0)}});
(function(){var a=Polymer.Base.attachedCallback;Polymer.Base._addFeature({_hostStack:[],ready:function(){},_registerHost:function(a){(this.dataHost=a=a||Polymer.Base._hostStack[Polymer.Base._hostStack.length-1])&&a._clients&&a._clients.push(this);this._clients=null;this._clientsReadied=!1},_beginHosting:function(){Polymer.Base._hostStack.push(this);this._clients||(this._clients=[])},_endHosting:function(){Polymer.Base._hostStack.pop()},_tryReady:function(){this._readied=!1;this._canReady()&&this._ready()},
_canReady:function(){return!this.dataHost||this.dataHost._clientsReadied},_ready:function(){this._beforeClientsReady();this._template&&(this._setupRoot(),this._readyClients());this._clientsReadied=!0;this._clients=null;this._afterClientsReady();this._readySelf()},_readyClients:function(){this._beginDistribute();var a=this._clients;if(a)for(var c=0,d=a.length,e;c<d&&(e=a[c]);c++)e._ready();this._finishDistribute()},_readySelf:function(){for(var a=0,c;a<this.behaviors.length;a++)c=this.behaviors[a],
c.ready&&c.ready.call(this);this.ready&&this.ready();this._readied=!0;this._attachedPending&&(this._attachedPending=!1,this.attachedCallback())},_beforeClientsReady:function(){},_afterClientsReady:function(){},_beforeAttached:function(){},attachedCallback:function(){this._readied?(this._beforeAttached(),a.call(this)):this._attachedPending=!0}})})();
Polymer.ArraySplice=function(){function a(a,b){return{index:a,removed:[],addedCount:b}}function b(){}b.prototype={calcEditDistances:function(a,b,e,f,g,k){k=k-g+1;e=e-b+1;for(var c=Array(k),d=0;d<k;d++)c[d]=Array(e),c[d][0]=d;for(var n=0;n<e;n++)c[0][n]=n;for(d=1;d<k;d++)for(n=1;n<e;n++)if(this.equals(a[b+n-1],f[g+d-1]))c[d][n]=c[d-1][n-1];else{var q=c[d-1][n]+1,p=c[d][n-1]+1;c[d][n]=q<p?q:p}return c},spliceOperationsFromEditDistances:function(a){for(var b=a.length-1,c=a[0].length-1,f=a[b][c],g=[];0<
b||0<c;)if(0==b)g.push(2),c--;else if(0==c)g.push(3),b--;else{var k=a[b-1][c-1],l=a[b-1][c],m=a[b][c-1];var n=l<m?l<k?l:k:m<k?m:k;n==k?(k==f?g.push(0):(g.push(1),f=k),b--,c--):n==l?(g.push(3),b--,f=l):(g.push(2),c--,f=m)}g.reverse();return g},calcSplices:function(b,d,e,f,g,k){var c=0,m=0,n=Math.min(e-d,k-g);0==d&&0==g&&(c=this.sharedPrefix(b,f,n));e==b.length&&k==f.length&&(m=this.sharedSuffix(b,f,n-c));d+=c;g+=c;e-=m;k-=m;if(0==e-d&&0==k-g)return[];if(d==e){for(b=a(d,0);g<k;)b.removed.push(f[g++]);
return[b]}if(g==k)return[a(d,e-d)];k=this.spliceOperationsFromEditDistances(this.calcEditDistances(b,d,e,f,g,k));b=void 0;e=[];for(c=0;c<k.length;c++)switch(k[c]){case 0:b&&(e.push(b),b=void 0);d++;g++;break;case 1:b||(b=a(d,0));b.addedCount++;d++;b.removed.push(f[g]);g++;break;case 2:b||(b=a(d,0));b.addedCount++;d++;break;case 3:b||(b=a(d,0)),b.removed.push(f[g]),g++}b&&e.push(b);return e},sharedPrefix:function(a,b,e){for(var c=0;c<e;c++)if(!this.equals(a[c],b[c]))return c;return e},sharedSuffix:function(a,
b,e){for(var c=a.length,d=b.length,k=0;k<e&&this.equals(a[--c],b[--d]);)k++;return k},calculateSplices:function(a,b){return this.calcSplices(a,0,a.length,b,0,b.length)},equals:function(a,b){return a===b}};return new b}();
Polymer.domInnerHTML=function(){function a(a){switch(a){case "\x26":return"\x26amp;";case "\x3c":return"\x26lt;";case "\x3e":return"\x26gt;";case '"':return"\x26quot;";case "\u00a0":return"\x26nbsp;"}}function b(a){for(var b={},c=0;c<a.length;c++)b[a[c]]=!0;return b}function c(b,l){b instanceof HTMLTemplateElement&&(b=b.content);for(var k="",n=Polymer.dom(b).childNodes,q=0,p=n.length,t;q<p&&(t=n[q]);q++){a:{var r=t;var u=b;var v=l;switch(r.nodeType){case Node.ELEMENT_NODE:for(var z=r.localName,w=
"\x3c"+z,A=r.attributes,y=0;u=A[y];y++)w+=" "+u.name+'\x3d"'+u.value.replace(d,a)+'"';w+="\x3e";r=f[z]?w:w+c(r,v)+"\x3c/"+z+"\x3e";break a;case Node.TEXT_NODE:r=r.data;r=u&&g[u.localName]?r:r.replace(e,a);break a;case Node.COMMENT_NODE:r="\x3c!--"+r.data+"--\x3e";break a;default:throw console.error(r),Error("not implemented");}}k+=r}return k}var d=/[&\u00A0"]/g,e=/[&\u00A0<>]/g,f=b("area base br col command embed hr img input keygen link meta param source track wbr".split(" ")),g=b("style script xmp iframe noembed noframes plaintext noscript".split(" "));
return{getInnerHTML:c}}();
(function(){var a=Element.prototype.insertBefore,b=Element.prototype.appendChild,c=Element.prototype.removeChild;Polymer.TreeApi={arrayCopyChildNodes:function(a){var b=[],c=0;for(a=a.firstChild;a;a=a.nextSibling)b[c++]=a;return b},arrayCopyChildren:function(a){var b=[],c=0;for(a=a.firstElementChild;a;a=a.nextElementSibling)b[c++]=a;return b},arrayCopy:function(a){for(var b=a.length,c=Array(b),d=0;d<b;d++)c[d]=a[d];return c}};Polymer.TreeApi.Logical={hasParentNode:function(a){return!(!a.__dom||!a.__dom.parentNode)},
hasChildNodes:function(a){return!(!a.__dom||void 0===a.__dom.childNodes)},getChildNodes:function(a){return this.hasChildNodes(a)?this._getChildNodes(a):a.childNodes},_getChildNodes:function(a){if(!a.__dom.childNodes){a.__dom.childNodes=[];for(var b=a.__dom.firstChild;b;b=b.__dom.nextSibling)a.__dom.childNodes.push(b)}return a.__dom.childNodes},getParentNode:function(a){return a.__dom&&void 0!==a.__dom.parentNode?a.__dom.parentNode:a.parentNode},getFirstChild:function(a){return a.__dom&&void 0!==a.__dom.firstChild?
a.__dom.firstChild:a.firstChild},getLastChild:function(a){return a.__dom&&void 0!==a.__dom.lastChild?a.__dom.lastChild:a.lastChild},getNextSibling:function(a){return a.__dom&&void 0!==a.__dom.nextSibling?a.__dom.nextSibling:a.nextSibling},getPreviousSibling:function(a){return a.__dom&&void 0!==a.__dom.previousSibling?a.__dom.previousSibling:a.previousSibling},getFirstElementChild:function(a){return a.__dom&&void 0!==a.__dom.firstChild?this._getFirstElementChild(a):a.firstElementChild},_getFirstElementChild:function(a){for(a=
a.__dom.firstChild;a&&a.nodeType!==Node.ELEMENT_NODE;)a=a.__dom.nextSibling;return a},getLastElementChild:function(a){return a.__dom&&void 0!==a.__dom.lastChild?this._getLastElementChild(a):a.lastElementChild},_getLastElementChild:function(a){for(a=a.__dom.lastChild;a&&a.nodeType!==Node.ELEMENT_NODE;)a=a.__dom.previousSibling;return a},getNextElementSibling:function(a){return a.__dom&&void 0!==a.__dom.nextSibling?this._getNextElementSibling(a):a.nextElementSibling},_getNextElementSibling:function(a){for(a=
a.__dom.nextSibling;a&&a.nodeType!==Node.ELEMENT_NODE;)a=a.__dom.nextSibling;return a},getPreviousElementSibling:function(a){return a.__dom&&void 0!==a.__dom.previousSibling?this._getPreviousElementSibling(a):a.previousElementSibling},_getPreviousElementSibling:function(a){for(a=a.__dom.previousSibling;a&&a.nodeType!==Node.ELEMENT_NODE;)a=a.__dom.previousSibling;return a},saveChildNodes:function(a){if(!this.hasChildNodes(a)){a.__dom=a.__dom||{};a.__dom.firstChild=a.firstChild;a.__dom.lastChild=a.lastChild;
a.__dom.childNodes=[];for(var b=a.firstChild;b;b=b.nextSibling)b.__dom=b.__dom||{},b.__dom.parentNode=a,a.__dom.childNodes.push(b),b.__dom.nextSibling=b.nextSibling,b.__dom.previousSibling=b.previousSibling}},recordInsertBefore:function(a,b,c){b.__dom.childNodes=null;if(a.nodeType===Node.DOCUMENT_FRAGMENT_NODE)for(a=a.firstChild;a;a=a.nextSibling)this._linkNode(a,b,c);else this._linkNode(a,b,c)},_linkNode:function(a,b,c){a.__dom=a.__dom||{};b.__dom=b.__dom||{};c&&(c.__dom=c.__dom||{});a.__dom.previousSibling=
c?c.__dom.previousSibling:b.__dom.lastChild;a.__dom.previousSibling&&(a.__dom.previousSibling.__dom.nextSibling=a);a.__dom.nextSibling=c||null;a.__dom.nextSibling&&(a.__dom.nextSibling.__dom.previousSibling=a);a.__dom.parentNode=b;c?c===b.__dom.firstChild&&(b.__dom.firstChild=a):(b.__dom.lastChild=a,b.__dom.firstChild||(b.__dom.firstChild=a));b.__dom.childNodes=null},recordRemoveChild:function(a,b){a.__dom=a.__dom||{};b.__dom=b.__dom||{};a===b.__dom.firstChild&&(b.__dom.firstChild=a.__dom.nextSibling);
a===b.__dom.lastChild&&(b.__dom.lastChild=a.__dom.previousSibling);var c=a.__dom.previousSibling,d=a.__dom.nextSibling;c&&(c.__dom.nextSibling=d);d&&(d.__dom.previousSibling=c);a.__dom.parentNode=a.__dom.previousSibling=a.__dom.nextSibling=void 0;b.__dom.childNodes=null}};Polymer.TreeApi.Composed={getChildNodes:function(a){return Polymer.TreeApi.arrayCopyChildNodes(a)},getParentNode:function(a){return a.parentNode},clearChildNodes:function(a){a.textContent=""},insertBefore:function(b,c,f){return a.call(b,
c,f||null)},appendChild:function(a,c){return b.call(a,c)},removeChild:function(a,b){return c.call(a,b)}}})();
Polymer.DomApi=function(){function a(b){this.node=d?a.wrap(b):b}var b=Polymer.Settings,c=Polymer.TreeApi,d=b.hasShadow&&!b.nativeShadow;a.wrap=window.wrap?window.wrap:function(a){return a};a.prototype={flush:function(){Polymer.dom.flush()},deepContains:function(a){if(this.node.contains(a))return!0;var b=a;for(a=a.ownerDocument;b&&b!==a&&b!==this.node;)b=Polymer.dom(b).parentNode||b.host;return b===this.node},queryDistributedElements:function(b){for(var c=this.getEffectiveChildNodes(),d=[],e=0,f=c.length,
g;e<f&&(g=c[e]);e++)g.nodeType===Node.ELEMENT_NODE&&a.matchesSelector.call(g,b)&&d.push(g);return d},getEffectiveChildNodes:function(){for(var a=[],b=this.childNodes,c=0,d=b.length,n;c<d&&(n=b[c]);c++)if(n.localName===e)for(var q=f(n).getDistributedNodes(),p=0;p<q.length;p++)a.push(q[p]);else a.push(n);return a},observeNodes:function(b){if(b)return this.observer||(this.observer=this.node.localName===e?new a.DistributedNodesObserver(this):new a.EffectiveNodesObserver(this)),this.observer.addListener(b)},
unobserveNodes:function(a){this.observer&&this.observer.removeListener(a)},notifyObserver:function(){this.observer&&this.observer.notify()},_query:function(a,b,d){b=b||this.node;var e=[];this._queryElements(c.Logical.getChildNodes(b),a,d,e);return e},_queryElements:function(a,b,c,d){for(var e=0,f=a.length,g;e<f&&(g=a[e]);e++)if(g.nodeType===Node.ELEMENT_NODE&&this._queryElement(g,b,c,d))return!0},_queryElement:function(a,b,d,e){var f=b(a);f&&e.push(a);if(d&&d(f))return f;this._queryElements(c.Logical.getChildNodes(a),
b,d,e)}};var e=a.CONTENT="content",f=a.factory=function(b){b=b||document;b.__domApi||(b.__domApi=new a.ctor(b));return b.__domApi};a.hasApi=function(a){return!!a.__domApi};a.ctor=a;Polymer.dom=function(b,c){return b instanceof Event?Polymer.EventApi.factory(b):a.factory(b,c)};b=Element.prototype;a.matchesSelector=b.matches||b.matchesSelector||b.mozMatchesSelector||b.msMatchesSelector||b.oMatchesSelector||b.webkitMatchesSelector;return a}();
(function(){var a=Polymer.DomApi,b=a.factory,c=Polymer.TreeApi,d=Polymer.domInnerHTML.getInnerHTML,e=a.CONTENT;if(!Polymer.Settings.useShadow){var f=Element.prototype.cloneNode,g=Document.prototype.importNode;Polymer.Base.mixin(a.prototype,{_lazyDistribute:function(a){a.shadyRoot&&a.shadyRoot._distributionClean&&(a.shadyRoot._distributionClean=!1,Polymer.dom.addDebouncer(a.debounce("_distribute",a._distributeContent)))},appendChild:function(a){return this.insertBefore(a)},insertBefore:function(d,
f){if(f&&c.Logical.getParentNode(f)!==this.node)throw Error("The ref_node to be inserted before is not a child of this node");if(d.nodeType!==Node.DOCUMENT_FRAGMENT_NODE){var g=c.Logical.getParentNode(d);g?(a.hasApi(g)&&b(g).notifyObserver(),this._removeNode(d)):this._removeOwnerShadyRoot(d)}this._addNode(d,f)||(f&&(f=f.localName===e?this._firstComposedNode(f):f),g=this.node._isShadyRoot?this.node.host:this.node,f?c.Composed.insertBefore(g,d,f):c.Composed.appendChild(g,d));this.notifyObserver();return d},
_addNode:function(a,b){var d=this.getOwnerRoot();if(d){var e=this._maybeAddInsertionPoint(a,this.node);d._invalidInsertionPoints||(d._invalidInsertionPoints=e);this._addNodeToHost(d.host,a)}c.Logical.hasChildNodes(this.node)&&c.Logical.recordInsertBefore(a,this.node,b);if(b=this._maybeDistribute(a)||this.node.shadyRoot)if(a.nodeType===Node.DOCUMENT_FRAGMENT_NODE)for(;a.firstChild;)c.Composed.removeChild(a,a.firstChild);else(d=c.Composed.getParentNode(a))&&c.Composed.removeChild(d,a);return b},removeChild:function(a){if(c.Logical.getParentNode(a)!==
this.node)throw Error("The node to be removed is not a child of this node: "+a);if(!this._removeNode(a)){var b=this.node._isShadyRoot?this.node.host:this.node;b===c.Composed.getParentNode(a)&&c.Composed.removeChild(b,a)}this.notifyObserver();return a},_removeNode:function(a){var d=c.Logical.hasParentNode(a)&&c.Logical.getParentNode(a),e=this._ownerShadyRootForNode(a);if(d){var f=b(a)._maybeDistributeParent();c.Logical.recordRemoveChild(a,d);e&&this._removeDistributedChildren(e,a)&&(e._invalidInsertionPoints=
!0,this._lazyDistribute(e.host))}this._removeOwnerShadyRoot(a);e&&this._removeNodeFromHost(e.host,a);return f},replaceChild:function(a,b){this.insertBefore(a,b);this.removeChild(b);return a},_hasCachedOwnerRoot:function(a){return void 0!==a._ownerShadyRoot},getOwnerRoot:function(){return this._ownerShadyRootForNode(this.node)},_ownerShadyRootForNode:function(a){if(a){var b=a._ownerShadyRoot;void 0===b&&(b=a._isShadyRoot?a:(b=c.Logical.getParentNode(a))?b._isShadyRoot?b:this._ownerShadyRootForNode(b):
null,b||document.documentElement.contains(a))&&(a._ownerShadyRoot=b);return b}},_maybeDistribute:function(a){var d=a.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&!a.__noContent&&b(a).querySelector(e),f=d&&c.Logical.getParentNode(d).nodeType!==Node.DOCUMENT_FRAGMENT_NODE;(a=d||a.localName===e)&&(d=this.getOwnerRoot())&&this._lazyDistribute(d.host);(d=this._nodeNeedsDistribution(this.node))&&this._lazyDistribute(this.node);return d||a&&!f},_maybeAddInsertionPoint:function(a,d){if(a.nodeType!==Node.DOCUMENT_FRAGMENT_NODE||
a.__noContent)a.localName===e&&(c.Logical.saveChildNodes(d),c.Logical.saveChildNodes(a),t=!0);else for(var f=b(a).querySelectorAll(e),g=0,k,l;g<f.length&&(k=f[g]);g++){l=c.Logical.getParentNode(k);l===a&&(l=d);l=this._maybeAddInsertionPoint(k,l);var t=t||l}return t},_updateInsertionPoints:function(a){a=a.shadyRoot._insertionPoints=b(a.shadyRoot).querySelectorAll(e);for(var d=0,f;d<a.length;d++)f=a[d],c.Logical.saveChildNodes(f),c.Logical.saveChildNodes(c.Logical.getParentNode(f))},_nodeNeedsDistribution:function(b){return b&&
b.shadyRoot&&a.hasInsertionPoint(b.shadyRoot)},_addNodeToHost:function(a,b){a._elementAdd&&a._elementAdd(b)},_removeNodeFromHost:function(a,b){a._elementRemove&&a._elementRemove(b)},_removeDistributedChildren:function(a,d){a=a._insertionPoints;for(var e=0;e<a.length;e++){var f=a[e];if(this._contains(d,f)){f=b(f).getDistributedNodes();for(var g=0;g<f.length;g++){var k=!0;var l=f[g],r=c.Composed.getParentNode(l);r&&c.Composed.removeChild(r,l)}}}return k},_contains:function(a,b){for(;b;){if(b==a)return!0;
b=c.Logical.getParentNode(b)}},_removeOwnerShadyRoot:function(a){if(this._hasCachedOwnerRoot(a))for(var b=c.Logical.getChildNodes(a),d=0,e=b.length,f;d<e&&(f=b[d]);d++)this._removeOwnerShadyRoot(f);a._ownerShadyRoot=void 0},_firstComposedNode:function(a){for(var c=b(a).getDistributedNodes(),d=0,e=c.length,f,g;d<e&&(f=c[d]);d++)if(g=b(f).getDestinationInsertionPoints(),g[g.length-1]===a)return f},querySelector:function(b){return this._query(function(c){return a.matchesSelector.call(c,b)},this.node,
function(a){return!!a})[0]||null},querySelectorAll:function(b){return this._query(function(c){return a.matchesSelector.call(c,b)},this.node)},getDestinationInsertionPoints:function(){return this.node._destinationInsertionPoints||[]},getDistributedNodes:function(){return this.node._distributedNodes||[]},_clear:function(){for(;this.childNodes.length;)this.removeChild(this.childNodes[0])},setAttribute:function(a,b){this.node.setAttribute(a,b);this._maybeDistributeParent()},removeAttribute:function(a){this.node.removeAttribute(a);
this._maybeDistributeParent()},_maybeDistributeParent:function(){if(this._nodeNeedsDistribution(this.parentNode))return this._lazyDistribute(this.parentNode),!0},cloneNode:function(a){var c=f.call(this.node,!1);if(a){a=this.childNodes;for(var d=b(c),e=0,g;e<a.length;e++)g=b(a[e]).cloneNode(!0),d.appendChild(g)}return c},importNode:function(a,d){var e=this.node instanceof Document?this.node:this.node.ownerDocument,f=g.call(e,a,!1);if(d){a=c.Logical.getChildNodes(a);d=b(f);for(var k=0,l;k<a.length;k++)l=
b(e).importNode(a[k],!0),d.appendChild(l)}return f},_getComposedInnerHTML:function(){return d(this.node,!0)}});Object.defineProperties(a.prototype,{activeElement:{get:function(){var a=document.activeElement;if(!a)return null;var c=!!this.node._isShadyRoot;if(!(this.node===document||c&&this.node.host!==a&&this.node.host.contains(a)))return null;for(c=b(a).getOwnerRoot();c&&c!==this.node;)a=c.host,c=b(a).getOwnerRoot();return this.node===document?c?null:a:c===this.node?a:null},configurable:!0},childNodes:{get:function(){var a=
c.Logical.getChildNodes(this.node);return Array.isArray(a)?a:c.arrayCopyChildNodes(this.node)},configurable:!0},children:{get:function(){return c.Logical.hasChildNodes(this.node)?Array.prototype.filter.call(this.childNodes,function(a){return a.nodeType===Node.ELEMENT_NODE}):c.arrayCopyChildren(this.node)},configurable:!0},parentNode:{get:function(){return c.Logical.getParentNode(this.node)},configurable:!0},firstChild:{get:function(){return c.Logical.getFirstChild(this.node)},configurable:!0},lastChild:{get:function(){return c.Logical.getLastChild(this.node)},
configurable:!0},nextSibling:{get:function(){return c.Logical.getNextSibling(this.node)},configurable:!0},previousSibling:{get:function(){return c.Logical.getPreviousSibling(this.node)},configurable:!0},firstElementChild:{get:function(){return c.Logical.getFirstElementChild(this.node)},configurable:!0},lastElementChild:{get:function(){return c.Logical.getLastElementChild(this.node)},configurable:!0},nextElementSibling:{get:function(){return c.Logical.getNextElementSibling(this.node)},configurable:!0},
previousElementSibling:{get:function(){return c.Logical.getPreviousElementSibling(this.node)},configurable:!0},textContent:{get:function(){var a=this.node.nodeType;if(a===Node.TEXT_NODE||a===Node.COMMENT_NODE)return this.node.textContent;a=[];for(var b=0,c=this.childNodes,d;d=c[b];b++)d.nodeType!==Node.COMMENT_NODE&&a.push(d.textContent);return a.join("")},set:function(a){var b=this.node.nodeType;b===Node.TEXT_NODE||b===Node.COMMENT_NODE?this.node.textContent=a:(this._clear(),a&&this.appendChild(document.createTextNode(a)))},
configurable:!0},innerHTML:{get:function(){var a=this.node.nodeType;return a===Node.TEXT_NODE||a===Node.COMMENT_NODE?null:d(this.node)},set:function(a){var b=this.node.nodeType;if(b!==Node.TEXT_NODE||b!==Node.COMMENT_NODE)for(this._clear(),b=document.createElement("div"),b.innerHTML=a,a=c.arrayCopyChildNodes(b),b=0;b<a.length;b++)this.appendChild(a[b])},configurable:!0}});a.hasInsertionPoint=function(a){return!(!a||!a._insertionPoints.length)}}})();
(function(){var a=Polymer.TreeApi,b=Polymer.DomApi;if(Polymer.Settings.useShadow){Polymer.Base.mixin(b.prototype,{querySelectorAll:function(b){return a.arrayCopy(this.node.querySelectorAll(b))},getOwnerRoot:function(){for(var a=this.node;a;){if(a.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&a.host)return a;a=a.parentNode}},importNode:function(a,b){return(this.node instanceof Document?this.node:this.node.ownerDocument).importNode(a,b)},getDestinationInsertionPoints:function(){var b=this.node.getDestinationInsertionPoints&&
this.node.getDestinationInsertionPoints();return b?a.arrayCopy(b):[]},getDistributedNodes:function(){var b=this.node.getDistributedNodes&&this.node.getDistributedNodes();return b?a.arrayCopy(b):[]}});Object.defineProperties(b.prototype,{activeElement:{get:function(){var a=b.wrap(this.node),c=a.activeElement;return a.contains(c)?c:null},configurable:!0},childNodes:{get:function(){return a.arrayCopyChildNodes(this.node)},configurable:!0},children:{get:function(){return a.arrayCopyChildren(this.node)},
configurable:!0},textContent:{get:function(){return this.node.textContent},set:function(a){return this.node.textContent=a},configurable:!0},innerHTML:{get:function(){return this.node.innerHTML},set:function(a){return this.node.innerHTML=a},configurable:!0}});var c=function(a){b.prototype[a]=function(){return this.node[a].apply(this.node,arguments)}};(function(a){for(var b=0;b<a.length;b++)c(a[b])})("cloneNode appendChild insertBefore removeChild replaceChild setAttribute removeAttribute querySelector".split(" "));
var d=function(a){Object.defineProperty(b.prototype,a,{get:function(){return this.node[a]},configurable:!0})};(function(a){for(var b=0;b<a.length;b++)d(a[b])})("parentNode firstChild lastChild nextSibling previousSibling firstElementChild lastElementChild nextElementSibling previousElementSibling".split(" "))}})();
Polymer.Base.mixin(Polymer.dom,{_flushGuard:0,_FLUSH_MAX:100,_needsTakeRecords:!Polymer.Settings.useNativeCustomElements,_debouncers:[],_staticFlushList:[],_finishDebouncer:null,flush:function(){this._flushGuard=0;for(this._prepareFlush();this._debouncers.length&&this._flushGuard<this._FLUSH_MAX;){for(;this._debouncers.length;)this._debouncers.shift().complete();this._finishDebouncer&&this._finishDebouncer.complete();this._prepareFlush();this._flushGuard++}this._flushGuard>=this._FLUSH_MAX&&console.warn("Polymer.dom.flush aborted. Flush may not be complete.")},
_prepareFlush:function(){this._needsTakeRecords&&CustomElements.takeRecords();for(var a=0;a<this._staticFlushList.length;a++)this._staticFlushList[a]()},addStaticFlush:function(a){this._staticFlushList.push(a)},removeStaticFlush:function(a){a=this._staticFlushList.indexOf(a);0<=a&&this._staticFlushList.splice(a,1)},addDebouncer:function(a){this._debouncers.push(a);this._finishDebouncer=Polymer.Debounce(this._finishDebouncer,this._finishFlush)},_finishFlush:function(){Polymer.dom._debouncers=[]}});
Polymer.EventApi=function(){var a=Polymer.DomApi.ctor,b=Polymer.Settings;a.Event=function(a){this.event=a};a.Event.prototype=b.useShadow?{get rootTarget(){return this.event.path[0]},get localTarget(){return this.event.target},get path(){var a=this.event.path;Array.isArray(a)||(a=Array.prototype.slice.call(a));return a}}:{get rootTarget(){return this.event.target},get localTarget(){var a=this.event.currentTarget;a=a&&Polymer.dom(a).getOwnerRoot();for(var b=this.path,e=0;e<b.length;e++)if(Polymer.dom(b[e]).getOwnerRoot()===
a)return b[e]},get path(){if(!this.event._path){for(var a=[],b=this.rootTarget;b;){a.push(b);var e=Polymer.dom(b).getDestinationInsertionPoints();if(e.length){for(b=0;b<e.length-1;b++)a.push(e[b]);b=e[e.length-1]}else b=Polymer.dom(b).parentNode||b.host}a.push(window);this.event._path=a}return this.event._path}};return{factory:function(b){b.__eventApi||(b.__eventApi=new a.Event(b));return b.__eventApi}}}();
(function(){var a=Polymer.DomApi.ctor,b=Polymer.Settings.useShadow;Object.defineProperty(a.prototype,"classList",{get:function(){this._classList||(this._classList=new a.ClassList(this));return this._classList},configurable:!0});a.ClassList=function(a){this.domApi=a;this.node=a.node};a.ClassList.prototype={add:function(){this.node.classList.add.apply(this.node.classList,arguments);this._distributeParent()},remove:function(){this.node.classList.remove.apply(this.node.classList,arguments);this._distributeParent()},
toggle:function(){this.node.classList.toggle.apply(this.node.classList,arguments);this._distributeParent()},_distributeParent:function(){b||this.domApi._maybeDistributeParent()},contains:function(){return this.node.classList.contains.apply(this.node.classList,arguments)}}})();
(function(){var a=Polymer.DomApi.ctor,b=Polymer.Settings;a.EffectiveNodesObserver=function(a){this.domApi=a;this.node=this.domApi.node;this._listeners=[]};a.EffectiveNodesObserver.prototype={addListener:function(a){this._isSetup||(this._setup(),this._isSetup=!0);a={fn:a,_nodes:[]};this._listeners.push(a);this._scheduleNotify();return a},removeListener:function(a){var b=this._listeners.indexOf(a);0<=b&&(this._listeners.splice(b,1),a._nodes=[]);this._hasListeners()||(this._cleanup(),this._isSetup=!1)},
_setup:function(){this._observeContentElements(this.domApi.childNodes)},_cleanup:function(){this._unobserveContentElements(this.domApi.childNodes)},_hasListeners:function(){return!!this._listeners.length},_scheduleNotify:function(){this._debouncer&&this._debouncer.stop();this._debouncer=Polymer.Debounce(this._debouncer,this._notify);this._debouncer.context=this;Polymer.dom.addDebouncer(this._debouncer)},notify:function(){this._hasListeners()&&this._scheduleNotify()},_notify:function(){this._beforeCallListeners();
this._callListeners()},_beforeCallListeners:function(){this._updateContentElements()},_updateContentElements:function(){this._observeContentElements(this.domApi.childNodes)},_observeContentElements:function(a){for(var b=0,c;b<a.length&&(c=a[b]);b++)this._isContent(c)&&(c.__observeNodesMap=c.__observeNodesMap||new WeakMap,c.__observeNodesMap.has(this)||c.__observeNodesMap.set(this,this._observeContent(c)))},_observeContent:function(a){var b=this;a=Polymer.dom(a).observeNodes(function(){b._scheduleNotify()});
a._avoidChangeCalculation=!0;return a},_unobserveContentElements:function(a){for(var b=0,c,d;b<a.length&&(c=a[b]);b++)this._isContent(c)&&(d=c.__observeNodesMap.get(this))&&(Polymer.dom(c).unobserveNodes(d),c.__observeNodesMap.delete(this))},_isContent:function(a){return"content"===a.localName},_callListeners:function(){for(var a=this._listeners,b=this._getEffectiveNodes(),c=0,d;c<a.length&&(d=a[c]);c++){var l=this._generateListenerInfo(d,b);(l||d._alwaysNotify)&&this._callListener(d,l)}},_getEffectiveNodes:function(){return this.domApi.getEffectiveChildNodes()},
_generateListenerInfo:function(a,b){if(a._avoidChangeCalculation)return!0;for(var c={target:this.node,addedNodes:[],removedNodes:[]},d=Polymer.ArraySplice.calculateSplices(b,a._nodes),e=0,f;e<d.length&&(f=d[e]);e++)for(var n=0,q;n<f.removed.length&&(q=f.removed[n]);n++)c.removedNodes.push(q);e=0;for(f;e<d.length&&(f=d[e]);e++)for(n=f.index;n<f.index+f.addedCount;n++)c.addedNodes.push(b[n]);a._nodes=b;if(c.addedNodes.length||c.removedNodes.length)return c},_callListener:function(a,b){return a.fn.call(this.node,
b)},enableShadowAttributeTracking:function(){}};if(b.useShadow){var c=a.EffectiveNodesObserver.prototype._setup,d=a.EffectiveNodesObserver.prototype._cleanup;Polymer.Base.mixin(a.EffectiveNodesObserver.prototype,{_setup:function(){if(!this._observer){var a=this;this._mutationHandler=function(b){b&&b.length&&a._scheduleNotify()};this._observer=new MutationObserver(this._mutationHandler);this._boundFlush=function(){a._flush()};Polymer.dom.addStaticFlush(this._boundFlush);this._observer.observe(this.node,
{childList:!0})}c.call(this)},_cleanup:function(){this._observer.disconnect();this._mutationHandler=this._observer=null;Polymer.dom.removeStaticFlush(this._boundFlush);d.call(this)},_flush:function(){this._observer&&this._mutationHandler(this._observer.takeRecords())},enableShadowAttributeTracking:function(){if(this._observer){this._makeContentListenersAlwaysNotify();this._observer.disconnect();this._observer.observe(this.node,{childList:!0,attributes:!0,subtree:!0});var a=this.domApi.getOwnerRoot();
(a=a&&a.host)&&Polymer.dom(a).observer&&Polymer.dom(a).observer.enableShadowAttributeTracking()}},_makeContentListenersAlwaysNotify:function(){for(var a=0,b;a<this._listeners.length;a++)b=this._listeners[a],b._alwaysNotify=b._isContentListener}})}})();
(function(){var a=Polymer.DomApi.ctor,b=Polymer.Settings;a.DistributedNodesObserver=function(b){a.EffectiveNodesObserver.call(this,b)};a.DistributedNodesObserver.prototype=Object.create(a.EffectiveNodesObserver.prototype);Polymer.Base.mixin(a.DistributedNodesObserver.prototype,{_setup:function(){},_cleanup:function(){},_beforeCallListeners:function(){},_getEffectiveNodes:function(){return this.domApi.getDistributedNodes()}});b.useShadow&&Polymer.Base.mixin(a.DistributedNodesObserver.prototype,{_setup:function(){if(!this._observer){var a=
this.domApi.getOwnerRoot();if(a=a&&a.host){var b=this;this._observer=Polymer.dom(a).observeNodes(function(){b._scheduleNotify()});this._observer._isContentListener=!0;this._hasAttrSelect()&&Polymer.dom(a).observer.enableShadowAttributeTracking()}}},_hasAttrSelect:function(){var a=this.node.getAttribute("select");return a&&a.match(/[[.]+/)},_cleanup:function(){var a=this.domApi.getOwnerRoot();(a=a&&a.host)&&Polymer.dom(a).unobserveNodes(this._observer);this._observer=null}})})();
(function(){function a(a,b){b._distributedNodes.push(a);var c=a._destinationInsertionPoints;c?c.push(b):a._destinationInsertionPoints=[b]}function b(a){for(var b=d.Logical.getChildNodes(a),c=0,e;c<b.length;c++)if(e=b[c],e.localName&&"content"===e.localName)return a.domHost}var c=Polymer.DomApi,d=Polymer.TreeApi;Polymer.Base._addFeature({_prepShady:function(){this._useContent=this._useContent||!!this._template},_setupShady:function(){this.shadyRoot=null;this.__domApi||(this.__domApi=null);this.__dom||
(this.__dom=null);this._ownerShadyRoot||(this._ownerShadyRoot=void 0)},_poolContent:function(){this._useContent&&d.Logical.saveChildNodes(this)},_setupRoot:function(){if(this._useContent&&(this._createLocalRoot(),!this.dataHost)){var a=d.Logical.getChildNodes(this);if(f&&a)for(var b=0;b<a.length;b++)CustomElements.upgrade(a[b])}},_createLocalRoot:function(){this.shadyRoot=this.root;this.shadyRoot._distributionClean=!1;this.shadyRoot._hasDistributed=!1;this.shadyRoot._isShadyRoot=!0;this.shadyRoot._dirtyRoots=
[];var a=this.shadyRoot._insertionPoints=!this._notes||this._notes._hasContent?this.shadyRoot.querySelectorAll("content"):[];d.Logical.saveChildNodes(this.shadyRoot);for(var b=0,c;b<a.length;b++)c=a[b],d.Logical.saveChildNodes(c),d.Logical.saveChildNodes(c.parentNode);this.shadyRoot.host=this},distributeContent:function(a){if(this.shadyRoot){this.shadyRoot._invalidInsertionPoints=this.shadyRoot._invalidInsertionPoints||a;for(a=this;a&&b(a);)a=a.domHost;Polymer.dom(this)._lazyDistribute(a)}},_distributeContent:function(){this._useContent&&
!this.shadyRoot._distributionClean&&(this.shadyRoot._invalidInsertionPoints&&(Polymer.dom(this)._updateInsertionPoints(this),this.shadyRoot._invalidInsertionPoints=!1),this._beginDistribute(),this._distributeDirtyRoots(),this._finishDistribute())},_beginDistribute:function(){this._useContent&&c.hasInsertionPoint(this.shadyRoot)&&(this._resetDistribution(),this._distributePool(this.shadyRoot,this._collectPool()))},_distributeDirtyRoots:function(){for(var a=this.shadyRoot._dirtyRoots,b=0,c=a.length,
d;b<c&&(d=a[b]);b++)d._distributeContent();this.shadyRoot._dirtyRoots=[]},_finishDistribute:function(){if(this._useContent){this.shadyRoot._distributionClean=!0;if(c.hasInsertionPoint(this.shadyRoot)){this._composeTree();for(var a=this.shadyRoot,b=0,e;b<a._insertionPoints.length;b++)e=a._insertionPoints[b],c.hasApi(e)&&Polymer.dom(e).notifyObserver()}else this.shadyRoot._hasDistributed?(a=this._composeNode(this),this._updateChildNodes(this,a)):(d.Composed.clearChildNodes(this),this.appendChild(this.shadyRoot));
this.shadyRoot._hasDistributed||c.hasApi(this)&&Polymer.dom(this).notifyObserver();this.shadyRoot._hasDistributed=!0}},elementMatches:function(a,b){return c.matchesSelector.call(b||this,a)},_resetDistribution:function(){for(var a=d.Logical.getChildNodes(this),b=0;b<a.length;b++){var c=a[b];c._destinationInsertionPoints&&(c._destinationInsertionPoints=void 0);if("content"==c.localName){var e=c._distributedNodes;if(e)for(var f=0;f<e.length;f++){var q=e[f]._destinationInsertionPoints;q&&q.splice(q.indexOf(c)+
1,q.length)}}}a=this.shadyRoot._insertionPoints;for(b=0;b<a.length;b++)a[b]._distributedNodes=[]},_collectPool:function(){for(var a=[],b=d.Logical.getChildNodes(this),c=0;c<b.length;c++){var e=b[c];"content"==e.localName?a.push.apply(a,e._distributedNodes):a.push(e)}return a},_distributePool:function(a,b){a=a._insertionPoints;for(var e=0,f=a.length,g;e<f&&(g=a[e]);e++){this._distributeInsertionPoint(g,b);var k=d.Logical.getParentNode(g);k&&k.shadyRoot&&c.hasInsertionPoint(k.shadyRoot)&&k.shadyRoot._distributionClean&&
(k.shadyRoot._distributionClean=!1,this.shadyRoot._dirtyRoots.push(k))}},_distributeInsertionPoint:function(b,c){for(var e=!1,f=0,g=c.length,k;f<g;f++)(k=c[f])&&this._matchesContentSelect(k,b)&&(a(k,b),c[f]=void 0,e=!0);if(!e)for(c=d.Logical.getChildNodes(b),e=0;e<c.length;e++)a(c[e],b)},_composeTree:function(){this._updateChildNodes(this,this._composeNode(this));for(var a=this.shadyRoot._insertionPoints,b=0,c=a.length,e,f;b<c&&(e=a[b]);b++)f=d.Logical.getParentNode(e),f._useContent||f===this||f===
this.shadyRoot||this._updateChildNodes(f,this._composeNode(f))},_composeNode:function(a){var b=[];a=d.Logical.getChildNodes(a.shadyRoot||a);for(var c=0;c<a.length;c++){var e=a[c];if("content"==e.localName)for(var f=e._distributedNodes,g=0;g<f.length;g++){var p=f[g],t=p._destinationInsertionPoints;t&&t[t.length-1]===e&&b.push(p)}else b.push(e)}return b},_updateChildNodes:function(a,b){for(var c=d.Composed.getChildNodes(a),e=Polymer.ArraySplice.calculateSplices(b,c),f=0,g=0,k;f<e.length&&(k=e[f]);f++){for(var t=
0,r;t<k.removed.length&&(r=k.removed[t]);t++)d.Composed.getParentNode(r)===a&&d.Composed.removeChild(a,r),c.splice(k.index+g,1);g-=k.addedCount}for(f=0;f<e.length&&(k=e[f]);f++)for(g=c[k.index],t=k.index,r;t<k.index+k.addedCount;t++)r=b[t],d.Composed.insertBefore(a,r,g),c.splice(t,0,r)},_matchesContentSelect:function(a,b){b=b.getAttribute("select");return b?(b=b.trim())?a instanceof Element&&/^(:not\()?[*.#[a-zA-Z_|]/.test(b)?this.elementMatches(b,a):!1:!0:!0},_elementAdd:function(){},_elementRemove:function(){}});
var e={get:function(){var a=Polymer.dom(this).getOwnerRoot();return a&&a.host},configurable:!0};Object.defineProperty(Polymer.Base,"domHost",e);Polymer.BaseDescriptors.domHost=e;var f=window.CustomElements&&!CustomElements.useNative})();
Polymer.Settings.useShadow&&Polymer.Base._addFeature({_poolContent:function(){},_beginDistribute:function(){},distributeContent:function(){},_distributeContent:function(){},_finishDistribute:function(){},_createLocalRoot:function(){this.createShadowRoot();this.shadowRoot.appendChild(this.root);this.root=this.shadowRoot}});
Polymer.Async={_currVal:0,_lastVal:0,_callbacks:[],_twiddleContent:0,_twiddle:document.createTextNode(""),run:function(a,b){if(0<b)return~setTimeout(a,b);this._twiddle.textContent=this._twiddleContent++;this._callbacks.push(a);return this._currVal++},cancel:function(a){if(0>a)clearTimeout(~a);else{var b=a-this._lastVal;if(0<=b){if(!this._callbacks[b])throw"invalid async handle: "+a;this._callbacks[b]=null}}},_atEndOfMicrotask:function(){for(var a=this._callbacks.length,b=0;b<a;b++){var c=this._callbacks[b];
if(c)try{c()}catch(d){throw b++,this._callbacks.splice(0,b),this._lastVal+=b,this._twiddle.textContent=this._twiddleContent++,d;}}this._callbacks.splice(0,a);this._lastVal+=a}};(new window.MutationObserver(function(){Polymer.Async._atEndOfMicrotask()})).observe(Polymer.Async._twiddle,{characterData:!0});
Polymer.Debounce=function(){function a(a){this.context=a;var b=this;this.boundComplete=function(){b.complete()}}var b=Polymer.Async;a.prototype={go:function(a,d){this.finish=function(){b.cancel(c)};var c=b.run(this.boundComplete,d);this.callback=a},stop:function(){this.finish&&(this.finish(),this.callback=this.finish=null)},complete:function(){if(this.finish){var a=this.callback;this.stop();a.call(this.context)}}};return function(b,d,e){b?b.stop():b=new a(this);b.go(d,e);return b}}();
Polymer.Base._addFeature({_setupDebouncers:function(){this._debouncers={}},debounce:function(a,b,c){return this._debouncers[a]=Polymer.Debounce.call(this,this._debouncers[a],b,c)},isDebouncerActive:function(a){a=this._debouncers[a];return!(!a||!a.finish)},flushDebouncer:function(a){(a=this._debouncers[a])&&a.complete()},cancelDebouncer:function(a){(a=this._debouncers[a])&&a.stop()}});Polymer.DomModule=document.createElement("dom-module");
Polymer.Base._addFeature({_registerFeatures:function(){this._prepIs();this._prepBehaviors();this._prepConstructor();this._prepTemplate();this._prepShady();this._prepPropertyInfo()},_prepBehavior:function(a){this._addHostAttributes(a.hostAttributes)},_initFeatures:function(){this._registerHost();this._template&&(this._poolContent(),this._beginHosting(),this._stampTemplate(),this._endHosting());this._marshalHostAttributes();this._setupDebouncers();this._marshalBehaviors();this._tryReady()},_marshalBehavior:function(){}});
</script>






<script>//~~WEBPATH~~/polymer/polymer.html.js
(function(){Polymer.nar=[];var a=Polymer.Settings.disableUpgradeEnabled;Polymer.Annotations={parseAnnotations:function(a,c){var b=[];this._parseNodeAnnotations(a._content||a.content,b,c||a.hasAttribute("strip-whitespace"));return b},_parseNodeAnnotations:function(a,c,d){return a.nodeType===Node.TEXT_NODE?this._parseTextNodeAnnotation(a,c):this._parseElementAnnotations(a,c,d)},_bindingRegex:/(\[\[|{{)\s*(?:(!)\s*)?((?:[a-zA-Z_$][\w.:$\-*]*)\s*(?:\(\s*(?:(?:(?:(?:[a-zA-Z_$][\w.:$\-*]*)|(?:[-+]?[0-9]*\.?[0-9]+(?:[eE][-+]?[0-9]+)?)|(?:(?:'(?:[^'\\]|\\.)*')|(?:"(?:[^"\\]|\\.)*"))\s*)(?:,\s*(?:(?:[a-zA-Z_$][\w.:$\-*]*)|(?:[-+]?[0-9]*\.?[0-9]+(?:[eE][-+]?[0-9]+)?)|(?:(?:'(?:[^'\\]|\\.)*')|(?:"(?:[^"\\]|\\.)*"))\s*))*)?)\)\s*)?)(?:]]|}})/g,
_parseBindings:function(a){for(var b=this._bindingRegex,d=[],e=0,f;null!==(f=b.exec(a));){f.index>e&&d.push({literal:a.slice(e,f.index)});e=f[1][0];var g=!!f[2];f=f[3].trim();var k;if("{"==e&&0<(k=f.indexOf("::"))){var l=f.substring(k+2);f=f.substring(0,k);var m=!0}d.push({compoundIndex:d.length,value:f,mode:e,negate:g,event:l,customEvent:m});e=b.lastIndex}e&&e<a.length&&(a=a.substring(e))&&d.push({literal:a});if(d.length)return d},_literalFromParts:function(a){for(var b="",d=0;d<a.length;d++)b+=
a[d].literal||"";return b},_parseTextNodeAnnotation:function(a,c){var b=this._parseBindings(a.textContent);if(b)return a.textContent=this._literalFromParts(b)||" ",a={bindings:[{kind:"text",name:"textContent",parts:b,isCompound:1!==b.length}]},c.push(a),a},_parseElementAnnotations:function(a,c,d){var b={bindings:[],events:[]};"content"===a.localName&&(c._hasContent=!0);this._parseChildNodesAnnotations(a,b,c,d);a.attributes&&(this._parseNodeAttributeAnnotations(a,b,c),this.prepElement&&this.prepElement(a));
(b.bindings.length||b.events.length||b.id)&&c.push(b);return b},_parseChildNodesAnnotations:function(a,c,d,e){if(a.firstChild)for(var b=a.firstChild,g=0;b;){var k=b.nextSibling;"template"!==b.localName||b.hasAttribute("preserve-content")||this._parseTemplate(b,g,d,c,e);"slot"==b.localName&&(b=this._replaceSlotWithContent(b));if(b.nodeType===Node.TEXT_NODE){for(var l=k;l&&l.nodeType===Node.TEXT_NODE;)b.textContent+=l.textContent,k=l.nextSibling,a.removeChild(l),l=k;e&&!b.textContent.trim()&&(a.removeChild(b),
g--)}b.parentNode&&(b=this._parseNodeAnnotations(b,d,e))&&(b.parent=c,b.index=g);b=k;g++}},_replaceSlotWithContent:function(a){for(var b=a.ownerDocument.createElement("content");a.firstChild;)b.appendChild(a.firstChild);for(var d=a.attributes,e=0;e<d.length;e++){var f=d[e];b.setAttribute(f.name,f.value)}(d=a.getAttribute("name"))&&b.setAttribute("select","[slot\x3d'"+d+"']");a.parentNode.replaceChild(b,a);return b},_parseTemplate:function(a,c,d,e,f){var b=document.createDocumentFragment();b._notes=
this.parseAnnotations(a,f);b.appendChild(a.content);d.push({bindings:Polymer.nar,events:Polymer.nar,templateContent:b,parent:e,index:c})},_parseNodeAttributeAnnotations:function(a,c){for(var b=Array.prototype.slice.call(a.attributes),e=b.length-1,f;f=b[e];e--){var g=f.name;f=f.value;var k;"on-"===g.slice(0,3)?(a.removeAttribute(g),c.events.push({name:g.slice(3),value:f})):(k=this._parseNodeAttributeAnnotation(a,g,f))?c.bindings.push(k):"id"===g&&(c.id=f)}},_parseNodeAttributeAnnotation:function(b,
c,d){if(d=this._parseBindings(d)){var e=c,f="property";"$"==c[c.length-1]&&(c=c.slice(0,-1),f="attribute");var g=this._literalFromParts(d);g&&"attribute"==f&&b.setAttribute(c,g);"input"===b.localName&&"value"===e&&b.setAttribute(e,"");a&&"disable-upgrade$"===e&&b.setAttribute(c,"");b.removeAttribute(e);b=Polymer.CaseMap.dashToCamelCase(c);"property"===f&&(c=b);return{kind:f,name:c,propertyName:b,parts:d,literal:g,isCompound:1!==d.length}}},findAnnotatedNode:function(a,c){var b=c.parent&&Polymer.Annotations.findAnnotatedNode(a,
c.parent);if(b)for(a=b.firstChild,b=0;a;a=a.nextSibling){if(c.index===b++)return a}else return a}}})();
(function(){function a(a,c){return a.replace(e,function(a,d,e,f){return d+"'"+b(e.replace(/["']/g,""),c)+"'"+f})}function b(a,b){if(a&&g.test(a))return a;b=b.body.__urlResolver||(b.body.__urlResolver=b.createElement("a"));b.href=a;return b.href||a}var c,d,e=/(url\()([^)]*)(\))/g,f={"*":["href","src","style","url"],form:["action"]},g=/(^\/)|(^#)|(^[\w-\d]*:)/,k=/\{\{|\[\[/;Polymer.ResolveUrl={resolveCss:a,resolveAttrs:function(c,d){for(var e in f)for(var g=f[e],l=0,m=g.length,r,u,v;l<m&&(r=g[l]);l++)("*"===
e||c.localName===e)&&(v=(u=c.attributes[r])&&u.value)&&0>v.search(k)&&(u.value="style"===r?a(v,d):b(v,d))},resolveUrl:function(a,e){c||(c=document.implementation.createHTMLDocument("temp"),d=c.createElement("base"),c.head.appendChild(d));d.href=e;return b(a,c)}}})();
Polymer.Path={root:function(a){var b=a.indexOf(".");return-1===b?a:a.slice(0,b)},isDeep:function(a){return-1!==a.indexOf(".")},isAncestor:function(a,b){return 0===a.indexOf(b+".")},isDescendant:function(a,b){return 0===b.indexOf(a+".")},translate:function(a,b,c){return b+c.slice(a.length)},matches:function(a,b,c){return a===c||this.isAncestor(a,c)||!!b&&this.isDescendant(a,c)}};
Polymer.Base._addFeature({_prepAnnotations:function(){if(this._template){var a=this;Polymer.Annotations.prepElement=function(b){a._prepElement(b)};this._template._content&&this._template._content._notes?this._notes=this._template._content._notes:(this._notes=Polymer.Annotations.parseAnnotations(this._template),this._processAnnotations(this._notes));Polymer.Annotations.prepElement=null}else this._notes=[]},_processAnnotations:function(a){for(var b=0;b<a.length;b++){for(var c=a[b],d=0;d<c.bindings.length;d++)for(var e=
c.bindings[d],f=0;f<e.parts.length;f++){var g=e.parts[f];if(!g.literal){var k=this._parseMethod(g.value);k?g.signature=k:g.model=Polymer.Path.root(g.value)}}if(c.templateContent){this._processAnnotations(c.templateContent._notes);e=c.templateContent._parentProps=this._discoverTemplateParentProps(c.templateContent._notes);d=[];for(var l in e)e="_parent_"+l,d.push({index:c.index,kind:"property",name:e,propertyName:e,parts:[{mode:"{",model:l,value:l}]});c.bindings=c.bindings.concat(d)}}},_discoverTemplateParentProps:function(a){for(var b=
{},c=0,d;c<a.length&&(d=a[c]);c++){for(var e=0,f=d.bindings,g;e<f.length&&(g=f[e]);e++)for(var k=0,l=g.parts,m;k<l.length&&(m=l[k]);k++)if(m.signature){for(var n=m.signature.args,q=0;q<n.length;q++){var p=n[q].model;p&&(b[p]=!0)}m.signature.dynamicFn&&(b[m.signature.method]=!0)}else m.model&&(b[m.model]=!0);d.templateContent&&Polymer.Base.mixin(b,d.templateContent._parentProps)}return b},_prepElement:function(a){Polymer.ResolveUrl.resolveAttrs(a,this._template.ownerDocument)},_findAnnotatedNode:Polymer.Annotations.findAnnotatedNode,
_marshalAnnotationReferences:function(){this._template&&(this._marshalIdNodes(),this._marshalAnnotatedNodes(),this._marshalAnnotatedListeners())},_configureAnnotationReferences:function(){for(var a=this._notes,b=this._nodes,c=0;c<a.length;c++){var d=a[c],e=b[c];this._configureTemplateContent(d,e);this._configureCompoundBindings(d,e)}},_configureTemplateContent:function(a,b){a.templateContent&&(b._content=a.templateContent)},_configureCompoundBindings:function(a,b){a=a.bindings;for(var c=0;c<a.length;c++){var d=
a[c];if(d.isCompound){for(var e=b.__compoundStorage__||(b.__compoundStorage__={}),f=d.parts,g=Array(f.length),k=0;k<f.length;k++)g[k]=f[k].literal;f=d.name;e[f]=g;d.literal&&"property"==d.kind&&(b._configValue?b._configValue(f,d.literal):b[f]=d.literal)}}},_marshalIdNodes:function(){this.$={};for(var a=0,b=this._notes.length,c;a<b&&(c=this._notes[a]);a++)c.id&&(this.$[c.id]=this._findAnnotatedNode(this.root,c))},_marshalAnnotatedNodes:function(){if(this._notes&&this._notes.length){for(var a=Array(this._notes.length),
b=0;b<this._notes.length;b++)a[b]=this._findAnnotatedNode(this.root,this._notes[b]);this._nodes=a}},_marshalAnnotatedListeners:function(){for(var a=0,b=this._notes.length,c;a<b&&(c=this._notes[a]);a++)if(c.events&&c.events.length)for(var d=this._findAnnotatedNode(this.root,c),e=0,f=c.events,g;e<f.length&&(g=f[e]);e++)this.listen(d,g.name,g.value)}});
Polymer.Base._addFeature({listeners:{},_listenListeners:function(a){var b;for(b in a){if(0>b.indexOf(".")){var c=this;var d=b}else d=b.split("."),c=this.$[d[0]],d=d[1];this.listen(c,d,a[b])}},listen:function(a,b,c){var d=this._recallEventHandler(this,b,a,c);d||(d=this._createEventHandler(a,b,c));d._listening||(this._listen(a,b,d),d._listening=!0)},_boundListenerKey:function(a,b){return a+":"+b},_recordEventHandler:function(a,b,c,d,e){var f=a.__boundListeners;f||(f=a.__boundListeners=new WeakMap);
a=f.get(c);a||(a={},Polymer.Settings.isIE&&c==window||f.set(c,a));a[this._boundListenerKey(b,d)]=e},_recallEventHandler:function(a,b,c,d){if(a=a.__boundListeners)if(c=a.get(c))return c[this._boundListenerKey(b,d)]},_createEventHandler:function(a,b,c){function d(a){if(e[c])e[c](a,a.detail);else e._warn(e._logf("_createEventHandler","listener method `"+c+"` not defined"))}var e=this;d._listening=!1;this._recordEventHandler(e,b,a,c,d);return d},unlisten:function(a,b,c){if(c=this._recallEventHandler(this,
b,a,c))this._unlisten(a,b,c),c._listening=!1},_listen:function(a,b,c){a.addEventListener(b,c)},_unlisten:function(a,b,c){a.removeEventListener(b,c)}});
(function(){function a(a){var b=a.sourceCapabilities;if(!b||b.firesTouchEvents)if(a.__polymerGesturesHandled={skip:!0},"click"===a.type){b=Polymer.dom(a).path;for(var c=0;c<b.length;c++)if(b[c]===p.mouse.target)return;a.preventDefault();a.stopPropagation()}}function b(b){for(var c=q?["click"]:k,d=0,e;d<c.length;d++)e=c[d],b?document.addEventListener(e,a,!0):document.removeEventListener(e,a,!0)}function c(a){var b=a.type;return-1===k.indexOf(b)?!1:"mousemove"===b?(b=void 0===a.buttons?1:a.buttons,
a instanceof window.MouseEvent&&!m&&(b=l[a.which]||0),!!(b&1)):0===(void 0===a.button?0:a.button)}function d(a,b,c){a.movefn=b;a.upfn=c;document.addEventListener("mousemove",b);document.addEventListener("mouseup",c)}function e(a){document.removeEventListener("mousemove",a.movefn);document.removeEventListener("mouseup",a.upfn);a.movefn=null;a.upfn=null}var f=Polymer.DomApi.wrap,g="string"===typeof document.head.style.touchAction,k=["mousedown","mousemove","mouseup","click"],l=[0,1,4,2];try{var m=1===
(new MouseEvent("test",{buttons:1})).buttons}catch(u){m=!1}var n=!1;(function(){try{var a=Object.defineProperty({},"passive",{get:function(){n=!0}});window.addEventListener("test",null,a);window.removeEventListener("test",null,a)}catch(v){}})();var q=navigator.userAgent.match(/iP(?:[oa]d|hone)|Android/),p={mouse:{target:null,mouseIgnoreJob:null},touch:{x:0,y:0,id:-1,scrollDecided:!1}};document.addEventListener("touchend",function(a){p.mouse.mouseIgnoreJob||b(!0);p.mouse.target=Polymer.dom(a).rootTarget;
p.mouse.mouseIgnoreJob=Polymer.Debounce(p.mouse.mouseIgnoreJob,function(){b();p.mouse.target=null;p.mouse.mouseIgnoreJob=null},2500)},n?{passive:!0}:!1);var t={gestures:{},recognizers:[],deepTargetFind:function(a,b){for(var c=document.elementFromPoint(a,b),d=c;d&&d.shadowRoot;)(d=d.shadowRoot.elementFromPoint(a,b))&&(c=d);return c},findOriginalTarget:function(a){return a.path?a.path[0]:a.target},handleNative:function(a){var b=a.type,c=f(a.currentTarget).__polymerGestures;if(c&&(c=c[b])){if(!a.__polymerGesturesHandled&&
(a.__polymerGesturesHandled={},"touch"===b.slice(0,5))){var d=a.changedTouches[0];"touchstart"===b&&1===a.touches.length&&(p.touch.id=d.identifier);if(p.touch.id!==d.identifier)return;g||"touchstart"!==b&&"touchmove"!==b||t.handleTouchAction(a)}d=a.__polymerGesturesHandled;if(!d.skip){for(var e=t.recognizers,k=0,l;k<e.length;k++)l=e[k],c[l.name]&&!d[l.name]&&l.flow&&-1<l.flow.start.indexOf(a.type)&&l.reset&&l.reset();k=0;for(l;k<e.length;k++)l=e[k],c[l.name]&&!d[l.name]&&(d[l.name]=!0,l[b](a))}}},
handleTouchAction:function(a){var b=a.changedTouches[0],c=a.type;if("touchstart"===c)p.touch.x=b.clientX,p.touch.y=b.clientY,p.touch.scrollDecided=!1;else if("touchmove"===c&&!p.touch.scrollDecided){p.touch.scrollDecided=!0;c=Polymer.dom(a).path;for(var d="auto",e=0,f;e<c.length;e++)if(f=c[e],f.__polymerGesturesTouchAction){d=f.__polymerGesturesTouchAction;break}c=d;d=!1;e=Math.abs(p.touch.x-b.clientX);b=Math.abs(p.touch.y-b.clientY);a.cancelable&&("none"===c?d=!0:"pan-x"===c?d=b>e:"pan-y"===c&&(d=
e>b));d?a.preventDefault():t.prevent("track")}},add:function(a,b,c){a=f(a);var d=this.gestures[b],e=d.deps,g=d.name,l=a.__polymerGestures;l||(a.__polymerGestures=l={});for(var m=0,n,r;m<e.length;m++)n=e[m],q&&-1<k.indexOf(n)&&"click"!==n||((r=l[n])||(l[n]=r={_count:0}),0===r._count&&a.addEventListener(n,this.handleNative),r[g]=(r[g]||0)+1,r._count=(r._count||0)+1);a.addEventListener(b,c);d.touchAction&&this.setTouchAction(a,d.touchAction)},remove:function(a,b,c){a=f(a);var d=this.gestures[b],e=d.deps;
d=d.name;var g=a.__polymerGestures;if(g)for(var k=0,l,m;k<e.length;k++)l=e[k],(m=g[l])&&m[d]&&(m[d]=(m[d]||1)-1,m._count=(m._count||1)-1,0===m._count&&a.removeEventListener(l,this.handleNative));a.removeEventListener(b,c)},register:function(a){this.recognizers.push(a);for(var b=0;b<a.emits.length;b++)this.gestures[a.emits[b]]=a},findRecognizerByEvent:function(a){for(var b=0,c;b<this.recognizers.length;b++){c=this.recognizers[b];for(var d=0,e;d<c.emits.length;d++)if(e=c.emits[d],e===a)return c}return null},
setTouchAction:function(a,b){g&&(a.style.touchAction=b);a.__polymerGesturesTouchAction=b},fire:function(a,b,c){Polymer.Base.fire(b,c,{node:a,bubbles:!0,cancelable:!0}).defaultPrevented&&(a=c.preventer||c.sourceEvent)&&a.preventDefault&&a.preventDefault()},prevent:function(a){a=this.findRecognizerByEvent(a);a.info&&(a.info.prevent=!0)},resetMouseCanceller:function(){p.mouse.mouseIgnoreJob&&p.mouse.mouseIgnoreJob.complete()}};t.register({name:"downup",deps:["mousedown","touchstart","touchend"],flow:{start:["mousedown",
"touchstart"],end:["mouseup","touchend"]},emits:["down","up"],info:{movefn:null,upfn:null},reset:function(){e(this.info)},mousedown:function(a){if(c(a)){var b=t.findOriginalTarget(a),f=this;d(this.info,function(a){c(a)||(f.fire("up",b,a),e(f.info))},function(a){c(a)&&f.fire("up",b,a);e(f.info)});this.fire("down",b,a)}},touchstart:function(a){this.fire("down",t.findOriginalTarget(a),a.changedTouches[0],a)},touchend:function(a){this.fire("up",t.findOriginalTarget(a),a.changedTouches[0],a)},fire:function(a,
b,c,d){t.fire(b,a,{x:c.clientX,y:c.clientY,sourceEvent:c,preventer:d,prevent:function(a){return t.prevent(a)}})}});t.register({name:"track",touchAction:"none",deps:["mousedown","touchstart","touchmove","touchend"],flow:{start:["mousedown","touchstart"],end:["mouseup","touchend"]},emits:["track"],info:{x:0,y:0,state:"start",started:!1,moves:[],addMove:function(a){2<this.moves.length&&this.moves.shift();this.moves.push(a)},movefn:null,upfn:null,prevent:!1},reset:function(){this.info.state="start";this.info.started=
!1;this.info.moves=[];this.info.x=0;this.info.y=0;this.info.prevent=!1;e(this.info)},hasMovedEnough:function(a,b){if(this.info.prevent)return!1;if(this.info.started)return!0;b=Math.abs(this.info.y-b);return 5<=Math.abs(this.info.x-a)||5<=b},mousedown:function(a){if(c(a)){var b=t.findOriginalTarget(a),f=this,g=function(a){var d=a.clientX,g=a.clientY;f.hasMovedEnough(d,g)&&(f.info.state=f.info.started?"mouseup"===a.type?"end":"track":"start","start"===f.info.state&&t.prevent("tap"),f.info.addMove({x:d,
y:g}),c(a)||(f.info.state="end",e(f.info)),f.fire(b,a),f.info.started=!0)};d(this.info,g,function(a){f.info.started&&g(a);e(f.info)});this.info.x=a.clientX;this.info.y=a.clientY}},touchstart:function(a){a=a.changedTouches[0];this.info.x=a.clientX;this.info.y=a.clientY},touchmove:function(a){var b=t.findOriginalTarget(a);a=a.changedTouches[0];var c=a.clientX,d=a.clientY;this.hasMovedEnough(c,d)&&("start"===this.info.state&&t.prevent("tap"),this.info.addMove({x:c,y:d}),this.fire(b,a),this.info.state=
"track",this.info.started=!0)},touchend:function(a){var b=t.findOriginalTarget(a),c=a.changedTouches[0];this.info.started&&(this.info.state="end",this.info.addMove({x:c.clientX,y:c.clientY}),this.fire(b,c,a))},fire:function(a,b,c){var d=this.info.moves[this.info.moves.length-2],e=this.info.moves[this.info.moves.length-1],f=e.x-this.info.x,g=e.y-this.info.y,k=0;if(d){var l=e.x-d.x;k=e.y-d.y}return t.fire(a,"track",{state:this.info.state,x:b.clientX,y:b.clientY,dx:f,dy:g,ddx:l,ddy:k,sourceEvent:b,preventer:c,
hover:function(){return t.deepTargetFind(b.clientX,b.clientY)}})}});t.register({name:"tap",deps:["mousedown","click","touchstart","touchend"],flow:{start:["mousedown","touchstart"],end:["click","touchend"]},emits:["tap"],info:{x:NaN,y:NaN,prevent:!1},reset:function(){this.info.x=NaN;this.info.y=NaN;this.info.prevent=!1},save:function(a){this.info.x=a.clientX;this.info.y=a.clientY},mousedown:function(a){c(a)&&this.save(a)},click:function(a){c(a)&&this.forward(a)},touchstart:function(a){this.save(a.changedTouches[0],
a)},touchend:function(a){this.forward(a.changedTouches[0],a)},forward:function(a,b){var c=Math.abs(a.clientX-this.info.x),d=Math.abs(a.clientY-this.info.y),e=t.findOriginalTarget(a);if(!(c=isNaN(c)||isNaN(d)||25>=c&&25>=d))if("click"===a.type)if(0===a.detail)c=!0;else{c=t.findOriginalTarget(a).getBoundingClientRect();d=a.pageX;var f=a.pageY;c=!(d>=c.left&&d<=c.right&&f>=c.top&&f<=c.bottom)}else c=!1;c&&(this.info.prevent||t.fire(e,"tap",{x:a.clientX,y:a.clientY,sourceEvent:a,preventer:b}))}});var r=
{x:"pan-x",y:"pan-y",none:"none",all:"auto"};Polymer.Base._addFeature({_setupGestures:function(){this.__polymerGestures=null},_listen:function(a,b,c){t.gestures[b]?t.add(a,b,c):a.addEventListener(b,c)},_unlisten:function(a,b,c){t.gestures[b]?t.remove(a,b,c):a.removeEventListener(b,c)},setScrollDirection:function(a,b){t.setTouchAction(b||this,r[a]||"auto")}});Polymer.Gestures=t})();
(function(){Polymer.Base._addFeature({$$:function(a){return Polymer.dom(this.root).querySelector(a)},toggleClass:function(a,c,d){d=d||this;1==arguments.length&&(c=!d.classList.contains(a));c?Polymer.dom(d).classList.add(a):Polymer.dom(d).classList.remove(a)},toggleAttribute:function(a,c,d){d=d||this;1==arguments.length&&(c=!d.hasAttribute(a));c?Polymer.dom(d).setAttribute(a,""):Polymer.dom(d).removeAttribute(a)},classFollows:function(a,c,d){d&&Polymer.dom(d).classList.remove(a);c&&Polymer.dom(c).classList.add(a)},
attributeFollows:function(a,c,d){d&&Polymer.dom(d).removeAttribute(a);c&&Polymer.dom(c).setAttribute(a,"")},getEffectiveChildNodes:function(){return Polymer.dom(this).getEffectiveChildNodes()},getEffectiveChildren:function(){return Polymer.dom(this).getEffectiveChildNodes().filter(function(a){return a.nodeType===Node.ELEMENT_NODE})},getEffectiveTextContent:function(){for(var a=this.getEffectiveChildNodes(),c=[],d=0,e;e=a[d];d++)e.nodeType!==Node.COMMENT_NODE&&c.push(Polymer.dom(e).textContent);return c.join("")},
queryEffectiveChildren:function(a){return(a=Polymer.dom(this).queryDistributedElements(a))&&a[0]},queryAllEffectiveChildren:function(a){return Polymer.dom(this).queryDistributedElements(a)},getContentChildNodes:function(a){return(a=Polymer.dom(this.root).querySelector(a||"content"))?Polymer.dom(a).getDistributedNodes():[]},getContentChildren:function(a){return this.getContentChildNodes(a).filter(function(a){return a.nodeType===Node.ELEMENT_NODE})},fire:function(a,c,d){d=d||Polymer.nob;var b=d.node||
this;c=null===c||void 0===c?{}:c;var f=d._useCache;d=this._getEvent(a,void 0===d.bubbles?!0:d.bubbles,!!d.cancelable,f);d.detail=c;f&&(this.__eventCache[a]=null);b.dispatchEvent(d);f&&(this.__eventCache[a]=d);return d},__eventCache:{},_getEvent:function(a,c,d,e){(e=e&&this.__eventCache[a])&&e.bubbles==c&&e.cancelable==d||(e=new Event(a,{bubbles:!!c,cancelable:d}));return e},async:function(a,c){var b=this;return Polymer.Async.run(function(){a.call(b)},c)},cancelAsync:function(a){Polymer.Async.cancel(a)},
arrayDelete:function(a,c){if(Array.isArray(a)){if(c=a.indexOf(c),0<=c)return a.splice(c,1)}else if(c=this._get(a).indexOf(c),0<=c)return this.splice(a,c,1)},transform:function(a,c){c=c||this;c.style.webkitTransform=a;c.style.transform=a},translate3d:function(a,c,d,e){this.transform("translate3d("+a+","+c+","+d+")",e||this)},importHref:function(a,c,d,e){function b(a){a.target.__firedError=!0;a.target.removeEventListener("load",g);a.target.removeEventListener("error",b);return d.call(n,a)}function g(a){a.target.__firedLoad=
!0;a.target.removeEventListener("load",g);a.target.removeEventListener("error",b);return c.call(n,a)}var k=document.createElement("link");k.rel="import";k.href=a;a=Polymer.Base.importHref.imported=Polymer.Base.importHref.imported||{};var l=a[k.href],m=l||k,n=this;c&&m.addEventListener("load",g);d&&m.addEventListener("error",b);l?(l.__firedLoad&&l.dispatchEvent(new Event("load")),l.__firedError&&l.dispatchEvent(new Event("error"))):(a[k.href]=k,e&&k.setAttribute("async",""),document.head.appendChild(k));
return m},create:function(a,c){a=document.createElement(a);if(c)for(var b in c)a[b]=c[b];return a},isLightDescendant:function(a){return this!==a&&this.contains(a)&&Polymer.dom(this).getOwnerRoot()===Polymer.dom(a).getOwnerRoot()},isLocalDescendant:function(a){return this.root===Polymer.dom(a).getOwnerRoot()}});if(!Polymer.Settings.useNativeCustomElements){var a=Polymer.Base.importHref;Polymer.Base.importHref=function(b,c,d,e){CustomElements.ready=!1;return a.call(this,b,function(a){CustomElements.upgradeDocumentTree(document);
CustomElements.ready=!0;if(c)return c.call(this,a)},d,e)}}})();
Polymer.Bind={prepareModel:function(a){Polymer.Base.mixin(a,this._modelApi)},_modelApi:{_notifyChange:function(a,b,c){c=void 0===c?this[a]:c;b=b||Polymer.CaseMap.camelToDashCase(a)+"-changed";this.fire(b,{value:c},{bubbles:!1,cancelable:!1,_useCache:Polymer.Settings.eventDataCache||!Polymer.Settings.isIE})},_propertySetter:function(a,b,c,d){var e=this.__data__[a];e===b||e!==e&&b!==b||(this.__data__[a]=b,"object"==typeof b&&this._clearPath(a),this._propertyChanged&&this._propertyChanged(a,b,e),c&&
this._effectEffects(a,b,c,e,d));return e},__setProperty:function(a,b,c,d){d=d||this;var e=d._propertyEffects&&d._propertyEffects[a];e?d._propertySetter(a,b,e,c):d[a]!==b&&(d[a]=b)},_effectEffects:function(a,b,c,d,e){b=0;for(var f=c.length,g;b<f&&(g=c[b]);b++)g.fn.call(this,a,this[a],g.effect,d,e)},_clearPath:function(a){for(var b in this.__data__)Polymer.Path.isDescendant(a,b)&&(this.__data__[b]=void 0)}},ensurePropertyEffects:function(a,b){a._propertyEffects||(a._propertyEffects={});var c=a._propertyEffects[b];
c||(c=a._propertyEffects[b]=[]);return c},addPropertyEffect:function(a,b,c,d){a=this.ensurePropertyEffects(a,b);c={kind:c,effect:d,fn:Polymer.Bind["_"+c+"Effect"]};a.push(c);return c},createBindings:function(a){var b=a._propertyEffects;if(b)for(var c in b){var d=b[c];d.sort(this._sortPropertyEffects);this._createAccessors(a,c,d)}},_sortPropertyEffects:function(){var a={compute:0,annotation:1,annotatedComputation:2,reflect:3,notify:4,observer:5,complexObserver:6,"function":7};return function(b,c){return a[b.kind]-
a[c.kind]}}(),_createAccessors:function(a,b,c){function d(a){this._propertySetter(b,a,c)}var e={get:function(){return this.__data__[b]}},f=a.getPropertyInfo&&a.getPropertyInfo(b);f&&f.readOnly?f.computed||(a["_set"+this.upper(b)]=d):e.set=d;Object.defineProperty(a,b,e)},upper:function(a){return a[0].toUpperCase()+a.substring(1)},_addAnnotatedListener:function(a,b,c,d,e,f){a._bindListeners||(a._bindListeners=[]);f=this._notedListenerFactory(c,d,Polymer.Path.isDeep(d),f);e=e||Polymer.CaseMap.camelToDashCase(c)+
"-changed";a._bindListeners.push({index:b,property:c,path:d,changedFn:f,event:e})},_isEventBogus:function(a,b){return a.path&&a.path[0]!==b},_notedListenerFactory:function(a,b,c,d){return function(e,f,g){g?(e=Polymer.Path.translate(a,b,g),this._notifyPath(e,f)):(f=e[a],d&&(f=!f),c?this.__data__[b]!=f&&this.set(b,f):this[b]=f)}},prepareInstance:function(a){a.__data__=Object.create(null)},setupBindListeners:function(a){for(var b=a._bindListeners,c=0,d=b.length,e;c<d&&(e=b[c]);c++)this._addNotifyListener(a._nodes[e.index],
a,e.event,e.changedFn)},_addNotifyListener:function(a,b,c,d){a.addEventListener(c,function(a){return b._notifyListener(d,a)})}};
Polymer.Base.mixin(Polymer.Bind,{_shouldAddListener:function(a){return a.name&&"attribute"!=a.kind&&"text"!=a.kind&&!a.isCompound&&"{"===a.parts[0].mode},_annotationEffect:function(a,b,c){a!=c.value&&(b=this._get(c.value),this.__data__[c.value]=b);this._applyEffectValue(c,b)},_reflectEffect:function(a,b,c){this.reflectPropertyToAttribute(a,c.attribute,b)},_notifyEffect:function(a,b,c,d,e){e||this._notifyChange(a,c.event,b)},_functionEffect:function(a,b,c,d,e){c.call(this,a,b,d,e)},_observerEffect:function(a,
b,c,d){(a=this[c.method])?a.call(this,b,d):this._warn(this._logf("_observerEffect","observer method `"+c.method+"` not defined"))},_complexObserverEffect:function(a,b,c){var d=this[c.method];d?(a=Polymer.Bind._marshalArgs(this.__data__,c,a,b))&&d.apply(this,a):c.dynamicFn||this._warn(this._logf("_complexObserverEffect","observer method `"+c.method+"` not defined"))},_computeEffect:function(a,b,c){var d=this[c.method];if(d){if(a=Polymer.Bind._marshalArgs(this.__data__,c,a,b))d=d.apply(this,a),this.__setProperty(c.name,
d)}else c.dynamicFn||this._warn(this._logf("_computeEffect","compute method `"+c.method+"` not defined"))},_annotatedComputationEffect:function(a,b,c){var d=this._rootDataHost||this,e=d[c.method];if(e){if(a=Polymer.Bind._marshalArgs(this.__data__,c,a,b))d=e.apply(d,a),this._applyEffectValue(c,d)}else c.dynamicFn||d._warn(d._logf("_annotatedComputationEffect","compute method `"+c.method+"` not defined"))},_marshalArgs:function(a,b,c,d){var e=[],f=b.args;b=1<f.length||b.dynamicFn;for(var g=0,k=f.length;g<
k;g++){var l=f[g],m=l.name;if(l.literal)var n=l.value;else c===m?n=d:(n=a[m],void 0===n&&l.structured&&(n=Polymer.Base._get(m,a)));if(b&&void 0===n)return;l.wildcard?(l=Polymer.Path.isAncestor(c,m),e[g]={path:l?c:m,value:l?d:n,base:n}):e[g]=n}return e}});
Polymer.Base._addFeature({_addPropertyEffect:function(a,b,c){a=Polymer.Bind.addPropertyEffect(this,a,b,c);a.pathFn=this["_"+a.kind+"PathEffect"]},_prepEffects:function(){Polymer.Bind.prepareModel(this);this._addAnnotationEffects(this._notes)},_prepBindings:function(){Polymer.Bind.createBindings(this)},_addPropertyEffects:function(a){if(a)for(var b in a){var c=a[b];c.observer&&this._addObserverEffect(b,c.observer);c.computed&&(c.readOnly=!0,this._addComputedEffect(b,c.computed));c.notify&&this._addPropertyEffect(b,
"notify",{event:Polymer.CaseMap.camelToDashCase(b)+"-changed"});if(c.reflectToAttribute){var d=Polymer.CaseMap.camelToDashCase(b);"-"===d[0]?this._warn(this._logf("_addPropertyEffects","Property "+b+" cannot be reflected to attribute "+d+' because "-" is not a valid starting attribute name. Use a lowercase first letter for the property instead.')):this._addPropertyEffect(b,"reflect",{attribute:d})}c.readOnly&&Polymer.Bind.ensurePropertyEffects(this,b)}},_addComputedEffect:function(a,b){b=this._parseMethod(b);
for(var c=b.dynamicFn,d=0,e;d<b.args.length&&(e=b.args[d]);d++)this._addPropertyEffect(e.model,"compute",{method:b.method,args:b.args,trigger:e,name:a,dynamicFn:c});c&&this._addPropertyEffect(b.method,"compute",{method:b.method,args:b.args,trigger:null,name:a,dynamicFn:c})},_addObserverEffect:function(a,b){this._addPropertyEffect(a,"observer",{method:b,property:a})},_addComplexObserverEffects:function(a){if(a)for(var b=0,c;b<a.length&&(c=a[b]);b++)this._addComplexObserverEffect(c)},_addComplexObserverEffect:function(a){var b=
this._parseMethod(a);if(!b)throw Error("Malformed observer expression '"+a+"'");a=b.dynamicFn;for(var c=0,d;c<b.args.length&&(d=b.args[c]);c++)this._addPropertyEffect(d.model,"complexObserver",{method:b.method,args:b.args,trigger:d,dynamicFn:a});a&&this._addPropertyEffect(b.method,"complexObserver",{method:b.method,args:b.args,trigger:null,dynamicFn:a})},_addAnnotationEffects:function(a){for(var b=0,c;b<a.length&&(c=a[b]);b++)for(var d=c.bindings,e=0,f;e<d.length&&(f=d[e]);e++)this._addAnnotationEffect(f,
b)},_addAnnotationEffect:function(a,b){Polymer.Bind._shouldAddListener(a)&&Polymer.Bind._addAnnotatedListener(this,b,a.name,a.parts[0].value,a.parts[0].event,a.parts[0].negate);for(var c=0;c<a.parts.length;c++){var d=a.parts[c];d.signature?this._addAnnotatedComputationEffect(a,d,b):d.literal||("attribute"===a.kind&&"-"===a.name[0]?this._warn(this._logf("_addAnnotationEffect","Cannot set attribute "+a.name+' because "-" is not a valid attribute starting character')):this._addPropertyEffect(d.model,
"annotation",{kind:a.kind,index:b,name:a.name,propertyName:a.propertyName,value:d.value,isCompound:a.isCompound,compoundIndex:d.compoundIndex,event:d.event,customEvent:d.customEvent,negate:d.negate}))}},_addAnnotatedComputationEffect:function(a,b,c){var d=b.signature;if(d.static)this.__addAnnotatedComputationEffect("__static__",c,a,b,null);else{for(var e=0,f;e<d.args.length&&(f=d.args[e]);e++)f.literal||this.__addAnnotatedComputationEffect(f.model,c,a,b,f);d.dynamicFn&&this.__addAnnotatedComputationEffect(d.method,
c,a,b,null)}},__addAnnotatedComputationEffect:function(a,b,c,d,e){this._addPropertyEffect(a,"annotatedComputation",{index:b,isCompound:c.isCompound,compoundIndex:d.compoundIndex,kind:c.kind,name:c.name,negate:d.negate,method:d.signature.method,args:d.signature.args,trigger:e,dynamicFn:d.signature.dynamicFn})},_parseMethod:function(a){var b=a.match(/([^\s]+?)\(([\s\S]*)\)/);if(b){a={method:b[1],static:!0};this.getPropertyInfo(a.method)!==Polymer.nob&&(a.static=!1,a.dynamicFn=!0);if(b[2].trim())return b=
b[2].replace(/\\,/g,"\x26comma;").split(","),this._parseArgs(b,a);a.args=Polymer.nar;return a}},_parseArgs:function(a,b){b.args=a.map(function(a){a=this._parseArg(a);a.literal||(b.static=!1);return a},this);return b},_parseArg:function(a){a=a.trim().replace(/&comma;/g,",").replace(/\\(.)/g,"$1");var b={name:a},c=a[0];"-"===c&&(c=a[1]);"0"<=c&&"9">=c&&(c="#");switch(c){case "'":case '"':b.value=a.slice(1,-1);b.literal=!0;break;case "#":b.value=Number(a),b.literal=!0}b.literal||(b.model=Polymer.Path.root(a),
b.structured=Polymer.Path.isDeep(a),b.structured&&(b.wildcard=".*"==a.slice(-2),b.wildcard&&(b.name=a.slice(0,-2))));return b},_marshalInstanceEffects:function(){Polymer.Bind.prepareInstance(this);this._bindListeners&&Polymer.Bind.setupBindListeners(this)},_applyEffectValue:function(a,b){var c=this._nodes[a.index],d=a.name;b=this._computeFinalAnnotationValue(c,d,b,a);"attribute"==a.kind?this.serializeValueToAttribute(b,d,c):(a=c._propertyInfo&&c._propertyInfo[d])&&a.readOnly||this.__setProperty(d,
b,Polymer.Settings.suppressBindingNotifications,c)},_computeFinalAnnotationValue:function(a,b,c,d){d.negate&&(c=!c);if(d.isCompound){var e=a.__compoundStorage__[b];e[d.compoundIndex]=c;c=e.join("")}"attribute"!==d.kind&&("className"===b&&(c=this._scopeElementClass(a,c)),"textContent"===b||"input"==a.localName&&"value"==b)&&(c=void 0==c?"":c);return c},_executeStaticEffects:function(){this._propertyEffects&&this._propertyEffects.__static__&&this._effectEffects("__static__",null,this._propertyEffects.__static__)}});
(function(){var a=Polymer.Settings.usePolyfillProto,b=!!Object.getOwnPropertyDescriptor(document.documentElement,"properties");Polymer.Base._addFeature({_setupConfigure:function(a){this._config={};this._handlers=[];this._aboveConfig=null;if(a)for(var b in a)void 0!==a[b]&&(this._config[b]=a[b])},_marshalAttributes:function(){this._takeAttributesToModel(this._config)},_attributeChangedImpl:function(a){this._setAttributeToProperty(this._clientsReadied?this:this._config,a)},_configValue:function(a,b){var c=
this._propertyInfo[a];c&&c.readOnly||(this._config[a]=b)},_beforeClientsReady:function(){this._configure()},_configure:function(){this._configureAnnotationReferences();this._configureInstanceProperties();this._aboveConfig=this.mixin({},this._config);for(var a={},d=0;d<this.behaviors.length;d++)this._configureProperties(this.behaviors[d].properties,a);this._configureProperties(b?this.__proto__.properties:this.properties,a);this.mixin(a,this._aboveConfig);this._config=a;this._clients&&this._clients.length&&
this._distributeConfig(this._config)},_configureInstanceProperties:function(){for(var b in this._propertyEffects)!a&&this.hasOwnProperty(b)&&(this._configValue(b,this[b]),delete this[b])},_configureProperties:function(a,b){for(var c in a){var d=a[c];void 0!==d.value&&(d=d.value,"function"==typeof d&&(d=d.call(this,this._config)),b[c]=d)}},_distributeConfig:function(a){var b=this._propertyEffects;if(b)for(var c in a){var f=b[c];if(f)for(var g=0,k=f.length,l;g<k&&(l=f[g]);g++)if("annotation"===l.kind){var m=
this._nodes[l.effect.index],n=l.effect.propertyName,q="attribute"==l.effect.kind,p=m._propertyEffects&&m._propertyEffects[n];!m._configValue||!p&&q||(p=c===l.effect.value?a[c]:this._get(l.effect.value,a),p=this._computeFinalAnnotationValue(m,n,p,l.effect),q&&(p=m.deserialize(this.serialize(p),m._propertyInfo[n].type)),m._configValue(n,p))}}},_afterClientsReady:function(){this._executeStaticEffects();this._applyConfig(this._config,this._aboveConfig);this._flushHandlers()},_applyConfig:function(a,b){for(var c in a)void 0===
this[c]&&this.__setProperty(c,a[c],c in b)},_notifyListener:function(a,b){if(!Polymer.Bind._isEventBogus(b,b.target)){if(b.detail){var c=b.detail.value;var d=b.detail.path}if(this._clientsReadied)return a.call(this,b.target,c,d);this._queueHandler([a,b.target,c,d])}},_queueHandler:function(a){this._handlers.push(a)},_flushHandlers:function(){for(var a=this._handlers,b=0,e=a.length,f;b<e&&(f=a[b]);b++)f[0].call(this,f[1],f[2],f[3]);this._handlers=[]}})})();
(function(){var a=Polymer.Path;Polymer.Base._addFeature({notifyPath:function(a,c,d){var b={},f=this._get(a,this,b);1===arguments.length&&(c=f);b.path&&this._notifyPath(b.path,c,d)},_notifyPath:function(a,c,d){var b=this._propertySetter(a,c);if(b!==c&&(b===b||c===c))return this._pathEffector(a,c),d||this._notifyPathUp(a,c),!0},_getPathParts:function(a){if(Array.isArray(a)){for(var b=[],d=0;d<a.length;d++)for(var e=a[d].toString().split("."),f=0;f<e.length;f++)b.push(e[f]);return b}return a.toString().split(".")},
set:function(a,c,d){var b=d||this,f=this._getPathParts(a),g=f[f.length-1];if(1<f.length){for(a=0;a<f.length-1;a++){var k=f[a];l&&"#"==k[0]?b=Polymer.Collection.get(l).getItem(k):(b=b[k],l&&parseInt(k,10)==k&&(f[a]=Polymer.Collection.get(l).getKey(b)));if(!b)return;var l=Array.isArray(b)?b:null}if(l)if(k=Polymer.Collection.get(l),"#"==g[0]){var m=g;var n=k.getItem(m);g=l.indexOf(n);k.setItem(m,c)}else parseInt(g,10)==g&&(n=b[g],m=k.getKey(n),f[a]=m,k.setItem(m,c));b[g]=c;d||this._notifyPath(f.join("."),
c)}else b[a]=c},get:function(a,c){return this._get(a,c)},_get:function(a,c,d){c=c||this;a=this._getPathParts(a);for(var b,f=0;f<a.length;f++){if(!c)return;var g=a[f];b&&"#"==g[0]?c=Polymer.Collection.get(b).getItem(g):(c=c[g],d&&b&&parseInt(g,10)==g&&(a[f]=Polymer.Collection.get(b).getKey(c)));b=Array.isArray(c)?c:null}d&&(d.path=a.join("."));return c},_pathEffector:function(b,c){var d=a.root(b);if(d=this._propertyEffects&&this._propertyEffects[d])for(var e=0,f;e<d.length&&(f=d[e]);e++){var g=f.pathFn;
g&&g.call(this,b,c,f.effect)}this._boundPaths&&this._notifyBoundPaths(b,c)},_annotationPathEffect:function(b,c,d){if(a.matches(d.value,!1,b))Polymer.Bind._annotationEffect.call(this,b,c,d);else if(!d.negate&&a.isDescendant(d.value,b)){var e=this._nodes[d.index];e&&e._notifyPath&&(b=a.translate(d.value,d.name,b),e._notifyPath(b,c,!0))}},_complexObserverPathEffect:function(b,c,d){a.matches(d.trigger.name,d.trigger.wildcard,b)&&Polymer.Bind._complexObserverEffect.call(this,b,c,d)},_computePathEffect:function(b,
c,d){a.matches(d.trigger.name,d.trigger.wildcard,b)&&Polymer.Bind._computeEffect.call(this,b,c,d)},_annotatedComputationPathEffect:function(b,c,d){a.matches(d.trigger.name,d.trigger.wildcard,b)&&Polymer.Bind._annotatedComputationEffect.call(this,b,c,d)},linkPaths:function(a,c){this._boundPaths=this._boundPaths||{};c?this._boundPaths[a]=c:this.unlinkPaths(a)},unlinkPaths:function(a){this._boundPaths&&delete this._boundPaths[a]},_notifyBoundPaths:function(b,c){for(var d in this._boundPaths){var e=this._boundPaths[d];
a.isDescendant(d,b)?this._notifyPath(a.translate(d,e,b),c):a.isDescendant(e,b)&&this._notifyPath(a.translate(e,d,b),c)}},_notifyPathUp:function(b,c){var d=a.root(b);d=Polymer.CaseMap.camelToDashCase(d)+this._EVENT_CHANGED;this.fire(d,{path:b,value:c},{bubbles:!1,_useCache:Polymer.Settings.eventDataCache||!Polymer.Settings.isIE})},_EVENT_CHANGED:"-changed",notifySplices:function(a,c){var b={};a=this._get(a,this,b);this._notifySplices(a,b.path,c)},_notifySplices:function(a,c,d){d={keySplices:Polymer.Collection.applySplices(a,
d),indexSplices:d};var b=c+".splices";this._notifyPath(b,d);this._notifyPath(c+".length",a.length);this.__data__[b]={keySplices:null,indexSplices:null}},_notifySplice:function(a,c,d,e,f){this._notifySplices(a,c,[{index:d,addedCount:e,removed:f,object:a,type:"splice"}])},push:function(a){var b={},d=this._get(a,this,b),e=Array.prototype.slice.call(arguments,1),f=d.length,g=d.push.apply(d,e);e.length&&this._notifySplice(d,b.path,f,e.length,[]);return g},pop:function(a){var b={},d=this._get(a,this,b),
e=!!d.length,f=d.pop.apply(d,Array.prototype.slice.call(arguments,1));e&&this._notifySplice(d,b.path,d.length,0,[f]);return f},splice:function(a,c){var b={},e=this._get(a,this,b);(c=0>c?e.length-Math.floor(-c):Math.floor(c))||(c=0);var f=Array.prototype.slice.call(arguments,1),g=e.splice.apply(e,f);((f=Math.max(f.length-2,0))||g.length)&&this._notifySplice(e,b.path,c,f,g);return g},shift:function(a){var b={},d=this._get(a,this,b),e=!!d.length,f=d.shift.apply(d,Array.prototype.slice.call(arguments,
1));e&&this._notifySplice(d,b.path,0,0,[f]);return f},unshift:function(a){var b={},d=this._get(a,this,b),e=Array.prototype.slice.call(arguments,1),f=d.unshift.apply(d,e);e.length&&this._notifySplice(d,b.path,0,e.length,[]);return f},prepareModelNotifyPath:function(a){this.mixin(a,{fire:Polymer.Base.fire,_getEvent:Polymer.Base._getEvent,__eventCache:Polymer.Base.__eventCache,notifyPath:Polymer.Base.notifyPath,_get:Polymer.Base._get,_EVENT_CHANGED:Polymer.Base._EVENT_CHANGED,_notifyPath:Polymer.Base._notifyPath,
_notifyPathUp:Polymer.Base._notifyPathUp,_pathEffector:Polymer.Base._pathEffector,_annotationPathEffect:Polymer.Base._annotationPathEffect,_complexObserverPathEffect:Polymer.Base._complexObserverPathEffect,_annotatedComputationPathEffect:Polymer.Base._annotatedComputationPathEffect,_computePathEffect:Polymer.Base._computePathEffect,_notifyBoundPaths:Polymer.Base._notifyBoundPaths,_getPathParts:Polymer.Base._getPathParts})}})})();
Polymer.Base._addFeature({resolveUrl:function(a){var b=Polymer.DomModule.import(this.is),c="";b&&(c=b.getAttribute("assetpath")||"",c=Polymer.ResolveUrl.resolveUrl(c,b.ownerDocument.baseURI));return Polymer.ResolveUrl.resolveUrl(a,c)}});
Polymer.CssParse={parse:function(a){a=this._clean(a);return this._parseCss(this._lex(a),a)},_clean:function(a){return a.replace(this._rx.comments,"").replace(this._rx.port,"")},_lex:function(a){for(var b={start:0,end:a.length},c=b,d=0,e=a.length;d<e;d++)switch(a[d]){case this.OPEN_BRACE:c.rules||(c.rules=[]);var f=c;c={start:d+1,parent:f,previous:f.rules[f.rules.length-1]};f.rules.push(c);break;case this.CLOSE_BRACE:c.end=d+1,c=c.parent||b}return b},_parseCss:function(a,b){var c=b.substring(a.start,
a.end-1);a.parsedCssText=a.cssText=c.trim();a.parent&&(c=b.substring(a.previous?a.previous.end:a.parent.start,a.start-1),c=this._expandUnicodeEscapes(c),c=c.replace(this._rx.multipleSpaces," "),c=c.substring(c.lastIndexOf(";")+1),c=a.parsedSelector=a.selector=c.trim(),a.atRule=0===c.indexOf(this.AT_START),a.atRule?0===c.indexOf(this.MEDIA_START)?a.type=this.types.MEDIA_RULE:c.match(this._rx.keyframesRule)&&(a.type=this.types.KEYFRAMES_RULE,a.keyframesName=a.selector.split(this._rx.multipleSpaces).pop()):
a.type=0===c.indexOf(this.VAR_START)?this.types.MIXIN_RULE:this.types.STYLE_RULE);if(c=a.rules)for(var d=0,e=c.length,f;d<e&&(f=c[d]);d++)this._parseCss(f,b);return a},_expandUnicodeEscapes:function(a){return a.replace(/\\([0-9a-f]{1,6})\s/gi,function(a,c){a=c;for(c=6-a.length;c--;)a="0"+a;return"\\"+a})},stringify:function(a,b,c){c=c||"";var d="";if(a.cssText||a.rules){var e=a.rules;if(e&&!this._hasMixinRules(e))for(var f=0,g=e.length,k;f<g&&(k=e[f]);f++)d=this.stringify(k,b,d);else d=b?a.cssText:
this.removeCustomProps(a.cssText),(d=d.trim())&&(d="  "+d+"\n")}d&&(a.selector&&(c+=a.selector+" "+this.OPEN_BRACE+"\n"),c+=d,a.selector&&(c+=this.CLOSE_BRACE+"\n\n"));return c},_hasMixinRules:function(a){return 0===a[0].selector.indexOf(this.VAR_START)},removeCustomProps:function(a){a=this.removeCustomPropAssignment(a);return this.removeCustomPropApply(a)},removeCustomPropAssignment:function(a){return a.replace(this._rx.customProp,"").replace(this._rx.mixinProp,"")},removeCustomPropApply:function(a){return a.replace(this._rx.mixinApply,
"").replace(this._rx.varApply,"")},types:{STYLE_RULE:1,KEYFRAMES_RULE:7,MEDIA_RULE:4,MIXIN_RULE:1E3},OPEN_BRACE:"{",CLOSE_BRACE:"}",_rx:{comments:/\/\*[^*]*\*+([^\/*][^*]*\*+)*\//gim,port:/@import[^;]*;/gim,customProp:/(?:^[^;\-\s}]+)?--[^;{}]*?:[^{};]*?(?:[;\n]|$)/gim,mixinProp:/(?:^[^;\-\s}]+)?--[^;{}]*?:[^{};]*?{[^}]*?}(?:[;\n]|$)?/gim,mixinApply:/@apply\s*\(?[^);]*\)?\s*(?:[;\n]|$)?/gim,varApply:/[^;:]*?:[^;]*?var\([^;]*\)(?:[;\n]|$)?/gim,keyframesRule:/^@[^\s]*keyframes/,multipleSpaces:/\s+/g},
VAR_START:"--",MEDIA_START:"@media",AT_START:"@"};
Polymer.StyleUtil=function(){var a=Polymer.Settings;return{NATIVE_VARIABLES:Polymer.Settings.useNativeCSSProperties,MODULE_STYLES_SELECTOR:"style, link[rel\x3dimport][type~\x3dcss], template",INCLUDE_ATTR:"include",toCssText:function(a,c){"string"===typeof a&&(a=this.parser.parse(a));c&&this.forEachRule(a,c);return this.parser.stringify(a,this.NATIVE_VARIABLES)},forRulesInStyles:function(a,c,d){if(a)for(var b=0,f=a.length,g;b<f&&(g=a[b]);b++)this.forEachRuleInStyle(g,c,d)},forActiveRulesInStyles:function(a,
c,d){if(a)for(var b=0,f=a.length,g;b<f&&(g=a[b]);b++)this.forEachRuleInStyle(g,c,d,!0)},rulesForStyle:function(a){!a.__cssRules&&a.textContent&&(a.__cssRules=this.parser.parse(a.textContent));return a.__cssRules},isKeyframesSelector:function(a){return a.parent&&a.parent.type===this.ruleTypes.KEYFRAMES_RULE},forEachRuleInStyle:function(a,c,d,e){var b=this.rulesForStyle(a),g,k;c&&(g=function(b){c(b,a)});d&&(k=function(b){d(b,a)});this.forEachRule(b,g,k,e)},forEachRule:function(a,c,d,e){if(a){var b=
!1;if(e&&a.type===this.ruleTypes.MEDIA_RULE){var g=a.selector.match(this.rx.MEDIA_MATCH);g&&(window.matchMedia(g[1]).matches||(b=!0))}a.type===this.ruleTypes.STYLE_RULE?c(a):d&&a.type===this.ruleTypes.KEYFRAMES_RULE?d(a):a.type===this.ruleTypes.MIXIN_RULE&&(b=!0);if((a=a.rules)&&!b){b=0;g=a.length;for(var k;b<g&&(k=a[b]);b++)this.forEachRule(k,c,d,e)}}},applyCss:function(a,c,d,e){a=this.createScopeStyle(a,c);return this.applyStyle(a,d,e)},applyStyle:function(a,c,d){c=c||document.head;d=d&&d.nextSibling||
c.firstChild;this.__lastHeadApplyNode=a;return c.insertBefore(a,d)},createScopeStyle:function(a,c){var b=document.createElement("style");c&&b.setAttribute("scope",c);b.textContent=a;return b},__lastHeadApplyNode:null,applyStylePlaceHolder:function(a){a=document.createComment(" Shady DOM styles for "+a+" ");var b=document.head;b.insertBefore(a,(this.__lastHeadApplyNode?this.__lastHeadApplyNode.nextSibling:null)||b.firstChild);return this.__lastHeadApplyNode=a},cssFromModules:function(a,c){a=a.trim().split(" ");
for(var b="",e=0;e<a.length;e++)b+=this.cssFromModule(a[e],c);return b},cssFromModule:function(a,c){var b=Polymer.DomModule.import(a);b&&!b._cssText&&(b._cssText=this.cssFromElement(b));!b&&c&&console.warn("Could not find style data in module named",a);return b&&b._cssText||""},cssFromElement:function(a){for(var b="",d=Polymer.TreeApi.arrayCopy((a.content||a).querySelectorAll(this.MODULE_STYLES_SELECTOR)),e=0,f;e<d.length;e++)if(f=d[e],"template"===f.localName)f.hasAttribute("preserve-content")||
(b+=this.cssFromElement(f));else if("style"===f.localName){var g=f.getAttribute(this.INCLUDE_ATTR);g&&(b+=this.cssFromModules(g,!0));f=f.__appliedElement||f;f.parentNode.removeChild(f);b+=this.resolveCss(f.textContent,a.ownerDocument)}else f.import&&f.import.body&&(b+=this.resolveCss(f.import.body.textContent,f.import));return b},styleIncludesToTemplate:function(a){a=a.content.querySelectorAll("style[include]");for(var b=0,d;b<a.length;b++)d=a[b],d.parentNode.insertBefore(this._includesToFragment(d.getAttribute("include")),
d)},_includesToFragment:function(a){a=a.trim().split(" ");for(var b=document.createDocumentFragment(),d=0;d<a.length;d++){var e=Polymer.DomModule.import(a[d],"template");e&&this._addStylesToFragment(b,e.content)}return b},_addStylesToFragment:function(a,c){c=c.querySelectorAll("style");for(var b=0,e;b<c.length;b++){e=c[b];var f=e.getAttribute("include");f&&a.appendChild(this._includesToFragment(f));e.textContent&&a.appendChild(e.cloneNode(!0))}},isTargetedBuild:function(b){return a.useNativeShadow?
"shadow"===b:"shady"===b},cssBuildTypeForModule:function(a){if(a=Polymer.DomModule.import(a))return this.getCssBuildType(a)},getCssBuildType:function(a){return a.getAttribute("css-build")},_findMatchingParen:function(a,c){for(var b=0,e=a.length;c<e;c++)switch(a[c]){case "(":b++;break;case ")":if(0===--b)return c}return-1},processVariableAndFallback:function(a,c){var b=a.indexOf("var(");if(-1===b)return c(a,"","","");var e=this._findMatchingParen(a,b+3),f=a.substring(b+4,e);b=a.substring(0,b);a=this.processVariableAndFallback(a.substring(e+
1),c);var g=f.indexOf(",");if(-1===g)return c(b,f.trim(),"",a);e=f.substring(0,g).trim();f=f.substring(g+1).trim();return c(b,e,f,a)},rx:{VAR_ASSIGN:/(?:^|[;\s{]\s*)(--[\w-]*?)\s*:\s*(?:([^;{]*)|{([^}]*)})(?:(?=[;\s}])|$)/gi,MIXIN_MATCH:/(?:^|\W+)@apply\s*\(?([^);\n]*)\)?/gi,VAR_CONSUMED:/(--[\w-]+)\s*([:,;)]|$)/gi,ANIMATION_MATCH:/(animation\s*:)|(animation-name\s*:)/,MEDIA_MATCH:/@media[^(]*(\([^)]*\))/,IS_VAR:/^--/,BRACKETED:/\{[^}]*\}/g,HOST_PREFIX:"(?:^|[^.#[:])",HOST_SUFFIX:"($|[.:[\\s\x3e+~])"},
resolveCss:Polymer.ResolveUrl.resolveCss,parser:Polymer.CssParse,ruleTypes:Polymer.CssParse.types}}();
Polymer.StyleTransformer=function(){var a=Polymer.StyleUtil,b=Polymer.Settings,c={dom:function(a,b,c,d){this._transformDom(a,b||"",c,d)},_transformDom:function(a,b,c,d){a.setAttribute&&this.element(a,b,c,d);a=Polymer.dom(a).childNodes;for(var e=0;e<a.length;e++)this._transformDom(a[e],b,c,d)},element:function(a,b,c,e){c?e?a.removeAttribute(d):a.setAttribute(d,b):b&&(a.classList?e?(a.classList.remove(d),a.classList.remove(b)):(a.classList.add(d),a.classList.add(b)):a.getAttribute&&(c=a.getAttribute(A),
e?c&&a.setAttribute(A,c.replace(d,"").replace(b,"")):a.setAttribute(A,(c?c+" ":"")+d+" "+b)))},elementStyles:function(c,d){var e=c._styles,f="",g=c.__cssBuild;g=b.useNativeShadow||"shady"===g;if(g){var k=this;var l=function(a){a.selector=k._slottedToContent(a.selector);a.selector=a.selector.replace(m,":host \x3e *");d&&d(a)}}for(var n=0,q=e.length,r;n<q&&(r=e[n]);n++){var p=a.rulesForStyle(r);f+=g?a.toCssText(p,l):this.css(p,c.is,c.extends,d,c._scopeCssViaAttr)+"\n\n"}return f.trim()},css:function(b,
c,d,e,f){var g=this._calcHostScope(c,d);c=this._calcElementScope(c,f);var k=this;return a.toCssText(b,function(a){a.isScoped||(k.rule(a,c,g),a.isScoped=!0);e&&e(a,c,g)})},_calcElementScope:function(a,b){return a?b?v+a+z:u+a:""},_calcHostScope:function(a,b){return b?"[is\x3d"+a+"]":a},rule:function(a,b,c){this._transformRule(a,this._transformComplexSelector,b,c)},_transformRule:function(a,b,c,d){a.selector=a.transformedSelector=this._transformRuleCss(a,b,c,d)},_transformRuleCss:function(b,c,d,e){var g=
b.selector.split(f);if(!a.isKeyframesSelector(b)){b=0;for(var k=g.length,l;b<k&&(l=g[b]);b++)g[b]=c.call(this,l,d,e)}return g.join(f)},_transformComplexSelector:function(a,b,c){var d=!1,e=!1,k=this;a=a.trim();a=this._slottedToContent(a);a=a.replace(m,":host \x3e *");a=a.replace(y,l+" $1");a=a.replace(g,function(a,f,g){d?g=g.replace(r," "):(a=k._transformCompoundSelector(g,f,b,c),d=d||a.stop,e=e||a.hostContext,f=a.combinator,g=a.value);return f+g});e&&(a=a.replace(p,function(a,b,d,e){return b+d+" "+
c+e+f+" "+b+c+d+e}));return a},_transformCompoundSelector:function(a,b,c,d){var e=a.search(r),f=!1;0<=a.indexOf(q)?f=!0:0<=a.indexOf(l)?a=this._transformHostSelector(a,d):0!==e&&(a=c?this._transformSimpleSelector(a,c):a);0<=a.indexOf(t)&&(b="");if(0<=e){a=a.replace(r," ");var g=!0}return{value:a,combinator:b,stop:g,hostContext:f}},_transformSimpleSelector:function(a,b){a=a.split(w);a[0]+=b;return a.join(w)},_transformHostSelector:function(a,b){var c=a.match(n);return(c=c&&c[2].trim()||"")?c[0].match(k)?
a.replace(n,function(a,c,d){return b+d}):c.split(k)[0]===b?c:C:a.replace(l,b)},documentRule:function(a){a.selector=a.parsedSelector;this.normalizeRootSelector(a);b.useNativeShadow||this._transformRule(a,this._transformDocumentSelector)},normalizeRootSelector:function(a){a.selector=a.selector.replace(m,"html")},_transformDocumentSelector:function(a){return a.match(r)?this._transformComplexSelector(a,e):this._transformSimpleSelector(a.trim(),e)},_slottedToContent:function(a){return a.replace(D,t+"\x3e $1")},
SCOPE_NAME:"style-scope"},d=c.SCOPE_NAME,e=":not(["+d+"]):not(."+d+")",f=",",g=/(^|[\s>+~]+)((?:\[.+?\]|[^\s>+~=\[])+)/g,k=/[[.:#*]/,l=":host",m=":root",n=/(:host)(?:\(((?:\([^)(]*\)|[^)(]*)+?)\))/,q=":host-context",p=/(.*)(?::host-context)(?:\(((?:\([^)(]*\)|[^)(]*)+?)\))(.*)/,t="::content",r=/::content|::shadow|\/deep\//,u=".",v="["+d+"~\x3d",z="]",w=":",A="class",y=new RegExp("^("+t+")"),C="should_not_match",D=/(?:::slotted)(?:\(((?:\([^)(]*\)|[^)(]*)+?)\))/g;return c}();
Polymer.StyleExtends=function(){var a=Polymer.StyleUtil;return{hasExtends:function(a){return!!a.match(this.rx.EXTEND)},transform:function(b){b=a.rulesForStyle(b);var c=this;a.forEachRule(b,function(a){c._mapRuleOntoParent(a);if(a.parent)for(var b;b=c.rx.EXTEND.exec(a.cssText);)(b=c._findExtendor(b[1],a))&&c._extendRule(a,b);a.cssText=a.cssText.replace(c.rx.EXTEND,"")});return a.toCssText(b,function(a){a.selector.match(c.rx.STRIP)&&(a.cssText="")},!0)},_mapRuleOntoParent:function(a){if(a.parent){for(var b=
a.parent.map||(a.parent.map={}),d=a.selector.split(","),e=0,f;e<d.length;e++)f=d[e],b[f.trim()]=a;return b}},_findExtendor:function(a,c){return c.parent&&c.parent.map&&c.parent.map[a]||this._findExtendor(a,c.parent)},_extendRule:function(a,c){a.parent!==c.parent&&this._cloneAndAddRuleToParent(c,a.parent);a.extends=a.extends||[];a.extends.push(c);c.selector=c.selector.replace(this.rx.STRIP,"");c.selector=(c.selector&&c.selector+",\n")+a.selector;c.extends&&c.extends.forEach(function(b){this._extendRule(a,
b)},this)},_cloneAndAddRuleToParent:function(a,c){a=Object.create(a);a.parent=c;a.extends&&(a.extends=a.extends.slice());c.rules.push(a)},rx:{EXTEND:/@extends\(([^)]*)\)\s*?;/gim,STRIP:/%[^,]*$/}}}();
Polymer.ApplyShim=function(){function a(a,b){a=a.trim();t[a]={properties:b,dependants:{}}}function b(a){a=a.trim();return t[a]}function c(a){a=a.split(";");for(var b,c,d={},e=0,f;e<a.length;e++)if(b=a[e])if(f=b.split(":"),1<f.length){c=b=f[0].trim();f=f.slice(1).join(":");var g=p.exec(f);g&&(f=g[1]?r._getInitialValueForProperty(c):"apply-shim-inherit");c=f;d[b]=c}return d}function d(a){var b=r.__currentElementProto;b=b&&b.is;for(var c in a.dependants)c!==b&&(a.dependants[c].__applyShimInvalid=!0)}
function e(e,f,l,m){l&&k.processVariableAndFallback(l,function(a,c){c&&b(c)&&(m="@apply "+c+";")});if(!m)return e;var n=g(m),q=e.slice(0,e.indexOf("--")),r=n=c(n),p=b(f),t=p&&p.properties;t?(r=Object.create(t),r=Polymer.Base.mixin(r,n)):a(f,r);var u=[],v,w=!1;for(v in r){var z=n[v];void 0===z&&(z="initial");!t||v in t||(w=!0);u.push(f+"_-_"+v+": "+z)}w&&d(p);p&&(p.properties=r);l&&(q=e+";"+q);return q+u.join("; ")+";"}function f(a,b,c){return"var("+b+",var("+c+"))"}function g(d){for(var e;e=l.exec(d);){var f=
e[0],g=e[1];e=e.index;var k=d.slice(0,e+f.indexOf("@apply"));d=d.slice(e+f.length);var m=c(k),n;f=void 0;g=g.replace(q,"");var p=[];var t=b(g);t||(a(g,{}),t=b(g));if(t)for(f in(n=r.__currentElementProto)&&(t.dependants[n.is]=n),t.properties)t=m&&m[f],n=[f,": var(",g,"_-_",f],t&&n.push(",",t),n.push(")"),p.push(n.join(""));f=p.join("; ");d=[k,f,d].join("");l.lastIndex=e+f.length}return d}var k=Polymer.StyleUtil,l=k.rx.MIXIN_MATCH,m=k.rx.VAR_ASSIGN,n=/var\(\s*(--[^,]*),\s*(--[^)]*)\)/g,q=/;\s*/m,p=
/^\s*(initial)|(inherit)\s*$/,t={},r={_measureElement:null,_map:t,_separator:"_-_",transform:function(a,b){this.__currentElementProto=b;k.forRulesInStyles(a,this._boundFindDefinitions);k.forRulesInStyles(a,this._boundFindApplications);b&&(b.__applyShimInvalid=!1);this.__currentElementProto=null},_findDefinitions:function(a){var b=a.parsedCssText;b=b.replace(n,f);b=b.replace(m,e);a.cssText=b;":root"===a.selector&&(a.selector=":host \x3e *")},_findApplications:function(a){a.cssText=g(a.cssText)},transformRule:function(a){this._findDefinitions(a);
this._findApplications(a)},_getInitialValueForProperty:function(a){this._measureElement||(this._measureElement=document.createElement("meta"),this._measureElement.style.all="initial",document.head.appendChild(this._measureElement));return window.getComputedStyle(this._measureElement).getPropertyValue(a)}};r._boundTransformRule=r.transformRule.bind(r);r._boundFindDefinitions=r._findDefinitions.bind(r);r._boundFindApplications=r._findApplications.bind(r);return r}();
(function(){var a=Polymer.Base._prepElement,b=Polymer.Settings.useNativeShadow,c=Polymer.StyleUtil,d=Polymer.StyleTransformer,e=Polymer.StyleExtends,f=Polymer.ApplyShim,g=Polymer.Settings;Polymer.Base._addFeature({_prepElement:function(b){this._encapsulateStyle&&"shady"!==this.__cssBuild&&d.element(b,this.is,this._scopeCssViaAttr);a.call(this,b)},_prepStyles:function(){void 0===this._encapsulateStyle&&(this._encapsulateStyle=!b);b||(this._scopeStyle=c.applyStylePlaceHolder(this.is));this.__cssBuild=
c.cssBuildTypeForModule(this.is)},_prepShimStyles:function(){if(this._template){var a=c.isTargetedBuild(this.__cssBuild);g.useNativeCSSProperties&&"shadow"===this.__cssBuild&&a?g.preserveStyleIncludes&&c.styleIncludesToTemplate(this._template):(this._styles=this._styles||this._collectStyles(),g.useNativeCSSProperties&&!this.__cssBuild&&f.transform(this._styles,this),a=g.useNativeCSSProperties&&a?this._styles.length&&this._styles[0].textContent.trim():d.elementStyles(this),this._prepStyleProperties(),
!this._needsStyleProperties()&&a&&c.applyCss(a,this.is,b?this._template.content:null,this._scopeStyle))}else this._styles=[]},_collectStyles:function(){var a=[],b="",d=this.styleModules;if(d)for(var f=0,g=d.length,p;f<g&&(p=d[f]);f++)b+=c.cssFromModule(p);b+=c.cssFromModule(this.is);d=this._template&&this._template.parentNode;!this._template||d&&d.id.toLowerCase()===this.is||(b+=c.cssFromElement(this._template));b&&(d=document.createElement("style"),d.textContent=b,e.hasExtends(d.textContent)&&e.transform(d),
a.push(d));return a},_elementAdd:function(a){this._encapsulateStyle&&(a.__styleScoped?a.__styleScoped=!1:d.dom(a,this.is,this._scopeCssViaAttr))},_elementRemove:function(a){this._encapsulateStyle&&d.dom(a,this.is,this._scopeCssViaAttr,!0)},scopeSubtree:function(a,c){if(!b){var d=this,e=function(a){if(a.nodeType===Node.ELEMENT_NODE){var b=a.getAttribute("class");a.setAttribute("class",d._scopeElementClass(a,b));a=a.querySelectorAll("*");for(var c=0,e;c<a.length&&(e=a[c]);c++)b=e.getAttribute("class"),
e.setAttribute("class",d._scopeElementClass(e,b))}};e(a);if(c)return c=new MutationObserver(function(a){for(var b=0,c;b<a.length&&(c=a[b]);b++)if(c.addedNodes)for(var d=0;d<c.addedNodes.length;d++)e(c.addedNodes[d])}),c.observe(a,{childList:!0,subtree:!0}),c}}})})();
Polymer.StyleProperties=function(){var a=Polymer.DomApi.matchesSelector,b=Polymer.StyleUtil,c=Polymer.StyleTransformer,d=navigator.userAgent.match("Trident"),e=Polymer.Settings;return{decorateStyles:function(a,d){var e=this,f={},g=[],n=0,q=c._calcHostScope(d.is,d.extends);b.forRulesInStyles(a,function(a,c){e.decorateRule(a);a.index=n++;e.whenHostOrRootRule(d,a,c,function(c){a.parent.type===b.ruleTypes.MEDIA_RULE&&(d.__notStyleScopeCacheable=!0);c.isHost&&(c=c.selector.split(" ").some(function(a){return 0===
a.indexOf(q)&&a.length!==q.length}),d.__notStyleScopeCacheable=d.__notStyleScopeCacheable||c)});e.collectPropertiesInCssText(a.propertyInfo.cssText,f)},function(a){g.push(a)});a._keyframes=g;a=[];for(var p in f)a.push(p);return a},decorateRule:function(a){if(a.propertyInfo)return a.propertyInfo;var b={},c={};this.collectProperties(a,c)&&(b.properties=c,a.rules=null);b.cssText=this.collectCssText(a);return a.propertyInfo=b},collectProperties:function(a,b){var c=a.propertyInfo;if(c){if(c.properties)return Polymer.Base.mixin(b,
c.properties),!0}else{c=this.rx.VAR_ASSIGN;for(var d=a.parsedCssText,e;a=c.exec(d);)e=(a[2]||a[3]).trim(),"inherit"!==e&&(b[a[1].trim()]=e),e=!0;return e}},collectCssText:function(a){return this.collectConsumingCssText(a.parsedCssText)},collectConsumingCssText:function(a){return a.replace(this.rx.BRACKETED,"").replace(this.rx.VAR_ASSIGN,"")},collectPropertiesInCssText:function(a,b){for(var c;c=this.rx.VAR_CONSUMED.exec(a);){var d=c[1];":"!==c[2]&&(b[d]=!0)}},reify:function(a){for(var b=Object.getOwnPropertyNames(a),
c=0,d;c<b.length;c++)d=b[c],a[d]=this.valueForProperty(a[d],a)},valueForProperty:function(a,c){if(a)if(0<=a.indexOf(";"))a=this.valueForProperties(a,c);else{var d=this;a=b.processVariableAndFallback(a,function(a,b,e,f){(b=d.valueForProperty(c[b],c))&&"initial"!==b?"apply-shim-inherit"===b&&(b="inherit"):b=d.valueForProperty(c[e]||e,c)||e;return a+(b||"")+f})}return a&&a.trim()||""},valueForProperties:function(a,b){a=a.split(";");for(var c=0,d,e;c<a.length;c++)if(d=a[c]){this.rx.MIXIN_MATCH.lastIndex=
0;if(e=this.rx.MIXIN_MATCH.exec(d))d=this.valueForProperty(b[e[1]],b);else if(e=d.indexOf(":"),-1!==e){var f=d.substring(e);f=f.trim();f=this.valueForProperty(f,b)||f;d=d.substring(0,e)+f}a[c]=d&&d.lastIndexOf(";")===d.length-1?d.slice(0,-1):d||""}return a.join(";")},applyProperties:function(a,b){var c="";a.propertyInfo||this.decorateRule(a);a.propertyInfo.cssText&&(c=this.valueForProperties(a.propertyInfo.cssText,b));a.cssText=c},applyKeyframeTransforms:function(a,b){var c=a.cssText,d=a.cssText;
null==a.hasAnimations&&(a.hasAnimations=this.rx.ANIMATION_MATCH.test(c));if(a.hasAnimations)if(null==a.keyframeNamesToTransform){a.keyframeNamesToTransform=[];for(var e in b)d=b[e],d=d(c),c!==d&&(c=d,a.keyframeNamesToTransform.push(e))}else{for(e=0;e<a.keyframeNamesToTransform.length;++e)d=b[a.keyframeNamesToTransform[e]],c=d(c);d=c}a.cssText=d},propertyDataFromStyles:function(c,d){var e={},f=this,g=[];b.forActiveRulesInStyles(c,function(b){b.propertyInfo||f.decorateRule(b);var c=b.transformedSelector||
b.parsedSelector;d&&b.propertyInfo.properties&&c&&a.call(d,c)&&(f.collectProperties(b,e),b=b.index,c=parseInt(b/32),g[c]=(g[c]||0)|1<<b%32)});return{properties:e,key:g}},_rootSelector:/:root|:host\s*>\s*\*/,_checkRoot:function(a,b){return!!b.match(this._rootSelector)||"html"===a&&-1<b.indexOf("html")},whenHostOrRootRule:function(a,b,d,l){b.propertyInfo||self.decorateRule(b);if(b.propertyInfo.properties){var f=a.is?c._calcHostScope(a.is,a.extends):"html",g=b.parsedSelector,k=this._checkRoot(f,g),p=
!k&&0===g.indexOf(":host");"shady"===(a.__cssBuild||d.__cssBuild)&&(k=g===f+" \x3e *."+f||-1<g.indexOf("html"),p=!k&&0===g.indexOf(f));if(k||p)d=f,p&&(e.useNativeShadow&&!b.transformedSelector&&(b.transformedSelector=c._transformRuleCss(b,c._transformComplexSelector,a.is,f)),d=b.transformedSelector||b.parsedSelector),k&&"html"===f&&(d=b.transformedSelector||b.parsedSelector),l({selector:d,isHost:p,isRoot:k})}},hostAndRootPropertiesForScope:function(c){var d={},e={},f=this;b.forActiveRulesInStyles(c._styles,
function(b,g){f.whenHostOrRootRule(c,b,g,function(g){a.call(c._element||c,g.selector)&&(g.isHost?f.collectProperties(b,d):f.collectProperties(b,e))})});return{rootProps:e,hostProps:d}},transformStyles:function(a,b,d){var f=this,g=c._calcHostScope(a.is,a.extends),k=new RegExp(this.rx.HOST_PREFIX+(a.extends?"\\"+g.slice(0,-1)+"\\]":g)+this.rx.HOST_SUFFIX),q=this._elementKeyframeTransforms(a,d);return c.elementStyles(a,function(c){f.applyProperties(c,b);e.useNativeShadow||Polymer.StyleUtil.isKeyframesSelector(c)||
!c.cssText||(f.applyKeyframeTransforms(c,q),f._scopeSelector(c,k,g,a._scopeCssViaAttr,d))})},_elementKeyframeTransforms:function(a,b){a=a._styles._keyframes;var c={};if(!e.useNativeShadow&&a)for(var d=0,f=a[d];d<a.length;f=a[++d])this._scopeKeyframes(f,b),c[f.keyframesName]=this._keyframesRuleTransformer(f);return c},_keyframesRuleTransformer:function(a){return function(b){return b.replace(a.keyframesNameRx,a.transformedKeyframesName)}},_scopeKeyframes:function(a,b){a.keyframesNameRx=new RegExp(a.keyframesName,
"g");a.transformedKeyframesName=a.keyframesName+"-"+b;a.transformedSelector=a.transformedSelector||a.selector;a.selector=a.transformedSelector.replace(a.keyframesName,a.transformedKeyframesName)},_scopeSelector:function(a,b,d,e,m){a.transformedSelector=a.transformedSelector||a.selector;e=e?"["+c.SCOPE_NAME+"~\x3d"+m+"]":"."+m;m=a.transformedSelector.split(",");for(var f=0,g=m.length,k;f<g&&(k=m[f]);f++)m[f]=k.match(b)?k.replace(d,e):e+" "+k;a.selector=m.join(",")},applyElementScopeSelector:function(a,
b,d,e){var f=e?a.getAttribute(c.SCOPE_NAME):a.getAttribute("class")||"";b=d?f.replace(d,b):(f?f+" ":"")+this.XSCOPE_NAME+" "+b;f!==b&&(e?a.setAttribute(c.SCOPE_NAME,b):a.setAttribute("class",b))},applyElementStyle:function(a,c,k,l){c=l?l.textContent||"":this.transformStyles(a,c,k);var f=a._customStyle;f&&!e.useNativeShadow&&f!==l&&(f._useCount--,0>=f._useCount&&f.parentNode&&f.parentNode.removeChild(f));e.useNativeShadow?a._customStyle?(a._customStyle.textContent=c,l=a._customStyle):c&&(l=b.applyCss(c,
k,a.root,a._scopeStyle)):l?l.parentNode||(d&&-1<c.indexOf("@media")&&(l.textContent=c),b.applyStyle(l,null,a._scopeStyle)):c&&(l=b.applyCss(c,k,null,a._scopeStyle));l&&(l._useCount=l._useCount||0,a._customStyle!=l&&l._useCount++,a._customStyle=l);return l},mixinCustomStyle:function(a,b){var c,d;for(d in b)if((c=b[d])||0===c)a[d]=c},updateNativeStyleProperties:function(a,b){var c=a.__customStyleProperties;if(c)for(var d=0;d<c.length;d++)a.style.removeProperty(c[d]);c=[];for(var e in b)null!==b[e]&&
(a.style.setProperty(e,b[e]),c.push(e));a.__customStyleProperties=c},rx:b.rx,XSCOPE_NAME:"x-scope"}}();Polymer.StyleCache=function(){this.cache={}};
Polymer.StyleCache.prototype={MAX:100,store:function(a,b,c,d){b.keyValues=c;b.styles=d;a=this.cache[a]=this.cache[a]||[];a.push(b);a.length>this.MAX&&a.shift()},retrieve:function(a,b,c){if(a=this.cache[a])for(var d=a.length-1,e;0<=d;d--)if(e=a[d],c===e.styles&&this._objectsEqual(b,e.keyValues))return e},clear:function(){this.cache={}},_objectsEqual:function(a,b){var c;for(c in a){var d=a[c];var e=b[c];if("object"===typeof d&&d?!this._objectsStrictlyEqual(d,e):d!==e)return!1}return Array.isArray(a)?
a.length===b.length:!0},_objectsStrictlyEqual:function(a,b){return this._objectsEqual(a,b)&&this._objectsEqual(b,a)}};
Polymer.StyleDefaults=function(){var a=Polymer.StyleProperties,b=Polymer.Settings.useNativeCSSProperties;return{_styles:[],_properties:null,customStyle:{},_styleCache:new Polymer.StyleCache,_element:Polymer.DomApi.wrap(document.documentElement),addStyle:function(a){this._styles.push(a);this._properties=null},get _styleProperties(){this._properties||(a.decorateStyles(this._styles,this),this._styles._scopeStyleProperties=null,this._properties=a.hostAndRootPropertiesForScope(this).rootProps,a.mixinCustomStyle(this._properties,
this.customStyle),a.reify(this._properties));return this._properties},hasStyleProperties:function(){return!!this._properties},_needsStyleProperties:function(){},_computeStyleProperties:function(){return this._styleProperties},updateStyles:function(c){this._properties=null;c&&Polymer.Base.mixin(this.customStyle,c);this._styleCache.clear();c=0;for(var d;c<this._styles.length;c++)d=this._styles[c],d=d.__importElement||d,d._apply();b&&a.updateNativeStyleProperties(document.documentElement,this.customStyle)}}}();
(function(){var a=Polymer.Base.serializeValueToAttribute,b=Polymer.StyleProperties,c=Polymer.StyleTransformer,d=Polymer.StyleDefaults,e=Polymer.Settings.useNativeShadow,f=Polymer.Settings.useNativeCSSProperties;Polymer.Base._addFeature({_prepStyleProperties:function(){f||(this._ownStylePropertyNames=this._styles&&this._styles.length?b.decorateStyles(this._styles,this):null)},customStyle:null,getComputedStyleValue:function(a){f||this._styleProperties||this._computeStyleProperties();return!f&&this._styleProperties&&
this._styleProperties[a]||getComputedStyle(this).getPropertyValue(a)},_setupStyleProperties:function(){this.customStyle={};this._customStyle=this._ownStyleProperties=this._scopeSelector=this._styleProperties=this._styleCache=null},_needsStyleProperties:function(){return!(f||!this._ownStylePropertyNames||!this._ownStylePropertyNames.length)},_validateApplyShim:function(){if(this.__applyShimInvalid){Polymer.ApplyShim.transform(this._styles,this.__proto__);var a=c.elementStyles(this),b=e?this._template.content.querySelector("style"):
this._scopeStyle&&this._scopeStyle.nextSibling;b&&(b.textContent=a)}},_beforeAttached:function(){this._scopeSelector&&!this.__stylePropertiesInvalid||!this._needsStyleProperties()||(this.__stylePropertiesInvalid=!1,this._updateStyleProperties())},_findStyleHost:function(){for(var a=this;a=Polymer.dom(a).getOwnerRoot();){if(Polymer.isInstance(a.host))return a.host;a=a.host}return d},_updateStyleProperties:function(){var a=this._findStyleHost();a._styleProperties||a._computeStyleProperties();a._styleCache||
(a._styleCache=new Polymer.StyleCache);var c=b.propertyDataFromStyles(a._styles,this),d=!this.__notStyleScopeCacheable;if(d){c.key.customStyle=this.customStyle;var f=a._styleCache.retrieve(this.is,c.key,this._styles)}var k=!!f;k?this._styleProperties=f._styleProperties:this._computeStyleProperties(c.properties);this._computeOwnStyleProperties();k||(f=g.retrieve(this.is,this._ownStyleProperties,this._styles));var l=!!f&&!k;f=this._applyStyleProperties(f);k||(f=f&&e?f.cloneNode(!0):f,f={style:f,_scopeSelector:this._scopeSelector,
_styleProperties:this._styleProperties},d&&(c.key.customStyle={},this.mixin(c.key.customStyle,this.customStyle),a._styleCache.store(this.is,f,c.key,this._styles)),l||g.store(this.is,Object.create(f),this._ownStyleProperties,this._styles))},_computeStyleProperties:function(a){var c=this._findStyleHost();c._styleProperties||c._computeStyleProperties();var d=Object.create(c._styleProperties),e=b.hostAndRootPropertiesForScope(this);this.mixin(d,e.hostProps);a=a||b.propertyDataFromStyles(c._styles,this).properties;
this.mixin(d,a);this.mixin(d,e.rootProps);b.mixinCustomStyle(d,this.customStyle);b.reify(d);this._styleProperties=d},_computeOwnStyleProperties:function(){for(var a={},b=0,c;b<this._ownStylePropertyNames.length;b++)c=this._ownStylePropertyNames[b],a[c]=this._styleProperties[c];this._ownStyleProperties=a},_scopeCount:0,_applyStyleProperties:function(a){var c=this._scopeSelector;this._scopeSelector=a?a._scopeSelector:this.is+"-"+this.__proto__._scopeCount++;a=b.applyElementStyle(this,this._styleProperties,
this._scopeSelector,a&&a.style);e||b.applyElementScopeSelector(this,this._scopeSelector,c,this._scopeCssViaAttr);return a},serializeValueToAttribute:function(b,c,d){d=d||this;if("class"===c&&!e){var f=d===this?this.domHost||this.dataHost:this;f&&(b=f._scopeElementClass(d,b))}d=this.shadyRoot&&this.shadyRoot._hasDistributed?Polymer.dom(d):d;a.call(this,b,c,d)},_scopeElementClass:function(a,b){e||this._scopeCssViaAttr||(b=(b?b+" ":"")+k+" "+this.is+(a._scopeSelector?" "+l+" "+a._scopeSelector:""));
return b},updateStyles:function(a){a&&this.mixin(this.customStyle,a);f?b.updateNativeStyleProperties(this,this.customStyle):(this.isAttached?this._needsStyleProperties()?this._updateStyleProperties():this._styleProperties=null:this.__stylePropertiesInvalid=!0,this._styleCache&&this._styleCache.clear(),this._updateRootStyles())},_updateRootStyles:function(a){a=a||this.root;a=Polymer.dom(a)._query(function(a){return a.shadyRoot||a.shadowRoot});for(var b=0,c=a.length,d;b<c&&(d=a[b]);b++)d.updateStyles&&
d.updateStyles()}});Polymer.updateStyles=function(a){d.updateStyles(a);Polymer.Base._updateRootStyles(document)};var g=new Polymer.StyleCache;Polymer.customStyleCache=g;var k=c.SCOPE_NAME,l=b.XSCOPE_NAME})();
Polymer.Base._addFeature({_registerFeatures:function(){this._prepIs();this.factoryImpl&&this._prepConstructor();this._prepStyles()},_finishRegisterFeatures:function(){this._prepTemplate();this._prepShimStyles();this._prepAnnotations();this._prepEffects();this._prepBehaviors();this._prepPropertyInfo();this._prepBindings();this._prepShady()},_prepBehavior:function(a){this._addPropertyEffects(a.properties);this._addComplexObserverEffects(a.observers);this._addHostAttributes(a.hostAttributes)},_initFeatures:function(){this._setupGestures();
this._setupConfigure(this.__data__);this._setupStyleProperties();this._setupDebouncers();this._setupShady();this._registerHost();this._template&&(this._validateApplyShim(),this._poolContent(),this._beginHosting(),this._stampTemplate(),this._endHosting(),this._marshalAnnotationReferences());this._marshalInstanceEffects();this._marshalBehaviors();this._marshalHostAttributes();this._marshalAttributes();this._tryReady()},_marshalBehavior:function(a){a.listeners&&this._listenListeners(a.listeners)}});
(function(){var a=Polymer.StyleProperties,b=Polymer.StyleUtil,c=Polymer.CssParse,d=Polymer.StyleDefaults,e=Polymer.StyleTransformer,f=Polymer.ApplyShim,g=Polymer.Debounce,k=Polymer.Settings,l;Polymer({is:"custom-style",extends:"style",_template:null,properties:{include:String},ready:function(){this.__appliedElement=this.__appliedElement||this;this.__cssBuild=b.getCssBuildType(this);this.__appliedElement!==this&&(this.__appliedElement.__cssBuild=this.__cssBuild);this._tryApply()},attached:function(){this._tryApply()},
_tryApply:function(){if(!this._appliesToDocument&&this.parentNode&&"dom-module"!==this.parentNode.localName){this._appliesToDocument=!0;var a=this.__appliedElement;k.useNativeCSSProperties||(this.__needsUpdateStyles=d.hasStyleProperties(),d.addStyle(a));if(a.textContent||this.include)this._apply(!0);else{var b=this,c=new MutationObserver(function(){c.disconnect();b._apply(!0)});c.observe(a,{childList:!0})}}},_updateStyles:function(){Polymer.updateStyles()},_apply:function(a){var c=this.__appliedElement;
this.include&&(c.textContent=b.cssFromModules(this.include,!0)+c.textContent);if(c.textContent){var d=this.__cssBuild,g=b.isTargetedBuild(d);if(!k.useNativeCSSProperties||!g){var l=b.rulesForStyle(c);g||(b.forEachRule(l,function(a){e.documentRule(a)}),k.useNativeCSSProperties&&!d&&f.transform([c]));if(k.useNativeCSSProperties)c.textContent=b.toCssText(l);else{var m=this;c=function(){m._flushCustomProperties()};a?Polymer.RenderStatus.whenReady(c):c()}}}},_flushCustomProperties:function(){this.__needsUpdateStyles?
(this.__needsUpdateStyles=!1,l=g(l,this._updateStyles)):this._applyCustomProperties()},_applyCustomProperties:function(){var d=this.__appliedElement;this._computeStyleProperties();var e=this._styleProperties,f=b.rulesForStyle(d);f&&(d.textContent=b.toCssText(f,function(b){var d=b.cssText=b.parsedCssText;b.propertyInfo&&b.propertyInfo.cssText&&(d=c.removeCustomPropAssignment(d),b.cssText=a.valueForProperties(d,e))}))}})})();
Polymer.Templatizer={properties:{__hideTemplateChildren__:{observer:"_showHideChildren"}},_instanceProps:Polymer.nob,_parentPropPrefix:"_parent_",templatize:function(a){this._templatized=a;a._content||(a._content=a.content);if(a._content._ctor)this.ctor=a._content._ctor,this._prepParentProperties(this.ctor.prototype,a);else{var b=Object.create(Polymer.Base);this._customPrepAnnotations(b,a);this._prepParentProperties(b,a);b._prepEffects();this._customPrepEffects(b);b._prepBehaviors();b._prepPropertyInfo();
b._prepBindings();b._notifyPathUp=this._notifyPathUpImpl;b._scopeElementClass=this._scopeElementClassImpl;b.listen=this._listenImpl;b._showHideChildren=this._showHideChildrenImpl;b.__setPropertyOrig=this.__setProperty;b.__setProperty=this.__setPropertyImpl;var c=this._constructorImpl,d=function(a,b){c.call(this,a,b)};d.prototype=b;b.constructor=d;this.ctor=a._content._ctor=d}},_getRootDataHost:function(){return this.dataHost&&this.dataHost._rootDataHost||this.dataHost},_showHideChildrenImpl:function(a){for(var b=
this._children,c=0;c<b.length;c++){var d=b[c];!!a!=!!d.__hideTemplateChildren__&&(d.nodeType===Node.TEXT_NODE?a?(d.__polymerTextContent__=d.textContent,d.textContent=""):d.textContent=d.__polymerTextContent__:d.style&&(a?(d.__polymerDisplay__=d.style.display,d.style.display="none"):d.style.display=d.__polymerDisplay__));d.__hideTemplateChildren__=a}},__setPropertyImpl:function(a,b,c,d){d&&d.__hideTemplateChildren__&&"textContent"==a&&(a="__polymerTextContent__");this.__setPropertyOrig(a,b,c,d)},_debounceTemplate:function(a){Polymer.dom.addDebouncer(this.debounce("_debounceTemplate",
a))},_flushTemplates:function(){Polymer.dom.flush()},_customPrepEffects:function(a){var b=a._parentProps,c;for(c in b)a._addPropertyEffect(c,"function",this._createHostPropEffector(c));for(c in this._instanceProps)a._addPropertyEffect(c,"function",this._createInstancePropEffector(c))},_customPrepAnnotations:function(a,b){a._template=b;var c=b._content;if(!c._notes){var d=a._rootDataHost;d&&(Polymer.Annotations.prepElement=function(){d._prepElement()});c._notes=Polymer.Annotations.parseAnnotations(b);
Polymer.Annotations.prepElement=null;this._processAnnotations(c._notes)}a._notes=c._notes;a._parentProps=c._parentProps},_prepParentProperties:function(a,b){var c=this._parentProps=a._parentProps;if(this._forwardParentProp&&c){var d=a._parentPropProto,e;if(!d){for(e in this._instanceProps)delete c[e];d=a._parentPropProto=Object.create(null);b!=this&&(Polymer.Bind.prepareModel(d),Polymer.Base.prepareModelNotifyPath(d));for(e in c)a=this._parentPropPrefix+e,c=[{kind:"function",effect:this._createForwardPropEffector(e),
fn:Polymer.Bind._functionEffect},{kind:"notify",fn:Polymer.Bind._notifyEffect,effect:{event:Polymer.CaseMap.camelToDashCase(a)+"-changed"}}],d._propertyEffects=d._propertyEffects||{},d._propertyEffects[a]=c,Polymer.Bind._createAccessors(d,a,c)}var f=this;b!=this&&(Polymer.Bind.prepareInstance(b),b._forwardParentProp=function(a,b){f._forwardParentProp(a,b)});this._extendTemplate(b,d);b._pathEffector=function(a,b,c){return f._pathEffectorImpl(a,b,c)}}},_createForwardPropEffector:function(a){return function(b,
c){this._forwardParentProp(a,c)}},_createHostPropEffector:function(a){var b=this._parentPropPrefix;return function(c,d){this.dataHost._templatized[b+a]=d}},_createInstancePropEffector:function(a){return function(b,c,d,e){e||this.dataHost._forwardInstanceProp(this,a,c)}},_extendTemplate:function(a,b){var c=Object.getOwnPropertyNames(b);b._propertySetter&&(a._propertySetter=b._propertySetter);for(var d=0,e;d<c.length&&(e=c[d]);d++){var f=a[e];f&&"_propertyEffects"==e?(f=Polymer.Base.mixin({},f),a._propertyEffects=
Polymer.Base.mixin(f,b._propertyEffects)):(Object.defineProperty(a,e,Object.getOwnPropertyDescriptor(b,e)),void 0!==f&&a._propertySetter(e,f))}},_showHideChildren:function(){},_forwardInstancePath:function(){},_forwardInstanceProp:function(){},_notifyPathUpImpl:function(a,b){var c=this.dataHost,d=Polymer.Path.root(a);c._forwardInstancePath.call(c,this,a,b);d in c._parentProps&&c._templatized._notifyPath(c._parentPropPrefix+a,b)},_pathEffectorImpl:function(a,b,c){if(this._forwardParentPath&&0===a.indexOf(this._parentPropPrefix)){var d=
a.substring(this._parentPropPrefix.length);Polymer.Path.root(d)in this._parentProps&&this._forwardParentPath(d,b)}Polymer.Base._pathEffector.call(this._templatized,a,b,c)},_constructorImpl:function(a,b){this._rootDataHost=b._getRootDataHost();this._setupConfigure(a);this._registerHost(b);this._beginHosting();this.root=this.instanceTemplate(this._template);this.root.__noContent=!this._notes._hasContent;this.root.__styleScoped=!0;this._endHosting();this._marshalAnnotatedNodes();this._marshalInstanceEffects();
this._marshalAnnotatedListeners();a=[];for(var c=this.root.firstChild;c;c=c.nextSibling)a.push(c),c._templateInstance=this;this._children=a;b.__hideTemplateChildren__&&this._showHideChildren(!0);this._tryReady()},_listenImpl:function(a,b,c){var d=this,e=this._rootDataHost,f=e._createEventHandler(a,b,c);e._listen(a,b,function(a){a.model=d;f(a)})},_scopeElementClassImpl:function(a,b){var c=this._rootDataHost;return c?c._scopeElementClass(a,b):b},stamp:function(a){a=a||{};if(this._parentProps){var b=
this._templatized,c;for(c in this._parentProps)void 0===a[c]&&(a[c]=b[this._parentPropPrefix+c])}return new this.ctor(a,this)},modelForElement:function(a){for(var b;a;)if(b=a._templateInstance)if(b.dataHost!=this)a=b.dataHost;else return b;else a=a.parentNode}};Polymer({is:"dom-template",extends:"template",_template:null,behaviors:[Polymer.Templatizer],ready:function(){this.templatize(this)}});Polymer._collections=new WeakMap;
Polymer.Collection=function(a){Polymer._collections.set(a,this);this.userArray=a;this.store=a.slice();this.initMap()};
Polymer.Collection.prototype={constructor:Polymer.Collection,initMap:function(){for(var a=this.omap=new WeakMap,b=this.pmap={},c=this.store,d=0;d<c.length;d++){var e=c[d];e&&"object"==typeof e?a.set(e,d):b[e]=d}},add:function(a){var b=this.store.push(a)-1;a&&"object"==typeof a?this.omap.set(a,b):this.pmap[a]=b;return"#"+b},removeKey:function(a){if(a=ya(a))za(this,this.store[a]),delete this.store[a]},remove:function(a){a=this.getKey(a);this.removeKey(a);return a},getKey:function(a){a=a&&"object"==
typeof a?this.omap.get(a):this.pmap[a];if(void 0!=a)return"#"+a},getKeys:function(){return Object.keys(this.store).map(function(a){return"#"+a})},setItem:function(a,b){if(a=ya(a)){var c=this.store[a];c&&za(this,c);b&&"object"==typeof b?this.omap.set(b,a):this.pmap[b]=a;this.store[a]=b}},getItem:function(a){if(a=ya(a))return this.store[a]},getItems:function(){var a=[],b=this.store,c;for(c in b)a.push(b[c]);return a}};function ya(a){if(a&&"#"==a[0])return a.slice(1)}
function za(a,b){b&&"object"==typeof b?a.omap.delete(b):delete a.pmap[b]}Polymer.Collection.get=function(a){return Polymer._collections.get(a)||new Polymer.Collection(a)};
Polymer.Collection.applySplices=function(a,b){a=Polymer._collections.get(a);if(a){for(var c={},d=0,e;d<b.length&&(e=b[d]);d++){e.addedKeys=[];for(var f=0;f<e.removed.length;f++){var g=a.getKey(e.removed[f]);c[g]=c[g]?null:-1}for(f=0;f<e.addedCount;f++){var k=a.userArray[e.index+f];g=a.getKey(k);g=void 0===g?a.add(k):g;c[g]=c[g]?null:1;e.addedKeys.push(g)}}b=[];e=[];for(g in c)0>c[g]&&(a.removeKey(g),b.push(g)),0<c[g]&&e.push(g);g=[{removed:b,added:e}]}else g=null;return g};
Polymer({is:"dom-repeat",extends:"template",_template:null,properties:{items:{type:Array},as:{type:String,value:"item"},indexAs:{type:String,value:"index"},sort:{type:Function,observer:"_sortChanged"},filter:{type:Function,observer:"_filterChanged"},observe:{type:String,observer:"_observeChanged"},delay:Number,renderedItemCount:{type:Number,notify:!Polymer.Settings.suppressTemplateNotifications,readOnly:!0},initialCount:{type:Number,observer:"_initializeChunking"},targetFramerate:{type:Number,value:20},
notifyDomChange:{type:Boolean},_targetFrameTime:{type:Number,computed:"_computeFrameTime(targetFramerate)"}},behaviors:[Polymer.Templatizer],observers:["_itemsChanged(items.*)"],created:function(){this._instances=[];this._pool=[];this._limit=Infinity;var a=this;this._boundRenderChunk=function(){a._renderChunk()}},detached:function(){this.__isDetached=!0;for(var a=0;a<this._instances.length;a++)this._detachInstance(a)},attached:function(){if(this.__isDetached){this.__isDetached=!1;for(var a=Polymer.dom(Polymer.dom(this).parentNode),
b=0;b<this._instances.length;b++)this._attachInstance(b,a)}},ready:function(){this._instanceProps={__key__:!0};this._instanceProps[this.as]=!0;this._instanceProps[this.indexAs]=!0;this.ctor||this.templatize(this)},_sortChanged:function(a){var b=this._getRootDataHost();this._sortFn=a&&("function"==typeof a?a:function(){return b[a].apply(b,arguments)});this._needFullRefresh=!0;this.items&&this._debounceTemplate(this._render)},_filterChanged:function(a){var b=this._getRootDataHost();this._filterFn=a&&
("function"==typeof a?a:function(){return b[a].apply(b,arguments)});this._needFullRefresh=!0;this.items&&this._debounceTemplate(this._render)},_computeFrameTime:function(a){return Math.ceil(1E3/a)},_initializeChunking:function(){this.initialCount&&(this._chunkCount=this._limit=this.initialCount,this._lastChunkTime=performance.now())},_tryRenderChunk:function(){this.items&&this._limit<this.items.length&&this.debounce("renderChunk",this._requestRenderChunk)},_requestRenderChunk:function(){requestAnimationFrame(this._boundRenderChunk)},
_renderChunk:function(){var a=performance.now();this._chunkCount=Math.round(this._targetFrameTime/(a-this._lastChunkTime)*this._chunkCount)||1;this._limit+=this._chunkCount;this._lastChunkTime=a;this._debounceTemplate(this._render)},_observeChanged:function(){this._observePaths=this.observe&&this.observe.replace(".*",".").split(" ")},_itemsChanged:function(a){if("items"==a.path)Array.isArray(this.items)?this.collection=Polymer.Collection.get(this.items):this.items?this._error(this._logf("dom-repeat",
"expected array for `items`, found",this.items)):this.collection=null,this._keySplices=[],this._indexSplices=[],this._needFullRefresh=!0,this._initializeChunking(),this._debounceTemplate(this._render);else if("items.splices"==a.path)this._keySplices=this._keySplices.concat(a.value.keySplices),this._indexSplices=this._indexSplices.concat(a.value.indexSplices),this._debounceTemplate(this._render);else{var b=a.path.slice(6);this._forwardItemPath(b,a.value);this._checkObservedPaths(b)}},_checkObservedPaths:function(a){if(this._observePaths){a=
a.substring(a.indexOf(".")+1);for(var b=this._observePaths,c=0;c<b.length;c++)if(0===a.indexOf(b[c])){this._needFullRefresh=!0;this.delay?this.debounce("render",this._render,this.delay):this._debounceTemplate(this._render);break}}},render:function(){this._needFullRefresh=!0;this._debounceTemplate(this._render);this._flushTemplates()},_render:function(){this._needFullRefresh?(this._applyFullRefresh(),this._needFullRefresh=!1):this._keySplices.length&&(this._sortFn?this._applySplicesUserSort(this._keySplices):
this._filterFn?this._applyFullRefresh():this._applySplicesArrayOrder(this._indexSplices));this._keySplices=[];this._indexSplices=[];for(var a=this._keyToInstIdx={},b=this._instances.length-1;0<=b;b--){var c=this._instances[b];c.isPlaceholder&&b<this._limit?c=this._insertInstance(b,c.__key__):!c.isPlaceholder&&b>=this._limit&&(c=this._downgradeInstance(b,c.__key__));a[c.__key__]=b;c.isPlaceholder||c.__setProperty(this.indexAs,b,!0)}this._pool.length=0;this._setRenderedItemCount(this._instances.length);
Polymer.Settings.suppressTemplateNotifications&&!this.notifyDomChange||this.fire("dom-change");this._tryRenderChunk()},_applyFullRefresh:function(){var a=this.collection;if(this._sortFn)var b=a?a.getKeys():[];else{b=[];var c=this.items;if(c)for(var d=0;d<c.length;d++)b.push(a.getKey(c[d]))}var e=this;this._filterFn&&(b=b.filter(function(b){return e._filterFn(a.getItem(b))}));this._sortFn&&b.sort(function(b,c){return e._sortFn(a.getItem(b),a.getItem(c))});for(d=0;d<b.length;d++){c=b[d];var f=this._instances[d];
f?(f.__key__=c,!f.isPlaceholder&&d<this._limit&&f.__setProperty(this.as,a.getItem(c),!0)):d<this._limit?this._insertInstance(d,c):this._insertPlaceholder(d,c)}for(b=this._instances.length-1;b>=d;b--)this._detachAndRemoveInstance(b)},_numericSort:function(a,b){return a-b},_applySplicesUserSort:function(a){for(var b=this.collection,c={},d,e=0,f;e<a.length&&(f=a[e]);e++){for(var g=0;g<f.removed.length;g++)d=f.removed[g],c[d]=c[d]?null:-1;for(g=0;g<f.added.length;g++)d=f.added[g],c[d]=c[d]?null:1}f=[];
a=[];for(d in c)-1===c[d]&&f.push(this._keyToInstIdx[d]),1===c[d]&&a.push(d);if(f.length)for(f.sort(this._numericSort),e=f.length-1;0<=e;e--)c=f[e],void 0!==c&&this._detachAndRemoveInstance(c);var k=this;if(a.length)for(this._filterFn&&(a=a.filter(function(a){return k._filterFn(b.getItem(a))})),a.sort(function(a,c){return k._sortFn(b.getItem(a),b.getItem(c))}),e=c=0;e<a.length;e++)c=this._insertRowUserSort(c,a[e])},_insertRowUserSort:function(a,b){for(var c=this.collection,d=c.getItem(b),e=this._instances.length-
1,f=-1;a<=e;){var g=a+e>>1,k=this._sortFn(c.getItem(this._instances[g].__key__),d);if(0>k)a=g+1;else if(0<k)e=g-1;else{f=g;break}}0>f&&(f=e+1);this._insertPlaceholder(f,b);return f},_applySplicesArrayOrder:function(a){for(var b=0,c;b<a.length&&(c=a[b]);b++){for(var d=0;d<c.removed.length;d++)this._detachAndRemoveInstance(c.index);for(d=0;d<c.addedKeys.length;d++)this._insertPlaceholder(c.index+d,c.addedKeys[d])}},_detachInstance:function(a){a=this._instances[a];if(!a.isPlaceholder){for(var b=0;b<
a._children.length;b++){var c=a._children[b];Polymer.dom(a.root).appendChild(c)}return a}},_attachInstance:function(a,b){a=this._instances[a];a.isPlaceholder||b.insertBefore(a.root,this)},_detachAndRemoveInstance:function(a){var b=this._detachInstance(a);b&&this._pool.push(b);this._instances.splice(a,1)},_insertPlaceholder:function(a,b){this._instances.splice(a,0,{isPlaceholder:!0,__key__:b})},_stampInstance:function(a,b){var c={__key__:b};c[this.as]=this.collection.getItem(b);c[this.indexAs]=a;return this.stamp(c)},
_insertInstance:function(a,b){var c=this._pool.pop();c?(c.__setProperty(this.as,this.collection.getItem(b),!0),c.__setProperty("__key__",b,!0)):c=this._stampInstance(a,b);b=(b=this._instances[a+1])&&!b.isPlaceholder?b._children[0]:this;var d=Polymer.dom(this).parentNode;Polymer.dom(d).insertBefore(c.root,b);return this._instances[a]=c},_downgradeInstance:function(a,b){var c=this._detachInstance(a);c&&this._pool.push(c);c={isPlaceholder:!0,__key__:b};return this._instances[a]=c},_showHideChildren:function(a){for(var b=
0;b<this._instances.length;b++)this._instances[b].isPlaceholder||this._instances[b]._showHideChildren(a)},_forwardInstanceProp:function(a,b,c){b==this.as&&(a=this._sortFn||this._filterFn?this.items.indexOf(this.collection.getItem(a.__key__)):a[this.indexAs],this.set("items."+a,c))},_forwardInstancePath:function(a,b,c){0===b.indexOf(this.as+".")&&this._notifyPath("items."+a.__key__+"."+b.slice(this.as.length+1),c)},_forwardParentProp:function(a,b){for(var c=this._instances,d=0,e;d<c.length&&(e=c[d]);d++)e.isPlaceholder||
e.__setProperty(a,b,!0)},_forwardParentPath:function(a,b){for(var c=this._instances,d=0,e;d<c.length&&(e=c[d]);d++)e.isPlaceholder||e._notifyPath(a,b,!0)},_forwardItemPath:function(a,b){if(this._keyToInstIdx){var c=a.indexOf("."),d=this._instances[this._keyToInstIdx[a.substring(0,0>c?a.length:c)]];d&&!d.isPlaceholder&&(0<=c?(a=this.as+"."+a.substring(c+1),d._notifyPath(a,b,!0)):d.__setProperty(this.as,b,!0))}},itemForElement:function(a){return(a=this.modelForElement(a))&&a[this.as]},keyForElement:function(a){return(a=
this.modelForElement(a))&&a.__key__},indexForElement:function(a){return(a=this.modelForElement(a))&&a[this.indexAs]}});
Polymer({is:"array-selector",_template:null,properties:{items:{type:Array,observer:"clearSelection"},multi:{type:Boolean,value:!1,observer:"clearSelection"},selected:{type:Object,notify:!0},selectedItem:{type:Object,notify:!0},toggle:{type:Boolean,value:!1}},clearSelection:function(){if(Array.isArray(this.selected))for(var a=0;a<this.selected.length;a++)this.unlinkPaths("selected."+a);else this.unlinkPaths("selected"),this.unlinkPaths("selectedItem");if(this.multi){if(!this.selected||this.selected.length)this.selected=
[],this._selectedColl=Polymer.Collection.get(this.selected)}else this._selectedColl=this.selected=null;this.selectedItem=null},isSelected:function(a){return this.multi?void 0!==this._selectedColl.getKey(a):this.selected==a},deselect:function(a){if(this.multi){if(this.isSelected(a)){var b=this._selectedColl.getKey(a);this.arrayDelete("selected",a);this.unlinkPaths("selected."+b)}}else this.selectedItem=this.selected=null,this.unlinkPaths("selected"),this.unlinkPaths("selectedItem")},select:function(a){var b=
Polymer.Collection.get(this.items).getKey(a);this.multi?this.isSelected(a)?this.toggle&&this.deselect(a):(this.push("selected",a),a=this._selectedColl.getKey(a),this.linkPaths("selected."+a,"items."+b)):this.toggle&&a==this.selected?this.deselect():(this.selectedItem=this.selected=a,this.linkPaths("selected","items."+b),this.linkPaths("selectedItem","items."+b))}});
Polymer({is:"dom-if",extends:"template",_template:null,properties:{"if":{type:Boolean,value:!1,observer:"_queueRender"},restamp:{type:Boolean,value:!1,observer:"_queueRender"},notifyDomChange:{type:Boolean}},behaviors:[Polymer.Templatizer],_queueRender:function(){this._debounceTemplate(this._render)},detached:function(){this.parentNode&&(this.parentNode.nodeType!=Node.DOCUMENT_FRAGMENT_NODE||Polymer.Settings.hasShadow&&this.parentNode instanceof ShadowRoot)||this._teardownInstance()},attached:function(){this.if&&
this.ctor&&this.async(this._ensureInstance)},render:function(){this._flushTemplates()},_render:function(){this.if?(this.ctor||this.templatize(this),this._ensureInstance(),this._showHideChildren()):this.restamp&&this._teardownInstance();!this.restamp&&this._instance&&this._showHideChildren();this.if!=this._lastIf&&(Polymer.Settings.suppressTemplateNotifications&&!this.notifyDomChange||this.fire("dom-change"),this._lastIf=this.if)},_ensureInstance:function(){var a=Polymer.dom(this).parentNode;if(a)if(a=
Polymer.dom(a),this._instance){var b=this._instance._children;if(b&&b.length&&Polymer.dom(this).previousSibling!==b[b.length-1])for(var c=0,d;c<b.length&&(d=b[c]);c++)a.insertBefore(d,this)}else this._instance=this.stamp(),a.insertBefore(this._instance.root,this)},_teardownInstance:function(){if(this._instance){var a=this._instance._children;if(a&&a.length)for(var b=Polymer.dom(Polymer.dom(a[0]).parentNode),c=0,d;c<a.length&&(d=a[c]);c++)b.removeChild(d);this._instance=null}},_showHideChildren:function(){var a=
this.__hideTemplateChildren__||!this.if;this._instance&&this._instance._showHideChildren(a)},_forwardParentProp:function(a,b){this._instance&&this._instance.__setProperty(a,b,!0)},_forwardParentPath:function(a,b){this._instance&&this._instance._notifyPath(a,b,!0)}});
Polymer({is:"dom-bind",properties:{notifyDomChange:{type:Boolean}},extends:"template",_template:null,created:function(){var a=this;Polymer.RenderStatus.whenReady(function(){"loading"==document.readyState?document.addEventListener("DOMContentLoaded",function(){a._markImportsReady()}):a._markImportsReady()})},_ensureReady:function(){this._readied||this._readySelf()},_markImportsReady:function(){this._importsReady=!0;this._ensureReady()},_registerFeatures:function(){this._prepConstructor()},_insertChildren:function(){Polymer.dom(Polymer.dom(this).parentNode).insertBefore(this.root,
this)},_removeChildren:function(){if(this._children)for(var a=0;a<this._children.length;a++)this.root.appendChild(this._children[a])},_initFeatures:function(){},_scopeElementClass:function(a,b){return this.dataHost?this.dataHost._scopeElementClass(a,b):b},_configureInstanceProperties:function(){},_prepConfigure:function(){var a={},b;for(b in this._propertyEffects)a[b]=this[b];var c=this._setupConfigure;this._setupConfigure=function(){c.call(this,a)}},attached:function(){this._importsReady&&this.render()},
detached:function(){this._removeChildren()},render:function(){this._ensureReady();this._children||(this._template=this,this._prepAnnotations(),this._prepEffects(),this._prepBehaviors(),this._prepConfigure(),this._prepBindings(),this._prepPropertyInfo(),Polymer.Base._initFeatures.call(this),this._children=Polymer.TreeApi.arrayCopyChildNodes(this.root));this._insertChildren();Polymer.Settings.suppressTemplateNotifications&&!this.notifyDomChange||this.fire("dom-change")}});
</script>















<script>//~~WEBPATH~~/iron-meta/iron-meta.html.js
(function(){var a={},b={},c=null;Polymer.IronMeta=function(a){if(a)for(var b in a)switch(b){case "type":case "key":case "value":this[b]=a[b]}};Polymer.IronMeta=Polymer({is:"iron-meta",properties:{type:{type:String,value:"default",observer:"_typeChanged"},key:{type:String,observer:"_keyChanged"},value:{type:Object,notify:!0,observer:"_valueChanged"},self:{type:Boolean,observer:"_selfChanged"},list:{type:Array,notify:!0}},hostAttributes:{hidden:!0},factoryImpl:function(a){if(a)for(var b in a)switch(b){case "type":case "key":case "value":this[b]=
a[b]}},created:function(){this._metaDatas=a;this._metaArrays=b},_keyChanged:function(a,b){this._resetRegistration(b)},_valueChanged:function(){this._resetRegistration(this.key)},_selfChanged:function(a){a&&(this.value=this)},_typeChanged:function(c){this._unregisterKey(this.key);a[c]||(a[c]={});this._metaData=a[c];b[c]||(b[c]=[]);this.list=b[c];this._registerKeyValue(this.key,this.value)},byKey:function(a){return this._metaData&&this._metaData[a]},_resetRegistration:function(a){this._unregisterKey(a);
this._registerKeyValue(this.key,this.value)},_unregisterKey:function(a){this._unregister(a,this._metaData,this.list)},_registerKeyValue:function(a,b){this._register(a,b,this._metaData,this.list)},_register:function(a,b,c,g){a&&c&&void 0!==b&&(c[a]=b,g.push(b))},_unregister:function(a,b,c){if(a&&b&&a in b){var d=b[a];delete b[a];this.arrayDelete(c,d)}}});Polymer.IronMeta.getIronMeta=function(){null===c&&(c=new Polymer.IronMeta);return c};Polymer.IronMetaQuery=function(a){if(a)for(var b in a)switch(b){case "type":case "key":this[b]=
a[b]}};Polymer.IronMetaQuery.prototype._setValue=function(){};Polymer.IronMetaQuery=Polymer({is:"iron-meta-query",properties:{type:{type:String,value:"default",observer:"_typeChanged"},key:{type:String,observer:"_keyChanged"},value:{type:Object,notify:!0,readOnly:!0},list:{type:Array,notify:!0}},factoryImpl:function(a){if(a)for(var b in a)switch(b){case "type":case "key":this[b]=a[b]}},created:function(){this._metaDatas=a;this._metaArrays=b},_keyChanged:function(a){this._setValue(this._metaData&&
this._metaData[a])},_typeChanged:function(c){this._metaData=a[c];this.list=b[c];this.key&&this._keyChanged(this.key)},byKey:function(a){return this._metaData&&this._metaData[a]}})})();
</script>





<style>
  /* IE 10 support for HTML5 hidden attr */
  [hidden] {
    display: none !important;
  }
</style>

<style is="custom-style"></style>




</head><body data-gr-c-s-loaded="true"><dom-module id="iron-icon">
  <template></template>

  <script>//~~WEBPATH~~/iron-icon/iron-icon.html.js
Polymer({is:"iron-icon",properties:{icon:{type:String},theme:{type:String},src:{type:String},_meta:{value:Polymer.Base.create("iron-meta",{type:"iconset"})}},observers:["_updateIcon(_meta, isAttached)","_updateIcon(theme, isAttached)","_srcChanged(src, isAttached)","_iconChanged(icon, isAttached)"],_DEFAULT_ICONSET:"icons",_iconChanged:function(a){a=(a||"").split(":");this._iconName=a.pop();this._iconsetName=a.pop()||this._DEFAULT_ICONSET;this._updateIcon()},_srcChanged:function(){this._updateIcon()},
_usesIconset:function(){return this.icon||!this.src},_updateIcon:function(){this._usesIconset()?(this._img&&this._img.parentNode&&Polymer.dom(this.root).removeChild(this._img),""===this._iconName?this._iconset&&this._iconset.removeIcon(this):this._iconsetName&&this._meta&&((this._iconset=this._meta.byKey(this._iconsetName))?(this._iconset.applyIcon(this,this._iconName,this.theme),this.unlisten(window,"iron-iconset-added","_updateIcon")):this.listen(window,"iron-iconset-added","_updateIcon"))):(this._iconset&&
this._iconset.removeIcon(this),this._img||(this._img=document.createElement("img"),this._img.style.width="100%",this._img.style.height="100%",this._img.draggable=!1),this._img.src=this.src,Polymer.dom(this.root).appendChild(this._img))}});
</script>

</dom-module>





<style is="custom-style"></style>



<dom-module id="paper-material-shared-styles">
  <template></template>
</dom-module>




<dom-module id="paper-material">
  <template></template>
</dom-module>
<script>//~~WEBPATH~~/paper-material/paper-material.html.js
Polymer({is:"paper-material",properties:{elevation:{type:Number,reflectToAttribute:!0,value:1},animated:{type:Boolean,reflectToAttribute:!0,value:!1}}});
</script>




<script>//~~WEBPATH~~/iron-a11y-keys-behavior/iron-a11y-keys-behavior.html.js
(function(){function a(a,b){var c="";if(a)if(a=a.toLowerCase()," "===a||n.test(a))c="space";else if(q.test(a))c="esc";else if(1==a.length){if(!b||k.test(a))c=a}else c=m.test(a)?a.replace("arrow",""):"multiply"==a?"*":a;return c}function b(b,c){var d=b.hasModifiers;if(c.key)d=a(c.key,d);else if(c.detail&&c.detail.key)d=a(c.detail.key,d);else{d=c.keyIdentifier;var g="";d&&(d in e?g=e[d]:l.test(d)?(d=parseInt(d.replace("U+","0x"),16),g=String.fromCharCode(d).toLowerCase()):g=d.toLowerCase());(d=g)||
(d=c.keyCode,g="",Number(d)&&(g=65<=d&&90>=d?String.fromCharCode(32+d):112<=d&&123>=d?"f"+(d-112):48<=d&&57>=d?String(d-48):96<=d&&105>=d?String(d-96):f[d]),d=g);d=d||""}return d===b.key&&(!b.hasModifiers||!!c.shiftKey===!!b.shiftKey&&!!c.ctrlKey===!!b.ctrlKey&&!!c.altKey===!!b.altKey&&!!c.metaKey===!!b.metaKey)}function c(a){return 1===a.length?{combo:a,key:a,event:"keydown"}:a.split("+").reduce(function(a,b){var c=b.split(":");b=c[0];c=c[1];b in g?(a[g[b]]=!0,a.hasModifiers=!0):(a.key=b,a.event=
c||"keydown");return a},{combo:a.split(":").shift()})}function d(a){return a.trim().split(" ").map(function(a){return c(a)})}var e={"U+0008":"backspace","U+0009":"tab","U+001B":"esc","U+0020":"space","U+007F":"del"},f={8:"backspace",9:"tab",13:"enter",27:"esc",33:"pageup",34:"pagedown",35:"end",36:"home",32:"space",37:"left",38:"up",39:"right",40:"down",46:"del",106:"*"},g={shift:"shiftKey",ctrl:"ctrlKey",alt:"altKey",meta:"metaKey"},k=/[a-z0-9*]/,l=/U\+/,m=/^arrow/,n=/^space(bar)?/,q=/^escape$/;
Polymer.IronA11yKeysBehavior={properties:{keyEventTarget:{type:Object,value:function(){return this}},stopKeyboardEventPropagation:{type:Boolean,value:!1},_boundKeyHandlers:{type:Array,value:function(){return[]}},_imperativeKeyBindings:{type:Object,value:function(){return{}}}},observers:["_resetKeyEventListeners(keyEventTarget, _boundKeyHandlers)"],keyBindings:{},registered:function(){this._prepKeyBindings()},attached:function(){this._listenKeyEventListeners()},detached:function(){this._unlistenKeyEventListeners()},
addOwnKeyBinding:function(a,b){this._imperativeKeyBindings[a]=b;this._prepKeyBindings();this._resetKeyEventListeners()},removeOwnKeyBindings:function(){this._imperativeKeyBindings={};this._prepKeyBindings();this._resetKeyEventListeners()},keyboardEventMatchesKeys:function(a,c){c=d(c);for(var e=0;e<c.length;++e)if(b(c[e],a))return!0;return!1},_collectKeyBindings:function(){var a=this.behaviors.map(function(a){return a.keyBindings});-1===a.indexOf(this.keyBindings)&&a.push(this.keyBindings);return a},
_prepKeyBindings:function(){this._keyBindings={};this._collectKeyBindings().forEach(function(a){for(var b in a)this._addKeyBinding(b,a[b])},this);for(var a in this._imperativeKeyBindings)this._addKeyBinding(a,this._imperativeKeyBindings[a]);for(var b in this._keyBindings)this._keyBindings[b].sort(function(a,b){a=a[0].hasModifiers;return a===b[0].hasModifiers?0:a?-1:1})},_addKeyBinding:function(a,b){d(a).forEach(function(a){this._keyBindings[a.event]=this._keyBindings[a.event]||[];this._keyBindings[a.event].push([a,
b])},this)},_resetKeyEventListeners:function(){this._unlistenKeyEventListeners();this.isAttached&&this._listenKeyEventListeners()},_listenKeyEventListeners:function(){this.keyEventTarget&&Object.keys(this._keyBindings).forEach(function(a){var b=this._onKeyBindingEvent.bind(this,this._keyBindings[a]);this._boundKeyHandlers.push([this.keyEventTarget,a,b]);this.keyEventTarget.addEventListener(a,b)},this)},_unlistenKeyEventListeners:function(){for(var a,b,c;this._boundKeyHandlers.length;)a=this._boundKeyHandlers.pop(),
b=a[0],c=a[1],a=a[2],b.removeEventListener(c,a)},_onKeyBindingEvent:function(a,c){this.stopKeyboardEventPropagation&&c.stopPropagation();if(!c.defaultPrevented)for(var d=0;d<a.length;d++){var e=a[d][0],f=a[d][1];if(b(e,c)&&(this._triggerKeyHandler(e,f,c),c.defaultPrevented))break}},_triggerKeyHandler:function(a,b,c){var d=Object.create(a);d.keyboardEvent=c;a=new CustomEvent(a.event,{detail:d,cancelable:!0});this[b].call(this,a);a.defaultPrevented&&c.preventDefault()}}})();
</script>




<dom-module id="paper-ripple">

  

  <template></template>
</dom-module>
<script>//~~WEBPATH~~/paper-ripple/paper-ripple.html.js
(function(){function a(a){this.element=a;this.width=this.boundingRect.width;this.height=this.boundingRect.height;this.size=Math.max(this.width,this.height)}function b(a){this.element=a;this.color=window.getComputedStyle(a).color;this.wave=document.createElement("div");this.waveContainer=document.createElement("div");this.wave.style.backgroundColor=this.color;this.wave.classList.add("wave");this.waveContainer.classList.add("wave-container");Polymer.dom(this.waveContainer).appendChild(this.wave);this.resetInteractionState()}
var c={distance:function(a,b,c,g){a-=c;b-=g;return Math.sqrt(a*a+b*b)},now:window.performance&&window.performance.now?window.performance.now.bind(window.performance):Date.now};a.prototype={get boundingRect(){return this.element.getBoundingClientRect()},furthestCornerDistanceFrom:function(a,b){var d=c.distance(a,b,0,0),e=c.distance(a,b,this.width,0),k=c.distance(a,b,0,this.height);a=c.distance(a,b,this.width,this.height);return Math.max(d,e,k,a)}};b.MAX_RADIUS=300;b.prototype={get recenters(){return this.element.recenters},
get center(){return this.element.center},get mouseDownElapsed(){if(!this.mouseDownStart)return 0;var a=c.now()-this.mouseDownStart;this.mouseUpStart&&(a-=this.mouseUpElapsed);return a},get mouseUpElapsed(){return this.mouseUpStart?c.now()-this.mouseUpStart:0},get mouseDownElapsedSeconds(){return this.mouseDownElapsed/1E3},get mouseUpElapsedSeconds(){return this.mouseUpElapsed/1E3},get mouseInteractionSeconds(){return this.mouseDownElapsedSeconds+this.mouseUpElapsedSeconds},get initialOpacity(){return this.element.initialOpacity},
get opacityDecayVelocity(){return this.element.opacityDecayVelocity},get radius(){var a=1.1*Math.min(Math.sqrt(this.containerMetrics.width*this.containerMetrics.width+this.containerMetrics.height*this.containerMetrics.height),b.MAX_RADIUS)+5;return Math.abs(a*(1-Math.pow(80,-(this.mouseInteractionSeconds/(1.1-a/b.MAX_RADIUS*.2)))))},get opacity(){return this.mouseUpStart?Math.max(0,this.initialOpacity-this.mouseUpElapsedSeconds*this.opacityDecayVelocity):this.initialOpacity},get outerOpacity(){return Math.max(0,
Math.min(.3*this.mouseUpElapsedSeconds,this.opacity))},get isOpacityFullyDecayed(){return.01>this.opacity&&this.radius>=Math.min(this.maxRadius,b.MAX_RADIUS)},get isRestingAtMaxRadius(){return this.opacity>=this.initialOpacity&&this.radius>=Math.min(this.maxRadius,b.MAX_RADIUS)},get isAnimationComplete(){return this.mouseUpStart?this.isOpacityFullyDecayed:this.isRestingAtMaxRadius},get translationFraction(){return Math.min(1,this.radius/this.containerMetrics.size*2/Math.sqrt(2))},get xNow(){return this.xEnd?
this.xStart+this.translationFraction*(this.xEnd-this.xStart):this.xStart},get yNow(){return this.yEnd?this.yStart+this.translationFraction*(this.yEnd-this.yStart):this.yStart},get isMouseDown(){return this.mouseDownStart&&!this.mouseUpStart},resetInteractionState:function(){this.slideDistance=this.yEnd=this.xEnd=this.yStart=this.xStart=this.mouseUpStart=this.mouseDownStart=this.maxRadius=0;this.containerMetrics=new a(this.element)},draw:function(){this.wave.style.opacity=this.opacity;var a=this.radius/
(this.containerMetrics.size/2);var b=this.xNow-this.containerMetrics.width/2;var c=this.yNow-this.containerMetrics.height/2;this.waveContainer.style.webkitTransform="translate("+b+"px, "+c+"px)";this.waveContainer.style.transform="translate3d("+b+"px, "+c+"px, 0)";this.wave.style.webkitTransform="scale("+a+","+a+")";this.wave.style.transform="scale3d("+a+","+a+",1)"},downAction:function(a){var b=this.containerMetrics.width/2,d=this.containerMetrics.height/2;this.resetInteractionState();this.mouseDownStart=
c.now();this.center?(this.xStart=b,this.yStart=d,this.slideDistance=c.distance(this.xStart,this.yStart,this.xEnd,this.yEnd)):(this.xStart=a?a.detail.x-this.containerMetrics.boundingRect.left:this.containerMetrics.width/2,this.yStart=a?a.detail.y-this.containerMetrics.boundingRect.top:this.containerMetrics.height/2);this.recenters&&(this.xEnd=b,this.yEnd=d,this.slideDistance=c.distance(this.xStart,this.yStart,this.xEnd,this.yEnd));this.maxRadius=this.containerMetrics.furthestCornerDistanceFrom(this.xStart,
this.yStart);this.waveContainer.style.top=(this.containerMetrics.height-this.containerMetrics.size)/2+"px";this.waveContainer.style.left=(this.containerMetrics.width-this.containerMetrics.size)/2+"px";this.waveContainer.style.width=this.containerMetrics.size+"px";this.waveContainer.style.height=this.containerMetrics.size+"px"},upAction:function(){this.isMouseDown&&(this.mouseUpStart=c.now())},remove:function(){Polymer.dom(this.waveContainer.parentNode).removeChild(this.waveContainer)}};Polymer({is:"paper-ripple",
behaviors:[Polymer.IronA11yKeysBehavior],properties:{initialOpacity:{type:Number,value:.25},opacityDecayVelocity:{type:Number,value:.8},recenters:{type:Boolean,value:!1},center:{type:Boolean,value:!1},ripples:{type:Array,value:function(){return[]}},animating:{type:Boolean,readOnly:!0,reflectToAttribute:!0,value:!1},holdDown:{type:Boolean,value:!1,observer:"_holdDownChanged"},noink:{type:Boolean,value:!1},_animating:{type:Boolean},_boundAnimate:{type:Function,value:function(){return this.animate.bind(this)}}},
get target(){var a=Polymer.dom(this).getOwnerRoot();return 11==this.parentNode.nodeType?a.host:this.parentNode},keyBindings:{"enter:keydown":"_onEnterKeydown","space:keydown":"_onSpaceKeydown","space:keyup":"_onSpaceKeyup"},attached:function(){this.keyEventTarget=this.target;this.listen(this.target,"up","uiUpAction");this.listen(this.target,"down","uiDownAction")},detached:function(){this.unlisten(this.target,"up","uiUpAction");this.unlisten(this.target,"down","uiDownAction")},get shouldKeepAnimating(){for(var a=
0;a<this.ripples.length;++a)if(!this.ripples[a].isAnimationComplete)return!0;return!1},simulatedRipple:function(){this.downAction(null);this.async(function(){this.upAction()},1)},uiDownAction:function(a){this.noink||this.downAction(a)},downAction:function(a){this.holdDown&&0<this.ripples.length||(this.addRipple().downAction(a),this._animating||this.animate())},uiUpAction:function(a){this.noink||this.upAction(a)},upAction:function(a){this.holdDown||(this.ripples.forEach(function(b){b.upAction(a)}),
this.animate())},onAnimationComplete:function(){this._animating=!1;this.$.background.style.backgroundColor=null;this.fire("transitionend")},addRipple:function(){var a=new b(this);Polymer.dom(this.$.waves).appendChild(a.waveContainer);this.$.background.style.backgroundColor=a.color;this.ripples.push(a);this._setAnimating(!0);return a},removeRipple:function(a){var b=this.ripples.indexOf(a);0>b||(this.ripples.splice(b,1),a.remove(),this.ripples.length||this._setAnimating(!1))},animate:function(){var a;
this._animating=!0;for(a=0;a<this.ripples.length;++a){var b=this.ripples[a];b.draw();this.$.background.style.opacity=b.outerOpacity;b.isOpacityFullyDecayed&&!b.isRestingAtMaxRadius&&this.removeRipple(b)}if(this.shouldKeepAnimating||0!==this.ripples.length)window.requestAnimationFrame(this._boundAnimate);else this.onAnimationComplete()},_onEnterKeydown:function(){this.uiDownAction();this.async(this.uiUpAction,1)},_onSpaceKeydown:function(){this.uiDownAction()},_onSpaceKeyup:function(){this.uiUpAction()},
_holdDownChanged:function(a,b){void 0!==b&&(a?this.downAction():this.upAction())}})})();
</script>






<script>//~~WEBPATH~~/iron-behaviors/iron-control-state.html.js
Polymer.IronControlState={properties:{focused:{type:Boolean,value:!1,notify:!0,readOnly:!0,reflectToAttribute:!0},disabled:{type:Boolean,value:!1,notify:!0,observer:"_disabledChanged",reflectToAttribute:!0},_oldTabIndex:{type:Number},_boundFocusBlurHandler:{type:Function,value:function(){return this._focusBlurHandler.bind(this)}}},observers:["_changedControlState(focused, disabled)"],ready:function(){this.addEventListener("focus",this._boundFocusBlurHandler,!0);this.addEventListener("blur",this._boundFocusBlurHandler,
!0)},_focusBlurHandler:function(a){if(a.target===this)this._setFocused("focus"===a.type);else if(!this.shadowRoot){var b=Polymer.dom(a).localTarget;this.isLightDescendant(b)||this.fire(a.type,{sourceEvent:a},{node:this,bubbles:a.bubbles,cancelable:a.cancelable})}},_disabledChanged:function(a){this.setAttribute("aria-disabled",a?"true":"false");this.style.pointerEvents=a?"none":"";a?(this._oldTabIndex=this.tabIndex,this._setFocused(!1),this.tabIndex=-1,this.blur()):void 0!==this._oldTabIndex&&(this.tabIndex=
this._oldTabIndex)},_changedControlState:function(){this._controlStateChanged&&this._controlStateChanged()}};
</script>


<script>//~~WEBPATH~~/iron-behaviors/iron-button-state.html.js
Polymer.IronButtonStateImpl={properties:{pressed:{type:Boolean,readOnly:!0,value:!1,reflectToAttribute:!0,observer:"_pressedChanged"},toggles:{type:Boolean,value:!1,reflectToAttribute:!0},active:{type:Boolean,value:!1,notify:!0,reflectToAttribute:!0},pointerDown:{type:Boolean,readOnly:!0,value:!1},receivedFocusFromKeyboard:{type:Boolean,readOnly:!0},ariaActiveAttribute:{type:String,value:"aria-pressed",observer:"_ariaActiveAttributeChanged"}},listeners:{down:"_downHandler",up:"_upHandler",tap:"_tapHandler"},
observers:["_detectKeyboardFocus(focused)","_activeChanged(active, ariaActiveAttribute)"],keyBindings:{"enter:keydown":"_asyncClick","space:keydown":"_spaceKeyDownHandler","space:keyup":"_spaceKeyUpHandler"},_mouseEventRe:/^mouse/,_tapHandler:function(){this.toggles?this._userActivate(!this.active):this.active=!1},_detectKeyboardFocus:function(a){this._setReceivedFocusFromKeyboard(!this.pointerDown&&a)},_userActivate:function(a){this.active!==a&&(this.active=a,this.fire("change"))},_downHandler:function(){this._setPointerDown(!0);
this._setPressed(!0);this._setReceivedFocusFromKeyboard(!1)},_upHandler:function(){this._setPointerDown(!1);this._setPressed(!1)},_spaceKeyDownHandler:function(a){a=a.detail.keyboardEvent;var b=Polymer.dom(a).localTarget;this.isLightDescendant(b)||(a.preventDefault(),a.stopImmediatePropagation(),this._setPressed(!0))},_spaceKeyUpHandler:function(a){a=Polymer.dom(a.detail.keyboardEvent).localTarget;this.isLightDescendant(a)||(this.pressed&&this._asyncClick(),this._setPressed(!1))},_asyncClick:function(){this.async(function(){this.click()},
1)},_pressedChanged:function(){this._changedButtonState()},_ariaActiveAttributeChanged:function(a,b){b&&b!=a&&this.hasAttribute(b)&&this.removeAttribute(b)},_activeChanged:function(a){this.toggles?this.setAttribute(this.ariaActiveAttribute,a?"true":"false"):this.removeAttribute(this.ariaActiveAttribute);this._changedButtonState()},_controlStateChanged:function(){this.disabled?this._setPressed(!1):this._changedButtonState()},_changedButtonState:function(){this._buttonStateChanged&&this._buttonStateChanged()}};
Polymer.IronButtonState=[Polymer.IronA11yKeysBehavior,Polymer.IronButtonStateImpl];
</script>




<script>//~~WEBPATH~~/paper-behaviors/paper-ripple-behavior.html.js
Polymer.PaperRippleBehavior={properties:{noink:{type:Boolean,observer:"_noinkChanged"},_rippleContainer:{type:Object}},_buttonStateChanged:function(){this.focused&&this.ensureRipple()},_downHandler:function(a){Polymer.IronButtonStateImpl._downHandler.call(this,a);this.pressed&&this.ensureRipple(a)},ensureRipple:function(a){if(!this.hasRipple()){this._ripple=this._createRipple();this._ripple.noink=this.noink;var b=this._rippleContainer||this.root;b&&Polymer.dom(b).appendChild(this._ripple);if(a){b=
Polymer.dom(this._rippleContainer||this);var c=Polymer.dom(a).rootTarget;b.deepContains(c)&&this._ripple.uiDownAction(a)}}},getRipple:function(){this.ensureRipple();return this._ripple},hasRipple:function(){return!!this._ripple},_createRipple:function(){return document.createElement("paper-ripple")},_noinkChanged:function(a){this.hasRipple()&&(this._ripple.noink=a)}};
</script>


<script>//~~WEBPATH~~/paper-behaviors/paper-button-behavior.html.js
Polymer.PaperButtonBehaviorImpl={properties:{elevation:{type:Number,reflectToAttribute:!0,readOnly:!0}},observers:["_calculateElevation(focused, disabled, active, pressed, receivedFocusFromKeyboard)","_computeKeyboardClass(receivedFocusFromKeyboard)"],hostAttributes:{role:"button",tabindex:"0",animated:!0},_calculateElevation:function(){var a=1;this.disabled?a=0:this.active||this.pressed?a=4:this.receivedFocusFromKeyboard&&(a=3);this._setElevation(a)},_computeKeyboardClass:function(a){this.toggleClass("keyboard-focus",
a)},_spaceKeyDownHandler:function(a){Polymer.IronButtonStateImpl._spaceKeyDownHandler.call(this,a);this.hasRipple()&&1>this.getRipple().ripples.length&&this._ripple.uiDownAction()},_spaceKeyUpHandler:function(a){Polymer.IronButtonStateImpl._spaceKeyUpHandler.call(this,a);this.hasRipple()&&this._ripple.uiUpAction()}};Polymer.PaperButtonBehavior=[Polymer.IronButtonState,Polymer.IronControlState,Polymer.PaperRippleBehavior,Polymer.PaperButtonBehaviorImpl];
</script>





<dom-module id="paper-button">
  <template strip-whitespace=""></template>
</dom-module>

<script>//~~WEBPATH~~/paper-button/paper-button.html.js
Polymer({is:"paper-button",behaviors:[Polymer.PaperButtonBehavior],properties:{raised:{type:Boolean,reflectToAttribute:!0,value:!1,observer:"_calculateElevation"}},_calculateElevation:function(){this.raised?Polymer.PaperButtonBehaviorImpl._calculateElevation.apply(this):this._setElevation(0)}});
</script>





<style is="custom-style"></style>




<style is="custom-style"></style>






<script>//~~WEBPATH~~/iron-validatable-behavior/iron-validatable-behavior.html.js
Polymer.IronValidatableBehaviorMeta=null;
Polymer.IronValidatableBehavior={properties:{validator:{type:String},invalid:{notify:!0,reflectToAttribute:!0,type:Boolean,value:!1},_validatorMeta:{type:Object},validatorType:{type:String,value:"validator"},_validator:{type:Object,computed:"__computeValidator(validator)"}},observers:["_invalidChanged(invalid)"],registered:function(){Polymer.IronValidatableBehaviorMeta=new Polymer.IronMeta({type:"validator"})},_invalidChanged:function(){this.invalid?this.setAttribute("aria-invalid","true"):this.removeAttribute("aria-invalid")},
hasValidator:function(){return null!=this._validator},validate:function(a){this.invalid=!this._getValidity(a);return!this.invalid},_getValidity:function(a){return this.hasValidator()?this._validator.validate(a):!0},__computeValidator:function(){return Polymer.IronValidatableBehaviorMeta&&Polymer.IronValidatableBehaviorMeta.byKey(this.validator)}};
</script>



<script>//~~WEBPATH~~/iron-form-element-behavior/iron-form-element-behavior.html.js
Polymer.IronFormElementBehavior={properties:{name:{type:String},value:{notify:!0,type:String},required:{type:Boolean,value:!1},_parentForm:{type:Object}},attached:function(){this.fire("iron-form-element-register")},detached:function(){this._parentForm&&this._parentForm.fire("iron-form-element-unregister",{target:this})}};
</script>


<script>//~~WEBPATH~~/iron-checked-element-behavior/iron-checked-element-behavior.html.js
Polymer.IronCheckedElementBehaviorImpl={properties:{checked:{type:Boolean,value:!1,reflectToAttribute:!0,notify:!0,observer:"_checkedChanged"},toggles:{type:Boolean,value:!0,reflectToAttribute:!0},value:{type:String,value:"on",observer:"_valueChanged"}},observers:["_requiredChanged(required)"],created:function(){this._hasIronCheckedElementBehavior=!0},_getValidity:function(){return this.disabled||!this.required||this.required&&this.checked},_requiredChanged:function(){this.required?this.setAttribute("aria-required",
"true"):this.removeAttribute("aria-required")},_checkedChanged:function(){this.active=this.checked;this.fire("iron-change")},_valueChanged:function(){if(void 0===this.value||null===this.value)this.value="on"}};Polymer.IronCheckedElementBehavior=[Polymer.IronFormElementBehavior,Polymer.IronValidatableBehavior,Polymer.IronCheckedElementBehaviorImpl];
</script>





<script>//~~WEBPATH~~/paper-behaviors/paper-inky-focus-behavior.html.js
Polymer.PaperInkyFocusBehaviorImpl={observers:["_focusedChanged(receivedFocusFromKeyboard)"],_focusedChanged:function(a){a&&this.ensureRipple();this.hasRipple()&&(this._ripple.holdDown=a)},_createRipple:function(){var a=Polymer.PaperRippleBehavior._createRipple();a.id="ink";a.setAttribute("center","");a.classList.add("circle");return a}};Polymer.PaperInkyFocusBehavior=[Polymer.IronButtonState,Polymer.IronControlState,Polymer.PaperRippleBehavior,Polymer.PaperInkyFocusBehaviorImpl];
</script>


<script>//~~WEBPATH~~/paper-behaviors/paper-checked-element-behavior.html.js
Polymer.PaperCheckedElementBehaviorImpl={_checkedChanged:function(){Polymer.IronCheckedElementBehaviorImpl._checkedChanged.call(this);this.hasRipple()&&(this.checked?this._ripple.setAttribute("checked",""):this._ripple.removeAttribute("checked"))},_buttonStateChanged:function(){Polymer.PaperRippleBehavior._buttonStateChanged.call(this);!this.disabled&&this.isAttached&&(this.checked=this.active)}};
Polymer.PaperCheckedElementBehavior=[Polymer.PaperInkyFocusBehavior,Polymer.IronCheckedElementBehavior,Polymer.PaperCheckedElementBehaviorImpl];
</script>




<dom-module id="paper-checkbox">
  <template strip-whitespace=""></template>

  <script>//~~WEBPATH~~/paper-checkbox/paper-checkbox.html.js
Polymer({is:"paper-checkbox",behaviors:[Polymer.PaperCheckedElementBehavior],hostAttributes:{role:"checkbox","aria-checked":!1,tabindex:0},properties:{ariaActiveAttribute:{type:String,value:"aria-checked"}},attached:function(){Polymer.RenderStatus.afterNextRender(this,function(){if("-1px"===this.getComputedStyleValue("--calculated-paper-checkbox-ink-size").trim()){var a=parseFloat(this.getComputedStyleValue("--calculated-paper-checkbox-size").trim()),b=Math.floor(8/3*a);b%2!==a%2&&b++;this.updateStyles({"--paper-checkbox-ink-size":b+
"px"})}})},_computeCheckboxClass:function(a,b){var c="";a&&(c+="checked ");b&&(c+="invalid");return c},_computeCheckmarkClass:function(a){return a?"":"hidden"},_createRipple:function(){this._rippleContainer=this.$.checkboxContainer;return Polymer.PaperInkyFocusBehaviorImpl._createRipple.call(this)}});
</script>
</dom-module>















<dom-module id="iron-a11y-announcer">
  <template></template>

  <script>//~~WEBPATH~~/iron-a11y-announcer/iron-a11y-announcer.html.js
Polymer.IronA11yAnnouncer=function(){};Polymer.IronA11yAnnouncer=Polymer({is:"iron-a11y-announcer",properties:{mode:{type:String,value:"polite"},_text:{type:String,value:""}},created:function(){Polymer.IronA11yAnnouncer.instance||(Polymer.IronA11yAnnouncer.instance=this);document.body.addEventListener("iron-announce",this._onIronAnnounce.bind(this))},announce:function(a){this._text="";this.async(function(){this._text=a},100)},_onIronAnnounce:function(a){a.detail&&a.detail.text&&this.announce(a.detail.text)}});
Polymer.IronA11yAnnouncer.instance=null;Polymer.IronA11yAnnouncer.requestAvailability=function(){Polymer.IronA11yAnnouncer.instance||(Polymer.IronA11yAnnouncer.instance=document.createElement("iron-a11y-announcer"));document.body.appendChild(Polymer.IronA11yAnnouncer.instance)};
</script>
</dom-module>



<script>//~~WEBPATH~~/iron-input/iron-input.html.js
Polymer({is:"iron-input",extends:"input",behaviors:[Polymer.IronValidatableBehavior],properties:{bindValue:{observer:"_bindValueChanged",type:String},preventInvalidInput:{type:Boolean},allowedPattern:{type:String,observer:"_allowedPatternChanged"},_previousValidInput:{type:String,value:""},_patternAlreadyChecked:{type:Boolean,value:!1}},listeners:{input:"_onInput",keypress:"_onKeypress"},registered:function(){this._canDispatchEventOnDisabled()||(this._origDispatchEvent=this.dispatchEvent,this.dispatchEvent=
this._dispatchEventFirefoxIE)},created:function(){Polymer.IronA11yAnnouncer.requestAvailability()},_canDispatchEventOnDisabled:function(){var a=document.createElement("input"),b=!1;a.disabled=!0;a.addEventListener("feature-check-dispatch-event",function(){b=!0});try{a.dispatchEvent(new Event("feature-check-dispatch-event"))}catch(c){}return b},_dispatchEventFirefoxIE:function(){var a=this.disabled;this.disabled=!1;this._origDispatchEvent.apply(this,arguments);this.disabled=a},get _patternRegExp(){if(this.allowedPattern)var a=
new RegExp(this.allowedPattern);else switch(this.type){case "number":a=/[0-9.,e-]/}return a},ready:function(){this.bindValue=this.value},_bindValueChanged:function(){this.value!==this.bindValue&&(this.value=this.bindValue||0===this.bindValue||!1===this.bindValue?this.bindValue:"");this.fire("bind-value-changed",{value:this.bindValue})},_allowedPatternChanged:function(){this.preventInvalidInput=this.allowedPattern?!0:!1},_onInput:function(){!this.preventInvalidInput||this._patternAlreadyChecked||this._checkPatternValidity()||
(this._announceInvalidCharacter("Invalid string of characters not entered."),this.value=this._previousValidInput);this._previousValidInput=this.bindValue=this.value;this._patternAlreadyChecked=!1},_isPrintable:function(a){var b=19==a.keyCode||20==a.keyCode||45==a.keyCode||46==a.keyCode||144==a.keyCode||145==a.keyCode||32<a.keyCode&&41>a.keyCode||111<a.keyCode&&124>a.keyCode;return!(8==a.keyCode||9==a.keyCode||13==a.keyCode||27==a.keyCode)&&!(0==a.charCode&&b)},_onKeypress:function(a){if(this.preventInvalidInput||
"number"===this.type){var b=this._patternRegExp;if(b&&!(a.metaKey||a.ctrlKey||a.altKey)){this._patternAlreadyChecked=!0;var c=String.fromCharCode(a.charCode);this._isPrintable(a)&&!b.test(c)&&(a.preventDefault(),this._announceInvalidCharacter("Invalid character "+c+" not entered."))}}},_checkPatternValidity:function(){var a=this._patternRegExp;if(!a)return!0;for(var b=0;b<this.value.length;b++)if(!a.test(this.value[b]))return!1;return!0},validate:function(){var a=this.checkValidity();a&&(this.required&&
""===this.value?a=!1:this.hasValidator()&&(a=Polymer.IronValidatableBehavior.validate.call(this,this.value)));this.invalid=!a;this.fire("iron-input-validate");return a},_announceInvalidCharacter:function(a){this.fire("iron-announce",{text:a})}});
</script>





<script>//~~WEBPATH~~/paper-input/paper-input-behavior.html.js
Polymer.PaperInputHelper={};Polymer.PaperInputHelper.NextLabelID=1;Polymer.PaperInputHelper.NextAddonID=1;
Polymer.PaperInputBehaviorImpl={properties:{label:{type:String},value:{notify:!0,type:String},disabled:{type:Boolean,value:!1},invalid:{type:Boolean,value:!1,notify:!0},preventInvalidInput:{type:Boolean},allowedPattern:{type:String},type:{type:String},list:{type:String},pattern:{type:String},required:{type:Boolean,value:!1},errorMessage:{type:String},charCounter:{type:Boolean,value:!1},noLabelFloat:{type:Boolean,value:!1},alwaysFloatLabel:{type:Boolean,value:!1},autoValidate:{type:Boolean,value:!1},
validator:{type:String},autocomplete:{type:String,value:"off"},autofocus:{type:Boolean,observer:"_autofocusChanged"},inputmode:{type:String},minlength:{type:Number},maxlength:{type:Number},min:{type:String},max:{type:String},step:{type:String},name:{type:String},placeholder:{type:String,value:""},readonly:{type:Boolean,value:!1},size:{type:Number},autocapitalize:{type:String,value:"none"},autocorrect:{type:String,value:"off"},autosave:{type:String},results:{type:Number},accept:{type:String},multiple:{type:Boolean},
_ariaDescribedBy:{type:String,value:""},_ariaLabelledBy:{type:String,value:""}},listeners:{"addon-attached":"_onAddonAttached"},keyBindings:{"shift+tab:keydown":"_onShiftTabDown"},hostAttributes:{tabindex:0},get inputElement(){return this.$.input},get _focusableElement(){return this.inputElement},registered:function(){this._typesThatHaveText="date datetime datetime-local month time week file".split(" ")},attached:function(){this._updateAriaLabelledBy();this.inputElement&&-1!==this._typesThatHaveText.indexOf(this.inputElement.type)&&
(this.alwaysFloatLabel=!0)},_appendStringWithSpace:function(a,b){return a?a+" "+b:b},_onAddonAttached:function(a){a=a.path?a.path[0]:a.target;if(a.id)this._ariaDescribedBy=this._appendStringWithSpace(this._ariaDescribedBy,a.id);else{var b="paper-input-add-on-"+Polymer.PaperInputHelper.NextAddonID++;a.id=b;this._ariaDescribedBy=this._appendStringWithSpace(this._ariaDescribedBy,b)}},validate:function(){return this.inputElement.validate()},_focusBlurHandler:function(a){Polymer.IronControlState._focusBlurHandler.call(this,
a);this.focused&&!this._shiftTabPressed&&this._focusableElement.focus()},_onShiftTabDown:function(){var a=this.getAttribute("tabindex");this._shiftTabPressed=!0;this.setAttribute("tabindex","-1");this.async(function(){this.setAttribute("tabindex",a);this._shiftTabPressed=!1},1)},_handleAutoValidate:function(){this.autoValidate&&this.validate()},updateValueAndPreserveCaret:function(a){try{var b=this.inputElement.selectionStart;this.value=a;this.inputElement.selectionStart=b;this.inputElement.selectionEnd=
b}catch(c){this.value=a}},_computeAlwaysFloatLabel:function(a,b){return b||a},_updateAriaLabelledBy:function(){var a=Polymer.dom(this.root).querySelector("label");if(a){if(a.id)var b=a.id;else b="paper-input-label-"+Polymer.PaperInputHelper.NextLabelID++,a.id=b;this._ariaLabelledBy=b}else this._ariaLabelledBy=""},_onChange:function(a){this.shadowRoot&&this.fire(a.type,{sourceEvent:a},{node:this,bubbles:a.bubbles,cancelable:a.cancelable})},_autofocusChanged:function(){if(this.autofocus&&this._focusableElement){var a=
document.activeElement;a instanceof HTMLElement&&a!==document.body&&a!==document.documentElement||this._focusableElement.focus()}}};Polymer.PaperInputBehavior=[Polymer.IronControlState,Polymer.IronA11yKeysBehavior,Polymer.PaperInputBehaviorImpl];
</script>





<style is="custom-style"></style>



<script>//~~WEBPATH~~/paper-input/paper-input-addon-behavior.html.js
Polymer.PaperInputAddonBehavior={hostAttributes:{"add-on":""},attached:function(){this.fire("addon-attached")},update:function(){}};
</script>




<dom-module id="paper-input-char-counter">
  <template></template>
</dom-module>

<script>//~~WEBPATH~~/paper-input/paper-input-char-counter.html.js
Polymer({is:"paper-input-char-counter",behaviors:[Polymer.PaperInputAddonBehavior],properties:{_charCounterStr:{type:String,value:"0"}},update:function(a){if(a.inputElement){a.value=a.value||"";var b=a.value.toString().length.toString();a.inputElement.hasAttribute("maxlength")&&(b+="/"+a.inputElement.getAttribute("maxlength"));this._charCounterStr=b}}});
</script>








<dom-module id="paper-input-container">
  <template></template>
</dom-module>

<script>//~~WEBPATH~~/paper-input/paper-input-container.html.js
Polymer({is:"paper-input-container",properties:{noLabelFloat:{type:Boolean,value:!1},alwaysFloatLabel:{type:Boolean,value:!1},attrForValue:{type:String,value:"bind-value"},autoValidate:{type:Boolean,value:!1},invalid:{observer:"_invalidChanged",type:Boolean,value:!1},focused:{readOnly:!0,type:Boolean,value:!1,notify:!0},_addons:{type:Array},_inputHasContent:{type:Boolean,value:!1},_inputSelector:{type:String,value:"input,textarea,.paper-input-input"},_boundOnFocus:{type:Function,value:function(){return this._onFocus.bind(this)}},
_boundOnBlur:{type:Function,value:function(){return this._onBlur.bind(this)}},_boundOnInput:{type:Function,value:function(){return this._onInput.bind(this)}},_boundValueChanged:{type:Function,value:function(){return this._onValueChanged.bind(this)}}},listeners:{"addon-attached":"_onAddonAttached","iron-input-validate":"_onIronInputValidate"},get _valueChangedEvent(){return this.attrForValue+"-changed"},get _propertyForValue(){return Polymer.CaseMap.dashToCamelCase(this.attrForValue)},get _inputElement(){return Polymer.dom(this).querySelector(this._inputSelector)},
get _inputElementValue(){return this._inputElement[this._propertyForValue]||this._inputElement.value},ready:function(){this._addons||(this._addons=[]);this.addEventListener("focus",this._boundOnFocus,!0);this.addEventListener("blur",this._boundOnBlur,!0)},attached:function(){this.attrForValue?this._inputElement.addEventListener(this._valueChangedEvent,this._boundValueChanged):this.addEventListener("input",this._onInput);""!=this._inputElementValue?this._handleValueAndAutoValidate(this._inputElement):
this._handleValue(this._inputElement)},_onAddonAttached:function(a){this._addons||(this._addons=[]);a=a.target;-1===this._addons.indexOf(a)&&(this._addons.push(a),this.isAttached&&this._handleValue(this._inputElement))},_onFocus:function(){this._setFocused(!0)},_onBlur:function(){this._setFocused(!1);this._handleValueAndAutoValidate(this._inputElement)},_onInput:function(a){this._handleValueAndAutoValidate(a.target)},_onValueChanged:function(a){this._handleValueAndAutoValidate(a.target)},_handleValue:function(a){var b=
this._inputElementValue;b||0===b||"number"===a.type&&!a.checkValidity()?this._inputHasContent=!0:this._inputHasContent=!1;this.updateAddons({inputElement:a,value:b,invalid:this.invalid})},_handleValueAndAutoValidate:function(a){this.autoValidate&&(this.invalid=!(a.validate?a.validate(this._inputElementValue):a.checkValidity()));this._handleValue(a)},_onIronInputValidate:function(){this.invalid=this._inputElement.invalid},_invalidChanged:function(){this._addons&&this.updateAddons({invalid:this.invalid})},
updateAddons:function(a){for(var b,c=0;b=this._addons[c];c++)b.update(a)},_computeInputContentClass:function(a,b,c,d,e){var f="input-content";a?e&&(f+=" label-is-hidden"):(a=this.querySelector("label"),b||e?(f+=" label-is-floating",this.$.labelAndInputContainer.style.position="static",d?f+=" is-invalid":c&&(f+=" label-is-highlighted")):a&&(this.$.labelAndInputContainer.style.position="relative"));return f},_computeUnderlineClass:function(a,b){var c="underline";b?c+=" is-invalid":a&&(c+=" is-highlighted");
return c},_computeAddOnContentClass:function(a,b){var c="add-on-content";b?c+=" is-invalid":a&&(c+=" is-highlighted");return c}});
</script>








<dom-module id="paper-input-error">
  <template></template>
</dom-module>

<script>//~~WEBPATH~~/paper-input/paper-input-error.html.js
Polymer({is:"paper-input-error",behaviors:[Polymer.PaperInputAddonBehavior],properties:{invalid:{readOnly:!0,reflectToAttribute:!0,type:Boolean}},update:function(a){this._setInvalid(a.invalid)}});
</script>




<dom-module id="paper-input">
  <template></template>
</dom-module>

<script>//~~WEBPATH~~/paper-input/paper-input.html.js
Polymer({is:"paper-input",behaviors:[Polymer.IronFormElementBehavior,Polymer.PaperInputBehavior]});
</script>







<script>//~~WEBPATH~~/iron-resizable-behavior/iron-resizable-behavior.html.js
Polymer.IronResizableBehavior={properties:{_parentResizable:{type:Object,observer:"_parentResizableChanged"},_notifyingDescendant:{type:Boolean,value:!1}},listeners:{"iron-request-resize-notifications":"_onIronRequestResizeNotifications"},created:function(){this._interestedResizables=[];this._boundNotifyResize=this.notifyResize.bind(this)},attached:function(){this.fire("iron-request-resize-notifications",null,{node:this,bubbles:!0,cancelable:!0});this._parentResizable||(window.addEventListener("resize",
this._boundNotifyResize),this.notifyResize())},detached:function(){this._parentResizable?this._parentResizable.stopResizeNotificationsFor(this):window.removeEventListener("resize",this._boundNotifyResize);this._parentResizable=null},notifyResize:function(){this.isAttached&&(this._interestedResizables.forEach(function(a){this.resizerShouldNotify(a)&&this._notifyDescendant(a)},this),this._fireResize())},assignParentResizable:function(a){this._parentResizable=a},stopResizeNotificationsFor:function(a){var b=
this._interestedResizables.indexOf(a);-1<b&&(this._interestedResizables.splice(b,1),this.unlisten(a,"iron-resize","_onDescendantIronResize"))},resizerShouldNotify:function(){return!0},_onDescendantIronResize:function(a){this._notifyingDescendant?a.stopPropagation():Polymer.Settings.useShadow||this._fireResize()},_fireResize:function(){this.fire("iron-resize",null,{node:this,bubbles:!1})},_onIronRequestResizeNotifications:function(a){var b=a.path?a.path[0]:a.target;b!==this&&(-1===this._interestedResizables.indexOf(b)&&
(this._interestedResizables.push(b),this.listen(b,"iron-resize","_onDescendantIronResize")),b.assignParentResizable(this),this._notifyDescendant(b),a.stopPropagation())},_parentResizableChanged:function(a){a&&window.removeEventListener("resize",this._boundNotifyResize)},_notifyDescendant:function(a){this.isAttached&&(this._notifyingDescendant=!0,a.notifyResize(),this._notifyingDescendant=!1)}};
</script>







<script>//~~WEBPATH~~/iron-fit-behavior/iron-fit-behavior.html.js
Polymer.IronFitBehavior={properties:{sizingTarget:{type:Object,value:function(){return this}},fitInto:{type:Object,value:window},noOverlap:{type:Boolean},positionTarget:{type:Element},horizontalAlign:{type:String},verticalAlign:{type:String},dynamicAlign:{type:Boolean},horizontalOffset:{type:Number,value:0,notify:!0},verticalOffset:{type:Number,value:0,notify:!0},autoFitOnAttach:{type:Boolean,value:!1},_fitInfo:{type:Object}},get _fitWidth(){return this.fitInto===window?this.fitInto.innerWidth:this.fitInto.getBoundingClientRect().width},
get _fitHeight(){return this.fitInto===window?this.fitInto.innerHeight:this.fitInto.getBoundingClientRect().height},get _fitLeft(){return this.fitInto===window?0:this.fitInto.getBoundingClientRect().left},get _fitTop(){return this.fitInto===window?0:this.fitInto.getBoundingClientRect().top},get _defaultPositionTarget(){var a=Polymer.dom(this).parentNode;a&&a.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&(a=a.host);return a},get _localeHorizontalAlign(){if(this._isRTL){if("right"===this.horizontalAlign)return"left";
if("left"===this.horizontalAlign)return"right"}return this.horizontalAlign},attached:function(){this._isRTL="rtl"==window.getComputedStyle(this).direction;this.positionTarget=this.positionTarget||this._defaultPositionTarget;this.autoFitOnAttach&&("none"===window.getComputedStyle(this).display?setTimeout(function(){this.fit()}.bind(this)):this.fit())},fit:function(){this.position();this.constrain();this.center()},_discoverInfo:function(){if(!this._fitInfo){var a=window.getComputedStyle(this),b=window.getComputedStyle(this.sizingTarget);
this._fitInfo={inlineStyle:{top:this.style.top||"",left:this.style.left||"",position:this.style.position||""},sizerInlineStyle:{maxWidth:this.sizingTarget.style.maxWidth||"",maxHeight:this.sizingTarget.style.maxHeight||"",boxSizing:this.sizingTarget.style.boxSizing||""},positionedBy:{vertically:"auto"!==a.top?"top":"auto"!==a.bottom?"bottom":null,horizontally:"auto"!==a.left?"left":"auto"!==a.right?"right":null},sizedBy:{height:"none"!==b.maxHeight,width:"none"!==b.maxWidth,minWidth:parseInt(b.minWidth,
10)||0,minHeight:parseInt(b.minHeight,10)||0},margin:{top:parseInt(a.marginTop,10)||0,right:parseInt(a.marginRight,10)||0,bottom:parseInt(a.marginBottom,10)||0,left:parseInt(a.marginLeft,10)||0}};this.verticalOffset&&(this._fitInfo.margin.top=this._fitInfo.margin.bottom=this.verticalOffset,this._fitInfo.inlineStyle.marginTop=this.style.marginTop||"",this._fitInfo.inlineStyle.marginBottom=this.style.marginBottom||"",this.style.marginTop=this.style.marginBottom=this.verticalOffset+"px");this.horizontalOffset&&
(this._fitInfo.margin.left=this._fitInfo.margin.right=this.horizontalOffset,this._fitInfo.inlineStyle.marginLeft=this.style.marginLeft||"",this._fitInfo.inlineStyle.marginRight=this.style.marginRight||"",this.style.marginLeft=this.style.marginRight=this.horizontalOffset+"px")}},resetFit:function(){var a=this._fitInfo||{},b;for(b in a.sizerInlineStyle)this.sizingTarget.style[b]=a.sizerInlineStyle[b];for(b in a.inlineStyle)this.style[b]=a.inlineStyle[b];this._fitInfo=null},refit:function(){var a=this.sizingTarget.scrollLeft,
b=this.sizingTarget.scrollTop;this.resetFit();this.fit();this.sizingTarget.scrollLeft=a;this.sizingTarget.scrollTop=b},position:function(){if(this.horizontalAlign||this.verticalAlign){this._discoverInfo();this.style.position="fixed";this.sizingTarget.style.boxSizing="border-box";this.style.left="0px";this.style.top="0px";var a=this.getBoundingClientRect(),b=this.__getNormalizedRect(this.positionTarget),c=this.__getNormalizedRect(this.fitInto),d=this._fitInfo.margin,e=this.__getPosition(this._localeHorizontalAlign,
this.verticalAlign,{width:a.width+d.left+d.right,height:a.height+d.top+d.bottom},b,c);b=e.left+d.left;e=e.top+d.top;var f=Math.min(c.right-d.right,b+a.width);c=Math.min(c.bottom-d.bottom,e+a.height);var g=this._fitInfo.sizedBy.minWidth,k=this._fitInfo.sizedBy.minHeight;b<d.left&&(b=d.left,f-b<g&&(b=f-g));e<d.top&&(e=d.top,c-e<k&&(e=c-k));this.sizingTarget.style.maxWidth=f-b+"px";this.sizingTarget.style.maxHeight=c-e+"px";this.style.left=b-a.left+"px";this.style.top=e-a.top+"px"}},constrain:function(){if(!this.horizontalAlign&&
!this.verticalAlign){this._discoverInfo();var a=this._fitInfo;a.positionedBy.vertically||(this.style.position="fixed",this.style.top="0px");a.positionedBy.horizontally||(this.style.position="fixed",this.style.left="0px");this.sizingTarget.style.boxSizing="border-box";var b=this.getBoundingClientRect();a.sizedBy.height||this.__sizeDimension(b,a.positionedBy.vertically,"top","bottom","Height");a.sizedBy.width||this.__sizeDimension(b,a.positionedBy.horizontally,"left","right","Width")}},_sizeDimension:function(a,
b,c,d,e){this.__sizeDimension(a,b,c,d,e)},__sizeDimension:function(a,b,c,d,e){var f=this._fitInfo,g=this.__getNormalizedRect(this.fitInto);g="Width"===e?g.width:g.height;b=b===d;var k="offset"+e;this.sizingTarget.style["max"+e]=g-f.margin[b?c:d]-(b?g-a[d]:a[c])-(this[k]-this.sizingTarget[k])+"px"},center:function(){if(!this.horizontalAlign&&!this.verticalAlign){this._discoverInfo();var a=this._fitInfo.positionedBy;if(!a.vertically||!a.horizontally){this.style.position="fixed";a.vertically||(this.style.top=
"0px");a.horizontally||(this.style.left="0px");var b=this.getBoundingClientRect(),c=this.__getNormalizedRect(this.fitInto);a.vertically||(this.style.top=c.top-b.top+(c.height-b.height)/2+"px");a.horizontally||(this.style.left=c.left-b.left+(c.width-b.width)/2+"px")}}},__getNormalizedRect:function(a){return a===document.documentElement||a===window?{top:0,left:0,width:window.innerWidth,height:window.innerHeight,right:window.innerWidth,bottom:window.innerHeight}:a.getBoundingClientRect()},__getCroppedArea:function(a,
b,c){return Math.abs(Math.min(0,a.top)+Math.min(0,c.bottom-(a.top+b.height)))*b.width+Math.abs(Math.min(0,a.left)+Math.min(0,c.right-(a.left+b.width)))*b.height},__getPosition:function(a,b,c,d,e){var f=[{verticalAlign:"top",horizontalAlign:"left",top:d.top,left:d.left},{verticalAlign:"top",horizontalAlign:"right",top:d.top,left:d.right-c.width},{verticalAlign:"bottom",horizontalAlign:"left",top:d.bottom-c.height,left:d.left},{verticalAlign:"bottom",horizontalAlign:"right",top:d.bottom-c.height,left:d.right-
c.width}];if(this.noOverlap){for(var g=0,k=f.length;g<k;g++){var l={},m;for(m in f[g])l[m]=f[g][m];f.push(l)}f[0].top=f[1].top+=d.height;f[2].top=f[3].top-=d.height;f[4].left=f[6].left+=d.width;f[5].left=f[7].left-=d.width}b="auto"===b?null:b;a="auto"===a?null:a;for(g=0;g<f.length;g++){d=f[g];if(!this.dynamicAlign&&!this.noOverlap&&d.verticalAlign===b&&d.horizontalAlign===a){var n=d;break}k=(!b||d.verticalAlign===b)&&(!a||d.horizontalAlign===a);if(this.dynamicAlign||k){n=n||d;d.croppedArea=this.__getCroppedArea(d,
c,e);l=d.croppedArea-n.croppedArea;if(0>l||0===l&&k)n=d;if(0===n.croppedArea&&k)break}}return n}};
</script>








<dom-module id="iron-overlay-backdrop">

  <template></template>

</dom-module>

<script>//~~WEBPATH~~/iron-overlay-behavior/iron-overlay-backdrop.html.js
Polymer({is:"iron-overlay-backdrop",properties:{opened:{reflectToAttribute:!0,type:Boolean,value:!1,observer:"_openedChanged"}},listeners:{transitionend:"_onTransitionend"},created:function(){this.__openedRaf=null},attached:function(){this.opened&&this._openedChanged(this.opened)},prepare:function(){this.opened&&!this.parentNode&&Polymer.dom(document.body).appendChild(this)},open:function(){this.opened=!0},close:function(){this.opened=!1},complete:function(){this.opened||this.parentNode!==document.body||
Polymer.dom(this.parentNode).removeChild(this)},_onTransitionend:function(a){a&&a.target===this&&this.complete()},_openedChanged:function(a){a?this.prepare():(a=window.getComputedStyle(this),"0s"!==a.transitionDuration&&0!=a.opacity||this.complete());this.isAttached&&(this.__openedRaf&&(window.cancelAnimationFrame(this.__openedRaf),this.__openedRaf=null),this.scrollTop=this.scrollTop,this.__openedRaf=window.requestAnimationFrame(function(){this.__openedRaf=null;this.toggleClass("opened",this.opened)}.bind(this)))}});
</script>


<script>//~~WEBPATH~~/iron-overlay-behavior/iron-overlay-manager.html.js
Polymer.IronOverlayManagerClass=function(){this._overlays=[];this._minimumZ=101;this._backdropElement=null;Polymer.Gestures.add(document,"tap",this._onCaptureClick.bind(this));document.addEventListener("focus",this._onCaptureFocus.bind(this),!0);document.addEventListener("keydown",this._onCaptureKeyDown.bind(this),!0)};
Polymer.IronOverlayManagerClass.prototype={constructor:Polymer.IronOverlayManagerClass,get backdropElement(){this._backdropElement||(this._backdropElement=document.createElement("iron-overlay-backdrop"));return this._backdropElement},get deepActiveElement(){for(var a=document.activeElement||document.body;a.root&&Polymer.dom(a.root).activeElement;)a=Polymer.dom(a.root).activeElement;return a},addOrRemoveOverlay:function(a){a.opened?Aa(this,a):Da(this,a)},ensureMinimumZ:function(a){this._minimumZ=Math.max(this._minimumZ,
a)},focusOverlay:function(){var a=Ea(this);a&&a._applyFocus()},getBackdrops:function(){for(var a=[],b=0;b<this._overlays.length;b++)this._overlays[b].withBackdrop&&a.push(this._overlays[b]);return a},backdropZ:function(){return Fa(this,Ga(this))-1},_onCaptureClick:function(a){var b=Ea(this),c;if(c=b){a:{c=(c=Polymer.dom(a).path)||[];for(var d=0;d<c.length;d++)if(c[d]._manager===this){c=c[d];break a}c=void 0}c=c!==b}c&&b._onCaptureClick(a)},_onCaptureFocus:function(a){var b=Ea(this);b&&b._onCaptureFocus(a)},
_onCaptureKeyDown:function(a){var b=Ea(this);b&&(Polymer.IronA11yKeysBehavior.keyboardEventMatchesKeys(a,"esc")?b._onCaptureEsc(a):Polymer.IronA11yKeysBehavior.keyboardEventMatchesKeys(a,"tab")&&b._onCaptureTab(a))}};function Fa(a,b){a=a._minimumZ;b&&(b=Number(b.style.zIndex||window.getComputedStyle(b).zIndex),b===b&&(a=b));return a}function Ga(a){for(var b=0;b<a._overlays.length;b++)if(a._overlays[b].withBackdrop)return a._overlays[b]}
function Ha(a){var b=Ga(a);if(b||a._backdropElement)a.backdropElement.style.zIndex=Fa(a,b)-1,a.backdropElement.opened=!!b}function Ea(a){return a._overlays[a._overlays.length-1]}function Da(a,b){b=a._overlays.indexOf(b);-1!==b&&(a._overlays.splice(b,1),Ha(a))}
function Aa(a,b){var c=a._overlays.indexOf(b);if(0<=c){if(b=c,c=a._overlays[b]){var d=a._overlays.length-1,e=a._overlays[d];e&&!c.alwaysOnTop&&e.alwaysOnTop&&d--;if(!(b>=d)){e=Math.max(Fa(a,Ea(a)),a._minimumZ);Fa(a,c)<=e&&(c.style.zIndex=e+2);for(;b<d;)a._overlays[b]=a._overlays[b+1],b++;a._overlays[d]=c}}}else{c=a._overlays.length;d=a._overlays[c-1];e=Math.max(Fa(a,d),a._minimumZ);var f=Fa(a,b);d&&!b.alwaysOnTop&&d.alwaysOnTop&&(d.style.zIndex=e+2,c--,e=Math.max(Fa(a,a._overlays[c-1]),a._minimumZ));
f<=e&&(b.style.zIndex=e+2);a._overlays.splice(c,0,b)}Ha(a)}Polymer.IronOverlayManager=new Polymer.IronOverlayManagerClass;
</script>



<script>//~~WEBPATH~~/iron-overlay-behavior/iron-focusables-helper.html.js
(function(){var a=Element.prototype,b=a.matches||a.matchesSelector||a.mozMatchesSelector||a.msMatchesSelector||a.oMatchesSelector||a.webkitMatchesSelector;Polymer.IronFocusablesHelper={getTabbableNodes:function(a){var b=[];return this._collectTabbableNodes(a,b)?this._sortByTabIndex(b):b},isFocusable:function(a){return b.call(a,"input, select, textarea, button, object")?b.call(a,":not([disabled])"):b.call(a,"a[href], area[href], iframe, [tabindex], [contentEditable]")},isTabbable:function(a){return this.isFocusable(a)&&
b.call(a,':not([tabindex\x3d"-1"])')&&this._isVisible(a)},_normalizedTabIndex:function(a){return this.isFocusable(a)?(a=a.getAttribute("tabindex")||0,Number(a)):-1},_collectTabbableNodes:function(a,b){if(a.nodeType!==Node.ELEMENT_NODE||!this._isVisible(a))return!1;var c=this._normalizedTabIndex(a),d=0<c;0<=c&&b.push(a);a="content"===a.localName?Polymer.dom(a).getDistributedNodes():Polymer.dom(a.root||a).children;for(c=0;c<a.length;c++){var g=this._collectTabbableNodes(a[c],b);d=d||g}return d},_isVisible:function(a){var b=
a.style;return"hidden"!==b.visibility&&"none"!==b.display?(b=window.getComputedStyle(a),"hidden"!==b.visibility&&"none"!==b.display):!1},_sortByTabIndex:function(a){var b=a.length;if(2>b)return a;var c=Math.ceil(b/2);b=this._sortByTabIndex(a.slice(0,c));a=this._sortByTabIndex(a.slice(c));return this._mergeSortByTabIndex(b,a)},_mergeSortByTabIndex:function(a,b){for(var c=[];0<a.length&&0<b.length;)this._hasLowerTabOrder(a[0],b[0])?c.push(b.shift()):c.push(a.shift());return c.concat(a,b)},_hasLowerTabOrder:function(a,
b){a=Math.max(a.tabIndex,0);b=Math.max(b.tabIndex,0);return 0===a||0===b?b>a:a>b}}})();
</script>


<script>//~~WEBPATH~~/iron-overlay-behavior/iron-overlay-behavior.html.js
Polymer.IronOverlayBehaviorImpl={properties:{opened:{observer:"_openedChanged",type:Boolean,value:!1,notify:!0},canceled:{observer:"_canceledChanged",readOnly:!0,type:Boolean,value:!1},withBackdrop:{observer:"_withBackdropChanged",type:Boolean},noAutoFocus:{type:Boolean,value:!1},noCancelOnEscKey:{type:Boolean,value:!1},noCancelOnOutsideClick:{type:Boolean,value:!1},closingReason:{type:Object},restoreFocusOnClose:{type:Boolean,value:!1},alwaysOnTop:{type:Boolean},_manager:{type:Object,value:Polymer.IronOverlayManager},
_focusedChild:{type:Object}},listeners:{"iron-resize":"_onIronResize"},get backdropElement(){return this._manager.backdropElement},get _focusNode(){return this._focusedChild||Polymer.dom(this).querySelector("[autofocus]")||this},get _focusableNodes(){return Polymer.IronFocusablesHelper.getTabbableNodes(this)},ready:function(){this.__shouldRemoveTabIndex=this.__isAnimating=!1;this.__restoreFocusNode=this.__raf=this.__firstFocusableNode=this.__lastFocusableNode=null;this._ensureSetup()},attached:function(){this.opened&&
this._openedChanged(this.opened);this._observer=Polymer.dom(this).observeNodes(this._onNodesChange)},detached:function(){Polymer.dom(this).unobserveNodes(this._observer);this._observer=null;this.__raf&&(window.cancelAnimationFrame(this.__raf),this.__raf=null);Da(this._manager,this)},toggle:function(){this._setCanceled(!1);this.opened=!this.opened},open:function(){this._setCanceled(!1);this.opened=!0},close:function(){this._setCanceled(!1);this.opened=!1},cancel:function(a){this.fire("iron-overlay-canceled",
a,{cancelable:!0}).defaultPrevented||(this._setCanceled(!0),this.opened=!1)},invalidateTabbables:function(){this.__firstFocusableNode=this.__lastFocusableNode=null},_ensureSetup:function(){this._overlaySetup||(this._overlaySetup=!0,this.style.outline="none",this.style.display="none")},_openedChanged:function(a){a?this.removeAttribute("aria-hidden"):this.setAttribute("aria-hidden","true");this.isAttached&&(this.__isAnimating=!0,this.__onNextAnimationFrame(this.__openedChanged))},_canceledChanged:function(){this.closingReason=
this.closingReason||{};this.closingReason.canceled=this.canceled},_withBackdropChanged:function(){this.withBackdrop&&!this.hasAttribute("tabindex")?(this.setAttribute("tabindex","-1"),this.__shouldRemoveTabIndex=!0):this.__shouldRemoveTabIndex&&(this.removeAttribute("tabindex"),this.__shouldRemoveTabIndex=!1);this.opened&&this.isAttached&&Ha(this._manager)},_prepareRenderOpened:function(){this.__restoreFocusNode=this._manager.deepActiveElement;this._preparePositioning();this.refit();this._finishPositioning();
this.noAutoFocus&&document.activeElement===this._focusNode&&(this._focusNode.blur(),this.__restoreFocusNode.focus())},_renderOpened:function(){this._finishRenderOpened()},_renderClosed:function(){this._finishRenderClosed()},_finishRenderOpened:function(){this.notifyResize();this.__isAnimating=!1;this.fire("iron-overlay-opened")},_finishRenderClosed:function(){this.style.display="none";this.style.zIndex="";this.notifyResize();this.__isAnimating=!1;this.fire("iron-overlay-closed",this.closingReason)},
_preparePositioning:function(){this.style.transition=this.style.webkitTransition="none";this.style.transform=this.style.webkitTransform="none";this.style.display=""},_finishPositioning:function(){this.style.display="none";this.scrollTop=this.scrollTop;this.style.transition=this.style.webkitTransition="";this.style.transform=this.style.webkitTransform="";this.style.display="";this.scrollTop=this.scrollTop},_applyFocus:function(){if(this.opened)this.noAutoFocus||this._focusNode.focus();else{this._focusNode.blur();
this._focusedChild=null;this.restoreFocusOnClose&&this.__restoreFocusNode&&this.__restoreFocusNode.focus();this.__restoreFocusNode=null;var a=Ea(this._manager);a&&this!==a&&a._applyFocus()}},_onCaptureClick:function(a){this.noCancelOnOutsideClick||this.cancel(a)},_onCaptureFocus:function(a){if(this.withBackdrop){var b=Polymer.dom(a).path;-1===b.indexOf(this)?(a.stopPropagation(),this._applyFocus()):this._focusedChild=b[0]}},_onCaptureEsc:function(a){this.noCancelOnEscKey||this.cancel(a)},_onCaptureTab:function(a){if(this.withBackdrop){this.__ensureFirstLastFocusables();
var b=a.shiftKey,c=b?this.__firstFocusableNode:this.__lastFocusableNode;b=b?this.__lastFocusableNode:this.__firstFocusableNode;if(c===b)c=!0;else{var d=this._manager.deepActiveElement;c=d===c||d===this}c&&(a.preventDefault(),this._focusedChild=b,this._applyFocus())}},_onIronResize:function(){this.opened&&!this.__isAnimating&&this.__onNextAnimationFrame(this.refit)},_onNodesChange:function(){this.opened&&!this.__isAnimating&&(this.invalidateTabbables(),this.notifyResize())},__ensureFirstLastFocusables:function(){if(!this.__firstFocusableNode||
!this.__lastFocusableNode){var a=this._focusableNodes;this.__firstFocusableNode=a[0];this.__lastFocusableNode=a[a.length-1]}},__openedChanged:function(){this.opened?(this._prepareRenderOpened(),Aa(this._manager,this),this._applyFocus(),this._renderOpened()):(Da(this._manager,this),this._applyFocus(),this._renderClosed())},__onNextAnimationFrame:function(a){this.__raf&&window.cancelAnimationFrame(this.__raf);var b=this;this.__raf=window.requestAnimationFrame(function(){b.__raf=null;a.call(b)})}};
Polymer.IronOverlayBehavior=[Polymer.IronFitBehavior,Polymer.IronResizableBehavior,Polymer.IronOverlayBehaviorImpl];
</script>








<script>//~~WEBPATH~~/neon-animation/neon-animation-behavior.html.js
Polymer.NeonAnimationBehavior={properties:{animationTiming:{type:Object,value:function(){return{duration:500,easing:"cubic-bezier(0.4, 0, 0.2, 1)",fill:"both"}}}},isNeonAnimation:!0,timingFromConfig:function(a){if(a.timing)for(var b in a.timing)this.animationTiming[b]=a.timing[b];return this.animationTiming},setPrefixedProperty:function(a,b,c){for(var d={transform:["webkitTransform"],transformOrigin:["mozTransformOrigin","webkitTransformOrigin"]}[b],e,f=0;e=d[f];f++)a.style[e]=c;a.style[b]=c},complete:function(){}};
</script>






<script>//~~WEBPATH~~/neon-animation/animations/opaque-animation.html.js
Polymer({is:"opaque-animation",behaviors:[Polymer.NeonAnimationBehavior],configure:function(a){var b=a.node;b.style.opacity="0";return this._effect=new KeyframeEffect(b,[{opacity:"1"},{opacity:"1"}],this.timingFromConfig(a))},complete:function(a){a.node.style.opacity=""}});
</script>


<script>//~~WEBPATH~~/neon-animation/neon-animatable-behavior.html.js
Polymer.NeonAnimatableBehavior={properties:{animationConfig:{type:Object},entryAnimation:{observer:"_entryAnimationChanged",type:String},exitAnimation:{observer:"_exitAnimationChanged",type:String}},_entryAnimationChanged:function(){this.animationConfig=this.animationConfig||{};this.animationConfig.entry="fade-in-animation"!==this.entryAnimation?[{name:"opaque-animation",node:this},{name:this.entryAnimation,node:this}]:[{name:this.entryAnimation,node:this}]},_exitAnimationChanged:function(){this.animationConfig=
this.animationConfig||{};this.animationConfig.exit=[{name:this.exitAnimation,node:this}]},_copyProperties:function(a,b){for(var c in b)a[c]=b[c]},_cloneConfig:function(a){var b={isClone:!0};this._copyProperties(b,a);return b},_getAnimationConfigRecursive:function(a,b,c){if(this.animationConfig)if(this.animationConfig.value&&"function"===typeof this.animationConfig.value)this._warn(this._logf("playAnimation","Please put 'animationConfig' inside of your components 'properties' object instead of outside of it."));
else{var d=a?this.animationConfig[a]:this.animationConfig;Array.isArray(d)||(d=[d]);if(d)for(var e,f=0;e=d[f];f++)if(e.animatable)e.animatable._getAnimationConfigRecursive(e.type||a,b,c);else if(e.id){var g=b[e.id];g?(g.isClone||(b[e.id]=this._cloneConfig(g),g=b[e.id]),this._copyProperties(g,e)):b[e.id]=e}else c.push(e)}},getAnimationConfig:function(a){var b={},c=[];this._getAnimationConfigRecursive(a,b,c);for(var d in b)c.push(b[d]);return c}};
</script>


<script>//~~WEBPATH~~/neon-animation/neon-animation-runner-behavior.html.js
Polymer.NeonAnimationRunnerBehaviorImpl={properties:{_player:{type:Object}},_configureAnimationEffects:function(a){var b=[];if(0<a.length)for(var c,d=0;c=a[d];d++){var e=document.createElement(c.name);if(e.isNeonAnimation){var f=e.configure(c);f&&b.push({animation:e,config:c,effect:f})}else Polymer.Base._warn(this.is+":",c.name,"not found!")}return b},_runAnimationEffects:function(a){return document.timeline.play(new GroupEffect(a))},_completeAnimations:function(a){for(var b,c=0;b=a[c];c++)b.animation.complete(b.config)},
playAnimation:function(a,b){if(a=this.getAnimationConfig(a)){var c=this._configureAnimationEffects(a);a=c.map(function(a){return a.effect});0<a.length?(this._player=this._runAnimationEffects(a),this._player.onfinish=function(){this._completeAnimations(c);this._player&&(this._player.cancel(),this._player=null);this.fire("neon-animation-finish",b,{bubbles:!1})}.bind(this)):this.fire("neon-animation-finish",b,{bubbles:!1})}},cancelAnimation:function(){this._player&&this._player.cancel()}};
Polymer.NeonAnimationRunnerBehavior=[Polymer.NeonAnimatableBehavior,Polymer.NeonAnimationRunnerBehaviorImpl];
</script>




<script>//~~WEBPATH~~/iron-dropdown/iron-dropdown-scroll-manager.html.js
(function(){var a=0,b=0,c=null,d=[];Polymer.IronDropdownScrollManager={get currentLockingElement(){return this._lockingElements[this._lockingElements.length-1]},elementIsScrollLocked:function(a){var b=this.currentLockingElement;if(void 0===b)return!1;if(this._hasCachedLockedElement(a))return!0;if(this._hasCachedUnlockedElement(a))return!1;(b=!!b&&b!==a&&!this._composedTreeContains(b,a))?this._lockedElementCache.push(a):this._unlockedElementCache.push(a);return b},pushScrollLock:function(a){0<=this._lockingElements.indexOf(a)||
(0===this._lockingElements.length&&this._lockScrollInteractions(),this._lockingElements.push(a),this._lockedElementCache=[],this._unlockedElementCache=[])},removeScrollLock:function(a){a=this._lockingElements.indexOf(a);-1!==a&&(this._lockingElements.splice(a,1),this._lockedElementCache=[],this._unlockedElementCache=[],0===this._lockingElements.length&&this._unlockScrollInteractions())},_lockingElements:[],_lockedElementCache:null,_unlockedElementCache:null,_hasCachedLockedElement:function(a){return-1<
this._lockedElementCache.indexOf(a)},_hasCachedUnlockedElement:function(a){return-1<this._unlockedElementCache.indexOf(a)},_composedTreeContains:function(a,b){var c,d;if(a.contains(b))return!0;a=Polymer.dom(a).querySelectorAll("content");for(c=0;c<a.length;++c){var e=Polymer.dom(a[c]).getDistributedNodes();for(d=0;d<e.length;++d)if(this._composedTreeContains(e[d],b))return!0}return!1},_scrollInteractionHandler:function(c){c.cancelable&&this._shouldPreventScrolling(c)&&c.preventDefault();c.targetTouches&&
(c=c.targetTouches[0],a=c.pageX,b=c.pageY)},_lockScrollInteractions:function(){this._boundScrollHandler=this._boundScrollHandler||this._scrollInteractionHandler.bind(this);document.addEventListener("wheel",this._boundScrollHandler,!0);document.addEventListener("mousewheel",this._boundScrollHandler,!0);document.addEventListener("DOMMouseScroll",this._boundScrollHandler,!0);document.addEventListener("touchstart",this._boundScrollHandler,!0);document.addEventListener("touchmove",this._boundScrollHandler,
!0)},_unlockScrollInteractions:function(){document.removeEventListener("wheel",this._boundScrollHandler,!0);document.removeEventListener("mousewheel",this._boundScrollHandler,!0);document.removeEventListener("DOMMouseScroll",this._boundScrollHandler,!0);document.removeEventListener("touchstart",this._boundScrollHandler,!0);document.removeEventListener("touchmove",this._boundScrollHandler,!0)},_shouldPreventScrolling:function(a){var b=Polymer.dom(a).rootTarget;"touchmove"!==a.type&&c!==b&&(c=b,d=this._getScrollableNodes(Polymer.dom(a).path));
if(!d.length)return!0;if("touchstart"===a.type)return!1;a=this._getScrollInfo(a);return!this._getScrollingNode(d,a.deltaX,a.deltaY)},_getScrollableNodes:function(a){for(var b=[],c=a.indexOf(this.currentLockingElement),d=0;d<=c;d++)if(a[d].nodeType===Node.ELEMENT_NODE){var e=a[d],m=e.style;"scroll"!==m.overflow&&"auto"!==m.overflow&&(m=window.getComputedStyle(e));"scroll"!==m.overflow&&"auto"!==m.overflow||b.push(e)}return b},_getScrollingNode:function(a,b,c){if(b||c)for(var d=Math.abs(c)>=Math.abs(b),
e=0;e<a.length;e++){var f=a[e];if(d?0>c?0<f.scrollTop:f.scrollTop<f.scrollHeight-f.clientHeight:0>b?0<f.scrollLeft:f.scrollLeft<f.scrollWidth-f.clientWidth)return f}},_getScrollInfo:function(c){var d={deltaX:c.deltaX,deltaY:c.deltaY};"deltaX"in c||("wheelDeltaX"in c?(d.deltaX=-c.wheelDeltaX,d.deltaY=-c.wheelDeltaY):"axis"in c?(d.deltaX=1===c.axis?c.detail:0,d.deltaY=2===c.axis?c.detail:0):c.targetTouches&&(c=c.targetTouches[0],d.deltaX=a-c.pageX,d.deltaY=b-c.pageY));return d}}})();
</script>




<dom-module id="iron-dropdown">
  <template></template>

  <script>//~~WEBPATH~~/iron-dropdown/iron-dropdown.html.js
Polymer({is:"iron-dropdown",behaviors:[Polymer.IronControlState,Polymer.IronA11yKeysBehavior,Polymer.IronOverlayBehavior,Polymer.NeonAnimationRunnerBehavior],properties:{horizontalAlign:{type:String,value:"left",reflectToAttribute:!0},verticalAlign:{type:String,value:"top",reflectToAttribute:!0},openAnimationConfig:{type:Object},closeAnimationConfig:{type:Object},focusTarget:{type:Object},noAnimations:{type:Boolean,value:!1},allowOutsideScroll:{type:Boolean,value:!1},_boundOnCaptureScroll:{type:Function,
value:function(){return this._onCaptureScroll.bind(this)}}},listeners:{"neon-animation-finish":"_onNeonAnimationFinish"},observers:["_updateOverlayPosition(positionTarget, verticalAlign, horizontalAlign, verticalOffset, horizontalOffset)"],get containedElement(){return Polymer.dom(this.$.content).getDistributedNodes()[0]},get _focusTarget(){return this.focusTarget||this.containedElement},ready:function(){this._scrollLeft=this._scrollTop=0;this._refitOnScrollRAF=null},attached:function(){this.sizingTarget&&
this.sizingTarget!==this||(this.sizingTarget=this.containedElement||this)},detached:function(){this.cancelAnimation();document.removeEventListener("scroll",this._boundOnCaptureScroll);Polymer.IronDropdownScrollManager.removeScrollLock(this)},_openedChanged:function(){this.opened&&this.disabled?this.cancel():(this.cancelAnimation(),this._updateAnimationConfig(),this._saveScrollPosition(),this.opened?(document.addEventListener("scroll",this._boundOnCaptureScroll),!this.allowOutsideScroll&&Polymer.IronDropdownScrollManager.pushScrollLock(this)):
(document.removeEventListener("scroll",this._boundOnCaptureScroll),Polymer.IronDropdownScrollManager.removeScrollLock(this)),Polymer.IronOverlayBehaviorImpl._openedChanged.apply(this,arguments))},_renderOpened:function(){!this.noAnimations&&this.animationConfig.open?(this.$.contentWrapper.classList.add("animating"),this.playAnimation("open")):Polymer.IronOverlayBehaviorImpl._renderOpened.apply(this,arguments)},_renderClosed:function(){!this.noAnimations&&this.animationConfig.close?(this.$.contentWrapper.classList.add("animating"),
this.playAnimation("close")):Polymer.IronOverlayBehaviorImpl._renderClosed.apply(this,arguments)},_onNeonAnimationFinish:function(){this.$.contentWrapper.classList.remove("animating");this.opened?this._finishRenderOpened():this._finishRenderClosed()},_onCaptureScroll:function(){this.allowOutsideScroll?(this._refitOnScrollRAF&&window.cancelAnimationFrame(this._refitOnScrollRAF),this._refitOnScrollRAF=window.requestAnimationFrame(this.refit.bind(this))):this._restoreScrollPosition()},_saveScrollPosition:function(){document.scrollingElement?
(this._scrollTop=document.scrollingElement.scrollTop,this._scrollLeft=document.scrollingElement.scrollLeft):(this._scrollTop=Math.max(document.documentElement.scrollTop,document.body.scrollTop),this._scrollLeft=Math.max(document.documentElement.scrollLeft,document.body.scrollLeft))},_restoreScrollPosition:function(){document.scrollingElement?(document.scrollingElement.scrollTop=this._scrollTop,document.scrollingElement.scrollLeft=this._scrollLeft):(document.documentElement.scrollTop=this._scrollTop,
document.documentElement.scrollLeft=this._scrollLeft,document.body.scrollTop=this._scrollTop,document.body.scrollLeft=this._scrollLeft)},_updateAnimationConfig:function(){for(var a=this.containedElement,b=[].concat(this.openAnimationConfig||[]).concat(this.closeAnimationConfig||[]),c=0;c<b.length;c++)b[c].node=a;this.animationConfig={open:this.openAnimationConfig,close:this.closeAnimationConfig}},_updateOverlayPosition:function(){this.isAttached&&this.notifyResize()},_applyFocus:function(){var a=
this.focusTarget||this.containedElement;a&&this.opened&&!this.noAutoFocus?a.focus():Polymer.IronOverlayBehaviorImpl._applyFocus.apply(this,arguments)}});
</script>
</dom-module>







<script>//~~WEBPATH~~/neon-animation/animations/fade-in-animation.html.js
Polymer({is:"fade-in-animation",behaviors:[Polymer.NeonAnimationBehavior],configure:function(a){return this._effect=new KeyframeEffect(a.node,[{opacity:"0"},{opacity:"1"}],this.timingFromConfig(a))}});
</script>







<script>//~~WEBPATH~~/neon-animation/animations/fade-out-animation.html.js
Polymer({is:"fade-out-animation",behaviors:[Polymer.NeonAnimationBehavior],configure:function(a){return this._effect=new KeyframeEffect(a.node,[{opacity:"1"},{opacity:"0"}],this.timingFromConfig(a))}});
</script>






<script>//~~WEBPATH~~/paper-menu-button/paper-menu-button-animations.html.js
Polymer({is:"paper-menu-grow-height-animation",behaviors:[Polymer.NeonAnimationBehavior],configure:function(a){var b=a.node,c=b.getBoundingClientRect().height;return this._effect=new KeyframeEffect(b,[{height:c/2+"px"},{height:c+"px"}],this.timingFromConfig(a))}});Polymer({is:"paper-menu-grow-width-animation",behaviors:[Polymer.NeonAnimationBehavior],configure:function(a){var b=a.node,c=b.getBoundingClientRect().width;return this._effect=new KeyframeEffect(b,[{width:c/2+"px"},{width:c+"px"}],this.timingFromConfig(a))}});
Polymer({is:"paper-menu-shrink-width-animation",behaviors:[Polymer.NeonAnimationBehavior],configure:function(a){var b=a.node,c=b.getBoundingClientRect().width;return this._effect=new KeyframeEffect(b,[{width:c+"px"},{width:c-c/20+"px"}],this.timingFromConfig(a))}});
Polymer({is:"paper-menu-shrink-height-animation",behaviors:[Polymer.NeonAnimationBehavior],configure:function(a){var b=a.node,c=b.getBoundingClientRect().height;this.setPrefixedProperty(b,"transformOrigin","0 0");return this._effect=new KeyframeEffect(b,[{height:c+"px",transform:"translateY(0)"},{height:c/2+"px",transform:"translateY(-20px)"}],this.timingFromConfig(a))}});
</script>






<dom-module id="paper-menu-button">
  <template></template>

  <script>//~~WEBPATH~~/paper-menu-button/paper-menu-button.html.js
function Ia(){}h=Ia.prototype;h.registered=function(){};h.addOwnKeyBinding=function(){};h.removeOwnKeyBindings=function(){};h.keyboardEventMatchesKeys=function(){};h._collectKeyBindings=function(){};h._prepKeyBindings=function(){};h._addKeyBinding=function(){};h._resetKeyEventListeners=function(){};h._listenKeyEventListeners=function(){};h._unlistenKeyEventListeners=function(){};h._onKeyBindingEvent=function(){};h._triggerKeyHandler=function(){};
h._focusBlurHandler=function(a){if(a.target===this)this._setFocused("focus"===a.type);else if(!this.shadowRoot){var b=Polymer.dom(a).localTarget;this.isLightDescendant(b)||this.fire(a.type,{sourceEvent:a},{node:this,bubbles:a.bubbles,cancelable:a.cancelable})}};h._changedControlState=function(){this._controlStateChanged&&this._controlStateChanged()};h._setFocused=function(){};
(function(){var a={ANIMATION_CUBIC_BEZIER:"cubic-bezier(.3,.95,.5,1)",MAX_ANIMATION_TIME_MS:400};Ia=Polymer({is:"paper-menu-button",behaviors:[Polymer.IronA11yKeysBehavior,Polymer.IronControlState],properties:{opened:{type:Boolean,value:!1,notify:!0,observer:"_openedChanged"},horizontalAlign:{type:String,value:"left",reflectToAttribute:!0},verticalAlign:{type:String,value:"top",reflectToAttribute:!0},dynamicAlign:{type:Boolean},horizontalOffset:{type:Number,value:0,notify:!0},verticalOffset:{type:Number,
value:0,notify:!0},noOverlap:{type:Boolean},noAnimations:{type:Boolean,value:!1},ignoreSelect:{type:Boolean,value:!1},closeOnActivate:{type:Boolean,value:!1},openAnimationConfig:{type:Object,value:function(){return[{name:"fade-in-animation",timing:{delay:100,duration:200}},{name:"paper-menu-grow-width-animation",timing:{delay:100,duration:150,easing:a.ANIMATION_CUBIC_BEZIER}},{name:"paper-menu-grow-height-animation",timing:{delay:100,duration:275,easing:a.ANIMATION_CUBIC_BEZIER}}]}},closeAnimationConfig:{type:Object,
value:function(){return[{name:"fade-out-animation",timing:{duration:150}},{name:"paper-menu-shrink-width-animation",timing:{delay:100,duration:50,easing:a.ANIMATION_CUBIC_BEZIER}},{name:"paper-menu-shrink-height-animation",timing:{duration:200,easing:"ease-in"}}]}},allowOutsideScroll:{type:Boolean,value:!1},restoreFocusOnClose:{type:Boolean,value:!0},_dropdownContent:{type:Object}},hostAttributes:{role:"group","aria-haspopup":"true"},listeners:{"iron-activate":"_onIronActivate","iron-select":"_onIronSelect"},
get contentElement(){return Polymer.dom(this.$.content).getDistributedNodes()[0]},toggle:function(){this.opened?this.close():this.open()},open:function(){this.disabled||this.$.dropdown.open()},close:function(){this.$.dropdown.close()},_onIronSelect:function(){this.ignoreSelect||this.close()},_onIronActivate:function(){this.closeOnActivate&&this.close()},_openedChanged:function(a,c){a?(this._dropdownContent=this.contentElement,this.fire("paper-dropdown-open")):null!=c&&this.fire("paper-dropdown-close")},
_disabledChanged:function(a){Polymer.IronControlState._disabledChanged.apply(this,arguments);a&&this.opened&&this.close()},__onIronOverlayCanceled:function(a){var b=a.detail;Polymer.dom(b);var d=this.$.trigger;-1<Polymer.dom(b).path.indexOf(d)&&a.preventDefault()}});Object.keys(a).forEach(function(b){Ia[b]=a[b]});Polymer.PaperMenuButton=Ia})();
</script>
</dom-module>







<script>//~~WEBPATH~~/iron-iconset-svg/iron-iconset-svg.html.js
Polymer({is:"iron-iconset-svg",properties:{name:{type:String,observer:"_nameChanged"},size:{type:Number,value:24},rtlMirroring:{type:Boolean,value:!1}},created:function(){this._meta=new Polymer.IronMeta({type:"iconset",key:null,value:null})},attached:function(){this.style.display="none"},getIconNames:function(){this._icons=this._createIconMap();return Object.keys(this._icons).map(function(a){return this.name+":"+a},this)},applyIcon:function(a,b){this.removeIcon(a);if(b=this._cloneIcon(b,this.rtlMirroring&&
this._targetIsRTL(a))){var c=Polymer.dom(a.root||a);c.insertBefore(b,c.childNodes[0]);return a._svgIcon=b}return null},removeIcon:function(a){a._svgIcon&&(Polymer.dom(a.root||a).removeChild(a._svgIcon),a._svgIcon=null)},_targetIsRTL:function(a){null==this.__targetIsRTL&&(a&&a.nodeType!==Node.ELEMENT_NODE&&(a=a.host),this.__targetIsRTL=a&&"rtl"===window.getComputedStyle(a).direction);return this.__targetIsRTL},_nameChanged:function(){this._meta.value=null;this._meta.key=this.name;this._meta.value=
this;this.async(function(){this.fire("iron-iconset-added",this,{node:window})})},_createIconMap:function(){var a=Object.create(null);Polymer.dom(this).querySelectorAll("[id]").forEach(function(b){a[b.id]=b});return a},_cloneIcon:function(a,b){this._icons=this._icons||this._createIconMap();return this._prepareSvgClone(this._icons[a],this.size,b)},_prepareSvgClone:function(a,b,c){if(a){a=a.cloneNode(!0);var d=document.createElementNS("http://www.w3.org/2000/svg","svg");b=a.getAttribute("viewBox")||
"0 0 "+b+" "+b;var e="pointer-events: none; display: block; width: 100%; height: 100%;";c&&a.hasAttribute("mirror-in-rtl")&&(e+="-webkit-transform:scale(-1,1);transform:scale(-1,1);");d.setAttribute("viewBox",b);d.setAttribute("preserveAspectRatio","xMidYMid meet");d.style.cssText=e;d.appendChild(a).removeAttribute("id");return d}return null}});
</script>


<iron-iconset-svg name="paper-dropdown-menu" size="24" style="display: none;">
<svg><defs>
<g id="arrow-drop-down"><path d="M7 10l5 5 5-5z"></path></g>
</defs></svg>
</iron-iconset-svg>



<dom-module id="paper-dropdown-menu-shared-styles">
  <template></template>
</dom-module>




<dom-module id="paper-dropdown-menu">
  <template></template>

  <script>//~~WEBPATH~~/paper-dropdown-menu/paper-dropdown-menu.html.js
Polymer({is:"paper-dropdown-menu",behaviors:[Polymer.IronButtonState,Polymer.IronControlState,Polymer.IronFormElementBehavior,Polymer.IronValidatableBehavior],properties:{selectedItemLabel:{type:String,notify:!0,readOnly:!0},selectedItem:{type:Object,notify:!0,readOnly:!0},value:{type:String,notify:!0,readOnly:!0},label:{type:String},placeholder:{type:String},errorMessage:{type:String},opened:{type:Boolean,notify:!0,value:!1,observer:"_openedChanged"},allowOutsideScroll:{type:Boolean,value:!1},noLabelFloat:{type:Boolean,
value:!1,reflectToAttribute:!0},alwaysFloatLabel:{type:Boolean,value:!1},noAnimations:{type:Boolean,value:!1},horizontalAlign:{type:String,value:"right"},verticalAlign:{type:String,value:"top"},dynamicAlign:{type:Boolean}},listeners:{tap:"_onTap"},keyBindings:{"up down":"open",esc:"close"},hostAttributes:{role:"combobox","aria-autocomplete":"none","aria-haspopup":"true"},observers:["_selectedItemChanged(selectedItem)"],attached:function(){var a=this.contentElement;a&&a.selectedItem&&this._setSelectedItem(a.selectedItem)},
get contentElement(){return Polymer.dom(this.$.content).getDistributedNodes()[0]},open:function(){this.$.menuButton.open()},close:function(){this.$.menuButton.close()},_onIronSelect:function(a){this._setSelectedItem(a.detail.item)},_onIronDeselect:function(){this._setSelectedItem(null)},_onTap:function(a){Polymer.Gestures.findOriginalTarget(a)===this&&this.open()},_selectedItemChanged:function(a){a=a?a.label||a.getAttribute("label")||a.textContent.trim():"";this._setValue(a);this._setSelectedItemLabel(a)},
_computeMenuVerticalOffset:function(a){return a?-4:8},_getValidity:function(){return this.disabled||!this.required||this.required&&!!this.value},_openedChanged:function(){var a=this.opened?"true":"false",b=this.contentElement;b&&b.setAttribute("aria-expanded",a)}});
</script>
</dom-module>










<script>//~~WEBPATH~~/paper-item/paper-item-behavior.html.js
Polymer.PaperItemBehaviorImpl={hostAttributes:{role:"option",tabindex:"0"}};Polymer.PaperItemBehavior=[Polymer.IronButtonState,Polymer.IronControlState,Polymer.PaperItemBehaviorImpl];
</script>





<dom-module id="paper-item-shared-styles">
  <template></template>
</dom-module>




<dom-module id="paper-item">
  <template></template>

  <script>//~~WEBPATH~~/paper-item/paper-item.html.js
Polymer({is:"paper-item",behaviors:[Polymer.PaperItemBehavior]});
</script>
</dom-module>








<script>//~~WEBPATH~~/iron-selector/iron-selection.html.js
Polymer.IronSelection=function(a){this.selection=[];this.selectCallback=a};Polymer.IronSelection.prototype={get:function(){return this.multi?this.selection.slice():this.selection[0]},clear:function(a){this.selection.slice().forEach(function(b){(!a||0>a.indexOf(b))&&Ja(this,b,!1)},this)},isSelected:function(a){return 0<=this.selection.indexOf(a)},select:function(a){this.multi?this.toggle(a):this.get()!==a&&(Ja(this,this.get(),!1),Ja(this,a,!0))},toggle:function(a){Ja(this,a,!this.isSelected(a))}};
function Ja(a,b,c){if(null!=b&&c!==a.isSelected(b)){if(c)a.selection.push(b);else{var d=a.selection.indexOf(b);0<=d&&a.selection.splice(d,1)}a.selectCallback&&a.selectCallback(b,c)}};
</script>


<script>//~~WEBPATH~~/iron-selector/iron-selectable.html.js
Polymer.IronSelectableBehavior={properties:{attrForSelected:{type:String,value:null},selected:{type:String,notify:!0},selectedItem:{type:Object,readOnly:!0,notify:!0},activateEvent:{type:String,value:"tap",observer:"_activateEventChanged"},selectable:String,selectedClass:{type:String,value:"iron-selected"},selectedAttribute:{type:String,value:null},fallbackSelection:{type:String,value:null},items:{type:Array,readOnly:!0,notify:!0,value:function(){return[]}},_excludedLocalNames:{type:Object,value:function(){return{template:1}}}},
observers:["_updateAttrForSelected(attrForSelected)","_updateSelected(selected)","_checkFallback(fallbackSelection)"],created:function(){this._bindFilterItem=this._filterItem.bind(this);this._selection=new Polymer.IronSelection(this._applySelection.bind(this))},attached:function(){this._observer=this._observeItems(this);this._updateItems();this._shouldUpdateSelection||this._updateSelected();this._addListener(this.activateEvent)},detached:function(){this._observer&&Polymer.dom(this).unobserveNodes(this._observer);
this._removeListener(this.activateEvent)},indexOf:function(a){return this.items.indexOf(a)},select:function(a){this.selected=a},selectPrevious:function(){var a=this.items.length;a=(Number(this._valueToIndex(this.selected))-1+a)%a;this.selected=this._indexToValue(a)},selectNext:function(){var a=(Number(this._valueToIndex(this.selected))+1)%this.items.length;this.selected=this._indexToValue(a)},selectIndex:function(a){this.select(this._indexToValue(a))},forceSynchronousItemUpdate:function(){this._updateItems()},
get _shouldUpdateSelection(){return null!=this.selected},_checkFallback:function(){this._shouldUpdateSelection&&this._updateSelected()},_addListener:function(a){this.listen(this,a,"_activateHandler")},_removeListener:function(a){this.unlisten(this,a,"_activateHandler")},_activateEventChanged:function(a,b){this._removeListener(b);this._addListener(a)},_updateItems:function(){var a=Polymer.dom(this).queryDistributedElements(this.selectable||"*");a=Array.prototype.filter.call(a,this._bindFilterItem);
this._setItems(a)},_updateAttrForSelected:function(){this._shouldUpdateSelection&&(this.selected=this._indexToValue(this.indexOf(this.selectedItem)))},_updateSelected:function(){this._selectSelected(this.selected)},_selectSelected:function(){this._selection.select(this._valueToItem(this.selected));this.fallbackSelection&&this.items.length&&void 0===this._selection.get()&&(this.selected=this.fallbackSelection)},_filterItem:function(a){return!this._excludedLocalNames[a.localName]},_valueToItem:function(a){return null==
a?null:this.items[this._valueToIndex(a)]},_valueToIndex:function(a){if(this.attrForSelected)for(var b=0,c;c=this.items[b];b++){if(this._valueForItem(c)==a)return b}else return Number(a)},_indexToValue:function(a){if(this.attrForSelected){if(a=this.items[a])return this._valueForItem(a)}else return a},_valueForItem:function(a){var b=a[Polymer.CaseMap.dashToCamelCase(this.attrForSelected)];return void 0!=b?b:a.getAttribute(this.attrForSelected)},_applySelection:function(a,b){this.selectedClass&&this.toggleClass(this.selectedClass,
b,a);this.selectedAttribute&&this.toggleAttribute(this.selectedAttribute,b,a);this._selectionChange();this.fire("iron-"+(b?"select":"deselect"),{item:a})},_selectionChange:function(){this._setSelectedItem(this._selection.get())},_observeItems:function(a){return Polymer.dom(a).observeNodes(function(a){this._updateItems();this._shouldUpdateSelection&&this._updateSelected();this.fire("iron-items-changed",a,{bubbles:!1,cancelable:!1})})},_activateHandler:function(a){a=a.target;for(var b=this.items;a&&
a!=this;){var c=b.indexOf(a);if(0<=c){b=this._indexToValue(c);this._itemActivate(b,a);break}a=a.parentNode}},_itemActivate:function(a,b){this.fire("iron-activate",{selected:a,item:b},{cancelable:!0}).defaultPrevented||this.select(a)}};
</script>


<script>//~~WEBPATH~~/iron-selector/iron-multi-selectable.html.js
Polymer.IronMultiSelectableBehaviorImpl={properties:{multi:{type:Boolean,value:!1,observer:"multiChanged"},selectedValues:{type:Array,notify:!0},selectedItems:{type:Array,readOnly:!0,notify:!0}},observers:["_updateSelected(selectedValues.splices)"],select:function(a){this.multi?this.selectedValues?this._toggleSelected(a):this.selectedValues=[a]:this.selected=a},multiChanged:function(a){this._selection.multi=a},get _shouldUpdateSelection(){return null!=this.selected||null!=this.selectedValues&&this.selectedValues.length},
_updateAttrForSelected:function(){this.multi?this._shouldUpdateSelection&&(this.selectedValues=this.selectedItems.map(function(a){return this._indexToValue(this.indexOf(a))},this).filter(function(a){return null!=a},this)):Polymer.IronSelectableBehavior._updateAttrForSelected.apply(this)},_updateSelected:function(){this.multi?this._selectMulti(this.selectedValues):this._selectSelected(this.selected)},_selectMulti:function(a){if(a){a=this._valuesToItems(a);this._selection.clear(a);for(var b=0;b<a.length;b++)Ja(this._selection,
a[b],!0);this.fallbackSelection&&this.items.length&&!this._selection.get().length&&this._valueToItem(this.fallbackSelection)&&(this.selectedValues=[this.fallbackSelection])}else this._selection.clear()},_selectionChange:function(){var a=this._selection.get();this.multi?this._setSelectedItems(a):(this._setSelectedItems([a]),this._setSelectedItem(a))},_toggleSelected:function(a){var b=this.selectedValues.indexOf(a);0>b?this.push("selectedValues",a):this.splice("selectedValues",b,1)},_valuesToItems:function(a){return null==
a?null:a.map(function(a){return this._valueToItem(a)},this)}};Polymer.IronMultiSelectableBehavior=[Polymer.IronSelectableBehavior,Polymer.IronMultiSelectableBehaviorImpl];
</script>



<script>//~~WEBPATH~~/iron-menu-behavior/iron-menu-behavior.html.js
Polymer.IronMenuBehaviorImpl={properties:{focusedItem:{observer:"_focusedItemChanged",readOnly:!0,type:Object},attrForItemTitle:{type:String},disabled:{type:Boolean,value:!1,observer:"_disabledChanged"}},_SEARCH_RESET_TIMEOUT_MS:1E3,_previousTabIndex:0,hostAttributes:{role:"menu"},observers:["_updateMultiselectable(multi)"],listeners:{focus:"_onFocus",keydown:"_onKeydown","iron-items-changed":"_onIronItemsChanged"},keyBindings:{up:"_onUpKey",down:"_onDownKey",esc:"_onEscKey","shift+tab:keydown":"_onShiftTabDown"},
attached:function(){this._resetTabindices()},select:function(a){this._defaultFocusAsync&&(this.cancelAsync(this._defaultFocusAsync),this._defaultFocusAsync=null);var b=this._valueToItem(a);b&&b.hasAttribute("disabled")||(this._setFocusedItem(b),Polymer.IronMultiSelectableBehaviorImpl.select.apply(this,arguments))},_resetTabindices:function(){var a=this.multi?this.selectedItems&&this.selectedItems[0]:this.selectedItem;this.items.forEach(function(b){b.setAttribute("tabindex",b===a?"0":"-1")},this)},
_updateMultiselectable:function(a){a?this.setAttribute("aria-multiselectable","true"):this.removeAttribute("aria-multiselectable")},_focusWithKeyboardEvent:function(a){this.cancelDebouncer("_clearSearchText");var b=this._searchText||"";b+=(a.key&&1==a.key.length?a.key:String.fromCharCode(a.keyCode)).toLocaleLowerCase();a=b.length;for(var c=0,d;d=this.items[c];c++)if(!d.hasAttribute("disabled")){var e=this.attrForItemTitle||"textContent";e=(d[e]||d.getAttribute(e)||"").trim();if(!(e.length<a)&&e.slice(0,
a).toLocaleLowerCase()==b){this._setFocusedItem(d);break}}this._searchText=b;this.debounce("_clearSearchText",this._clearSearchText,this._SEARCH_RESET_TIMEOUT_MS)},_clearSearchText:function(){this._searchText=""},_focusPrevious:function(){for(var a=this.items.length,b=Number(this.indexOf(this.focusedItem)),c=1;c<a+1;c++){var d=this.items[(b-c+a)%a];if(!d.hasAttribute("disabled")){var e=Polymer.dom(d).getOwnerRoot()||document;this._setFocusedItem(d);if(Polymer.dom(e).activeElement==d)break}}},_focusNext:function(){for(var a=
this.items.length,b=Number(this.indexOf(this.focusedItem)),c=1;c<a+1;c++){var d=this.items[(b+c)%a];if(!d.hasAttribute("disabled")){var e=Polymer.dom(d).getOwnerRoot()||document;this._setFocusedItem(d);if(Polymer.dom(e).activeElement==d)break}}},_applySelection:function(a,b){b?a.setAttribute("aria-selected","true"):a.removeAttribute("aria-selected");Polymer.IronSelectableBehavior._applySelection.apply(this,arguments)},_focusedItemChanged:function(a,b){b&&b.setAttribute("tabindex","-1");!a||a.hasAttribute("disabled")||
this.disabled||(a.setAttribute("tabindex","0"),a.focus())},_onIronItemsChanged:function(a){a.detail.addedNodes.length&&this._resetTabindices()},_onShiftTabDown:function(){var a=this.getAttribute("tabindex");Polymer.IronMenuBehaviorImpl._shiftTabPressed=!0;this._setFocusedItem(null);this.setAttribute("tabindex","-1");this.async(function(){this.setAttribute("tabindex",a);Polymer.IronMenuBehaviorImpl._shiftTabPressed=!1},1)},_onFocus:function(a){!Polymer.IronMenuBehaviorImpl._shiftTabPressed&&(a=Polymer.dom(a).rootTarget,
a===this||"undefined"===typeof a.tabIndex||this.isLightDescendant(a))&&(this._defaultFocusAsync=this.async(function(){var a=this.multi?this.selectedItems&&this.selectedItems[0]:this.selectedItem;this._setFocusedItem(null);a?this._setFocusedItem(a):this.items[0]&&this._focusNext()}))},_onUpKey:function(a){this._focusPrevious();a.detail.keyboardEvent.preventDefault()},_onDownKey:function(a){this._focusNext();a.detail.keyboardEvent.preventDefault()},_onEscKey:function(){var a=this.focusedItem;a&&a.blur()},
_onKeydown:function(a){this.keyboardEventMatchesKeys(a,"up down esc")||this._focusWithKeyboardEvent(a);a.stopPropagation()},_activateHandler:function(a){Polymer.IronSelectableBehavior._activateHandler.call(this,a);a.stopPropagation()},_disabledChanged:function(a){a?(this._previousTabIndex=this.hasAttribute("tabindex")?this.tabIndex:0,this.removeAttribute("tabindex")):this.hasAttribute("tabindex")||this.setAttribute("tabindex",this._previousTabIndex)}};
Polymer.IronMenuBehaviorImpl._shiftTabPressed=!1;Polymer.IronMenuBehavior=[Polymer.IronMultiSelectableBehavior,Polymer.IronA11yKeysBehavior,Polymer.IronMenuBehaviorImpl];
</script>



<dom-module id="paper-menu-shared-styles">
  <template></template>
</dom-module>




<dom-module id="paper-menu">
  <template></template>

  <script>//~~WEBPATH~~/paper-menu/paper-menu.html.js
Polymer({is:"paper-menu",behaviors:[Polymer.IronMenuBehavior]});
</script>
</dom-module>







<script>//~~WEBPATH~~/vz-sorting/sorting.js
function Oa(a,b){for(var c=0,d=0;;){if(c===a.length)return d===b.length?0:-1;if(d===b.length)return 1;if(Pa(a[c])&&Pa(b[d])){var e=c,f=d;c=Qa(a,c+1);d=Qa(b,d+1);e=parseFloat(a.slice(e,c));f=parseFloat(b.slice(f,d));if(e<f)return-1;if(e>f)return 1}else{if(Ra(a[c])){if(!Ra(b[d]))return-1}else{if(Ra(b[d]))return 1;if(a[c]<b[d])return-1;if(a[c]>b[d])return 1}c++;d++}}}
function Qa(a,b){var c,d=c||(c={});d[d.NATURAL=0]="NATURAL";d[d.REAL=1]="REAL";d[d.EXPONENT_SIGN=2]="EXPONENT_SIGN";d[d.EXPONENT=3]="EXPONENT";for(d=c.NATURAL;b<a.length;b++)if(d===c.NATURAL)if("."===a[b])d=c.REAL;else if("e"===a[b]||"E"===a[b])d=c.EXPONENT_SIGN;else{if(!Pa(a[b]))break}else if(d===c.REAL)if("e"===a[b]||"E"===a[b])d=c.EXPONENT_SIGN;else{if(!Pa(a[b]))break}else if(d===c.EXPONENT_SIGN)if(Pa(a[b])||"+"===a[b]||"-"===a[b])d=c.EXPONENT;else break;else if(d===c.EXPONENT&&!Pa(a[b]))break;
return b}function Pa(a){return"0"<=a&&"9">=a}function Ra(a){return"/"===a||"_"===a||Pa(a)};
</script>


<script>//~~WEBPATH~~/tf-backend/requestManager.js
var Sa=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var b in c)c.hasOwnProperty(b)&&(a[b]=c[b])};return function(b,c){function d(){this.constructor=b}a(b,c);b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),Ta=function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;b.name="RequestCancellationError";return b}Sa(b,a);return b}(Error),Wa=function(a){function b(b,d){var c=
a.call(this)||this;c.message="RequestNetworkError: "+b.status+" at "+d;c.name="RequestNetworkError";c.req=b;c.url=d;return c}Sa(b,a);return b}(Error),Xa=function(){function a(a,c){void 0===a&&(a=10);void 0===c&&(c=3);this._queue=[];this._nActiveRequests=0;this._nSimultaneousRequests=a;this._maxRetries=c}a.prototype.request=function(a,c){var b=this;return(new Promise(function(a,c){b._queue.push({resolve:a,reject:c});b.launchRequests()})).then(function(){return b.promiseWithRetries(a,b._maxRetries,
c)}).then(function(a){b._nActiveRequests--;b.launchRequests();return a},function(a){"RequestNetworkError"===a.name&&(b._nActiveRequests--,b.launchRequests());return Promise.reject(a)})};a.prototype.clearQueue=function(){for(;0<this._queue.length;)this._queue.pop().reject(new Ta("Request cancelled by clearQueue"))};a.prototype.activeRequests=function(){return this._nActiveRequests};a.prototype.outstandingRequests=function(){return this._nActiveRequests+this._queue.length};a.prototype.launchRequests=
function(){for(;this._nActiveRequests<this._nSimultaneousRequests&&0<this._queue.length;)this._nActiveRequests++,this._queue.pop().resolve()};a.prototype.promiseWithRetries=function(a,c,d){var b=this;return this._promiseFromUrl(a,d).then(function(a){return a},function(e){return 0<c?b.promiseWithRetries(a,c-1,d):Promise.reject(e)})};a.prototype._promiseFromUrl=function(a,c){return new Promise(function(b,e){var d=new XMLHttpRequest;d.open(c?"POST":"GET",a);if(c){var g=new FormData;for(var k in c)k&&
g.append(k,c[k])}d.onload=function(){200===d.status?b(JSON.parse(d.responseText)):e(new Wa(d,a))};d.onerror=function(){e(new Wa(d,a))};d.send(g)})};return a}();
</script>
<script>//~~WEBPATH~~/tf-backend/urlPathHelpers.js
function Ya(a,b){var c=Object.keys(b).sort().filter(function(a){return void 0!==b[a]});if(!c.length)return a;var d=-1!==a.indexOf("?")?"\x26":"?";c=[].concat.apply([],c.map(function(a){var c=b[a];return(Array.isArray(c)?c:[c]).map(function(b){return a+"\x3d"+encodeURIComponent(b).replace(/\(/g,"%28").replace(/\)/g,"%29")})})).join("\x26");return a+d+c};
</script>
<script>//~~WEBPATH~~/tf-backend/router.js
var I=function(a,b){void 0===a&&(a="data");void 0===b&&(b=!1);"/"===a[a.length-1]&&(a=a.slice(0,a.length-1));return{logdir:function(){return a+"/logdir"},runs:function(){return a+"/runs"+(b?".json":"")},pluginsListing:function(){return a+"/plugins_listing"},isDemoMode:function(){return b},pluginRoute:function(b,d){return a+"/plugin/"+b+d}}}();
</script>
<script>//~~WEBPATH~~/tf-backend/runsStore.js
var ab=[],bb=new Set,cb=new Xa(1);function db(){var a=I.runs();return cb.request(a).then(function(a){_.isEqual(ab,a)||(ab=a,bb.forEach(function(a){a()}))})};
</script>
<script>//~~WEBPATH~~/tf-backend/backend.js
function eb(a){return _.union.apply(null,_.values(a)).sort(Oa)};
</script>
<script>//~~WEBPATH~~/tf-backend/canceller.js
var fb=function(){function a(){this.cancellationCount=0}a.prototype.cancellable=function(a){var b=this,d=this.cancellationCount;return function(c){return a({value:c,cancelled:b.cancellationCount!==d})}};a.prototype.cancelAll=function(){this.cancellationCount++};return a}();
</script>




<script>//~~WEBPATH~~/tf-categorization-utils/categorizationUtils.js
var gb,hb=gb||(gb={});hb[hb.SEARCH_RESULTS=0]="SEARCH_RESULTS";hb[hb.PREFIX_GROUP=1]="PREFIX_GROUP";function ib(a,b){try{var c=new RegExp(b)}catch(d){c=null}return{name:b,metadata:{type:gb.SEARCH_RESULTS,validRegex:!!c,universalRegex:".*"===b},items:c?a.filter(function(a){return a.match(c)}):[]}}
function lb(a){var b;void 0===b&&(b="/");var c=[],d={};a.forEach(function(a){var e=a.indexOf(b);e=0<=e?a.slice(0,e):a;if(!d[e]){var g={name:e,metadata:{type:gb.PREFIX_GROUP},items:[]};d[e]=g;c.push(g)}d[e].items.push(a)});return c}function mb(a,b){void 0===b&&(b="");b=[ib(a,b)];a=lb(a);return[].concat(b,a)}
function nb(a,b,c){var d=eb(a);c=mb(d,c);var e={};d.forEach(function(a){e[a]=[]});b.forEach(function(b){(a[b]||[]).forEach(function(a){e[a].push(b)})});return c.map(function(a){return{name:a.name,metadata:a.metadata,items:a.items.map(function(a){return{tag:a,runs:e[a].slice()}})}})}function rb(a,b){var c=Oa(a.tag,b.tag);return 0!=c?c:Oa(a.run,b.run)}
function sb(a,b,c){return nb(a,b,c).map(function(a){var b=_.flatten(a.items.map(function(a){var b=a.tag;return a.runs.map(function(a){return{tag:b,run:a}})}));b.sort(rb);return{name:a.name,metadata:a.metadata,items:b}})}var tb=gb;
</script>






<dom-module id="iron-collapse">

  <template></template>

</dom-module>

<script>//~~WEBPATH~~/iron-collapse/iron-collapse.html.js
Polymer({is:"iron-collapse",behaviors:[Polymer.IronResizableBehavior],properties:{horizontal:{type:Boolean,value:!1,observer:"_horizontalChanged"},opened:{type:Boolean,value:!1,notify:!0,observer:"_openedChanged"},transitioning:{type:Boolean,notify:!0,readOnly:!0},noAnimation:{type:Boolean},_desiredSize:{type:String,value:""}},get dimension(){return this.horizontal?"width":"height"},get _dimensionMax(){return this.horizontal?"maxWidth":"maxHeight"},get _dimensionMaxCss(){return this.horizontal?"max-width":
"max-height"},hostAttributes:{role:"group","aria-hidden":"true","aria-expanded":"false"},listeners:{transitionend:"_onTransitionEnd"},toggle:function(){this.opened=!this.opened},show:function(){this.opened=!0},hide:function(){this.opened=!1},updateSize:function(a,b){a="auto"===a?"":a;b=b&&!this.noAnimation&&this.isAttached&&this._desiredSize!==a;this._desiredSize=a;this._updateTransition(!1);b&&(b=this._calcSize(),""===a&&(this.style[this._dimensionMax]="",a=this._calcSize()),this.style[this._dimensionMax]=
b,this.scrollTop=this.scrollTop,this._updateTransition(!0),b=a!==b);this.style[this._dimensionMax]=a;b||this._transitionEnd()},enableTransition:function(a){Polymer.Base._warn("`enableTransition()` is deprecated, use `noAnimation` instead.");this.noAnimation=!a},_updateTransition:function(a){this.style.transitionDuration=a&&!this.noAnimation?"":"0s"},_horizontalChanged:function(){this.style.transitionProperty=this._dimensionMaxCss;this.style["maxWidth"===this._dimensionMax?"maxHeight":"maxWidth"]=
"";this.updateSize(this.opened?"auto":"0px",!1)},_openedChanged:function(){this.setAttribute("aria-expanded",this.opened);this.setAttribute("aria-hidden",!this.opened);this._setTransitioning(!0);this.toggleClass("iron-collapse-closed",!1);this.toggleClass("iron-collapse-opened",!1);this.updateSize(this.opened?"auto":"0px",!0);this.opened&&this.focus()},_transitionEnd:function(){this.style[this._dimensionMax]=this._desiredSize;this.toggleClass("iron-collapse-closed",!this.opened);this.toggleClass("iron-collapse-opened",
this.opened);this._updateTransition(!1);this.notifyResize();this._setTransitioning(!1)},_onTransitionEnd:function(a){Polymer.dom(a).rootTarget===this&&this._transitionEnd()},_calcSize:function(){return this.getBoundingClientRect()[this.dimension]+"px"}});
</script>



<dom-module id="tf-category-pane">
  <template></template>
  <script>//~~WEBPATH~~/tf-categorization-utils/tf-category-pane.html.js
Polymer({is:"tf-category-pane",properties:{category:Object,restamp:{type:Boolean,value:!0},_count:{type:Number,computed:"_computeCount(category.items)"},_opened:{type:Boolean,value:!1},_rendered:{type:Boolean,computed:"_computeRendered(category)"},_isSearchResults:{type:Boolean,computed:"_computeIsSearchResults(category.metadata.type)"},_isInvalidSearchResults:{type:Boolean,computed:"_computeIsInvalidSearchResults(category.metadata)"},_isUniversalSearchQuery:{type:Boolean,computed:"_computeIsUniversalSearchQuery(category.metadata)"}},
observers:["_nameChanged(category.name)"],_computeCount:function(){return this.category.items.length},_nameChanged:function(a){this._previousName!==(this._previousName=a)&&(this._opened=this.category.metadata.type===tb.SEARCH_RESULTS?!0:!1)},_togglePane:function(){this._opened=!this._opened},_computeRendered:function(a){return!(a.metadata.type===tb.SEARCH_RESULTS&&""===a.name)},_computeIsSearchResults:function(a){return a===tb.SEARCH_RESULTS},_computeIsInvalidSearchResults:function(a){return a.type===
tb.SEARCH_RESULTS&&!a.validRegex},_computeIsUniversalSearchQuery:function(a){return a.type===tb.SEARCH_RESULTS&&a.universalRegex}});
</script>
</dom-module>


<script>//~~WEBPATH~~/iron-flex-layout/classes/iron-shadow-flex-layout.html.js
console.warn("This file is deprecated. Please use `iron-flex-layout/iron-flex-layout-classes.html`, and one of the specific dom-modules instead");
</script>

<style>

  /*******************************
            Flex Layout
  *******************************/

  html /deep/ .layout.horizontal,
  html /deep/ .layout.horizontal-reverse,
  html /deep/ .layout.vertical,
  html /deep/ .layout.vertical-reverse {
    display: -ms-flexbox;
    display: -webkit-flex;
    display: flex;
  }

  html /deep/ .layout.inline {
    display: -ms-inline-flexbox;
    display: -webkit-inline-flex;
    display: inline-flex;
  }

  html /deep/ .layout.horizontal {
    -ms-flex-direction: row;
    -webkit-flex-direction: row;
    flex-direction: row;
  }

  html /deep/ .layout.horizontal-reverse {
    -ms-flex-direction: row-reverse;
    -webkit-flex-direction: row-reverse;
    flex-direction: row-reverse;
  }

  html /deep/ .layout.vertical {
    -ms-flex-direction: column;
    -webkit-flex-direction: column;
    flex-direction: column;
  }

  html /deep/ .layout.vertical-reverse {
    -ms-flex-direction: column-reverse;
    -webkit-flex-direction: column-reverse;
    flex-direction: column-reverse;
  }

  html /deep/ .layout.wrap {
    -ms-flex-wrap: wrap;
    -webkit-flex-wrap: wrap;
    flex-wrap: wrap;
  }

  html /deep/ .layout.wrap-reverse {
    -ms-flex-wrap: wrap-reverse;
    -webkit-flex-wrap: wrap-reverse;
    flex-wrap: wrap-reverse;
  }

  html /deep/ .flex-auto {
    -ms-flex: 1 1 auto;
    -webkit-flex: 1 1 auto;
    flex: 1 1 auto;
  }

  html /deep/ .flex-none {
    -ms-flex: none;
    -webkit-flex: none;
    flex: none;
  }

  html /deep/ .flex,
  html /deep/ .flex-1 {
    -ms-flex: 1;
    -webkit-flex: 1;
    flex: 1;
  }

  html /deep/ .flex-2 {
    -ms-flex: 2;
    -webkit-flex: 2;
    flex: 2;
  }

  html /deep/ .flex-3 {
    -ms-flex: 3;
    -webkit-flex: 3;
    flex: 3;
  }

  html /deep/ .flex-4 {
    -ms-flex: 4;
    -webkit-flex: 4;
    flex: 4;
  }

  html /deep/ .flex-5 {
    -ms-flex: 5;
    -webkit-flex: 5;
    flex: 5;
  }

  html /deep/ .flex-6 {
    -ms-flex: 6;
    -webkit-flex: 6;
    flex: 6;
  }

  html /deep/ .flex-7 {
    -ms-flex: 7;
    -webkit-flex: 7;
    flex: 7;
  }

  html /deep/ .flex-8 {
    -ms-flex: 8;
    -webkit-flex: 8;
    flex: 8;
  }

  html /deep/ .flex-9 {
    -ms-flex: 9;
    -webkit-flex: 9;
    flex: 9;
  }

  html /deep/ .flex-10 {
    -ms-flex: 10;
    -webkit-flex: 10;
    flex: 10;
  }

  html /deep/ .flex-11 {
    -ms-flex: 11;
    -webkit-flex: 11;
    flex: 11;
  }

  html /deep/ .flex-12 {
    -ms-flex: 12;
    -webkit-flex: 12;
    flex: 12;
  }

  /* alignment in cross axis */

  html /deep/ .layout.start {
    -ms-flex-align: start;
    -webkit-align-items: flex-start;
    align-items: flex-start;
  }

  html /deep/ .layout.center,
  html /deep/ .layout.center-center {
    -ms-flex-align: center;
    -webkit-align-items: center;
    align-items: center;
  }

  html /deep/ .layout.end {
    -ms-flex-align: end;
    -webkit-align-items: flex-end;
    align-items: flex-end;
  }

  /* alignment in main axis */

  html /deep/ .layout.start-justified {
    -ms-flex-pack: start;
    -webkit-justify-content: flex-start;
    justify-content: flex-start;
  }

  html /deep/ .layout.center-justified,
  html /deep/ .layout.center-center {
    -ms-flex-pack: center;
    -webkit-justify-content: center;
    justify-content: center;
  }

  html /deep/ .layout.end-justified {
    -ms-flex-pack: end;
    -webkit-justify-content: flex-end;
    justify-content: flex-end;
  }

  html /deep/ .layout.around-justified {
    -ms-flex-pack: around;
    -webkit-justify-content: space-around;
    justify-content: space-around;
  }

  html /deep/ .layout.justified {
    -ms-flex-pack: justify;
    -webkit-justify-content: space-between;
    justify-content: space-between;
  }

  /* self alignment */

  html /deep/ .self-start {
    -ms-align-self: flex-start;
    -webkit-align-self: flex-start;
    align-self: flex-start;
  }

  html /deep/ .self-center {
    -ms-align-self: center;
    -webkit-align-self: center;
    align-self: center;
  }

  html /deep/ .self-end {
    -ms-align-self: flex-end;
    -webkit-align-self: flex-end;
    align-self: flex-end;
  }

  html /deep/ .self-stretch {
    -ms-align-self: stretch;
    -webkit-align-self: stretch;
    align-self: stretch;
  }

  /*******************************
            Other Layout
  *******************************/

  html /deep/ .block {
    display: block;
  }

  /* IE 10 support for HTML5 hidden attr */
  html /deep/ [hidden] {
    display: none !important;
  }

  html /deep/ .invisible {
    visibility: hidden !important;
  }

  html /deep/ .relative {
    position: relative;
  }

  html /deep/ .fit {
    position: absolute;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
  }

  body.fullbleed {
    margin: 0;
    height: 100vh;
  }

  html /deep/ .scroll {
    -webkit-overflow-scrolling: touch;
    overflow: auto;
  }

  .fixed-bottom,
  .fixed-left,
  .fixed-right,
  .fixed-top {
    position: fixed;
  }

  html /deep/ .fixed-top {
    top: 0;
    left: 0;
    right: 0;
  }

  html /deep/ .fixed-right {
    top: 0;
    right: 0;
    bottom: 0;
  }

  html /deep/ .fixed-bottom {
    right: 0;
    bottom: 0;
    left: 0;
  }

  html /deep/ .fixed-left {
    top: 0;
    bottom: 0;
    left: 0;
  }

</style>


<script>//~~WEBPATH~~/iron-flex-layout/classes/iron-flex-layout.html.js
console.warn("This file is deprecated. Please use `iron-flex-layout/iron-flex-layout-classes.html`, and one of the specific dom-modules instead");
</script>

<style>

  /*******************************
            Flex Layout
  *******************************/

  .layout.horizontal,
  .layout.horizontal-reverse,
  .layout.vertical,
  .layout.vertical-reverse {
    display: -ms-flexbox;
    display: -webkit-flex;
    display: flex;
  }

  .layout.inline {
    display: -ms-inline-flexbox;
    display: -webkit-inline-flex;
    display: inline-flex;
  }

  .layout.horizontal {
    -ms-flex-direction: row;
    -webkit-flex-direction: row;
    flex-direction: row;
  }

  .layout.horizontal-reverse {
    -ms-flex-direction: row-reverse;
    -webkit-flex-direction: row-reverse;
    flex-direction: row-reverse;
  }

  .layout.vertical {
    -ms-flex-direction: column;
    -webkit-flex-direction: column;
    flex-direction: column;
  }

  .layout.vertical-reverse {
    -ms-flex-direction: column-reverse;
    -webkit-flex-direction: column-reverse;
    flex-direction: column-reverse;
  }

  .layout.wrap {
    -ms-flex-wrap: wrap;
    -webkit-flex-wrap: wrap;
    flex-wrap: wrap;
  }

  .layout.wrap-reverse {
    -ms-flex-wrap: wrap-reverse;
    -webkit-flex-wrap: wrap-reverse;
    flex-wrap: wrap-reverse;
  }

  .flex-auto {
    -ms-flex: 1 1 auto;
    -webkit-flex: 1 1 auto;
    flex: 1 1 auto;
  }

  .flex-none {
    -ms-flex: none;
    -webkit-flex: none;
    flex: none;
  }

  .flex,
  .flex-1 {
    -ms-flex: 1;
    -webkit-flex: 1;
    flex: 1;
  }

  .flex-2 {
    -ms-flex: 2;
    -webkit-flex: 2;
    flex: 2;
  }

  .flex-3 {
    -ms-flex: 3;
    -webkit-flex: 3;
    flex: 3;
  }

  .flex-4 {
    -ms-flex: 4;
    -webkit-flex: 4;
    flex: 4;
  }

  .flex-5 {
    -ms-flex: 5;
    -webkit-flex: 5;
    flex: 5;
  }

  .flex-6 {
    -ms-flex: 6;
    -webkit-flex: 6;
    flex: 6;
  }

  .flex-7 {
    -ms-flex: 7;
    -webkit-flex: 7;
    flex: 7;
  }

  .flex-8 {
    -ms-flex: 8;
    -webkit-flex: 8;
    flex: 8;
  }

  .flex-9 {
    -ms-flex: 9;
    -webkit-flex: 9;
    flex: 9;
  }

  .flex-10 {
    -ms-flex: 10;
    -webkit-flex: 10;
    flex: 10;
  }

  .flex-11 {
    -ms-flex: 11;
    -webkit-flex: 11;
    flex: 11;
  }

  .flex-12 {
    -ms-flex: 12;
    -webkit-flex: 12;
    flex: 12;
  }

  /* alignment in cross axis */

  .layout.start {
    -ms-flex-align: start;
    -webkit-align-items: flex-start;
    align-items: flex-start;
  }

  .layout.center,
  .layout.center-center {
    -ms-flex-align: center;
    -webkit-align-items: center;
    align-items: center;
  }

  .layout.end {
    -ms-flex-align: end;
    -webkit-align-items: flex-end;
    align-items: flex-end;
  }

  /* alignment in main axis */

  .layout.start-justified {
    -ms-flex-pack: start;
    -webkit-justify-content: flex-start;
    justify-content: flex-start;
  }

  .layout.center-justified,
  .layout.center-center {
    -ms-flex-pack: center;
    -webkit-justify-content: center;
    justify-content: center;
  }

  .layout.end-justified {
    -ms-flex-pack: end;
    -webkit-justify-content: flex-end;
    justify-content: flex-end;
  }

  .layout.around-justified {
    -ms-flex-pack: around;
    -webkit-justify-content: space-around;
    justify-content: space-around;
  }

  .layout.justified {
    -ms-flex-pack: justify;
    -webkit-justify-content: space-between;
    justify-content: space-between;
  }

  /* self alignment */

  .self-start {
    -ms-align-self: flex-start;
    -webkit-align-self: flex-start;
    align-self: flex-start;
  }

  .self-center {
    -ms-align-self: center;
    -webkit-align-self: center;
    align-self: center;
  }

  .self-end {
    -ms-align-self: flex-end;
    -webkit-align-self: flex-end;
    align-self: flex-end;
  }

  .self-stretch {
    -ms-align-self: stretch;
    -webkit-align-self: stretch;
    align-self: stretch;
  }

  /*******************************
            Other Layout
  *******************************/

  .block {
    display: block;
  }

  /* IE 10 support for HTML5 hidden attr */
  [hidden] {
    display: none !important;
  }

  .invisible {
    visibility: hidden !important;
  }

  .relative {
    position: relative;
  }

  .fit {
    position: absolute;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
  }

  body.fullbleed {
    margin: 0;
    height: 100vh;
  }

  .scroll {
    -webkit-overflow-scrolling: touch;
    overflow: auto;
  }

  /* fixed position */

  .fixed-bottom,
  .fixed-left,
  .fixed-right,
  .fixed-top {
    position: fixed;
  }

  .fixed-top {
    top: 0;
    left: 0;
    right: 0;
  }

  .fixed-right {
    top: 0;
    right: 0;
    bottom: 0;
  }

  .fixed-bottom {
    right: 0;
    bottom: 0;
    left: 0;
  }

  .fixed-left {
    top: 0;
    bottom: 0;
    left: 0;
  }

</style>











<style is="custom-style"></style>


<dom-module id="dashboard-style">
  <template></template>
</dom-module>





<dom-module id="scrollbar-style">
  <template></template>
</dom-module>




<dom-module id="tf-dashboard-layout">
  <template></template>
  <script>//~~WEBPATH~~/tf-dashboard-common/tf-dashboard-layout.html.js
Polymer({is:"tf-dashboard-layout"});
</script>
</dom-module>





<dom-module id="tf-option-selector">
  <template></template>
  <script>//~~WEBPATH~~/tf-dashboard-common/tf-option-selector.html.js
Polymer({is:"tf-option-selector",properties:{name:String,selectedId:{type:String,notify:!0,observer:"_selectedIdChanged"}},attached:function(){this.async(function(){this.getEffectiveChildren().forEach(function(a){this.listen(a,"tap","_selectTarget")}.bind(this))})},_selectTarget:function(a){this.selectedId=a.currentTarget.id},_selectedIdChanged:function(){var a=this.queryEffectiveChildren("#"+this.selectedId);a&&(this.getEffectiveChildren().forEach(function(a){a.classList.remove("selected")}),a.classList.add("selected"))}});
</script>
</dom-module>






<script>//~~WEBPATH~~/tf-globals/globals.js
var ub=!1,vb="";
</script>




<script>//~~WEBPATH~~/tf-storage/storage.js
var wb=this&&this.__assign||Object.assign||function(a){for(var b,c=1,d=arguments.length;c<d;c++){b=arguments[c];for(var e in b)Object.prototype.hasOwnProperty.call(b,e)&&(a[e]=b[e])}return a},zb=(xb=yb(function(a){return a},function(a){return a}),xb.get),Ab=xb.set,Bb=xb.getInitializer,Cb=xb.getObserver;Db=yb(function(a){return"true"===a?!0:"false"===a?!1:void 0},function(a){return a.toString()});
var Gb=Db.getInitializer,Hb=Db.getObserver,Nb=(Mb=yb(function(a){return+a},function(a){return a.toString()}),Mb.get),Ob=Mb.set,Pb=Mb.getInitializer,Qb=Mb.getObserver;Rb=yb(function(a){return JSON.parse(atob(a))},function(a){return btoa(JSON.stringify(a))});var Sb=Rb.getInitializer,Tb=Rb.getObserver;
function yb(a,b){function c(b,c){void 0===c&&(c=!1);b=c?window.localStorage.getItem(b):Ub()[b];return void 0==b?void 0:a(b)}function d(a,c,d){void 0===d&&(d=!1);c=b(c);d?window.localStorage.setItem(a,c):(d=Ub(),d[a]=c,a=Vb(d),ub?window.location.hash=a:vb=a)}return{get:c,set:d,getInitializer:function(a,b){var d=wb({defaultValue:b.defaultValue,polymerProperty:a,useLocalStorage:!1},b);return function(){function b(){var a=c(f,!1),b=e[d.polymerProperty];void 0===a?(d.useLocalStorage?(a=c(f,!0),a=void 0===
a?d.defaultValue:a):a=d.defaultValue,_.isEqual(b,a)||(e[d.polymerProperty]=_.cloneDeep(a))):_.isEqual(a,b)||(e[d.polymerProperty]=a)}var e=this,f=Wb(this,a);b();window.addEventListener("hashchange",b)}},getObserver:function(a,b){var e=wb({defaultValue:b.defaultValue,polymerProperty:a,useLocalStorage:!1},b);return function(){var b=Wb(this,a),f=this[e.polymerProperty];e.useLocalStorage&&d(b,f,!0);_.isEqual(f,c(b,!1))||(_.isEqual(f,e.defaultValue)?(f=Ub(),delete f[b],b=Vb(f),ub?window.location.hash=
b:vb=b):d(b,f,!1))}}}}function Wb(a,b){a=a.disambiguator;return(null==a?[b]:[a,b]).join(".")}function Vb(a){var b="";void 0!==a.__tab__&&(b+=a.__tab__);a=_.pairs(a).filter(function(a){return"__tab__"!==a[0]}).map(function(a){return encodeURIComponent(a[0])+"\x3d"+encodeURIComponent(a[1])}).join("\x26");return 0<a.length?b+"\x26"+a:b}
function Ub(){var a={};(ub?window.location.hash.slice(1):vb).split("\x26").forEach(function(b){b=b.split("\x3d");1===b.length?a.__tab__=b[0]:2===b.length&&(a[decodeURIComponent(b[0])]=decodeURIComponent(b[1]))});return a}var xb,Db,Mb,Rb;
</script>


<script>//~~WEBPATH~~/tf-paginated-view/paginatedViewStore.js
var Xb=null,Yb=new Set;function Zb(){null==Xb&&(Xb=Nb("TF.TensorBoard.PaginatedView.limit",!0),null==Xb||!isFinite(Xb)||0>=Xb)&&(Xb=12);return Xb}function $b(a){if(a!==Math.floor(a))throw Error("limit must be an integer, but got: "+a);if(0>=a)throw Error("limit must be positive, but got: "+a);a!==Xb&&(Xb=a,Ob("TF.TensorBoard.PaginatedView.limit",Xb,!0),Yb.forEach(function(a){a()}))};
</script>



<dom-module id="tf-paginated-view">
  <template></template>
  <script>//~~WEBPATH~~/tf-paginated-view/tf-paginated-view.html.js
Polymer({is:"tf-paginated-view",properties:{items:{type:Array,value:function(){return[]}},pages:{type:Array,notify:!0,computed:"_computePages(items, _limit, _activeIndex, _pageCount)"},_limit:{type:Number,value:12},_activeIndex:{type:Number,value:0},_currentPage:{type:Number,computed:"_computeCurrentPage(_limit, _activeIndex)"},_pageCount:{type:Number,computed:"_computePageCount(items, _limit)"},_multiplePagesExist:{type:Boolean,computed:"_computeMultiplePagesExist(_pageCount)"},_hasPreviousPage:{type:Boolean,
computed:"_computeHasPreviousPage(_currentPage)"},_hasNextPage:{type:Boolean,computed:"_computeHasNextPage(_currentPage, _pageCount)"},_inputWidth:{type:String,computed:"_computeInputWidth(_pageCount)"},_pageInputValue:{type:String,computed:"_computePageInputValue(_pageInputFocused, _pageInputRawValue, _currentPage)",observer:"_updatePageInputValue"},_pageInputRawValue:{type:String,value:""},_pageInputFocused:{type:Boolean,value:!1}},observers:["_clampActiveIndex(items)"],attached:function(){var a=
this;this._limitListener=function(){a.set("_limit",Zb())};Yb.add(this._limitListener);this._limitListener()},detached:function(){Yb.delete(this._limitListener)},_computePages:function(a,b,c,d){var e=Math.floor(c/b);return _.range(d).map(function(c){return{active:c===e,items:(a||[]).slice(c*b,(c+1)*b)}})},_computeCurrentPage:function(a,b){return Math.floor(b/a)+1},_computePageCount:function(a,b){return Math.ceil((a||[]).length/b)},_computeMultiplePagesExist:function(a){return 1<a},_computeHasPreviousPage:function(a){return 1<
a},_computeHasNextPage:function(a,b){return a<b},_computeInputWidth:function(a){return"calc("+a.toString().length+"em + 20px)"},_setActiveIndex:function(a){var b=(this.items||[]).length-1;a>b&&(a=b);0>a&&(a=0);this.set("_activeIndex",a)},_clampActiveIndex:function(){this._setActiveIndex(this._activeIndex)},_performPreviousPage:function(){this._setActiveIndex(this._activeIndex-this._limit)},_performNextPage:function(){this._setActiveIndex(this._activeIndex+this._limit)},_performNextPageAndJumpToTop:function(){var a=
this.$$("#top-of-container");0>a.getBoundingClientRect().top&&a.scrollIntoView();this._performNextPage()},_computePageInputValue:function(a,b,c){return a?b:c.toString()},_handlePageInputEvent:function(a){this.set("_pageInputRawValue",a.target.value);a=a.target.valueAsNumber;isNaN(a)||this._setActiveIndex(this._limit*(Math.max(1,Math.min(a,this._pageCount))-1))},_handlePageChangeEvent:function(){this.set("_pageInputRawValue",this._currentPage.toString())},_handlePageFocusEvent:function(){this.set("_pageInputRawValue",
this._pageInputValue);this.set("_pageInputFocused",!0)},_handlePageBlurEvent:function(){this.set("_pageInputFocused",!1)},_updatePageInputValue:function(a){var b=this.$$("#page-input input");b&&(b.value=a)}});
</script>
</dom-module>







<script>//~~WEBPATH~~/paper-dialog-behavior/paper-dialog-behavior.html.js
Polymer.PaperDialogBehaviorImpl={hostAttributes:{role:"dialog",tabindex:"-1"},properties:{modal:{type:Boolean,value:!1}},observers:["_modalChanged(modal, _readied)"],listeners:{tap:"_onDialogClick"},ready:function(){this.__prevNoCancelOnOutsideClick=this.noCancelOnOutsideClick;this.__prevNoCancelOnEscKey=this.noCancelOnEscKey;this.__prevWithBackdrop=this.withBackdrop},_modalChanged:function(a,b){b&&(a?(this.__prevNoCancelOnOutsideClick=this.noCancelOnOutsideClick,this.__prevNoCancelOnEscKey=this.noCancelOnEscKey,
this.__prevWithBackdrop=this.withBackdrop,this.withBackdrop=this.noCancelOnEscKey=this.noCancelOnOutsideClick=!0):(this.noCancelOnOutsideClick=this.noCancelOnOutsideClick&&this.__prevNoCancelOnOutsideClick,this.noCancelOnEscKey=this.noCancelOnEscKey&&this.__prevNoCancelOnEscKey,this.withBackdrop=this.withBackdrop&&this.__prevWithBackdrop))},_updateClosingReasonConfirmed:function(a){this.closingReason=this.closingReason||{};this.closingReason.confirmed=a},_onDialogClick:function(a){for(var b=Polymer.dom(a).path,
c=0;c<b.indexOf(this);c++){var d=b[c];if(d.hasAttribute&&(d.hasAttribute("dialog-dismiss")||d.hasAttribute("dialog-confirm"))){this._updateClosingReasonConfirmed(d.hasAttribute("dialog-confirm"));this.close();a.stopPropagation();break}}}};Polymer.PaperDialogBehavior=[Polymer.IronOverlayBehavior,Polymer.PaperDialogBehaviorImpl];
</script>









<dom-module id="paper-dialog-shared-styles">
  <template></template>
</dom-module>



<dom-module id="paper-dialog">
  <template></template>
</dom-module>

<script>//~~WEBPATH~~/paper-dialog/paper-dialog.html.js
Polymer({is:"paper-dialog",behaviors:[Polymer.PaperDialogBehavior,Polymer.NeonAnimationRunnerBehavior],listeners:{"neon-animation-finish":"_onNeonAnimationFinish"},_renderOpened:function(){this.cancelAnimation();this.playAnimation("entry")},_renderClosed:function(){this.cancelAnimation();this.playAnimation("exit")},_onNeonAnimationFinish:function(){this.opened?this._finishRenderOpened():this._finishRenderClosed()}});
</script>







<dom-module id="tf-color-scale">
  <script>//~~WEBPATH~~/tf-color-scale/palettes.js
var ac="#ff7043 #0077bb #cc3311 #33bbee #ee3377 #009988 #bbbbbb".split(" ");
</script>
  <script>//~~WEBPATH~~/tf-color-scale/colorScale.js
var bc=new (function(){function a(a){void 0===a&&(a=ac);this.palette=a;this.identifiers=d3.map()}a.prototype.domain=function(a){var b=this;this.identifiers=d3.map();a.forEach(function(a,c){b.identifiers.set(a,b.palette[c%b.palette.length])});return this};a.prototype.scale=function(a){if(!this.identifiers.has(a))throw Error("String was not in the domain.");return this.identifiers.get(a)};return a}()),cc=bc.scale.bind(bc);function dc(){bc.domain(ab.slice())}bb.add(dc);dc();
</script>
</dom-module>




<iron-iconset-svg name="icons" size="24" style="display: none;">
<svg><defs>
<g id="3d-rotation"><path d="M7.52 21.48C4.25 19.94 1.91 16.76 1.55 13H.05C.56 19.16 5.71 24 12 24l.66-.03-3.81-3.81-1.33 1.32zm.89-6.52c-.19 0-.37-.03-.52-.08-.16-.06-.29-.13-.4-.24-.11-.1-.2-.22-.26-.37-.06-.14-.09-.3-.09-.47h-1.3c0 .36.07.68.21.95.14.27.33.5.56.69.24.18.51.32.82.41.3.1.62.15.96.15.37 0 .72-.05 1.03-.15.32-.1.6-.25.83-.44s.42-.43.55-.72c.13-.29.2-.61.2-.97 0-.19-.02-.38-.07-.56-.05-.18-.12-.35-.23-.51-.1-.16-.24-.3-.4-.43-.17-.13-.37-.23-.61-.31.2-.09.37-.2.52-.33.15-.13.27-.27.37-.42.1-.15.17-.3.22-.46.05-.16.07-.32.07-.48 0-.36-.06-.68-.18-.96-.12-.28-.29-.51-.51-.69-.2-.19-.47-.33-.77-.43C9.1 8.05 8.76 8 8.39 8c-.36 0-.69.05-1 .16-.3.11-.57.26-.79.45-.21.19-.38.41-.51.67-.12.26-.18.54-.18.85h1.3c0-.17.03-.32.09-.45s.14-.25.25-.34c.11-.09.23-.17.38-.22.15-.05.3-.08.48-.08.4 0 .7.1.89.31.19.2.29.49.29.86 0 .18-.03.34-.08.49-.05.15-.14.27-.25.37-.11.1-.25.18-.41.24-.16.06-.36.09-.58.09H7.5v1.03h.77c.22 0 .42.02.6.07s.33.13.45.23c.12.11.22.24.29.4.07.16.1.35.1.57 0 .41-.12.72-.35.93-.23.23-.55.33-.95.33zm8.55-5.92c-.32-.33-.7-.59-1.14-.77-.43-.18-.92-.27-1.46-.27H12v8h2.3c.55 0 1.06-.09 1.51-.27.45-.18.84-.43 1.16-.76.32-.33.57-.73.74-1.19.17-.47.26-.99.26-1.57v-.4c0-.58-.09-1.1-.26-1.57-.18-.47-.43-.87-.75-1.2zm-.39 3.16c0 .42-.05.79-.14 1.13-.1.33-.24.62-.43.85-.19.23-.43.41-.71.53-.29.12-.62.18-.99.18h-.91V9.12h.97c.72 0 1.27.23 1.64.69.38.46.57 1.12.57 1.99v.4zM12 0l-.66.03 3.81 3.81 1.33-1.33c3.27 1.55 5.61 4.72 5.96 8.48h1.5C23.44 4.84 18.29 0 12 0z"></path></g>
<g id="accessibility"><path d="M12 2c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2zm9 7h-6v13h-2v-6h-2v6H9V9H3V7h18v2z"></path></g>
<g id="accessible"><circle cx="12" cy="4" r="2"></circle><path d="M19 13v-2c-1.54.02-3.09-.75-4.07-1.83l-1.29-1.43c-.17-.19-.38-.34-.61-.45-.01 0-.01-.01-.02-.01H13c-.35-.2-.75-.3-1.19-.26C10.76 7.11 10 8.04 10 9.09V15c0 1.1.9 2 2 2h5v5h2v-5.5c0-1.1-.9-2-2-2h-3v-3.45c1.29 1.07 3.25 1.94 5 1.95zm-6.17 5c-.41 1.16-1.52 2-2.83 2-1.66 0-3-1.34-3-3 0-1.31.84-2.41 2-2.83V12.1c-2.28.46-4 2.48-4 4.9 0 2.76 2.24 5 5 5 2.42 0 4.44-1.72 4.9-4h-2.07z"></path></g>
<g id="account-balance"><path d="M4 10v7h3v-7H4zm6 0v7h3v-7h-3zM2 22h19v-3H2v3zm14-12v7h3v-7h-3zm-4.5-9L2 6v2h19V6l-9.5-5z"></path></g>
<g id="account-balance-wallet"><path d="M21 18v1c0 1.1-.9 2-2 2H5c-1.11 0-2-.9-2-2V5c0-1.1.89-2 2-2h14c1.1 0 2 .9 2 2v1h-9c-1.11 0-2 .9-2 2v8c0 1.1.89 2 2 2h9zm-9-2h10V8H12v8zm4-2.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5z"></path></g>
<g id="account-box"><path d="M3 5v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2H5c-1.11 0-2 .9-2 2zm12 4c0 1.66-1.34 3-3 3s-3-1.34-3-3 1.34-3 3-3 3 1.34 3 3zm-9 8c0-2 4-3.1 6-3.1s6 1.1 6 3.1v1H6v-1z"></path></g>
<g id="account-circle"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 3c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm0 14.2c-2.5 0-4.71-1.28-6-3.22.03-1.99 4-3.08 6-3.08 1.99 0 5.97 1.09 6 3.08-1.29 1.94-3.5 3.22-6 3.22z"></path></g>
<g id="add"><path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"></path></g>
<g id="add-alert"><path d="M10.01 21.01c0 1.1.89 1.99 1.99 1.99s1.99-.89 1.99-1.99h-3.98zm8.87-4.19V11c0-3.25-2.25-5.97-5.29-6.69v-.72C13.59 2.71 12.88 2 12 2s-1.59.71-1.59 1.59v.72C7.37 5.03 5.12 7.75 5.12 11v5.82L3 18.94V20h18v-1.06l-2.12-2.12zM16 13.01h-3v3h-2v-3H8V11h3V8h2v3h3v2.01z"></path></g>
<g id="add-box"><path d="M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10h-4v4h-2v-4H7v-2h4V7h2v4h4v2z"></path></g>
<g id="add-circle"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm5 11h-4v4h-2v-4H7v-2h4V7h2v4h4v2z"></path></g>
<g id="add-circle-outline"><path d="M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"></path></g>
<g id="add-shopping-cart"><path d="M11 9h2V6h3V4h-3V1h-2v3H8v2h3v3zm-4 9c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zm10 0c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2zm-9.83-3.25l.03-.12.9-1.63h7.45c.75 0 1.41-.41 1.75-1.03l3.86-7.01L19.42 4h-.01l-1.1 2-2.76 5H8.53l-.13-.27L6.16 6l-.95-2-.94-2H1v2h2l3.6 7.59-1.35 2.45c-.16.28-.25.61-.25.96 0 1.1.9 2 2 2h12v-2H7.42c-.13 0-.25-.11-.25-.25z"></path></g>
<g id="alarm"><path d="M22 5.72l-4.6-3.86-1.29 1.53 4.6 3.86L22 5.72zM7.88 3.39L6.6 1.86 2 5.71l1.29 1.53 4.59-3.85zM12.5 8H11v6l4.75 2.85.75-1.23-4-2.37V8zM12 4c-4.97 0-9 4.03-9 9s4.02 9 9 9c4.97 0 9-4.03 9-9s-4.03-9-9-9zm0 16c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7z"></path></g>
<g id="alarm-add"><path d="M7.88 3.39L6.6 1.86 2 5.71l1.29 1.53 4.59-3.85zM22 5.72l-4.6-3.86-1.29 1.53 4.6 3.86L22 5.72zM12 4c-4.97 0-9 4.03-9 9s4.02 9 9 9c4.97 0 9-4.03 9-9s-4.03-9-9-9zm0 16c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7zm1-11h-2v3H8v2h3v3h2v-3h3v-2h-3V9z"></path></g>
<g id="alarm-off"><path d="M12 6c3.87 0 7 3.13 7 7 0 .84-.16 1.65-.43 2.4l1.52 1.52c.58-1.19.91-2.51.91-3.92 0-4.97-4.03-9-9-9-1.41 0-2.73.33-3.92.91L9.6 6.43C10.35 6.16 11.16 6 12 6zm10-.28l-4.6-3.86-1.29 1.53 4.6 3.86L22 5.72zM2.92 2.29L1.65 3.57 2.98 4.9l-1.11.93 1.42 1.42 1.11-.94.8.8C3.83 8.69 3 10.75 3 13c0 4.97 4.02 9 9 9 2.25 0 4.31-.83 5.89-2.2l2.2 2.2 1.27-1.27L3.89 3.27l-.97-.98zm13.55 16.1C15.26 19.39 13.7 20 12 20c-3.87 0-7-3.13-7-7 0-1.7.61-3.26 1.61-4.47l9.86 9.86zM8.02 3.28L6.6 1.86l-.86.71 1.42 1.42.86-.71z"></path></g>
<g id="alarm-on"><path d="M22 5.72l-4.6-3.86-1.29 1.53 4.6 3.86L22 5.72zM7.88 3.39L6.6 1.86 2 5.71l1.29 1.53 4.59-3.85zM12 4c-4.97 0-9 4.03-9 9s4.02 9 9 9c4.97 0 9-4.03 9-9s-4.03-9-9-9zm0 16c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7zm-1.46-5.47L8.41 12.4l-1.06 1.06 3.18 3.18 6-6-1.06-1.06-4.93 4.95z"></path></g>
<g id="all-out"><path d="M16.21 4.16l4 4v-4zm4 12l-4 4h4zm-12 4l-4-4v4zm-4-12l4-4h-4zm12.95-.95c-2.73-2.73-7.17-2.73-9.9 0s-2.73 7.17 0 9.9 7.17 2.73 9.9 0 2.73-7.16 0-9.9zm-1.1 8.8c-2.13 2.13-5.57 2.13-7.7 0s-2.13-5.57 0-7.7 5.57-2.13 7.7 0 2.13 5.57 0 7.7z"></path></g>
<g id="android"><path d="M6 18c0 .55.45 1 1 1h1v3.5c0 .83.67 1.5 1.5 1.5s1.5-.67 1.5-1.5V19h2v3.5c0 .83.67 1.5 1.5 1.5s1.5-.67 1.5-1.5V19h1c.55 0 1-.45 1-1V8H6v10zM3.5 8C2.67 8 2 8.67 2 9.5v7c0 .83.67 1.5 1.5 1.5S5 17.33 5 16.5v-7C5 8.67 4.33 8 3.5 8zm17 0c-.83 0-1.5.67-1.5 1.5v7c0 .83.67 1.5 1.5 1.5s1.5-.67 1.5-1.5v-7c0-.83-.67-1.5-1.5-1.5zm-4.97-5.84l1.3-1.3c.2-.2.2-.51 0-.71-.2-.2-.51-.2-.71 0l-1.48 1.48C13.85 1.23 12.95 1 12 1c-.96 0-1.86.23-2.66.63L7.85.15c-.2-.2-.51-.2-.71 0-.2.2-.2.51 0 .71l1.31 1.31C6.97 3.26 6 5.01 6 7h12c0-1.99-.97-3.75-2.47-4.84zM10 5H9V4h1v1zm5 0h-1V4h1v1z"></path></g>
<g id="announcement"><path d="M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-7 9h-2V5h2v6zm0 4h-2v-2h2v2z"></path></g>
<g id="apps"><path d="M4 8h4V4H4v4zm6 12h4v-4h-4v4zm-6 0h4v-4H4v4zm0-6h4v-4H4v4zm6 0h4v-4h-4v4zm6-10v4h4V4h-4zm-6 4h4V4h-4v4zm6 6h4v-4h-4v4zm0 6h4v-4h-4v4z"></path></g>
<g id="archive"><path d="M20.54 5.23l-1.39-1.68C18.88 3.21 18.47 3 18 3H6c-.47 0-.88.21-1.16.55L3.46 5.23C3.17 5.57 3 6.02 3 6.5V19c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V6.5c0-.48-.17-.93-.46-1.27zM12 17.5L6.5 12H10v-2h4v2h3.5L12 17.5zM5.12 5l.81-1h12l.94 1H5.12z"></path></g>
<g id="arrow-back"><path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"></path></g>
<g id="arrow-downward"><path d="M20 12l-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z"></path></g>
<g id="arrow-drop-down"><path d="M7 10l5 5 5-5z"></path></g>
<g id="arrow-drop-down-circle"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 12l-4-4h8l-4 4z"></path></g>
<g id="arrow-drop-up"><path d="M7 14l5-5 5 5z"></path></g>
<g id="arrow-forward"><path d="M12 4l-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"></path></g>
<g id="arrow-upward"><path d="M4 12l1.41 1.41L11 7.83V20h2V7.83l5.58 5.59L20 12l-8-8-8 8z"></path></g>
<g id="aspect-ratio"><path d="M19 12h-2v3h-3v2h5v-5zM7 9h3V7H5v5h2V9zm14-6H3c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16.01H3V4.99h18v14.02z"></path></g>
<g id="assessment"><path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"></path></g>
<g id="assignment"><path d="M19 3h-4.18C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm2 14H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z"></path></g>
<g id="assignment-ind"><path d="M19 3h-4.18C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm0 4c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm6 12H6v-1.4c0-2 4-3.1 6-3.1s6 1.1 6 3.1V19z"></path></g>
<g id="assignment-late"><path d="M19 3h-4.18C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-6 15h-2v-2h2v2zm0-4h-2V8h2v6zm-1-9c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1z"></path></g>
<g id="assignment-return"><path d="M19 3h-4.18C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm4 12h-4v3l-5-5 5-5v3h4v4z"></path></g>
<g id="assignment-returned"><path d="M19 3h-4.18C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm0 15l-5-5h3V9h4v4h3l-5 5z"></path></g>
<g id="assignment-turned-in"><path d="M19 3h-4.18C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm-2 14l-4-4 1.41-1.41L10 14.17l6.59-6.59L18 9l-8 8z"></path></g>
<g id="attachment"><path d="M2 12.5C2 9.46 4.46 7 7.5 7H18c2.21 0 4 1.79 4 4s-1.79 4-4 4H9.5C8.12 15 7 13.88 7 12.5S8.12 10 9.5 10H17v2H9.41c-.55 0-.55 1 0 1H18c1.1 0 2-.9 2-2s-.9-2-2-2H7.5C5.57 9 4 10.57 4 12.5S5.57 16 7.5 16H17v2H7.5C4.46 18 2 15.54 2 12.5z"></path></g>
<g id="autorenew"><path d="M12 6v3l4-4-4-4v3c-4.42 0-8 3.58-8 8 0 1.57.46 3.03 1.24 4.26L6.7 14.8c-.45-.83-.7-1.79-.7-2.8 0-3.31 2.69-6 6-6zm6.76 1.74L17.3 9.2c.44.84.7 1.79.7 2.8 0 3.31-2.69 6-6 6v-3l-4 4 4 4v-3c4.42 0 8-3.58 8-8 0-1.57-.46-3.03-1.24-4.26z"></path></g>
<g id="backspace"><path d="M22 3H7c-.69 0-1.23.35-1.59.88L0 12l5.41 8.11c.36.53.9.89 1.59.89h15c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-3 12.59L17.59 17 14 13.41 10.41 17 9 15.59 12.59 12 9 8.41 10.41 7 14 10.59 17.59 7 19 8.41 15.41 12 19 15.59z"></path></g>
<g id="backup"><path d="M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM14 13v4h-4v-4H7l5-5 5 5h-3z"></path></g>
<g id="block"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zM4 12c0-4.42 3.58-8 8-8 1.85 0 3.55.63 4.9 1.69L5.69 16.9C4.63 15.55 4 13.85 4 12zm8 8c-1.85 0-3.55-.63-4.9-1.69L18.31 7.1C19.37 8.45 20 10.15 20 12c0 4.42-3.58 8-8 8z"></path></g>
<g id="book"><path d="M18 2H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zM6 4h5v8l-2.5-1.5L6 12V4z"></path></g>
<g id="bookmark"><path d="M17 3H7c-1.1 0-1.99.9-1.99 2L5 21l7-3 7 3V5c0-1.1-.9-2-2-2z"></path></g>
<g id="bookmark-border"><path d="M17 3H7c-1.1 0-1.99.9-1.99 2L5 21l7-3 7 3V5c0-1.1-.9-2-2-2zm0 15l-5-2.18L7 18V5h10v13z"></path></g>
<g id="bug-report"><path d="M20 8h-2.81c-.45-.78-1.07-1.45-1.82-1.96L17 4.41 15.59 3l-2.17 2.17C12.96 5.06 12.49 5 12 5c-.49 0-.96.06-1.41.17L8.41 3 7 4.41l1.62 1.63C7.88 6.55 7.26 7.22 6.81 8H4v2h2.09c-.05.33-.09.66-.09 1v1H4v2h2v1c0 .34.04.67.09 1H4v2h2.81c1.04 1.79 2.97 3 5.19 3s4.15-1.21 5.19-3H20v-2h-2.09c.05-.33.09-.66.09-1v-1h2v-2h-2v-1c0-.34-.04-.67-.09-1H20V8zm-6 8h-4v-2h4v2zm0-4h-4v-2h4v2z"></path></g>
<g id="build"><path d="M22.7 19l-9.1-9.1c.9-2.3.4-5-1.5-6.9-2-2-5-2.4-7.4-1.3L9 6 6 9 1.6 4.7C.4 7.1.9 10.1 2.9 12.1c1.9 1.9 4.6 2.4 6.9 1.5l9.1 9.1c.4.4 1 .4 1.4 0l2.3-2.3c.5-.4.5-1.1.1-1.4z"></path></g>
<g id="cached"><path d="M19 8l-4 4h3c0 3.31-2.69 6-6 6-1.01 0-1.97-.25-2.8-.7l-1.46 1.46C8.97 19.54 10.43 20 12 20c4.42 0 8-3.58 8-8h3l-4-4zM6 12c0-3.31 2.69-6 6-6 1.01 0 1.97.25 2.8.7l1.46-1.46C15.03 4.46 13.57 4 12 4c-4.42 0-8 3.58-8 8H1l4 4 4-4H6z"></path></g>
<g id="camera-enhance"><path d="M9 3L7.17 5H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2h-3.17L15 3H9zm3 15c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-1l1.25-2.75L16 13l-2.75-1.25L12 9l-1.25 2.75L8 13l2.75 1.25z"></path></g>
<g id="cancel"><path d="M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"></path></g>
<g id="card-giftcard"><path d="M20 6h-2.18c.11-.31.18-.65.18-1 0-1.66-1.34-3-3-3-1.05 0-1.96.54-2.5 1.35l-.5.67-.5-.68C10.96 2.54 10.05 2 9 2 7.34 2 6 3.34 6 5c0 .35.07.69.18 1H4c-1.11 0-1.99.89-1.99 2L2 19c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2zm-5-2c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zM9 4c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm11 15H4v-2h16v2zm0-5H4V8h5.08L7 10.83 8.62 12 11 8.76l1-1.36 1 1.36L15.38 12 17 10.83 14.92 8H20v6z"></path></g>
<g id="card-membership"><path d="M20 2H4c-1.11 0-2 .89-2 2v11c0 1.11.89 2 2 2h4v5l4-2 4 2v-5h4c1.11 0 2-.89 2-2V4c0-1.11-.89-2-2-2zm0 13H4v-2h16v2zm0-5H4V4h16v6z"></path></g>
<g id="card-travel"><path d="M20 6h-3V4c0-1.11-.89-2-2-2H9c-1.11 0-2 .89-2 2v2H4c-1.11 0-2 .89-2 2v11c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2zM9 4h6v2H9V4zm11 15H4v-2h16v2zm0-5H4V8h3v2h2V8h6v2h2V8h3v6z"></path></g>
<g id="change-history"><path d="M12 7.77L18.39 18H5.61L12 7.77M12 4L2 20h20L12 4z"></path></g>
<g id="check"><path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"></path></g>
<g id="check-box"><path d="M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"></path></g>
<g id="check-box-outline-blank"><path d="M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"></path></g>
<g id="check-circle"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"></path></g>
<g id="chevron-left"><path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"></path></g>
<g id="chevron-right"><path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"></path></g>
<g id="chrome-reader-mode"><path d="M13 12h7v1.5h-7zm0-2.5h7V11h-7zm0 5h7V16h-7zM21 4H3c-1.1 0-2 .9-2 2v13c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 15h-9V6h9v13z"></path></g>
<g id="class"><path d="M18 2H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zM6 4h5v8l-2.5-1.5L6 12V4z"></path></g>
<g id="clear"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path></g>
<g id="close"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path></g>
<g id="cloud"><path d="M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96z"></path></g>
<g id="cloud-circle"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm4.5 14H8c-1.66 0-3-1.34-3-3s1.34-3 3-3l.14.01C8.58 8.28 10.13 7 12 7c2.21 0 4 1.79 4 4h.5c1.38 0 2.5 1.12 2.5 2.5S17.88 16 16.5 16z"></path></g>
<g id="cloud-done"><path d="M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM10 17l-3.5-3.5 1.41-1.41L10 14.17 15.18 9l1.41 1.41L10 17z"></path></g>
<g id="cloud-download"><path d="M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM17 13l-5 5-5-5h3V9h4v4h3z"></path></g>
<g id="cloud-off"><path d="M19.35 10.04C18.67 6.59 15.64 4 12 4c-1.48 0-2.85.43-4.01 1.17l1.46 1.46C10.21 6.23 11.08 6 12 6c3.04 0 5.5 2.46 5.5 5.5v.5H19c1.66 0 3 1.34 3 3 0 1.13-.64 2.11-1.56 2.62l1.45 1.45C23.16 18.16 24 16.68 24 15c0-2.64-2.05-4.78-4.65-4.96zM3 5.27l2.75 2.74C2.56 8.15 0 10.77 0 14c0 3.31 2.69 6 6 6h11.73l2 2L21 20.73 4.27 4 3 5.27zM7.73 10l8 8H6c-2.21 0-4-1.79-4-4s1.79-4 4-4h1.73z"></path></g>
<g id="cloud-queue"><path d="M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM19 18H6c-2.21 0-4-1.79-4-4s1.79-4 4-4h.71C7.37 7.69 9.48 6 12 6c3.04 0 5.5 2.46 5.5 5.5v.5H19c1.66 0 3 1.34 3 3s-1.34 3-3 3z"></path></g>
<g id="cloud-upload"><path d="M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM14 13v4h-4v-4H7l5-5 5 5h-3z"></path></g>
<g id="code"><path d="M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z"></path></g>
<g id="compare-arrows"><path d="M9.01 14H2v2h7.01v3L13 15l-3.99-4v3zm5.98-1v-3H22V8h-7.01V5L11 9l3.99 4z"></path></g>
<g id="content-copy"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></g>
<g id="content-cut"><path d="M9.64 7.64c.23-.5.36-1.05.36-1.64 0-2.21-1.79-4-4-4S2 3.79 2 6s1.79 4 4 4c.59 0 1.14-.13 1.64-.36L10 12l-2.36 2.36C7.14 14.13 6.59 14 6 14c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4c0-.59-.13-1.14-.36-1.64L12 14l7 7h3v-1L9.64 7.64zM6 8c-1.1 0-2-.89-2-2s.9-2 2-2 2 .89 2 2-.9 2-2 2zm0 12c-1.1 0-2-.89-2-2s.9-2 2-2 2 .89 2 2-.9 2-2 2zm6-7.5c-.28 0-.5-.22-.5-.5s.22-.5.5-.5.5.22.5.5-.22.5-.5.5zM19 3l-6 6 2 2 7-7V3z"></path></g>
<g id="content-paste"><path d="M19 2h-4.18C14.4.84 13.3 0 12 0c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm7 18H5V4h2v3h10V4h2v16z"></path></g>
<g id="copyright"><path d="M10.08 10.86c.05-.33.16-.62.3-.87s.34-.46.59-.62c.24-.15.54-.22.91-.23.23.01.44.05.63.13.2.09.38.21.52.36s.25.33.34.53.13.42.14.64h1.79c-.02-.47-.11-.9-.28-1.29s-.4-.73-.7-1.01-.66-.5-1.08-.66-.88-.23-1.39-.23c-.65 0-1.22.11-1.7.34s-.88.53-1.2.92-.56.84-.71 1.36S8 11.29 8 11.87v.27c0 .58.08 1.12.23 1.64s.39.97.71 1.35.72.69 1.2.91 1.05.34 1.7.34c.47 0 .91-.08 1.32-.23s.77-.36 1.08-.63.56-.58.74-.94.29-.74.3-1.15h-1.79c-.01.21-.06.4-.15.58s-.21.33-.36.46-.32.23-.52.3c-.19.07-.39.09-.6.1-.36-.01-.66-.08-.89-.23-.25-.16-.45-.37-.59-.62s-.25-.55-.3-.88-.08-.67-.08-1v-.27c0-.35.03-.68.08-1.01zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"></path></g>
<g id="create"><path d="M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"></path></g>
<g id="create-new-folder"><path d="M20 6h-8l-2-2H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2zm-1 8h-3v3h-2v-3h-3v-2h3V9h2v3h3v2z"></path></g>
<g id="credit-card"><path d="M20 4H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6c0-1.11-.89-2-2-2zm0 14H4v-6h16v6zm0-10H4V6h16v2z"></path></g>
<g id="dashboard"><path d="M3 13h8V3H3v10zm0 8h8v-6H3v6zm10 0h8V11h-8v10zm0-18v6h8V3h-8z"></path></g>
<g id="date-range"><path d="M9 11H7v2h2v-2zm4 0h-2v2h2v-2zm4 0h-2v2h2v-2zm2-7h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V9h14v11z"></path></g>
<g id="delete"><path d="M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"></path></g>
<g id="description"><path d="M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm2 16H8v-2h8v2zm0-4H8v-2h8v2zm-3-5V3.5L18.5 9H13z"></path></g>
<g id="dns"><path d="M20 13H4c-.55 0-1 .45-1 1v6c0 .55.45 1 1 1h16c.55 0 1-.45 1-1v-6c0-.55-.45-1-1-1zM7 19c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zM20 3H4c-.55 0-1 .45-1 1v6c0 .55.45 1 1 1h16c.55 0 1-.45 1-1V4c0-.55-.45-1-1-1zM7 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2z"></path></g>
<g id="done"><path d="M9 16.2L4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z"></path></g>
<g id="done-all"><path d="M18 7l-1.41-1.41-6.34 6.34 1.41 1.41L18 7zm4.24-1.41L11.66 16.17 7.48 12l-1.41 1.41L11.66 19l12-12-1.42-1.41zM.41 13.41L6 19l1.41-1.41L1.83 12 .41 13.41z"></path></g>
<g id="donut-large"><path d="M11 5.08V2c-5 .5-9 4.81-9 10s4 9.5 9 10v-3.08c-3-.48-6-3.4-6-6.92s3-6.44 6-6.92zM18.97 11H22c-.47-5-4-8.53-9-9v3.08C16 5.51 18.54 8 18.97 11zM13 18.92V22c5-.47 8.53-4 9-9h-3.03c-.43 3-2.97 5.49-5.97 5.92z"></path></g>
<g id="donut-small"><path d="M11 9.16V2c-5 .5-9 4.79-9 10s4 9.5 9 10v-7.16c-1-.41-2-1.52-2-2.84s1-2.43 2-2.84zM14.86 11H22c-.48-4.75-4-8.53-9-9v7.16c1 .3 1.52.98 1.86 1.84zM13 14.84V22c5-.47 8.52-4.25 9-9h-7.14c-.34.86-.86 1.54-1.86 1.84z"></path></g>
<g id="drafts"><path d="M21.99 8c0-.72-.37-1.35-.94-1.7L12 1 2.95 6.3C2.38 6.65 2 7.28 2 8v10c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2l-.01-10zM12 13L3.74 7.84 12 3l8.26 4.84L12 13z"></path></g>
<g id="eject"><path d="M5 17h14v2H5zm7-12L5.33 15h13.34z"></path></g>
<g id="error"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"></path></g>
<g id="error-outline"><path d="M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"></path></g>
<g id="event"><path d="M17 12h-5v5h5v-5zM16 1v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-1V1h-2zm3 18H5V8h14v11z"></path></g>
<g id="event-seat"><path d="M4 18v3h3v-3h10v3h3v-6H4zm15-8h3v3h-3zM2 10h3v3H2zm15 3H7V5c0-1.1.9-2 2-2h6c1.1 0 2 .9 2 2v8z"></path></g>
<g id="exit-to-app"><path d="M10.09 15.59L11.5 17l5-5-5-5-1.41 1.41L12.67 11H3v2h9.67l-2.58 2.59zM19 3H5c-1.11 0-2 .9-2 2v4h2V5h14v14H5v-4H3v4c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"></path></g>
<g id="expand-less"><path d="M12 8l-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14z"></path></g>
<g id="expand-more"><path d="M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"></path></g>
<g id="explore"><path d="M12 10.9c-.61 0-1.1.49-1.1 1.1s.49 1.1 1.1 1.1c.61 0 1.1-.49 1.1-1.1s-.49-1.1-1.1-1.1zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm2.19 12.19L6 18l3.81-8.19L18 6l-3.81 8.19z"></path></g>
<g id="extension"><path d="M20.5 11H19V7c0-1.1-.9-2-2-2h-4V3.5C13 2.12 11.88 1 10.5 1S8 2.12 8 3.5V5H4c-1.1 0-1.99.9-1.99 2v3.8H3.5c1.49 0 2.7 1.21 2.7 2.7s-1.21 2.7-2.7 2.7H2V20c0 1.1.9 2 2 2h3.8v-1.5c0-1.49 1.21-2.7 2.7-2.7 1.49 0 2.7 1.21 2.7 2.7V22H17c1.1 0 2-.9 2-2v-4h1.5c1.38 0 2.5-1.12 2.5-2.5S21.88 11 20.5 11z"></path></g>
<g id="face"><path d="M9 11.75c-.69 0-1.25.56-1.25 1.25s.56 1.25 1.25 1.25 1.25-.56 1.25-1.25-.56-1.25-1.25-1.25zm6 0c-.69 0-1.25.56-1.25 1.25s.56 1.25 1.25 1.25 1.25-.56 1.25-1.25-.56-1.25-1.25-1.25zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8 0-.29.02-.58.05-.86 2.36-1.05 4.23-2.98 5.21-5.37C11.07 8.33 14.05 10 17.42 10c.78 0 1.53-.09 2.25-.26.21.71.33 1.47.33 2.26 0 4.41-3.59 8-8 8z"></path></g>
<g id="favorite"><path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"></path></g>
<g id="favorite-border"><path d="M16.5 3c-1.74 0-3.41.81-4.5 2.09C10.91 3.81 9.24 3 7.5 3 4.42 3 2 5.42 2 8.5c0 3.78 3.4 6.86 8.55 11.54L12 21.35l1.45-1.32C18.6 15.36 22 12.28 22 8.5 22 5.42 19.58 3 16.5 3zm-4.4 15.55l-.1.1-.1-.1C7.14 14.24 4 11.39 4 8.5 4 6.5 5.5 5 7.5 5c1.54 0 3.04.99 3.57 2.36h1.87C13.46 5.99 14.96 5 16.5 5c2 0 3.5 1.5 3.5 3.5 0 2.89-3.14 5.74-7.9 10.05z"></path></g>
<g id="feedback"><path d="M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-7 12h-2v-2h2v2zm0-4h-2V6h2v4z"></path></g>
<g id="file-download"><path d="M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z"></path></g>
<g id="file-upload"><path d="M9 16h6v-6h4l-7-7-7 7h4zm-4 2h14v2H5z"></path></g>
<g id="filter-list"><path d="M10 18h4v-2h-4v2zM3 6v2h18V6H3zm3 7h12v-2H6v2z"></path></g>
<g id="find-in-page"><path d="M20 19.59V8l-6-6H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c.45 0 .85-.15 1.19-.4l-4.43-4.43c-.8.52-1.74.83-2.76.83-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5c0 1.02-.31 1.96-.83 2.75L20 19.59zM9 13c0 1.66 1.34 3 3 3s3-1.34 3-3-1.34-3-3-3-3 1.34-3 3z"></path></g>
<g id="find-replace"><path d="M11 6c1.38 0 2.63.56 3.54 1.46L12 10h6V4l-2.05 2.05C14.68 4.78 12.93 4 11 4c-3.53 0-6.43 2.61-6.92 6H6.1c.46-2.28 2.48-4 4.9-4zm5.64 9.14c.66-.9 1.12-1.97 1.28-3.14H15.9c-.46 2.28-2.48 4-4.9 4-1.38 0-2.63-.56-3.54-1.46L10 12H4v6l2.05-2.05C7.32 17.22 9.07 18 11 18c1.55 0 2.98-.51 4.14-1.36L20 21.49 21.49 20l-4.85-4.86z"></path></g>
<g id="fingerprint"><path d="M17.81 4.47c-.08 0-.16-.02-.23-.06C15.66 3.42 14 3 12.01 3c-1.98 0-3.86.47-5.57 1.41-.24.13-.54.04-.68-.2-.13-.24-.04-.55.2-.68C7.82 2.52 9.86 2 12.01 2c2.13 0 3.99.47 6.03 1.52.25.13.34.43.21.67-.09.18-.26.28-.44.28zM3.5 9.72c-.1 0-.2-.03-.29-.09-.23-.16-.28-.47-.12-.7.99-1.4 2.25-2.5 3.75-3.27C9.98 4.04 14 4.03 17.15 5.65c1.5.77 2.76 1.86 3.75 3.25.16.22.11.54-.12.7-.23.16-.54.11-.7-.12-.9-1.26-2.04-2.25-3.39-2.94-2.87-1.47-6.54-1.47-9.4.01-1.36.7-2.5 1.7-3.4 2.96-.08.14-.23.21-.39.21zm6.25 12.07c-.13 0-.26-.05-.35-.15-.87-.87-1.34-1.43-2.01-2.64-.69-1.23-1.05-2.73-1.05-4.34 0-2.97 2.54-5.39 5.66-5.39s5.66 2.42 5.66 5.39c0 .28-.22.5-.5.5s-.5-.22-.5-.5c0-2.42-2.09-4.39-4.66-4.39-2.57 0-4.66 1.97-4.66 4.39 0 1.44.32 2.77.93 3.85.64 1.15 1.08 1.64 1.85 2.42.19.2.19.51 0 .71-.11.1-.24.15-.37.15zm7.17-1.85c-1.19 0-2.24-.3-3.1-.89-1.49-1.01-2.38-2.65-2.38-4.39 0-.28.22-.5.5-.5s.5.22.5.5c0 1.41.72 2.74 1.94 3.56.71.48 1.54.71 2.54.71.24 0 .64-.03 1.04-.1.27-.05.53.13.58.41.05.27-.13.53-.41.58-.57.11-1.07.12-1.21.12zM14.91 22c-.04 0-.09-.01-.13-.02-1.59-.44-2.63-1.03-3.72-2.1-1.4-1.39-2.17-3.24-2.17-5.22 0-1.62 1.38-2.94 3.08-2.94 1.7 0 3.08 1.32 3.08 2.94 0 1.07.93 1.94 2.08 1.94s2.08-.87 2.08-1.94c0-3.77-3.25-6.83-7.25-6.83-2.84 0-5.44 1.58-6.61 4.03-.39.81-.59 1.76-.59 2.8 0 .78.07 2.01.67 3.61.1.26-.03.55-.29.64-.26.1-.55-.04-.64-.29-.49-1.31-.73-2.61-.73-3.96 0-1.2.23-2.29.68-3.24 1.33-2.79 4.28-4.6 7.51-4.6 4.55 0 8.25 3.51 8.25 7.83 0 1.62-1.38 2.94-3.08 2.94s-3.08-1.32-3.08-2.94c0-1.07-.93-1.94-2.08-1.94s-2.08.87-2.08 1.94c0 1.71.66 3.31 1.87 4.51.95.94 1.86 1.46 3.27 1.85.27.07.42.35.35.61-.05.23-.26.38-.47.38z"></path></g>
<g id="flag"><path d="M14.4 6L14 4H5v17h2v-7h5.6l.4 2h7V6z"></path></g>
<g id="flight-land"><path d="M2.5 19h19v2h-19zm7.18-5.73l4.35 1.16 5.31 1.42c.8.21 1.62-.26 1.84-1.06.21-.8-.26-1.62-1.06-1.84l-5.31-1.42-2.76-9.02L10.12 2v8.28L5.15 8.95l-.93-2.32-1.45-.39v5.17l1.6.43 5.31 1.43z"></path></g>
<g id="flight-takeoff"><path d="M2.5 19h19v2h-19zm19.57-9.36c-.21-.8-1.04-1.28-1.84-1.06L14.92 10l-6.9-6.43-1.93.51 4.14 7.17-4.97 1.33-1.97-1.54-1.45.39 1.82 3.16.77 1.33 1.6-.43 5.31-1.42 4.35-1.16L21 11.49c.81-.23 1.28-1.05 1.07-1.85z"></path></g>
<g id="flip-to-back"><path d="M9 7H7v2h2V7zm0 4H7v2h2v-2zm0-8c-1.11 0-2 .9-2 2h2V3zm4 12h-2v2h2v-2zm6-12v2h2c0-1.1-.9-2-2-2zm-6 0h-2v2h2V3zM9 17v-2H7c0 1.1.89 2 2 2zm10-4h2v-2h-2v2zm0-4h2V7h-2v2zm0 8c1.1 0 2-.9 2-2h-2v2zM5 7H3v12c0 1.1.89 2 2 2h12v-2H5V7zm10-2h2V3h-2v2zm0 12h2v-2h-2v2z"></path></g>
<g id="flip-to-front"><path d="M3 13h2v-2H3v2zm0 4h2v-2H3v2zm2 4v-2H3c0 1.1.89 2 2 2zM3 9h2V7H3v2zm12 12h2v-2h-2v2zm4-18H9c-1.11 0-2 .9-2 2v10c0 1.1.89 2 2 2h10c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 12H9V5h10v10zm-8 6h2v-2h-2v2zm-4 0h2v-2H7v2z"></path></g>
<g id="folder"><path d="M10 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2h-8l-2-2z"></path></g>
<g id="folder-open"><path d="M20 6h-8l-2-2H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2zm0 12H4V8h16v10z"></path></g>
<g id="folder-shared"><path d="M20 6h-8l-2-2H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2zm-5 3c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2zm4 8h-8v-1c0-1.33 2.67-2 4-2s4 .67 4 2v1z"></path></g>
<g id="font-download"><path d="M9.93 13.5h4.14L12 7.98zM20 2H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-4.05 16.5l-1.14-3H9.17l-1.12 3H5.96l5.11-13h1.86l5.11 13h-2.09z"></path></g>
<g id="forward"><path d="M12 8V4l8 8-8 8v-4H4V8z"></path></g>
<g id="fullscreen"><path d="M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"></path></g>
<g id="fullscreen-exit"><path d="M5 16h3v3h2v-5H5v2zm3-8H5v2h5V5H8v3zm6 11h2v-3h3v-2h-5v5zm2-11V5h-2v5h5V8h-3z"></path></g>
<g id="gavel"><path d="M1 21h12v2H1zM5.245 8.07l2.83-2.827 14.14 14.142-2.828 2.828zM12.317 1l5.657 5.656-2.83 2.83-5.654-5.66zM3.825 9.485l5.657 5.657-2.828 2.828-5.657-5.657z"></path></g>
<g id="gesture"><path d="M4.59 6.89c.7-.71 1.4-1.35 1.71-1.22.5.2 0 1.03-.3 1.52-.25.42-2.86 3.89-2.86 6.31 0 1.28.48 2.34 1.34 2.98.75.56 1.74.73 2.64.46 1.07-.31 1.95-1.4 3.06-2.77 1.21-1.49 2.83-3.44 4.08-3.44 1.63 0 1.65 1.01 1.76 1.79-3.78.64-5.38 3.67-5.38 5.37 0 1.7 1.44 3.09 3.21 3.09 1.63 0 4.29-1.33 4.69-6.1H21v-2.5h-2.47c-.15-1.65-1.09-4.2-4.03-4.2-2.25 0-4.18 1.91-4.94 2.84-.58.73-2.06 2.48-2.29 2.72-.25.3-.68.84-1.11.84-.45 0-.72-.83-.36-1.92.35-1.09 1.4-2.86 1.85-3.52.78-1.14 1.3-1.92 1.3-3.28C8.95 3.69 7.31 3 6.44 3 5.12 3 3.97 4 3.72 4.25c-.36.36-.66.66-.88.93l1.75 1.71zm9.29 11.66c-.31 0-.74-.26-.74-.72 0-.6.73-2.2 2.87-2.76-.3 2.69-1.43 3.48-2.13 3.48z"></path></g>
<g id="get-app"><path d="M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z"></path></g>
<g id="gif"><path d="M11.5 9H13v6h-1.5zM9 9H6c-.6 0-1 .5-1 1v4c0 .5.4 1 1 1h3c.6 0 1-.5 1-1v-2H8.5v1.5h-2v-3H10V10c0-.5-.4-1-1-1zm10 1.5V9h-4.5v6H16v-2h2v-1.5h-2v-1z"></path></g>
<g id="grade"><path d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"></path></g>
<g id="group-work"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zM8 17.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5zM9.5 8c0-1.38 1.12-2.5 2.5-2.5s2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5S9.5 9.38 9.5 8zm6.5 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"></path></g>
<g id="help"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 17h-2v-2h2v2zm2.07-7.75l-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25z"></path></g>
<g id="help-outline"><path d="M11 18h2v-2h-2v2zm1-16C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm0-14c-2.21 0-4 1.79-4 4h2c0-1.1.9-2 2-2s2 .9 2 2c0 2-3 1.75-3 5h2c0-2.25 3-2.5 3-5 0-2.21-1.79-4-4-4z"></path></g>
<g id="highlight-off"><path d="M14.59 8L12 10.59 9.41 8 8 9.41 10.59 12 8 14.59 9.41 16 12 13.41 14.59 16 16 14.59 13.41 12 16 9.41 14.59 8zM12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"></path></g>
<g id="history"><path d="M13 3c-4.97 0-9 4.03-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42C8.27 19.99 10.51 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9zm-1 5v5l4.28 2.54.72-1.21-3.5-2.08V8H12z"></path></g>
<g id="home"><path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"></path></g>
<g id="hourglass-empty"><path d="M6 2v6h.01L6 8.01 10 12l-4 4 .01.01H6V22h12v-5.99h-.01L18 16l-4-4 4-3.99-.01-.01H18V2H6zm10 14.5V20H8v-3.5l4-4 4 4zm-4-5l-4-4V4h8v3.5l-4 4z"></path></g>
<g id="hourglass-full"><path d="M6 2v6h.01L6 8.01 10 12l-4 4 .01.01H6V22h12v-5.99h-.01L18 16l-4-4 4-3.99-.01-.01H18V2H6z"></path></g>
<g id="http"><path d="M4.5 11h-2V9H1v6h1.5v-2.5h2V15H6V9H4.5v2zm2.5-.5h1.5V15H10v-4.5h1.5V9H7v1.5zm5.5 0H14V15h1.5v-4.5H17V9h-4.5v1.5zm9-1.5H18v6h1.5v-2h2c.8 0 1.5-.7 1.5-1.5v-1c0-.8-.7-1.5-1.5-1.5zm0 2.5h-2v-1h2v1z"></path></g>
<g id="https"><path d="M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2z"></path></g>
<g id="important-devices"><path d="M23 11.01L18 11c-.55 0-1 .45-1 1v9c0 .55.45 1 1 1h5c.55 0 1-.45 1-1v-9c0-.55-.45-.99-1-.99zM23 20h-5v-7h5v7zM20 2H2C.89 2 0 2.89 0 4v12c0 1.1.89 2 2 2h7v2H7v2h8v-2h-2v-2h2v-2H2V4h18v5h2V4c0-1.11-.9-2-2-2zm-8.03 7L11 6l-.97 3H7l2.47 1.76-.94 2.91 2.47-1.8 2.47 1.8-.94-2.91L15 9h-3.03z"></path></g>
<g id="inbox"><path d="M19 3H4.99c-1.11 0-1.98.89-1.98 2L3 19c0 1.1.88 2 1.99 2H19c1.1 0 2-.9 2-2V5c0-1.11-.9-2-2-2zm0 12h-4c0 1.66-1.35 3-3 3s-3-1.34-3-3H4.99V5H19v10z"></path></g>
<g id="indeterminate-check-box"><path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"></path></g>
<g id="info"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"></path></g>
<g id="info-outline"><path d="M11 17h2v-6h-2v6zm1-15C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zM11 9h2V7h-2v2z"></path></g>
<g id="input"><path d="M21 3.01H3c-1.1 0-2 .9-2 2V9h2V4.99h18v14.03H3V15H1v4.01c0 1.1.9 1.98 2 1.98h18c1.1 0 2-.88 2-1.98v-14c0-1.11-.9-2-2-2zM11 16l4-4-4-4v3H1v2h10v3z"></path></g>
<g id="invert-colors"><path d="M17.66 7.93L12 2.27 6.34 7.93c-3.12 3.12-3.12 8.19 0 11.31C7.9 20.8 9.95 21.58 12 21.58c2.05 0 4.1-.78 5.66-2.34 3.12-3.12 3.12-8.19 0-11.31zM12 19.59c-1.6 0-3.11-.62-4.24-1.76C6.62 16.69 6 15.19 6 13.59s.62-3.11 1.76-4.24L12 5.1v14.49z"></path></g>
<g id="label"><path d="M17.63 5.84C17.27 5.33 16.67 5 16 5L5 5.01C3.9 5.01 3 5.9 3 7v10c0 1.1.9 1.99 2 1.99L16 19c.67 0 1.27-.33 1.63-.84L22 12l-4.37-6.16z"></path></g>
<g id="label-outline"><path d="M17.63 5.84C17.27 5.33 16.67 5 16 5L5 5.01C3.9 5.01 3 5.9 3 7v10c0 1.1.9 1.99 2 1.99L16 19c.67 0 1.27-.33 1.63-.84L22 12l-4.37-6.16zM16 17H5V7h11l3.55 5L16 17z"></path></g>
<g id="language"><path d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zm6.93 6h-2.95c-.32-1.25-.78-2.45-1.38-3.56 1.84.63 3.37 1.91 4.33 3.56zM12 4.04c.83 1.2 1.48 2.53 1.91 3.96h-3.82c.43-1.43 1.08-2.76 1.91-3.96zM4.26 14C4.1 13.36 4 12.69 4 12s.1-1.36.26-2h3.38c-.08.66-.14 1.32-.14 2 0 .68.06 1.34.14 2H4.26zm.82 2h2.95c.32 1.25.78 2.45 1.38 3.56-1.84-.63-3.37-1.9-4.33-3.56zm2.95-8H5.08c.96-1.66 2.49-2.93 4.33-3.56C8.81 5.55 8.35 6.75 8.03 8zM12 19.96c-.83-1.2-1.48-2.53-1.91-3.96h3.82c-.43 1.43-1.08 2.76-1.91 3.96zM14.34 14H9.66c-.09-.66-.16-1.32-.16-2 0-.68.07-1.35.16-2h4.68c.09.65.16 1.32.16 2 0 .68-.07 1.34-.16 2zm.25 5.56c.6-1.11 1.06-2.31 1.38-3.56h2.95c-.96 1.65-2.49 2.93-4.33 3.56zM16.36 14c.08-.66.14-1.32.14-2 0-.68-.06-1.34-.14-2h3.38c.16.64.26 1.31.26 2s-.1 1.36-.26 2h-3.38z"></path></g>
<g id="launch"><path d="M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2v7zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3h-7z"></path></g>
<g id="lightbulb-outline"><path d="M9 21c0 .55.45 1 1 1h4c.55 0 1-.45 1-1v-1H9v1zm3-19C8.14 2 5 5.14 5 9c0 2.38 1.19 4.47 3 5.74V17c0 .55.45 1 1 1h6c.55 0 1-.45 1-1v-2.26c1.81-1.27 3-3.36 3-5.74 0-3.86-3.14-7-7-7zm2.85 11.1l-.85.6V16h-4v-2.3l-.85-.6C7.8 12.16 7 10.63 7 9c0-2.76 2.24-5 5-5s5 2.24 5 5c0 1.63-.8 3.16-2.15 4.1z"></path></g>
<g id="line-style"><path d="M3 16h5v-2H3v2zm6.5 0h5v-2h-5v2zm6.5 0h5v-2h-5v2zM3 20h2v-2H3v2zm4 0h2v-2H7v2zm4 0h2v-2h-2v2zm4 0h2v-2h-2v2zm4 0h2v-2h-2v2zM3 12h8v-2H3v2zm10 0h8v-2h-8v2zM3 4v4h18V4H3z"></path></g>
<g id="line-weight"><path d="M3 17h18v-2H3v2zm0 3h18v-1H3v1zm0-7h18v-3H3v3zm0-9v4h18V4H3z"></path></g>
<g id="link"><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"></path></g>
<g id="list"><path d="M3 13h2v-2H3v2zm0 4h2v-2H3v2zm0-8h2V7H3v2zm4 4h14v-2H7v2zm0 4h14v-2H7v2zM7 7v2h14V7H7z"></path></g>
<g id="lock"><path d="M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2z"></path></g>
<g id="lock-open"><path d="M12 17c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm6-9h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6h1.9c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm0 12H6V10h12v10z"></path></g>
<g id="lock-outline"><path d="M12 17c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm6-9h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zM8.9 6c0-1.71 1.39-3.1 3.1-3.1s3.1 1.39 3.1 3.1v2H8.9V6zM18 20H6V10h12v10z"></path></g>
<g id="loyalty"><path d="M21.41 11.58l-9-9C12.05 2.22 11.55 2 11 2H4c-1.1 0-2 .9-2 2v7c0 .55.22 1.05.59 1.42l9 9c.36.36.86.58 1.41.58.55 0 1.05-.22 1.41-.59l7-7c.37-.36.59-.86.59-1.41 0-.55-.23-1.06-.59-1.42zM5.5 7C4.67 7 4 6.33 4 5.5S4.67 4 5.5 4 7 4.67 7 5.5 6.33 7 5.5 7zm11.77 8.27L13 19.54l-4.27-4.27C8.28 14.81 8 14.19 8 13.5c0-1.38 1.12-2.5 2.5-2.5.69 0 1.32.28 1.77.74l.73.72.73-.73c.45-.45 1.08-.73 1.77-.73 1.38 0 2.5 1.12 2.5 2.5 0 .69-.28 1.32-.73 1.77z"></path></g>
<g id="mail"><path d="M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z"></path></g>
<g id="markunread"><path d="M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z"></path></g>
<g id="markunread-mailbox"><path d="M20 6H10v6H8V4h6V0H6v6H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2z"></path></g>
<g id="menu"><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"></path></g>
<g id="more-horiz"><path d="M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"></path></g>
<g id="more-vert"><path d="M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"></path></g>
<g id="motorcycle"><path d="M19.44 9.03L15.41 5H11v2h3.59l2 2H5c-2.8 0-5 2.2-5 5s2.2 5 5 5c2.46 0 4.45-1.69 4.9-4h1.65l2.77-2.77c-.21.54-.32 1.14-.32 1.77 0 2.8 2.2 5 5 5s5-2.2 5-5c0-2.65-1.97-4.77-4.56-4.97zM7.82 15C7.4 16.15 6.28 17 5 17c-1.63 0-3-1.37-3-3s1.37-3 3-3c1.28 0 2.4.85 2.82 2H5v2h2.82zM19 17c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3z"></path></g>
<g id="move-to-inbox"><path d="M19 3H4.99c-1.11 0-1.98.9-1.98 2L3 19c0 1.1.88 2 1.99 2H19c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 12h-4c0 1.66-1.35 3-3 3s-3-1.34-3-3H4.99V5H19v10zm-3-5h-2V7h-4v3H8l4 4 4-4z"></path></g>
<g id="next-week"><path d="M20 7h-4V5c0-.55-.22-1.05-.59-1.41C15.05 3.22 14.55 3 14 3h-4c-1.1 0-2 .9-2 2v2H4c-1.1 0-2 .9-2 2v11c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V9c0-1.1-.9-2-2-2zM10 5h4v2h-4V5zm1 13.5l-1-1 3-3-3-3 1-1 4 4-4 4z"></path></g>
<g id="note-add"><path d="M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm2 14h-3v3h-2v-3H8v-2h3v-3h2v3h3v2zm-3-7V3.5L18.5 9H13z"></path></g>
<g id="offline-pin"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2zm5 16H7v-2h10v2zm-6.7-4L7 10.7l1.4-1.4 1.9 1.9 5.3-5.3L17 7.3 10.3 14z"></path></g>
<g id="opacity"><path d="M17.66 8L12 2.35 6.34 8C4.78 9.56 4 11.64 4 13.64s.78 4.11 2.34 5.67 3.61 2.35 5.66 2.35 4.1-.79 5.66-2.35S20 15.64 20 13.64 19.22 9.56 17.66 8zM6 14c.01-2 .62-3.27 1.76-4.4L12 5.27l4.24 4.38C17.38 10.77 17.99 12 18 14H6z"></path></g>
<g id="open-in-browser"><path d="M19 4H5c-1.11 0-2 .9-2 2v12c0 1.1.89 2 2 2h4v-2H5V8h14v10h-4v2h4c1.1 0 2-.9 2-2V6c0-1.1-.89-2-2-2zm-7 6l-4 4h3v6h2v-6h3l-4-4z"></path></g>
<g id="open-in-new"><path d="M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2v7zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3h-7z"></path></g>
<g id="open-with"><path d="M10 9h4V6h3l-5-5-5 5h3v3zm-1 1H6V7l-5 5 5 5v-3h3v-4zm14 2l-5-5v3h-3v4h3v3l5-5zm-9 3h-4v3H7l5 5 5-5h-3v-3z"></path></g>
<g id="pageview"><path d="M11.5 9C10.12 9 9 10.12 9 11.5s1.12 2.5 2.5 2.5 2.5-1.12 2.5-2.5S12.88 9 11.5 9zM20 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm-3.21 14.21l-2.91-2.91c-.69.44-1.51.7-2.39.7C9.01 16 7 13.99 7 11.5S9.01 7 11.5 7 16 9.01 16 11.5c0 .88-.26 1.69-.7 2.39l2.91 2.9-1.42 1.42z"></path></g>
<g id="pan-tool"><path d="M23 5.5V20c0 2.2-1.8 4-4 4h-7.3c-1.08 0-2.1-.43-2.85-1.19L1 14.83s1.26-1.23 1.3-1.25c.22-.19.49-.29.79-.29.22 0 .42.06.6.16.04.01 4.31 2.46 4.31 2.46V4c0-.83.67-1.5 1.5-1.5S11 3.17 11 4v7h1V1.5c0-.83.67-1.5 1.5-1.5S15 .67 15 1.5V11h1V2.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5V11h1V5.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5z"></path></g>
<g id="payment"><path d="M20 4H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6c0-1.11-.89-2-2-2zm0 14H4v-6h16v6zm0-10H4V6h16v2z"></path></g>
<g id="perm-camera-mic"><path d="M20 5h-3.17L15 3H9L7.17 5H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h7v-2.09c-2.83-.48-5-2.94-5-5.91h2c0 2.21 1.79 4 4 4s4-1.79 4-4h2c0 2.97-2.17 5.43-5 5.91V21h7c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm-6 8c0 1.1-.9 2-2 2s-2-.9-2-2V9c0-1.1.9-2 2-2s2 .9 2 2v4z"></path></g>
<g id="perm-contact-calendar"><path d="M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 3c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm6 12H6v-1c0-2 4-3.1 6-3.1s6 1.1 6 3.1v1z"></path></g>
<g id="perm-data-setting"><path d="M18.99 11.5c.34 0 .67.03 1 .07L20 0 0 20h11.56c-.04-.33-.07-.66-.07-1 0-4.14 3.36-7.5 7.5-7.5zm3.71 7.99c.02-.16.04-.32.04-.49 0-.17-.01-.33-.04-.49l1.06-.83c.09-.08.12-.21.06-.32l-1-1.73c-.06-.11-.19-.15-.31-.11l-1.24.5c-.26-.2-.54-.37-.85-.49l-.19-1.32c-.01-.12-.12-.21-.24-.21h-2c-.12 0-.23.09-.25.21l-.19 1.32c-.3.13-.59.29-.85.49l-1.24-.5c-.11-.04-.24 0-.31.11l-1 1.73c-.06.11-.04.24.06.32l1.06.83c-.02.16-.03.32-.03.49 0 .17.01.33.03.49l-1.06.83c-.09.08-.12.21-.06.32l1 1.73c.06.11.19.15.31.11l1.24-.5c.26.2.54.37.85.49l.19 1.32c.02.12.12.21.25.21h2c.12 0 .23-.09.25-.21l.19-1.32c.3-.13.59-.29.84-.49l1.25.5c.11.04.24 0 .31-.11l1-1.73c.06-.11.03-.24-.06-.32l-1.07-.83zm-3.71 1.01c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5z"></path></g>
<g id="perm-device-information"><path d="M13 7h-2v2h2V7zm0 4h-2v6h2v-6zm4-9.99L7 1c-1.1 0-2 .9-2 2v18c0 1.1.9 2 2 2h10c1.1 0 2-.9 2-2V3c0-1.1-.9-1.99-2-1.99zM17 19H7V5h10v14z"></path></g>
<g id="perm-identity"><path d="M12 5.9c1.16 0 2.1.94 2.1 2.1s-.94 2.1-2.1 2.1S9.9 9.16 9.9 8s.94-2.1 2.1-2.1m0 9c2.97 0 6.1 1.46 6.1 2.1v1.1H5.9V17c0-.64 3.13-2.1 6.1-2.1M12 4C9.79 4 8 5.79 8 8s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm0 9c-2.67 0-8 1.34-8 4v3h16v-3c0-2.66-5.33-4-8-4z"></path></g>
<g id="perm-media"><path d="M2 6H0v5h.01L0 20c0 1.1.9 2 2 2h18v-2H2V6zm20-2h-8l-2-2H6c-1.1 0-1.99.9-1.99 2L4 16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zM7 15l4.5-6 3.5 4.51 2.5-3.01L21 15H7z"></path></g>
<g id="perm-phone-msg"><path d="M20 15.5c-1.25 0-2.45-.2-3.57-.57-.35-.11-.74-.03-1.02.24l-2.2 2.2c-2.83-1.44-5.15-3.75-6.59-6.58l2.2-2.21c.28-.27.36-.66.25-1.01C8.7 6.45 8.5 5.25 8.5 4c0-.55-.45-1-1-1H4c-.55 0-1 .45-1 1 0 9.39 7.61 17 17 17 .55 0 1-.45 1-1v-3.5c0-.55-.45-1-1-1zM12 3v10l3-3h6V3h-9z"></path></g>
<g id="perm-scan-wifi"><path d="M12 3C6.95 3 3.15 4.85 0 7.23L12 22 24 7.25C20.85 4.87 17.05 3 12 3zm1 13h-2v-6h2v6zm-2-8V6h2v2h-2z"></path></g>
<g id="pets"><circle cx="4.5" cy="9.5" r="2.5"></circle><circle cx="9" cy="5.5" r="2.5"></circle><circle cx="15" cy="5.5" r="2.5"></circle><circle cx="19.5" cy="9.5" r="2.5"></circle><path d="M17.34 14.86c-.87-1.02-1.6-1.89-2.48-2.91-.46-.54-1.05-1.08-1.75-1.32-.11-.04-.22-.07-.33-.09-.25-.04-.52-.04-.78-.04s-.53 0-.79.05c-.11.02-.22.05-.33.09-.7.24-1.28.78-1.75 1.32-.87 1.02-1.6 1.89-2.48 2.91-1.31 1.31-2.92 2.76-2.62 4.79.29 1.02 1.02 2.03 2.33 2.32.73.15 3.06-.44 5.54-.44h.18c2.48 0 4.81.58 5.54.44 1.31-.29 2.04-1.31 2.33-2.32.31-2.04-1.3-3.49-2.61-4.8z"></path></g>
<g id="picture-in-picture"><path d="M19 7h-8v6h8V7zm2-4H3c-1.1 0-2 .9-2 2v14c0 1.1.9 1.98 2 1.98h18c1.1 0 2-.88 2-1.98V5c0-1.1-.9-2-2-2zm0 16.01H3V4.98h18v14.03z"></path></g>
<g id="picture-in-picture-alt"><path d="M19 11h-8v6h8v-6zm4 8V4.98C23 3.88 22.1 3 21 3H3c-1.1 0-2 .88-2 1.98V19c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2zm-2 .02H3V4.97h18v14.05z"></path></g>
<g id="play-for-work"><path d="M11 5v5.59H7.5l4.5 4.5 4.5-4.5H13V5h-2zm-5 9c0 3.31 2.69 6 6 6s6-2.69 6-6h-2c0 2.21-1.79 4-4 4s-4-1.79-4-4H6z"></path></g>
<g id="polymer"><path d="M19 4h-4L7.11 16.63 4.5 12 9 4H5L.5 12 5 20h4l7.89-12.63L19.5 12 15 20h4l4.5-8z"></path></g>
<g id="power-settings-new"><path d="M13 3h-2v10h2V3zm4.83 2.17l-1.42 1.42C17.99 7.86 19 9.81 19 12c0 3.87-3.13 7-7 7s-7-3.13-7-7c0-2.19 1.01-4.14 2.58-5.42L6.17 5.17C4.23 6.82 3 9.26 3 12c0 4.97 4.03 9 9 9s9-4.03 9-9c0-2.74-1.23-5.18-3.17-6.83z"></path></g>
<g id="pregnant-woman"><path d="M9 4c0-1.11.89-2 2-2s2 .89 2 2-.89 2-2 2-2-.89-2-2zm7 9c-.01-1.34-.83-2.51-2-3 0-1.66-1.34-3-3-3s-3 1.34-3 3v7h2v5h3v-5h3v-4z"></path></g>
<g id="print"><path d="M19 8H5c-1.66 0-3 1.34-3 3v6h4v4h12v-4h4v-6c0-1.66-1.34-3-3-3zm-3 11H8v-5h8v5zm3-7c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1zm-1-9H6v4h12V3z"></path></g>
<g id="query-builder"><path d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm.5-13H11v6l5.25 3.15.75-1.23-4.5-2.67z"></path></g>
<g id="question-answer"><path d="M21 6h-2v9H6v2c0 .55.45 1 1 1h11l4 4V7c0-.55-.45-1-1-1zm-4 6V3c0-.55-.45-1-1-1H3c-.55 0-1 .45-1 1v14l4-4h10c.55 0 1-.45 1-1z"></path></g>
<g id="radio-button-checked"><path d="M12 7c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5zm0-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"></path></g>
<g id="radio-button-unchecked"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"></path></g>
<g id="receipt"><path d="M18 17H6v-2h12v2zm0-4H6v-2h12v2zm0-4H6V7h12v2zM3 22l1.5-1.5L6 22l1.5-1.5L9 22l1.5-1.5L12 22l1.5-1.5L15 22l1.5-1.5L18 22l1.5-1.5L21 22V2l-1.5 1.5L18 2l-1.5 1.5L15 2l-1.5 1.5L12 2l-1.5 1.5L9 2 7.5 3.5 6 2 4.5 3.5 3 2v20z"></path></g>
<g id="record-voice-over"><circle cx="9" cy="9" r="4"></circle><path d="M9 15c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4zm7.76-9.64l-1.68 1.69c.84 1.18.84 2.71 0 3.89l1.68 1.69c2.02-2.02 2.02-5.07 0-7.27zM20.07 2l-1.63 1.63c2.77 3.02 2.77 7.56 0 10.74L20.07 16c3.9-3.89 3.91-9.95 0-14z"></path></g>
<g id="redeem"><path d="M20 6h-2.18c.11-.31.18-.65.18-1 0-1.66-1.34-3-3-3-1.05 0-1.96.54-2.5 1.35l-.5.67-.5-.68C10.96 2.54 10.05 2 9 2 7.34 2 6 3.34 6 5c0 .35.07.69.18 1H4c-1.11 0-1.99.89-1.99 2L2 19c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2zm-5-2c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zM9 4c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm11 15H4v-2h16v2zm0-5H4V8h5.08L7 10.83 8.62 12 11 8.76l1-1.36 1 1.36L15.38 12 17 10.83 14.92 8H20v6z"></path></g>
<g id="redo"><path d="M18.4 10.6C16.55 8.99 14.15 8 11.5 8c-4.65 0-8.58 3.03-9.96 7.22L3.9 16c1.05-3.19 4.05-5.5 7.6-5.5 1.95 0 3.73.72 5.12 1.88L13 16h9V7l-3.6 3.6z"></path></g>
<g id="refresh"><path d="M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"></path></g>
<g id="remove"><path d="M19 13H5v-2h14v2z"></path></g>
<g id="remove-circle"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm5 11H7v-2h10v2z"></path></g>
<g id="remove-circle-outline"><path d="M7 11v2h10v-2H7zm5-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"></path></g>
<g id="reorder"><path d="M3 15h18v-2H3v2zm0 4h18v-2H3v2zm0-8h18V9H3v2zm0-6v2h18V5H3z"></path></g>
<g id="reply"><path d="M10 9V5l-7 7 7 7v-4.1c5 0 8.5 1.6 11 5.1-1-5-4-10-11-11z"></path></g>
<g id="reply-all"><path d="M7 8V5l-7 7 7 7v-3l-4-4 4-4zm6 1V5l-7 7 7 7v-4.1c5 0 8.5 1.6 11 5.1-1-5-4-10-11-11z"></path></g>
<g id="report"><path d="M15.73 3H8.27L3 8.27v7.46L8.27 21h7.46L21 15.73V8.27L15.73 3zM12 17.3c-.72 0-1.3-.58-1.3-1.3 0-.72.58-1.3 1.3-1.3.72 0 1.3.58 1.3 1.3 0 .72-.58 1.3-1.3 1.3zm1-4.3h-2V7h2v6z"></path></g>
<g id="report-problem"><path d="M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"></path></g>
<g id="restore"><path d="M13 3c-4.97 0-9 4.03-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42C8.27 19.99 10.51 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9zm-1 5v5l4.28 2.54.72-1.21-3.5-2.08V8H12z"></path></g>
<g id="room"><path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"></path></g>
<g id="rounded-corner"><path d="M19 19h2v2h-2v-2zm0-2h2v-2h-2v2zM3 13h2v-2H3v2zm0 4h2v-2H3v2zm0-8h2V7H3v2zm0-4h2V3H3v2zm4 0h2V3H7v2zm8 16h2v-2h-2v2zm-4 0h2v-2h-2v2zm4 0h2v-2h-2v2zm-8 0h2v-2H7v2zm-4 0h2v-2H3v2zM21 8c0-2.76-2.24-5-5-5h-5v2h5c1.65 0 3 1.35 3 3v5h2V8z"></path></g>
<g id="rowing"><path d="M8.5 14.5L4 19l1.5 1.5L9 17h2l-2.5-2.5zM15 1c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm6 20.01L18 24l-2.99-3.01V19.5l-7.1-7.09c-.31.05-.61.07-.91.07v-2.16c1.66.03 3.61-.87 4.67-2.04l1.4-1.55c.19-.21.43-.38.69-.5.29-.14.62-.23.96-.23h.03C15.99 6.01 17 7.02 17 8.26v5.75c0 .84-.35 1.61-.92 2.16l-3.58-3.58v-2.27c-.63.52-1.43 1.02-2.29 1.39L16.5 18H18l3 3.01z"></path></g>
<g id="save"><path d="M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z"></path></g>
<g id="schedule"><path d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm.5-13H11v6l5.25 3.15.75-1.23-4.5-2.67z"></path></g>
<g id="search"><path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"></path></g>
<g id="select-all"><path d="M3 5h2V3c-1.1 0-2 .9-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2c0-1.1-.9-2-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8c1.1 0 2-.9 2-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2zM7 17h10V7H7v10zm2-8h6v6H9V9z"></path></g>
<g id="send"><path d="M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"></path></g>
<g id="settings"><path d="M19.43 12.98c.04-.32.07-.64.07-.98s-.03-.66-.07-.98l2.11-1.65c.19-.15.24-.42.12-.64l-2-3.46c-.12-.22-.39-.3-.61-.22l-2.49 1c-.52-.4-1.08-.73-1.69-.98l-.38-2.65C14.46 2.18 14.25 2 14 2h-4c-.25 0-.46.18-.49.42l-.38 2.65c-.61.25-1.17.59-1.69.98l-2.49-1c-.23-.09-.49 0-.61.22l-2 3.46c-.13.22-.07.49.12.64l2.11 1.65c-.04.32-.07.65-.07.98s.03.66.07.98l-2.11 1.65c-.19.15-.24.42-.12.64l2 3.46c.12.22.39.3.61.22l2.49-1c.52.4 1.08.73 1.69.98l.38 2.65c.03.24.24.42.49.42h4c.25 0 .46-.18.49-.42l.38-2.65c.61-.25 1.17-.59 1.69-.98l2.49 1c.23.09.49 0 .61-.22l2-3.46c.12-.22.07-.49-.12-.64l-2.11-1.65zM12 15.5c-1.93 0-3.5-1.57-3.5-3.5s1.57-3.5 3.5-3.5 3.5 1.57 3.5 3.5-1.57 3.5-3.5 3.5z"></path></g>
<g id="settings-applications"><path d="M12 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm7-7H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-1.75 9c0 .23-.02.46-.05.68l1.48 1.16c.13.11.17.3.08.45l-1.4 2.42c-.09.15-.27.21-.43.15l-1.74-.7c-.36.28-.76.51-1.18.69l-.26 1.85c-.03.17-.18.3-.35.3h-2.8c-.17 0-.32-.13-.35-.29l-.26-1.85c-.43-.18-.82-.41-1.18-.69l-1.74.7c-.16.06-.34 0-.43-.15l-1.4-2.42c-.09-.15-.05-.34.08-.45l1.48-1.16c-.03-.23-.05-.46-.05-.69 0-.23.02-.46.05-.68l-1.48-1.16c-.13-.11-.17-.3-.08-.45l1.4-2.42c.09-.15.27-.21.43-.15l1.74.7c.36-.28.76-.51 1.18-.69l.26-1.85c.03-.17.18-.3.35-.3h2.8c.17 0 .32.13.35.29l.26 1.85c.43.18.82.41 1.18.69l1.74-.7c.16-.06.34 0 .43.15l1.4 2.42c.09.15.05.34-.08.45l-1.48 1.16c.03.23.05.46.05.69z"></path></g>
<g id="settings-backup-restore"><path d="M14 12c0-1.1-.9-2-2-2s-2 .9-2 2 .9 2 2 2 2-.9 2-2zm-2-9c-4.97 0-9 4.03-9 9H0l4 4 4-4H5c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.51 0-2.91-.49-4.06-1.3l-1.42 1.44C8.04 20.3 9.94 21 12 21c4.97 0 9-4.03 9-9s-4.03-9-9-9z"></path></g>
<g id="settings-bluetooth"><path d="M11 24h2v-2h-2v2zm-4 0h2v-2H7v2zm8 0h2v-2h-2v2zm2.71-18.29L12 0h-1v7.59L6.41 3 5 4.41 10.59 10 5 15.59 6.41 17 11 12.41V20h1l5.71-5.71-4.3-4.29 4.3-4.29zM13 3.83l1.88 1.88L13 7.59V3.83zm1.88 10.46L13 16.17v-3.76l1.88 1.88z"></path></g>
<g id="settings-brightness"><path d="M21 3H3c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16.01H3V4.99h18v14.02zM8 16h2.5l1.5 1.5 1.5-1.5H16v-2.5l1.5-1.5-1.5-1.5V8h-2.5L12 6.5 10.5 8H8v2.5L6.5 12 8 13.5V16zm4-7c1.66 0 3 1.34 3 3s-1.34 3-3 3V9z"></path></g>
<g id="settings-cell"><path d="M7 24h2v-2H7v2zm4 0h2v-2h-2v2zm4 0h2v-2h-2v2zM16 .01L8 0C6.9 0 6 .9 6 2v16c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V2c0-1.1-.9-1.99-2-1.99zM16 16H8V4h8v12z"></path></g>
<g id="settings-ethernet"><path d="M7.77 6.76L6.23 5.48.82 12l5.41 6.52 1.54-1.28L3.42 12l4.35-5.24zM7 13h2v-2H7v2zm10-2h-2v2h2v-2zm-6 2h2v-2h-2v2zm6.77-7.52l-1.54 1.28L20.58 12l-4.35 5.24 1.54 1.28L23.18 12l-5.41-6.52z"></path></g>
<g id="settings-input-antenna"><path d="M12 5c-3.87 0-7 3.13-7 7h2c0-2.76 2.24-5 5-5s5 2.24 5 5h2c0-3.87-3.13-7-7-7zm1 9.29c.88-.39 1.5-1.26 1.5-2.29 0-1.38-1.12-2.5-2.5-2.5S9.5 10.62 9.5 12c0 1.02.62 1.9 1.5 2.29v3.3L7.59 21 9 22.41l3-3 3 3L16.41 21 13 17.59v-3.3zM12 1C5.93 1 1 5.93 1 12h2c0-4.97 4.03-9 9-9s9 4.03 9 9h2c0-6.07-4.93-11-11-11z"></path></g>
<g id="settings-input-component"><path d="M5 2c0-.55-.45-1-1-1s-1 .45-1 1v4H1v6h6V6H5V2zm4 14c0 1.3.84 2.4 2 2.82V23h2v-4.18c1.16-.41 2-1.51 2-2.82v-2H9v2zm-8 0c0 1.3.84 2.4 2 2.82V23h2v-4.18C6.16 18.4 7 17.3 7 16v-2H1v2zM21 6V2c0-.55-.45-1-1-1s-1 .45-1 1v4h-2v6h6V6h-2zm-8-4c0-.55-.45-1-1-1s-1 .45-1 1v4H9v6h6V6h-2V2zm4 14c0 1.3.84 2.4 2 2.82V23h2v-4.18c1.16-.41 2-1.51 2-2.82v-2h-6v2z"></path></g>
<g id="settings-input-composite"><path d="M5 2c0-.55-.45-1-1-1s-1 .45-1 1v4H1v6h6V6H5V2zm4 14c0 1.3.84 2.4 2 2.82V23h2v-4.18c1.16-.41 2-1.51 2-2.82v-2H9v2zm-8 0c0 1.3.84 2.4 2 2.82V23h2v-4.18C6.16 18.4 7 17.3 7 16v-2H1v2zM21 6V2c0-.55-.45-1-1-1s-1 .45-1 1v4h-2v6h6V6h-2zm-8-4c0-.55-.45-1-1-1s-1 .45-1 1v4H9v6h6V6h-2V2zm4 14c0 1.3.84 2.4 2 2.82V23h2v-4.18c1.16-.41 2-1.51 2-2.82v-2h-6v2z"></path></g>
<g id="settings-input-hdmi"><path d="M18 7V4c0-1.1-.9-2-2-2H8c-1.1 0-2 .9-2 2v3H5v6l3 6v3h8v-3l3-6V7h-1zM8 4h8v3h-2V5h-1v2h-2V5h-1v2H8V4z"></path></g>
<g id="settings-input-svideo"><path d="M8 11.5c0-.83-.67-1.5-1.5-1.5S5 10.67 5 11.5 5.67 13 6.5 13 8 12.33 8 11.5zm7-5c0-.83-.67-1.5-1.5-1.5h-3C9.67 5 9 5.67 9 6.5S9.67 8 10.5 8h3c.83 0 1.5-.67 1.5-1.5zM8.5 15c-.83 0-1.5.67-1.5 1.5S7.67 18 8.5 18s1.5-.67 1.5-1.5S9.33 15 8.5 15zM12 1C5.93 1 1 5.93 1 12s4.93 11 11 11 11-4.93 11-11S18.07 1 12 1zm0 20c-4.96 0-9-4.04-9-9s4.04-9 9-9 9 4.04 9 9-4.04 9-9 9zm5.5-11c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5zm-2 5c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5z"></path></g>
<g id="settings-overscan"><path d="M12.01 5.5L10 8h4l-1.99-2.5zM18 10v4l2.5-1.99L18 10zM6 10l-2.5 2.01L6 14v-4zm8 6h-4l2.01 2.5L14 16zm7-13H3c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16.01H3V4.99h18v14.02z"></path></g>
<g id="settings-phone"><path d="M13 9h-2v2h2V9zm4 0h-2v2h2V9zm3 6.5c-1.25 0-2.45-.2-3.57-.57-.35-.11-.74-.03-1.02.24l-2.2 2.2c-2.83-1.44-5.15-3.75-6.59-6.58l2.2-2.21c.28-.27.36-.66.25-1.01C8.7 6.45 8.5 5.25 8.5 4c0-.55-.45-1-1-1H4c-.55 0-1 .45-1 1 0 9.39 7.61 17 17 17 .55 0 1-.45 1-1v-3.5c0-.55-.45-1-1-1zM19 9v2h2V9h-2z"></path></g>
<g id="settings-power"><path d="M7 24h2v-2H7v2zm4 0h2v-2h-2v2zm2-22h-2v10h2V2zm3.56 2.44l-1.45 1.45C16.84 6.94 18 8.83 18 11c0 3.31-2.69 6-6 6s-6-2.69-6-6c0-2.17 1.16-4.06 2.88-5.12L7.44 4.44C5.36 5.88 4 8.28 4 11c0 4.42 3.58 8 8 8s8-3.58 8-8c0-2.72-1.36-5.12-3.44-6.56zM15 24h2v-2h-2v2z"></path></g>
<g id="settings-remote"><path d="M15 9H9c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h6c.55 0 1-.45 1-1V10c0-.55-.45-1-1-1zm-3 6c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zM7.05 6.05l1.41 1.41C9.37 6.56 10.62 6 12 6s2.63.56 3.54 1.46l1.41-1.41C15.68 4.78 13.93 4 12 4s-3.68.78-4.95 2.05zM12 0C8.96 0 6.21 1.23 4.22 3.22l1.41 1.41C7.26 3.01 9.51 2 12 2s4.74 1.01 6.36 2.64l1.41-1.41C17.79 1.23 15.04 0 12 0z"></path></g>
<g id="settings-voice"><path d="M7 24h2v-2H7v2zm5-11c1.66 0 2.99-1.34 2.99-3L15 4c0-1.66-1.34-3-3-3S9 2.34 9 4v6c0 1.66 1.34 3 3 3zm-1 11h2v-2h-2v2zm4 0h2v-2h-2v2zm4-14h-1.7c0 3-2.54 5.1-5.3 5.1S6.7 13 6.7 10H5c0 3.41 2.72 6.23 6 6.72V20h2v-3.28c3.28-.49 6-3.31 6-6.72z"></path></g>
<g id="shop"><path d="M16 6V4c0-1.11-.89-2-2-2h-4c-1.11 0-2 .89-2 2v2H2v13c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6h-6zm-6-2h4v2h-4V4zM9 18V9l7.5 4L9 18z"></path></g>
<g id="shop-two"><path d="M3 9H1v11c0 1.11.89 2 2 2h14c1.11 0 2-.89 2-2H3V9zm15-4V3c0-1.11-.89-2-2-2h-4c-1.11 0-2 .89-2 2v2H5v11c0 1.11.89 2 2 2h14c1.11 0 2-.89 2-2V5h-5zm-6-2h4v2h-4V3zm0 12V8l5.5 3-5.5 4z"></path></g>
<g id="shopping-basket"><path d="M17.21 9l-4.38-6.56c-.19-.28-.51-.42-.83-.42-.32 0-.64.14-.83.43L6.79 9H2c-.55 0-1 .45-1 1 0 .09.01.18.04.27l2.54 9.27c.23.84 1 1.46 1.92 1.46h13c.92 0 1.69-.62 1.93-1.46l2.54-9.27L23 10c0-.55-.45-1-1-1h-4.79zM9 9l3-4.4L15 9H9zm3 8c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2z"></path></g>
<g id="shopping-cart"><path d="M7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zM1 2v2h2l3.6 7.59-1.35 2.45c-.16.28-.25.61-.25.96 0 1.1.9 2 2 2h12v-2H7.42c-.14 0-.25-.11-.25-.25l.03-.12.9-1.63h7.45c.75 0 1.41-.41 1.75-1.03l3.58-6.49c.08-.14.12-.31.12-.48 0-.55-.45-1-1-1H5.21l-.94-2H1zm16 16c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2z"></path></g>
<g id="sort"><path d="M3 18h6v-2H3v2zM3 6v2h18V6H3zm0 7h12v-2H3v2z"></path></g>
<g id="speaker-notes"><path d="M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zM8 14H6v-2h2v2zm0-3H6V9h2v2zm0-3H6V6h2v2zm7 6h-5v-2h5v2zm3-3h-8V9h8v2zm0-3h-8V6h8v2z"></path></g>
<g id="spellcheck"><path d="M12.45 16h2.09L9.43 3H7.57L2.46 16h2.09l1.12-3h5.64l1.14 3zm-6.02-5L8.5 5.48 10.57 11H6.43zm15.16.59l-8.09 8.09L9.83 16l-1.41 1.41 5.09 5.09L23 13l-1.41-1.41z"></path></g>
<g id="star"><path d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"></path></g>
<g id="star-border"><path d="M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z"></path></g>
<g id="star-half"><path d="M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4V6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z"></path></g>
<g id="stars"><path d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zm4.24 16L12 15.45 7.77 18l1.12-4.81-3.73-3.23 4.92-.42L12 5l1.92 4.53 4.92.42-3.73 3.23L16.23 18z"></path></g>
<g id="store"><path d="M20 4H4v2h16V4zm1 10v-2l-1-5H4l-1 5v2h1v6h10v-6h4v6h2v-6h1zm-9 4H6v-4h6v4z"></path></g>
<g id="subdirectory-arrow-left"><path d="M11 9l1.42 1.42L8.83 14H18V4h2v12H8.83l3.59 3.58L11 21l-6-6 6-6z"></path></g>
<g id="subdirectory-arrow-right"><path d="M19 15l-6 6-1.42-1.42L15.17 16H4V4h2v10h9.17l-3.59-3.58L13 9l6 6z"></path></g>
<g id="subject"><path d="M14 17H4v2h10v-2zm6-8H4v2h16V9zM4 15h16v-2H4v2zM4 5v2h16V5H4z"></path></g>
<g id="supervisor-account"><path d="M16.5 12c1.38 0 2.49-1.12 2.49-2.5S17.88 7 16.5 7C15.12 7 14 8.12 14 9.5s1.12 2.5 2.5 2.5zM9 11c1.66 0 2.99-1.34 2.99-3S10.66 5 9 5C7.34 5 6 6.34 6 8s1.34 3 3 3zm7.5 3c-1.83 0-5.5.92-5.5 2.75V19h11v-2.25c0-1.83-3.67-2.75-5.5-2.75zM9 13c-2.33 0-7 1.17-7 3.5V19h7v-2.25c0-.85.33-2.34 2.37-3.47C10.5 13.1 9.66 13 9 13z"></path></g>
<g id="swap-horiz"><path d="M6.99 11L3 15l3.99 4v-3H14v-2H6.99v-3zM21 9l-3.99-4v3H10v2h7.01v3L21 9z"></path></g>
<g id="swap-vert"><path d="M16 17.01V10h-2v7.01h-3L15 21l4-3.99h-3zM9 3L5 6.99h3V14h2V6.99h3L9 3z"></path></g>
<g id="swap-vertical-circle"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zM6.5 9L10 5.5 13.5 9H11v4H9V9H6.5zm11 6L14 18.5 10.5 15H13v-4h2v4h2.5z"></path></g>
<g id="system-update-alt"><path d="M12 16.5l4-4h-3v-9h-2v9H8l4 4zm9-13h-6v1.99h6v14.03H3V5.49h6V3.5H3c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2v-14c0-1.1-.9-2-2-2z"></path></g>
<g id="tab"><path d="M21 3H3c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H3V5h10v4h8v10z"></path></g>
<g id="tab-unselected"><path d="M1 9h2V7H1v2zm0 4h2v-2H1v2zm0-8h2V3c-1.1 0-2 .9-2 2zm8 16h2v-2H9v2zm-8-4h2v-2H1v2zm2 4v-2H1c0 1.1.9 2 2 2zM21 3h-8v6h10V5c0-1.1-.9-2-2-2zm0 14h2v-2h-2v2zM9 5h2V3H9v2zM5 21h2v-2H5v2zM5 5h2V3H5v2zm16 16c1.1 0 2-.9 2-2h-2v2zm0-8h2v-2h-2v2zm-8 8h2v-2h-2v2zm4 0h2v-2h-2v2z"></path></g>
<g id="text-format"><path d="M5 17v2h14v-2H5zm4.5-4.2h5l.9 2.2h2.1L12.75 4h-1.5L6.5 15h2.1l.9-2.2zM12 5.98L13.87 11h-3.74L12 5.98z"></path></g>
<g id="theaters"><path d="M18 3v2h-2V3H8v2H6V3H4v18h2v-2h2v2h8v-2h2v2h2V3h-2zM8 17H6v-2h2v2zm0-4H6v-2h2v2zm0-4H6V7h2v2zm10 8h-2v-2h2v2zm0-4h-2v-2h2v2zm0-4h-2V7h2v2z"></path></g>
<g id="thumb-down"><path d="M15 3H6c-.83 0-1.54.5-1.84 1.22l-3.02 7.05c-.09.23-.14.47-.14.73v1.91l.01.01L1 14c0 1.1.9 2 2 2h6.31l-.95 4.57-.03.32c0 .41.17.79.44 1.06L9.83 23l6.59-6.59c.36-.36.58-.86.58-1.41V5c0-1.1-.9-2-2-2zm4 0v12h4V3h-4z"></path></g>
<g id="thumb-up"><path d="M1 21h4V9H1v12zm22-11c0-1.1-.9-2-2-2h-6.31l.95-4.57.03-.32c0-.41-.17-.79-.44-1.06L14.17 1 7.59 7.59C7.22 7.95 7 8.45 7 9v10c0 1.1.9 2 2 2h9c.83 0 1.54-.5 1.84-1.22l3.02-7.05c.09-.23.14-.47.14-.73v-1.91l-.01-.01L23 10z"></path></g>
<g id="thumbs-up-down"><path d="M12 6c0-.55-.45-1-1-1H5.82l.66-3.18.02-.23c0-.31-.13-.59-.33-.8L5.38 0 .44 4.94C.17 5.21 0 5.59 0 6v6.5c0 .83.67 1.5 1.5 1.5h6.75c.62 0 1.15-.38 1.38-.91l2.26-5.29c.07-.17.11-.36.11-.55V6zm10.5 4h-6.75c-.62 0-1.15.38-1.38.91l-2.26 5.29c-.07.17-.11.36-.11.55V18c0 .55.45 1 1 1h5.18l-.66 3.18-.02.24c0 .31.13.59.33.8l.79.78 4.94-4.94c.27-.27.44-.65.44-1.06v-6.5c0-.83-.67-1.5-1.5-1.5z"></path></g>
<g id="timeline"><path d="M23 8c0 1.1-.9 2-2 2-.18 0-.35-.02-.51-.07l-3.56 3.55c.05.16.07.34.07.52 0 1.1-.9 2-2 2s-2-.9-2-2c0-.18.02-.36.07-.52l-2.55-2.55c-.16.05-.34.07-.52.07s-.36-.02-.52-.07l-4.55 4.56c.05.16.07.33.07.51 0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2c.18 0 .35.02.51.07l4.56-4.55C8.02 9.36 8 9.18 8 9c0-1.1.9-2 2-2s2 .9 2 2c0 .18-.02.36-.07.52l2.55 2.55c.16-.05.34-.07.52-.07s.36.02.52.07l3.55-3.56C19.02 8.35 19 8.18 19 8c0-1.1.9-2 2-2s2 .9 2 2z"></path></g>
<g id="toc"><path d="M3 9h14V7H3v2zm0 4h14v-2H3v2zm0 4h14v-2H3v2zm16 0h2v-2h-2v2zm0-10v2h2V7h-2zm0 6h2v-2h-2v2z"></path></g>
<g id="today"><path d="M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"></path></g>
<g id="toll"><path d="M15 4c-4.42 0-8 3.58-8 8s3.58 8 8 8 8-3.58 8-8-3.58-8-8-8zm0 14c-3.31 0-6-2.69-6-6s2.69-6 6-6 6 2.69 6 6-2.69 6-6 6zM3 12c0-2.61 1.67-4.83 4-5.65V4.26C3.55 5.15 1 8.27 1 12s2.55 6.85 6 7.74v-2.09c-2.33-.82-4-3.04-4-5.65z"></path></g>
<g id="touch-app"><path d="M9 11.24V7.5C9 6.12 10.12 5 11.5 5S14 6.12 14 7.5v3.74c1.21-.81 2-2.18 2-3.74C16 5.01 13.99 3 11.5 3S7 5.01 7 7.5c0 1.56.79 2.93 2 3.74zm9.84 4.63l-4.54-2.26c-.17-.07-.35-.11-.54-.11H13v-6c0-.83-.67-1.5-1.5-1.5S10 6.67 10 7.5v10.74l-3.43-.72c-.08-.01-.15-.03-.24-.03-.31 0-.59.13-.79.33l-.79.8 4.94 4.94c.27.27.65.44 1.06.44h6.79c.75 0 1.33-.55 1.44-1.28l.75-5.27c.01-.07.02-.14.02-.2 0-.62-.38-1.16-.91-1.38z"></path></g>
<g id="track-changes"><path d="M19.07 4.93l-1.41 1.41C19.1 7.79 20 9.79 20 12c0 4.42-3.58 8-8 8s-8-3.58-8-8c0-4.08 3.05-7.44 7-7.93v2.02C8.16 6.57 6 9.03 6 12c0 3.31 2.69 6 6 6s6-2.69 6-6c0-1.66-.67-3.16-1.76-4.24l-1.41 1.41C15.55 9.9 16 10.9 16 12c0 2.21-1.79 4-4 4s-4-1.79-4-4c0-1.86 1.28-3.41 3-3.86v2.14c-.6.35-1 .98-1 1.72 0 1.1.9 2 2 2s2-.9 2-2c0-.74-.4-1.38-1-1.72V2h-1C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10c0-2.76-1.12-5.26-2.93-7.07z"></path></g>
<g id="translate"><path d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></g>
<g id="trending-down"><path d="M16 18l2.29-2.29-4.88-4.88-4 4L2 7.41 3.41 6l6 6 4-4 6.3 6.29L22 12v6z"></path></g>
<g id="trending-flat"><path d="M22 12l-4-4v3H3v2h15v3z"></path></g>
<g id="trending-up"><path d="M16 6l2.29 2.29-4.88 4.88-4-4L2 16.59 3.41 18l6-6 4 4 6.3-6.29L22 12V6z"></path></g>
<g id="turned-in"><path d="M17 3H7c-1.1 0-1.99.9-1.99 2L5 21l7-3 7 3V5c0-1.1-.9-2-2-2z"></path></g>
<g id="turned-in-not"><path d="M17 3H7c-1.1 0-1.99.9-1.99 2L5 21l7-3 7 3V5c0-1.1-.9-2-2-2zm0 15l-5-2.18L7 18V5h10v13z"></path></g>
<g id="unarchive"><path d="M20.55 5.22l-1.39-1.68C18.88 3.21 18.47 3 18 3H6c-.47 0-.88.21-1.15.55L3.46 5.22C3.17 5.57 3 6.01 3 6.5V19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6.5c0-.49-.17-.93-.45-1.28zM12 9.5l5.5 5.5H14v2h-4v-2H6.5L12 9.5zM5.12 5l.82-1h12l.93 1H5.12z"></path></g>
<g id="undo"><path d="M12.5 8c-2.65 0-5.05.99-6.9 2.6L2 7v9h9l-3.62-3.62c1.39-1.16 3.16-1.88 5.12-1.88 3.54 0 6.55 2.31 7.6 5.5l2.37-.78C21.08 11.03 17.15 8 12.5 8z"></path></g>
<g id="unfold-less"><path d="M7.41 18.59L8.83 20 12 16.83 15.17 20l1.41-1.41L12 14l-4.59 4.59zm9.18-13.18L15.17 4 12 7.17 8.83 4 7.41 5.41 12 10l4.59-4.59z"></path></g>
<g id="unfold-more"><path d="M12 5.83L15.17 9l1.41-1.41L12 3 7.41 7.59 8.83 9 12 5.83zm0 12.34L8.83 15l-1.41 1.41L12 21l4.59-4.59L15.17 15 12 18.17z"></path></g>
<g id="update"><path d="M21 10.12h-6.78l2.74-2.82c-2.73-2.7-7.15-2.8-9.88-.1-2.73 2.71-2.73 7.08 0 9.79 2.73 2.71 7.15 2.71 9.88 0C18.32 15.65 19 14.08 19 12.1h2c0 1.98-.88 4.55-2.64 6.29-3.51 3.48-9.21 3.48-12.72 0-3.5-3.47-3.53-9.11-.02-12.58 3.51-3.47 9.14-3.47 12.65 0L21 3v7.12zM12.5 8v4.25l3.5 2.08-.72 1.21L11 13V8h1.5z"></path></g>
<g id="verified-user"><path d="M12 1L3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4zm-2 16l-4-4 1.41-1.41L10 14.17l6.59-6.59L18 9l-8 8z"></path></g>
<g id="view-agenda"><path d="M20 13H3c-.55 0-1 .45-1 1v6c0 .55.45 1 1 1h17c.55 0 1-.45 1-1v-6c0-.55-.45-1-1-1zm0-10H3c-.55 0-1 .45-1 1v6c0 .55.45 1 1 1h17c.55 0 1-.45 1-1V4c0-.55-.45-1-1-1z"></path></g>
<g id="view-array"><path d="M4 18h3V5H4v13zM18 5v13h3V5h-3zM8 18h9V5H8v13z"></path></g>
<g id="view-carousel"><path d="M7 19h10V4H7v15zm-5-2h4V6H2v11zM18 6v11h4V6h-4z"></path></g>
<g id="view-column"><path d="M10 18h5V5h-5v13zm-6 0h5V5H4v13zM16 5v13h5V5h-5z"></path></g>
<g id="view-day"><path d="M2 21h19v-3H2v3zM20 8H3c-.55 0-1 .45-1 1v6c0 .55.45 1 1 1h17c.55 0 1-.45 1-1V9c0-.55-.45-1-1-1zM2 3v3h19V3H2z"></path></g>
<g id="view-headline"><path d="M4 15h16v-2H4v2zm0 4h16v-2H4v2zm0-8h16V9H4v2zm0-6v2h16V5H4z"></path></g>
<g id="view-list"><path d="M4 14h4v-4H4v4zm0 5h4v-4H4v4zM4 9h4V5H4v4zm5 5h12v-4H9v4zm0 5h12v-4H9v4zM9 5v4h12V5H9z"></path></g>
<g id="view-module"><path d="M4 11h5V5H4v6zm0 7h5v-6H4v6zm6 0h5v-6h-5v6zm6 0h5v-6h-5v6zm-6-7h5V5h-5v6zm6-6v6h5V5h-5z"></path></g>
<g id="view-quilt"><path d="M10 18h5v-6h-5v6zm-6 0h5V5H4v13zm12 0h5v-6h-5v6zM10 5v6h11V5H10z"></path></g>
<g id="view-stream"><path d="M4 18h17v-6H4v6zM4 5v6h17V5H4z"></path></g>
<g id="view-week"><path d="M6 5H3c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h3c.55 0 1-.45 1-1V6c0-.55-.45-1-1-1zm14 0h-3c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h3c.55 0 1-.45 1-1V6c0-.55-.45-1-1-1zm-7 0h-3c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h3c.55 0 1-.45 1-1V6c0-.55-.45-1-1-1z"></path></g>
<g id="visibility"><path d="M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"></path></g>
<g id="visibility-off"><path d="M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78l3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z"></path></g>
<g id="warning"><path d="M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"></path></g>
<g id="watch-later"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2zm4.2 14.2L11 13V7h1.5v5.2l4.5 2.7-.8 1.3z"></path></g>
<g id="weekend"><path d="M21 10c-1.1 0-2 .9-2 2v3H5v-3c0-1.1-.9-2-2-2s-2 .9-2 2v5c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2v-5c0-1.1-.9-2-2-2zm-3-5H6c-1.1 0-2 .9-2 2v2.15c1.16.41 2 1.51 2 2.82V14h12v-2.03c0-1.3.84-2.4 2-2.82V7c0-1.1-.9-2-2-2z"></path></g>
<g id="work"><path d="M20 6h-4V4c0-1.11-.89-2-2-2h-4c-1.11 0-2 .89-2 2v2H4c-1.11 0-1.99.89-1.99 2L2 19c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2zm-6 0h-4V4h4v2z"></path></g>
<g id="youtube-searched-for"><path d="M17.01 14h-.8l-.27-.27c.98-1.14 1.57-2.61 1.57-4.23 0-3.59-2.91-6.5-6.5-6.5s-6.5 3-6.5 6.5H2l3.84 4 4.16-4H6.51C6.51 7 8.53 5 11.01 5s4.5 2.01 4.5 4.5c0 2.48-2.02 4.5-4.5 4.5-.65 0-1.26-.14-1.82-.38L7.71 15.1c.97.57 2.09.9 3.3.9 1.61 0 3.08-.59 4.22-1.57l.27.27v.79l5.01 4.99L22 19l-4.99-5z"></path></g>
<g id="zoom-in"><path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14zm2.5-4h-2v2H9v-2H7V9h2V7h1v2h2v1z"></path></g>
<g id="zoom-out"><path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14zM7 9h5v1H7z"></path></g>
</defs></svg>
</iron-iconset-svg>









<dom-module id="paper-icon-button">
  <template strip-whitespace=""></template>

  <script>//~~WEBPATH~~/paper-icon-button/paper-icon-button.html.js
Polymer({is:"paper-icon-button",hostAttributes:{role:"button",tabindex:"0"},behaviors:[Polymer.PaperInkyFocusBehavior],properties:{src:{type:String},icon:{type:String},alt:{type:String,observer:"_altChanged"}},_altChanged:function(a,b){var c=this.getAttribute("aria-label");c&&b!=c||this.setAttribute("aria-label",a)}});
</script>
</dom-module>








<dom-module id="run-color-style">
  <template></template>
</dom-module>




<dom-module id="tf-multi-checkbox">
  
  

  <template></template>
  <script>//~~WEBPATH~~/tf-dashboard-common/tf-multi-checkbox.js
Polymer({is:"tf-multi-checkbox",properties:{names:{type:Array,value:function(){return[]}},regexInput:{type:String,value:Bb("regexInput",{defaultValue:""}),observer:"_regexInputObserver"},regex:{type:Object,computed:"_makeRegex(regexInput)"},namesMatchingRegex:{type:Array,computed:"computeNamesMatchingRegex(names.*, regex)"},runSelectionState:{type:Object,value:Sb("runSelectionState",{defaultValue:{}}),observer:"_storeRunToIsCheckedMapping"},outSelected:{type:Array,notify:!0,computed:"computeOutSelected(namesMatchingRegex.*, runSelectionState.*)"},
maxRunsToEnableByDefault:{type:Number,value:40},_debouncedRegexChange:{type:Object,value:function(){var a=this,b=_.debounce(function(b){a.regexInput=b},150,{leading:!1});return function(){var c=this.$$("#runs-regex").value;""==c?this.async(function(){a.regexInput=c},30):b(c)}}}},listeners:{"dom-change":"synchronizeColors"},observers:["_setIsolatorIcon(runSelectionState, names)"],_storeRunToIsCheckedMapping:Tb("runSelectionState",{defaultValue:{}}),_makeRegex:function(a){try{return new RegExp(a)}catch(b){return null}},
_setIsolatorIcon:function(){var a=this.runSelectionState,b=_.filter(_.values(a)).length;Array.prototype.slice.call(this.querySelectorAll(".isolator")).forEach(function(c){c.icon=1===b&&a[c.name]?"radio-button-checked":"radio-button-unchecked"})},computeNamesMatchingRegex:function(){var a=this.regex;return this.names.filter(function(b){return null==a||a.test(b)})},computeOutSelected:function(){var a=this.runSelectionState,b=this.namesMatchingRegex.length<=this.maxRunsToEnableByDefault;return this.namesMatchingRegex.filter(function(c){return null==
a[c]?b:a[c]})},synchronizeColors:function(){var a=this;this._setIsolatorIcon();this.querySelectorAll("paper-checkbox").forEach(function(a){var b=cc(a.name);a.customStyle["--paper-checkbox-checked-color"]=b;a.customStyle["--paper-checkbox-checked-ink-color"]=b;a.customStyle["--paper-checkbox-unchecked-color"]=b;a.customStyle["--paper-checkbox-unchecked-ink-color"]=b});this.querySelectorAll(".isolator").forEach(function(a){var b=cc(a.name);a.style.color=b});window.requestAnimationFrame(function(){a.updateStyles()})},
_isolateRun:function(a){var b=Polymer.dom(a).localTarget.name,c={};this.names.forEach(function(a){c[a]=a==b});this.runSelectionState=c},_checkboxChange:function(a){a=Polymer.dom(a).localTarget;this.runSelectionState[a.name]=a.checked;this.runSelectionState=_.clone(this.runSelectionState)},_isChecked:function(a){return-1!=this.outSelected.indexOf(a)},_regexInputObserver:Cb("regexInput",{defaultValue:""}),toggleAll:function(){var a=this,b=this.namesMatchingRegex.some(function(b){return a.runSelectionState[b]}),
c=0==Object.keys(this.runSelectionState).length,d=this.namesMatchingRegex.length>this.maxRunsToEnableByDefault;b=b||c&&!d;var e={};this.names.forEach(function(a){e[a]=!b});this.runSelectionState=e}});
</script>
</dom-module>



<dom-module id="tf-runs-selector">
  <template></template>
  <script>//~~WEBPATH~~/tf-runs-selector/tf-runs-selector.html.js
var ec=new Xa;
Polymer({is:"tf-runs-selector",properties:{selectedRuns:{type:Array,notify:!0},runs:Array,logdir:{type:String,notify:!0},_clippedLogdir:{type:String,computed:"_getClippedLogdir(logdir, _logdirClipLength)"},_logdirClipLength:{type:Number,value:250,readOnly:!0}},ready:function(){var a=this,b=function(){this.set("runs",ab.slice())}.bind(this);bb.add(b);b();ec.request(I.logdir()).then(function(b){a.set("logdir",b.logdir)}).catch(function(){})},_toggleAll:function(){this.$.multiCheckbox.toggleAll()},_breakString:function(a){return a.replace(/([\/=\-_,])/g,
"$1\x3cwbr\x3e")},_getClippedLogdir:function(a,b){if(void 0!==a)return a.length>b?this._breakString(a.substring(0,b)):this._breakString(a)},_openLogdirDialog:function(a){a.preventDefault();this.$$("#logdir-dialog").open()},_shouldShowExpandLogdirButton:function(a,b){return a&&a.length>b}});
</script>
</dom-module>


<script>//~~WEBPATH~~/tf-tensorboard/registry.js
var fc={};function gc(a){if(!a.plugin)throw Error("Dashboard.plugin must be present");if(!a.elementName)throw Error("Dashboard.elementName must be present");if(a.plugin in fc)throw Error("Plugin already registered: "+a.plugin);a.tabName||(a.tabName=a.plugin);fc[a.plugin]=a};
</script>

<script>//~~WEBPATH~~/tf-utils/utils.js
function hc(a,b){var c=void 0,d={};Object.keys(a).forEach(function(b){var e=a[b];void 0===c&&(c=e.displayName);c!==e.displayName&&(c=null);void 0===d[e.description]&&(d[e.description]=[]);d[e.description].push(b)});b=null!=c?c:b;var e=function(){var a=Object.keys(d);return 0===a.length?"":1===a.length?a[0]:"\x3cp\x3e\x3cstrong\x3eMultiple descriptions:\x3c/strong\x3e\x3c/p\x3e\x3cul\x3e"+a.map(function(a){var b=d[a].map(function(a){return"\x3ccode\x3e"+a.replace(/</g,"\x26lt;").replace(/>/g,"\x26gt;").replace(/&/g,
"\x26amp;")+"\x3c/code\x3e"});return"\x3cli\x3e\x3cp\x3eFor "+(1===b.length?"run":"runs")+" "+(2<b.length?b.slice(0,b.length-1).join(", ")+", and "+b[b.length-1]:b.join(" and "))+":\x3c/p\x3e"+a+"\x3c/li\x3e"}).join("")+"\x3c/ul\x3e"}();return{displayName:b,description:e}};
</script>












<script>//~~WEBPATH~~/paper-spinner/paper-spinner-behavior.html.js
Polymer.PaperSpinnerBehavior={listeners:{animationend:"__reset",webkitAnimationEnd:"__reset"},properties:{active:{type:Boolean,value:!1,reflectToAttribute:!0,observer:"__activeChanged"},alt:{type:String,value:"loading",observer:"__altChanged"},__coolingDown:{type:Boolean,value:!1}},__computeContainerClasses:function(a,b){return[a||b?"active":"",b?"cooldown":""].join(" ")},__activeChanged:function(a,b){this.__setAriaHidden(!a);this.__coolingDown=!a&&b},__altChanged:function(a){a===this.getPropertyInfo("alt").value?
this.alt=this.getAttribute("aria-label")||a:(this.__setAriaHidden(""===a),this.setAttribute("aria-label",a))},__setAriaHidden:function(a){a?this.setAttribute("aria-hidden","true"):this.removeAttribute("aria-hidden")},__reset:function(){this.__coolingDown=this.active=!1}};
</script>

<dom-module id="paper-spinner-styles">
  <template></template>
</dom-module>




<dom-module id="paper-spinner-lite">
  <template></template>

  <script>//~~WEBPATH~~/paper-spinner/paper-spinner-lite.html.js
Polymer({is:"paper-spinner-lite",behaviors:[Polymer.PaperSpinnerBehavior]});
</script>
</dom-module>








<script>//~~WEBPATH~~/tf-imports/plottable.js
/*
 MIT
 MIT

 @fileoverview manually add d3-selection-multi to d3 default bundle. Most of this code is
 copied from d3-selection-multi@1.0.0.
 See https://github.com/d3/d3-selection-multi/issues/11 for why we have to do this
 Plottable 3.1.0 (https://github.com/palantir/plottable)
 Copyright 2014-2017 Palantir Technologies
 Licensed under MIT (https://github.com/palantir/plottable/blob/master/LICENSE)
*/
function ic(a){return function(a){function b(c){if(d[c])return d[c].exports;var e=d[c]={i:c,l:!1,exports:{}};a[c].call(e.exports,e,e.exports,b);e.l=!0;return e.exports}var d={};b.m=a;b.c=d;b.i=function(a){return a};b.d=function(a,c,d){b.o(a,c)||Object.defineProperty(a,c,{configurable:!1,enumerable:!0,get:d})};b.n=function(a){var c=a&&a.__esModule?function(){return a["default"]}:function(){return a};b.d(c,"a",c);return c};b.o=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)};b.p="";return b(b.s=
129)}([function(a,c,d){function b(a){for(var b in a)c.hasOwnProperty(b)||(c[b]=a[b])}a=d(99);c.Array=a;a=d(102);c.Color=a;a=d(103);c.DOM=a;a=d(33);c.Math=a;a=d(106);c.Stacking=a;a=d(25);c.Window=a;b(d(100));b(d(101));b(d(12));b(d(104));b(d(105));b(d(50));b(d(107))},function(b){b.exports=a},function(a,c,d){var b=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},f=
d(1),g=d(7);a=d(4);var k=d(6),l=d(8),m=d(0),n=d(12),q=d(9),p=d(47);c.Renderer=q.makeEnum(["svg","canvas"]);d=function(a){function c(){var b=a.call(this)||this;b._dataChanged=!1;b._animate=!1;b._animators={};b._resetEntityStore=function(){b._cachedEntityStore=void 0};b._overflowHidden=!0;b.addClass("plot");b._datasetToDrawer=new m.Map;b._attrBindings=f.map();b._attrExtents=f.map();b._includedValuesProvider=function(a){return b._includedValuesForScale(a)};b._renderCallback=function(){return b.render()};
b._onDatasetUpdateCallback=function(){return b._onDatasetUpdate()};b._propertyBindings=f.map();b._propertyExtents=f.map();var d=(new g.Easing).maxTotalDuration(c._ANIMATION_MAX_DURATION);b.animator(p.Animator.MAIN,d);b.animator(p.Animator.RESET,new g.Null);b._deferredResetEntityStore=m.Window.debounce(c._DEFERRED_RENDERING_DELAY,b._resetEntityStore);return b}b(c,a);c.getTotalDrawTime=function(a,b){return b.reduce(function(b,c){return b+c.animator.totalTime(a.length)},0)};c.applyDrawSteps=function(a,
b){return a.map(function(a){var c=a.attrToProjector,d={};Object.keys(c).forEach(function(a){d[a]=function(d,e){return c[a](d,e,b)}});return{attrToAppliedProjector:d,animator:a.animator}})};c.prototype.anchor=function(b){b=n.coerceExternalD3(b);a.prototype.anchor.call(this,b);this._dataChanged=!0;this._resetEntityStore();this._updateExtents();return this};c.prototype._setup=function(){var b=this;this._isSetup||(a.prototype._setup.call(this),null!=this._canvas&&this._appendCanvasNode(),this._renderArea=
this.content().append("g").classed("render-area",!0),this.datasets().forEach(function(a){return b._createNodesForDataset(a)}))};c.prototype._appendCanvasNode=function(){var a=this.element().select(".plot-canvas-container");a.empty()&&(a=this.element().append("div").classed("plot-canvas-container",!0),a.node().appendChild(this._canvas.node()))};c.prototype.setBounds=function(b,c,d,e){a.prototype.setBounds.call(this,b,c,d,e);null!=this._canvas&&(d=null!=window.devicePixelRatio?window.devicePixelRatio:
1,this._canvas.attr("width",b*d),this._canvas.attr("height",c*d),this._canvas.node().getContext("2d").setTransform(d,0,0,d,0,0));return this};c.prototype.destroy=function(){var b=this;a.prototype.destroy.call(this);this._scales().forEach(function(a){return a.offUpdate(b._renderCallback)});this.datasets([])};c.prototype._createNodesForDataset=function(a){a=this._datasetToDrawer.get(a);"svg"===this.renderer()?a.useSVG(this._renderArea):a.useCanvas(this._canvas);return a};c.prototype._createDrawer=function(){return new k.ProxyDrawer(function(){return new l.SVGDrawer("path",
"")},function(){})};c.prototype._getAnimator=function(a){return this._animateOnNextRender()?this._animators[a]||new g.Null:new g.Null};c.prototype._onDatasetUpdate=function(){this._updateExtents();this._dataChanged=!0;this._resetEntityStore();this.render()};c.prototype.attr=function(a,b,c){if(null==b)return this._attrBindings.get(a);this._bindAttr(a,b,c);this.render();return this};c.prototype._bindProperty=function(a,b,c){var d=this._propertyBindings.get(a);d=null!=d?d.scale:null;this._propertyBindings.set(a,
{accessor:"function"===typeof b?b:function(){return b},scale:c});this._updateExtentsForProperty(a);null!=d&&this._uninstallScaleForKey(d,a);null!=c&&this._installScaleForKey(c,a)};c.prototype._bindAttr=function(a,b,c){var d=this._attrBindings.get(a);d=null!=d?d.scale:null;this._attrBindings.set(a,{accessor:"function"===typeof b?b:function(){return b},scale:c});this._updateExtentsForAttr(a);null!=d&&this._uninstallScaleForKey(d,a);null!=c&&this._installScaleForKey(c,a)};c.prototype._generateAttrToProjector=
function(){var a={};this._attrBindings.each(function(b,c){var d=b.accessor,e=b.scale;a[c]=e?function(a,b,c){return e.scale(d(a,b,c))}:d});var b=this._propertyProjectors();Object.keys(b).forEach(function(c){null==a[c]&&(a[c]=b[c])});return a};c.prototype.renderImmediately=function(){a.prototype.renderImmediately.call(this);this._isAnchored&&(this._paint(),this._dataChanged=!1);return this};c.prototype.animated=function(a){if(null==a)return this._animate;this._animate=a;return this};c.prototype.detach=
function(){a.prototype.detach.call(this);this._updateExtents();return this};c.prototype._scales=function(){var a=[];this._attrBindings.each(function(b){b=b.scale;null!=b&&-1===a.indexOf(b)&&a.push(b)});this._propertyBindings.each(function(b){b=b.scale;null!=b&&-1===a.indexOf(b)&&a.push(b)});return a};c.prototype._updateExtents=function(){var a=this;this._resetEntityStore();this._attrBindings.each(function(b,c){return a._updateExtentsForAttr(c)});this._propertyExtents.each(function(b,c){return a._updateExtentsForProperty(c)});
this._scales().forEach(function(b){return b.addIncludedValuesProvider(a._includedValuesProvider)})};c.prototype._updateExtentsForAttr=function(a){this._updateExtentsForKey(a,this._attrBindings,this._attrExtents,null)};c.prototype._updateExtentsForProperty=function(a){this._updateExtentsForKey(a,this._propertyBindings,this._propertyExtents,this._filterForProperty(a))};c.prototype._filterForProperty=function(){return null};c.prototype._updateExtentsForKey=function(a,b,c,d){var e=this,f=b.get(a);null!=
f&&null!=f.accessor&&c.set(a,this.datasets().map(function(a){return e._computeExtent(a,f,d)}))};c.prototype._computeExtent=function(a,b,c){var d=b.accessor;b=b.scale;if(null==b)return[];var e=a.data();null!=c&&(e=e.filter(function(b,d){return c(b,d,a)}));e=e.map(function(b,c){return d(b,c,a)});return b.extentOfValues(e)};c.prototype._extentsForProperty=function(a){return this._propertyExtents.get(a)};c.prototype._includedValuesForScale=function(a){var b=this;if(!this._isAnchored)return[];var c=[];
this._attrBindings.each(function(d,e){d.scale===a&&(d=b._attrExtents.get(e),null!=d&&(c=c.concat(f.merge(d))))});this._propertyBindings.each(function(d,e){d.scale===a&&(d=b._extentsForProperty(e),null!=d&&(c=c.concat(f.merge(d))))});return c};c.prototype.animator=function(a,b){if(void 0===b)return this._animators[a];this._animators[a]=b;return this};c.prototype.renderer=function(a){var b=this;if(void 0===a)return null==this._canvas?"svg":"canvas";null==this._canvas&&"canvas"===a?(this._canvas=f.select(document.createElement("canvas")).classed("plot-canvas",
!0),null!=this.element()&&this._appendCanvasNode(),this._datasetToDrawer.forEach(function(a){a.useCanvas(b._canvas)}),this.render()):null!=this._canvas&&"svg"==a&&(this._canvas.remove(),this._canvas=null,this._datasetToDrawer.forEach(function(a){a.useSVG(b._renderArea)}),this.render());return this};c.prototype.addDataset=function(a){this._addDataset(a);this._onDatasetUpdate();return this};c.prototype._addDataset=function(a){this._removeDataset(a);var b=this._createDrawer(a);this._datasetToDrawer.set(a,
b);this._isSetup&&this._createNodesForDataset(a);a.onUpdate(this._onDatasetUpdateCallback);return this};c.prototype.removeDataset=function(a){this._removeDataset(a);this._onDatasetUpdate();return this};c.prototype._removeDataset=function(a){if(-1===this.datasets().indexOf(a))return this;this._removeDatasetNodes(a);a.offUpdate(this._onDatasetUpdateCallback);this._datasetToDrawer.delete(a);return this};c.prototype._removeDatasetNodes=function(a){this._datasetToDrawer.get(a).remove()};c.prototype.datasets=
function(a){var b=this,c=[];this._datasetToDrawer.forEach(function(a,b){return c.push(b)});if(null==a)return c;c.forEach(function(a){return b._removeDataset(a)});a.forEach(function(a){return b._addDataset(a)});this._onDatasetUpdate();return this};c.prototype._generateDrawSteps=function(){return[{attrToProjector:this._generateAttrToProjector(),animator:new g.Null}]};c.prototype._additionalPaint=function(){};c.prototype._buildLightweightPlotEntities=function(a){var b=this,c=[];a.forEach(function(a,
d){var e=b._datasetToDrawer.get(a),f=0;a.data().forEach(function(g,k){var l=b._pixelPoint(g,k,a);m.Math.isNaN(l.x)||m.Math.isNaN(l.y)||(c.push({datum:g,get position(){return b._pixelPoint.call(b,g,k,a)},index:k,dataset:a,datasetIndex:d,component:b,drawer:e,validDatumIndex:f}),f++)})});return c};c.prototype._getDataToDraw=function(){var a=new m.Map;this.datasets().forEach(function(b){return a.set(b,b.data())});return a};c.prototype._paint=function(){var a=this,b=this._generateDrawSteps(),d=this._getDataToDraw(),
e=this.datasets().map(function(b){return a._datasetToDrawer.get(b)});if("canvas"===this.renderer()){var f=this._canvas.node();f.getContext("2d").clearRect(0,0,f.width,f.height)}this.datasets().forEach(function(a,f){var g=c.applyDrawSteps(b,a);e[f].draw(d.get(a),g)});f=this.datasets().map(function(a){return c.getTotalDrawTime(d.get(a),b)});f=m.Math.max(f,0);this._additionalPaint(f)};c.prototype.selections=function(a){var b=this;void 0===a&&(a=this.datasets());if("canvas"===this.renderer())return f.select(null);
var c=[];a.forEach(function(a){a=b._datasetToDrawer.get(a);null!=a&&(a=a.getVisualPrimitives(),c.push.apply(c,a))});return f.selectAll(c)};c.prototype.entities=function(a){var b=this;return this._getEntityStore(a).entities().map(function(a){return b._lightweightPlotEntityToPlotEntity(a)})};c.prototype._getEntityStore=function(a){if(void 0!==a){var b=new m.EntityStore;b.addAll(this._buildLightweightPlotEntities(a));return b}void 0===this._cachedEntityStore&&(b=new m.EntityStore,b.addAll(this._buildLightweightPlotEntities(this.datasets()),
this.bounds()),this._cachedEntityStore=b);return this._cachedEntityStore};c.prototype._lightweightPlotEntityToPlotEntity=function(a){return{datum:a.datum,position:a.position,dataset:a.dataset,datasetIndex:a.datasetIndex,index:a.index,component:a.component,selection:f.select(a.drawer.getVisualPrimitives()[a.validDatumIndex])}};c.prototype.entitiesAt=function(){throw Error("plots must implement entitiesAt");};c.prototype.entityNearest=function(a,b){void 0===b&&this.bounds();a=this._getEntityStore().entityNearest(a);
return void 0===a?void 0:this._lightweightPlotEntityToPlotEntity(a)};c.prototype._uninstallScaleForKey=function(a){a.offUpdate(this._renderCallback);a.offUpdate(this._deferredResetEntityStore);a.removeIncludedValuesProvider(this._includedValuesProvider)};c.prototype._installScaleForKey=function(a){a.onUpdate(this._renderCallback);a.onUpdate(this._deferredResetEntityStore);a.addIncludedValuesProvider(this._includedValuesProvider)};c.prototype._propertyProjectors=function(){return{}};c._scaledAccessor=
function(a){return null==a.scale?a.accessor:function(b,c,d){return a.scale.scale(a.accessor(b,c,d))}};c.prototype._pixelPoint=function(){return{x:0,y:0}};c.prototype._animateOnNextRender=function(){return this._animate&&this._dataChanged};return c}(a.Component);d._ANIMATION_MAX_DURATION=600;d._DEFERRED_RENDERING_DELAY=200;c.Plot=d},function(a,c,d){function b(a){for(var b in a)c.hasOwnProperty(b)||(c[b]=a[b])}a=d(97);c.TickGenerators=a;b(d(49));b(d(93));b(d(94));b(d(95));b(d(96));b(d(98));var f=d(49),
g=d(11);c.isTransformable=function(a){return a instanceof g.QuantitativeScale||a instanceof f.Category}},function(a,c,d){var b=d(1),f=d(28),g=d(0),k=d(12);a=d(9);c.XAlignment=a.makeEnum(["left","center","right"]);c.YAlignment=a.makeEnum(["top","center","bottom"]);a=function(){function a(){this._overflowHidden=!1;this._origin={x:0,y:0};this._xAlignment="left";this._yAlignment="top";this._isAnchored=this._isSetup=!1;this._cssClasses=new g.Set;this._destroyed=!1;this._onAnchorCallbacks=new g.CallbackSet;
this._onDetachCallbacks=new g.CallbackSet;this._cssClasses.add("component")}a.prototype.anchor=function(a){a=k.coerceExternalD3(a);if(this._destroyed)throw Error("Can't reuse destroy()-ed Components!");this.isRoot()&&(this._rootElement=a,this._rootElement.classed("plottable",!0));null!=this._element?a.node().appendChild(this._element.node()):(this._element=a.append("div"),this._setup());this._isAnchored=!0;this._onAnchorCallbacks.callCallbacks(this);return this};a.prototype.onAnchor=function(a){this._isAnchored&&
a(this);this._onAnchorCallbacks.add(a)};a.prototype.offAnchor=function(a){this._onAnchorCallbacks.delete(a)};a.prototype._setup=function(){var a=this;this._isSetup||(this._cssClasses.forEach(function(b){a._element.classed(b,!0)}),this._cssClasses=new g.Set,this._backgroundContainer=this._element.append("svg").classed("background-container",!0),this._content=this._element.append("svg").classed("content",!0),this._foregroundContainer=this._element.append("svg").classed("foreground-container",!0),this._overflowHidden?
this._content.classed("component-overflow-hidden",!0):this._content.classed("component-overflow-visible",!0),this._isSetup=!0)};a.prototype.requestedSpace=function(){return{minWidth:0,minHeight:0}};a.prototype.computeLayout=function(b,c,d){if(null==b||null==c||null==d){if(null==this._element)throw Error("anchor() must be called before computeLayout()");if(null!=this._rootElement)b={x:0,y:0},d=this._rootElement.node(),c=g.DOM.elementWidth(d),d=g.DOM.elementHeight(d);else throw Error("null arguments cannot be passed to computeLayout() on a non-root, unanchored node");
}var e=this._sizeFromOffer(c,d),f=e.height;e=e.width;this.setBounds(e,f,b.x+(c-e)*a._xAlignToProportion[this._xAlignment],b.y+(d-f)*a._yAlignToProportion[this._yAlignment]);return this};a.prototype.setBounds=function(a,b,c,d){void 0===c&&(c=0);void 0===d&&(d=0);this._width=a;this._height=b;this._origin={x:c,y:d};null!=this._element&&this._element.styles({left:c+"px",height:b+"px",top:d+"px",width:a+"px"});null!=this._resizeHandler&&this._resizeHandler({width:a,height:b});return this};a.prototype._sizeFromOffer=
function(a,b){var c=this.requestedSpace(a,b);return{width:this.fixedWidth()?Math.min(a,c.minWidth):a,height:this.fixedHeight()?Math.min(b,c.minHeight):b}};a.prototype.render=function(){this._isAnchored&&this._isSetup&&0<=this.width()&&0<=this.height()&&f.registerToRender(this);return this};a.prototype._scheduleComputeLayout=function(){this._isAnchored&&this._isSetup&&f.registerToComputeLayoutAndRender(this)};a.prototype.onResize=function(a){this._resizeHandler=a;return this};a.prototype.renderImmediately=
function(){return this};a.prototype.redraw=function(){this._isAnchored&&this._isSetup&&(this.isRoot()?this._scheduleComputeLayout():this.parent().redraw());return this};a.prototype.invalidateCache=function(){};a.prototype.renderTo=function(a){this.detach();if(null!=a){a="string"===typeof a?b.select(a):a instanceof Element?b.select(a):k.coerceExternalD3(a);if(!a.node()||null==a.node().nodeName)throw Error("Plottable requires a valid Element to renderTo");if("svg"===a.node().nodeName)throw Error("Plottable 3.x and later can only renderTo an HTML component; pass a div instead!");
this.anchor(a)}if(null==this._element)throw Error("If a Component has never been rendered before, then renderTo must be given a node to render to, or a d3.Selection, or a selector string");f.registerToComputeLayoutAndRender(this);f.flush();return this};a.prototype.xAlignment=function(b){if(null==b)return this._xAlignment;b=b.toLowerCase();if(null==a._xAlignToProportion[b])throw Error("Unsupported alignment: "+b);this._xAlignment=b;this.redraw();return this};a.prototype.yAlignment=function(b){if(null==
b)return this._yAlignment;b=b.toLowerCase();if(null==a._yAlignToProportion[b])throw Error("Unsupported alignment: "+b);this._yAlignment=b;this.redraw();return this};a.prototype.hasClass=function(a){return null==a?!1:null==this._element?this._cssClasses.has(a):this._element.classed(a)};a.prototype.addClass=function(a){null!=a&&(null==this._element?this._cssClasses.add(a):this._element.classed(a,!0))};a.prototype.removeClass=function(a){null!=a&&(null==this._element?this._cssClasses.delete(a):this._element.classed(a,
!1))};a.prototype.fixedWidth=function(){return!1};a.prototype.fixedHeight=function(){return!1};a.prototype.detach=function(){this.parent(null);this._isAnchored&&this._element.remove();this._isAnchored=!1;this._onDetachCallbacks.callCallbacks(this);return this};a.prototype.onDetach=function(a){this._onDetachCallbacks.add(a)};a.prototype.offDetach=function(a){this._onDetachCallbacks.delete(a)};a.prototype.parent=function(a){if(void 0===a)return this._parent;if(null!==a&&!a.has(this))throw Error("Passed invalid parent");
this._parent=a;return this};a.prototype.bounds=function(){var a=this.origin();return{topLeft:a,bottomRight:{x:a.x+this.width(),y:a.y+this.height()}}};a.prototype.destroy=function(){this._destroyed=!0;this.detach()};a.prototype.width=function(){return this._width};a.prototype.height=function(){return this._height};a.prototype.origin=function(){return{x:this._origin.x,y:this._origin.y}};a.prototype.originToRoot=function(){for(var a=this.origin(),b=this.parent();null!=b;){var c=b.origin();a.x+=c.x;a.y+=
c.y;b=b.parent()}return a};a.prototype.root=function(){for(var a=this;!a.isRoot();)a=a.parent();return a};a.prototype.isRoot=function(){return null==this.parent()};a.prototype.foreground=function(){return this._foregroundContainer};a.prototype.content=function(){return this._content};a.prototype.element=function(){return this._element};a.prototype.rootElement=function(){return this.root()._rootElement};a.prototype.background=function(){return this._backgroundContainer};return a}();a._xAlignToProportion=
{left:0,center:.5,right:1};a._yAlignToProportion={top:0,center:.5,bottom:1};c.Component=a},function(a,c,d){function b(a){for(var b in a)c.hasOwnProperty(b)||(c[b]=a[b])}b(d(51));b(d(54));b(d(122));b(d(20));b(d(56));b(d(58))},function(a,c,d){var b=d(19);a=function(){function a(a,b){this._svgDrawerFactory=a;this._canvasDrawStep=b}a.prototype.useSVG=function(a){null!=this._currentDrawer&&this._currentDrawer.remove();var b=this._svgDrawerFactory();b.attachTo(a);this._currentDrawer=b};a.prototype.useCanvas=
function(a){null!=this._currentDrawer&&this._currentDrawer.remove();this._currentDrawer=new b.CanvasDrawer(a.node().getContext("2d"),this._canvasDrawStep)};a.prototype.getDrawer=function(){return this._currentDrawer};a.prototype.remove=function(){null!=this._currentDrawer&&this._currentDrawer.remove()};a.prototype.draw=function(a,b){this._currentDrawer.draw(a,b)};a.prototype.getVisualPrimitives=function(){return this._currentDrawer.getVisualPrimitives()};a.prototype.getVisualPrimitiveAtIndex=function(a){return this._currentDrawer.getVisualPrimitiveAtIndex(a)};
return a}();c.ProxyDrawer=a},function(a,c,d){function b(a){for(var b in a)c.hasOwnProperty(b)||(c[b]=a[b])}b(d(64));b(d(65))},function(a,c,d){var b=d(1),f=d(0);a=function(){function a(a,c){this._root=b.select(document.createElementNS("http://www.w3.org/2000/svg","g"));this._className=c;this._svgElementName=a}a.prototype.draw=function(a,b){var c=this;this._createAndDestroyDOMElements(a);var d=0;b.forEach(function(b){f.Window.setTimeout(function(){return c._drawStep(b)},d);d+=b.animator.totalTime(a.length)})};
a.prototype.getVisualPrimitives=function(){null==this._cachedVisualPrimitivesNodes&&(this._cachedVisualPrimitivesNodes=this._selection.nodes());return this._cachedVisualPrimitivesNodes};a.prototype.getVisualPrimitiveAtIndex=function(a){return this.getVisualPrimitives()[a]};a.prototype.remove=function(){this._root.remove()};a.prototype.attachTo=function(a){a.node().appendChild(this._root.node())};a.prototype.getRoot=function(){return this._root};a.prototype.selector=function(){return this._svgElementName};
a.prototype._applyDefaultAttributes=function(){};a.prototype._createAndDestroyDOMElements=function(a){a=this._root.selectAll(this.selector()).data(a);this._selection=a.enter().append(this._svgElementName).merge(a);a.exit().remove();this._cachedVisualPrimitivesNodes=null;null!=this._className&&this._selection.classed(this._className,!0);this._applyDefaultAttributes(this._selection)};a.prototype._drawStep=function(a){var b=this;["fill","stroke"].forEach(function(c){null!=a.attrToAppliedProjector[c]&&
b._selection.attr(c,a.attrToAppliedProjector[c])});a.animator.animate(this._selection,a.attrToAppliedProjector);null!=this._className&&this._selection.classed(this._className,!0)};return a}();c.SVGDrawer=a},function(a,c){c.makeEnum=function(a){return a.reduce(function(a,b){a[b]=b;return a},{})}},function(a,c,d){function b(a){void 0===a&&(a=3);f(a);return function(b){return b.toFixed(a)}}function f(a){if(0>a||20<a)throw new RangeError("Formatter precision must be between 0 and 20");if(a!==Math.floor(a))throw new RangeError("Formatter precision must be an integer");
}var g=d(1);c.currency=function(a,c,d){void 0===a&&(a=2);void 0===c&&(c="$");void 0===d&&(d=!0);var e=b(a);return function(a){var b=e(Math.abs(a));""!==b&&(b=d?c+b:b+c,0>a&&(b="-"+b));return b}};c.fixed=b;c.general=function(){var a;void 0===a&&(a=3);f(a);return function(b){if("number"===typeof b){var c=Math.pow(10,a);return String(Math.round(b*c)/c)}return String(b)}};c.identity=function(){return function(a){return String(a)}};c.percentage=function(a){void 0===a&&(a=0);var c=b(a);return function(a){var b=
a.toString();b=Math.pow(10,b.length-(b.indexOf(".")+1));return c(parseInt((100*a*b).toString(),10)/b)+"%"}};c.siSuffix=function(){var a=4;void 0===a&&(a=3);f(a);return function(b){return g.format("."+a+"s")(b)}};c.shortScale=function(a){void 0===a&&(a=3);f(a);var b=g.format("."+a+"e"),c=g.format("."+a+"f"),d=Math.pow(10,18),e=Math.pow(10,-a);return function(a){var f=Math.abs(a);if((f<e||f>=d)&&0!==f)return b(a);for(var g=-1;f>=Math.pow(1E3,g+2)&&4>g;)g++;f=-1===g?c(a):c(a/Math.pow(1E3,g+1))+"KMBTQ"[g];
if(0<a&&"1000"===f.substr(0,4)||0>a&&"-1000"===f.substr(0,5))4>g?(g++,f=c(a/Math.pow(1E3,g+1))+"KMBTQ"[g]):f=b(a);return f}};c.multiTime=function(){var a=[{specifier:".%L",predicate:function(a){return 0!==a.getMilliseconds()}},{specifier:":%S",predicate:function(a){return 0!==a.getSeconds()}},{specifier:"%I:%M",predicate:function(a){return 0!==a.getMinutes()}},{specifier:"%I %p",predicate:function(a){return 0!==a.getHours()}},{specifier:"%a %d",predicate:function(a){return 0!==a.getDay()&&1!==a.getDate()}},
{specifier:"%b %d",predicate:function(a){return 1!==a.getDate()}},{specifier:"%b",predicate:function(a){return 0!==a.getMonth()}}];return function(b){var c=a.filter(function(a){return a.predicate(b)});return g.timeFormat(0<c.length?c[0].specifier:"%Y")(b)}};c.time=function(a){return g.timeFormat(a)}},function(a,c,d){var b=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,
new c)},f=d(1),g=d(14),k=d(0);a=function(a){function c(){var b=a.call(this)||this;b._tickGenerator=function(a){return a.defaultTicks()};b._padProportion=.05;b._snappingDomainEnabled=!0;b._paddingExceptionsProviders=new k.Set;return b}b(c,a);c.prototype.autoDomain=function(){this._domainMax=this._domainMin=null;a.prototype.autoDomain.call(this);return this};c.prototype._autoDomainIfAutomaticMode=function(){if(null!=this._domainMin&&null!=this._domainMax)this._setDomain([this._domainMin,this._domainMax]);
else{var b=this._getExtent();null!=this._domainMin?(b=b[1],this._domainMin>=b&&(b=this._expandSingleValueDomain([this._domainMin,this._domainMin])[1]),this._setDomain([this._domainMin,b])):null!=this._domainMax?(b=b[0],this._domainMax<=b&&(b=this._expandSingleValueDomain([this._domainMax,this._domainMax])[0]),this._setDomain([b,this._domainMax])):a.prototype._autoDomainIfAutomaticMode.call(this)}};c.prototype._getExtent=function(){var a=this._getAllIncludedValues(),b=this._defaultExtent();0!==a.length&&
(a=[k.Math.min(a,b[0]),k.Math.max(a,b[1])],b=this._padDomain(a));null!=this._domainMin&&(b[0]=this._domainMin);null!=this._domainMax&&(b[1]=this._domainMax);return b};c.prototype.addPaddingExceptionsProvider=function(a){this._paddingExceptionsProviders.add(a);this._autoDomainIfAutomaticMode()};c.prototype.removePaddingExceptionsProvider=function(a){this._paddingExceptionsProviders.delete(a);this._autoDomainIfAutomaticMode()};c.prototype.padProportion=function(a){if(null==a)return this._padProportion;
if(0>a)throw Error("padProportion must be non-negative");this._padProportion=a;this._autoDomainIfAutomaticMode();return this};c.prototype._padDomain=function(a){var b=this;if(a[0].valueOf()===a[1].valueOf())return this._expandSingleValueDomain(a);if(0===this._padProportion)return a;var c=this._padProportion/2,d=a[0],e=a[1],f=!1,g=!1;this._paddingExceptionsProviders.forEach(function(a){a(b).forEach(function(a){a.valueOf()===d.valueOf()&&(f=!0);a.valueOf()===e.valueOf()&&(g=!0)})});var k=this._backingScaleDomain();
this._backingScaleDomain(a);a=f?d:this.invert(this.scale(d)-(this.scale(e)-this.scale(d))*c);c=g?e:this.invert(this.scale(e)+(this.scale(e)-this.scale(d))*c);this._backingScaleDomain(k);return this._snappingDomainEnabled?this._niceDomain([a,c]):[a,c]};c.prototype.snappingDomainEnabled=function(a){null!=a&&(this._snappingDomainEnabled=a,this._autoDomainIfAutomaticMode())};c.prototype._expandSingleValueDomain=function(a){return a};c.prototype.invert=function(){throw Error("Subclasses should override invert");
};c.prototype.domain=function(b){null!=b&&(this._domainMin=b[0],this._domainMax=b[1]);return a.prototype.domain.call(this,b)};c.prototype.domainMin=function(a){if(null==a)return this.domain()[0];this._domainMin=a;this._autoDomainIfAutomaticMode();return this};c.prototype.domainMax=function(a){if(null==a)return this.domain()[1];this._domainMax=a;this._autoDomainIfAutomaticMode();return this};c.prototype.extentOfValues=function(a){a=f.extent(a.filter(function(a){return k.Math.isValidNumber(+a)}));return null==
a[0]||null==a[1]?[]:a};c.prototype.zoom=function(a,b){var c=this;this.domain(this.range().map(function(d){return c.invert(g.zoomAt(d,a,b))}))};c.prototype.pan=function(a){var b=this;this.domain(this.range().map(function(c){return b.invert(c+a)}))};c.prototype.scaleTransformation=function(){throw Error("Subclasses should override scaleTransformation");};c.prototype.invertedTransformation=function(){throw Error("Subclasses should override invertedTransformation");};c.prototype.getTransformationDomain=
function(){throw Error("Subclasses should override getTransformationDomain");};c.prototype._setDomain=function(b){function c(a){return k.Math.isNaN(a)||Infinity===a||-Infinity===a}c(b[0])||c(b[1])?k.Window.warn("Warning: QuantitativeScales cannot take NaN or Infinity as a domain value. Ignoring."):a.prototype._setDomain.call(this,b)};c.prototype.defaultTicks=function(){throw Error("Subclasses should override _getDefaultTicks");};c.prototype.ticks=function(){return this._tickGenerator(this)};c.prototype._niceDomain=
function(){throw Error("Subclasses should override _niceDomain");};c.prototype._defaultExtent=function(){throw Error("Subclasses should override _defaultExtent");};c.prototype.tickGenerator=function(a){if(null==a)return this._tickGenerator;this._tickGenerator=a;return this};return c}(d(18).Scale);a._DEFAULT_NUM_TICKS=10;c.QuantitativeScale=a},function(a,c,d){var b=d(1);c.coerceExternalD3=function(a){if(null==a.attrs){if(null==a.nodes){var c=[];a.each(function(){c.push(this)});return b.selectAll(c)}return b.selectAll(a.nodes())}return a}},
function(a,c,d){function b(a){for(var b in a)c.hasOwnProperty(b)||(c[b]=a[b])}b(d(77));b(d(78));b(d(79))},function(a,c,d){function b(a){for(var b in a)c.hasOwnProperty(b)||(c[b]=a[b])}b(d(81));b(d(82));b(d(37));b(d(83));b(d(84))},function(a,c){a=function(){function a(){var a=this;this._anchorCallback=function(b){return a._anchor(b)};this._enabled=!0}a.prototype._anchor=function(){this._isAnchored=!0};a.prototype._unanchor=function(){this._isAnchored=!1};a.prototype.attachTo=function(a){this._disconnect();
this._componentAttachedTo=a;this._connect();return this};a.prototype._connect=function(){if(this.enabled()&&null!=this._componentAttachedTo&&!this._isAnchored)this._componentAttachedTo.onAnchor(this._anchorCallback)};a.prototype.detachFrom=function(){this._disconnect();this._componentAttachedTo=null};a.prototype._disconnect=function(){this._isAnchored&&this._unanchor();null!=this._componentAttachedTo&&this._componentAttachedTo.offAnchor(this._anchorCallback)};a.prototype.enabled=function(a){if(null==
a)return this._enabled;(this._enabled=a)?this._connect():this._disconnect();return this};a.prototype._translateToComponentSpace=function(a){var b=this._componentAttachedTo.originToRoot();return{x:a.x-b.x,y:a.y-b.y}};a.prototype._isInsideComponent=function(a){return 0<=a.x&&0<=a.y&&a.x<=this._componentAttachedTo.width()&&a.y<=this._componentAttachedTo.height()};return a}();c.Interaction=a},function(a,c,d){var b=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&
(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},f=d(3),g=d(0),k=d(2);a=function(a){function c(){function b(){null!=d._renderArea&&(d._renderArea.attr("transform","translate("+e+", "+f+") scale("+g+", "+k+")"),null!=d._canvas&&d._canvas.style("transform","translate("+e+"px, "+f+"px) scale("+g+", "+k+")"),clearTimeout(w),w=setTimeout(function(){d._cachedDomainX=l;d._cachedDomainY=m;f=e=0;k=g=1;d.render();d._renderArea.attr("transform","translate(0, 0) scale(1, 1)");
null!=d._canvas&&d._canvas.style("transform","translate(0, 0) scale(1, 1)")},c._DEFERRED_RENDERING_DELAY))}var d=a.call(this)||this;d._autoAdjustXScaleDomain=!1;d._autoAdjustYScaleDomain=!1;d._deferredRendering=!1;d._cachedDomainX=[null,null];d._cachedDomainY=[null,null];d.addClass("xy-plot");d._adjustYDomainOnChangeFromXCallback=function(){return d._adjustYDomainOnChangeFromX()};d._adjustXDomainOnChangeFromYCallback=function(){return d._adjustXDomainOnChangeFromY()};var e=0,f=0,g=1,k=1,l=[null,null],
m=[null,null],w=0;d._renderCallback=function(a){d.deferredRendering()&&d.x()&&d.x().scale===a?d._isAnchored&&(l=a.domain(),g=(a.scale(d._cachedDomainX[1])-a.scale(d._cachedDomainX[0]))/(a.scale(l[1])-a.scale(l[0]))||1,e=a.scale(d._cachedDomainX[0])-a.scale(l[0])||0,b()):d.deferredRendering()&&d.y()&&d.y().scale===a?d._isAnchored&&(m=a.domain(),k=(a.scale(d._cachedDomainY[1])-a.scale(d._cachedDomainY[0]))/(a.scale(m[1])-a.scale(m[0]))||1,f=a.scale(d._cachedDomainY[0])-a.scale(m[0])*k||0,b()):d.render()};
return d}b(c,a);c.prototype.deferredRendering=function(){return this._deferredRendering};c.prototype.x=function(a,b){if(null==a)return this._propertyBindings.get(c._X_KEY);this._bindProperty(c._X_KEY,a,b);a=this.width();null!=b&&null!=a&&b.range([0,a]);this._autoAdjustYScaleDomain&&this._updateYExtentsAndAutodomain();this.render();return this};c.prototype.y=function(a,b){if(null==a)return this._propertyBindings.get(c._Y_KEY);this._bindProperty(c._Y_KEY,a,b);a=this.height();null!=b&&null!=a&&(b instanceof
f.Category?b.range([0,a]):b.range([a,0]));this._autoAdjustXScaleDomain&&this._updateXExtentsAndAutodomain();this.render();return this};c.prototype._filterForProperty=function(a){return"x"===a&&this._autoAdjustXScaleDomain?this._makeFilterByProperty("y"):"y"===a&&this._autoAdjustYScaleDomain?this._makeFilterByProperty("x"):null};c.prototype._makeFilterByProperty=function(a){a=this._propertyBindings.get(a);if(null!=a){var b=a.accessor,c=a.scale;if(null!=c)return function(a,d,e){var f=c.range();return g.Math.inRange(c.scale(b(a,
d,e)),f[0],f[1])}}return null};c.prototype._uninstallScaleForKey=function(b,d){a.prototype._uninstallScaleForKey.call(this,b,d);b.offUpdate(d===c._X_KEY?this._adjustYDomainOnChangeFromXCallback:this._adjustXDomainOnChangeFromYCallback)};c.prototype._installScaleForKey=function(b,d){a.prototype._installScaleForKey.call(this,b,d);b.onUpdate(d===c._X_KEY?this._adjustYDomainOnChangeFromXCallback:this._adjustXDomainOnChangeFromYCallback)};c.prototype.destroy=function(){a.prototype.destroy.call(this);this.x().scale&&
this.x().scale.offUpdate(this._adjustYDomainOnChangeFromXCallback);this.y().scale&&this.y().scale.offUpdate(this._adjustXDomainOnChangeFromYCallback);return this};c.prototype.autorangeMode=function(a){if(null==a)return this._autoAdjustXScaleDomain?"x":this._autoAdjustYScaleDomain?"y":"none";switch(a){case "x":this._autoAdjustXScaleDomain=!0;this._autoAdjustYScaleDomain=!1;this._adjustXDomainOnChangeFromY();break;case "y":this._autoAdjustXScaleDomain=!1;this._autoAdjustYScaleDomain=!0;this._adjustYDomainOnChangeFromX();
break;case "none":this._autoAdjustYScaleDomain=this._autoAdjustXScaleDomain=!1;break;default:throw Error("Invalid scale name '"+a+"', must be 'x', 'y' or 'none'");}return this};c.prototype.computeLayout=function(b,c,d){a.prototype.computeLayout.call(this,b,c,d);b=(b=this.x())&&b.scale;null!=b&&b.range([0,this.width()]);b=(b=this.y())&&b.scale;null!=b&&(b instanceof f.Category?b.range([0,this.height()]):b.range([this.height(),0]));return this};c.prototype._updateXExtentsAndAutodomain=function(){this._updateExtentsForProperty("x");
var a=this.x().scale;null!=a&&a.autoDomain()};c.prototype._updateYExtentsAndAutodomain=function(){this._updateExtentsForProperty("y");var a=this.y().scale;null!=a&&a.autoDomain()};c.prototype.showAllData=function(){this._updateXExtentsAndAutodomain();this._updateYExtentsAndAutodomain();return this};c.prototype._adjustYDomainOnChangeFromX=function(){this._projectorsReady()&&this._autoAdjustYScaleDomain&&this._updateYExtentsAndAutodomain()};c.prototype._adjustXDomainOnChangeFromY=function(){this._projectorsReady()&&
this._autoAdjustXScaleDomain&&this._updateXExtentsAndAutodomain()};c.prototype._projectorsReady=function(){var a=this.x(),b=this.y();return null!=a&&null!=a.accessor&&null!=b&&null!=b.accessor};c.prototype._pixelPoint=function(a,b,c){var d=k.Plot._scaledAccessor(this.x()),e=k.Plot._scaledAccessor(this.y());return{x:d(a,b,c),y:e(a,b,c)}};c.prototype._getDataToDraw=function(){var b=this,c=a.prototype._getDataToDraw.call(this);this.datasets().forEach(function(a){c.set(a,c.get(a).filter(function(c,d){var e=
k.Plot._scaledAccessor(b.x())(c,d,a);c=k.Plot._scaledAccessor(b.y())(c,d,a);return g.Math.isValidNumber(e)&&g.Math.isValidNumber(c)}))});return c};return c}(k.Plot);a._X_KEY="x";a._Y_KEY="y";c.XYPlot=a},function(a,c,d){function b(a){for(var b in a)c.hasOwnProperty(b)||(c[b]=a[b])}b(d(46));b(d(24));b(d(47));b(d(85));b(d(48));b(d(86));b(d(87));b(d(88));b(d(89));b(d(90));b(d(91));b(d(92))},function(a,c,d){var b=d(0);a=function(){function a(){this._autoDomainAutomatically=!0;this._domainModificationInProgress=
!1;this._callbacks=new b.CallbackSet;this._includedValuesProviders=new b.Set}a.prototype.extentOfValues=function(){return[]};a.prototype._getAllIncludedValues=function(){var a=this,b=[];this._includedValuesProviders.forEach(function(c){c=c(a);b=b.concat(c)});return b};a.prototype._getExtent=function(){return[]};a.prototype.onUpdate=function(a){this._callbacks.add(a);return this};a.prototype.offUpdate=function(a){this._callbacks.delete(a);return this};a.prototype._dispatchUpdate=function(){this._callbacks.callCallbacks(this)};
a.prototype.autoDomain=function(){this._autoDomainAutomatically=!0;this._setDomain(this._getExtent());return this};a.prototype._autoDomainIfAutomaticMode=function(){this._autoDomainAutomatically&&this.autoDomain()};a.prototype.scale=function(){throw Error("Subclasses should override scale");};a.prototype.domain=function(a){if(null==a)return this._getDomain();this._autoDomainAutomatically=!1;this._setDomain(a);return this};a.prototype._getDomain=function(){throw Error("Subclasses should override _getDomain");
};a.prototype._setDomain=function(a){this._domainModificationInProgress||(this._domainModificationInProgress=!0,this._backingScaleDomain(a),this._dispatchUpdate(),this._domainModificationInProgress=!1)};a.prototype._backingScaleDomain=function(){throw Error("Subclasses should override _backingDomain");};a.prototype.range=function(a){if(null==a)return this._getRange();this._setRange(a);return this};a.prototype._getRange=function(){throw Error("Subclasses should override _getRange");};a.prototype._setRange=
function(){throw Error("Subclasses should override _setRange");};a.prototype.addIncludedValuesProvider=function(a){this._includedValuesProviders.add(a);this._autoDomainIfAutomaticMode();return this};a.prototype.removeIncludedValuesProvider=function(a){this._includedValuesProviders.delete(a);this._autoDomainIfAutomaticMode()};return a}();c.Scale=a},function(a,c,d){var b=d(1);a=function(){function a(a,b){this._context=a;this._drawStep=b}a.prototype.getDrawStep=function(){return this._drawStep};a.prototype.draw=
function(a,b){b=b[b.length-1];this._context.save();this._drawStep(this._context,a,b.attrToAppliedProjector);this._context.restore()};a.prototype.getVisualPrimitives=function(){return[]};a.prototype.getVisualPrimitiveAtIndex=function(){return null};a.prototype.remove=function(){};return a}();c.CanvasDrawer=a;c.ContextStyleAttrs={strokeWidth:"stroke-width",stroke:"stroke",opacity:"opacity",fill:"fill"};c.resolveAttributesSubsetWithStyles=function(a,b,d,e){b=Object.keys(c.ContextStyleAttrs).concat(b);
for(var f={},g=0;g<b.length;g++){var k=b[g];a.hasOwnProperty(k)&&(f[k]=a[k](d,e))}return f};c.styleContext=function(a,d){d[c.ContextStyleAttrs.strokeWidth]&&(a.lineWidth=parseFloat(d[c.ContextStyleAttrs.strokeWidth]));if(d[c.ContextStyleAttrs.stroke]){var e=b.color(d[c.ContextStyleAttrs.stroke]);d[c.ContextStyleAttrs.opacity]&&(e.opacity=d[c.ContextStyleAttrs.opacity]);a.strokeStyle=e.rgb().toString();a.stroke()}d[c.ContextStyleAttrs.fill]&&(e=b.color(d[c.ContextStyleAttrs.fill]),d[c.ContextStyleAttrs.opacity]&&
(e.opacity=d[c.ContextStyleAttrs.opacity]),a.fillStyle=e.rgb().toString(),a.fill())}},function(a,c,d){function b(a){for(var b in a)c.hasOwnProperty(b)||(c[b]=a[b])}b(d(123));b(d(124));b(d(125));b(d(126))},function(a,c,d){var b=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},f=d(1),g=d(5);a=d(4);var k=d(10),l=d(0);d=d(9);c.AxisOrientation=d.makeEnum(["bottom","left",
"right","top"]);d=function(a){function c(b,c){var d=a.call(this)||this;d._endTickLength=5;d._innerTickLength=5;d._tickLabelPadding=10;d._margin=15;d._showEndTickLabels=!1;d._annotationsEnabled=!1;d._annotationTierCount=1;if(null==b||null==c)throw Error("Axis requires a scale and orientation");d._scale=b;d.orientation(c);d._setDefaultAlignment();d.addClass("axis");d.isHorizontal()?d.addClass("x-axis"):d.addClass("y-axis");d.formatter(k.identity());d._rescaleCallback=function(){return d._rescale()};
d._scale.onUpdate(d._rescaleCallback);d._annotatedTicks=[];d._annotationFormatter=k.identity();return d}b(c,a);c.prototype.destroy=function(){a.prototype.destroy.call(this);this._scale.offUpdate(this._rescaleCallback)};c.prototype.tickLabelDataOnElement=function(a){if(null!=a){for(var b;null!=a&&a.classList&&void 0===b;)a.classList.contains(c.TICK_LABEL_CLASS)?b=a:a=a.parentNode;return void 0===a?void 0:f.select(a).datum()}};c.prototype._computeWidth=function(){return this._maxLabelTickLength()};
c.prototype._computeHeight=function(){return this._maxLabelTickLength()};c.prototype.requestedSpace=function(){var a=0,b=0;if(this.isHorizontal()){if(b=this._computeHeight()+this._margin,this.annotationsEnabled()){var d=this._annotationMeasurer.measure().height+2*c._ANNOTATION_LABEL_PADDING;b+=d*this.annotationTierCount()}}else a=this._computeWidth()+this._margin,this.annotationsEnabled()&&(d=this._annotationMeasurer.measure().height+2*c._ANNOTATION_LABEL_PADDING,a+=d*this.annotationTierCount());
return{minWidth:a,minHeight:b}};c.prototype.fixedHeight=function(){return this.isHorizontal()};c.prototype.fixedWidth=function(){return!this.isHorizontal()};c.prototype._rescale=function(){this.render()};c.prototype.computeLayout=function(b,c,d){a.prototype.computeLayout.call(this,b,c,d);this.isHorizontal()?this._scale.range([0,this.width()]):this._scale.range([this.height(),0]);return this};c.prototype._sizeFromOffer=function(a,b){var c=this.requestedSpace(a,b);return this.isHorizontal()?{width:a,
height:c.minHeight}:{height:b,width:c.minWidth}};c.prototype._setup=function(){a.prototype._setup.call(this);this._tickMarkContainer=this.content().append("g").classed(c.TICK_MARK_CLASS+"-container",!0);this._tickLabelContainer=this.content().append("g").classed(c.TICK_LABEL_CLASS+"-container",!0);this._baseline=this.content().append("line").classed("baseline",!0);this._annotationContainer=this.content().append("g").classed("annotation-container",!0);this._annotationContainer.append("g").classed("annotation-line-container",
!0);this._annotationContainer.append("g").classed("annotation-circle-container",!0);this._annotationContainer.append("g").classed("annotation-rect-container",!0);var b=this._annotationContainer.append("g").classed("annotation-label-container",!0);b=new g.SvgContext(b.node());this._annotationMeasurer=new g.CacheMeasurer(b);this._annotationWriter=new g.Writer(this._annotationMeasurer,b)};c.prototype._getTickValues=function(){return[]};c.prototype.renderImmediately=function(){var a=this._getTickValues(),
b=this._tickMarkContainer.selectAll("."+c.TICK_MARK_CLASS).data(a),d=b.enter().append("line").classed(c.TICK_MARK_CLASS,!0).merge(b);d.attrs(this._generateTickMarkAttrHash());f.select(d.nodes()[0]).classed(c.END_TICK_MARK_CLASS,!0).attrs(this._generateTickMarkAttrHash(!0));f.select(d.nodes()[a.length-1]).classed(c.END_TICK_MARK_CLASS,!0).attrs(this._generateTickMarkAttrHash(!0));b.exit().remove();this._baseline.attrs(this._generateBaselineAttrHash());this.annotationsEnabled()?this._drawAnnotations():
this._removeAnnotations();return this};c.prototype.annotatedTicks=function(){return this._annotatedTicks};c.prototype.annotationFormatter=function(a){if(null==a)return this._annotationFormatter;this._annotationFormatter=a;this.render();return this};c.prototype.annotationsEnabled=function(){return this._annotationsEnabled};c.prototype.annotationTierCount=function(){return this._annotationTierCount};c.prototype._drawAnnotations=function(){function a(a){switch(k.orientation()){case "bottom":case "right":return e(a);
case "top":case "left":return e(a)-n.get(a).height}}function b(a){return D.has(a)?"hidden":"visible"}function d(a){return k._scale.scale(a)}function e(a){switch(k.orientation()){case "bottom":case "right":return C.get(a)*y+E;case "top":case "left":return G-E-C.get(a)*y}}function g(a,b,c){a=a.selectAll("."+c).data(A);b=a.enter().append(b).classed(c,!0).merge(a);a.exit().remove();return b}var k=this,m=c._ANNOTATION_LABEL_PADDING,n=new l.Map,A=this._annotatedTicksToRender();A.forEach(function(a){var b=
k._annotationMeasurer.measure(k.annotationFormatter()(a));n.set(a,{width:b.width+2*m,height:b.height+2*m})});var y=this._annotationMeasurer.measure().height+2*m,C=this._annotationToTier(n),D=new l.Set,G=this.isHorizontal()?this.height():this.width(),E=this._coreSize(),F=Math.min(this.annotationTierCount(),Math.floor((G-E)/y));C.forEach(function(a,b){(-1===a||a>=F)&&D.add(b)});switch(this.orientation()){case "bottom":case "right":var B=0;break;case "top":B=this.height();break;case "left":B=this.width()}var H=
this.isHorizontal();g(this._annotationContainer.select(".annotation-line-container"),"line",c.ANNOTATION_LINE_CLASS).attrs({x1:H?d:B,x2:H?d:e,y1:H?B:d,y2:H?e:d,visibility:b});g(this._annotationContainer.select(".annotation-circle-container"),"circle",c.ANNOTATION_CIRCLE_CLASS).attrs({cx:H?d:B,cy:H?B:d,r:3});g(this._annotationContainer.select(".annotation-rect-container"),"rect",c.ANNOTATION_RECT_CLASS).attrs({x:H?d:a,y:H?a:d,width:H?function(a){return n.get(a).width}:function(a){return n.get(a).height},
height:H?function(a){return n.get(a).height}:function(a){return n.get(a).width},visibility:b});var K=this._annotationWriter,M=this.annotationFormatter();B=g(this._annotationContainer.select(".annotation-label-container"),"g",c.ANNOTATION_LABEL_CLASS);B.selectAll(".text-container").remove();B.attrs({transform:function(b){var c=H?d(b):a(b);b=H?a(b):d(b);return"translate("+c+","+b+")"},visibility:b}).each(function(a){K.write(M(a),H?n.get(a).width:n.get(a).height,H?n.get(a).height:n.get(a).width,{xAlign:"center",
yAlign:"center",textRotation:H?0:90},f.select(this).node())})};c.prototype._annotatedTicksToRender=function(){var a=this,b=this._scale.range();return l.Array.uniq(this.annotatedTicks().filter(function(c){return null==c?!1:l.Math.inRange(a._scale.scale(c),b[0],b[1])}))};c.prototype._coreSize=function(){var a=this.isHorizontal()?this.height():this.width(),b=this.isHorizontal()?this._computeHeight():this._computeWidth();return Math.min(b,a)};c.prototype._annotationTierHeight=function(){return this._annotationMeasurer.measure().height+
2*c._ANNOTATION_LABEL_PADDING};c.prototype._annotationToTier=function(a){var b=this,c=[[]],d=new l.Map,e=this.isHorizontal()?this.width():this.height();this._annotatedTicksToRender().forEach(function(f){var g=b._scale.scale(f),k=a.get(f).width;if(0>g||g+k>e)d.set(f,-1);else{for(var l=function(d){return c[d].some(function(c){var d=b._scale.scale(c);c=a.get(c).width;return g+k>=d&&g<=d+c})},m=0;l(m);)m++,c.length===m&&c.push([]);c[m].push(f);d.set(f,m)}});return d};c.prototype._removeAnnotations=function(){this._annotationContainer.selectAll(".annotation-line").remove();
this._annotationContainer.selectAll(".annotation-circle").remove();this._annotationContainer.selectAll(".annotation-rect").remove();this._annotationContainer.selectAll(".annotation-label").remove()};c.prototype._generateBaselineAttrHash=function(){var a={x1:0,y1:0,x2:0,y2:0};switch(this._orientation){case "bottom":a.x2=this.width();break;case "top":a.x2=this.width();a.y1=this.height();a.y2=this.height();break;case "left":a.x1=this.width();a.x2=this.width();a.y2=this.height();break;case "right":a.y2=
this.height()}return a};c.prototype._generateTickMarkAttrHash=function(a){function b(a){return c._scale.scale(a)}var c=this;void 0===a&&(a=!1);var d={x1:0,y1:0,x2:0,y2:0};this.isHorizontal()?(d.x1=b,d.x2=b):(d.y1=b,d.y2=b);a=a?this._endTickLength:this._innerTickLength;switch(this._orientation){case "bottom":d.y2=a;break;case "top":d.y1=this.height();d.y2=this.height()-a;break;case "left":d.x1=this.width();d.x2=this.width()-a;break;case "right":d.x2=a}return d};c.prototype._setDefaultAlignment=function(){switch(this._orientation){case "bottom":this.yAlignment("top");
break;case "top":this.yAlignment("bottom");break;case "left":this.xAlignment("right");break;case "right":this.xAlignment("left")}};c.prototype.isHorizontal=function(){return"top"===this._orientation||"bottom"===this._orientation};c.prototype.getScale=function(){return this._scale};c.prototype.formatter=function(a){if(null==a)return this._formatter;this._formatter=a;this.redraw();return this};c.prototype.innerTickLength=function(){return this._innerTickLength};c.prototype.endTickLength=function(){return this._endTickLength};
c.prototype._maxLabelTickLength=function(){return this.showEndTickLabels()?Math.max(this.innerTickLength(),this.endTickLength()):this.innerTickLength()};c.prototype.tickLabelPadding=function(a){if(null==a)return this._tickLabelPadding;if(0>a)throw Error("tick label padding must be positive");this._tickLabelPadding=a;this.redraw();return this};c.prototype.margin=function(a){if(null==a)return this._margin;if(0>a)throw Error("margin size must be positive");this._margin=a;this.redraw();return this};c.prototype.orientation=
function(a){if(null==a)return this._orientation;a=a.toLowerCase();if("top"!==a&&"bottom"!==a&&"left"!==a&&"right"!==a)throw Error("unsupported orientation");this._orientation=a;this.redraw();return this};c.prototype.showEndTickLabels=function(){return this._showEndTickLabels};c.prototype._showAllTickMarks=function(){this._tickMarkContainer.selectAll("."+c.TICK_MARK_CLASS).each(function(){f.select(this).style("visibility","inherit")})};c.prototype._showAllTickLabels=function(){this._tickLabelContainer.selectAll("."+
c.TICK_LABEL_CLASS).each(function(){f.select(this).style("visibility","inherit")})};c.prototype._hideOverflowingTickLabels=function(){var a=this.element().node().getBoundingClientRect(),b=this._tickLabelContainer.selectAll("."+c.TICK_LABEL_CLASS);b.empty()||b.each(function(){l.DOM.clientRectInside(this.getBoundingClientRect(),a)||f.select(this).style("visibility","hidden")})};c.prototype._hideTickMarksWithoutLabel=function(){var a=this._tickMarkContainer.selectAll("."+c.TICK_MARK_CLASS),b=this._tickLabelContainer.selectAll("."+
c.TICK_LABEL_CLASS).filter(function(){var a=f.select(this).style("visibility");return"inherit"===a||"visible"===a}).data();a.each(function(a){-1===b.indexOf(a)&&f.select(this).style("visibility","hidden")})};c.prototype.invalidateCache=function(){a.prototype.invalidateCache.call(this);this._annotationMeasurer.reset()};return c}(a.Component);d.END_TICK_MARK_CLASS="end-tick-mark";d.TICK_MARK_CLASS="tick-mark";d.TICK_LABEL_CLASS="tick-label";d.ANNOTATION_LINE_CLASS="annotation-line";d.ANNOTATION_RECT_CLASS=
"annotation-rect";d.ANNOTATION_CIRCLE_CLASS="annotation-circle";d.ANNOTATION_LABEL_CLASS="annotation-label";d._ANNOTATION_LABEL_PADDING=4;c.Axis=d},function(a,c){c.SHOW_WARNINGS=!0;c.ADD_TITLE_ELEMENTS=!0},function(a,c,d){var b=d(0);a=function(){function a(){this._eventToProcessingFunction={};this._eventNameToCallbackSet={};this._connected=!1}a.prototype._hasNoCallbacks=function(){for(var a=Object.keys(this._eventNameToCallbackSet),b=0;b<a.length;b++)if(0!==this._eventNameToCallbackSet[a[b]].size)return!1;
return!0};a.prototype._connect=function(){var a=this;this._connected||(Object.keys(this._eventToProcessingFunction).forEach(function(b){document.addEventListener(b,a._eventToProcessingFunction[b])}),this._connected=!0)};a.prototype._disconnect=function(){var a=this;this._connected&&this._hasNoCallbacks()&&(Object.keys(this._eventToProcessingFunction).forEach(function(b){document.removeEventListener(b,a._eventToProcessingFunction[b])}),this._connected=!1)};a.prototype._addCallbackForEvent=function(a,
c){null==this._eventNameToCallbackSet[a]&&(this._eventNameToCallbackSet[a]=new b.CallbackSet);this._eventNameToCallbackSet[a].add(c);this._connect()};a.prototype._removeCallbackForEvent=function(a,b){null!=this._eventNameToCallbackSet[a]&&this._eventNameToCallbackSet[a].delete(b);this._disconnect()};a.prototype._callCallbacksForEvent=function(a){for(var b=[],c=1;c<arguments.length;c++)b[c-1]=arguments[c];c=this._eventNameToCallbackSet[a];null!=c&&c.callCallbacks.apply(c,b)};return a}();c.Dispatcher=
a},function(a,c,d){var b=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},f=d(1),g=d(5),k=d(7),l=d(10),m=d(6),n=d(32),q=d(3),p=d(11),t=d(0);a=d(9);var r=d(17),u=d(2);d=d(16);c.BarOrientation=a.makeEnum(["vertical","horizontal"]);c.LabelsPosition=a.makeEnum(["start","middle","end","outside"]);c.BarAlignment=a.makeEnum(["start","middle","end"]);d=function(a){function d(b){void 0===
b&&(b="vertical");var d=a.call(this)||this;d._labelFormatter=l.identity();d._labelsEnabled=!1;d._labelsPosition=c.LabelsPosition.end;d._hideBarsIfAnyAreTooWide=!0;d._barAlignment="middle";d._fixedWidth=!0;d._barPixelWidth=0;d.addClass("bar-plot");if("vertical"!==b&&"horizontal"!==b)throw Error(b+" is not a valid orientation for Plots.Bar");d._isVertical="vertical"===b;d.animator("baseline",new k.Null);d.attr("fill",(new q.Color).range()[0]);d.attr("width",function(){return d._barPixelWidth});d._labelConfig=
new t.Map;d._baselineValueProvider=function(){return[d.baselineValue()]};d._updateBarPixelWidthCallback=function(){return d._updateBarPixelWidth()};return d}b(d,a);d.prototype.x=function(b,c){if(null==b)return a.prototype.x.call(this);null==c?a.prototype.x.call(this,b):(a.prototype.x.call(this,b,c),c.onUpdate(this._updateBarPixelWidthCallback));this._updateWidthAccesor();this._updateValueScale();return this};d.prototype.y=function(b,c){if(null==b)return a.prototype.y.call(this);null==c?a.prototype.y.call(this,
b):(a.prototype.y.call(this,b,c),c.onUpdate(this._updateBarPixelWidthCallback));this._updateValueScale();return this};d.prototype.barEnd=function(){return this._propertyBindings.get(d._BAR_END_KEY)};d.prototype.barAlignment=function(a){if(null==a)return this._barAlignment;this._barAlignment=a;this.render();return this};d.prototype.orientation=function(){return this._isVertical?"vertical":"horizontal"};d.prototype.render=function(){this._updateBarPixelWidth();this._updateExtents();a.prototype.render.call(this);
return this};d.prototype._createDrawer=function(){return new m.ProxyDrawer(function(){return new n.RectangleSVGDrawer(d._BAR_AREA_CLASS)},n.RectangleCanvasDrawStep)};d.prototype._setup=function(){a.prototype._setup.call(this);this._baseline=this._renderArea.append("line").classed("baseline",!0)};d.prototype.baselineValue=function(){if(null!=this._baselineValue)return this._baselineValue;if(!this._projectorsReady())return 0;var a=this._isVertical?this.y().scale:this.x().scale;return a?a instanceof
q.Time?new Date(0):0:0};d.prototype.addDataset=function(b){a.prototype.addDataset.call(this,b);this._updateBarPixelWidth();return this};d.prototype._addDataset=function(b){b.onUpdate(this._updateBarPixelWidthCallback);a.prototype._addDataset.call(this,b);return this};d.prototype.removeDataset=function(b){b.offUpdate(this._updateBarPixelWidthCallback);a.prototype.removeDataset.call(this,b);this._updateBarPixelWidth();return this};d.prototype._removeDataset=function(b){b.offUpdate(this._updateBarPixelWidthCallback);
a.prototype._removeDataset.call(this,b);return this};d.prototype.datasets=function(b){if(null==b)return a.prototype.datasets.call(this);a.prototype.datasets.call(this,b);this._updateBarPixelWidth();return this};d.prototype.labelsEnabled=function(a,b){if(null==a)return this._labelsEnabled;this._labelsEnabled=a;null!=b&&(this._labelsPosition=b);this.render();return this};d.prototype.labelFormatter=function(a){if(null==a)return this._labelFormatter;this._labelFormatter=a;this.render();return this};d.prototype._createNodesForDataset=
function(b){var c=a.prototype._createNodesForDataset.call(this,b),e=this._renderArea.append("g").classed(d._LABEL_AREA_CLASS,!0),f=new g.SvgContext(e.node()),k=new g.CacheMeasurer(f);f=new g.Writer(k,f);this._labelConfig.set(b,{labelArea:e,measurer:k,writer:f});return c};d.prototype._removeDatasetNodes=function(b){a.prototype._removeDatasetNodes.call(this,b);var c=this._labelConfig.get(b);null!=c&&(c.labelArea.remove(),this._labelConfig.delete(b))};d.prototype.entityNearest=function(a){var b=this,
c=Infinity,d=Infinity,e=this._isVertical?a.x:a.y,g=this._isVertical?a.y:a.x,k=this.bounds(),l;this._getEntityStore().entities().forEach(function(m){if(b._entityVisibleOnPlot(m,k)){var n=0,q=0,r=b._pixelPoint(m.datum,m.index,m.dataset),p=t.DOM.elementBBox(f.select(m.drawer.getVisualPrimitiveAtIndex(m.validDatumIndex)));t.DOM.intersectsBBox(a.x,a.y,p,.5)||(n=Math.abs(e-(b._isVertical?r.x:r.y)),q=b._isVertical?p.y:p.x,p=q+(b._isVertical?p.height:p.width),q=g>=q-.5&&g<=p+.5?0:Math.abs(g-(b._isVertical?
r.y:r.x)));if(n<c||n===c&&q<d)l=m,c=n,d=q}});if(void 0!==l)return this._lightweightPlotEntityToPlotEntity(l)};d.prototype._entityVisibleOnPlot=function(a,b){var c={min:0,max:b.bottomRight.x-b.topLeft.x};b={min:0,max:b.bottomRight.y-b.topLeft.y};var d=this._generateAttrToProjector(),e=a.datum,f=a.index;a=a.dataset;a={x:d.x(e,f,a),y:d.y(e,f,a),width:d.width(e,f,a),height:d.height(e,f,a)};return t.DOM.intersectsBBox(c,b,a)};d.prototype.entitiesAt=function(a){return this._entitiesIntersecting(a.x,a.y)};
d.prototype.entitiesIn=function(a,b){if(null==b){var c={min:a.topLeft.x,max:a.bottomRight.x};a={min:a.topLeft.y,max:a.bottomRight.y}}else c=a,a=b;return this._entitiesIntersecting(c,a)};d.prototype._entitiesIntersecting=function(a,b){var c=this,d=[];this._getEntityStore().entities().forEach(function(e){var g=f.select(e.drawer.getVisualPrimitiveAtIndex(e.validDatumIndex));t.DOM.intersectsBBox(a,b,t.DOM.elementBBox(g))&&d.push(c._lightweightPlotEntityToPlotEntity(e))});return d};d.prototype._updateValueScale=
function(){if(this._projectorsReady()){var a=this._isVertical?this.y().scale:this.x().scale;a instanceof p.QuantitativeScale&&(a.addPaddingExceptionsProvider(this._baselineValueProvider),a.addIncludedValuesProvider(this._baselineValueProvider))}};d.prototype._additionalPaint=function(a){var b=this,c=(this._isVertical?this.y().scale:this.x().scale).scale(this.baselineValue());c={x1:this._isVertical?0:c,y1:this._isVertical?c:0,x2:this._isVertical?this.width():c,y2:this._isVertical?c:this.height()};
this._getAnimator("baseline").animate(this._baseline,c);this.datasets().forEach(function(a){return b._labelConfig.get(a).labelArea.selectAll("g").remove()});this._labelsEnabled&&t.Window.setTimeout(function(){return b._drawLabels()},a)};d.prototype._extentsForProperty=function(b){var c=this,d=a.prototype._extentsForProperty.call(this,b);if("x"===b&&this._isVertical)b=this.x();else{if("y"!==b||this._isVertical)return d;b=this.y()}if(!(b&&b.scale&&b.scale instanceof p.QuantitativeScale))return d;var e=
b.scale,g=this._barPixelWidth;return d=d.map(function(a){return f.extent([e.invert(c._getAlignedX(e.scale(a[0]),g)),e.invert(c._getAlignedX(e.scale(a[0]),g)+g),e.invert(c._getAlignedX(e.scale(a[1]),g)),e.invert(c._getAlignedX(e.scale(a[1]),g)+g)])})};d.prototype._getAlignedX=function(a,b){this._isVertical||(a-=b,b*=-1);switch(this._barAlignment){case "start":return a;case "end":return a-b;default:return a-b/2}};d.prototype._drawLabels=function(){var a=this,b=this._getDataToDraw(),c=this._generateAttrToProjector(),
d=this.datasets().some(function(d){return b.get(d).some(function(b,e){return a._drawLabel(b,e,d,c)})});this._hideBarsIfAnyAreTooWide&&d&&this.datasets().forEach(function(b){return a._labelConfig.get(b).labelArea.selectAll("g").remove()})};d.prototype._drawLabel=function(a,b,c,e){var f=this._labelConfig.get(c),g=f.labelArea,k=f.measurer;f=f.writer;var l=this._isVertical?this.y().accessor:this.x().accessor,m=l(a,b,c),n=this._isVertical?this.y().scale:this.x().scale,q=null!=n?n.scale(m):m,r=null!=n?
n.scale(this.baselineValue()):this.baselineValue(),p={x:e.x(a,b,c),y:e.y(a,b,c)};n={width:e.width(a,b,c),height:e.height(a,b,c)};l=this._labelFormatter(l(a,b,c));k=k.measure(l);m=this._getShowLabelOnBar(p,n,k);var t=this._calculateLabelProperties(p,n,k,m,this._isVertical?q<=r:q<r);q=t.containerDimensions;r=t.labelContainerOrigin;p=t.labelOrigin;t=t.alignment;a=e.fill(a,b,c);g=this._createLabelContainer(g,r,p,k,m,a);f.write(l,q.width,q.height,{xAlign:t.x,yAlign:t.y},g.node());return this._isVertical?
n.width<k.width+2*d._LABEL_PADDING:n.height<k.height+2*d._LABEL_PADDING};d.prototype._getShowLabelOnBar=function(a,b,e){if(this._labelsPosition===c.LabelsPosition.outside)return!1;a=this._isVertical?a.y:a.x;b=this._isVertical?b.height:b.width;var f=this._isVertical?this.height():this.width();e=this._isVertical?e.height:e.width;var g=b;a+b>f?g=f-a:0>a&&(g=a+b);return e+2*d._LABEL_PADDING<=g};d.prototype._calculateLabelProperties=function(a,b,e,f,g){function k(a){switch(a){case "topLeft":r=l._isVertical?
"top":"left";t+=d._LABEL_PADDING;u+=d._LABEL_PADDING;break;case "center":u+=(n+q)/2;break;case "bottomRight":r=l._isVertical?"bottom":"right",t-=d._LABEL_PADDING,u+=p-d._LABEL_PADDING-q}}var l=this,m=this._isVertical?a.y:a.x,n=this._isVertical?b.height:b.width,q=this._isVertical?e.height:e.width,r="center",p=n,t=m,u=m;if(f)switch(this._labelsPosition){case c.LabelsPosition.start:g?k("bottomRight"):k("topLeft");break;case c.LabelsPosition.middle:k("center");break;case c.LabelsPosition.end:g?k("topLeft"):
k("bottomRight")}else g?(r=this._isVertical?"top":"left",p=n+d._LABEL_PADDING+q,t-=d._LABEL_PADDING+q,u-=d._LABEL_PADDING+q):(r=this._isVertical?"bottom":"right",p=n+d._LABEL_PADDING+q,u+=n+d._LABEL_PADDING);return{containerDimensions:{width:this._isVertical?b.width:p,height:this._isVertical?p:b.height},labelContainerOrigin:{x:this._isVertical?a.x:t,y:this._isVertical?t:a.y},labelOrigin:{x:this._isVertical?a.x+b.width/2-e.width/2:u,y:this._isVertical?u:a.y+b.height/2-e.height/2},alignment:{x:this._isVertical?
"center":r,y:this._isVertical?r:"center"}}};d.prototype._createLabelContainer=function(a,b,c,d,e,f){a=a.append("g").attr("transform","translate("+b.x+", "+b.y+")");e?(a.classed("on-bar-label",!0),e=1.6*t.Color.contrast("white",f)<t.Color.contrast("black",f),a.classed(e?"dark-label":"light-label",!0)):a.classed("off-bar-label",!0);c=0>c.x||0>c.y||c.x+d.width>this.width()||c.y+d.height>this.height();a.style("visibility",c?"hidden":"inherit");return a};d.prototype._generateDrawSteps=function(){var a=
[];if(this._animateOnNextRender()){var b=this._generateAttrToProjector(),c=(this._isVertical?this.y().scale:this.x().scale).scale(this.baselineValue()),d=this._isVertical?"height":"width";b[this._isVertical?"y":"x"]=function(){return c};b[d]=function(){return 0};a.push({attrToProjector:b,animator:this._getAnimator(r.Animator.RESET)})}a.push({attrToProjector:this._generateAttrToProjector(),animator:this._getAnimator(r.Animator.MAIN)});return a};d.prototype._generateAttrToProjector=function(){function b(a,
b,c){return Math.abs(k-n(a,b,c))}var c=this,d=a.prototype._generateAttrToProjector.call(this),e=this._isVertical?this.y().scale:this.x().scale,f=this._isVertical?"y":"x",g=this._isVertical?"x":"y",k=e.scale(this.baselineValue()),l=this._isVertical?u.Plot._scaledAccessor(this.x()):u.Plot._scaledAccessor(this.y()),m=d.width,n=this._isVertical?u.Plot._scaledAccessor(this.y()):u.Plot._scaledAccessor(this.x()),q=d.gap;e=null==q?m:function(a,b,c){return m(a,b,c)-q(a,b,c)};d.width=this._isVertical?e:b;d.height=
this._isVertical?b:e;d[g]=function(a,b,d){return c._getAlignedX(l(a,b,d),m(a,b,d))};d[f]=function(a,b,c){a=n(a,b,c);return a>k?k:a};return d};d.prototype._updateWidthAccesor=function(){var a=this,b=this._isVertical?this.x():this.y(),c=this.barEnd();null!=b&&null!=c?(this._fixedWidth=!1,this.attr("width",function(a,d,e){var f=b.accessor(a,d,e);a=c.accessor(a,d,e);f=b.scale?b.scale.scale(f):f;a=c.scale?c.scale.scale(a):a;return Math.abs(a-f)})):(this._fixedWidth=!0,this._updateBarPixelWidth(),this.attr("width",
function(){return a._barPixelWidth}))};d.prototype._getBarPixelWidth=function(){if(!this._projectorsReady())return 0;var a=this._isVertical?this.x().scale:this.y().scale;if(a instanceof q.Category)var b=a.rangeBand();else{var c=this._isVertical?this.x().accessor:this.y().accessor;b=f.set(t.Array.flatten(this.datasets().map(function(a){return a.data().map(function(b,d){return c(b,d,a)}).filter(function(a){return null!=a}).map(function(a){return a.valueOf()})}))).values().map(function(a){return+a});
b.sort(function(a,b){return a-b});b=b.map(function(b){return a.scale(b)});b=f.pairs(b);var e=this._isVertical?this.width():this.height();b=t.Math.min(b,function(a){return Math.abs(a[1]-a[0])},e*d._SINGLE_BAR_DIMENSION_RATIO);b*=d._BAR_WIDTH_RATIO}return b};d.prototype._updateBarPixelWidth=function(){this._fixedWidth&&(this._barPixelWidth=this._getBarPixelWidth())};d.prototype.entities=function(b){void 0===b&&(b=this.datasets());return this._projectorsReady()?a.prototype.entities.call(this,b):[]};
d.prototype._pixelPoint=function(a,b,c){var d=this._generateAttrToProjector(),e=d.x(a,b,c),f=d.y(a,b,c),g=d.width(a,b,c);d=d.height(a,b,c);a=(this._isVertical?u.Plot._scaledAccessor(this.y()):u.Plot._scaledAccessor(this.x()))(a,b,c);b=(this._isVertical?this.y().scale:this.x().scale).scale(this.baselineValue());this._isVertical?(e+=g/2,f=a<=b?f:f+d):(e=a>=b?e+g:e,f+=d/2);return{x:e,y:f}};d.prototype._uninstallScaleForKey=function(b,c){b.offUpdate(this._updateBarPixelWidthCallback);a.prototype._uninstallScaleForKey.call(this,
b,c)};d.prototype._getDataToDraw=function(){var a=new t.Map,b=this._generateAttrToProjector();this.datasets().forEach(function(c){var d=c.data().filter(function(a,d){return t.Math.isValidNumber(b.x(a,d,c))&&t.Math.isValidNumber(b.y(a,d,c))&&t.Math.isValidNumber(b.width(a,d,c))&&t.Math.isValidNumber(b.height(a,d,c))});a.set(c,d)});return a};return d}(d.XYPlot);d._BAR_WIDTH_RATIO=.95;d._SINGLE_BAR_DIMENSION_RATIO=.4;d._BAR_AREA_CLASS="bar-area";d._BAR_END_KEY="barEnd";d._LABEL_AREA_CLASS="bar-label-text-area";
d._LABEL_PADDING=10;c.Bar=d},function(a,c,d){function b(a){g.SHOW_WARNINGS&&console.warn(a)}function f(a,b){for(var c=[],d=2;d<arguments.length;d++)c[d-2]=arguments[d];return 0===b?(a(c),-1):window.setTimeout(a,b,c)}var g=d(22);c.warn=b;c.setTimeout=f;c.debounce=function(a,b,c){function d(){b.apply(c,g)}var e=null,g=[];return function(){g=Array.prototype.slice.call(arguments);clearTimeout(e);e=f(d,a)}};c.deprecated=function(a,c,d){void 0===d&&(d="");b("Method "+a+" has been deprecated in version "+
c+". Please refer to the release notes. "+d)}},function(a,c,d){var b=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},f=d(1),g=d(5),k=d(10),l=d(3),m=d(0);a=d(9);var n=d(21);c.TimeInterval=a.makeEnum("second minute hour day week month year".split(" "));c.TimeAxisOrientation=a.makeEnum(["top","bottom"]);c.TierLabelPosition=a.makeEnum(["between","center"]);d=function(a){function c(b,
d){b=a.call(this,b,d)||this;b._maxTimeIntervalPrecision=null;b._tierLabelPositions=[];b.addClass("time-axis");b.tickLabelPadding(5);b.axisConfigurations(c._DEFAULT_TIME_AXIS_CONFIGURATIONS);b.annotationFormatter(k.time("%a %b %d, %Y"));return b}b(c,a);c.prototype.tierLabelPositions=function(a){if(null==a)return this._tierLabelPositions;if(!a.every(function(a){return"between"===a.toLowerCase()||"center"===a.toLowerCase()}))throw Error("Unsupported position for tier labels");this._tierLabelPositions=
a;this.redraw();return this};c.prototype.maxTimeIntervalPrecision=function(a){if(null==a)return this._maxTimeIntervalPrecision;this._maxTimeIntervalPrecision=a;this.redraw();return this};c.prototype.currentAxisConfiguration=function(){return this._possibleTimeAxisConfigurations[this._mostPreciseConfigIndex]};c.prototype.axisConfigurations=function(a){if(null!=a){this._possibleTimeAxisConfigurations=a;this._numTiers=m.Math.max(this._possibleTimeAxisConfigurations.map(function(a){return a.length}),
0);this._isAnchored&&this._setupDomElements();a=this.tierLabelPositions();for(var b=[],c=0;c<this._numTiers;c++)b.push(a[c]||"between");this.tierLabelPositions(b);this.redraw()}};c.prototype._getMostPreciseConfigurationIndex=function(){var a=this,b=this._possibleTimeAxisConfigurations.length;this._possibleTimeAxisConfigurations.forEach(function(c,d){d<b&&c.every(function(b){return a._checkTimeAxisTierConfiguration(b)})&&(b=d)});b===this._possibleTimeAxisConfigurations.length&&(m.Window.warn("zoomed out too far: could not find suitable interval to display labels"),
--b);return b};c.prototype.orientation=function(b){if(b&&("right"===b.toLowerCase()||"left"===b.toLowerCase()))throw Error(b+" is not a supported orientation for TimeAxis - only horizontal orientations are supported");return a.prototype.orientation.call(this,b)};c.prototype._computeHeight=function(){var a=this._measurer.measure().height;this._tierHeights=[];for(var b=0;b<this._numTiers;b++)this._tierHeights.push(a+this.tickLabelPadding()+("between"===this._tierLabelPositions[b]?0:this._maxLabelTickLength()));
return f.sum(this._tierHeights)};c.prototype._getIntervalLength=function(a){var b=this._scale.domain()[0];a=l.Time.timeIntervalToD3Time(a.interval).offset(b,a.step);return a>this._scale.domain()[1]?this.width():Math.abs(this._scale.scale(a)-this._scale.scale(b))};c.prototype._maxWidthForInterval=function(a){return this._measurer.measure(a.formatter(c._LONG_DATE)).width};c.prototype._checkTimeAxisTierConfiguration=function(a){if(null!=this._maxTimeIntervalPrecision){var b=c._SORTED_TIME_INTERVAL_INDEX[this._maxTimeIntervalPrecision],
d=c._SORTED_TIME_INTERVAL_INDEX[a.interval];if(null!=b&&null!=d&&d<b)return!1}b=this._maxWidthForInterval(a)+2*this.tickLabelPadding();return Math.min(this._getIntervalLength(a),this.width())>=b};c.prototype._sizeFromOffer=function(b,c){var d=a.prototype._sizeFromOffer.call(this,b,c);b=this._tierHeights.reduce(function(a,b){return a+b>d.height?a:a+b});c=this.margin()+(this.annotationsEnabled()?this.annotationTierCount()*this._annotationTierHeight():0);d.height=Math.min(d.height,b+c);return d};c.prototype._setup=
function(){a.prototype._setup.call(this);this._setupDomElements()};c.prototype._setupDomElements=function(){this.content().selectAll("."+c.TIME_AXIS_TIER_CLASS).remove();this._tierLabelContainers=[];this._tierMarkContainers=[];this._tierBaselines=[];this._tickLabelContainer.remove();this._baseline.remove();for(var a=0;a<this._numTiers;++a){var b=this.content().append("g").classed(c.TIME_AXIS_TIER_CLASS,!0);this._tierLabelContainers.push(b.append("g").classed(n.Axis.TICK_LABEL_CLASS+"-container",!0));
this._tierMarkContainers.push(b.append("g").classed(n.Axis.TICK_MARK_CLASS+"-container",!0));this._tierBaselines.push(b.append("line").classed("baseline",!0))}a=new g.SvgContext(this._tierLabelContainers[0].node());this._measurer=new g.CacheMeasurer(a)};c.prototype._getTickIntervalValues=function(a){return this._scale.tickInterval(a.interval,a.step)};c.prototype._getTickValues=function(){var a=this;return this._possibleTimeAxisConfigurations[this._mostPreciseConfigIndex].reduce(function(b,c){return b.concat(a._getTickIntervalValues(c))},
[])};c.prototype._cleanTiers=function(){for(var a=0;a<this._tierLabelContainers.length;a++)this._tierLabelContainers[a].selectAll("."+n.Axis.TICK_LABEL_CLASS).remove(),this._tierMarkContainers[a].selectAll("."+n.Axis.TICK_MARK_CLASS).remove(),this._tierBaselines[a].style("visibility","hidden")};c.prototype._getTickValuesForConfiguration=function(a){a=this._scale.tickInterval(a.interval,a.step);var b=this._scale.domain(),c=a.map(function(a){return a.valueOf()});-1===c.indexOf(b[0].valueOf())&&a.unshift(b[0]);
-1===c.indexOf(b[1].valueOf())&&a.push(b[1]);return a};c.prototype._renderTierLabels=function(a,b,c){var d=this,e=this._getTickValuesForConfiguration(b),g=[];"between"===this._tierLabelPositions[c]&&1===b.step?e.map(function(a,b){b+1>=e.length||g.push(new Date((e[b+1].valueOf()-e[b].valueOf())/2+e[b].valueOf()))}):g=e;a=a.selectAll("."+n.Axis.TICK_LABEL_CLASS).data(g,function(a){return String(a.valueOf())});var k=a.enter().append("g").classed(n.Axis.TICK_LABEL_CLASS,!0);k.append("text");var l="center"===
this._tierLabelPositions[c]||1===b.step?0:this.tickLabelPadding();var m="bottom"===this.orientation()?f.sum(this._tierHeights.slice(0,c+1))-this.tickLabelPadding():"center"===this._tierLabelPositions[c]?this.height()-f.sum(this._tierHeights.slice(0,c))-this.tickLabelPadding()-this._maxLabelTickLength():this.height()-f.sum(this._tierHeights.slice(0,c))-this.tickLabelPadding();k=a.merge(k);var q=k.selectAll("text");0<q.size()&&q.attr("transform","translate("+l+","+m+")");a.exit().remove();k.attr("transform",
function(a){return"translate("+d._scale.scale(a)+",0)"});c="center"===this._tierLabelPositions[c]||1===b.step?"middle":"start";k.selectAll("text").text(b.formatter).style("text-anchor",c)};c.prototype._renderTickMarks=function(a,b){a=this._tierMarkContainers[b].selectAll("."+n.Axis.TICK_MARK_CLASS).data(a);var c=a.enter().append("line").classed(n.Axis.TICK_MARK_CLASS,!0).merge(a),d=this._generateTickMarkAttrHash(),e=this._tierHeights.slice(0,b).reduce(function(a,b){return a+b},0);"bottom"===this.orientation()?
(d.y1=e,d.y2=e+("center"===this._tierLabelPositions[b]?this.innerTickLength():this._tierHeights[b])):(d.y1=this.height()-e,d.y2=this.height()-(e+("center"===this._tierLabelPositions[b]?this.innerTickLength():this._tierHeights[b])));c.attrs(d);"bottom"===this.orientation()?(d.y1=e,d.y2=e+("center"===this._tierLabelPositions[b]?this.endTickLength():this._tierHeights[b])):(d.y1=this.height()-e,d.y2=this.height()-(e+("center"===this._tierLabelPositions[b]?this.endTickLength():this._tierHeights[b])));
f.select(c.nodes()[0]).attrs(d);f.select(c.nodes()[c.size()-1]).attrs(d);f.select(c.nodes()[0]).classed(n.Axis.END_TICK_MARK_CLASS,!0);f.select(c.nodes()[c.size()-1]).classed(n.Axis.END_TICK_MARK_CLASS,!0);a.exit().remove()};c.prototype._renderLabellessTickMarks=function(a){a=this._tickMarkContainer.selectAll("."+n.Axis.TICK_MARK_CLASS).data(a);var b=a.enter().append("line").classed(n.Axis.TICK_MARK_CLASS,!0).merge(a),c=this._generateTickMarkAttrHash();c.y2="bottom"===this.orientation()?this.tickLabelPadding():
this.height()-this.tickLabelPadding();b.attrs(c);a.exit().remove()};c.prototype._generateLabellessTicks=function(){return 1>this._mostPreciseConfigIndex?[]:this._getTickIntervalValues(this._possibleTimeAxisConfigurations[this._mostPreciseConfigIndex-1][0])};c.prototype.renderImmediately=function(){var a=this;this._mostPreciseConfigIndex=this._getMostPreciseConfigurationIndex();var b=this._possibleTimeAxisConfigurations[this._mostPreciseConfigIndex];this._cleanTiers();b.forEach(function(b,c){return a._renderTierLabels(a._tierLabelContainers[c],
b,c)});for(var c=b.map(function(b){return a._getTickValuesForConfiguration(b)}),d=0,e=0;e<Math.max(b.length,1);++e){var f=this._generateBaselineAttrHash();f.y1+="bottom"===this.orientation()?d:-d;f.y2=f.y1;this._tierBaselines[e].attrs(f).style("visibility","inherit");d+=this._tierHeights[e]}d=[];e=this._scale.domain();e=this._scale.scale(e[1])-this._scale.scale(e[0]);1.5*this._getIntervalLength(b[0])>=e&&(d=this._generateLabellessTicks());this._renderLabellessTickMarks(d);this._hideOverflowingTiers();
for(e=0;e<b.length;++e)this._renderTickMarks(c[e],e),this._hideOverlappingAndCutOffLabels(e);this.annotationsEnabled()?this._drawAnnotations():this._removeAnnotations();return this};c.prototype._hideOverflowingTiers=function(){var a=this,b=this.height(),d=0;this.content().selectAll("."+c.TIME_AXIS_TIER_CLASS).attr("visibility",function(c,e){d+=a._tierHeights[e];return d<=b?"inherit":"hidden"})};c.prototype._hideOverlappingAndCutOffLabels=function(a){var b=this,c=this.element().node().getBoundingClientRect(),
d=this._tierMarkContainers[a].selectAll("."+n.Axis.TICK_MARK_CLASS).filter(function(){var a=f.select(this).style("visibility");return"visible"===a||"inherit"===a}).nodes().map(function(a){return a.getBoundingClientRect()}),e;this._tierLabelContainers[a].selectAll("."+n.Axis.TICK_LABEL_CLASS).filter(function(){var a=f.select(this).style("visibility");return"visible"===a||"inherit"===a}).each(function(a,g){a=this.getBoundingClientRect();var k=f.select(this),l=d[g],n=d[g+1];g=null!=e&&m.DOM.clientRectsOverlap(a,
e);l=null!=l&&m.DOM.clientRectsOverlap(a,l);n=null!=n&&m.DOM.clientRectsOverlap(a,n);!(Math.floor(c.left)<=Math.ceil(a.left)&&Math.floor(c.top)<=Math.ceil(a.top)&&Math.floor(a.right)<=Math.ceil(c.left+b.width())&&Math.floor(a.bottom)<=Math.ceil(c.top+b.height()))||g||l||n?k.style("visibility","hidden"):(e=a,k.style("visibility","inherit"))})};c.prototype.invalidateCache=function(){a.prototype.invalidateCache.call(this);this._measurer.reset()};return c}(n.Axis);d.TIME_AXIS_TIER_CLASS="time-axis-tier";
d._SORTED_TIME_INTERVAL_INDEX=(q={},q[c.TimeInterval.second]=0,q[c.TimeInterval.minute]=1,q[c.TimeInterval.hour]=2,q[c.TimeInterval.day]=3,q[c.TimeInterval.week]=4,q[c.TimeInterval.month]=5,q[c.TimeInterval.year]=6,q);d._DEFAULT_TIME_AXIS_CONFIGURATIONS=[[{interval:c.TimeInterval.second,step:1,formatter:k.time("%I:%M:%S %p")},{interval:c.TimeInterval.day,step:1,formatter:k.time("%B %e, %Y")}],[{interval:c.TimeInterval.second,step:5,formatter:k.time("%I:%M:%S %p")},{interval:c.TimeInterval.day,step:1,
formatter:k.time("%B %e, %Y")}],[{interval:c.TimeInterval.second,step:10,formatter:k.time("%I:%M:%S %p")},{interval:c.TimeInterval.day,step:1,formatter:k.time("%B %e, %Y")}],[{interval:c.TimeInterval.second,step:15,formatter:k.time("%I:%M:%S %p")},{interval:c.TimeInterval.day,step:1,formatter:k.time("%B %e, %Y")}],[{interval:c.TimeInterval.second,step:30,formatter:k.time("%I:%M:%S %p")},{interval:c.TimeInterval.day,step:1,formatter:k.time("%B %e, %Y")}],[{interval:c.TimeInterval.minute,step:1,formatter:k.time("%I:%M %p")},
{interval:c.TimeInterval.day,step:1,formatter:k.time("%B %e, %Y")}],[{interval:c.TimeInterval.minute,step:5,formatter:k.time("%I:%M %p")},{interval:c.TimeInterval.day,step:1,formatter:k.time("%B %e, %Y")}],[{interval:c.TimeInterval.minute,step:10,formatter:k.time("%I:%M %p")},{interval:c.TimeInterval.day,step:1,formatter:k.time("%B %e, %Y")}],[{interval:c.TimeInterval.minute,step:15,formatter:k.time("%I:%M %p")},{interval:c.TimeInterval.day,step:1,formatter:k.time("%B %e, %Y")}],[{interval:c.TimeInterval.minute,
step:30,formatter:k.time("%I:%M %p")},{interval:c.TimeInterval.day,step:1,formatter:k.time("%B %e, %Y")}],[{interval:c.TimeInterval.hour,step:1,formatter:k.time("%I %p")},{interval:c.TimeInterval.day,step:1,formatter:k.time("%B %e, %Y")}],[{interval:c.TimeInterval.hour,step:3,formatter:k.time("%I %p")},{interval:c.TimeInterval.day,step:1,formatter:k.time("%B %e, %Y")}],[{interval:c.TimeInterval.hour,step:6,formatter:k.time("%I %p")},{interval:c.TimeInterval.day,step:1,formatter:k.time("%B %e, %Y")}],
[{interval:c.TimeInterval.hour,step:12,formatter:k.time("%I %p")},{interval:c.TimeInterval.day,step:1,formatter:k.time("%B %e, %Y")}],[{interval:c.TimeInterval.day,step:1,formatter:k.time("%a %e")},{interval:c.TimeInterval.month,step:1,formatter:k.time("%B %Y")}],[{interval:c.TimeInterval.day,step:1,formatter:k.time("%e")},{interval:c.TimeInterval.month,step:1,formatter:k.time("%B %Y")}],[{interval:c.TimeInterval.month,step:1,formatter:k.time("%B")},{interval:c.TimeInterval.year,step:1,formatter:k.time("%Y")}],
[{interval:c.TimeInterval.month,step:1,formatter:k.time("%b")},{interval:c.TimeInterval.year,step:1,formatter:k.time("%Y")}],[{interval:c.TimeInterval.month,step:3,formatter:k.time("%b")},{interval:c.TimeInterval.year,step:1,formatter:k.time("%Y")}],[{interval:c.TimeInterval.month,step:6,formatter:k.time("%b")},{interval:c.TimeInterval.year,step:1,formatter:k.time("%Y")}],[{interval:c.TimeInterval.year,step:1,formatter:k.time("%Y")}],[{interval:c.TimeInterval.year,step:1,formatter:k.time("%y")}],
[{interval:c.TimeInterval.year,step:5,formatter:k.time("%Y")}],[{interval:c.TimeInterval.year,step:25,formatter:k.time("%Y")}],[{interval:c.TimeInterval.year,step:50,formatter:k.time("%Y")}],[{interval:c.TimeInterval.year,step:100,formatter:k.time("%Y")}],[{interval:c.TimeInterval.year,step:200,formatter:k.time("%Y")}],[{interval:c.TimeInterval.year,step:500,formatter:k.time("%Y")}],[{interval:c.TimeInterval.year,step:1E3,formatter:k.time("%Y")}]];d._LONG_DATE=new Date(9999,8,29,12,59,9999);c.Time=
d;var q},function(a,c,d){var b=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},f=d(12);a=function(a){function c(){var b=a.call(this)||this;b._detachCallback=function(a){return b.remove(a)};return b}b(c,a);c.prototype.anchor=function(b){var c=this;b=f.coerceExternalD3(b);a.prototype.anchor.call(this,b);this._forEach(function(a){return a.anchor(c.element())});return this};
c.prototype.render=function(){this._forEach(function(a){return a.render()});return this};c.prototype.has=function(){throw Error("has() is not implemented on ComponentContainer");};c.prototype._adoptAndAnchor=function(a){a.parent(this);a.onDetach(this._detachCallback);this._isAnchored&&a.anchor(this.element())};c.prototype.remove=function(a){this.has(a)&&(a.offDetach(this._detachCallback),this._remove(a),a.detach(),this.redraw());return this};c.prototype._remove=function(){return!1};c.prototype._forEach=
function(){throw Error("_forEach() is not implemented on ComponentContainer");};c.prototype.destroy=function(){a.prototype.destroy.call(this);this._forEach(function(a){return a.destroy()})};c.prototype.invalidateCache=function(){this._forEach(function(a){return a.invalidateCache()})};return c}(d(4).Component);c.ComponentContainer=a},function(a,c,d){function b(a){l.add(a);k.add(a);m||(m=!0,q.render())}var f=d(0);a=d(9);var g=d(36),k=new f.Set,l=new f.Set,m=!1,n=!1;c.Policy=a.makeEnum(["immediate",
"animationFrame","timeout"]);var q=new g.AnimationFrame;c.renderPolicy=function(a){if(null==a)return q;switch(a){case c.Policy.immediate:q=new g.Immediate;break;case c.Policy.animationFrame:q=new g.AnimationFrame;break;case c.Policy.timeout:q=new g.Timeout;break;default:f.Window.warn("Unrecognized renderPolicy: "+a)}};c.registerToRender=function(a){n&&f.Window.warn("Registered to render while other components are flushing: request may be ignored");k.add(a);m||(m=!0,q.render())};c.registerToComputeLayoutAndRender=
b;c.registerToComputeLayout=function(a){b(a)};c.flush=function(){if(m){l.forEach(function(a){return a.computeLayout()});k.forEach(function(a){return a.render()});n=!0;var a=new f.Set;k.forEach(function(b){try{b.renderImmediately()}catch(r){window.setTimeout(function(){throw r;},0),a.add(b)}});l=new f.Set;k=a;n=m=!1}}},function(a,c,d){var b=d(1);c.circle=function(){return function(a){return b.symbol().type(b.symbolCircle).size(Math.PI*Math.pow(a/2,2))}};c.square=function(){return function(a){return b.symbol().type(b.symbolSquare).size(Math.pow(a,
2))}};c.cross=function(){return function(a){return b.symbol().type(b.symbolCross).size(5/9*Math.pow(a,2))}};c.diamond=function(){return function(a){return b.symbol().type(b.symbolDiamond).size(Math.tan(Math.PI/6)*Math.pow(a,2)/2)}};c.triangle=function(){return function(a){return b.symbol().type(b.symbolTriangle).size(Math.sqrt(3)*Math.pow(a/2,2))}};c.star=function(){return function(a){return b.symbol().type(b.symbolStar).size(.8908130915292852*Math.pow(a/2,2))}};var f=3*(1/Math.sqrt(12)/2+1);c.wye=
function(){return function(a){return b.symbol().type(b.symbolWye).size(f*Math.pow(a/2.4,2))}}},function(a,c,d){var b=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},f=d(14),g=d(0),k=d(12),l=d(35);a=function(a){function c(){var b=a.call(this)||this;b._detectionRadius=3;b._resizable=!1;b._movable=!1;b._hasCorners=!0;b.addClass("drag-box-layer");b._dragInteraction=
new f.Drag;b._setUpCallbacks();b._dragInteraction.attachTo(b);b._dragStartCallbacks=new g.CallbackSet;b._dragCallbacks=new g.CallbackSet;b._dragEndCallbacks=new g.CallbackSet;return b}b(c,a);c.prototype._setUpCallbacks=function(){function a(a,b){0===m&&a.x===b.x&&a.y===b.y&&d.boxVisible(!1);d._dragEndCallbacks.callCallbacks(d.bounds())}function b(a,b){switch(m){case 0:g.x=b.x;g.y=b.y;break;case 1:e.bottom?g.y=b.y:e.top&&(f.y=b.y);e.right?g.x=b.x:e.left&&(f.x=b.x);break;case 2:a=b.x-k.x;var c=b.y-
k.y;f.x+=a;f.y+=c;g.x+=a;g.y+=c;k=b}d._setBounds({topLeft:f,bottomRight:g});d._xBoundsMode===l.PropertyMode.VALUE&&null!=d.xScale()&&d._setXExtent([d.xScale().invert(f.x),d.xScale().invert(g.x)]);d._yBoundsMode===l.PropertyMode.VALUE&&null!=d.yScale()&&d._setYExtent([d.yScale().invert(f.y),d.yScale().invert(g.y)]);d.render();d._dragCallbacks.callCallbacks(d.bounds())}function c(a){e=d._getResizingEdges(a);var b=d.bounds();b=b.topLeft.x<=a.x&&a.x<=b.bottomRight.x&&b.topLeft.y<=a.y&&a.y<=b.bottomRight.y;
d.boxVisible()&&(e.top||e.bottom||e.left||e.right)?m=1:d.boxVisible()&&d.movable()&&b?m=2:(m=0,d._setBounds({topLeft:a,bottomRight:a}),d._xBoundsMode===l.PropertyMode.VALUE&&null!=d.xScale()&&d._setXExtent([d.xScale().invert(a.x),d.xScale().invert(a.x)]),d._yBoundsMode===l.PropertyMode.VALUE&&null!=d.yScale()&&d._setYExtent([d.yScale().invert(a.y),d.yScale().invert(a.y)]),d.render());d.boxVisible(!0);b=d.bounds();f={x:b.topLeft.x,y:b.topLeft.y};g={x:b.bottomRight.x,y:b.bottomRight.y};k=a;d._dragStartCallbacks.callCallbacks(b)}
var d=this,e,f,g,k,m=0;this._dragInteraction.onDragStart(c);this._dragInteraction.onDrag(b);this._dragInteraction.onDragEnd(a);this._disconnectInteraction=function(){d._dragInteraction.offDragStart(c);d._dragInteraction.offDrag(b);d._dragInteraction.offDragEnd(a);d._dragInteraction.detachFrom()}};c.prototype._setup=function(){function b(){return c._box.append("line").styles({opacity:0,stroke:"pink","pointer-events":"visibleStroke"})}var c=this;a.prototype._setup.call(this);this._detectionEdgeT=b().classed("drag-edge-tb",
!0);this._detectionEdgeB=b().classed("drag-edge-tb",!0);this._detectionEdgeL=b().classed("drag-edge-lr",!0);this._detectionEdgeR=b().classed("drag-edge-lr",!0);if(this._hasCorners){var d=function(){return c._box.append("circle").styles({opacity:0,fill:"pink","pointer-events":"visibleFill"})};this._detectionCornerTL=d().classed("drag-corner-tl",!0);this._detectionCornerTR=d().classed("drag-corner-tr",!0);this._detectionCornerBL=d().classed("drag-corner-bl",!0);this._detectionCornerBR=d().classed("drag-corner-br",
!0)}};c.prototype._getResizingEdges=function(a){var b={top:!1,bottom:!1,left:!1,right:!1};if(!this.resizable())return b;var c=this.bounds(),d=c.topLeft.y,e=c.bottomRight.y,f=c.topLeft.x;c=c.bottomRight.x;var g=this._detectionRadius;f-g<=a.x&&a.x<=c+g&&(b.top=d-g<=a.y&&a.y<=d+g,b.bottom=e-g<=a.y&&a.y<=e+g);d-g<=a.y&&a.y<=e+g&&(b.left=f-g<=a.x&&a.x<=f+g,b.right=c-g<=a.x&&a.x<=c+g);return b};c.prototype.renderImmediately=function(){a.prototype.renderImmediately.call(this);if(this.boxVisible()){var b=
this.bounds(),c=b.topLeft.y,d=b.bottomRight.y,e=b.topLeft.x;b=b.bottomRight.x;this._detectionEdgeT.attrs({x1:e,y1:c,x2:b,y2:c,"stroke-width":2*this._detectionRadius});this._detectionEdgeB.attrs({x1:e,y1:d,x2:b,y2:d,"stroke-width":2*this._detectionRadius});this._detectionEdgeL.attrs({x1:e,y1:c,x2:e,y2:d,"stroke-width":2*this._detectionRadius});this._detectionEdgeR.attrs({x1:b,y1:c,x2:b,y2:d,"stroke-width":2*this._detectionRadius});this._hasCorners&&(this._detectionCornerTL.attrs({cx:e,cy:c,r:this._detectionRadius}),
this._detectionCornerTR.attrs({cx:b,cy:c,r:this._detectionRadius}),this._detectionCornerBL.attrs({cx:e,cy:d,r:this._detectionRadius}),this._detectionCornerBR.attrs({cx:b,cy:d,r:this._detectionRadius}))}return this};c.prototype.detectionRadius=function(a){if(null==a)return this._detectionRadius;if(0>a)throw Error("detection radius cannot be negative.");this._detectionRadius=a;this.render();return this};c.prototype.resizable=function(){return this._resizable};c.prototype._setResizableClasses=function(a){a&&
this.enabled()?(this.addClass("x-resizable"),this.addClass("y-resizable")):(this.removeClass("x-resizable"),this.removeClass("y-resizable"))};c.prototype.movable=function(){return this._movable};c.prototype._setMovableClass=function(){this.movable()&&this.enabled()?this.addClass("movable"):this.removeClass("movable")};c.prototype.onDragStart=function(a){this._dragStartCallbacks.add(a);return this};c.prototype.offDragStart=function(a){this._dragStartCallbacks.delete(a);return this};c.prototype.onDrag=
function(a){this._dragCallbacks.add(a);return this};c.prototype.offDrag=function(a){this._dragCallbacks.delete(a);return this};c.prototype.onDragEnd=function(a){this._dragEndCallbacks.add(a);return this};c.prototype.offDragEnd=function(a){this._dragEndCallbacks.delete(a);return this};c.prototype.dragInteraction=function(){return this._dragInteraction};c.prototype.enabled=function(a){if(null==a)return this._dragInteraction.enabled();this._dragInteraction.enabled(a);this._setResizableClasses(this.resizable());
this._setMovableClass();return this};c.prototype.destroy=function(){var b=this;a.prototype.destroy.call(this);this._dragStartCallbacks.forEach(function(a){return b._dragCallbacks.delete(a)});this._dragCallbacks.forEach(function(a){return b._dragCallbacks.delete(a)});this._dragEndCallbacks.forEach(function(a){return b._dragEndCallbacks.delete(a)});this._disconnectInteraction()};c.prototype.detach=function(){this._resetState();this._dragInteraction.detachFrom();a.prototype.detach.call(this);return this};
c.prototype.anchor=function(b){b=k.coerceExternalD3(b);this._dragInteraction.attachTo(this);a.prototype.anchor.call(this,b);return this};c.prototype._resetState=function(){this.bounds({topLeft:{x:0,y:0},bottomRight:{x:0,y:0}})};return c}(d(40).SelectionBoxLayer);c.DragBoxLayer=a},function(a,c,d){var b=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},f=d(19);a=function(a){function c(){return a.call(this,
"path","line")||this}b(c,a);c.prototype._applyDefaultAttributes=function(a){a.style("fill","none")};c.prototype.getVisualPrimitiveAtIndex=function(){return a.prototype.getVisualPrimitiveAtIndex.call(this,0)};return c}(d(8).SVGDrawer);c.LineSVGDrawer=a;c.makeLineCanvasDrawStep=function(a){return function(b,c,d){var e=a();d=f.resolveAttributesSubsetWithStyles(d,[],c[0],0);b.save();b.beginPath();e.context(b);e(c[0]);b.lineJoin="round";f.styleContext(b,d);b.restore()}}},function(a,c,d){var b=this&&this.__extends||
function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},f=d(19);a=function(a){function c(b){void 0===b&&(b="");var c=a.call(this,"rect","")||this;c._rootClassName=b;c._root.classed(c._rootClassName,!0);return c}b(c,a);return c}(d(8).SVGDrawer);c.RectangleSVGDrawer=a;c.RectangleCanvasDrawStep=function(a,b,c){a.save();b.forEach(function(b,d){b=f.resolveAttributesSubsetWithStyles(c,["x","y","width",
"height"],b,d);a.beginPath();a.rect(b.x,b.y,b.width,b.height);f.styleContext(a,b)});a.restore()}},function(a,c,d){var b=d(1),f=Math;c.inRange=function(a,b,c){return f.min(b,c)<=a&&a<=f.max(b,c)};c.clamp=function(a,b,c){return f.min(f.max(b,a),c)};c.max=function(a,c,d){var e="function"===typeof c?c:null;c=null==e?c:d;a=null==e?b.max(a):b.max(a,e);return void 0!==a?a:c};c.min=function(a,c,d){var e="function"===typeof c?c:null;c=null==e?c:d;a=null==e?b.min(a):b.min(a,e);return void 0!==a?a:c};c.isNaN=
function(a){return a!==a};c.isValidNumber=function(a){return"number"===typeof a&&1>a-a};c.range=function(a,b,c){void 0===c&&(c=1);if(0===c)throw Error("step cannot be 0");b=f.max(f.ceil((b-a)/c),0);for(var d=[],e=0;e<b;++e)d[e]=a+c*e;return d};c.distanceSquared=function(a,b){return f.pow(b.y-a.y,2)+f.pow(b.x-a.x,2)};c.degreesToRadians=function(a){return a/360*f.PI*2};c.within=function(a,b){return b.topLeft.x<=a.x&&b.bottomRight.x>=a.x&&b.topLeft.y<=a.y&&b.bottomRight.y>=a.y}},function(a,c){a=function(){function a(a){this.ruler=
null!=a.createRuler?a.createRuler():a}a.prototype.measure=function(b){void 0===b&&(b=a.HEIGHT_TEXT);return this.ruler(b)};return a}();a.HEIGHT_TEXT="bdpql";c.AbstractMeasurer=a},function(a,c,d){function b(a){for(var b in a)c.hasOwnProperty(b)||(c[b]=a[b])}b(d(30));b(d(68));b(d(69));b(d(38));b(d(39));b(d(70));b(d(71));b(d(72));b(d(73));b(d(40));b(d(74));b(d(75));b(d(76))},function(a,c,d){var b=d(0),f=d(28);a=function(){function a(){}a.prototype.render=function(){f.flush()};return a}();c.Immediate=
a;a=function(){function a(){}a.prototype.render=function(){b.DOM.requestAnimationFramePolyfill(f.flush)};return a}();c.AnimationFrame=a;a=function(){function a(){this._timeoutMsec=b.DOM.SCREEN_REFRESH_RATE_MILLISECONDS}a.prototype.render=function(){setTimeout(f.flush,this._timeoutMsec)};return a}();c.Timeout=a},function(a,c,d){var b=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=
b.prototype,new c)},f=d(13),g=d(0);a=function(a){function c(){var b=null!==a&&a.apply(this,arguments)||this;b._keyPressCallbacks={};b._keyReleaseCallbacks={};b._mouseMoveCallback=function(){return!1};b._downedKeys=new g.Set;b._keyDownCallback=function(a,c){return b._handleKeyDownEvent(a,c)};b._keyUpCallback=function(a){return b._handleKeyUpEvent(a)};return b}b(c,a);c.prototype._anchor=function(b){a.prototype._anchor.call(this,b);this._positionDispatcher=f.Mouse.getDispatcher(this._componentAttachedTo);
this._positionDispatcher.onMouseMove(this._mouseMoveCallback);this._keyDispatcher=f.Key.getDispatcher();this._keyDispatcher.onKeyDown(this._keyDownCallback);this._keyDispatcher.onKeyUp(this._keyUpCallback)};c.prototype._unanchor=function(){a.prototype._unanchor.call(this);this._positionDispatcher.offMouseMove(this._mouseMoveCallback);this._positionDispatcher=null;this._keyDispatcher.offKeyDown(this._keyDownCallback);this._keyDispatcher.offKeyUp(this._keyUpCallback);this._keyDispatcher=null};c.prototype._handleKeyDownEvent=
function(a,b){var c=this._translateToComponentSpace(this._positionDispatcher.lastMousePosition());this._isInsideComponent(c)&&!b.repeat&&(this._keyPressCallbacks[a]&&this._keyPressCallbacks[a].callCallbacks(a),this._downedKeys.add(a))};c.prototype._handleKeyUpEvent=function(a){this._downedKeys.has(a)&&this._keyReleaseCallbacks[a]&&this._keyReleaseCallbacks[a].callCallbacks(a);this._downedKeys.delete(a)};c.prototype.onKeyPress=function(a,b){this._keyPressCallbacks[a]||(this._keyPressCallbacks[a]=new g.CallbackSet);
this._keyPressCallbacks[a].add(b);return this};c.prototype.offKeyPress=function(a,b){this._keyPressCallbacks[a].delete(b);0===this._keyPressCallbacks[a].size&&delete this._keyPressCallbacks[a];return this};c.prototype.onKeyRelease=function(a,b){this._keyReleaseCallbacks[a]||(this._keyReleaseCallbacks[a]=new g.CallbackSet);this._keyReleaseCallbacks[a].add(b);return this};c.prototype.offKeyRelease=function(a,b){this._keyReleaseCallbacks[a].delete(b);0===this._keyReleaseCallbacks[a].size&&delete this._keyReleaseCallbacks[a];
return this};return c}(d(15).Interaction);c.Key=a},function(a,c,d){var b=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},f=d(0);a=function(a){function c(b){void 0===b&&(b=[]);var c=a.call(this)||this;c._components=[];c.addClass("component-group");b.forEach(function(a){return c.append(a)});return c}b(c,a);c.prototype._forEach=function(a){this.components().forEach(a)};
c.prototype.has=function(a){return 0<=this._components.indexOf(a)};c.prototype.requestedSpace=function(a,b){var c=this._components.map(function(c){return c.requestedSpace(a,b)});return{minWidth:f.Math.max(c,function(a){return a.minWidth},0),minHeight:f.Math.max(c,function(a){return a.minHeight},0)}};c.prototype.computeLayout=function(b,c,d){var e=this;a.prototype.computeLayout.call(this,b,c,d);this._forEach(function(a){a.computeLayout({x:0,y:0},e.width(),e.height())});return this};c.prototype._sizeFromOffer=
function(a,b){return{width:a,height:b}};c.prototype.fixedWidth=function(){return this._components.every(function(a){return a.fixedWidth()})};c.prototype.fixedHeight=function(){return this._components.every(function(a){return a.fixedHeight()})};c.prototype.components=function(){return this._components.slice()};c.prototype.append=function(a){null==a||this.has(a)||(a.detach(),this._components.push(a),this._adoptAndAnchor(a),this.redraw());return this};c.prototype._remove=function(a){a=this._components.indexOf(a);
return 0<=a?(this._components.splice(a,1),!0):!1};return c}(d(27).ComponentContainer);c.Group=a},function(a,c,d){var b=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)};d(0);a=d(4);var f;(function(a){a[a.VALUE=0]="VALUE";a[a.PIXEL=1]="PIXEL"})(f||(f={}));a=function(a){function c(b){var d=a.call(this)||this;d._mode=f.VALUE;if(b!==c.ORIENTATION_VERTICAL&&b!==c.ORIENTATION_HORIZONTAL)throw Error(b+
" is not a valid orientation for GuideLineLayer");d._orientation=b;d._overflowHidden=!0;d.addClass("guide-line-layer");d._isVertical()?d.addClass("vertical"):d.addClass("horizontal");d._scaleUpdateCallback=function(){d._syncPixelPositionAndValue();d.render()};return d}b(c,a);c.prototype._setup=function(){a.prototype._setup.call(this);this._guideLine=this.content().append("line").classed("guide-line",!0)};c.prototype._sizeFromOffer=function(a,b){return{width:a,height:b}};c.prototype._isVertical=function(){return this._orientation===
c.ORIENTATION_VERTICAL};c.prototype.fixedWidth=function(){return!0};c.prototype.fixedHeight=function(){return!0};c.prototype.computeLayout=function(b,c,d){a.prototype.computeLayout.call(this,b,c,d);null!=this.scale()&&(this._isVertical()?this.scale().range([0,this.width()]):this.scale().range([this.height(),0]));return this};c.prototype.renderImmediately=function(){a.prototype.renderImmediately.call(this);this._syncPixelPositionAndValue();this._guideLine.attrs({x1:this._isVertical()?this.pixelPosition():
0,y1:this._isVertical()?0:this.pixelPosition(),x2:this._isVertical()?this.pixelPosition():this.width(),y2:this._isVertical()?this.height():this.pixelPosition()});return this};c.prototype._syncPixelPositionAndValue=function(){null!=this.scale()&&(this._mode===f.VALUE&&null!=this.value()?this._pixelPosition=this.scale().scale(this.value()):this._mode===f.PIXEL&&null!=this.pixelPosition()&&(this._value=this.scale().invert(this.pixelPosition())))};c.prototype._setPixelPositionWithoutChangingMode=function(a){this._pixelPosition=
a;null!=this.scale()&&(this._value=this.scale().invert(this.pixelPosition()));this.render()};c.prototype.scale=function(a){if(null==a)return this._scale;var b=this._scale;null!=b&&b.offUpdate(this._scaleUpdateCallback);this._scale=a;this._scale.onUpdate(this._scaleUpdateCallback);this._syncPixelPositionAndValue();this.redraw();return this};c.prototype.value=function(a){if(null==a)return this._value;this._value=a;this._mode=f.VALUE;this._syncPixelPositionAndValue();this.render();return this};c.prototype.pixelPosition=
function(){return this._pixelPosition};c.prototype.destroy=function(){a.prototype.destroy.call(this);null!=this.scale()&&this.scale().offUpdate(this._scaleUpdateCallback)};return c}(a.Component);a.ORIENTATION_VERTICAL="vertical";a.ORIENTATION_HORIZONTAL="horizontal";c.GuideLineLayer=a},function(a,c,d){var b=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},f=d(0);
a=d(4);var g;(function(a){a[a.VALUE=0]="VALUE";a[a.PIXEL=1]="PIXEL"})(g=c.PropertyMode||(c.PropertyMode={}));a=function(a){function c(){var b=a.call(this)||this;b._boxVisible=!1;b._boxBounds={topLeft:{x:0,y:0},bottomRight:{x:0,y:0}};b._xBoundsMode=g.PIXEL;b._yBoundsMode=g.PIXEL;b.addClass("selection-box-layer");b._adjustBoundsCallback=function(){b.render()};b._overflowHidden=!0;b._xExtent=[void 0,void 0];b._yExtent=[void 0,void 0];return b}b(c,a);c.prototype._setup=function(){a.prototype._setup.call(this);
this._box=this.content().append("g").classed("selection-box",!0).remove();this._boxArea=this._box.append("rect").classed("selection-area",!0)};c.prototype._sizeFromOffer=function(a,b){return{width:a,height:b}};c.prototype.bounds=function(a){if(null==a)return this._getBounds();this._setBounds(a);this._yBoundsMode=this._xBoundsMode=g.PIXEL;this.render();return this};c.prototype._setBounds=function(a){this._boxBounds={topLeft:{x:Math.min(a.topLeft.x,a.bottomRight.x),y:Math.min(a.topLeft.y,a.bottomRight.y)},
bottomRight:{x:Math.max(a.topLeft.x,a.bottomRight.x),y:Math.max(a.topLeft.y,a.bottomRight.y)}}};c.prototype._getBounds=function(){return{topLeft:{x:this._xBoundsMode===g.PIXEL?this._boxBounds.topLeft.x:null==this._xScale?0:Math.min(this.xScale().scale(this.xExtent()[0]),this.xScale().scale(this.xExtent()[1])),y:this._yBoundsMode===g.PIXEL?this._boxBounds.topLeft.y:null==this._yScale?0:Math.min(this.yScale().scale(this.yExtent()[0]),this.yScale().scale(this.yExtent()[1]))},bottomRight:{x:this._xBoundsMode===
g.PIXEL?this._boxBounds.bottomRight.x:null==this._xScale?0:Math.max(this.xScale().scale(this.xExtent()[0]),this.xScale().scale(this.xExtent()[1])),y:this._yBoundsMode===g.PIXEL?this._boxBounds.bottomRight.y:null==this._yScale?0:Math.max(this.yScale().scale(this.yExtent()[0]),this.yScale().scale(this.yExtent()[1]))}}};c.prototype.renderImmediately=function(){a.prototype.renderImmediately.call(this);if(this._boxVisible){var b=this.bounds(),c=b.topLeft.y,d=b.bottomRight.y,e=b.topLeft.x;b=b.bottomRight.x;
if(!(f.Math.isValidNumber(c)&&f.Math.isValidNumber(d)&&f.Math.isValidNumber(e)&&f.Math.isValidNumber(b)))throw Error("bounds have not been properly set");this._boxArea.attrs({x:e,y:c,width:b-e,height:d-c});this.content().node().appendChild(this._box.node())}else this._box.remove();return this};c.prototype.boxVisible=function(a){if(null==a)return this._boxVisible;this._boxVisible=a;this.render();return this};c.prototype.fixedWidth=function(){return!0};c.prototype.fixedHeight=function(){return!0};c.prototype.xScale=
function(a){if(null==a)return this._xScale;null!=this._xScale&&this._xScale.offUpdate(this._adjustBoundsCallback);this._xScale=a;this._xBoundsMode=g.VALUE;this._xScale.onUpdate(this._adjustBoundsCallback);this.render();return this};c.prototype.yScale=function(a){if(null==a)return this._yScale;null!=this._yScale&&this._yScale.offUpdate(this._adjustBoundsCallback);this._yScale=a;this._yBoundsMode=g.VALUE;this._yScale.onUpdate(this._adjustBoundsCallback);this.render();return this};c.prototype.xExtent=
function(a){if(null==a)return this._getXExtent();this._setXExtent(a);this._xBoundsMode=g.VALUE;this.render();return this};c.prototype._getXExtent=function(){return this._xBoundsMode===g.VALUE?this._xExtent:null==this._xScale?[void 0,void 0]:[this._xScale.invert(this._boxBounds.topLeft.x),this._xScale.invert(this._boxBounds.bottomRight.x)]};c.prototype._setXExtent=function(a){this._xExtent=a};c.prototype.yExtent=function(a){if(null==a)return this._getYExtent();this._setYExtent(a);this._yBoundsMode=
g.VALUE;this.render();return this};c.prototype._getYExtent=function(){return this._yBoundsMode===g.VALUE?this._yExtent:null==this._yScale?[void 0,void 0]:[this._yScale.invert(this._boxBounds.topLeft.y),this._yScale.invert(this._boxBounds.bottomRight.y)]};c.prototype._setYExtent=function(a){this._yExtent=a};c.prototype.destroy=function(){a.prototype.destroy.call(this);null!=this._xScale&&this.xScale().offUpdate(this._adjustBoundsCallback);null!=this._yScale&&this.yScale().offUpdate(this._adjustBoundsCallback)};
return c}(a.Component);c.SelectionBoxLayer=a},function(a,c,d){var b=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)};a=function(a){function c(){return a.call(this,"path","arc fill")||this}b(c,a);c.prototype._applyDefaultAttributes=function(a){a.style("stroke","none")};return c}(d(8).SVGDrawer);c.ArcSVGDrawer=a},function(a,c,d){var b=this&&this.__extends||function(a,
b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)};a=function(a){function c(){return a.call(this,"path","arc outline")||this}b(c,a);c.prototype._applyDefaultAttributes=function(a){a.style("fill","none")};return c}(d(8).SVGDrawer);c.ArcOutlineSVGDrawer=a},function(a,c,d){var b=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=
null===b?Object.create(b):(c.prototype=b.prototype,new c)};a=function(a){function c(){return a.call(this,"path","area")||this}b(c,a);c.prototype._applyDefaultAttributes=function(a){a.style("stroke","none")};c.prototype.getVisualPrimitiveAtIndex=function(){return a.prototype.getVisualPrimitiveAtIndex.call(this,0)};return c}(d(8).SVGDrawer);c.AreaSVGDrawer=a},function(a,c,d){var b=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=
null===b?Object.create(b):(c.prototype=b.prototype,new c)};a=function(a){function c(){return a.call(this,"line","")||this}b(c,a);return c}(d(8).SVGDrawer);c.SegmentSVGDrawer=a},function(a,c,d){var b=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},f=d(80),g=d(19);a=function(a){function c(){return a.call(this,"path","symbol")||this}b(c,a);return c}(d(8).SVGDrawer);
c.SymbolSVGDrawer=a;c.makeSymbolCanvasDrawStep=function(a,b,c){var d=this;return function(e,k,l){var m=e.canvas,n=m.width;m=m.height;for(var q=new f.CanvasBuffer(0,0),p=b(),t=c(),A=null,y=null,C=null,D=0;D<k.length;D++){var G=k[D],E=g.resolveAttributesSubsetWithStyles(l,["x","y"],G,D),F=t(G,D,a),B=E.x,H=E.y;if(0<=B+F&&B-F<=n&&0<=H+F&&H-F<=m){a:if(B=Object.keys(g.ContextStyleAttrs),null==A)B=!1;else{for(H=0;H<B.length;H++){var K=B[H];if(A[K]!=E[K]){B=!1;break a}}B=!0}G=p(G,D,d._dataset);B&&C==F&&y==
G||((F>q.screenWidth||F>q.screenHeight)&&q.resize(F,F,!0),q.clear(),A=q.ctx,A.beginPath(),G(F).context(A)(null),A.closePath(),g.styleContext(A,E),y=G,C=F,A=E);q.blitCenter(e,E.x,E.y)}}}}},function(a,c,d){var b=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},f=d(1),g=d(3),k=d(0),l=d(43),m=d(6),n=d(31),q=d(25),p=d(17);a=d(48);var t=d(2);d=function(a){function c(){var b=
a.call(this)||this;b.addClass("area-plot");b.y0(0);b.attr("fill-opacity",.25);b.attr("fill",(new g.Color).range()[0]);b._lineDrawers=new k.Map;return b}b(c,a);c.prototype._setup=function(){var b=this;a.prototype._setup.call(this);this._lineDrawers.forEach(function(a){return a.attachTo(b._renderArea)})};c.prototype.y=function(b,d){if(null==b)return a.prototype.y.call(this);null==d?a.prototype.y.call(this,b):a.prototype.y.call(this,b,d);null!=d&&(b=this.y0().accessor,null!=b&&this._bindProperty(c._Y0_KEY,
b,d),this._updateYScale());return this};c.prototype.y0=function(a){if(null==a)return this._propertyBindings.get(c._Y0_KEY);var b=this.y();this._bindProperty(c._Y0_KEY,a,b&&b.scale);this._updateYScale();this.render();return this};c.prototype._onDatasetUpdate=function(){a.prototype._onDatasetUpdate.call(this);this._updateYScale()};c.prototype.addDataset=function(b){a.prototype.addDataset.call(this,b);return this};c.prototype._addDataset=function(b){var c=new n.LineSVGDrawer;this._isSetup&&c.attachTo(this._renderArea);
this._lineDrawers.set(b,c);a.prototype._addDataset.call(this,b);return this};c.prototype._removeDatasetNodes=function(b){a.prototype._removeDatasetNodes.call(this,b);this._lineDrawers.get(b).remove()};c.prototype._additionalPaint=function(){var a=this,b=this._generateLineDrawSteps(),c=this._getDataToDraw();this.datasets().forEach(function(d){var e=t.Plot.applyDrawSteps(b,d);a._lineDrawers.get(d).draw(c.get(d),e)})};c.prototype._generateLineDrawSteps=function(){var a=[];if(this._animateOnNextRender()){var b=
this._generateLineAttrToProjector();b.d=this._constructLineProjector(t.Plot._scaledAccessor(this.x()),this._getResetYFunction());a.push({attrToProjector:b,animator:this._getAnimator(p.Animator.RESET)})}a.push({attrToProjector:this._generateLineAttrToProjector(),animator:this._getAnimator(p.Animator.MAIN)});return a};c.prototype._generateLineAttrToProjector=function(){var a=this._generateAttrToProjector();a.d=this._constructLineProjector(t.Plot._scaledAccessor(this.x()),t.Plot._scaledAccessor(this.y()));
return a};c.prototype._createDrawer=function(){return new m.ProxyDrawer(function(){return new l.AreaSVGDrawer},function(){q.warn("canvas renderer not implemented on Area Plot!")})};c.prototype._generateDrawSteps=function(){var a=[];if(this._animateOnNextRender()){var b=this._generateAttrToProjector();b.d=this._constructAreaProjector(t.Plot._scaledAccessor(this.x()),this._getResetYFunction(),t.Plot._scaledAccessor(this.y0()));a.push({attrToProjector:b,animator:this._getAnimator(p.Animator.RESET)})}a.push({attrToProjector:this._generateAttrToProjector(),
animator:this._getAnimator(p.Animator.MAIN)});return a};c.prototype._updateYScale=function(){var a=this._propertyExtents.get("y0");a=k.Array.flatten(a);a=k.Array.uniq(a);var b=1===a.length?a[0]:null;a=(a=this.y())&&a.scale;null!=a&&(null!=this._constantBaselineValueProvider&&(a.removePaddingExceptionsProvider(this._constantBaselineValueProvider),this._constantBaselineValueProvider=null),null!=b&&(this._constantBaselineValueProvider=function(){return[b]},a.addPaddingExceptionsProvider(this._constantBaselineValueProvider)))};
c.prototype._getResetYFunction=function(){return t.Plot._scaledAccessor(this.y0())};c.prototype._propertyProjectors=function(){var b=a.prototype._propertyProjectors.call(this);b.d=this._constructAreaProjector(t.Plot._scaledAccessor(this.x()),t.Plot._scaledAccessor(this.y()),t.Plot._scaledAccessor(this.y0()));return b};c.prototype.selections=function(b){var c=this;void 0===b&&(b=this.datasets());var d=a.prototype.selections.call(this,b).nodes();b.map(function(a){return c._lineDrawers.get(a)}).filter(function(a){return null!=
a}).forEach(function(a){return d.push.apply(d,a.getVisualPrimitives())});return f.selectAll(d)};c.prototype._constructAreaProjector=function(a,b,c){var d=this;return function(e,g,l){g=d._getCurveFactory();return f.area().x(function(b,c){return a(b,c,l)}).y1(function(a,c){return b(a,c,l)}).y0(function(a,b){return c(a,b,l)}).curve(g).defined(function(a,b){var c=t.Plot._scaledAccessor(d.x())(a,b,l);a=t.Plot._scaledAccessor(d.y())(a,b,l);return k.Math.isValidNumber(c)&&k.Math.isValidNumber(a)})(e)}};
return c}(a.Line);d._Y0_KEY="y0";c.Area=d},function(a,c){a=c.Animator||(c.Animator={});a.MAIN="main";a.RESET="reset"},function(a,c,d){var b=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},f=d(1),g=d(7),k=d(6),l=d(31),m=d(3),n=d(11),q=d(0);a=d(9);var p=d(17),t=d(2);d=d(16);var r={linear:f.curveLinear,linearClosed:f.curveLinearClosed,step:f.curveStep,stepBefore:f.curveStepBefore,
stepAfter:f.curveStepAfter,basis:f.curveBasis,basisOpen:f.curveBasisOpen,basisClosed:f.curveBasisClosed,bundle:f.curveBundle,cardinal:f.curveCardinal,cardinalOpen:f.curveCardinalOpen,cardinalClosed:f.curveCardinalClosed,monotone:f.curveMonotoneX};c.CurveName=a.makeEnum("linear linearClosed step stepBefore stepAfter basis basisOpen basisClosed bundle cardinal cardinalOpen cardinalClosed monotone".split(" "));d=function(a){function c(){var b=a.call(this)||this;b._curve="linear";b._autorangeSmooth=!1;
b._croppedRenderingEnabled=!0;b._collapseDenseVerticalLinesEnabled=!1;b._downsamplingEnabled=!1;b.addClass("line-plot");var c=new g.Easing;c.stepDuration(t.Plot._ANIMATION_MAX_DURATION);c.easingMode("expInOut");c.maxTotalDuration(t.Plot._ANIMATION_MAX_DURATION);b.animator(p.Animator.MAIN,c);b.attr("stroke",(new m.Color).range()[0]);b.attr("stroke-width","2px");return b}b(c,a);c.prototype.x=function(b,c){if(null==b)return a.prototype.x.call(this);null==c?a.prototype.x.call(this,b):a.prototype.x.call(this,
b,c);this._setScaleSnapping();return this};c.prototype.y=function(b,c){if(null==b)return a.prototype.y.call(this);a.prototype.y.call(this,b,c);this._setScaleSnapping();return this};c.prototype.autorangeMode=function(b){if(null==b)return a.prototype.autorangeMode.call(this);a.prototype.autorangeMode.call(this,b);this._setScaleSnapping();return this};c.prototype.autorangeSmooth=function(){return this._autorangeSmooth};c.prototype._setScaleSnapping=function(){"x"===this.autorangeMode()&&this.x()&&this.x().scale&&
this.x().scale instanceof n.QuantitativeScale&&this.x().scale.snappingDomainEnabled(!this.autorangeSmooth());"y"===this.autorangeMode()&&this.y()&&this.y().scale&&this.y().scale instanceof n.QuantitativeScale&&this.y().scale.snappingDomainEnabled(!this.autorangeSmooth())};c.prototype.curve=function(a){if(null==a)return this._curve;this._curve=a;this.render();return this};c.prototype.downsamplingEnabled=function(a){if(null==a)return this._downsamplingEnabled;this._downsamplingEnabled=a;return this};
c.prototype.croppedRenderingEnabled=function(a){if(null==a)return this._croppedRenderingEnabled;this._croppedRenderingEnabled=a;this.render();return this};c.prototype.collapseDenseLinesEnabled=function(a){if(null==a)return this._collapseDenseVerticalLinesEnabled;this._collapseDenseVerticalLinesEnabled=a;this.render();return this};c.prototype._createDrawer=function(a){var b=this;return new k.ProxyDrawer(function(){return new l.LineSVGDrawer},l.makeLineCanvasDrawStep(function(){return b._d3LineFactory(a)}))};
c.prototype._extentsForProperty=function(b){var c=a.prototype._extentsForProperty.call(this,b);if(!this._autorangeSmooth||this.autorangeMode()!==b||"x"!==this.autorangeMode()&&"y"!==this.autorangeMode())return c;b=this._getEdgeIntersectionPoints();var d="y"===this.autorangeMode()?b.left.concat(b.right).map(function(a){return a.y}):b.top.concat(b.bottom).map(function(a){return a.x});return c.map(function(a){return f.extent(f.merge([a,d]))})};c.prototype._getEdgeIntersectionPoints=function(){var a=
this;if(!(this.y().scale instanceof n.QuantitativeScale&&this.x().scale instanceof n.QuantitativeScale))return{left:[],right:[],top:[],bottom:[]};var b=this.y().scale,c=this.x().scale,d={left:[],right:[],top:[],bottom:[]},e=c.scale(c.domain()[0]),f=c.scale(c.domain()[1]),g=b.scale(b.domain()[0]),k=b.scale(b.domain()[1]);this.datasets().forEach(function(l){for(var m=l.data(),n,q,p,r,t,u,v,w=1;w<m.length;w++)r=u||c.scale(a.x().accessor(m[w-1],w-1,l)),t=v||b.scale(a.y().accessor(m[w-1],w-1,l)),u=c.scale(a.x().accessor(m[w],
w,l)),v=b.scale(a.y().accessor(m[w],w,l)),r<e===e<=u&&(n=e-r,q=u-r,p=v-t,n=n*p/q,d.left.push({x:e,y:b.invert(t+n)})),r<f===f<=u&&(n=f-r,q=u-r,p=v-t,n=n*p/q,d.right.push({x:f,y:b.invert(t+n)})),t<k===k<=v&&(q=u-r,n=k-t,p=v-t,n=n*q/p,d.top.push({x:c.invert(r+n),y:k})),t<g===g<=v&&(q=u-r,n=g-t,p=v-t,n=n*q/p,d.bottom.push({x:c.invert(r+n),y:g}))});return d};c.prototype._getResetYFunction=function(){var a=this.y().scale.domain(),b=Math.max(a[0],a[1]);a=Math.min(a[0],a[1]);b=0>b&&b||0<a&&a||0;var c=this.y().scale.scale(b);
return function(){return c}};c.prototype._generateDrawSteps=function(){var a=[];if(this._animateOnNextRender()){var b=this._generateAttrToProjector();b.d=this._constructLineProjector(t.Plot._scaledAccessor(this.x()),this._getResetYFunction());a.push({attrToProjector:b,animator:this._getAnimator(p.Animator.RESET)})}a.push({attrToProjector:this._generateAttrToProjector(),animator:this._getAnimator(p.Animator.MAIN)});return a};c.prototype._generateAttrToProjector=function(){var b=a.prototype._generateAttrToProjector.call(this);
Object.keys(b).forEach(function(a){if("d"!==a){var c=b[a];b[a]=function(a,b,d){return 0<a.length?c(a[0],b,d):null}}});return b};c.prototype.entitiesAt=function(a){a=this.entityNearestByXThenY(a);return null!=a?[a]:[]};c.prototype.entitiesIn=function(a,b){if(null==b){var c={min:a.topLeft.x,max:a.bottomRight.x};var d={min:a.topLeft.y,max:a.bottomRight.y}}else c=a,d=b;var e=t.Plot._scaledAccessor(this.x()),f=t.Plot._scaledAccessor(this.y());return this.entities().filter(function(a){var b=a.datum,g=a.index,
k=a.dataset;a=e(b,g,k);b=f(b,g,k);return c.min<=a&&a<=c.max&&d.min<=b&&b<=d.max})};c.prototype.entityNearestByXThenY=function(a){var b=Infinity,c=Infinity,d,e=this.bounds();this.entities().forEach(function(f){if(q.Math.within(f.position,e)){var g=Math.abs(a.x-f.position.x),k=Math.abs(a.y-f.position.y);if(g<b||g===b&&k<c)d=f,b=g,c=k}});return d};c.prototype._propertyProjectors=function(){var b=a.prototype._propertyProjectors.call(this);b.d=this._constructLineProjector(t.Plot._scaledAccessor(this.x()),
t.Plot._scaledAccessor(this.y()));return b};c.prototype._constructLineProjector=function(a,b){var c=this;return function(d,e,f){return c._d3LineFactory(f,a,b)(d)}};c.prototype._d3LineFactory=function(a,b,c){void 0===b&&(b=t.Plot._scaledAccessor(this.x()));void 0===c&&(c=t.Plot._scaledAccessor(this.y()));return f.line().x(function(c,d){return b(c,d,a)}).y(function(b,d){return c(b,d,a)}).curve(this._getCurveFactory()).defined(function(d,e){var f=b(d,e,a);d=c(d,e,a);return q.Math.isValidNumber(f)&&q.Math.isValidNumber(d)})};
c.prototype._getCurveFactory=function(){var a=this.curve();return"string"===typeof a?(a=r[a],null==a?r.linear:a):a};c.prototype._getDataToDraw=function(){var a=this,b=new q.Map;this.datasets().forEach(function(c){var d=c.data();if(a._croppedRenderingEnabled||a._downsamplingEnabled){var e=d.map(function(a,b){return b});a._croppedRenderingEnabled&&(e=a._filterCroppedRendering(c,e));a._downsamplingEnabled&&(e=a._filterDownsampling(c,e));a._collapseDenseVerticalLinesEnabled&&(e=a._filterDenseLines(c,
e));b.set(c,[e.map(function(a){return d[a]})])}else b.set(c,[d])});return b};c.prototype._filterCroppedRendering=function(a,b){function c(a,b){return q.Math.inRange(a,0,d.width())&&q.Math.inRange(b,0,d.height())}for(var d=this,e=t.Plot._scaledAccessor(this.x()),f=t.Plot._scaledAccessor(this.y()),g=a.data(),k=[],l=0;l<b.length;l++){var m=e(g[b[l]],b[l],a),n=f(g[b[l]],b[l],a);m=c(m,n);if(!m&&null!=b[l-1]&&null!=g[b[l-1]]){n=e(g[b[l-1]],b[l-1],a);var p=f(g[b[l-1]],b[l-1],a);m=m||c(n,p)}m||null==b[l+
1]||null==g[b[l+1]]||(n=e(g[b[l+1]],b[l+1],a),p=f(g[b[l+1]],b[l+1],a),m=m||c(n,p));m&&k.push(b[l])}return k};c.prototype._filterDownsampling=function(a,b){function c(c,g){var k=e(d[b[c]],b[c],a),l=f(d[b[c]],b[c],a),m=e(d[b[c+1]],b[c+1],a);c=f(d[b[c+1]],b[c+1],a);return Infinity===g?Math.floor(k)===Math.floor(m):Math.floor(c)===Math.floor(l+(m-k)*g)}if(0===b.length)return[];for(var d=a.data(),e=t.Plot._scaledAccessor(this.x()),f=t.Plot._scaledAccessor(this.y()),g=[b[0]],k=0;k<b.length-1;){var l=b[k],
m=e(d[b[k]],b[k],a),n=f(d[b[k]],b[k],a),q=e(d[b[k+1]],b[k+1],a),p=f(d[b[k+1]],b[k+1],a);p=Math.floor(m)===Math.floor(q)?Infinity:(p-n)/(q-m);q=b[k];n=Infinity===p?n:m;m=q;for(var r=n,u=!0;k<b.length-1&&(u||c(k,p));){k++;u=!1;var v=Infinity===p?f(d[b[k]],b[k],a):e(d[b[k]],b[k],a);v>r&&(r=v,m=b[k]);v<n&&(n=v,q=b[k])}p=b[k];q!==l&&g.push(q);m!==q&&m!==l&&g.push(m);p!==l&&p!==q&&p!==m&&g.push(p)}return g};c.prototype._filterDenseLines=function(a,b){if(0===b.length)return[];var c=a.data(),d=t.Plot._scaledAccessor(this.x()),
e=t.Plot._scaledAccessor(this.y());return this._bucketByX(a,b,function(b){return d(c[b],b,a)},function(b){return e(c[b],b,a)})};c.prototype._bucketByX=function(a,b,c,d){var e=[];a=a.data();for(var f=null,g=0;g<=b.length;++g){var k=b[g];if(null!=a[k]){var l=Math.floor(c(k)),m=d(k);null==f?f=new q.Bucket(k,l,m):f.isInBucket(l)?f.addToBucket(m,k):(e.push.apply(e,f.getUniqueIndices()),f=new q.Bucket(k,l,m))}}null!=f&&e.push.apply(e,f.getUniqueIndices());return e};return c}(d.XYPlot);c.Line=d},function(a,
c,d){var b=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},f=d(1),g=d(14),k=d(0),l=[0,1];a=function(a){function c(){var b=a.call(this)||this;b._range=[0,1];b._d3Scale=f.scaleBand();b._d3Scale.range(l);b._d3TransformationScale=f.scaleLinear();b._d3TransformationScale.domain(l);b._innerPadding=c._convertToPlottableInnerPadding();b._outerPadding=c._convertToPlottableOuterPadding();
return b}b(c,a);c.prototype.cloneWithoutProviders=function(){var a=(new c).domain(this.domain()).range(this.range()).innerPadding(this.innerPadding()).outerPadding(this.outerPadding());a._d3TransformationScale.domain(this._d3TransformationScale.domain());return a};c.prototype.extentOfValues=function(a){return k.Array.uniq(a)};c.prototype._getExtent=function(){return k.Array.uniq(this._getAllIncludedValues())};c.prototype.domain=function(b){return a.prototype.domain.call(this,b)};c.prototype.invertRange=
function(){var a,b=this;void 0===a&&(a=this.range());var c=this._d3Scale.bandwidth(),d=this.invertedTransformation(a[0]),e=this.invertedTransformation(a[1]);a=this._d3Scale.domain();var g=a.map(function(a){return b._d3Scale(a)+c/2});d=f.bisect(g,d);e=f.bisect(g,e);return a.slice(d,e)};c.prototype.range=function(b){return a.prototype.range.call(this,b)};c._convertToPlottableInnerPadding=function(){return 1/.7-1};c._convertToPlottableOuterPadding=function(){return.5/.7};c.prototype._setBands=function(){var a=
1-1/(1+this.innerPadding()),b=this.outerPadding()/(1+this.innerPadding());this._d3Scale.paddingInner(a);this._d3Scale.paddingOuter(b)};c.prototype.rangeBand=function(){return this._rescaleBand(this._d3Scale.bandwidth())};c.prototype.stepWidth=function(){return this._rescaleBand(this._d3Scale.bandwidth()*(1+this.innerPadding()))};c.prototype.innerPadding=function(a){if(null==a)return this._innerPadding;this._innerPadding=a;this.range(this.range());this._dispatchUpdate();return this};c.prototype.outerPadding=
function(a){if(null==a)return this._outerPadding;this._outerPadding=a;this.range(this.range());this._dispatchUpdate();return this};c.prototype.scale=function(a){a=this._d3Scale(a)+this._d3Scale.bandwidth()/2;return this._d3TransformationScale(a)};c.prototype.zoom=function(a,b){var c=this;this._d3TransformationScale.domain(this._d3TransformationScale.range().map(function(d){return c._d3TransformationScale.invert(g.zoomAt(d,a,b))}));this._dispatchUpdate()};c.prototype.pan=function(a){var b=this;this._d3TransformationScale.domain(this._d3TransformationScale.range().map(function(c){return b._d3TransformationScale.invert(c+
a)}));this._dispatchUpdate()};c.prototype.scaleTransformation=function(a){return this._d3TransformationScale(a)};c.prototype.invertedTransformation=function(a){return this._d3TransformationScale.invert(a)};c.prototype.getTransformationDomain=function(){return this._d3TransformationScale.domain()};c.prototype._getDomain=function(){return this._backingScaleDomain()};c.prototype._backingScaleDomain=function(a){if(null==a)return this._d3Scale.domain();this._d3Scale.domain(a);this._setBands();return this};
c.prototype._getRange=function(){return this._range};c.prototype._setRange=function(a){this._range=a;this._d3TransformationScale.range(a);this._setBands()};c.prototype._rescaleBand=function(a){return Math.abs(this._d3TransformationScale(a)-this._d3TransformationScale(0))};return c}(d(18).Scale);c.Category=a},function(a,c){a=function(){function a(){"function"===typeof window.Set?this._es6Set=new window.Set:this._values=[];this.size=0}a.prototype.add=function(a){if(null!=this._es6Set)return this._es6Set.add(a),
this.size=this._es6Set.size,this;this.has(a)||(this._values.push(a),this.size=this._values.length);return this};a.prototype.delete=function(a){if(null!=this._es6Set)return a=this._es6Set.delete(a),this.size=this._es6Set.size,a;a=this._values.indexOf(a);return-1!==a?(this._values.splice(a,1),this.size=this._values.length,!0):!1};a.prototype.has=function(a){return null!=this._es6Set?this._es6Set.has(a):-1!==this._values.indexOf(a)};a.prototype.forEach=function(a,b){var c=this;null!=this._es6Set?this._es6Set.forEach(function(d,
e){return a.call(b,d,e,c)},b):this._values.forEach(function(d){a.call(b,d,d,c)})};return a}();c.Set=a},function(a,c,d){function b(a){for(var b in a)c.hasOwnProperty(b)||(c[b]=a[b])}b(d(120));b(d(119))},function(a,c,d){var b=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},f=d(20);a=function(a){function c(b,c){var d=a.call(this,b,c)||this;d.cache=new f.Cache(function(a){return d._measureCharacterNotFromCache(a)});
return d}b(c,a);c.prototype._measureCharacterNotFromCache=function(b){return a.prototype._measureCharacter.call(this,b)};c.prototype._measureCharacter=function(a){return this.cache.get(a)};c.prototype.reset=function(){this.cache.clear()};return c}(d(53).CharacterMeasurer);c.CacheCharacterMeasurer=a},function(a,c,d){var b=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,
new c)};a=function(a){function c(){return a.apply(this,arguments)||this}b(c,a);c.prototype._measureCharacter=function(b){return a.prototype._measureLine.call(this,b)};c.prototype._measureLine=function(a){var b=this;a=a.split("").map(function(a){return b._measureCharacter(a)});return{height:a.reduce(function(a,b){return Math.max(a,b.height)},0),width:a.reduce(function(a,b){return a+b.width},0)}};return c}(d(55).Measurer);c.CharacterMeasurer=a},function(a,c,d){function b(a){for(var b in a)c.hasOwnProperty(b)||
(c[b]=a[b])}b(d(34));b(d(52));b(d(121));b(d(53));b(d(55))},function(a,c,d){var b=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},f=d(34);a=function(a){function c(b,c){void 0===c&&(c=!1);b=a.call(this,b)||this;b.useGuards=c;return b}b(c,a);c.prototype._addGuards=function(a){return f.AbstractMeasurer.HEIGHT_TEXT+a+f.AbstractMeasurer.HEIGHT_TEXT};c.prototype._measureLine=
function(b,c){void 0===c&&(c=!1);c=this.useGuards||c||/^[\t ]$/.test(b);b=a.prototype.measure.call(this,c?this._addGuards(b):b);b.width-=c?2*this.getGuardWidth():0;return b};c.prototype.measure=function(a){var b=this;void 0===a&&(a=f.AbstractMeasurer.HEIGHT_TEXT);if(""===a.trim())return{width:0,height:0};a=a.trim().split("\n").map(function(a){return b._measureLine(a)});return{height:a.reduce(function(a,b){return a+b.height},0),width:a.reduce(function(a,b){return Math.max(a,b.width)},0)}};c.prototype.getGuardWidth=
function(){null==this.guardWidth&&(this.guardWidth=a.prototype.measure.call(this).width);return this.guardWidth};return c}(f.AbstractMeasurer);c.Measurer=a},function(a,c,d){function b(a){for(var b in a)c.hasOwnProperty(b)||(c[b]=a[b])}b(d(127));b(d(57))},function(a,c,d){var b=d(20);a=function(){function a(){this.maxLines(Infinity);this.textTrimming();this.allowBreakingWords();this._tokenizer=new b.Tokenizer;this._breakingCharacter="-"}a.prototype.maxLines=function(a){if(null==a)return this._maxLines;
this._maxLines=a;return this};a.prototype.textTrimming=function(){this._textTrimming="ellipsis"};a.prototype.allowBreakingWords=function(){this._allowBreakingWords=!0};a.prototype.wrap=function(a,b,c,d){var e=this;void 0===d&&(d=Infinity);var f={noBrokeWords:0,noLines:0,originalText:a,truncatedText:"",wrappedText:""};c={availableLines:Math.min(Math.floor(d/b.measure().height),this._maxLines),availableWidth:c,canFitText:!0,currentLine:"",wrapping:f};var g=a.split("\n");return g.reduce(function(a,c,
d){return e.breakLineToFitWidth(a,c,d!==g.length-1,b)},c).wrapping};a.prototype.breakLineToFitWidth=function(a,c,d,e){var f=this;a.canFitText||""===a.wrapping.truncatedText||(a.wrapping.truncatedText+="\n");a=this._tokenizer.tokenize(c).reduce(function(a,b){return f.wrapNextToken(b,a,e)},a);c=b.StringMethods.trimEnd(a.currentLine);a.wrapping.noLines+=+(""!==c);a.wrapping.noLines===a.availableLines&&"none"!==this._textTrimming&&d?a.canFitText=!1:a.wrapping.wrappedText+=c;a.currentLine="\n";return a};
a.prototype.canFitToken=function(a,b,c){var d=this,e=this._allowBreakingWords?a.split("").map(function(b,c){return c!==a.length-1?b+d._breakingCharacter:b}):[a];return c.measure(a).width<=b||e.every(function(a){return c.measure(a).width<=b})};a.prototype.addEllipsis=function(a,c,d){if("none"===this._textTrimming)return{remainingToken:"",wrappedToken:a};var e=a.substring(0).trim(),f=d.measure(e).width,g=d.measure("...").width,k=0<a.length&&"\n"===a[0]?"\n":"";if(c<=g)return{remainingToken:a,wrappedToken:k+
"...".substr(0,Math.floor(c/(g/3)))};for(;f+g>c;)e=b.StringMethods.trimEnd(e.substr(0,e.length-1)),f=d.measure(e).width;return{remainingToken:b.StringMethods.trimEnd(a.substring(e.length),"-").trim(),wrappedToken:k+e+"..."}};a.prototype.wrapNextToken=function(a,c,d){if(!c.canFitText||c.availableLines===c.wrapping.noLines||!this.canFitToken(a,c.availableWidth,d))return this.finishWrapping(a,c,d);for(;a;){var e=this.breakTokenToFitInWidth(a,c.currentLine,c.availableWidth,d);c.currentLine=e.line;a=e.remainingToken;
if(null!=a)if(c.wrapping.noBrokeWords+=+e.breakWord,++c.wrapping.noLines,c.availableLines===c.wrapping.noLines){d=this.addEllipsis(c.currentLine,c.availableWidth,d);c.wrapping.wrappedText+=d.wrappedToken;c.wrapping.truncatedText+=d.remainingToken+a;c.currentLine="\n";break}else c.wrapping.wrappedText+=b.StringMethods.trimEnd(c.currentLine),c.currentLine="\n"}return c};a.prototype.finishWrapping=function(a,b,c){b.canFitText&&b.availableLines!==b.wrapping.noLines&&this._allowBreakingWords&&"none"!==
this._textTrimming?(c=this.addEllipsis(b.currentLine+a,b.availableWidth,c),b.wrapping.wrappedText+=c.wrappedToken,b.wrapping.truncatedText+=c.remainingToken,b.wrapping.noBrokeWords+=+(c.remainingToken.length<a.length),b.wrapping.noLines+=+(0<c.wrappedToken.length),b.currentLine=""):b.wrapping.truncatedText+=a;b.canFitText=!1;return b};a.prototype.breakTokenToFitInWidth=function(a,b,c,d){if(void 0===e)var e=this._breakingCharacter;if(d.measure(b+a).width<=c)return{breakWord:!1,line:b+a,remainingToken:null};
if(""===a.trim())return{breakWord:!1,line:b,remainingToken:""};if(!this._allowBreakingWords)return{breakWord:!1,line:b,remainingToken:a};for(var f=0;f<a.length;)if(d.measure(b+a.substring(0,f+1)+e).width<=c)++f;else break;c="";0<f&&(c=e);return{breakWord:0<f,line:b+a.substring(0,f)+c,remainingToken:a.substring(f)}};return a}();c.Wrapper=a},function(a,c,d){a=d(128);for(var b in a)c.hasOwnProperty(b)||(c[b]=a[b])},function(a,c,d){function b(a){for(var b in a)c.hasOwnProperty(b)||(c[b]=a[b])}b(d(66));
b(d(67));b(d(26))},function(a,c,d){var b=d(0);a=function(){function a(a,c){void 0===a&&(a=[]);void 0===c&&(c={});this._data=a;this._metadata=c;this._callbacks=new b.CallbackSet}a.prototype.onUpdate=function(a){this._callbacks.add(a);return this};a.prototype.offUpdate=function(a){this._callbacks.delete(a);return this};a.prototype.data=function(a){if(null==a)return this._data;this._data=a;this._callbacks.callCallbacks(this);return this};a.prototype.metadata=function(a){if(null==a)return this._metadata;
this._metadata=a;this._callbacks.callCallbacks(this);return this};return a}();c.Dataset=a},function(a,c){c.version="3.1.0"},function(a,c,d){function b(a){for(var b in a)c.hasOwnProperty(b)||(c[b]=a[b])}b(d(41));b(d(42));b(d(43));b(d(19));b(d(6));b(d(31));b(d(32));b(d(44));b(d(8));b(d(45))},function(a,c,d){function b(a,b){return a.each(function(){var a=b.apply(this,arguments),c=r.select(this),d;for(d in a)c.attr(d,a[d])})}function f(a,b){for(var c in b)a.attr(c,b[c]);return a}function g(a,b,c){return a.each(function(){var a=
b.apply(this,arguments),d=r.select(this),e;for(e in a)d.style(e,a[e],c)})}function k(a,b,c){for(var d in b)a.style(d,b[d],c);return a}function l(a,b){return a.each(function(){var a=b.apply(this,arguments),c=r.select(this),d;for(d in a)c.property(d,a[d])})}function m(a,b){for(var c in b)a.property(c,b[c]);return a}function n(a,b){return a.each(function(){var c=b.apply(this,arguments),d=r.select(this).transition(a),e;for(e in c)d.attr(e,c[e])})}function q(a,b){for(var c in b)a.attr(c,b[c]);return a}
function p(a,b,c){return a.each(function(){var d=b.apply(this,arguments),e=r.select(this).transition(a),f;for(f in d)e.style(f,d[f],c)})}function t(a,b,c){for(var d in b)a.style(d,b[d],c);return a}var r=a=d(1);r.selection.prototype.attrs=function(a){return("function"===typeof a?b:f)(this,a)};r.selection.prototype.styles=function(a,b){return("function"===typeof a?g:k)(this,a,null==b?"":b)};r.selection.prototype.properties=function(a){return("function"===typeof a?l:m)(this,a)};a.transition.prototype.attrs=
function(a){return("function"===typeof a?n:q)(this,a)};a.transition.prototype.styles=function(a,b){return("function"===typeof a?p:t)(this,a,null==b?"":b)}},function(a,c,d){a=d(108);var b=d(12);d=d(9);var f={linear:a.easeLinear,quad:a.easeQuad,quadIn:a.easeQuadIn,quadOut:a.easeQuadOut,quadInOut:a.easeQuadInOut,cubic:a.easeCubic,cubicIn:a.easeCubicIn,cubicOut:a.easeCubicOut,cubicInOut:a.easeCubicInOut,poly:a.easePoly,polyIn:a.easePolyIn,polyOut:a.easePolyOut,polyInOut:a.easePolyInOut,sin:a.easeSin,
sinIn:a.easeSinIn,sinOut:a.easeSinOut,sinInOut:a.easeSinInOut,exp:a.easeExp,expIn:a.easeExpIn,expOut:a.easeExpOut,expInOut:a.easeExpInOut,circle:a.easeCircle,circleIn:a.easeCircleIn,circleOut:a.easeCircleOut,circleInOut:a.easeCircleInOut,bounce:a.easeBounce,bounceIn:a.easeBounceIn,bounceOut:a.easeBounceOut,bounceInOut:a.easeBounceInOut,back:a.easeBack,backIn:a.easeBackIn,backOut:a.easeBackOut,backInOut:a.easeBackInOut,elastic:a.easeElastic,elasticIn:a.easeElasticIn,elasticOut:a.easeElasticOut,elasticInOut:a.easeElasticInOut};
c.EaseName=d.makeEnum("linear quad quadIn quadOut quadInOut cubic cubicIn cubicOut cubicInOut poly polyIn polyOut polyInOut sin sinIn sinOut sinInOut exp expIn expOut expInOut circle circleIn circleOut circleInOut bounce bounceIn bounceOut bounceInOut back backIn backOut backInOut elastic elasticIn elasticOut elasticInOut".split(" "));d=function(){function a(){this._startDelay=a._DEFAULT_START_DELAY_MILLISECONDS;this._stepDuration=a._DEFAULT_STEP_DURATION_MILLISECONDS;this._stepDelay=a._DEFAULT_ITERATIVE_DELAY_MILLISECONDS;
this._maxTotalDuration=a._DEFAULT_MAX_TOTAL_DURATION_MILLISECONDS;this._easingMode=a._DEFAULT_EASING_MODE}a.prototype.totalTime=function(a){var b=this._getAdjustedIterativeDelay(a);return this.startDelay()+b*Math.max(a-1,0)+this.stepDuration()};a.prototype.animate=function(a,c){var d=this;a=b.coerceExternalD3(a);var e=a.size(),f=this._getAdjustedIterativeDelay(e);return a.transition().ease(this._getEaseFactory()).duration(this.stepDuration()).delay(function(a,b){return d.startDelay()+f*b}).attrs(c)};
a.prototype.startDelay=function(a){if(null==a)return this._startDelay;this._startDelay=a;return this};a.prototype.stepDuration=function(a){if(null==a)return Math.min(this._stepDuration,this._maxTotalDuration);this._stepDuration=a;return this};a.prototype.stepDelay=function(){return this._stepDelay};a.prototype.maxTotalDuration=function(a){if(null==a)return this._maxTotalDuration;this._maxTotalDuration=a;return this};a.prototype.easingMode=function(a){if(null==a)return this._easingMode;this._easingMode=
a;return this};a.prototype._getEaseFactory=function(){var a=this.easingMode();return"string"===typeof a?(a=f[a],null==a?f.linear:a):a};a.prototype._getAdjustedIterativeDelay=function(a){var b=this.maxTotalDuration()-this.stepDuration();b=Math.max(b,0);a=b/Math.max(a-1,1);return Math.min(this.stepDelay(),a)};return a}();d._DEFAULT_START_DELAY_MILLISECONDS=0;d._DEFAULT_STEP_DURATION_MILLISECONDS=300;d._DEFAULT_ITERATIVE_DELAY_MILLISECONDS=15;d._DEFAULT_MAX_TOTAL_DURATION_MILLISECONDS=Infinity;d._DEFAULT_EASING_MODE=
"expOut";c.Easing=d},function(a,c,d){var b=d(12);a=function(){function a(){}a.prototype.totalTime=function(){return 0};a.prototype.animate=function(a,c){a=b.coerceExternalD3(a);return a.attrs(c)};return a}();c.Null=a},function(a,c,d){var b=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},f=d(1),g=d(5),k=d(4),l=d(0),m=d(21);a=function(a){function c(b,c){void 0===
c&&(c="bottom");b=a.call(this,b,c)||this;b._tickLabelAngle=0;b._tickLabelShearAngle=0;b.addClass("category-axis");return b}b(c,a);Object.defineProperty(c.prototype,"_wrapper",{get:function(){var a=new g.Wrapper;null!=this._tickLabelMaxLines&&a.maxLines(this._tickLabelMaxLines);return a},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"_writer",{get:function(){return new g.Writer(this._measurer,this._typesetterContext,this._wrapper)},enumerable:!0,configurable:!0});c.prototype._setup=
function(){a.prototype._setup.call(this);this._typesetterContext=new g.SvgContext(this._tickLabelContainer.node());this._measurer=new g.CacheMeasurer(this._typesetterContext)};c.prototype._rescale=function(){return this.redraw()};c.prototype.requestedSpace=function(a,b){var c=this.isHorizontal()?0:this._tickSpaceRequired()+this.margin(),d=this.isHorizontal()?this._tickSpaceRequired()+this.margin():0;if(0===this._scale.domain().length)return{minWidth:0,minHeight:0};if(this.annotationsEnabled()){var e=
this._annotationTierHeight()*this.annotationTierCount();this.isHorizontal()?d+=e:c+=e}a=this._measureTickLabels(a,b);return{minWidth:a.usedWidth+c,minHeight:a.usedHeight+d}};c.prototype._coreSize=function(){var a=this.isHorizontal()?this.height():this.width(),b=this.isHorizontal()?this.requestedSpace(this.width(),this.height()).minHeight:this.requestedSpace(this.width(),this.height()).minWidth,c=this.margin()+this._annotationTierHeight();return Math.min(b-c,a)};c.prototype._getTickValues=function(){return this.getDownsampleInfo().domain};
c.prototype._sizeFromOffer=function(a,b){return k.Component.prototype._sizeFromOffer.call(this,a,b)};c.prototype.getDownsampleInfo=function(a){var b;void 0===a&&(a=this._scale);void 0===b&&(b=a.invertRange());var d=Math.ceil(c._MINIMUM_WIDTH_PER_LABEL_PX*(0===this._tickLabelAngle?1:1/Math.cos(this._tickLabelShearAngle/180*Math.PI))/a.stepWidth());return{domain:b.filter(function(a,b){return 0===b%d}),stepWidth:d*a.stepWidth()}};c.prototype.tickLabelAngle=function(){return this._tickLabelAngle;throw Error("Angle undefined not supported; only 0, 90, and -90 are valid values");
};c.prototype.tickLabelShearAngle=function(){return this._tickLabelShearAngle};c.prototype.tickLabelMaxWidth=function(a){if(0===arguments.length)return this._tickLabelMaxWidth;this._tickLabelMaxWidth=a;this.redraw();return this};c.prototype.tickLabelMaxLines=function(a){if(0===arguments.length)return this._tickLabelMaxLines;this._tickLabelMaxLines=a;this.redraw();return this};c.prototype._tickSpaceRequired=function(){return this._maxLabelTickLength()+this.tickLabelPadding()};c.prototype._drawTicks=
function(a,b){var c=this;switch(this.tickLabelAngle()){case 0:var d={left:"right",right:"left",top:"center",bottom:"center"};var e={left:"center",right:"center",top:"bottom",bottom:"top"};break;case 90:d={left:"center",right:"center",top:"right",bottom:"left"};e={left:"top",right:"bottom",top:"center",bottom:"center"};break;case -90:d={left:"center",right:"center",top:"left",bottom:"right"},e={left:"bottom",right:"top",top:"center",bottom:"center"}}b.each(function(b){var g=f.select(this),k=c.isHorizontal()?
a:c.width()-c._tickSpaceRequired(),l=c.isHorizontal()?c.height()-c._tickSpaceRequired():a,m={xAlign:d[c.orientation()],yAlign:e[c.orientation()],textRotation:c.tickLabelAngle(),textShear:c.tickLabelShearAngle()};if(null!=c._tickLabelMaxWidth){if("left"===c.orientation()&&k>c._tickLabelMaxWidth){var n=k-c._tickLabelMaxWidth;n=g.attr("transform")+" translate("+n+", 0)";g.attr("transform",n)}k=Math.min(k,c._tickLabelMaxWidth)}c._writer.write(c.formatter()(b),k,l,m,g.node())})};c.prototype._measureTickLabels=
function(a,b){var c=this,d=this._scale.cloneWithoutProviders().range([0,this.isHorizontal()?a:b]),e=this.getDownsampleInfo(d);d=e.domain;e=e.stepWidth;var g=a-this._tickSpaceRequired();this.isHorizontal()&&(g=e,0!==this._tickLabelAngle&&(g=b-this._tickSpaceRequired()),g=Math.max(g,0));var k=e;this.isHorizontal()&&(k=b-this._tickSpaceRequired(),0!==this._tickLabelAngle&&(k=a-this._tickSpaceRequired()),k=Math.max(k,0));null!=this._tickLabelMaxWidth&&(g=Math.min(g,this._tickLabelMaxWidth));b=d.map(function(a){return c._wrapper.wrap(c.formatter()(a),
c._measurer,g,k)});d=this.isHorizontal()&&0===this._tickLabelAngle?l.Math.max:f.sum;a=(this.isHorizontal()&&0===this._tickLabelAngle?f.sum:l.Math.max)(b,function(a){return c._measurer.measure(a.wrappedText).width},0);b=d(b,function(a){return c._measurer.measure(a.wrappedText).height},0);0!==this._tickLabelAngle&&(b=[b,a],a=b[0],b=b[1]);return{usedWidth:a,usedHeight:b}};c.prototype.renderImmediately=function(){var b=this;a.prototype.renderImmediately.call(this);var c=this._scale,d=this.getDownsampleInfo(c),
e=d.domain,f=d=d.stepWidth;this.isHorizontal()&&null!=this._tickLabelMaxWidth&&(f=Math.min(f,this._tickLabelMaxWidth));e=this._tickLabelContainer.selectAll("."+m.Axis.TICK_LABEL_CLASS).data(e);var g=e.enter().append("g").classed(m.Axis.TICK_LABEL_CLASS,!0).merge(e);e.exit().remove();g.attr("transform",function(a){a=c.scale(a)-f/2;return"translate("+(b.isHorizontal()?a:0)+","+(b.isHorizontal()?0:a)+")"});g.text("");this._drawTicks(d,g);d="right"===this.orientation()?this._tickSpaceRequired():0;e="bottom"===
this.orientation()?this._tickSpaceRequired():0;this._tickLabelContainer.attr("transform","translate("+d+","+e+")");this._showAllTickMarks();this._showAllTickLabels();this._hideTickMarksWithoutLabel();return this};c.prototype.computeLayout=function(b,c,d){a.prototype.computeLayout.call(this,b,c,d);this.isHorizontal()||this._scale.range([0,this.height()]);return this};c.prototype.invalidateCache=function(){a.prototype.invalidateCache.call(this);this._measurer.reset()};return c}(m.Axis);a._MINIMUM_WIDTH_PER_LABEL_PX=
15;c.Category=a},function(a,c,d){var b=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},f=d(1),g=d(5),k=d(10),l=d(0),m=d(21);a=function(a){function c(b,c){b=a.call(this,b,c)||this;b._tickLabelPositioning="center";b._usesTextWidthApproximation=!1;b.formatter(k.general());return b}b(c,a);c.prototype._setup=function(){a.prototype._setup.call(this);var b=new g.SvgContext(this._tickLabelContainer.node(),
m.Axis.TICK_LABEL_CLASS);this._measurer=new g.CacheMeasurer(b);this._wrapper=(new g.Wrapper).maxLines(1)};c.prototype._computeWidth=function(){var a=this._usesTextWidthApproximation?this._computeApproximateTextWidth():this._computeExactTextWidth();return"center"===this._tickLabelPositioning?this._maxLabelTickLength()+this.tickLabelPadding()+a:Math.max(this._maxLabelTickLength(),this.tickLabelPadding()+a)};c.prototype._computeExactTextWidth=function(){var a=this,b=this._getTickValues().map(function(b){b=
a.formatter()(b);return a._measurer.measure(b).width});return l.Math.max(b,0)};c.prototype._computeApproximateTextWidth=function(){var a=this,b=this._getTickValues(),c=this._measurer.measure("M").width;b=b.map(function(b){return a.formatter()(b).length*c});return l.Math.max(b,0)};c.prototype._computeHeight=function(){var a=this._measurer.measure().height;return"center"===this._tickLabelPositioning?this._maxLabelTickLength()+this.tickLabelPadding()+a:Math.max(this._maxLabelTickLength(),this.tickLabelPadding()+
a)};c.prototype._getTickValues=function(){var a=this._scale,b=a.domain(),c=b[0]<=b[1]?b[0]:b[1],d=b[0]>=b[1]?b[0]:b[1];return a.ticks().filter(function(a){return a>=c&&a<=d})};c.prototype._rescale=function(){if(this._isSetup){if(!this.isHorizontal()){var a=this._computeWidth();if(a>this.width()||a<this.width()-this.margin()){this.redraw();return}}this.render()}};c.prototype.renderImmediately=function(){var b=this;a.prototype.renderImmediately.call(this);var c={x:0,y:0,dx:"0em",dy:"0.3em"},d=this._maxLabelTickLength(),
e=this.tickLabelPadding(),f="middle",g=0,k=0,l=0,n=0;if(this.isHorizontal())switch(this._tickLabelPositioning){case "left":f="end";g=-e;n=e;break;case "center":n=d+e;break;case "right":f="start",n=g=e}else switch(this._tickLabelPositioning){case "top":c.dy="-0.3em";l=e;k=-e;break;case "center":l=d+e;break;case "bottom":c.dy="1em",k=l=e}d=this._generateTickMarkAttrHash();switch(this.orientation()){case "bottom":c.x=d.x1;c.dy="0.95em";k=d.y1+n;break;case "top":c.x=d.x1;c.dy="-.25em";k=d.y1-n;break;
case "left":f="end";g=d.x1-l;c.y=d.y1;break;case "right":f="start",g=d.x1+l,c.y=d.y1}l=this._getTickValues();l=this._tickLabelContainer.selectAll("."+m.Axis.TICK_LABEL_CLASS).data(l);l.exit().remove();l.enter().append("text").classed(m.Axis.TICK_LABEL_CLASS,!0).merge(l).style("text-anchor",f).style("visibility","inherit").attrs(c).text(function(a){return b.formatter()(a)});this._tickLabelContainer.attr("transform","translate("+g+", "+k+")");this._showAllTickMarks();this.showEndTickLabels()||this._hideEndTickLabels();
this._hideOverflowingTickLabels();this._hideOverlappingTickLabels();"center"!==this._tickLabelPositioning&&this._hideTickMarksWithoutLabel();return this};c.prototype.tickLabelPosition=function(a){if(null==a)return this._tickLabelPositioning;a=a.toLowerCase();if(this.isHorizontal()){if("left"!==a&&"center"!==a&&"right"!==a)throw Error(a+" is not a valid tick label position for a horizontal NumericAxis");}else if("top"!==a&&"center"!==a&&"bottom"!==a)throw Error(a+" is not a valid tick label position for a vertical NumericAxis");
this._tickLabelPositioning=a;this.redraw();return this};c.prototype.usesTextWidthApproximation=function(){this._usesTextWidthApproximation=!0};c.prototype._hideEndTickLabels=function(){var a=this.element().node().getBoundingClientRect(),b=this._tickLabelContainer.selectAll("."+m.Axis.TICK_LABEL_CLASS);if(0!==b.size()){var c=b.nodes()[0];l.DOM.clientRectInside(c.getBoundingClientRect(),a)||f.select(c).style("visibility","hidden");b=b.nodes()[b.size()-1];l.DOM.clientRectInside(b.getBoundingClientRect(),
a)||f.select(b).style("visibility","hidden")}};c.prototype._hideOverlappingTickLabels=function(){for(var a=this._tickLabelContainer.selectAll("."+m.Axis.TICK_LABEL_CLASS).filter(function(){var a=f.select(this).style("visibility");return"inherit"===a||"visible"===a}),b=a.nodes().map(function(a){return a.getBoundingClientRect()}),c=1;!this._hasOverlapWithInterval(c,b)&&c<b.length;)c+=1;a.each(function(a,b){a=f.select(this);0!==b%c&&a.style("visibility","hidden")})};c.prototype._hasOverlapWithInterval=
function(a,b){var c="center"===this._tickLabelPositioning?this.tickLabelPadding():3*this.tickLabelPadding();b=b.map(function(a){return l.DOM.expandRect(a,c)});for(var d=0;d<b.length-a;d+=a)if(l.DOM.clientRectsOverlap(b[d],b[d+a]))return!1;return!0};c.prototype.invalidateCache=function(){a.prototype.invalidateCache.call(this);this._measurer.reset()};return c}(m.Axis);c.Numeric=a},function(a,c,d){var b=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&
(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)};a=d(39);var f=d(14),g=d(0);d=function(a){function c(b){function c(){l&&(l=!1,k._dragEndCallbacks.callCallbacks(k))}function d(a,b){l&&(k._setPixelPositionWithoutChangingMode(k._isVertical()?b.x:b.y),k._dragCallbacks.callCallbacks(k))}function e(a){if(k._isVertical()&&k.pixelPosition()-k.detectionRadius()<=a.x&&a.x<=k.pixelPosition()+k.detectionRadius()||!k._isVertical()&&k.pixelPosition()-k.detectionRadius()<=a.y&&
a.y<=k.pixelPosition()+k.detectionRadius())l=!0,k._dragStartCallbacks.callCallbacks(k)}var k=a.call(this,b)||this;k._detectionRadius=3;k._enabled=!0;k.addClass("drag-line-layer");k.addClass("enabled");k._dragInteraction=new f.Drag;k._dragInteraction.attachTo(k);var l=!1;k._dragInteraction.onDragStart(e);k._dragInteraction.onDrag(d);k._dragInteraction.onDragEnd(c);k._disconnectInteraction=function(){k._dragInteraction.offDragStart(e);k._dragInteraction.offDrag(d);k._dragInteraction.offDragEnd(c);k._dragInteraction.detachFrom()};
k._dragStartCallbacks=new g.CallbackSet;k._dragCallbacks=new g.CallbackSet;k._dragEndCallbacks=new g.CallbackSet;return k}b(c,a);c.prototype._setup=function(){a.prototype._setup.call(this);this._detectionEdge=this.content().append("line").styles({opacity:0,stroke:"pink","pointer-events":"visibleStroke"}).classed("drag-edge",!0)};c.prototype.renderImmediately=function(){a.prototype.renderImmediately.call(this);this._detectionEdge.attrs({x1:this._isVertical()?this.pixelPosition():0,y1:this._isVertical()?
0:this.pixelPosition(),x2:this._isVertical()?this.pixelPosition():this.width(),y2:this._isVertical()?this.height():this.pixelPosition(),"stroke-width":2*this._detectionRadius});return this};c.prototype.detectionRadius=function(a){if(null==a)return this._detectionRadius;if(0>a)throw Error("detection radius cannot be negative.");this._detectionRadius=a;this.render();return this};c.prototype.enabled=function(a){if(null==a)return this._enabled;(this._enabled=a)?this.addClass("enabled"):this.removeClass("enabled");
this._dragInteraction.enabled(a);return this};c.prototype.onDragStart=function(a){this._dragStartCallbacks.add(a);return this};c.prototype.offDragStart=function(a){this._dragStartCallbacks.delete(a);return this};c.prototype.onDrag=function(a){this._dragCallbacks.add(a);return this};c.prototype.offDrag=function(a){this._dragCallbacks.delete(a);return this};c.prototype.onDragEnd=function(a){this._dragEndCallbacks.add(a);return this};c.prototype.offDragEnd=function(a){this._dragEndCallbacks.delete(a);
return this};c.prototype.destroy=function(){var b=this;a.prototype.destroy.call(this);this._dragStartCallbacks.forEach(function(a){return b._dragStartCallbacks.delete(a)});this._dragCallbacks.forEach(function(a){return b._dragCallbacks.delete(a)});this._dragEndCallbacks.forEach(function(a){return b._dragEndCallbacks.delete(a)});this._disconnectInteraction()};return c}(a.GuideLineLayer);c.DragLineLayer=d},function(a,c,d){var b=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&
(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},f=d(11);a=function(a){function c(b,c){var d=this;if(null!=b&&!f.QuantitativeScale.prototype.isPrototypeOf(b))throw Error("xScale needs to inherit from Scale.QuantitativeScale");if(null!=c&&!f.QuantitativeScale.prototype.isPrototypeOf(c))throw Error("yScale needs to inherit from Scale.QuantitativeScale");d=a.call(this)||this;d.addClass("gridlines");d._xScale=b;d._yScale=c;d._renderCallback=function(){return d.render()};
if(d._xScale)d._xScale.onUpdate(d._renderCallback);if(d._yScale)d._yScale.onUpdate(d._renderCallback);return d}b(c,a);c.prototype.destroy=function(){a.prototype.destroy.call(this);this._xScale&&this._xScale.offUpdate(this._renderCallback);this._yScale&&this._yScale.offUpdate(this._renderCallback);return this};c.prototype._setup=function(){a.prototype._setup.call(this);this._xLinesContainer=this.content().append("g").classed("x-gridlines",!0);this._yLinesContainer=this.content().append("g").classed("y-gridlines",
!0)};c.prototype.renderImmediately=function(){a.prototype.renderImmediately.call(this);this._redrawXLines();this._redrawYLines();return this};c.prototype.computeLayout=function(b,c,d){a.prototype.computeLayout.call(this,b,c,d);null!=this._xScale&&this._xScale.range([0,this.width()]);null!=this._yScale&&this._yScale.range([this.height(),0]);return this};c.prototype._redrawXLines=function(){var a=this;if(this._xScale){var b=this._xScale.ticks(),c=function(b){return a._xScale.scale(b)};b=this._xLinesContainer.selectAll("line").data(b);
b.enter().append("line").merge(b).attr("x1",c).attr("y1",0).attr("x2",c).attr("y2",this.height()).classed("zeroline",function(a){return 0===a});b.exit().remove()}};c.prototype._redrawYLines=function(){var a=this;if(this._yScale){var b=this._yScale.ticks(),c=function(b){return a._yScale.scale(b)};b=this._yLinesContainer.selectAll("line").data(b);b.enter().append("line").merge(b).attr("x1",0).attr("y1",c).attr("x2",this.width()).attr("y2",c).classed("zeroline",function(a){return 0===a});b.exit().remove()}};
return c}(d(4).Component);c.Gridlines=a},function(a,c,d){var b=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},f=d(5),g=d(22),k=d(10),l=d(0);a=function(a){function c(b){var c=a.call(this)||this;c._textPadding=5;if(null==b)throw Error("InterpolatedColorLegend requires a interpolatedColorScale");c._scale=b;c._redrawCallback=function(){return c.redraw()};c._scale.onUpdate(c._redrawCallback);
c._formatter=k.general();c._orientation="horizontal";c._expands=!1;c.addClass("legend");c.addClass("interpolated-color-legend");return c}b(c,a);c.prototype.destroy=function(){a.prototype.destroy.call(this);this._scale.offUpdate(this._redrawCallback)};c.prototype.formatter=function(a){if(void 0===a)return this._formatter;this._formatter=a;this.redraw();return this};c.prototype.expands=function(){return this._expands};c._ensureOrientation=function(a){a=a.toLowerCase();if("horizontal"===a||"left"===
a||"right"===a)return a;throw Error('"'+a+'" is not a valid orientation for InterpolatedColorLegend');};c.prototype.orientation=function(a){if(null==a)return this._orientation;this._orientation=c._ensureOrientation(a);this.redraw();return this};c.prototype.fixedWidth=function(){return!this.expands()||this._isVertical()};c.prototype.fixedHeight=function(){return!this.expands()||!this._isVertical()};c.prototype._generateTicks=function(a){void 0===a&&(a=c._DEFAULT_NUM_SWATCHES);var b=this._scale.domain();
if(1===a)return[b[0]];for(var d=(b[1]-b[0])/(a-1),e=[],f=0;f<a;f++)e.push(b[0]+d*f);return e};c.prototype._setup=function(){a.prototype._setup.call(this);this._swatchContainer=this.content().append("g").classed("swatch-container",!0);this._swatchBoundingBox=this.content().append("rect").classed("swatch-bounding-box",!0);this._lowerLabel=this.content().append("g").classed(c.LEGEND_LABEL_CLASS,!0);this._upperLabel=this.content().append("g").classed(c.LEGEND_LABEL_CLASS,!0);var b=new f.SvgContext(this.content().node());
this._measurer=new f.Measurer(b);this._wrapper=new f.Wrapper;this._writer=new f.Writer(this._measurer,b,this._wrapper)};c.prototype.requestedSpace=function(){var a=this,b=this._measurer.measure().height,d=this._scale.domain().map(function(b){return a._measurer.measure(a._formatter(b)).width}),e=c._DEFAULT_NUM_SWATCHES;if(this._isVertical()){var f=l.Math.max(d,0);d=b+b+this._textPadding+f+this._textPadding;f=e*b}else f=b+b+b,d=this._textPadding+d[0]+e*b+d[1]+this._textPadding;return{minWidth:d,minHeight:f}};
c.prototype._isVertical=function(){return"horizontal"!==this._orientation};c.prototype.renderImmediately=function(){var b=this;a.prototype.renderImmediately.call(this);var c=this._scale.domain(),d=this._formatter(c[0]),e=this._measurer.measure(d).width,f=this._formatter(c[1]);c=this._measurer.measure(f).width;var k=this._measurer.measure().height,l=this._textPadding,m=0,n=0,y=0,C=0,D={xAlign:"center",yAlign:"center",textRotation:0},G={xAlign:"center",yAlign:"center",textRotation:0},E={x:0,y:0,width:0,
height:0};if(this._isVertical()){var F=Math.floor(this.height());var B=Math.max(e,c);var H=(this.width()-B-2*this._textPadding)/2;c=Math.max(this.width()-H-2*l-B,0);k=1;var K=function(a,c){return b.height()-(c+1)};G.yAlign="top";n=0;D.yAlign="bottom";C=0;if("left"===this._orientation){var M=function(){return l+B+l};G.xAlign="right";m=-(H+c+l);D.xAlign="right";y=-(H+c+l)}else M=function(){return H},G.xAlign="left",m=H+c+l,D.xAlign="left",y=H+c+l;E.width=c;E.height=F*k}else H=Math.max(l,(this.height()-
k)/2),F=Math.max(Math.floor(this.width()-4*l-e-c),0),c=1,k=Math.max(this.height()-2*H,0),M=function(a,b){return Math.floor(e+2*l)+b},K=function(){return H},G.xAlign="right",m=-l,D.xAlign="left",y=l,E.y=H,E.width=F*c,E.height=k;E.x=M(null,0);this._upperLabel.text("");this._writer.write(f,this.width(),this.height(),G,this._upperLabel.node());this._upperLabel.attr("transform","translate("+m+", "+n+")");this._lowerLabel.text("");this._writer.write(d,this.width(),this.height(),D,this._lowerLabel.node());
this._lowerLabel.attr("transform","translate("+y+", "+C+")");this._swatchBoundingBox.attrs(E);d=this._generateTicks(F);d=this._swatchContainer.selectAll("rect.swatch").data(d);f=d.enter().append("rect").classed("swatch",!0);m=d.merge(f);d.exit().remove();m.attrs({fill:function(a){return b._scale.scale(a)},width:c,height:k,x:M,y:K,"shape-rendering":"crispEdges"});g.ADD_TITLE_ELEMENTS&&f.append("title").text(function(a){return b._formatter(a)});return this};return c}(d(4).Component);a._DEFAULT_NUM_SWATCHES=
11;a.LEGEND_LABEL_CLASS="legend-label";c.InterpolatedColorLegend=a},function(a,c,d){var b=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},f=d(5);a=function(a){function c(b,c){void 0===b&&(b="");void 0===c&&(c=0);var d=a.call(this)||this;d.addClass("label");d.text(b);d.angle(c);d.xAlignment("center").yAlignment("center");d._padding=0;return d}b(c,a);c.prototype.requestedSpace=
function(){var a=this._measurer.measure(this._text),b=(0===this.angle()?a.width:a.height)+2*this.padding();a=(0===this.angle()?a.height:a.width)+2*this.padding();return{minWidth:b,minHeight:a}};c.prototype._setup=function(){a.prototype._setup.call(this);this._textContainer=this.content().append("g");var b=new f.SvgContext(this._textContainer.node());this._measurer=new f.CacheMeasurer(b);this._wrapper=new f.Wrapper;this._writer=new f.Writer(this._measurer,b,this._wrapper);this.text(this._text)};c.prototype.text=
function(a){if(null==a)return this._text;if("string"!==typeof a)throw Error("Label.text() only takes strings as input");this._text=a;this.redraw();return this};c.prototype.angle=function(a){if(null==a)return this._angle;a%=360;180<a?a-=360:-180>a&&(a+=360);if(-90===a||0===a||90===a)this._angle=a;else throw Error(a+" is not a valid angle for Label");this.redraw();return this};c.prototype.padding=function(a){if(null==a)return this._padding;a=+a;if(0>a)throw Error(a+" is not a valid padding value. Cannot be less than 0.");
this._padding=a;this.redraw();return this};c.prototype.fixedWidth=function(){return!0};c.prototype.fixedHeight=function(){return!0};c.prototype.renderImmediately=function(){a.prototype.renderImmediately.call(this);this._textContainer.selectAll("g").remove();var b=this._measurer.measure(this._text),c=Math.max(Math.min((this.height()-b.height)/2,this.padding()),0);b=Math.max(Math.min((this.width()-b.width)/2,this.padding()),0);this._textContainer.attr("transform","translate("+b+","+c+")");b=this.width()-
2*b;c=this.height()-2*c;var d={xAlign:this.xAlignment(),yAlign:this.yAlignment(),textRotation:this.angle()};this._writer.write(this._text,b,c,d);return this};c.prototype.invalidateCache=function(){a.prototype.invalidateCache.call(this);this._measurer.reset()};return c}(d(4).Component);c.Label=a;d=function(a){function c(b,d){b=a.call(this,b,d)||this;b.addClass(c.TITLE_LABEL_CLASS);return b}b(c,a);return c}(a);d.TITLE_LABEL_CLASS="title-label";c.TitleLabel=d;a=function(a){function c(b,d){b=a.call(this,
b,d)||this;b.addClass(c.AXIS_LABEL_CLASS);return b}b(c,a);return c}(a);a.AXIS_LABEL_CLASS="axis-label";c.AxisLabel=a},function(a,c,d){var b=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},f=d(1),g=d(5),k=d(22),l=d(10),m=d(29),n=d(0);a=d(4);var q=function(){function a(a,b,c){void 0===a&&(a=[]);void 0===b&&(b=0);void 0===c&&(c=Infinity);this.columns=a;this.bottomPadding=
b;this.maxWidth=c}a.prototype.addColumn=function(a){var b=a.width,c=this.getWidthAvailable();a.width=Math.min(c,b);this.columns.push(a)};a.prototype.getBounds=function(a){for(var b=this.columns[a],c=0,d=0;d<a;d++)c+=this.columns[d].width;return{topLeft:{x:c,y:0},bottomRight:{x:c+b.width,y:b.height}}};a.prototype.getHeight=function(){return n.Math.max(this.columns.map(function(a){return a.height}),0)+this.bottomPadding};a.prototype.getWidth=function(){return Math.min(this.columns.reduce(function(a,
b){return a+b.width},0),this.maxWidth)};a.prototype.getWidthAvailable=function(){var a=this.getWidth();return Math.max(this.maxWidth-a,0)};return a}(),p=function(){function a(a,b,c,d){void 0===a&&(a=Infinity);void 0===b&&(b=Infinity);void 0===c&&(c=0);void 0===d&&(d=[]);this.maxWidth=a;this.maxHeight=b;this.padding=c;this.rows=d}a.prototype.addRow=function(a){a.maxWidth=this.maxWidth-2*this.padding;this.rows.push(a)};a.prototype.getColumnBounds=function(a,b){var c=this.getRowBounds(a);a=this.rows[a].getBounds(b);
a.topLeft.x+=c.topLeft.x;a.bottomRight.x+=c.topLeft.x;a.topLeft.y+=c.topLeft.y;a.bottomRight.y+=c.topLeft.y;return a};a.prototype.getRowBounds=function(a){for(var b=this.padding,c=this.padding,d=0;d<a;d++)c+=this.rows[d].getHeight();return{topLeft:{x:b,y:c},bottomRight:{x:b+this.rows[a].getWidth(),y:c+this.rows[a].getHeight()}}};a.prototype.getHeight=function(){return Math.min(this.rows.reduce(function(a,b){return a+b.getHeight()},0)+2*this.padding,this.maxHeight)};a.prototype.getWidth=function(){return Math.min(n.Math.max(this.rows.map(function(a){return a.getWidth()}),
0)+2*this.padding,this.maxWidth)};return a}();a=function(a){function c(b){var c=a.call(this)||this;c._padding=5;c._rowBottomPadding=3;c.addClass("legend");c.maxEntriesPerRow(1);if(null==b)throw Error("Legend requires a colorScale");c._colorScale=b;c._redrawCallback=function(){return c.redraw()};c._colorScale.onUpdate(c._redrawCallback);c._formatter=l.identity();c.maxLinesPerEntry(1);c.xAlignment("right").yAlignment("top");c.comparator(function(a,b){var d=c._colorScale.domain().slice().map(function(a){return c._formatter(a)});
return d.indexOf(a)-d.indexOf(b)});c._symbolFactoryAccessor=function(){return m.circle()};c._symbolOpacityAccessor=function(){return 1};return c}b(c,a);c.prototype._setup=function(){a.prototype._setup.call(this);var b=this.content().append("g").classed(c.LEGEND_ROW_CLASS,!0);b.append("g").classed(c.LEGEND_ENTRY_CLASS,!0).append("text");b=new g.SvgContext(b.node(),null,k.ADD_TITLE_ELEMENTS);this._measurer=new g.Measurer(b);this._wrapper=(new g.Wrapper).maxLines(this.maxLinesPerEntry());this._writer=
new g.Writer(this._measurer,b,this._wrapper)};c.prototype.formatter=function(a){if(null==a)return this._formatter;this._formatter=a;this.redraw();return this};c.prototype.maxEntriesPerRow=function(a){if(null==a)return this._maxEntriesPerRow;this._maxEntriesPerRow=a;this.redraw();return this};c.prototype.maxLinesPerEntry=function(a){if(null==a)return this._maxLinesPerEntry;this._maxLinesPerEntry=a;this.redraw();return this};c.prototype.maxWidth=function(a){if(null==a)return this._maxWidth;this._maxWidth=
a;this.redraw();return this};c.prototype.comparator=function(a){null!=a&&(this._comparator=a,this.redraw())};c.prototype.colorScale=function(a){return null!=a?(this._colorScale.offUpdate(this._redrawCallback),this._colorScale=a,this._colorScale.onUpdate(this._redrawCallback),this.redraw(),this):this._colorScale};c.prototype.destroy=function(){a.prototype.destroy.call(this);this._colorScale.offUpdate(this._redrawCallback)};c.prototype._buildLegendTable=function(a,b){var c=this,d=this._measurer.measure().height,
e=new p(a,b,this._padding);a=this._colorScale.domain().slice().sort(function(a,b){return c._comparator(c._formatter(a),c._formatter(b))});var f=new q;e.addRow(f);f.bottomPadding=this._rowBottomPadding;a.forEach(function(a){f.columns.length/2===c.maxEntriesPerRow()&&(f=new q,f.bottomPadding=c._rowBottomPadding,e.addRow(f));var b=f.getWidthAvailable(),g=c._formatter(a),k=c._measurer.measure(g).width;0>b-d-k&&1<f.columns.length&&(f=new q,f.bottomPadding=c._rowBottomPadding,e.addRow(f));f.addColumn({width:d,
height:d,data:{name:a,type:"symbol"}});b=f.getWidthAvailable();b=Math.min(b,k);c._wrapper.maxLines(c.maxLinesPerEntry());g=c._wrapper.wrap(g,c._measurer,b).noLines*d;f.addColumn({width:b,height:g,data:{name:a,type:"text"}})});return e};c.prototype.requestedSpace=function(a,b){a=this._buildLegendTable(n.Math.min([this.maxWidth(),a],a),b);return{minHeight:a.getHeight(),minWidth:a.getWidth()}};c.prototype.entitiesAt=function(a){var b=this;if(!this._isSetup)return[];var d=this._buildLegendTable(this.width(),
this.height());return d.rows.reduce(function(e,g,k){if(0!==e.length)return e;var l=d.getRowBounds(k);return n.Math.within(a,l)?g.columns.reduce(function(e,g,l){var m=d.getColumnBounds(k,l);return n.Math.within(a,m)?(e=b.content().selectAll("."+c.LEGEND_ROW_CLASS).nodes()[k],l=f.select(e).selectAll("."+c.LEGEND_ENTRY_CLASS).nodes()[Math.floor(l/2)],m=f.select(l).select("."+c.LEGEND_SYMBOL_CLASS),e=n.DOM.getTranslateValues(f.select(e)),m=n.DOM.getTranslateValues(m),[{datum:g.data.name,position:{x:e[0]+
m[0],y:e[1]+m[1]},selection:f.select(l),component:b}]):e},e):e},[])};c.prototype.renderImmediately=function(){a.prototype.renderImmediately.call(this);var b=this._buildLegendTable(this.width(),this.height());this.content().selectAll("*").remove();var d=this.content().selectAll("g."+c.LEGEND_ROW_CLASS).data(b.rows),e=d.enter().append("g").classed(c.LEGEND_ROW_CLASS,!0).merge(d);d.exit().remove();e.attr("transform",function(a,c){a=b.getRowBounds(c);return"translate("+a.topLeft.x+", "+a.topLeft.y+")"});
var g=this;e.each(function(a,d){for(var e=[],k=0;k<a.columns.length;k+=2)e.push([a.columns[k],a.columns[k+1]]);a=f.select(this).selectAll("g."+c.LEGEND_ENTRY_CLASS).data(e);e=a.enter().append("g").classed(c.LEGEND_ENTRY_CLASS,!0).merge(a);e.append("path").attr("d",function(a){a=a[0];return g.symbol()(a.data.name,d)(.6*a.height)(null)}).attr("transform",function(a){a=a[0];return"translate("+(b.getColumnBounds(d,b.rows[d].columns.indexOf(a)).topLeft.x+a.width/2)+", "+a.height/2+")"}).attr("fill",function(a){return g._colorScale.scale(a[0].data.name)}).attr("opacity",
function(a){return g.symbolOpacity()(a[0].data.name,d)}).classed(c.LEGEND_SYMBOL_CLASS,!0);e.append("g").classed("text-container",!0).attr("transform",function(a){return"translate("+b.getColumnBounds(d,b.rows[d].columns.indexOf(a[1])).topLeft.x+", 0)"}).each(function(a){var b=f.select(this);a=a[1];g._writer.write(g._formatter(a.data.name),a.width,g.height(),{xAlign:"left",yAlign:"top",textRotation:0},b.node())});a.exit().remove()});return this};c.prototype.symbol=function(a){if(null==a)return this._symbolFactoryAccessor;
this._symbolFactoryAccessor=a;this.render();return this};c.prototype.symbolOpacity=function(){return this._symbolOpacityAccessor};c.prototype.fixedWidth=function(){return!0};c.prototype.fixedHeight=function(){return!0};return c}(a.Component);a.LEGEND_ROW_CLASS="legend-row";a.LEGEND_ENTRY_CLASS="legend-entry";a.LEGEND_SYMBOL_CLASS="legend-symbol";c.Legend=a},function(a,c,d){var b=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=
null===b?Object.create(b):(c.prototype=b.prototype,new c)},f=d(2),g=d(0);a=function(a){function c(){return null!==a&&a.apply(this,arguments)||this}b(c,a);c.prototype.entityNearest=function(a){var b,c=Infinity;this.components().forEach(function(d){d=d.entityNearest(a);if(null!=d){var e=g.Math.distanceSquared(d.position,a);e<=c&&(c=e,b=d)}});return b};c.prototype.append=function(b){if(null!=b&&!(b instanceof f.Plot))throw Error("Plot Group only accepts plots");a.prototype.append.call(this,b);return this};
return c}(d(38).Group);c.PlotGroup=a},function(a,c,d){var b=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},f=d(1),g=d(0);a=function(a){function c(b){void 0===b&&(b=[]);var c=a.call(this)||this;c._rowPadding=0;c._columnPadding=0;c._rows=[];c._rowWeights=[];c._columnWeights=[];c._nRows=0;c._nCols=0;c._calculatedLayout=null;c.addClass("table");b.forEach(function(a,
b){a.forEach(function(a,d){null!=a&&c.add(a,b,d)})});return c}b(c,a);c.prototype._forEach=function(a){for(var b=0;b<this._nRows;b++)for(var c=0;c<this._nCols;c++)null!=this._rows[b][c]&&a(this._rows[b][c])};c.prototype.has=function(a){for(var b=0;b<this._nRows;b++)for(var c=0;c<this._nCols;c++)if(this._rows[b][c]===a)return!0;return!1};c.prototype.componentAt=function(a,b){return 0>a||a>=this._nRows||0>b||b>=this._nCols?null:this._rows[a][b]};c.prototype.add=function(a,b,c){if(null==a)throw Error("Cannot add null to a table cell");
if(!this.has(a)){if(null!=(this._rows[b]&&this._rows[b][c]))throw Error("cell is occupied");a.detach();this._nRows=Math.max(b+1,this._nRows);this._nCols=Math.max(c+1,this._nCols);this._padTableToSize(this._nRows,this._nCols);this._rows[b][c]=a;this._adoptAndAnchor(a);this.redraw()}return this};c.prototype._remove=function(a){for(var b=0;b<this._nRows;b++)for(var c=0;c<this._nCols;c++)if(this._rows[b][c]===a)return this._rows[b][c]=null,!0;return!1};c.prototype._iterateLayout=function(a,b,d){void 0===
d&&(d=!1);var e=this._rows,k=f.transpose(this._rows);a-=this._columnPadding*(this._nCols-1);b-=this._rowPadding*(this._nRows-1);e=c._calcComponentWeights(this._rowWeights,e,function(a){return null==a||a.fixedHeight()});k=c._calcComponentWeights(this._columnWeights,k,function(a){return null==a||a.fixedWidth()});var l=k.map(function(a){return 0===a?.5:a}),m=e.map(function(a){return 0===a?.5:a});l=c._calcProportionalSpace(l,a);var n=c._calcProportionalSpace(m,b),q=g.Array.createFilledArray(0,this._nCols),
w=g.Array.createFilledArray(0,this._nRows);m=0;for(var A,y,C;;){w=g.Array.add(w,n);l=g.Array.add(q,l);A=this._determineGuarantees(l,w,d);q=A.guaranteedWidths;w=A.guaranteedHeights;y=A.wantsWidthArr.some(function(a){return a});C=A.wantsHeightArr.some(function(a){return a});var D=E,G=F;var E=a-f.sum(A.guaranteedWidths);var F=b-f.sum(A.guaranteedHeights);l=void 0;y?(l=A.wantsWidthArr.map(function(a){return a?.1:0}),l=g.Array.add(l,k)):l=k;n=void 0;C?(n=A.wantsHeightArr.map(function(a){return a?.1:0}),
n=g.Array.add(n,e)):n=e;l=c._calcProportionalSpace(l,E);n=c._calcProportionalSpace(n,F);m++;G=0<F&&F!==G;if(!(0<E&&E!==D||G))break;if(5<m)break}E=a-f.sum(A.guaranteedWidths);F=b-f.sum(A.guaranteedHeights);l=c._calcProportionalSpace(k,E);n=c._calcProportionalSpace(e,F);return{colProportionalSpace:l,rowProportionalSpace:n,guaranteedWidths:A.guaranteedWidths,guaranteedHeights:A.guaranteedHeights,wantsWidth:y,wantsHeight:C}};c.prototype._determineGuarantees=function(a,b,c){void 0===c&&(c=!1);var d=g.Array.createFilledArray(0,
this._nCols),e=g.Array.createFilledArray(0,this._nRows),f=g.Array.createFilledArray(!1,this._nCols),k=g.Array.createFilledArray(!1,this._nRows);this._rows.forEach(function(g,l){g.forEach(function(g,m){g=null!=g?g.requestedSpace(a[m],b[l]):{minWidth:0,minHeight:0};d[m]=Math.max(d[m],c?Math.min(g.minWidth,a[m]):g.minWidth);e[l]=Math.max(e[l],c?Math.min(g.minHeight,b[l]):g.minHeight);var n=g.minWidth>a[m];f[m]=f[m]||n;m=g.minHeight>b[l];k[l]=k[l]||m})});return{guaranteedWidths:d,guaranteedHeights:e,
wantsWidthArr:f,wantsHeightArr:k}};c.prototype.requestedSpace=function(a,b){this._calculatedLayout=this._iterateLayout(a,b);return{minWidth:f.sum(this._calculatedLayout.guaranteedWidths),minHeight:f.sum(this._calculatedLayout.guaranteedHeights)}};c.prototype.computeLayout=function(b,c,d){var e=this;a.prototype.computeLayout.call(this,b,c,d);b=f.sum(this._calculatedLayout.guaranteedWidths);c=f.sum(this._calculatedLayout.guaranteedHeights);d=this._calculatedLayout;if(b>this.width()||c>this.height())d=
this._iterateLayout(this.width(),this.height(),!0);var k=0,l=g.Array.add(d.rowProportionalSpace,d.guaranteedHeights),m=g.Array.add(d.colProportionalSpace,d.guaranteedWidths);this._rows.forEach(function(a,b){var c=0;a.forEach(function(a,d){null!=a&&a.computeLayout({x:c,y:k},m[d],l[b]);c+=m[d]+e._columnPadding});k+=l[b]+e._rowPadding});return this};c.prototype.rowPadding=function(a){if(null==a)return this._rowPadding;if(!g.Math.isValidNumber(a)||0>a)throw Error("rowPadding must be a non-negative finite value");
this._rowPadding=a;this.redraw();return this};c.prototype.columnPadding=function(a){if(null==a)return this._columnPadding;if(!g.Math.isValidNumber(a)||0>a)throw Error("columnPadding must be a non-negative finite value");this._columnPadding=a;this.redraw();return this};c.prototype.rowWeight=function(a,b){if(null==b)return this._rowWeights[a];if(!g.Math.isValidNumber(b)||0>b)throw Error("rowWeight must be a non-negative finite value");this._rowWeights[a]=b;this.redraw();return this};c.prototype.columnWeight=
function(a,b){if(null==b)return this._columnWeights[a];if(!g.Math.isValidNumber(b)||0>b)throw Error("columnWeight must be a non-negative finite value");this._columnWeights[a]=b;this.redraw();return this};c.prototype.fixedWidth=function(){var a=f.transpose(this._rows);return c._fixedSpace(a,function(a){return null==a||a.fixedWidth()})};c.prototype.fixedHeight=function(){return c._fixedSpace(this._rows,function(a){return null==a||a.fixedHeight()})};c.prototype._padTableToSize=function(a,b){for(var c=
0;c<a;c++){void 0===this._rows[c]&&(this._rows[c]=[],this._rowWeights[c]=null);for(var d=0;d<b;d++)void 0===this._rows[c][d]&&(this._rows[c][d]=null)}for(d=0;d<b;d++)void 0===this._columnWeights[d]&&(this._columnWeights[d]=null)};c._calcComponentWeights=function(a,b,c){return a.map(function(a,d){return null!=a?a:b[d].map(c).reduce(function(a,b){return a&&b},!0)?0:1})};c._calcProportionalSpace=function(a,b){var c=f.sum(a);return 0===c?g.Array.createFilledArray(0,a.length):a.map(function(a){return b*
a/c})};c._fixedSpace=function(a,b){function c(a){return a.reduce(function(a,b){return a&&b},!0)}return c(a.map(function(a){return c(a.map(b))}))};return c}(d(27).ComponentContainer);c.Table=a},function(a,c,d){var b=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)};a=function(a){function c(){var b=a.call(this)||this;b.addClass("x-drag-box-layer");b._hasCorners=!1;
return b}b(c,a);c.prototype.computeLayout=function(b,c,d){a.prototype.computeLayout.call(this,b,c,d);this._setBounds(this.bounds());return this};c.prototype._setBounds=function(b){a.prototype._setBounds.call(this,{topLeft:{x:b.topLeft.x,y:0},bottomRight:{x:b.bottomRight.x,y:this.height()}})};c.prototype._setResizableClasses=function(a){a&&this.enabled()?this.addClass("x-resizable"):this.removeClass("x-resizable")};c.prototype.yScale=function(b){if(null==b)return a.prototype.yScale.call(this);throw Error("yScales cannot be set on an XDragBoxLayer");
};c.prototype.yExtent=function(b){if(null==b)return a.prototype.yExtent.call(this);throw Error("XDragBoxLayer has no yExtent");};return c}(d(30).DragBoxLayer);c.XDragBoxLayer=a},function(a,c,d){var b=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)};a=function(a){function c(){var b=a.call(this)||this;b.addClass("y-drag-box-layer");b._hasCorners=!1;return b}b(c,a);
c.prototype.computeLayout=function(b,c,d){a.prototype.computeLayout.call(this,b,c,d);this._setBounds(this.bounds());return this};c.prototype._setBounds=function(b){a.prototype._setBounds.call(this,{topLeft:{x:0,y:b.topLeft.y},bottomRight:{x:this.width(),y:b.bottomRight.y}})};c.prototype._setResizableClasses=function(a){a&&this.enabled()?this.addClass("y-resizable"):this.removeClass("y-resizable")};c.prototype.xScale=function(b){if(null==b)return a.prototype.xScale.call(this);throw Error("xScales cannot be set on an YDragBoxLayer");
};c.prototype.xExtent=function(b){if(null==b)return a.prototype.xExtent.call(this);throw Error("YDragBoxLayer has no xExtent");};return c}(d(30).DragBoxLayer);c.YDragBoxLayer=a},function(a,c,d){var b=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)};a=function(a){function c(){var b=a.call(this)||this;b._eventToProcessingFunction[c._KEYDOWN_EVENT_NAME]=function(a){return b._processKeydown(a)};
b._eventToProcessingFunction[c._KEYUP_EVENT_NAME]=function(a){return b._processKeyup(a)};return b}b(c,a);c.getDispatcher=function(){var a=document[c._DISPATCHER_KEY];null==a&&(a=new c,document[c._DISPATCHER_KEY]=a);return a};c.prototype._processKeydown=function(a){this._callCallbacksForEvent(c._KEYDOWN_EVENT_NAME,a.keyCode,a)};c.prototype._processKeyup=function(a){this._callCallbacksForEvent(c._KEYUP_EVENT_NAME,a.keyCode,a)};c.prototype.onKeyDown=function(a){this._addCallbackForEvent(c._KEYDOWN_EVENT_NAME,
a);return this};c.prototype.offKeyDown=function(a){this._removeCallbackForEvent(c._KEYDOWN_EVENT_NAME,a)};c.prototype.onKeyUp=function(a){this._addCallbackForEvent(c._KEYUP_EVENT_NAME,a);return this};c.prototype.offKeyUp=function(a){this._removeCallbackForEvent(c._KEYUP_EVENT_NAME,a)};return c}(d(23).Dispatcher);a._DISPATCHER_KEY="__Plottable_Dispatcher_Key";a._KEYDOWN_EVENT_NAME="keydown";a._KEYUP_EVENT_NAME="keyup";c.Key=a},function(a,c,d){var b=this&&this.__extends||function(a,b){function c(){this.constructor=
a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},f=d(0);a=function(a){function c(b){function d(a){return e._measureAndDispatch(b,a,c._MOUSEMOVE_EVENT_NAME,"page")}var e=a.call(this)||this;e._translator=f.getTranslator(b);e._lastMousePosition={x:-1,y:-1};e._eventToProcessingFunction[c._MOUSEOVER_EVENT_NAME]=d;e._eventToProcessingFunction[c._MOUSEMOVE_EVENT_NAME]=d;e._eventToProcessingFunction[c._MOUSEOUT_EVENT_NAME]=d;e._eventToProcessingFunction[c._MOUSEDOWN_EVENT_NAME]=
function(a){return e._measureAndDispatch(b,a,c._MOUSEDOWN_EVENT_NAME)};e._eventToProcessingFunction[c._MOUSEUP_EVENT_NAME]=function(a){return e._measureAndDispatch(b,a,c._MOUSEUP_EVENT_NAME,"page")};e._eventToProcessingFunction[c._WHEEL_EVENT_NAME]=function(a){return e._measureAndDispatch(b,a,c._WHEEL_EVENT_NAME)};e._eventToProcessingFunction[c._DBLCLICK_EVENT_NAME]=function(a){return e._measureAndDispatch(b,a,c._DBLCLICK_EVENT_NAME)};return e}b(c,a);c.getDispatcher=function(a){var b=a.root().rootElement(),
d=b[c._DISPATCHER_KEY];null==d&&(d=new c(a),b[c._DISPATCHER_KEY]=d);return d};c.prototype.onMouseMove=function(a){this._addCallbackForEvent(c._MOUSEMOVE_EVENT_NAME,a);return this};c.prototype.offMouseMove=function(a){this._removeCallbackForEvent(c._MOUSEMOVE_EVENT_NAME,a)};c.prototype.onMouseDown=function(a){this._addCallbackForEvent(c._MOUSEDOWN_EVENT_NAME,a);return this};c.prototype.offMouseDown=function(a){this._removeCallbackForEvent(c._MOUSEDOWN_EVENT_NAME,a)};c.prototype.onMouseUp=function(a){this._addCallbackForEvent(c._MOUSEUP_EVENT_NAME,
a);return this};c.prototype.offMouseUp=function(a){this._removeCallbackForEvent(c._MOUSEUP_EVENT_NAME,a)};c.prototype.onWheel=function(a){this._addCallbackForEvent(c._WHEEL_EVENT_NAME,a)};c.prototype.offWheel=function(a){this._removeCallbackForEvent(c._WHEEL_EVENT_NAME,a)};c.prototype.onDblClick=function(a){this._addCallbackForEvent(c._DBLCLICK_EVENT_NAME,a)};c.prototype.offDblClick=function(a){this._removeCallbackForEvent(c._DBLCLICK_EVENT_NAME,a)};c.prototype._measureAndDispatch=function(a,b,c,
d){void 0===d&&(d="element");if("page"!==d&&"element"!==d)throw Error("Invalid scope '"+d+"', must be 'element' or 'page'");if("page"===d||this.eventInside(a,b))a=this._translator.computePosition(b.clientX,b.clientY),null!=a&&(this._lastMousePosition=a,this._callCallbacksForEvent(c,this.lastMousePosition(),b))};c.prototype.eventInside=function(a,b){return this._translator.isInside(a,b)};c.prototype.lastMousePosition=function(){return this._lastMousePosition};return c}(d(23).Dispatcher);a._DISPATCHER_KEY=
"__Plottable_Dispatcher_Mouse";a._MOUSEOVER_EVENT_NAME="mouseover";a._MOUSEMOVE_EVENT_NAME="mousemove";a._MOUSEOUT_EVENT_NAME="mouseout";a._MOUSEDOWN_EVENT_NAME="mousedown";a._MOUSEUP_EVENT_NAME="mouseup";a._WHEEL_EVENT_NAME="wheel";a._DBLCLICK_EVENT_NAME="dblclick";c.Mouse=a},function(a,c,d){var b=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},f=d(0);a=function(a){function c(b){var d=
a.call(this)||this;d._translator=f.getTranslator(b);d._eventToProcessingFunction[c._TOUCHSTART_EVENT_NAME]=function(a){return d._measureAndDispatch(b,a,c._TOUCHSTART_EVENT_NAME,"page")};d._eventToProcessingFunction[c._TOUCHMOVE_EVENT_NAME]=function(a){return d._measureAndDispatch(b,a,c._TOUCHMOVE_EVENT_NAME,"page")};d._eventToProcessingFunction[c._TOUCHEND_EVENT_NAME]=function(a){return d._measureAndDispatch(b,a,c._TOUCHEND_EVENT_NAME,"page")};d._eventToProcessingFunction[c._TOUCHCANCEL_EVENT_NAME]=
function(a){return d._measureAndDispatch(b,a,c._TOUCHCANCEL_EVENT_NAME,"page")};return d}b(c,a);c.getDispatcher=function(a){var b=a.root().rootElement(),d=b[c._DISPATCHER_KEY];null==d&&(d=new c(a),b[c._DISPATCHER_KEY]=d);return d};c.prototype.onTouchStart=function(a){this._addCallbackForEvent(c._TOUCHSTART_EVENT_NAME,a)};c.prototype.offTouchStart=function(a){this._removeCallbackForEvent(c._TOUCHSTART_EVENT_NAME,a)};c.prototype.onTouchMove=function(a){this._addCallbackForEvent(c._TOUCHMOVE_EVENT_NAME,
a)};c.prototype.offTouchMove=function(a){this._removeCallbackForEvent(c._TOUCHMOVE_EVENT_NAME,a)};c.prototype.onTouchEnd=function(a){this._addCallbackForEvent(c._TOUCHEND_EVENT_NAME,a)};c.prototype.offTouchEnd=function(a){this._removeCallbackForEvent(c._TOUCHEND_EVENT_NAME,a)};c.prototype.onTouchCancel=function(a){this._addCallbackForEvent(c._TOUCHCANCEL_EVENT_NAME,a)};c.prototype.offTouchCancel=function(a){this._removeCallbackForEvent(c._TOUCHCANCEL_EVENT_NAME,a)};c.prototype._measureAndDispatch=
function(a,b,c,d){void 0===d&&(d="element");if("page"!==d&&"element"!==d)throw Error("Invalid scope '"+d+"', must be 'element' or 'page'");if("element"!==d||this.eventInside(a,b)){a=b.changedTouches;d={};for(var e=[],f=0;f<a.length;f++){var g=a[f],k=g.identifier;g=this._translator.computePosition(g.clientX,g.clientY);null!=g&&(d[k]=g,e.push(k))}0<e.length&&this._callCallbacksForEvent(c,e,d,b)}};c.prototype.eventInside=function(a,b){return this._translator.isInside(a,b)};return c}(d(23).Dispatcher);
a._DISPATCHER_KEY="__Plottable_Dispatcher_Touch";a._TOUCHSTART_EVENT_NAME="touchstart";a._TOUCHMOVE_EVENT_NAME="touchmove";a._TOUCHEND_EVENT_NAME="touchend";a._TOUCHCANCEL_EVENT_NAME="touchcancel";c.Touch=a},function(a,c){a=function(){function a(b,c,d){void 0===d&&(d=window.devicePixelRatio);this.screenWidth=b;this.screenHeight=c;this.devicePixelRatio=d;this.pixelWidth=b*d;this.pixelHeight=c*d;this.canvas=document.createElement("canvas");this.ctx=this.canvas.getContext("2d");a.sizePixels(this.ctx,
b,c,d)}a.sizePixels=function(a,b,c,d){var e=a.canvas;e.width=b*d;e.height=c*d;e.style.width=b+"px";e.style.height=c+"px";a.setTransform(1,0,0,1,0,0);a.scale(d,d)};a.prototype.blit=function(a,b,c){void 0===b&&(b=0);void 0===c&&(c=0);a.drawImage(this.canvas,b,c,this.screenWidth,this.screenHeight)};a.prototype.blitCenter=function(a,b,c){void 0===b&&(b=0);void 0===c&&(c=0);this.blit(a,Math.floor(b-this.screenWidth/2),Math.floor(c-this.screenHeight/2))};a.prototype.resize=function(b,c,d){void 0===d&&(d=
!1);var e=this.devicePixelRatio;this.screenWidth=b;this.screenHeight=c;this.pixelWidth=b*e;this.pixelHeight=c*e;a.sizePixels(this.ctx,b,c,e);d&&this.ctx.translate(b/2,b/2);return this};a.prototype.clear=function(a){var b=this.pixelWidth,c=this.pixelHeight,d=this.ctx;d.save();d.setTransform(1,0,0,1,0,0);null==a?d.clearRect(0,0,b,c):(d.fillStyle=a,d.fillRect(0,0,b,c));d.restore();return this};a.prototype.getImageData=function(){return this.ctx.getImageData(0,0,this.pixelWidth,this.pixelHeight)};return a}();
c.CanvasBuffer=a},function(a,c,d){var b=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},f=d(13),g=d(0);a=function(a){function c(){var b=null!==a&&a.apply(this,arguments)||this;b._clickedDown=!1;b._doubleClicking=!1;b._onClickCallbacks=new g.CallbackSet;b._onDoubleClickCallbacks=new g.CallbackSet;b._mouseDownCallback=function(a){return b._handleClickDown(a)};b._mouseUpCallback=
function(a,c){return b._handleClickUp(a,c)};b._dblClickCallback=function(a,c){return b._handleDblClick(a,c)};b._touchStartCallback=function(a,c){return b._handleClickDown(c[a[0]])};b._touchEndCallback=function(a,c,d){return b._handleClickUp(c[a[0]],d)};b._touchCancelCallback=function(){return b._clickedDown=!1};return b}b(c,a);c.prototype._anchor=function(b){a.prototype._anchor.call(this,b);this._mouseDispatcher=f.Mouse.getDispatcher(b);this._mouseDispatcher.onMouseDown(this._mouseDownCallback);this._mouseDispatcher.onMouseUp(this._mouseUpCallback);
this._mouseDispatcher.onDblClick(this._dblClickCallback);this._touchDispatcher=f.Touch.getDispatcher(b);this._touchDispatcher.onTouchStart(this._touchStartCallback);this._touchDispatcher.onTouchEnd(this._touchEndCallback);this._touchDispatcher.onTouchCancel(this._touchCancelCallback)};c.prototype._unanchor=function(){a.prototype._unanchor.call(this);this._mouseDispatcher.offMouseDown(this._mouseDownCallback);this._mouseDispatcher.offMouseUp(this._mouseUpCallback);this._mouseDispatcher.offDblClick(this._dblClickCallback);
this._mouseDispatcher=null;this._touchDispatcher.offTouchStart(this._touchStartCallback);this._touchDispatcher.offTouchEnd(this._touchEndCallback);this._touchDispatcher.offTouchCancel(this._touchCancelCallback);this._touchDispatcher=null};c.prototype._handleClickDown=function(a){a=this._translateToComponentSpace(a);this._isInsideComponent(a)&&(this._clickedDown=!0,this._clickedPoint=a)};c.prototype._handleClickUp=function(a,b){var d=this,e=this._translateToComponentSpace(a);this._clickedDown&&c._pointsEqual(e,
this._clickedPoint)&&setTimeout(function(){d._doubleClicking||d._onClickCallbacks.callCallbacks(e,b)},0);this._clickedDown=!1};c.prototype._handleDblClick=function(a,b){var c=this;a=this._translateToComponentSpace(a);this._doubleClicking=!0;this._onDoubleClickCallbacks.callCallbacks(a,b);setTimeout(function(){return c._doubleClicking=!1},0)};c._pointsEqual=function(a,b){return a.x===b.x&&a.y===b.y};c.prototype.onClick=function(a){this._onClickCallbacks.add(a);return this};c.prototype.offClick=function(a){this._onClickCallbacks.delete(a);
return this};c.prototype.onDoubleClick=function(a){this._onDoubleClickCallbacks.add(a)};c.prototype.offDoubleClick=function(a){this._onDoubleClickCallbacks.delete(a);return this};return c}(d(15).Interaction);c.Click=a},function(a,c,d){var b=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},f=d(13),g=d(0);a=function(a){function c(){var b=null!==a&&a.apply(this,arguments)||
this;b._dragging=!1;b._constrainedToComponent=!0;b._dragStartCallbacks=new g.CallbackSet;b._dragCallbacks=new g.CallbackSet;b._dragEndCallbacks=new g.CallbackSet;b._mouseDownCallback=function(a,c){return b._startDrag(a,c)};b._mouseMoveCallback=function(a){return b._doDrag(a)};b._mouseUpCallback=function(a,c){return b._endDrag(a,c)};b._touchStartCallback=function(a,c,d){return b._startDrag(c[a[0]],d)};b._touchMoveCallback=function(a,c){return b._doDrag(c[a[0]])};b._touchEndCallback=function(a,c,d){return b._endDrag(c[a[0]],
d)};return b}b(c,a);c.prototype._anchor=function(b){a.prototype._anchor.call(this,b);this._mouseDispatcher=f.Mouse.getDispatcher(this._componentAttachedTo);this._mouseDispatcher.onMouseDown(this._mouseDownCallback);this._mouseDispatcher.onMouseMove(this._mouseMoveCallback);this._mouseDispatcher.onMouseUp(this._mouseUpCallback);this._touchDispatcher=f.Touch.getDispatcher(this._componentAttachedTo);this._touchDispatcher.onTouchStart(this._touchStartCallback);this._touchDispatcher.onTouchMove(this._touchMoveCallback);
this._touchDispatcher.onTouchEnd(this._touchEndCallback)};c.prototype._unanchor=function(){a.prototype._unanchor.call(this);this._mouseDispatcher.offMouseDown(this._mouseDownCallback);this._mouseDispatcher.offMouseMove(this._mouseMoveCallback);this._mouseDispatcher.offMouseUp(this._mouseUpCallback);this._mouseDispatcher=null;this._touchDispatcher.offTouchStart(this._touchStartCallback);this._touchDispatcher.offTouchMove(this._touchMoveCallback);this._touchDispatcher.offTouchEnd(this._touchEndCallback);
this._touchDispatcher=null};c.prototype._translateAndConstrain=function(a){a=this._translateToComponentSpace(a);return this._constrainedToComponent?{x:g.Math.clamp(a.x,0,this._componentAttachedTo.width()),y:g.Math.clamp(a.y,0,this._componentAttachedTo.height())}:a};c.prototype._startDrag=function(a,b){b instanceof MouseEvent&&0!==b.button||(a=this._translateToComponentSpace(a),this._isInsideComponent(a)&&(b.preventDefault(),this._dragging=!0,this._dragOrigin=a,this._dragStartCallbacks.callCallbacks(this._dragOrigin)))};
c.prototype._doDrag=function(a){this._dragging&&this._dragCallbacks.callCallbacks(this._dragOrigin,this._translateAndConstrain(a))};c.prototype._endDrag=function(a,b){b instanceof MouseEvent&&0!==b.button||!this._dragging||(this._dragging=!1,this._dragEndCallbacks.callCallbacks(this._dragOrigin,this._translateAndConstrain(a)))};c.prototype.constrainedToComponent=function(){this._constrainedToComponent=!1};c.prototype.onDragStart=function(a){this._dragStartCallbacks.add(a);return this};c.prototype.offDragStart=
function(a){this._dragStartCallbacks.delete(a);return this};c.prototype.onDrag=function(a){this._dragCallbacks.add(a);return this};c.prototype.offDrag=function(a){this._dragCallbacks.delete(a);return this};c.prototype.onDragEnd=function(a){this._dragEndCallbacks.add(a);return this};c.prototype.offDragEnd=function(a){this._dragEndCallbacks.delete(a);return this};return c}(d(15).Interaction);c.Drag=a},function(a,c,d){function b(a,b,c){return c-(c-a)*b}var f=this&&this.__extends||function(a,b){function c(){this.constructor=
a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},g=d(1),k=d(13),l=d(3),m=d(0),n=d(14);a=d(15);c.zoomAt=b;a=function(a){function c(b,c){var d=a.call(this)||this;d._wheelCallback=function(a,b){return d._handleWheelEvent(a,b)};d._touchStartCallback=function(a,b){return d._handleTouchStart(a,b)};d._touchMoveCallback=function(a,b){return d._handlePinch(a,b)};d._touchEndCallback=function(a){return d._handleTouchEnd(a)};d._touchCancelCallback=
function(a){return d._handleTouchEnd(a)};d._panEndCallbacks=new m.CallbackSet;d._zoomEndCallbacks=new m.CallbackSet;d._xScales=new m.Set;d._yScales=new m.Set;d._dragInteraction=new n.Drag;d._setupDragInteraction();d._touchIds=g.map();d._minDomainExtents=new m.Map;d._maxDomainExtents=new m.Map;d._minDomainValues=new m.Map;d._maxDomainValues=new m.Map;null!=b&&d.addXScale(b);null!=c&&d.addYScale(c);return d}f(c,a);c.prototype.pan=function(a){var b=this;this.xScales().forEach(function(c){c.pan(b._constrainedTranslation(c,
a.x))});this.yScales().forEach(function(c){c.pan(b._constrainedTranslation(c,a.y))})};c.prototype.zoom=function(a,b){this.xScales().forEach(function(c){var d=c.range();c.zoom(a,void 0===b?(d[1]-d[0])/2:b.x)});this.yScales().forEach(function(c){var d=c.range();c.zoom(a,void 0===b?(d[1]-d[0])/2:b.y)})};c.prototype._anchor=function(b){a.prototype._anchor.call(this,b);this._dragInteraction.attachTo(b);this._mouseDispatcher=k.Mouse.getDispatcher(this._componentAttachedTo);this._mouseDispatcher.onWheel(this._wheelCallback);
this._touchDispatcher=k.Touch.getDispatcher(this._componentAttachedTo);this._touchDispatcher.onTouchStart(this._touchStartCallback);this._touchDispatcher.onTouchMove(this._touchMoveCallback);this._touchDispatcher.onTouchEnd(this._touchEndCallback);this._touchDispatcher.onTouchCancel(this._touchCancelCallback)};c.prototype._unanchor=function(){a.prototype._unanchor.call(this);this._mouseDispatcher.offWheel(this._wheelCallback);this._mouseDispatcher=null;this._touchDispatcher.offTouchStart(this._touchStartCallback);
this._touchDispatcher.offTouchMove(this._touchMoveCallback);this._touchDispatcher.offTouchEnd(this._touchEndCallback);this._touchDispatcher.offTouchCancel(this._touchCancelCallback);this._touchDispatcher=null;this._dragInteraction.detachFrom()};c.prototype._handleTouchStart=function(a,b){for(var c=0;c<a.length&&2>this._touchIds.size();c++){var d=a[c];this._touchIds.set(d.toString(),this._translateToComponentSpace(b[d]))}};c.prototype._handlePinch=function(a,b){var d=this;if(!(2>this._touchIds.size())){var e=
this._touchIds.values();if(this._isInsideComponent(this._translateToComponentSpace(e[0]))&&this._isInsideComponent(this._translateToComponentSpace(e[1]))){var f=c._pointDistance(e[0],e[1]);if(0!==f){a.forEach(function(a){d._touchIds.has(a.toString())&&d._touchIds.set(a.toString(),d._translateToComponentSpace(b[a]))});a=this._touchIds.values();var g=c._pointDistance(a[0],a[1]);if(0!==g){var k=f/g,l=a.map(function(a,b){return{x:(a.x-e[b].x)/k,y:(a.y-e[b].y)/k}});f=c.centerPoint(e[0],e[1]);var m=f.x,
n=f.y;this.xScales().forEach(function(a){a=d._constrainedZoom(a,k,m);m=a.centerPoint;k=a.zoomAmount});this.yScales().forEach(function(a){a=d._constrainedZoom(a,k,n);n=a.centerPoint;k=a.zoomAmount});f=e.map(function(a,b){return{x:l[b].x*k+a.x,y:l[b].y*k+a.y}});f={x:m-(f[0].x+f[1].x)/2,y:n-(f[0].y+f[1].y)/2};this.zoom(k,{x:m,y:n});this.pan(f)}}}}};c.centerPoint=function(a,b){return{x:(Math.min(a.x,b.x)+Math.max(a.x,b.x))/2,y:(Math.max(a.y,b.y)+Math.min(a.y,b.y))/2}};c._pointDistance=function(a,b){return Math.sqrt(Math.pow(Math.max(a.x,
b.x)-Math.min(a.x,b.x),2)+Math.pow(Math.max(a.y,b.y)-Math.min(a.y,b.y),2))};c.prototype._handleTouchEnd=function(a){var b=this;a.forEach(function(a){b._touchIds.remove(a.toString())});0<this._touchIds.size()&&this._zoomEndCallbacks.callCallbacks()};c.prototype._handleWheelEvent=function(a,b){var d=this;a=this._translateToComponentSpace(a);if(this._isInsideComponent(a)){b.preventDefault();var e=Math.pow(2,b.deltaY*(b.deltaMode?c._PIXELS_PER_LINE:1)*.002),f=a.x,g=a.y;this.xScales().forEach(function(a){a=
d._constrainedZoom(a,e,f);f=a.centerPoint;e=a.zoomAmount});this.yScales().forEach(function(a){a=d._constrainedZoom(a,e,g);g=a.centerPoint;e=a.zoomAmount});this.zoom(e,{x:f,y:g});this._zoomEndCallbacks.callCallbacks()}};c.prototype._isRangeReversed=function(a){a=a.range();return a[1]<a[0]};c.prototype._constrainedZoom=function(a,b,c){b=this._constrainZoomExtents(a,b);return this._constrainZoomValues(a,b,c)};c.prototype._constrainZoomExtents=function(a,b){var c=1<b,d=c?this.maxDomainExtent(a):this.minDomainExtent(a);
if(null==d)return b;a=a.getTransformationDomain();return(c?Math.min:Math.max)(b,d/Math.abs(a[1]-a[0]))};c.prototype._constrainZoomValues=function(a,c,d){if(1>=c)return{centerPoint:d,zoomAmount:c};var e=this._isRangeReversed(a),f=this.minDomainValue(a),g=this.maxDomainValue(a);if(null==f&&null==g)return{centerPoint:d,zoomAmount:c};var k=a.getTransformationDomain();var l=k[0],m=k[1];if(null!=g){var n=a.scaleTransformation(g);var q=a.scaleTransformation(m);var p=b(q,c,d);p>n!=e&&(d=this._getZoomCenterForTarget(q,
c,n))}if(null!=f){var r=a.scaleTransformation(f);k=a.scaleTransformation(l);var t=b(k,c,d);t<r!=e&&(d=this._getZoomCenterForTarget(k,c,r))}null!=g&&null!=g&&(n=a.scaleTransformation(g),q=a.scaleTransformation(m),p=b(q,c,d),r=a.scaleTransformation(f),k=a.scaleTransformation(l),t=b(k,c,d),p>n!=e||t<r!=e)&&(a=q-k+r-n,0===a?(d=(q+k)/2,c=1):(d=(q*r-k*n)/a,c=(n-r)/(q-k)));return{centerPoint:d,zoomAmount:c}};c.prototype._getZoomCenterForTarget=function(a,b,c){return(a*b-c)/(b-1)};c.prototype._setupDragInteraction=
function(){var a=this;this._dragInteraction.constrainedToComponent();var b;this._dragInteraction.onDragStart(function(){return b=null});this._dragInteraction.onDrag(function(c,d){2<=a._touchIds.size()||(a.pan({x:(null==b?c.x:b.x)-d.x,y:(null==b?c.y:b.y)-d.y}),b=d)});this._dragInteraction.onDragEnd(function(){return a._panEndCallbacks.callCallbacks()})};c.prototype._constrainedTranslation=function(a,b){var c=a.getTransformationDomain(),d=c[0],e=c[1];c=this._isRangeReversed(a);if(0<b!==c){var f=this.maxDomainValue(a);
null!=f&&(d=a.scaleTransformation(e),a=a.scaleTransformation(f),b=(c?Math.max:Math.min)(d+b,a)-d)}else f=this.minDomainValue(a),null!=f&&(d=a.scaleTransformation(d),a=a.scaleTransformation(f),b=(c?Math.min:Math.max)(d+b,a)-d);return b};c.prototype._nonLinearScaleWithExtents=function(a){return null!=this.minDomainExtent(a)&&null!=this.maxDomainExtent(a)&&!(a instanceof l.Linear)&&!(a instanceof l.Time)};c.prototype.xScales=function(){var a=[];this._xScales.forEach(function(b){a.push(b)});return a};
c.prototype.yScales=function(){var a=[];this._yScales.forEach(function(b){a.push(b)});return a};c.prototype.addXScale=function(a){this._xScales.add(a)};c.prototype.removeXScale=function(a){this._xScales.delete(a);this._minDomainExtents.delete(a);this._maxDomainExtents.delete(a);this._minDomainValues.delete(a);this._maxDomainValues.delete(a);return this};c.prototype.addYScale=function(a){this._yScales.add(a)};c.prototype.removeYScale=function(a){this._yScales.delete(a);this._minDomainExtents.delete(a);
this._maxDomainExtents.delete(a);this._minDomainValues.delete(a);this._maxDomainValues.delete(a);return this};c.prototype.minDomainExtent=function(a){return this._minDomainExtents.get(a)};c.prototype.maxDomainExtent=function(a){return this._maxDomainExtents.get(a)};c.prototype.minDomainValue=function(a,b){if(null==b)return this._minDomainValues.get(a);this._minDomainValues.set(a,b);return this};c.prototype.maxDomainValue=function(a,b){if(null==b)return this._maxDomainValues.get(a);this._maxDomainValues.set(a,
b);return this};c.prototype.setMinMaxDomainValuesTo=function(a){this._minDomainValues.delete(a);this._maxDomainValues.delete(a);var b=a.getTransformationDomain(),c=b[1];this.minDomainValue(a,b[0]);this.maxDomainValue(a,c);return this};c.prototype.onPanEnd=function(a){this._panEndCallbacks.add(a);return this};c.prototype.offPanEnd=function(a){this._panEndCallbacks.delete(a);return this};c.prototype.onZoomEnd=function(a){this._zoomEndCallbacks.add(a);return this};c.prototype.offZoomEnd=function(a){this._zoomEndCallbacks.delete(a);
return this};return c}(a.Interaction);a._PIXELS_PER_LINE=120;c.PanZoom=a},function(a,c,d){var b=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},f=d(13),g=d(0);a=function(a){function c(){var b=null!==a&&a.apply(this,arguments)||this;b._overComponent=!1;b._pointerEnterCallbacks=new g.CallbackSet;b._pointerMoveCallbacks=new g.CallbackSet;b._pointerExitCallbacks=new g.CallbackSet;
b._mouseMoveCallback=function(a,c){return b._handleMouseEvent(a,c)};b._touchStartCallback=function(a,c,d){return b._handleTouchEvent(c[a[0]],d)};return b}b(c,a);c.prototype._anchor=function(b){a.prototype._anchor.call(this,b);this._mouseDispatcher=f.Mouse.getDispatcher(this._componentAttachedTo);this._mouseDispatcher.onMouseMove(this._mouseMoveCallback);this._touchDispatcher=f.Touch.getDispatcher(this._componentAttachedTo);this._touchDispatcher.onTouchStart(this._touchStartCallback)};c.prototype._unanchor=
function(){a.prototype._unanchor.call(this);this._mouseDispatcher.offMouseMove(this._mouseMoveCallback);this._mouseDispatcher=null;this._touchDispatcher.offTouchStart(this._touchStartCallback);this._touchDispatcher=null};c.prototype._handleMouseEvent=function(a,b){b=this._mouseDispatcher.eventInside(this._componentAttachedTo,b);this._handlePointerEvent(a,b)};c.prototype._handleTouchEvent=function(a,b){b=this._touchDispatcher.eventInside(this._componentAttachedTo,b);this._handlePointerEvent(a,b)};
c.prototype._handlePointerEvent=function(a,b){a=this._translateToComponentSpace(a);var c=this._isInsideComponent(a);c&&b?(this._overComponent||this._pointerEnterCallbacks.callCallbacks(a),this._pointerMoveCallbacks.callCallbacks(a)):this._overComponent&&this._pointerExitCallbacks.callCallbacks(a);this._overComponent=c&&b};c.prototype.onPointerEnter=function(a){this._pointerEnterCallbacks.add(a);return this};c.prototype.offPointerEnter=function(a){this._pointerEnterCallbacks.delete(a);return this};
c.prototype.onPointerMove=function(a){this._pointerMoveCallbacks.add(a)};c.prototype.offPointerMove=function(a){this._pointerMoveCallbacks.delete(a);return this};c.prototype.onPointerExit=function(a){this._pointerExitCallbacks.add(a)};c.prototype.offPointerExit=function(a){this._pointerExitCallbacks.delete(a);return this};return c}(d(15).Interaction);c.Pointer=a},function(a,c,d){var b=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);
a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},f=d(3),g=d(0);a=d(24);var k=d(2);d=function(a){function c(b){void 0===b&&(b="vertical");b=a.call(this,b)||this;b._clusterOffsets=new g.Map;return b}b(c,a);c.prototype._generateAttrToProjector=function(){function b(){return e.rangeBand()}var c=this,d=a.prototype._generateAttrToProjector.call(this),e=this._makeInnerScale();d.width=this._isVertical?b:d.width;d.height=this._isVertical?d.height:b;var f=d.x,g=d.y;d.x=this._isVertical?
function(a,b,d){return f(a,b,d)+c._clusterOffsets.get(d)}:function(a,b,c){return f(a,b,c)};d.y=this._isVertical?function(a,b,c){return g(a,b,c)}:function(a,b,d){return g(a,b,d)+c._clusterOffsets.get(d)};return d};c.prototype._updateClusterPosition=function(){var a=this,b=this._makeInnerScale();this.datasets().forEach(function(c,d){return a._clusterOffsets.set(c,b.scale(String(d))-b.rangeBand()/2)})};c.prototype._makeInnerScale=function(){var a=new f.Category;a.domain(this.datasets().map(function(a,
b){return String(b)}));var b=k.Plot._scaledAccessor(this.attr("width"));a.range([0,b(null,0,null)]);return a};c.prototype._getDataToDraw=function(){this._updateClusterPosition();return a.prototype._getDataToDraw.call(this)};return c}(a.Bar);c.ClusteredBar=d},function(a,c,d){var b=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},f=d(1),g=d(5),k=d(7),l=d(10),m=d(3),
n=d(0),q=d(41),p=d(42),t=d(6),r=d(25),u=d(2);a=function(a){function c(){var b=a.call(this)||this;b._startAngle=0;b._endAngle=2*Math.PI;b._labelFormatter=l.identity();b._labelsEnabled=!1;b.innerRadius(0);b.outerRadius(function(){var a=b._pieCenter();return Math.min(Math.max(b.width()-a.x,a.x),Math.max(b.height()-a.y,a.y))});b.addClass("pie-plot");b.attr("fill",function(a,b){return String(b)},new m.Color);b._strokeDrawers=new n.Map;return b}b(c,a);c.prototype._setup=function(){var b=this;a.prototype._setup.call(this);
this._strokeDrawers.forEach(function(a){return a.attachTo(b._renderArea)})};c.prototype.computeLayout=function(b,c,d){a.prototype.computeLayout.call(this,b,c,d);b=this._pieCenter();this._renderArea.attr("transform","translate("+b.x+","+b.y+")");b=Math.min(Math.max(this.width()-b.x,b.x),Math.max(this.height()-b.y,b.y));null!=this.innerRadius().scale&&this.innerRadius().scale.range([0,b]);null!=this.outerRadius().scale&&this.outerRadius().scale.range([0,b]);return this};c.prototype.addDataset=function(b){a.prototype.addDataset.call(this,
b);return this};c.prototype._addDataset=function(b){if(1===this.datasets().length)return n.Window.warn("Only one dataset is supported in Pie plots"),this;this._updatePieAngles();var c=new p.ArcOutlineSVGDrawer;this._isSetup&&c.attachTo(this._renderArea);this._strokeDrawers.set(b,c);a.prototype._addDataset.call(this,b);return this};c.prototype.removeDataset=function(b){a.prototype.removeDataset.call(this,b);return this};c.prototype._removeDatasetNodes=function(b){a.prototype._removeDatasetNodes.call(this,
b);this._strokeDrawers.get(b).remove()};c.prototype._removeDataset=function(b){a.prototype._removeDataset.call(this,b);this._startAngles=[];this._endAngles=[];return this};c.prototype.selections=function(b){var c=this;void 0===b&&(b=this.datasets());var d=a.prototype.selections.call(this,b).nodes();b.forEach(function(a){a=c._strokeDrawers.get(a);null!=a&&d.push.apply(d,a.getVisualPrimitives())});return f.selectAll(d)};c.prototype._onDatasetUpdate=function(){a.prototype._onDatasetUpdate.call(this);
this._updatePieAngles();this.render()};c.prototype._createDrawer=function(){return new t.ProxyDrawer(function(){return new q.ArcSVGDrawer},function(){r.warn("canvas renderer is not supported on Pie Plot!")})};c.prototype.entities=function(b){var c=this;void 0===b&&(b=this.datasets());return a.prototype.entities.call(this,b).map(function(a){a.position.x+=c.width()/2;a.position.y+=c.height()/2;var b=f.select(c._strokeDrawers.get(a.dataset).getVisualPrimitiveAtIndex(a.index));a.strokeSelection=b;return a})};
c.prototype.sectorValue=function(){return this._propertyBindings.get(c._SECTOR_VALUE_KEY)};c.prototype.innerRadius=function(a,b){if(null==a)return this._propertyBindings.get(c._INNER_RADIUS_KEY);this._bindProperty(c._INNER_RADIUS_KEY,a,b);this.render();return this};c.prototype.outerRadius=function(a,b){if(null==a)return this._propertyBindings.get(c._OUTER_RADIUS_KEY);this._bindProperty(c._OUTER_RADIUS_KEY,a,b);this.render();return this};c.prototype.startAngle=function(a){if(null==a)return this._startAngle;
this._startAngle=a;this._updatePieAngles();this.render();return this};c.prototype.endAngle=function(a){if(null==a)return this._endAngle;this._endAngle=a;this._updatePieAngles();this.render();return this};c.prototype.labelsEnabled=function(a){if(null==a)return this._labelsEnabled;this._labelsEnabled=a;this.render();return this};c.prototype.labelFormatter=function(a){if(null==a)return this._labelFormatter;this._labelFormatter=a;this.render();return this};c.prototype.entitiesAt=function(a){var b=this.width()/
2,c=this.height()/2;a=this._sliceIndexForPoint({x:a.x-b,y:a.y-c});return null==a?[]:[this.entities()[a]]};c.prototype._propertyProjectors=function(){var b=this,c=a.prototype._propertyProjectors.call(this),d=u.Plot._scaledAccessor(this.innerRadius()),e=u.Plot._scaledAccessor(this.outerRadius());c.d=function(a,c,g){return f.arc().innerRadius(d(a,c,g)).outerRadius(e(a,c,g)).startAngle(b._startAngles[c]).endAngle(b._endAngles[c])(a,c)};return c};c.prototype._updatePieAngles=function(){if(null!=this.sectorValue()&&
0!==this.datasets().length){var a=u.Plot._scaledAccessor(this.sectorValue()),b=this.datasets()[0],c=this._getDataToDraw().get(b);c=f.pie().sort(null).startAngle(this._startAngle).endAngle(this._endAngle).value(function(c,d){return a(c,d,b)})(c);this._startAngles=c.map(function(a){return a.startAngle});this._endAngles=c.map(function(a){return a.endAngle})}};c.prototype._pieCenter=function(){var a=this._startAngle<this._endAngle?this._startAngle:this._endAngle,b=this._startAngle<this._endAngle?this._endAngle:
this._startAngle,c=Math.sin(a);a=Math.cos(a);var d=Math.sin(b);b=Math.cos(b);var e;if(0<=c&&0<=d)if(0<=a&&0<=b){var f=a;var g=e=0;var k=d}else 0>a&&0>b?(f=0,e=-b,g=0,k=c):0<=a&&0>b?(f=a,e=-b,g=0,k=c):0>a&&0<=b&&(g=e=f=1,k=Math.max(c,d));else 0<=c&&0>d?0<=a&&0<=b?(f=Math.max(a,b),k=g=e=1):0>a&&0>b?(f=0,e=1,g=-d,k=c):0<=a&&0>b?(f=a,e=1,g=-d,k=1):0>a&&0<=b&&(f=b,g=e=1,k=c):0>c&&0<=d?0<=a&&0<=b?(f=1,e=0,g=-c,k=d):0>a&&0>b?(f=1,e=Math.max(-a,-b),k=g=1):0<=a&&0>b?(f=1,e=-b,g=-c,k=1):0>a&&0<=b&&(f=1,e=-a,
g=1,k=d):0>c&&0>d&&(0<=a&&0<=b?(f=b,e=0,g=-c,k=0):0>a&&0>b?(f=0,e=-a,g=-d,k=0):0<=a&&0>b?(e=f=1,g=Math.max(a,-b),k=1):0>a&&0<=b&&(f=b,e=-a,g=1,k=0));return{x:0==g+k?0:g/(g+k)*this.width(),y:0==f+e?0:f/(f+e)*this.height()}};c.prototype._getDataToDraw=function(){var b=a.prototype._getDataToDraw.call(this);if(0===this.datasets().length)return b;var d=u.Plot._scaledAccessor(this.sectorValue()),e=this.datasets()[0],f=b.get(e).filter(function(a,b){return c._isValidData(d(a,b,e))});b.set(e,f);return b};
c._isValidData=function(a){return n.Math.isValidNumber(a)&&0<=a};c.prototype._pixelPoint=function(a,b,d){var e=u.Plot._scaledAccessor(this.sectorValue());if(!c._isValidData(e(a,b,d)))return{x:NaN,y:NaN};var g=u.Plot._scaledAccessor(this.innerRadius())(a,b,d);a=u.Plot._scaledAccessor(this.outerRadius())(a,b,d);g=(g+a)/2;a=f.pie().sort(null).value(function(a,b){a=e(a,b,d);return c._isValidData(a)?a:0}).startAngle(this._startAngle).endAngle(this._endAngle)(d.data());b=(a[b].startAngle+a[b].endAngle)/
2;return{x:g*Math.sin(b),y:-g*Math.cos(b)}};c.prototype._additionalPaint=function(a){var b=this;this._renderArea.select(".label-area").remove();this._labelsEnabled&&n.Window.setTimeout(function(){return b._drawLabels()},a);var c=this._generateStrokeDrawSteps(),d=this._getDataToDraw();this.datasets().forEach(function(a){var e=u.Plot.applyDrawSteps(c,a);b._strokeDrawers.get(a).draw(d.get(a),e)})};c.prototype._generateStrokeDrawSteps=function(){return[{attrToProjector:this._generateAttrToProjector(),
animator:new k.Null}]};c.prototype._sliceIndexForPoint=function(a){var b=Math.sqrt(Math.pow(a.x,2)+Math.pow(a.y,2)),c=Math.acos(-a.y/b);0>a.x&&(c=2*Math.PI-c);for(a=0;a<this._startAngles.length;a++)if(this._startAngles[a]<c&&this._endAngles[a]>c){var d=a;break}if(void 0!==d){a=this.datasets()[0];var e=a.data()[d];c=this.innerRadius().accessor(e,d,a);a=this.outerRadius().accessor(e,d,a);if(b>c&&b<a)return d}return null};c.prototype._drawLabels=function(){var a=this,b=this._generateAttrToProjector(),
c=this._renderArea.append("g").classed("label-area",!0),d=new g.SvgContext(c.node()),e=new g.CacheMeasurer(d),f=new g.Writer(e,d),k=this.datasets()[0];this._getDataToDraw().get(k).forEach(function(d,g){var l=a.sectorValue().accessor(d,g,k);if(n.Math.isValidNumber(l)){l=a._labelFormatter(l);var m=e.measure(l),q=(a._endAngles[g]+a._startAngles[g])/2,p=a.outerRadius().accessor(d,g,k);a.outerRadius().scale&&(p=a.outerRadius().scale.scale(p));var r=a.innerRadius().accessor(d,g,k);a.innerRadius().scale&&
(r=a.innerRadius().scale.scale(r));r=(p+r)/2;p=Math.sin(q)*r-m.width/2;r=-Math.cos(q)*r-m.height/2;var t=[{x:p,y:r},{x:p,y:r+m.height},{x:p+m.width,y:r},{x:p+m.width,y:r+m.height}];(q=t.every(function(b){return Math.abs(b.x)<=a.width()/2&&Math.abs(b.y)<=a.height()/2}))&&(q=t.map(function(b){return a._sliceIndexForPoint(b)}).every(function(a){return a===g}));d=b.fill(d,g,k);d=1.6*n.Color.contrast("white",d)<n.Color.contrast("black",d);p=c.append("g").attr("transform","translate("+p+","+r+")");p.classed(d?
"dark-label":"light-label",!0);p.style("visibility",q?"inherit":"hidden");f.write(l,m.width,m.height,{xAlign:"center",yAlign:"center"},p.node())}})};return c}(u.Plot);a._INNER_RADIUS_KEY="inner-radius";a._OUTER_RADIUS_KEY="outer-radius";a._SECTOR_VALUE_KEY="sector-value";c.Pie=a},function(a,c,d){var b=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},f=d(1),g=d(5),
k=d(7),l=d(6),m=d(32),n=d(3),q=d(0),p=d(2);a=function(a){function c(){var b=a.call(this)||this;b._labelsEnabled=!1;b._label=null;b.animator("rectangles",new k.Null);b.addClass("rectangle-plot");b.attr("fill",(new n.Color).range()[0]);return b}b(c,a);c.prototype._createDrawer=function(){return new l.ProxyDrawer(function(){return new m.RectangleSVGDrawer},m.RectangleCanvasDrawStep)};c.prototype._generateAttrToProjector=function(){var b=this,d=a.prototype._generateAttrToProjector.call(this),e=p.Plot._scaledAccessor(this.x()),
f=d[c._X2_KEY],g=p.Plot._scaledAccessor(this.y()),k=d[c._Y2_KEY],l=this.x().scale,m=this.y().scale;null!=f?(d.width=function(a,b,c){return Math.abs(f(a,b,c)-e(a,b,c))},d.x=function(a,b,c){return Math.min(f(a,b,c),e(a,b,c))}):(d.width=function(){return b._rectangleWidth(l)},d.x=function(a,b,c){return e(a,b,c)-.5*d.width(a,b,c)});null!=k?(d.height=function(a,b,c){return Math.abs(k(a,b,c)-g(a,b,c))},d.y=function(a,b,c){return Math.max(k(a,b,c),g(a,b,c))-d.height(a,b,c)}):(d.height=function(){return b._rectangleWidth(m)},
d.y=function(a,b,c){return g(a,b,c)-.5*d.height(a,b,c)});delete d[c._X2_KEY];delete d[c._Y2_KEY];return d};c.prototype._generateDrawSteps=function(){return[{attrToProjector:this._generateAttrToProjector(),animator:this._getAnimator("rectangles")}]};c.prototype._updateExtentsForProperty=function(b){a.prototype._updateExtentsForProperty.call(this,b);"x"===b?a.prototype._updateExtentsForProperty.call(this,"x2"):"y"===b&&a.prototype._updateExtentsForProperty.call(this,"y2")};c.prototype._filterForProperty=
function(b){return"x2"===b?a.prototype._filterForProperty.call(this,"x"):"y2"===b?a.prototype._filterForProperty.call(this,"y"):a.prototype._filterForProperty.call(this,b)};c.prototype.x=function(b,d){if(null==b)return a.prototype.x.call(this);null==d?a.prototype.x.call(this,b):a.prototype.x.call(this,b,d);null!=d&&(b=(b=this.x2())&&b.accessor,null!=b&&this._bindProperty(c._X2_KEY,b,d));d instanceof n.Category&&d.innerPadding(0).outerPadding(0);return this};c.prototype.x2=function(a){if(null==a)return this._propertyBindings.get(c._X2_KEY);
var b=this.x();this._bindProperty(c._X2_KEY,a,b&&b.scale);this.render();return this};c.prototype.y=function(b,d){if(null==b)return a.prototype.y.call(this);null==d?a.prototype.y.call(this,b):a.prototype.y.call(this,b,d);null!=d&&(b=(b=this.y2())&&b.accessor,null!=b&&this._bindProperty(c._Y2_KEY,b,d));d instanceof n.Category&&d.innerPadding(0).outerPadding(0);return this};c.prototype.y2=function(a){if(null==a)return this._propertyBindings.get(c._Y2_KEY);var b=this.y();this._bindProperty(c._Y2_KEY,
a,b&&b.scale);this.render();return this};c.prototype.entitiesAt=function(a){var b=this._generateAttrToProjector();return this.entities().filter(function(c){var d=c.datum,e=c.index,f=c.dataset;c=b.x(d,e,f);var g=b.y(d,e,f),k=b.width(d,e,f);d=b.height(d,e,f);return c<=a.x&&a.x<=c+k&&g<=a.y&&a.y<=g+d})};c.prototype.entitiesIn=function(a,b){if(null==b){var c={min:a.topLeft.x,max:a.bottomRight.x};a={min:a.topLeft.y,max:a.bottomRight.y}}else c=a,a=b;return this._entitiesIntersecting(c,a)};c.prototype._entityBBox=
function(a,b,c,d){return{x:d.x(a,b,c),y:d.y(a,b,c),width:d.width(a,b,c),height:d.height(a,b,c)}};c.prototype._entitiesIntersecting=function(a,b){var c=this,d=[],e=this._generateAttrToProjector();this.entities().forEach(function(f){q.DOM.intersectsBBox(a,b,c._entityBBox(f.datum,f.index,f.dataset,e))&&d.push(f)});return d};c.prototype.label=function(a){if(null==a)return this._label;this._label=a;this.render();return this};c.prototype.labelsEnabled=function(a){if(null==a)return this._labelsEnabled;this._labelsEnabled=
a;this.render();return this};c.prototype._propertyProjectors=function(){var b=a.prototype._propertyProjectors.call(this);null!=this.x2()&&(b.x2=p.Plot._scaledAccessor(this.x2()));null!=this.y2()&&(b.y2=p.Plot._scaledAccessor(this.y2()));return b};c.prototype._pixelPoint=function(a,b,c){var d=this._generateAttrToProjector(),e=d.x(a,b,c),f=d.y(a,b,c),g=d.width(a,b,c);a=d.height(a,b,c);return{x:e+g/2,y:f+a/2}};c.prototype._rectangleWidth=function(a){if(a instanceof n.Category)return a.rangeBand();var b=
a===this.x().scale?this.x().accessor:this.y().accessor,c=f.set(q.Array.flatten(this.datasets().map(function(a){return a.data().map(function(c,d){return b(c,d,a).valueOf()})}))).values().map(function(a){return+a}),d=q.Math.min(c,0);c=q.Math.max(c,0);var e=a.scale(d);return(a.scale(c)-e)/Math.abs(c-d)};c.prototype._getDataToDraw=function(){var a=new q.Map,b=this._generateAttrToProjector();this.datasets().forEach(function(c){var d=c.data().filter(function(a,d){return q.Math.isValidNumber(b.x(a,d,c))&&
q.Math.isValidNumber(b.y(a,d,c))&&q.Math.isValidNumber(b.width(a,d,c))&&q.Math.isValidNumber(b.height(a,d,c))});a.set(c,d)});return a};c.prototype._additionalPaint=function(a){var b=this;this._renderArea.selectAll(".label-area").remove();this._labelsEnabled&&null!=this.label()&&q.Window.setTimeout(function(){return b._drawLabels()},a)};c.prototype._drawLabels=function(){var a=this,b=this._getDataToDraw();this.datasets().forEach(function(c,d){return a._drawLabel(b,c,d)})};c.prototype._drawLabel=function(a,
b,c){var d=this,e=this._generateAttrToProjector(),f=this._renderArea.append("g").classed("label-area",!0),k=new g.SvgContext(f.node()),l=new g.CacheMeasurer(k),m=new g.Writer(l,k);k=this.x().scale.range();var n=this.y().scale.range(),p=Math.min.apply(null,k),r=Math.max.apply(null,k),t=Math.min.apply(null,n),u=Math.max.apply(null,n);a.get(b).forEach(function(g,k){var n=""+d.label()(g,k,b),v=l.measure(n),z=e.x(g,k,b),w=e.y(g,k,b),B=e.width(g,k,b),D=e.height(g,k,b);v.height<=D&&v.width<=B&&(D=(D-v.height)/
2,z+=(B-v.width)/2,w+=D,B={min:z,max:z+v.width},D={min:w,max:w+v.height},B.min<p||B.max>r||D.min<t||D.max>u||d._overlayLabel(B,D,k,c,a)||(g=e.fill(g,k,b),g=1.6*q.Color.contrast("white",g)<q.Color.contrast("black",g),z=f.append("g").attr("transform","translate("+z+","+w+")"),z.classed(g?"dark-label":"light-label",!0),m.write(n,v.width,v.height,{xAlign:"center",yAlign:"center"},z.node())))})};c.prototype._overlayLabel=function(a,b,c,d,e){for(var f=this._generateAttrToProjector(),g=this.datasets(),k=
d;k<g.length;k++)for(var l=g[k],m=e.get(l),n=k===d?c+1:0;n<m.length;n++)if(q.DOM.intersectsBBox(a,b,this._entityBBox(m[n],n,l,f)))return!0;return!1};return c}(d(16).XYPlot);a._X2_KEY="x2";a._Y2_KEY="y2";c.Rectangle=a},function(a,c,d){var b=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},f=d(29),g=d(6),k=d(45),l=d(7),m=d(3),n=d(0),q=d(17),p=d(2);a=function(a){function c(){var b=
a.call(this)||this;b.addClass("scatter-plot");var c=new l.Easing;c.startDelay(5);c.stepDuration(250);c.maxTotalDuration(p.Plot._ANIMATION_MAX_DURATION);b.animator(q.Animator.MAIN,c);b.attr("opacity",.6);b.attr("fill",(new m.Color).range()[0]);b.size(6);var d=f.circle();b.symbol(function(){return d});return b}b(c,a);c.prototype._buildLightweightPlotEntities=function(b){var c=this;return a.prototype._buildLightweightPlotEntities.call(this,b).map(function(a){var b=p.Plot._scaledAccessor(c.size())(a.datum,
a.index,a.dataset);a.diameter=b;return a})};c.prototype._createDrawer=function(a){var b=this;return new g.ProxyDrawer(function(){return new k.SymbolSVGDrawer},k.makeSymbolCanvasDrawStep(a,function(){return p.Plot._scaledAccessor(b.symbol())},function(){return p.Plot._scaledAccessor(b.size())}))};c.prototype.size=function(a,b){if(null==a)return this._propertyBindings.get(c._SIZE_KEY);this._bindProperty(c._SIZE_KEY,a,b);this.render();return this};c.prototype.symbol=function(a){if(null==a)return this._propertyBindings.get(c._SYMBOL_KEY);
this._propertyBindings.set(c._SYMBOL_KEY,{accessor:a});this.render();return this};c.prototype._generateDrawSteps=function(){var a=[];if(this._animateOnNextRender()){var b=this._generateAttrToProjector(),c=p.Plot._scaledAccessor(this.symbol());b.d=function(a,b,d){return c(a,b,d)(0)(null)};a.push({attrToProjector:b,animator:this._getAnimator(q.Animator.RESET)})}a.push({attrToProjector:this._generateAttrToProjector(),animator:this._getAnimator(q.Animator.MAIN)});return a};c.prototype._propertyProjectors=
function(){var b=a.prototype._propertyProjectors.call(this),c=p.Plot._scaledAccessor(this.x()),d=p.Plot._scaledAccessor(this.y());b.x=c;b.y=d;b.transform=function(a,b,e){return"translate("+c(a,b,e)+","+d(a,b,e)+")"};b.d=this._constructSymbolGenerator();return b};c.prototype._constructSymbolGenerator=function(){var a=p.Plot._scaledAccessor(this.symbol()),b=p.Plot._scaledAccessor(this.size());return function(c,d,e){return a(c,d,e)(b(c,d,e))(null)}};c.prototype._entityVisibleOnPlot=function(a,b){return n.DOM.intersectsBBox({min:b.topLeft.x,
max:b.bottomRight.x},{min:b.topLeft.y,max:b.bottomRight.y},{x:a.position.x-a.diameter,y:a.position.y-a.diameter,width:a.diameter,height:a.diameter})};c.prototype.entitiesIn=function(a,b){if(null==b){var c={min:a.topLeft.x,max:a.bottomRight.x};var d={min:a.topLeft.y,max:a.bottomRight.y}}else c=a,d=b;var e=p.Plot._scaledAccessor(this.x()),f=p.Plot._scaledAccessor(this.y());return this.entities().filter(function(a){var b=a.datum,g=a.index,k=a.dataset;a=e(b,g,k);b=f(b,g,k);return c.min<=a&&a<=c.max&&
d.min<=b&&b<=d.max})};c.prototype.entitiesAt=function(a){var b=p.Plot._scaledAccessor(this.x()),c=p.Plot._scaledAccessor(this.y()),d=p.Plot._scaledAccessor(this.size());return this.entities().filter(function(e){var f=e.datum,g=e.index,k=e.dataset;e=b(f,g,k);var l=c(f,g,k);f=d(f,g,k);return e-f/2<=a.x&&a.x<=e+f/2&&l-f/2<=a.y&&a.y<=l+f/2})};return c}(d(16).XYPlot);a._SIZE_KEY="size";a._SYMBOL_KEY="symbol";c.Scatter=a},function(a,c,d){var b=this&&this.__extends||function(a,b){function c(){this.constructor=
a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},f=d(7),g=d(6),k=d(44),l=d(3),m=d(25),n=d(2);a=function(a){function c(){var b=a.call(this)||this;b.addClass("segment-plot");b.attr("stroke",(new l.Color).range()[0]);b.attr("stroke-width","2px");return b}b(c,a);c.prototype._createDrawer=function(){return new g.ProxyDrawer(function(){return new k.SegmentSVGDrawer},function(){m.warn("canvas renderer is not supported on Segment Plot!")})};
c.prototype._generateDrawSteps=function(){return[{attrToProjector:this._generateAttrToProjector(),animator:new f.Null}]};c.prototype._updateExtentsForProperty=function(b){a.prototype._updateExtentsForProperty.call(this,b);"x"===b?a.prototype._updateExtentsForProperty.call(this,"x2"):"y"===b&&a.prototype._updateExtentsForProperty.call(this,"y2")};c.prototype._filterForProperty=function(b){return"x2"===b?a.prototype._filterForProperty.call(this,"x"):"y2"===b?a.prototype._filterForProperty.call(this,
"y"):a.prototype._filterForProperty.call(this,b)};c.prototype.x=function(b,d){if(null==b)return a.prototype.x.call(this);null==d?a.prototype.x.call(this,b):(a.prototype.x.call(this,b,d),b=(b=this.x2())&&b.accessor,null!=b&&this._bindProperty(c._X2_KEY,b,d));return this};c.prototype.x2=function(a){if(null==a)return this._propertyBindings.get(c._X2_KEY);var b=this.x();this._bindProperty(c._X2_KEY,a,b&&b.scale);this.render();return this};c.prototype.y=function(b,d){if(null==b)return a.prototype.y.call(this);
null==d?a.prototype.y.call(this,b):(a.prototype.y.call(this,b,d),b=(b=this.y2())&&b.accessor,null!=b&&this._bindProperty(c._Y2_KEY,b,d));return this};c.prototype.y2=function(a){if(null==a)return this._propertyBindings.get(c._Y2_KEY);var b=this.y();this._bindProperty(c._Y2_KEY,a,b&&b.scale);this.render();return this};c.prototype._propertyProjectors=function(){var b=a.prototype._propertyProjectors.call(this);b.x1=n.Plot._scaledAccessor(this.x());b.x2=null==this.x2()?n.Plot._scaledAccessor(this.x()):
n.Plot._scaledAccessor(this.x2());b.y1=n.Plot._scaledAccessor(this.y());b.y2=null==this.y2()?n.Plot._scaledAccessor(this.y()):n.Plot._scaledAccessor(this.y2());return b};c.prototype.entitiesAt=function(a){a=this.entityNearest(a);return null!=a?[a]:[]};c.prototype.entitiesIn=function(a,b){if(null==b){var c={min:a.topLeft.x,max:a.bottomRight.x};a={min:a.topLeft.y,max:a.bottomRight.y}}else c=a,a=b;return this._entitiesIntersecting(c,a)};c.prototype._entitiesIntersecting=function(a,b){var c=this,d=[],
e=this._generateAttrToProjector();this.entities().forEach(function(f){c._lineIntersectsBox(f,a,b,e)&&d.push(f)});return d};c.prototype._lineIntersectsBox=function(a,b,c,d){var e=this,f=d.x1(a.datum,a.index,a.dataset),g=d.x2(a.datum,a.index,a.dataset),k=d.y1(a.datum,a.index,a.dataset);a=d.y2(a.datum,a.index,a.dataset);if(b.min<=f&&f<=b.max&&c.min<=k&&k<=c.max||b.min<=g&&g<=b.max&&c.min<=a&&a<=c.max)return!0;var l={x:f,y:k},m={x:g,y:a},n=[{x:b.min,y:c.min},{x:b.min,y:c.max},{x:b.max,y:c.max},{x:b.max,
y:c.min}];return 0<n.filter(function(a,b){return 0!==b?e._lineIntersectsSegment(l,m,a,n[b-1])&&e._lineIntersectsSegment(a,n[b-1],l,m):!1}).length};c.prototype._lineIntersectsSegment=function(a,b,c,d){return 0>((b.x-a.x)*(c.y-b.y)-(b.y-a.y)*(c.x-b.x))*((b.x-a.x)*(d.y-b.y)-(b.y-a.y)*(d.x-b.x))};return c}(d(16).XYPlot);a._X2_KEY="x2";a._Y2_KEY="y2";c.Segment=a},function(a,c,d){var b=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=
null===b?Object.create(b):(c.prototype=b.prototype,new c)},f=d(1),g=d(7),k=d(0);a=d(46);var l=d(2);d=function(a){function c(){var b=a.call(this)||this;b._baselineValue=0;b._stackingOrder="bottomup";b.addClass("stacked-area-plot");b.attr("fill-opacity",1);b._stackingResult=new k.Map;b._stackedExtent=[];b._baselineValueProvider=function(){return[b._baselineValue]};b.croppedRenderingEnabled(!1);return b}b(c,a);c.prototype.croppedRenderingEnabled=function(b){return null==b?a.prototype.croppedRenderingEnabled.call(this):
b?(k.Window.warn("Warning: Stacked Area Plot does not support cropped rendering."),this):a.prototype.croppedRenderingEnabled.call(this,b)};c.prototype._getAnimator=function(){return new g.Null};c.prototype._setup=function(){a.prototype._setup.call(this);this._baseline=this._renderArea.append("line").classed("baseline",!0)};c.prototype.x=function(b,c){if(null==b)return a.prototype.x.call(this);null==c?a.prototype.x.call(this,b):a.prototype.x.call(this,b,c);this._updateStackExtentsAndOffsets();return this};
c.prototype.y=function(b,c){if(null==b)return a.prototype.y.call(this);null==c?a.prototype.y.call(this,b):a.prototype.y.call(this,b,c);this._updateStackExtentsAndOffsets();return this};c.prototype.stackingOrder=function(a){if(null==a)return this._stackingOrder;this._stackingOrder=a;this._onDatasetUpdate();return this};c.prototype.downsamplingEnabled=function(b){if(null==b)return a.prototype.downsamplingEnabled.call(this);k.Window.warn("Warning: Stacked Area Plot does not support downsampling");return this};
c.prototype._additionalPaint=function(){var a=this.y().scale.scale(this._baselineValue);a={x1:0,y1:a,x2:this.width(),y2:a};this._getAnimator("baseline").animate(this._baseline,a)};c.prototype._updateYScale=function(){var a=this.y();a=a&&a.scale;null!=a&&(a.addPaddingExceptionsProvider(this._baselineValueProvider),a.addIncludedValuesProvider(this._baselineValueProvider))};c.prototype._onDatasetUpdate=function(){this._updateStackExtentsAndOffsets();a.prototype._onDatasetUpdate.call(this);return this};
c.prototype._updateExtentsForProperty=function(b){a.prototype._updateExtentsForProperty.call(this,b);"x"!==b&&"y"!==b||!this._projectorsReady()||this._updateStackExtentsAndOffsets()};c.prototype._extentsForProperty=function(b){return"y"===b?[this._stackedExtent]:a.prototype._extentsForProperty.call(this,b)};c.prototype._updateStackExtentsAndOffsets=function(){if(this._projectorsReady()){var a=this.datasets(),b=this.x().accessor,c=this.y().accessor,d=this._filterForProperty("y");this._checkSameDomain(a,
b);this._stackingResult=k.Stacking.stack(a,b,c,this._stackingOrder);this._stackedExtent=k.Stacking.stackedExtent(this._stackingResult,b,d)}};c.prototype._checkSameDomain=function(a,b){var d=a.map(function(a){return f.set(a.data().map(function(c,d){return b(c,d,a).toString()})).values()}),e=c._domainKeys(a,b);d.some(function(a){return a.length!==e.length})&&k.Window.warn("the domains across the datasets are not the same. Plot may produce unintended behavior.")};c._domainKeys=function(a,b){var c=f.set();
a.forEach(function(a){a.data().forEach(function(d,e){c.add(b(d,e,a))})});return c.values()};c.prototype._propertyProjectors=function(){var b=this,c=a.prototype._propertyProjectors.call(this),d=this.y().accessor,e=this.x().accessor;c.d=this._constructAreaProjector(l.Plot._scaledAccessor(this.x()),function(a,c,f){return b.y().scale.scale(+d(a,c,f)+b._stackingResult.get(f).get(k.Stacking.normalizeKey(e(a,c,f))).offset)},function(a,c,d){return b.y().scale.scale(b._stackingResult.get(d).get(k.Stacking.normalizeKey(e(a,
c,d))).offset)});return c};c.prototype._pixelPoint=function(b,c,d){var e=a.prototype._pixelPoint.call(this,b,c,d),f=this.x().accessor(b,c,d);b=this.y().accessor(b,c,d);d=this.y().scale.scale(+b+this._stackingResult.get(d).get(k.Stacking.normalizeKey(f)).offset);return{x:e.x,y:d}};return c}(a.Area);c.StackedArea=d},function(a,c,d){var b=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=
b.prototype,new c)},f=d(5),g=d(0),k=d(24);a=function(a){function c(b){void 0===b&&(b="vertical");b=a.call(this,b)||this;b.addClass("stacked-bar-plot");b._stackingOrder="bottomup";b._stackingResult=new g.Map;b._stackedExtent=[];return b}b(c,a);c.prototype.x=function(b,c){if(null==b)return a.prototype.x.call(this);null==c?a.prototype.x.call(this,b):a.prototype.x.call(this,b,c);this._updateStackExtentsAndOffsets();return this};c.prototype.y=function(b,c){if(null==b)return a.prototype.y.call(this);null==
c?a.prototype.y.call(this,b):a.prototype.y.call(this,b,c);this._updateStackExtentsAndOffsets();return this};c.prototype.stackingOrder=function(a){if(null==a)return this._stackingOrder;this._stackingOrder=a;this._onDatasetUpdate();return this};c.prototype._setup=function(){a.prototype._setup.call(this);this._labelArea=this._renderArea.append("g").classed(k.Bar._LABEL_AREA_CLASS,!0);var b=new f.SvgContext(this._labelArea.node());this._measurer=new f.CacheMeasurer(b);this._writer=new f.Writer(this._measurer,
b)};c.prototype._drawLabels=function(){function b(a,b,e){var f=e.x,g=e.y,k=b.height,l=b.width;e=d._isVertical?l>z-2*c._LABEL_PADDING:k>z-2*c._LABEL_PADDING;0>f||0>g||f+l>d.width()||g+k>d.height()||e||(f=d._labelArea.append("g").attr("transform","translate("+f+", "+g+")"),f.classed("stacked-bar-label",!0),d._writer.write(a,b.width,b.height,{xAlign:"center",yAlign:"center"},f.node()));return e}var d=this;a.prototype._drawLabels.call(this);this._labelArea.selectAll("g").remove();var e=+this.baselineValue(),
f=this._isVertical?this.x().scale:this.y().scale,k=this._isVertical?this.y().scale:this.x().scale,l=g.Stacking.stackedExtents(this._stackingResult),m=l.maximumExtents;l=l.minimumExtents;var z=this._getBarPixelWidth(),w=[];m.forEach(function(a){if(a.extent!==e){var g=d.labelFormatter()(a.extent),l=d._measurer.measure(g),m=d._isVertical?l.width:l.height,n=d._isVertical?l.height:l.width,p=d._isVertical?f.scale(a.axisValue)-m/2:k.scale(a.extent)+c._STACKED_BAR_LABEL_PADDING;a=d._isVertical?k.scale(a.extent)-
n-c._STACKED_BAR_LABEL_PADDING:f.scale(a.axisValue)-m/2;w.push(b(g,l,{x:p,y:a}))}});l.forEach(function(a){if(a.extent!==e){var g=d.labelFormatter()(a.extent),l=d._measurer.measure(g),m=d._isVertical?l.width:l.height,n=d._isVertical?l.height:l.width;n=d._isVertical?f.scale(a.axisValue)-m/2:k.scale(a.extent)-n-c._STACKED_BAR_LABEL_PADDING;a=d._isVertical?k.scale(a.extent)+c._STACKED_BAR_LABEL_PADDING:f.scale(a.axisValue)-m/2;w.push(b(g,l,{x:n,y:a}))}});w.some(function(a){return a})&&this._labelArea.selectAll("g").remove()};
c.prototype._generateAttrToProjector=function(){function b(a,b,c){return 0>+A(a,b,c)?e(a,b,c):d(a,b,c)}function c(a,b,c){return Math.abs(d(a,b,c)-e(a,b,c))}function d(a,b,c){return w.scale(+A(a,b,c)+f._stackingResult.get(c).get(g.Stacking.normalizeKey(y(a,b,c))).offset)}function e(a,b,c){return w.scale(f._stackingResult.get(c).get(g.Stacking.normalizeKey(y(a,b,c))).offset)}var f=this,k=a.prototype._generateAttrToProjector.call(this),l=this._isVertical?"y":"x",m=this._isVertical?"x":"y",w=this._isVertical?
this.y().scale:this.x().scale,A=this._propertyBindings.get(l).accessor,y=this._propertyBindings.get(m).accessor;k[this._isVertical?"height":"width"]=c;k[l]=function(a,d,e){return f._isVertical?b(a,d,e):b(a,d,e)-c(a,d,e)};return k};c.prototype._onDatasetUpdate=function(){this._updateStackExtentsAndOffsets();a.prototype._onDatasetUpdate.call(this);return this};c.prototype._updateExtentsForProperty=function(b){a.prototype._updateExtentsForProperty.call(this,b);"x"!==b&&"y"!==b||!this._projectorsReady()||
this._updateStackExtentsAndOffsets()};c.prototype._extentsForProperty=function(b){return b===(this._isVertical?"y":"x")?[this._stackedExtent]:a.prototype._extentsForProperty.call(this,b)};c.prototype._updateStackExtentsAndOffsets=function(){if(this._projectorsReady()){var a=this.datasets(),b=this._isVertical?this.x().accessor:this.y().accessor,c=this._isVertical?this.y().accessor:this.x().accessor,d=this._filterForProperty(this._isVertical?"y":"x");this._stackingResult=g.Stacking.stack(a,b,c,this._stackingOrder);
this._stackedExtent=g.Stacking.stackedExtent(this._stackingResult,b,d)}};c.prototype.invalidateCache=function(){a.prototype.invalidateCache.call(this);this._measurer.reset()};return c}(k.Bar);a._STACKED_BAR_LABEL_PADDING=5;c.StackedBar=a},function(a,c,d){var b=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},f=d(0);a=d(24);var g=d(2);d=function(a){function c(){var b=
a.call(this)||this;b._connectorsEnabled=!1;b.addClass("waterfall-plot");return b}b(c,a);c.prototype.connectorsEnabled=function(a){if(null==a)return this._connectorsEnabled;this._connectorsEnabled=a;return this};c.prototype.total=function(a){if(null==a)return this._propertyBindings.get(c._TOTAL_KEY);this._bindProperty(c._TOTAL_KEY,a,null);return this};c.prototype._additionalPaint=function(a){var b=this;this._connectorArea.selectAll("line").remove();this._connectorsEnabled&&f.Window.setTimeout(function(){return b._drawConnectors()},
a)};c.prototype._createNodesForDataset=function(b){b=a.prototype._createNodesForDataset.call(this,b);this._connectorArea=this._renderArea.append("g").classed(c._CONNECTOR_AREA_CLASS,!0);return b};c.prototype._extentsForProperty=function(b){return"y"===b?[this._extent]:a.prototype._extentsForProperty.call(this,b)};c.prototype._generateAttrToProjector=function(){var b=this,d=a.prototype._generateAttrToProjector.call(this),e=this.y().scale,f=g.Plot._scaledAccessor(this.total());null==this.attr("y")&&
(d.y=function(a,c,d){var g=b.y().accessor(a,c,d);if(f(a,c,d))return Math.min(e.scale(g),e.scale(0));a=b._subtotals[c];if(0===c)return 0>g?e.scale(a-g):e.scale(a);c=b._subtotals[c-1];return a>c?e.scale(a):e.scale(c)});null==this.attr("height")&&(d.height=function(a,c,d){var g=f(a,c,d);a=b.y().accessor(a,c,d);if(g)return Math.abs(e.scale(a)-e.scale(0));g=b._subtotals[c];if(0===c)return Math.abs(e.scale(g)-e.scale(g-a));c=b._subtotals[c-1];return Math.abs(e.scale(g)-e.scale(c))});d["class"]=function(a,
d,e){var g="";null!=b.attr("class")&&(g=b.attr("class").accessor(a,d,e)+" ");if(f(a,d,e))return g+c._BAR_TOTAL_CLASS;a=b.y().accessor(a,d,e);return g+(0<a?c._BAR_GROWTH_CLASS:c._BAR_DECLINE_CLASS)};return d};c.prototype._onDatasetUpdate=function(){this._updateSubtotals();a.prototype._onDatasetUpdate.call(this);return this};c.prototype._calculateSubtotalsAndExtent=function(a){var b=this,c=Number.MAX_VALUE,d=Number.MIN_VALUE,e=0,f=!1;a.data().forEach(function(g,k){var l=b.y().accessor(g,k,a);(g=b.total().accessor(g,
k,a))&&0!==k||(e+=l);b._subtotals.push(e);e<c&&(c=e);e>d&&(d=e);g&&(l<c&&(c=l),l>d&&(d=l));if(!f&&g){k=l-e;for(l=0;l<b._subtotals.length;l++)b._subtotals[l]+=k;f=!0;e+=k;c+=k;d+=k}});this._extent=[c,d]};c.prototype._drawConnectors=function(){for(var a=this._generateAttrToProjector(),b=this.datasets()[0],d=1;d<b.data().length;d++){var e=d-1,f=b.data()[d],g=b.data()[e];g=a.x(g,e,b);var k=a.x(f,d,b)+a.width(f,d,b),l=a.y(f,d,b);if(0<this._subtotals[d]&&this._subtotals[d]>this._subtotals[e]||0>this._subtotals[d]&&
this._subtotals[d]>=this._subtotals[e])l=a.y(f,d,b)+a.height(f,d,b);this._connectorArea.append("line").classed(c._CONNECTOR_CLASS,!0).attr("x1",g).attr("x2",k).attr("y1",l).attr("y2",l)}};c.prototype._updateSubtotals=function(){var a=this.datasets();0<a.length&&(a=a[a.length-1],this._subtotals=[],this._calculateSubtotalsAndExtent(a))};return c}(a.Bar);d._BAR_DECLINE_CLASS="waterfall-decline";d._BAR_GROWTH_CLASS="waterfall-growth";d._BAR_TOTAL_CLASS="waterfall-total";d._CONNECTOR_CLASS="connector";
d._CONNECTOR_AREA_CLASS="connector-area";d._TOTAL_KEY="total";c.Waterfall=d},function(a,c,d){var b=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},f=d(1),g=d(0);a=function(a){function c(b){var d=a.call(this)||this;switch(b){case null:case void 0:null==c._plottableColorCache&&(c._plottableColorCache=c._getPlottableColors());b=f.scaleOrdinal().range(c._plottableColorCache);
break;case "Category10":case "category10":case "10":b=f.scaleOrdinal(f.schemeCategory10);break;case "Category20":case "category20":case "20":b=f.scaleOrdinal(f.schemeCategory20);break;case "Category20b":case "category20b":case "20b":b=f.scaleOrdinal(f.schemeCategory20b);break;case "Category20c":case "category20c":case "20c":b=f.scaleOrdinal(f.schemeCategory20c);break;default:throw Error("Unsupported ColorScale type");}d._d3Scale=b;return d}b(c,a);c.prototype.extentOfValues=function(a){return g.Array.uniq(a)};
c.prototype._getExtent=function(){return g.Array.uniq(this._getAllIncludedValues())};c.invalidateColorCache=function(){c._plottableColorCache=null};c._getPlottableColors=function(){for(var a=[],b=f.select("body").append("plottable-color-tester"),c=g.Color.colorTest(b,""),d=0,e=g.Color.colorTest(b,"plottable-colors-0");null!=e&&d<this._MAXIMUM_COLORS_FROM_CSS&&(e!==c||e!==a[a.length-1]);)a.push(e),d++,e=g.Color.colorTest(b,"plottable-colors-"+d);b.remove();return a};c.prototype.scale=function(a){var b=
this._d3Scale(a);a=this.domain().indexOf(a);a=Math.floor(a/this.range().length);return g.Color.lightenColor(b,Math.log(a*c._LOOP_LIGHTEN_FACTOR+1))};c.prototype._getDomain=function(){return this._backingScaleDomain()};c.prototype._backingScaleDomain=function(a){if(null==a)return this._d3Scale.domain();this._d3Scale.domain(a);return this};c.prototype._getRange=function(){return this._d3Scale.range()};c.prototype._setRange=function(a){this._d3Scale.range(a)};return c}(d(18).Scale);a._LOOP_LIGHTEN_FACTOR=
1.6;a._MAXIMUM_COLORS_FROM_CSS=256;c.Color=a},function(a,c,d){var b=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},f=d(1),g=d(0);a=function(a){function c(b){void 0===b&&(b="linear");var d=a.call(this)||this;switch(b){case "linear":d._colorScale=f.scaleLinear();break;case "log":d._colorScale=f.scaleLog();break;case "sqrt":d._colorScale=f.scaleSqrt();break;case "pow":d._colorScale=
f.scalePow()}if(null==d._colorScale)throw Error("unknown QuantitativeScale scale type "+b);d.range(c.REDS);return d}b(c,a);c.prototype.extentOfValues=function(a){a=f.extent(a);return null==a[0]||null==a[1]?[]:a};c.prototype._d3InterpolatedScale=function(){return this._colorScale.range([0,1]).interpolate(this._interpolateColors())};c.prototype._interpolateColors=function(){var a=this._colorRange;if(2>a.length)throw Error("Color scale arrays must have at least two elements.");return function(){return function(b){b=
Math.max(0,Math.min(1,b));b*=a.length-1;var c=Math.floor(b),d=b-c;return f.interpolateLab(a[c],a[Math.ceil(b)])(d)}}};c.prototype._resetScale=function(){this._d3Scale=this._d3InterpolatedScale();this._autoDomainIfAutomaticMode();this._dispatchUpdate()};c.prototype.autoDomain=function(){var a=this._getAllIncludedValues();0<a.length&&this._setDomain([g.Math.min(a,0),g.Math.max(a,0)]);return this};c.prototype.scale=function(a){return this._d3Scale(a)};c.prototype._getDomain=function(){return this._backingScaleDomain()};
c.prototype._backingScaleDomain=function(a){if(null==a)return this._d3Scale.domain();this._d3Scale.domain(a);return this};c.prototype._getRange=function(){return this._colorRange};c.prototype._setRange=function(a){this._colorRange=a;this._resetScale()};return c}(d(18).Scale);a.REDS="#FFFFFF #FFF6E1 #FEF4C0 #FED976 #FEB24C #FD8D3C #FC4E2A #E31A1C #B10026".split(" ");a.BLUES="#FFFFFF #CCFFFF #A5FFFD #85F7FB #6ED3EF #55A7E0 #417FD0 #2545D3 #0B02E1".split(" ");a.POSNEG="#0B02E1 #2545D3 #417FD0 #55A7E0 #6ED3EF #85F7FB #A5FFFD #CCFFFF #FFFFFF #FFF6E1 #FEF4C0 #FED976 #FEB24C #FD8D3C #FC4E2A #E31A1C #B10026".split(" ");
c.InterpolatedColor=a},function(a,c,d){var b=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},f=d(1);a=function(a){function c(){var b=a.call(this)||this;b._d3Scale=f.scaleLinear();return b}b(c,a);c.prototype._defaultExtent=function(){return[0,1]};c.prototype._expandSingleValueDomain=function(a){return a[0]===a[1]?[a[0]-1,a[1]+1]:a};c.prototype.scale=function(a){return this._d3Scale(a)};
c.prototype.scaleTransformation=function(a){return this.scale(a)};c.prototype.invertedTransformation=function(a){return this.invert(a)};c.prototype.getTransformationDomain=function(){return this.domain()};c.prototype._getDomain=function(){return this._backingScaleDomain()};c.prototype._backingScaleDomain=function(a){if(null==a)return this._d3Scale.domain();this._d3Scale.domain(a);return this};c.prototype._getRange=function(){return this._d3Scale.range()};c.prototype._setRange=function(a){this._d3Scale.range(a)};
c.prototype.invert=function(a){return this._d3Scale.invert(a)};c.prototype.defaultTicks=function(){return this._d3Scale.ticks(c._DEFAULT_NUM_TICKS)};c.prototype._niceDomain=function(a,b){return this._d3Scale.copy().domain(a).nice(b).domain()};return c}(d(11).QuantitativeScale);c.Linear=a},function(a,c,d){var b=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},f=
d(1),g=d(0),k=d(3);a=function(a){function c(b){void 0===b&&(b=10);var c=a.call(this)||this;c._d3Scale=f.scaleLinear();c._base=b;c._pivot=c._base;c._setDomain(c._defaultExtent());if(1>=b)throw Error("ModifiedLogScale: The base must be \x3e 1");return c}b(c,a);c.prototype._adjustedLog=function(a){var b=0>a?-1:1;a*=b;a<this._pivot&&(a+=(this._pivot-a)/this._pivot);a=Math.log(a)/Math.log(this._base);return a*b};c.prototype._invertedAdjustedLog=function(a){var b=0>a?-1:1;a=Math.pow(this._base,a*b);a<this._pivot&&
(a=this._pivot*(a-1)/(this._pivot-1));return a*b};c.prototype.scale=function(a){return this._d3Scale(this._adjustedLog(a))};c.prototype.invert=function(a){return this._invertedAdjustedLog(this._d3Scale.invert(a))};c.prototype.scaleTransformation=function(a){return this.scale(a)};c.prototype.invertedTransformation=function(a){return this.invert(a)};c.prototype.getTransformationDomain=function(){return this.domain()};c.prototype._getDomain=function(){return this._untransformedDomain};c.prototype._setDomain=
function(b){this._untransformedDomain=b;a.prototype._setDomain.call(this,[this._adjustedLog(b[0]),this._adjustedLog(b[1])])};c.prototype._backingScaleDomain=function(a){if(null==a)return this._d3Scale.domain();this._d3Scale.domain(a);return this};c.prototype.ticks=function(){function a(a,b,c){return[a,b,c].sort(function(a,b){return a-b})[1]}var b=g.Math.min(this._untransformedDomain,0),c=g.Math.max(this._untransformedDomain,0),d=a(b,c,-this._pivot),e=a(b,c,this._pivot);d=this._logTicks(-d,-b).map(function(a){return-a}).reverse();
e=this._logTicks(e,c);var l=Math.max(b,-this._pivot),m=Math.min(c,this._pivot);l=f.scaleLinear().domain([l,m]).ticks(this._howManyTicks(l,m));d=d.concat(l).concat(e);1>=d.length&&(d=f.scaleLinear().domain([b,c]).ticks(k.ModifiedLog._DEFAULT_NUM_TICKS));return d};c.prototype._logTicks=function(a,b){var c=this,d=this._howManyTicks(a,b);if(0===d)return[];var e=Math.floor(Math.log(a)/Math.log(this._base)),k=Math.ceil(Math.log(b)/Math.log(this._base));d=f.range(k,e,-Math.ceil((k-e)/d));e=f.range(this._base,
1,-(this._base-1)).map(Math.floor);var l=g.Array.uniq(e);d=d.map(function(a){return l.map(function(b){return Math.pow(c._base,a-1)*b})});return g.Array.flatten(d).filter(function(c){return a<=c&&c<=b}).sort(function(a,b){return a-b})};c.prototype._howManyTicks=function(a,b){var c=this._adjustedLog(g.Math.min(this._untransformedDomain,0)),d=this._adjustedLog(g.Math.max(this._untransformedDomain,0));return Math.ceil((this._adjustedLog(b)-this._adjustedLog(a))/(d-c)*k.ModifiedLog._DEFAULT_NUM_TICKS)};
c.prototype._niceDomain=function(a){return a};c.prototype._defaultExtent=function(){return[0,this._base]};c.prototype._expandSingleValueDomain=function(a){return a[0]===a[1]?(a=a[0],0<a?[a/this._base,a*this._base]:0===a?[-this._base,this._base]:[a*this._base,a/this._base]):a};c.prototype._getRange=function(){return this._d3Scale.range()};c.prototype._setRange=function(a){this._d3Scale.range(a)};c.prototype.defaultTicks=function(){return this._d3Scale.ticks(k.ModifiedLog._DEFAULT_NUM_TICKS)};return c}(d(11).QuantitativeScale);
c.ModifiedLog=a},function(a,c,d){var b=d(0);c.intervalTickGenerator=function(a){if(0>=a)throw Error("interval must be positive number");return function(c){c=c.domain();var d=Math.min(c[0],c[1]);c=Math.max(c[0],c[1]);var e=Math.ceil(d/a)*a;d=0===d%a?[]:[d];var f=b.Math.range(0,Math.floor((c-e)/a)+1).map(function(b){return e+b*a});return d.concat(f).concat(0===c%a?[]:[c])}};c.integerTickGenerator=function(){return function(a){var b=a.defaultTicks();return b.filter(function(a,c){return 0===a%1||0===
c||c===b.length-1})}}},function(a,c,d){var b=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},f=d(1),g=d(26);a=function(a){function c(){var b=a.call(this)||this;b._d3Scale=f.scaleTime();b.autoDomain();return b}b(c,a);c.prototype.tickInterval=function(a,b){void 0===b&&(b=1);var d=f.scaleTime();a=c.timeIntervalToD3Time(a).every(b);d.domain(this.domain());d.range(this.range());
return d.ticks(a)};c.prototype._setDomain=function(b){if(b[1]<b[0])throw Error("Scale.Time domain values must be in chronological order");return a.prototype._setDomain.call(this,b)};c.prototype._defaultExtent=function(){return[new Date("1970-01-01"),new Date("1970-01-02")]};c.prototype._expandSingleValueDomain=function(a){var b=a[0].getTime(),c=a[1].getTime();return b===c?(a=new Date(b),a.setDate(a.getDate()-1),c=new Date(c),c.setDate(c.getDate()+1),[a,c]):a};c.prototype.scale=function(a){return this._d3Scale(a)};
c.prototype.scaleTransformation=function(a){return this.scale(new Date(a))};c.prototype.invertedTransformation=function(a){return this.invert(a).getTime()};c.prototype.getTransformationDomain=function(){var a=this.domain();return[a[0].valueOf(),a[1].valueOf()]};c.prototype._getDomain=function(){return this._backingScaleDomain()};c.prototype._backingScaleDomain=function(a){if(null==a)return this._d3Scale.domain();this._d3Scale.domain(a);return this};c.prototype._getRange=function(){return this._d3Scale.range()};
c.prototype._setRange=function(a){this._d3Scale.range(a)};c.prototype.invert=function(a){return this._d3Scale.invert(a)};c.prototype.defaultTicks=function(){return this._d3Scale.ticks(c._DEFAULT_NUM_TICKS)};c.prototype._niceDomain=function(a){return this._d3Scale.copy().domain(a).nice().domain()};c.timeIntervalToD3Time=function(a){switch(a){case g.TimeInterval.second:return f.timeSecond;case g.TimeInterval.minute:return f.timeMinute;case g.TimeInterval.hour:return f.timeHour;case g.TimeInterval.day:return f.timeDay;
case g.TimeInterval.week:return f.timeWeek;case g.TimeInterval.month:return f.timeMonth;case g.TimeInterval.year:return f.timeYear;default:throw Error("TimeInterval specified does not exist: "+a);}};return c}(d(11).QuantitativeScale);c.Time=a},function(a,c,d){var b=d(1),f=Array;c.add=function(a,b){if(a.length!==b.length)throw Error("attempted to add arrays of unequal length");return a.map(function(c,d){return a[d]+b[d]})};c.uniq=function(a){var c=b.set(),d=[];a.forEach(function(a){c.has(String(a))||
(c.add(String(a)),d.push(a))});return d};c.flatten=function(a){return f.prototype.concat.apply([],a)};c.createFilledArray=function(a,b){for(var c=[],d=0;d<b;d++)c[d]="function"===typeof a?a(d):a;return c}},function(a,c){a=function(){function a(a,b,c){this.maxIndex=this.minIndex=this.exitIndex=this.entryIndex=a;this.bucketValue=b;this.maxValue=this.minValue=c}a.prototype.isInBucket=function(a){return a==this.bucketValue};a.prototype.addToBucket=function(a,b){a<this.minValue&&(this.minValue=a,this.minIndex=
b);a>this.maxValue&&(this.maxValue=a,this.maxIndex=b);this.exitIndex=b};a.prototype.getUniqueIndices=function(){var a=[this.entryIndex,this.maxIndex,this.minIndex,this.exitIndex];return a.filter(function(b,c){return 0==c||b!=a[c-1]})};return a}();c.Bucket=a},function(a,c,d){var b=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)};a=function(a){function c(){return null!==
a&&a.apply(this,arguments)||this}b(c,a);c.prototype.callCallbacks=function(){for(var a=this,b=[],c=0;c<arguments.length;c++)b[c]=arguments[c];this.forEach(function(c){c.apply(a,b)});return this};return c}(d(50).Set);c.CallbackSet=a},function(a,c,d){function b(a){function b(a){a/=255;return.03928>=a?a/12.92:g.pow((a+.055)/1.055,2.4)}a=f.rgb(a);return.2126*b(a.r)+.7152*b(a.g)+.0722*b(a.b)}var f=d(1),g=Math;c.contrast=function(a,c){a=b(a)+.05;c=b(c)+.05;return a>c?a/c:c/a};c.lightenColor=function(a,
b){return f.color(a).brighter(b).rgb().toString()};c.colorTest=function(a,b){a.classed(b,!0);var c=a.style("background-color");if("transparent"===c)return null;c=/\((.+)\)/.exec(c)[1].split(",").map(function(a){a=+a;var b=a.toString(16);return 16>a?"0"+b:b});if(4===c.length&&"00"===c[3])return null;c="#"+c.join("");a.classed(b,!1);return c}},function(a,c,d){function b(a){if("number"===typeof a)return{min:a,max:a};if(a instanceof Object&&"min"in a&&"max"in a)return a;throw Error("input '"+a+"' can't be parsed as an Range");
}function f(a,b){a=a.getPropertyValue(b);return parseFloat(a)||0}var g=d(1),k=Math;c.contains=function(a,b){for(;null!=b&&b!==a;)b=b.parentNode;return b===a};c.elementBBox=function(a){try{var b=a.node().getBBox()}catch(t){b={x:0,y:0,width:0,height:0}}return b};c.SCREEN_REFRESH_RATE_MILLISECONDS=1E3/60;c.requestAnimationFramePolyfill=function(a){null!=window.requestAnimationFrame?window.requestAnimationFrame(a):setTimeout(a,c.SCREEN_REFRESH_RATE_MILLISECONDS)};c.elementWidth=function(a){a=a instanceof
g.selection?a.node():a;a=window.getComputedStyle(a);return f(a,"width")+f(a,"padding-left")+f(a,"padding-right")+f(a,"border-left-width")+f(a,"border-right-width")};c.elementHeight=function(a){a=a instanceof g.selection?a.node():a;a=window.getComputedStyle(a);return f(a,"height")+f(a,"padding-top")+f(a,"padding-bottom")+f(a,"border-top-width")+f(a,"border-bottom-width")};var l=/translate\s*\(\s*((?:[-+]?[0-9]*\.?[0-9]+))(?:(?:(?:\s+,?\s*)|(?:,\s*))((?:[-+]?[0-9]*\.?[0-9]+)))?\s*\)/,m=/rotate\s*\(\s*((?:[-+]?[0-9]*\.?[0-9]+))\s*\)/,
n=/scale\s*\(\s*((?:[-+]?[0-9]*\.?[0-9]+))(?:(?:(?:\s+,?\s*)|(?:,\s*))((?:[-+]?[0-9]*\.?[0-9]+)))?\s*\)/;c.getTranslateValues=function(a){a=l.exec(a.attr("transform"));if(null!=a){var b=a[2];return[+a[1],+(void 0===b?0:b)]}return[0,0]};c.getRotate=function(a){a=m.exec(a.attr("transform"));return null!=a?+a[1]:0};c.getScaleValues=function(a){var b=n.exec(a.attr("transform"));return null!=b?(a=b[1],b=b[2],[+a,null==b?+a:+b]):[0,0]};c.clientRectsOverlap=function(a,b){return k.floor(a.right)<=k.ceil(b.left)||
k.ceil(a.left)>=k.floor(b.right)||k.floor(a.bottom)<=k.ceil(b.top)||k.ceil(a.top)>=k.floor(b.bottom)?!1:!0};c.expandRect=function(a,b){return{left:a.left-b,top:a.top-b,right:a.right+b,bottom:a.bottom+b,width:a.width+2*b,height:a.height+2*b}};c.clientRectInside=function(a,b){return k.floor(b.left)<=k.ceil(a.left)&&k.floor(b.top)<=k.ceil(a.top)&&k.floor(a.right)<=k.ceil(b.right)&&k.floor(a.bottom)<=k.ceil(b.bottom)};c.intersectsBBox=function(a,c,d,e){void 0===e&&(e=.5);a=b(a);c=b(c);return d.x+d.width>=
a.min-e&&d.x<=a.max+e&&d.y+d.height>=c.min-e&&d.y<=c.max+e}},function(a,c,d){var b=d(1),f=d(33);a=function(){function a(){this._entities=[];this._tree=b.quadtree().x(function(a){return Math.floor(a.position.x)}).y(function(a){return Math.floor(a.position.y)})}a.prototype.addAll=function(a,b){(d=this._entities).push.apply(d,a);if(void 0!==b)for(d=0;d<a.length;d++){var c=a[d];f.within(c.position,b)&&this._tree.add(c)}else this._tree.addAll(a);var d};a.prototype.entityNearest=function(a){return this._tree.find(a.x,
a.y)};a.prototype.entities=function(){return this._entities};return a}();c.EntityStore=a},function(a,c,d){var b=d(33);a=function(){function a(){"function"===typeof window.Map?this._es6Map=new window.Map:this._keyValuePairs=[]}a.prototype.set=function(a,c){if(b.isNaN(a))throw Error("NaN may not be used as a key to the Map");if(null!=this._es6Map)return this._es6Map.set(a,c),this;for(var d=0;d<this._keyValuePairs.length;d++)if(this._keyValuePairs[d].key===a)return this._keyValuePairs[d].value=c,this;
this._keyValuePairs.push({key:a,value:c});return this};a.prototype.get=function(a){if(null!=this._es6Map)return this._es6Map.get(a);for(var b=0;b<this._keyValuePairs.length;b++)if(this._keyValuePairs[b].key===a)return this._keyValuePairs[b].value};a.prototype.has=function(a){if(null!=this._es6Map)return this._es6Map.has(a);for(var b=0;b<this._keyValuePairs.length;b++)if(this._keyValuePairs[b].key===a)return!0;return!1};a.prototype.forEach=function(a,b){var c=this;null!=this._es6Map?this._es6Map.forEach(function(d,
e){return a.call(b,d,e,c)},b):this._keyValuePairs.forEach(function(d){a.call(b,d.value,d.key,c)})};a.prototype.delete=function(a){if(null!=this._es6Map)return this._es6Map.delete(a);for(var b=0;b<this._keyValuePairs.length;b++)if(this._keyValuePairs[b].key===a)return this._keyValuePairs.splice(b,1),!0;return!1};return a}();c.Map=a},function(a,c,d){var b=d(1),f=d(0);a=d(9);c.IStackingOrder=a.makeEnum(["topdown","bottomup"]);var g=Math;c.stack=function(a,c,d,e){void 0===e&&(e="bottomup");var g=b.map(),
k=b.map(),l=new f.Map;"topdown"===e&&(a=a.slice(),a.reverse());a.forEach(function(a){var b=new f.Map;a.data().forEach(function(e,f){var l=String(c(e,f,a)),m=+d(e,f,a),p=0<=m?g:k;if(p.has(l)){var n=p.get(l);p.set(l,n+m)}else n=0,p.set(l,m);b.set(l,{offset:n,value:m,axisValue:c(e,f,a)})});l.set(a,b)});return l};c.stackedExtents=function(a){var b=new f.Map,c=new f.Map;a.forEach(function(a){a.forEach(function(a,d){var e=f.Math.max([a.offset+a.value,a.offset],a.offset),g=f.Math.min([a.offset+a.value,a.offset],
a.offset);b.has(d)?b.get(d).extent<e&&b.set(d,{extent:e,axisValue:a.axisValue}):b.set(d,{extent:e,axisValue:a.axisValue});c.has(d)?c.get(d).extent>g&&c.set(d,{extent:g,axisValue:a.axisValue}):c.set(d,{extent:g,axisValue:a.axisValue})})});return{maximumExtents:b,minimumExtents:c}};c.stackedExtent=function(a,b,c){var d=[];a.forEach(function(a,e){e.data().forEach(function(f,g){if(null==c||c(f,g,e))f=a.get(String(b(f,g,e))),d.push(f.value+f.offset)})});a=f.Math.max(d,0);var e=f.Math.min(d,0);return[g.min(e,
0),g.max(0,a)]};c.normalizeKey=function(a){return String(a)}},function(a,c,d){function b(a,b,c){a.styles({left:b+"px",top:c+"px"});a.attrs({x:""+b,y:""+c})}var f=d(1),g=d(0);c.getTranslator=function(a){a=a.root().rootElement().node();var b=a.__Plottable_ClientTranslator;null==b&&(b=document.createElementNS(a.namespaceURI,"svg"),b.setAttribute("class","measurer"),b.setAttribute("style","opacity: 0; visibility: hidden; position: absolute; width: 1px; height: 1px;"),a.appendChild(b),b=new k(f.select(b)),
a.__Plottable_ClientTranslator=b);return b};var k=function(){function a(a){this._measurementElement=a}a.prototype.computePosition=function(c,d){b(this._measurementElement,0,0);var e=this._measurementElement.node().getBoundingClientRect(),f=e.left,g=e.top;b(this._measurementElement,a.SAMPLE_DISTANCE,a.SAMPLE_DISTANCE);e=this._measurementElement.node().getBoundingClientRect();var k=e.left;e=e.top;if(f===k||g===e)return null;k=(k-f)/a.SAMPLE_DISTANCE;var l=(e-g)/a.SAMPLE_DISTANCE;b(this._measurementElement,
(c-f)/k,(d-g)/l);e=this._measurementElement.node().getBoundingClientRect();return{x:(e.left-f)/k,y:(e.top-g)/l}};a.prototype.isInside=function(a,b){return g.DOM.contains(a.root().rootElement().node(),b.target)};return a}();k.SAMPLE_DISTANCE=100;c.Translator=k},function(a,c,d){Object.defineProperty(c,"__esModule",{value:!0});var b=d(115);d.d(c,"easeLinear",function(){return b.a});var f=d(117);d.d(c,"easeQuad",function(){return f.a});d.d(c,"easeQuadIn",function(){return f.b});d.d(c,"easeQuadOut",function(){return f.c});
d.d(c,"easeQuadInOut",function(){return f.a});var g=d(112);d.d(c,"easeCubic",function(){return g.a});d.d(c,"easeCubicIn",function(){return g.b});d.d(c,"easeCubicOut",function(){return g.c});d.d(c,"easeCubicInOut",function(){return g.a});var k=d(116);d.d(c,"easePoly",function(){return k.a});d.d(c,"easePolyIn",function(){return k.b});d.d(c,"easePolyOut",function(){return k.c});d.d(c,"easePolyInOut",function(){return k.a});var l=d(118);d.d(c,"easeSin",function(){return l.a});d.d(c,"easeSinIn",function(){return l.b});
d.d(c,"easeSinOut",function(){return l.c});d.d(c,"easeSinInOut",function(){return l.a});var m=d(114);d.d(c,"easeExp",function(){return m.a});d.d(c,"easeExpIn",function(){return m.b});d.d(c,"easeExpOut",function(){return m.c});d.d(c,"easeExpInOut",function(){return m.a});var n=d(111);d.d(c,"easeCircle",function(){return n.a});d.d(c,"easeCircleIn",function(){return n.b});d.d(c,"easeCircleOut",function(){return n.c});d.d(c,"easeCircleInOut",function(){return n.a});var q=d(110);d.d(c,"easeBounce",function(){return q.a});
d.d(c,"easeBounceIn",function(){return q.b});d.d(c,"easeBounceOut",function(){return q.a});d.d(c,"easeBounceInOut",function(){return q.c});var p=d(109);d.d(c,"easeBack",function(){return p.a});d.d(c,"easeBackIn",function(){return p.b});d.d(c,"easeBackOut",function(){return p.c});d.d(c,"easeBackInOut",function(){return p.a});var t=d(113);d.d(c,"easeElastic",function(){return t.a});d.d(c,"easeElasticIn",function(){return t.b});d.d(c,"easeElasticOut",function(){return t.a});d.d(c,"easeElasticInOut",
function(){return t.c})},function(a,c,d){d.d(c,"b",function(){return b});d.d(c,"c",function(){return f});d.d(c,"a",function(){return g});var b=function l(a){function b(b){return b*b*((a+1)*b-a)}a=+a;b.overshoot=l;return b}(1.70158),f=function m(a){function b(b){return--b*b*((a+1)*b+a)+1}a=+a;b.overshoot=m;return b}(1.70158),g=function n(a){function b(b){return(1>(b*=2)?b*b*((a+1)*b-a):(b-=2)*b*((a+1)*b+a)+2)/2}a=+a;b.overshoot=n;return b}(1.70158)},function(a,c){function b(a){return(a=+a)<e?t*a*a:
a<g?t*(a-=f)*a+k:a<m?t*(a-=l)*a+n:t*(a-=q)*a+p}c.b=function(a){return 1-b(1-a)};c.a=b;c.c=function(a){return(1>=(a*=2)?1-b(1-a):b(a-1)+1)/2};var e=4/11,f=6/11,g=8/11,k=.75,l=9/11,m=10/11,n=.9375,q=21/22,p=.984375,t=1/e/e},function(a,c){c.b=function(a){return 1-Math.sqrt(1-a*a)};c.c=function(a){return Math.sqrt(1- --a*a)};c.a=function(a){return(1>=(a*=2)?1-Math.sqrt(1-a*a):Math.sqrt(1-(a-=2)*a)+1)/2}},function(a,c){c.b=function(a){return a*a*a};c.c=function(a){return--a*a*a+1};c.a=function(a){return(1>=
(a*=2)?a*a*a:(a-=2)*a*a+2)/2}},function(a,c,d){d.d(c,"b",function(){return f});d.d(c,"a",function(){return g});d.d(c,"c",function(){return k});var b=2*Math.PI,f=function m(a,c){function d(b){return a*Math.pow(2,10*--b)*Math.sin((e-b)/c)}var e=Math.asin(1/(a=Math.max(1,a)))*(c/=b);d.amplitude=function(a){return m(a,c*b)};d.period=function(b){return m(a,b)};return d}(1,.3),g=function n(a,c){function d(b){return 1-a*Math.pow(2,-10*(b=+b))*Math.sin((b+e)/c)}var e=Math.asin(1/(a=Math.max(1,a)))*(c/=b);
d.amplitude=function(a){return n(a,c*b)};d.period=function(b){return n(a,b)};return d}(1,.3),k=function q(a,c){function d(b){return(0>(b=2*b-1)?a*Math.pow(2,10*b)*Math.sin((e-b)/c):2-a*Math.pow(2,-10*b)*Math.sin((e+b)/c))/2}var e=Math.asin(1/(a=Math.max(1,a)))*(c/=b);d.amplitude=function(a){return q(a,c*b)};d.period=function(b){return q(a,b)};return d}(1,.3)},function(a,c){c.b=function(a){return Math.pow(2,10*a-10)};c.c=function(a){return 1-Math.pow(2,-10*a)};c.a=function(a){return(1>=(a*=2)?Math.pow(2,
10*a-10):2-Math.pow(2,10-10*a))/2}},function(a,c){c.a=function(a){return+a}},function(a,c,d){d.d(c,"b",function(){return b});d.d(c,"c",function(){return f});d.d(c,"a",function(){return g});var b=function l(a){function b(b){return Math.pow(b,a)}a=+a;b.exponent=l;return b}(3),f=function m(a){function b(b){return 1-Math.pow(1-b,a)}a=+a;b.exponent=m;return b}(3),g=function n(a){function b(b){return(1>=(b*=2)?Math.pow(b,a):2-Math.pow(2-b,a))/2}a=+a;b.exponent=n;return b}(3)},function(a,c){c.b=function(a){return a*
a};c.c=function(a){return a*(2-a)};c.a=function(a){return(1>=(a*=2)?a*a:--a*(2-a)+1)/2}},function(a,c){c.b=function(a){return 1-Math.cos(a*e)};c.c=function(a){return Math.sin(a*e)};c.a=function(a){return(1-Math.cos(b*a))/2};var b=Math.PI,e=b/2},function(a,c){a=function(){function a(a,b,c){void 0===b&&(b=10);void 0===c&&(c={});var d=this;this.ctx=a;this.lineHeight=b;this.style=c;this.createRuler=function(){return function(a){d.ctx.font=d.style.font;return{width:d.ctx.measureText(a).width,height:d.lineHeight}}};
this.createPen=function(a,b,c){null==c&&(c=d.ctx);c.save();c.translate(b.translate[0],b.translate[1]);c.rotate(b.rotate*Math.PI/180);return d.createCanvasPen(c)};void 0===this.style.fill&&(this.style.fill="#444")}a.prototype.createCanvasPen=function(a){var b=this;return{destroy:function(){a.restore()},write:function(c,d,e,f){a.textAlign=d;null!=b.style.font&&(a.font=b.style.font);null!=b.style.fill&&(a.fillStyle=b.style.fill,a.fillText(c,e,f));null!=b.style.stroke&&(a.strokeStyle=b.style.fill,a.strokeText(c,
e,f))}}};return a}();c.CanvasContext=a},function(a,c){var b=function(){function a(){}a.append=function(b,c){for(var d=[],e=2;e<arguments.length;e++)d[e-2]=arguments[e];d=a.create.apply(a,[c].concat(d));b.appendChild(d);return d};a.create=function(b){for(var c=[],d=1;d<arguments.length;d++)c[d-1]=arguments[d];d=document.createElementNS(a.SVG_NS,b);a.addClasses.apply(a,[d].concat(c));return d};a.addClasses=function(a){for(var b=[],c=1;c<arguments.length;c++)b[c-1]=arguments[c];b=b.filter(function(a){return null!=
a});null!=a.classList?b.forEach(function(b){a.classList.add(b)}):a.setAttribute("class",b.join(" "))};a.getDimensions=function(a){if(a.getBBox)try{var b=a.getBBox();return{width:b.width,height:b.height}}catch(k){}return{height:0,width:0}};return a}();b.SVG_NS="http://www.w3.org/2000/svg";c.SvgUtils=b;a=function(){function a(a,c,d){void 0===d&&(d=!1);var e=this;this.element=a;this.className=c;this.addTitleElement=d;this.createRuler=function(){var a=e.getTextElements(e.element),c=a.parentElement,d=
a.containerElement,f=a.textElement;return function(a){c.appendChild(d);f.textContent=a;a=b.getDimensions(f);c.removeChild(d);return a}};this.createPen=function(a,c,d){null==d&&(d=e.element);d=b.append(d,"g","text-container",e.className);e.addTitleElement&&(b.append(d,"title").textContent=a,d.setAttribute("title",a));a=b.append(d,"g","text-area");a.setAttribute("transform","translate("+c.translate[0]+","+c.translate[1]+")"+("rotate("+c.rotate+")"));return e.createSvgLinePen(a)}}a.prototype.setAddTitleElement=
function(a){this.addTitleElement=a};a.prototype.createSvgLinePen=function(a){return{write:function(c,d,e,f){var g=b.append(a,"text","text-line");g.textContent=c;g.setAttribute("text-anchor",d);g.setAttribute("transform","translate("+e+","+f+")");g.setAttribute("y","-0.25em")}}};a.prototype.getTextElements=function(a){if("text"===a.tagName){var c=a.parentElement;null==c&&(c=a.parentNode);c.removeChild(a);return{containerElement:a,parentElement:c,textElement:a}}var d=a.querySelector("text");if(null!=
d)return c=a.parentElement,null==c&&(c=a.parentNode),c.removeChild(a),{containerElement:a,parentElement:c,textElement:d};c=b.create("text",this.className);return{containerElement:c,parentElement:a,textElement:c}};return a}();c.SvgContext=a},function(a,c,d){var b=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},f=d(20),g=d(34);a=function(a){function c(b){var c=a.call(this,
b)||this;c.dimCache=new f.Cache(function(a){return c._measureNotFromCache(a)});return c}b(c,a);c.prototype._measureNotFromCache=function(b){return a.prototype.measure.call(this,b)};c.prototype.measure=function(a){void 0===a&&(a=g.AbstractMeasurer.HEIGHT_TEXT);return this.dimCache.get(a)};c.prototype.reset=function(){this.dimCache.clear();a.prototype.reset.call(this)};return c}(d(52).CacheCharacterMeasurer);c.CacheMeasurer=a},function(a,c,d){var b=d(51),f=d(54),g=d(56),k=d(58);a=function(){function a(a){this.context=
a;this.measurer=new f.CacheMeasurer(this.context);this.wrapper=new g.Wrapper;this.writer=new k.Writer(this.measurer,this.context,this.wrapper)}a.svg=function(c,d,e){return new a(new b.SvgContext(c,d,e))};a.canvas=function(c,d,e){return new a(new b.CanvasContext(c,d,e))};a.prototype.write=function(a,b,c,d,e){this.writer.write(a,b,c,d,e)};a.prototype.clearMeasurerCache=function(){this.measurer.reset()};return a}();c.Typesetter=a},function(a,c){a=function(){function a(a){this.cache={};this.compute=a}
a.prototype.get=function(a){this.cache.hasOwnProperty(a)||(this.cache[a]=this.compute(a));return this.cache[a]};a.prototype.clear=function(){this.cache={};return this};return a}();c.Cache=a},function(a,c){a=function(){function a(){}a.arrayEq=function(a,b){if(null==a||null==b)return a===b;if(a.length!==b.length)return!1;for(var c=0;c<a.length;c++)if(a[c]!==b[c])return!1;return!0};a.objEq=function(b,c){if(null==b||null==c)return b===c;var d=Object.keys(b).sort(),e=Object.keys(c).sort(),f=d.map(function(a){return b[a]}),
m=e.map(function(a){return c[a]});return a.arrayEq(d,e)&&a.arrayEq(f,m)};a.strictEq=function(a,b){return a===b};a.defaults=function(a){for(var b=[],c=1;c<arguments.length;c++)b[c-1]=arguments[c];if(null==a)throw new TypeError("Cannot convert undefined or null to object");var d=Object(a);b.forEach(function(a){if(null!=a)for(var b in a)Object.prototype.hasOwnProperty.call(a,b)&&(d[b]=a[b])});return d};return a}();c.Methods=a},function(a,c){a=function(){function a(){}a.combineWhitespace=function(a){return a.replace(/[ \t]+/g,
" ")};a.isNotEmptyString=function(a){return a&&""!==a.trim()};a.trimStart=function(b,c){if(!b)return b;var d=c?function(b){return b.split(c).some(a.isNotEmptyString)}:a.isNotEmptyString;return b.split("").reduce(function(a,b){return d(a+b)?a+b:a},"")};a.trimEnd=function(b,c){if(!b)return b;b=b.split("");b.reverse();b=a.trimStart(b.join(""),c).split("");b.reverse();return b.join("")};return a}();c.StringMethods=a},function(a,c){a=function(){function a(){this.WordDividerRegExp=/\W/;this.WhitespaceRegExp=
/\s/}a.prototype.tokenize=function(a){var b=this;return a.split("").reduce(function(a,c){return a.slice(0,-1).concat(b.shouldCreateNewToken(a[a.length-1],c))},[""])};a.prototype.shouldCreateNewToken=function(a,b){if(!a)return[b];var c=a[a.length-1];return this.WhitespaceRegExp.test(c)&&this.WhitespaceRegExp.test(b)?[a+b]:this.WhitespaceRegExp.test(c)||this.WhitespaceRegExp.test(b)?[a,b]:this.WordDividerRegExp.test(c)||this.WordDividerRegExp.test(b)?c===b?[a+b]:[a,b]:[a+b]};return a}();c.Tokenizer=
a},function(a,c,d){var b=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)};a=function(a){function c(){return a.apply(this,arguments)||this}b(c,a);c.prototype.wrap=function(b,d,e,f){void 0===f&&(f=Infinity);if(1<b.split("\n").length)throw Error("SingleLineWrapper is designed to work only on single line");var g=a.prototype.wrap.call(this,b,d,e,f);if(2>g.noLines)return g;
for(var k=0,l=0;l<c.NO_WRAP_ITERATIONS&&e>k;++l){var m=(e+k)/2,n=a.prototype.wrap.call(this,b,d,m,f);this.areSameResults(g,n)?(e=m,g=n):k=m}return g};c.prototype.areSameResults=function(a,b){return a.noLines===b.noLines&&a.truncatedText===b.truncatedText};return c}(d(57).Wrapper);a.NO_WRAP_ITERATIONS=5;c.SingleLineWrapper=a},function(a,c,d){var b=d(20),f={textRotation:0,textShear:0,xAlign:"left",yAlign:"top"};a=function(){function a(a,b,c){this._measurer=a;this._penFactory=b;this._wrapper=c}a.prototype.measurer=
function(a){this._measurer=a;return this};a.prototype.wrapper=function(a){this._wrapper=a;return this};a.prototype.penFactory=function(a){this._penFactory=a;return this};a.prototype.write=function(c,d,e,g,q){void 0===g&&(g={});g=b.Methods.defaults({},f,g);if(-1===a.SupportedRotation.indexOf(g.textRotation))throw Error("unsupported rotation - "+g.textRotation+". Supported rotations are "+a.SupportedRotation.join(", "));if(null!=g.textShear&&-80>g.textShear||80<g.textShear)throw Error("unsupported shear angle - "+
g.textShear+". Must be between -80 and 80");var k=45<Math.abs(Math.abs(g.textRotation)-90),l=k?d:e,m=k?e:d,n=g.textShear,v=n*Math.PI/180;k=this._measurer.measure().height;var z=k*Math.tan(v);l=l/Math.cos(v)-Math.abs(z);var w=m*Math.cos(v);m=b.StringMethods.combineWhitespace(c);m=(this._wrapper?this._wrapper.wrap(m,this._measurer,l,w).wrappedText:m).split("\n");v=a.XOffsetFactor[g.xAlign]*l*Math.sin(v)-a.YOffsetFactor[g.yAlign]*(w-m.length*k);n=g.textRotation+n;switch(g.textRotation){case 90:d=[d+
v,0];break;case -90:d=[-v,e];break;case 180:d=[d,e+v];break;default:d=[0,-v]}c=this._penFactory.createPen(c,{translate:d,rotate:n},q);this.writeLines(m,c,l,k,z,g.xAlign);null!=c.destroy&&c.destroy()};a.prototype.writeLines=function(b,c,d,e,f,g){b.forEach(function(b,k){c.write(b,a.AnchorConverter[g],(0<f?(k+1)*f:k*f)+d*a.XOffsetFactor[g],(k+1)*e)})};return a}();a.SupportedRotation=[-90,0,180,90];a.AnchorConverter={center:"middle",left:"start",right:"end"};a.XOffsetFactor={center:.5,left:0,right:1};
a.YOffsetFactor={bottom:1,center:.5,top:0};c.Writer=a},function(a,c,d){function b(a){for(var b in a)c.hasOwnProperty(b)||(c[b]=a[b])}d(63);a=d(7);c.Animators=a;a=d(59);c.Axes=a;a=d(35);c.Components=a;a=d(22);c.Configs=a;a=d(10);c.Formatters=a;a=d(28);c.RenderController=a;a=d(36);c.RenderPolicies=a;a=d(29);c.SymbolFactories=a;a=d(13);c.Dispatchers=a;a=d(62);c.Drawers=a;a=d(14);c.Interactions=a;a=d(17);c.Plots=a;a=d(3);c.Scales=a;a=d(0);c.Utils=a;b(d(21));a=d(26);c.TimeInterval=a.TimeInterval;b(d(4));
b(d(27));b(d(60));a=d(61);c.version=a.version;b(d(23));b(d(6));b(d(15));b(d(37));b(d(16));b(d(2));b(d(11));b(d(18))}])}"object"===typeof exports&&"object"===typeof module?module.exports=ic(require("d3")):"function"===typeof define&&define.amd?define(["d3"],ic):"object"===typeof exports?exports.Plottable=ic(require("d3")):this.Plottable=ic(this.d3);
</script>
<style>
.plottable-colors-0 {
  background-color: #5279c7; /* INDIGO */
}

.plottable-colors-1 {
  background-color: #fd373e; /* CORAL_RED */
}

.plottable-colors-2 {
  background-color: #63c261; /* FERN */
}

.plottable-colors-3 {
  background-color: #fad419; /* BRIGHT_SUN */
}

.plottable-colors-4 {
  background-color: #2c2b6f; /* JACARTA */
}

.plottable-colors-5 {
  background-color: #ff7939; /* BURNING_ORANGE */
}

.plottable-colors-6 {
  background-color: #db2e65; /* CERISE_RED */
}

.plottable-colors-7 {
  background-color: #99ce50; /* CONIFER */
}

.plottable-colors-8 {
  background-color: #962565; /* ROYAL_HEATH */
}

.plottable-colors-9 {
  background-color: #06cccc; /* ROBINS_EGG_BLUE */
}

/**
 * User-supplied renderTo element.
 */
.plottable {
  display: block; /* must be block elements for width/height calculations to work in Firefox. */
  pointer-events: visibleFill;
  position: relative;
  /**
   * Pre 3.0, users could set the dimension of the root element in two ways: either using CSS
   * (inline or through a stylesheet), or using the SVG width/height attributes. By default, we
   * set the SVG width/height attributes to 100%.
   *
   * Post 3.0 the root element is always a normal div and the only way to set the dimensions is
   * to use CSS. To replicate the "100%-by-default" behavior, we apply width/height 100%.
   */
  width: 100%;
  height: 100%;
}

/**
 * The _element that roots each Component's DOM.
 */
.plottable .component {
  /* Allow components to be positioned with explicit left/top/width/height styles */
  position: absolute;
}

.plottable .background-container,
.plottable .content,
.plottable .foreground-container {
  position: absolute;
  width: 100%;
  height: 100%;
}

/**
 * Don't allow svg elements above the content to steal events
 */
.plottable .foreground-container {
  pointer-events: none;
}

.plottable .component-overflow-hidden {
  overflow: hidden;
}

.plottable .component-overflow-visible {
  overflow: visible;
}

.plottable .plot-canvas-container {
  width: 100%;
  height: 100%;
  overflow: hidden;
}

.plottable .plot-canvas {
  width: 100%;
  height: 100%;
  /**
   * Play well with deferred rendering.
   */
  transform-origin: 0px 0px 0px;
}

.plottable .label text {
  font-family: "Helvetica Neue", sans-serif;
  fill: #32313F;
}

.plottable .bar-label-text-area text {
  font-family: "Helvetica Neue", sans-serif;
  font-size: 12px;
}

.plottable .label-area text {
  fill: #32313F;
  font-family: "Helvetica Neue", sans-serif;
  font-size: 14px;
}

.plottable .light-label text {
  fill: white;
}

.plottable .dark-label text {
  fill: #32313F;
}

.plottable .off-bar-label text {
  fill: #32313F;
}

.plottable .stacked-bar-label text {
  fill: #32313F;
  font-style: normal;
}

.plottable .stacked-bar-plot .off-bar-label {
  /* HACKHACK #2795: correct off-bar label logic to be implemented on StackedBar */
  visibility: hidden !important;
}

.plottable .axis-label text {
  font-size: 10px;
  font-weight: bold;
  letter-spacing: 1px;
  line-height: normal;
  text-transform: uppercase;
}

.plottable .title-label text {
  font-size: 20px;
  font-weight: bold;
}

.plottable .axis line.baseline {
  stroke: #CCC;
  stroke-width: 1px;
}

.plottable .axis line.tick-mark {
  stroke: #CCC;
  stroke-width: 1px;
}

.plottable .axis text {
  fill: #32313F;
  font-family: "Helvetica Neue", sans-serif;
  font-size: 12px;
  font-weight: 200;
  line-height: normal;
}

.plottable .axis .annotation-circle {
  fill: white;
  stroke-width: 1px;
  stroke: #CCC;
}

.plottable .axis .annotation-line {
  stroke: #CCC;
  stroke-width: 1px;
}

.plottable .axis .annotation-rect {
  stroke: #CCC;
  stroke-width: 1px;
  fill: white;
}

.plottable .bar-plot .baseline {
  stroke: #999;
}

.plottable .gridlines line {
  stroke: #3C3C3C; /* hackhack: gridlines should be solid; see #820 */
  opacity: 0.25;
  stroke-width: 1px;
}

.plottable .selection-box-layer .selection-area {
  fill: black;
  fill-opacity: 0.03;
  stroke: #CCC;
}
/* DragBoxLayer */
.plottable .drag-box-layer.x-resizable .drag-edge-lr {
  cursor: ew-resize;
}
.plottable .drag-box-layer.y-resizable .drag-edge-tb {
  cursor: ns-resize;
}

.plottable .drag-box-layer.x-resizable.y-resizable .drag-corner-tl {
  cursor: nwse-resize;
}
.plottable .drag-box-layer.x-resizable.y-resizable .drag-corner-tr {
  cursor: nesw-resize;
}
.plottable .drag-box-layer.x-resizable.y-resizable .drag-corner-bl {
  cursor: nesw-resize;
}
.plottable .drag-box-layer.x-resizable.y-resizable .drag-corner-br {
  cursor: nwse-resize;
}

.plottable .drag-box-layer.movable .selection-area {
  cursor: move; /* IE fallback */
  cursor: -moz-grab;
  cursor: -webkit-grab;
  cursor: grab;
}

.plottable .drag-box-layer.movable .selection-area:active {
  cursor: -moz-grabbing;
  cursor: -webkit-grabbing;
  cursor: grabbing;
}
/* /DragBoxLayer */

.plottable .guide-line-layer line.guide-line {
  stroke: #CCC;
  stroke-width: 1px;
}

.plottable .drag-line-layer.enabled.vertical line.drag-edge {
  cursor: ew-resize;
}

.plottable .drag-line-layer.enabled.horizontal line.drag-edge {
  cursor: ns-resize;
}

.plottable .legend text {
  fill: #32313F;
  font-family: "Helvetica Neue", sans-serif;
  font-size: 12px;
  font-weight: bold;
  line-height: normal;
}

.plottable .interpolated-color-legend rect.swatch-bounding-box {
  fill: none;
  stroke: #CCC;
  stroke-width: 1px;
  pointer-events: none;
}

.plottable .waterfall-plot line.connector {
  stroke: #CCC;
  stroke-width: 1px;
}

.plottable .pie-plot .arc.outline {
  stroke-linejoin: round;
}
</style>



<dom-module id="vz-line-chart">
  <template></template>
  <script>//~~WEBPATH~~/vz-line-chart/vz-chart-helpers.js
function jc(a){return function(b){var c=Math.abs(b);1E-15>c&&(c=0);return(1E4<=c?d3.format("."+a+"e"):0<c&&.01>c?d3.format("."+a+"e"):d3.format("."+a+"g"))(b)}}function kc(a,b){a=a.filter(function(a){return isFinite(a)});if(0===a.length)return[-.1,1.1];b?(a=_.sortBy(a),b=d3.quantile(a,.05),a=d3.quantile(a,.95)):(b=d3.min(a),a=d3.max(a));var c=a-b;var d=0===c?1.1*Math.abs(b)+1.1:.2*c;b=[0<=b&&b<c?-.1*a:b-d,a+d];return b=d3.scaleLinear().domain(b).nice().domain()}var lc=Plottable.Formatters.siSuffix();
function oc(){var a=new Plottable.Scales.Linear,b=new Plottable.Axes.Numeric(a,"bottom");b.formatter(lc);return{scale:a,axis:b,accessor:function(a){return a.step}}}var pc=Plottable.Formatters.time("%a %b %e, %H:%M:%S");function qc(){var a=new Plottable.Scales.Time;return{scale:a,axis:new Plottable.Axes.Time(a,"bottom"),accessor:function(a){return a.wall_time}}}function rc(a,b,c){if(null!=a.relative)return a.relative;b=c.data();return(+a.wall_time-(0<b.length?+b[0].wall_time:0))/36E5}
function sc(a){switch(a){case "step":return oc();case "wall_time":return qc();case "relative":return a=new Plottable.Scales.Linear,{scale:a,axis:new Plottable.Axes.Numeric(a,"bottom"),accessor:rc};default:throw Error("invalid xType: "+a);}};
</script>
  <script>//~~WEBPATH~~/vz-line-chart/dragZoomInteraction.js
var tc=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var b in c)c.hasOwnProperty(b)&&(a[b]=c[b])};return function(b,c){function d(){this.constructor=b}a(b,c);b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),uc=function(a){function b(b,d,e){var c=a.call(this)||this;c.easeFn=d3.easeCubicInOut;c._animationTime=750;c.xScale(b);c.yScale(d);c._dragInteraction=new Plottable.Interactions.Drag;
c._dragInteraction.attachTo(c);c._doubleClickInteraction=new Plottable.Interactions.Click;c._doubleClickInteraction.attachTo(c);c.setupCallbacks();c.unzoomMethod=e;return c}tc(b,a);b.prototype.interactionStart=function(a){this.onStart=a};b.prototype.interactionEnd=function(a){this.onEnd=a};b.prototype.setupCallbacks=function(){var a=this,b=!1;this._dragInteraction.onDragStart(function(b){a.bounds({topLeft:b,bottomRight:b});a.onStart()});this._dragInteraction.onDrag(function(c,d){a.bounds({topLeft:c,
bottomRight:d});a.boxVisible(!0);b=!0});this._dragInteraction.onDragEnd(function(c,d){a.boxVisible(!1);a.bounds({topLeft:c,bottomRight:d});if(b)a.zoom();else a.onEnd();b=!1});this._doubleClickInteraction.onDoubleClick(this.unzoom.bind(this))};b.prototype.animationTime=function(a){if(null==a)return this._animationTime;if(0>a)throw Error("animationTime cannot be negative");this._animationTime=a;return this};b.prototype.ease=function(a){if("function"!==typeof a)throw Error("ease function must be a function");
0===a(0)&&1===a(1)||Plottable.Utils.Window.warn("Easing function does not maintain invariant f(0)\x3d\x3d0 \x26\x26 f(1)\x3d\x3d1. Bad behavior may result.");this.easeFn=a;return this};b.prototype.zoom=function(){var a=this.xExtent()[0].valueOf(),b=this.xExtent()[1].valueOf(),e=this.yExtent()[1].valueOf(),f=this.yExtent()[0].valueOf();a!==b&&e!==f&&this.interpolateZoom(a,b,e,f)};b.prototype.unzoom=function(){var a=this.xScale();a._domainMin=null;a._domainMax=null;a=a._getExtent();this.xScale().domain(a);
this.unzoomMethod()};b.prototype.isZooming=function(a){this._dragInteraction.enabled(!a);this._doubleClickInteraction.enabled(!a)};b.prototype.interpolateZoom=function(a,b,e,f){function c(){var g=Date.now()-r;g=0===l._animationTime?1:Math.min(1,g/l._animationTime);var k=d(m,a,g),t=d(n,b,g),w=d(q,e,g),A=d(p,f,g);l.xScale().domain([k,t]);l.yScale().domain([w,A]);1>g?Plottable.Utils.DOM.requestAnimationFramePolyfill(c):(l.onEnd(),l.isZooming(!1))}function d(a,b,c){return d3.interpolateNumber(a,b)(t(c))}
var l=this,m=this.xScale().domain()[0].valueOf(),n=this.xScale().domain()[1].valueOf(),q=this.yScale().domain()[0].valueOf(),p=this.yScale().domain()[1].valueOf(),t=this.easeFn;this.isZooming(!0);var r=Date.now();c()};return b}(Plottable.Components.SelectionBoxLayer);
</script>
  <script>//~~WEBPATH~~/vz-line-chart/vz-line-chart.js
Polymer({is:"vz-line-chart",properties:{colorScale:{type:Object,value:function(){return(new Plottable.Scales.Color).range(d3.schemeCategory10)}},smoothingEnabled:{type:Boolean,notify:!0,value:!1},smoothingWeight:{type:Number,value:.6},xComponentsCreationMethod:{type:Object,value:function(){return oc}},yValueAccessor:{type:Object,value:function(){return function(a){return a.scalar}}},tooltipColumns:{type:Array,value:function(){function a(a){return isNaN(a)?"NaN":b(a)}var b=jc(4);return[{title:"Name",
evaluate:function(a){return a.dataset.metadata().name}},{title:"Smoothed",evaluate:function(b,d){return a(d.smoothingEnabled?b.datum.smoothed:b.datum.scalar)}},{title:"Value",evaluate:function(b){return a(b.datum.scalar)}},{title:"Step",evaluate:function(a){return lc(a.datum.step)}},{title:"Time",evaluate:function(a){return pc(a.datum.wall_time)}},{title:"Relative",evaluate:function(a){a=rc(a.datum,0,a.dataset);var b="",c=Math.floor(a/24);a-=24*c;c&&(b+=c+"d ");var f=Math.floor(a);a=60*(a-f);if(f||
c)b+=f+"h ";var g=Math.floor(a);a=60*(a-g);if(g||f||c)b+=g+"m ";return b+Math.floor(a)+"s"}}]}},defaultXRange:Array,defaultYRange:Array,_tooltipTableHeaderHtml:{type:String,computed:"_computeTooltipTableHeaderHtml(tooltipColumns)"},yScaleType:{type:String,value:"linear"},ignoreYOutliers:{type:Boolean,value:!1},tooltipSortingMethod:{type:String,value:"default"},tooltipPosition:{type:String,value:"bottom"},_attached:Boolean,_chart:Object,_visibleSeriesCache:{type:Array,value:function(){return[]}},_seriesDataCache:{type:Object,
value:function(){return{}}},_makeChartAsyncCallbackId:{type:Number,value:null}},observers:"_makeChart(xComponentsCreationMethod, yValueAccessor, yScaleType, tooltipColumns, colorScale, _attached);_reloadFromCache(_chart);_smoothingChanged(smoothingEnabled, smoothingWeight, _chart);_tooltipSortingMethodChanged(tooltipSortingMethod, _chart);_tooltipPositionChanged(tooltipPosition, _chart);_outliersChanged(ignoreYOutliers, _chart)".split(";"),setVisibleSeries:function(a){this._visibleSeriesCache=a;this._chart&&
(this._chart.setVisibleSeries(a),this.redraw())},setSeriesData:function(a,b){this._seriesDataCache[a]=b;this._chart&&this._chart.setSeriesData(a,b)},resetDomain:function(){this._chart&&this._chart.resetDomain()},redraw:function(){this._chart&&this._chart.redraw()},attached:function(){this._attached=!0},detached:function(){this._attached=!1},ready:function(){this.scopeSubtree(this.$.tooltip,!0);this.scopeSubtree(this.$.chartdiv,!0)},_makeChart:function(a,b,c,d,e){null!==this._makeChartAsyncCallbackId&&
(this.cancelAsync(this._makeChartAsyncCallbackId),this._makeChartAsyncCallbackId=null);this._makeChartAsyncCallbackId=this.async(function(){this._makeChartAsyncCallbackId=null;if(this._attached&&this.xComponentsCreationMethod&&this.yValueAccessor&&this.tooltipColumns){this._chart&&this._chart.destroy();var a=d3.select(this.$.tooltip);a=new vc(this.xComponentsCreationMethod,this.yValueAccessor,c,e,a,this.tooltipColumns,this.defaultXRange,this.defaultYRange);var b=d3.select(this.$.chartdiv);a.renderTo(b);
this._chart=a}},350)},_reloadFromCache:function(){this._chart&&(this._chart.setVisibleSeries(this._visibleSeriesCache),this._visibleSeriesCache.forEach(function(a){this._chart.setSeriesData(a,this._seriesDataCache[a]||[])}.bind(this)))},_smoothingChanged:function(){this._chart&&(this.smoothingEnabled?this._chart.smoothingUpdate(this.smoothingWeight):this._chart.smoothingDisable())},_outliersChanged:function(){this._chart&&this._chart.ignoreYOutliers(this.ignoreYOutliers)},_tooltipSortingMethodChanged:function(){this._chart&&
this._chart.setTooltipSortingMethod(this.tooltipSortingMethod)},_tooltipPositionChanged:function(){this._chart&&this._chart.setTooltipPosition(this.tooltipPosition)},_computeTooltipTableHeaderHtml:function(a){var b=this;return[""].concat(_.map(a,"title")).map(function(a){return"\x3cth\x3e"+b._sanitize(a)+"\x3c/th\x3e"}).join("")},_sanitize:function(a){return a.replace(/</g,"\x26lt;").replace(/>/g,"\x26gt;").replace(/&/g,"\x26amp;")}});
var vc=function(){function a(a,c,d,e,f,g,k,l){this.seriesNames=[];this.name2datasets={};this.colorScale=e;this.tooltip=f;this.datasets=[];this._ignoreYOutliers=!1;this.lastPointsDataset=new Plottable.Dataset;this.nanDataset=new Plottable.Dataset;this.yValueAccessor=c;this.onDatasetChanged=this._onDatasetChanged.bind(this);this._defaultXRange=k;this._defaultYRange=l;this.buildChart(a,c,d,g)}a.prototype.buildChart=function(b,c,d,e){this.outer&&this.outer.destroy();b=b();this.xAccessor=b.accessor;this.xScale=
b.scale;this.xAxis=b.axis;this.xAxis.margin(0).tickLabelPadding(3);this.yScale=a.getYScaleFromType(d);this.yAxis=new Plottable.Axes.Numeric(this.yScale,"left");d=jc(3);this.yAxis.margin(0).tickLabelPadding(5).formatter(d);this.yAxis.usesTextWidthApproximation();this.dzl=new uc(this.xScale,this.yScale,this.resetYDomain.bind(this));e=this.buildPlot(this.xScale,this.yScale,e);this.gridlines=new Plottable.Components.Gridlines(this.xScale,this.yScale);d=new Plottable.Components.GuideLineLayer("horizontal");
d.scale(this.yScale).value(0);b=new Plottable.Components.GuideLineLayer("vertical");b.scale(this.xScale).value(0);this.center=new Plottable.Components.Group([this.gridlines,d,b,e,this.dzl]);this.outer=new Plottable.Components.Table([[this.yAxis,this.center],[null,this.xAxis]])};a.prototype.buildPlot=function(a,c,d){var b=this;this.smoothedAccessor=function(a){return a.smoothed};var f=new Plottable.Plots.Line;f.x(this.xAccessor,a);f.y(this.yValueAccessor,c);f.attr("stroke",function(a,c,d){return b.colorScale.scale(d.metadata().name)});
this.linePlot=f;d=this.setupTooltips(f,d);f=new Plottable.Plots.Line;f.x(this.xAccessor,a);f.y(this.smoothedAccessor,c);f.attr("stroke",function(a,c,d){return b.colorScale.scale(d.metadata().name)});this.smoothLinePlot=f;var g=new Plottable.Plots.Scatter;g.x(this.xAccessor,a);g.y(this.yValueAccessor,c);g.attr("fill",function(a){return b.colorScale.scale(a.name)});g.attr("opacity",1);g.size(8);g.datasets([this.lastPointsDataset]);this.scatterPlot=g;var k=new Plottable.Plots.Scatter;k.x(this.xAccessor,
a);k.y(function(a){return a.displayY},c);k.attr("fill",function(a){return b.colorScale.scale(a.name)});k.attr("opacity",1);k.size(12);k.datasets([this.nanDataset]);k.symbol(Plottable.SymbolFactories.triangle);this.nanDisplay=k;return new Plottable.Components.Group([k,g,f,d])};a.prototype._onDatasetChanged=function(a){this.smoothingEnabled&&this.resmoothDataset(a);this.updateSpecialDatasets()};a.prototype.ignoreYOutliers=function(a){a!==this._ignoreYOutliers&&(this._ignoreYOutliers=a,this.updateSpecialDatasets(),
this.resetYDomain())};a.prototype.updateSpecialDatasets=function(){var a=this.getAccessor(),c=this.datasets.map(function(b){var c=null,d=b.data().filter(function(c){return!isNaN(a(c,-1,b))});0<d.length&&(c=d[d.length-1],c.name=b.metadata().name,c.relative=rc(c,0,b));return c}).filter(function(a){return null!=a});this.lastPointsDataset.data(c);c=_.flatten(this.datasets.map(function(b){for(var c=null,d=b.data(),g=0;g<d.length&&null==c;)isNaN(a(d[g],-1,b))||(c=a(d[g],-1,b)),g++;null==c&&(c=0);var k=
[];for(g=0;g<d.length;g++)isNaN(a(d[g],-1,b))?(d[g].name=b.metadata().name,d[g].displayY=c,d[g].relative=rc(d[g],0,b),k.push(d[g])):c=a(d[g],-1,b);return k}));this.nanDataset.data(c)};a.prototype.resetDomain=function(){this.resetXDomain();this.resetYDomain()};a.prototype.resetXDomain=function(){if(null!=this._defaultXRange)var a=this._defaultXRange;else a=this.xScale,a._domainMin=null,a._domainMax=null,a=a._getExtent();this.xScale.domain(a)};a.prototype.resetYDomain=function(){if(null!=this._defaultYRange)var a=
this._defaultYRange;else{var c=this.getAccessor();a=_.flatten(this.datasets.map(function(a){return a.data().map(function(b){return c(b,-1,a)})}));a=a.filter(function(a){return a===a&&Infinity!==a&&-Infinity!==a});a=kc(a,this._ignoreYOutliers)}this.yScale.domain(a)};a.prototype.getAccessor=function(){return this.smoothingEnabled?this.smoothedAccessor:this.yValueAccessor};a.prototype.setupTooltips=function(a,c){function b(){e.tooltip.style("opacity",0);e.scatterPlot.attr("opacity",1);g.content().selectAll(".point").remove()}
var e=this,f=new Plottable.Interactions.Pointer;f.attachTo(a);var g=new Plottable.Component,k=new Plottable.Components.Group([a,g]),l=!0;this.dzl.interactionStart(function(){l=!1;b()});this.dzl.interactionEnd(function(){l=!0});f.onPointerMove(function(d){if(l){var f={x:d.x,y:d.y,datum:null,dataset:null},k=e.gridlines.content().node().getBBox();d=a.datasets().map(function(a){return e.findClosestPoint(f,a)}).filter(function(a){return null!=a});var m=Plottable.Utils.DOM.intersectsBBox,t=d.filter(function(a){return m(a.x,
a.y,k)||isNaN(e.yValueAccessor(a.datum,0,a.dataset))}),r=t.filter(function(a){return!isNaN(e.yValueAccessor(a.datum,0,a.dataset))});r=g.content().selectAll(".point").data(r,function(a){return a.dataset.metadata().name});0!==d.length?(r.enter().append("circle").classed("point",!0),r.attr("r",4).attr("cx",function(a){return a.x}).attr("cy",function(a){return a.y}).style("stroke","none").attr("fill",function(a){return e.colorScale.scale(a.dataset.metadata().name)}),r.exit().remove(),e.drawTooltips(t,
f,c)):b()}});f.onPointerExit(b);return k};a.prototype.drawTooltips=function(a,c,d){function b(a){return Math.pow(a.x-c.x,2)+Math.pow(a.y-c.y,2)}var f=this;this.scatterPlot.attr("opacity",0);var g=_.min(a.map(b)),k=this.yValueAccessor;this.smoothingEnabled&&(k=this.smoothedAccessor);a="ascending"===this.tooltipSortingMethod?_.sortBy(a,function(a){return k(a.datum,-1,a.dataset)}):"descending"===this.tooltipSortingMethod?_.sortBy(a,function(a){return k(a.datum,-1,a.dataset)}).reverse():"nearest"===this.tooltipSortingMethod?
_.sortBy(a,b):a.slice(0).reverse();var l=this.tooltip.select("tbody").html("").selectAll("tr").data(a).enter().append("tr");l.classed("distant",function(a){var b=a.dataset.data()[0],d=_.last(a.dataset.data());b=f.xScale.scale(f.xAccessor(b,0,a.dataset));d=f.xScale.scale(f.xAccessor(d,0,a.dataset));a=f.smoothingEnabled?a.datum.smoothed:f.yValueAccessor(a.datum,0,a.dataset);return c.x<b||c.x>d||isNaN(a)});l.classed("closest",function(a){return b(a)===g});l.style("white-space","nowrap");l.append("td").append("span").classed("swatch",
!0).style("background-color",function(a){return f.colorScale.scale(a.dataset.metadata().name)});_.each(d,function(a){l.append("td").text(function(b){return a.evaluate(b,{smoothingEnabled:f.smoothingEnabled})})});d=document.body.clientWidth;var m=this.tooltip.node();a=m.parentElement.getBoundingClientRect();m=m.getBoundingClientRect();d=d-a.left-m.width-60;m=0;"right"===this.tooltipPosition?d=Math.min(a.width,d):(d=Math.min(0,d),m=a.height+20);this.tooltip.style("transform","translate("+d+"px,"+m+
"px)");this.tooltip.style("opacity",1)};a.prototype.findClosestPoint=function(a,c){var b=this,e=c.data().map(function(a,d){var e=b.xAccessor(a,d,c);d=b.smoothingEnabled?b.smoothedAccessor(a):b.yValueAccessor(a,d,c);return{x:b.xScale.scale(e),y:b.yScale.scale(d),datum:a,dataset:c}}),f=_.sortedIndex(e,a,function(a){return a.x});if(f===e.length)return e[e.length-1];if(0===f)return e[0];var g=e[f-1];e=e[f];return Math.abs(g.x-a.x)<Math.abs(e.x-a.x)?g:e};a.prototype.resmoothDataset=function(a){var b=this,
d=a.data(),e=this.smoothingWeight,f=0<d.length?0:NaN,g=0;d.forEach(function(c,d){d=b.yValueAccessor(c,d,a);_.isFinite(d)?(f=f*e+(1-e)*d,g++,d=1,1!==e&&(d=1-Math.pow(e,g)),c.smoothed=f/d):c.smoothed=d})};a.prototype.getDataset=function(a){void 0===this.name2datasets[a]&&(this.name2datasets[a]=new Plottable.Dataset([],{name:a}));return this.name2datasets[a]};a.getYScaleFromType=function(a){if("log"===a)return new Plottable.Scales.ModifiedLog;if("linear"===a)return new Plottable.Scales.Linear;throw Error("Unrecognized yScale type "+
a);};a.prototype.setVisibleSeries=function(a){var b=this;this.seriesNames=a=a.sort();a.reverse();this.datasets.forEach(function(a){return a.offUpdate(b.onDatasetChanged)});this.datasets=a.map(function(a){return b.getDataset(a)});this.datasets.forEach(function(a){return a.onUpdate(b.onDatasetChanged)});this.linePlot.datasets(this.datasets);this.smoothingEnabled&&this.smoothLinePlot.datasets(this.datasets);this.updateSpecialDatasets()};a.prototype.setSeriesData=function(a,c){this.getDataset(a).data(c)};
a.prototype.smoothingUpdate=function(a){var b=this;this.smoothingWeight=a;this.datasets.forEach(function(a){return b.resmoothDataset(a)});this.smoothingEnabled||(this.linePlot.addClass("ghost"),this.scatterPlot.y(this.smoothedAccessor,this.yScale),this.smoothingEnabled=!0,this.smoothLinePlot.datasets(this.datasets));this.updateSpecialDatasets()};a.prototype.smoothingDisable=function(){this.smoothingEnabled&&(this.linePlot.removeClass("ghost"),this.scatterPlot.y(this.yValueAccessor,this.yScale),this.smoothLinePlot.datasets([]),
this.smoothingEnabled=!1,this.updateSpecialDatasets())};a.prototype.setTooltipSortingMethod=function(a){this.tooltipSortingMethod=a};a.prototype.setTooltipPosition=function(a){this.tooltipPosition=a};a.prototype.renderTo=function(a){this.targetSVG=a;this.outer.renderTo(a);null!=this._defaultXRange&&this.resetXDomain();null!=this._defaultYRange&&this.resetYDomain()};a.prototype.redraw=function(){this.outer.redraw()};a.prototype.destroy=function(){this.outer.destroy()};return a}();
</script>
</dom-module>



<dom-module id="tf-line-chart-data-loader">
  <template></template>
  <script>//~~WEBPATH~~/tf-line-chart-data-loader/tf-line-chart-data-loader.html.js
var yc=[],Ac=_.throttle(function zc(){if(0<yc.length){var b=yc.shift();b.active&&(b.redraw(),b._maybeRenderedInBadState=!1);window.setTimeout(zc,32)}},100);
Polymer({is:"tf-line-chart-data-loader",properties:{runs:Array,tag:String,xComponentsCreationMethod:Object,xType:String,yValueAccessor:Object,tooltipColumns:Array,smoothingEnabled:Boolean,smoothingWeight:Number,tooltipSortingMethod:String,ignoreYOutliers:Boolean,defaultXRange:Array,defaultYRange:Array,processData:Object,active:{type:Boolean,observer:"_fixBadStateWhenActive"},requestManager:Object,dataUrl:Function,logScaleActive:{type:Boolean,observer:"_logScaleChanged"},_runsColorScale:{type:Object,
value:function(){return{scale:cc}}},_loading:{type:Boolean,value:!1},_resetDomainOnNextLoad:{type:Boolean,value:!0},_canceller:{type:Object,value:function(){return new fb}},_loadedRuns:{type:Object,value:function(){return{}}},_maybeRenderedInBadState:{type:Boolean,value:!1,reflectToAttribute:!0}},observers:["_tagChanged(_attached, tag)","_runsChanged(_attached, runs.*)"],created:function(){this._loadData=_.debounce(this._loadData,100,{leading:!0,trailing:!0})},attached:function(){this._attached=!0;
this._changeSeries()},reload:function(){this._loadedRuns={};this._loadData()},resetDomain:function(){var a=this.$$("vz-line-chart");a&&a.resetDomain()},setSeriesData:function(a,b){this.$$("vz-line-chart").setSeriesData(a,b)},redraw:function(){this.$$("vz-line-chart").redraw()},_tagChanged:function(){this._loadedRuns={};this._resetDomainOnNextLoad=!0;this._loadData()},_runsChanged:function(a){a&&(this.$$("vz-line-chart").setVisibleSeries(this.runs),this._loadData())},_loadData:function(){var a=this;
this.async(function(){if(a._attached){a._loading=!0;a._canceller.cancelAll();var b=a.tag,c=a.runs.map(function(c){if(a._loadedRuns[c])return Promise.resolve();var d=a.dataUrl(b,c),e=a._canceller.cancellable(function(d){d.cancelled||(b===a.tag&&(a._loadedRuns[c]=!0),a.processData(a,c,d.value))});return a.requestManager.request(d).then(e)}),d=a._canceller.cancellable(function(b){b.cancelled||(a._loading=!1,b=a.$$("vz-line-chart"),0<c.length&&a._resetDomainOnNextLoad&&(a._resetDomainOnNextLoad=!1,b.resetDomain()),
a.active?a.redraw():a._maybeRenderedInBadState=!0)});return Promise.all(c).then(d)}})},_changeSeries:function(){this.$$("vz-line-chart").setVisibleSeries(this.runs);this._loadData()},_logScaleChanged:function(a){this.$$("vz-line-chart").yScaleType=a?"log":"linear";this.redraw()},_computeLineChartStyle:function(a){return a?"opacity: 0.3;":""},_fixBadStateWhenActive:function(){this.active&&this._maybeRenderedInBadState&&(yc.push(this),Ac())}});
</script>
</dom-module>










<dom-module id="paper-dialog-scrollable">

  <template></template>

</dom-module>

<script>//~~WEBPATH~~/paper-dialog-scrollable/paper-dialog-scrollable.html.js
Polymer({is:"paper-dialog-scrollable",properties:{dialogElement:{type:Object}},listeners:{"scrollable.scroll":"_scroll"},get scrollTarget(){return this.$.scrollable},ready:function(){this._ensureTarget()},attached:function(){this.classList.add("no-padding");this._ensureTarget();requestAnimationFrame(this._scroll.bind(this))},_scroll:function(){this.toggleClass("is-scrolled",0<this.scrollTarget.scrollTop);this.toggleClass("can-scroll",this.scrollTarget.offsetHeight<this.scrollTarget.scrollHeight);
this.toggleClass("scrolled-to-bottom",this.scrollTarget.scrollTop+this.scrollTarget.offsetHeight>=this.scrollTarget.scrollHeight)},_ensureTarget:function(){(this.dialogElement=this.dialogElement||Polymer.dom(this).parentNode)&&this.dialogElement.behaviors&&0<=this.dialogElement.behaviors.indexOf(Polymer.PaperDialogBehaviorImpl)?(this.dialogElement.sizingTarget=this.scrollTarget,this.scrollTarget.classList.remove("fit")):this.dialogElement&&this.scrollTarget.classList.add("fit")}});
</script>





<dom-module id="tf-markdown-view">
  <template></template>
  <script>//~~WEBPATH~~/tf-markdown-view/tf-markdown-view.html.js
Polymer({is:"tf-markdown-view",properties:{html:{type:String,value:""}},attached:function(){this.scopeSubtree(this.$.markdown,!0)}});
</script>
</dom-module>

<dom-module id="tf-card-heading-style">
  <template></template>
</dom-module>

<script>//~~WEBPATH~~/tf-card-heading/util.js
function Bc(a){return a?a.toString().replace(/GMT-\d+ \(([^)]+)\)/,"$1"):""};
</script>



<dom-module id="tf-card-heading">
  <template></template>
  <script>//~~WEBPATH~~/tf-card-heading/tf-card-heading.html.js
Polymer({is:"tf-card-heading",properties:{displayName:{type:String,value:null},tag:{type:String,value:null},run:{type:String,value:null},description:{type:String,value:null},color:{type:String,value:null},_runBackground:{type:String,computed:"_computeRunBackground(color)",readOnly:!0},_runColor:{type:String,computed:"_computeRunColor(color)",readOnly:!0},_nameLabel:{type:String,computed:"_computeNameLabel(displayName, tag)"},_tagLabel:{type:String,computed:"_computeTagLabel(displayName, tag)"}},_computeRunBackground:function(a){return a||
"none"},_computeRunColor:function(a){var b;if(a)if(b=a.match(/^#([0-9a-f]{1,2})([0-9a-f]{1,2})([0-9a-f]{1,2})$/)){if(4==a.length)for(a=1;3>=a;a++)b[a]+=b[a];b=[parseInt(b[1],16),parseInt(b[2],16),parseInt(b[3],16)]}else b=null;else b=null;return b?125<Math.round((299*b[0]+587*b[1]+114*b[2])/1E3)?"inherit":"#eee":"inherit"},_computeNameLabel:function(a,b){return a||b||""},_computeTagLabel:function(a,b){return b&&b!==a?b:""},_toggleDescriptionDialog:function(a){this.$.descriptionDialog.positionTarget=
a.target;this.$.descriptionDialog.toggle()}});
</script>
</dom-module>



<dom-module id="tf-scalar-card">
<template></template>
  
  

<script>//~~WEBPATH~~/tf-scalar-dashboard/tf-scalar-card.html.js
Polymer({is:"tf-scalar-card",properties:{runs:Array,tag:String,xType:String,active:Boolean,ignoreYOutliers:Boolean,requestManager:Object,showDownloadLinks:Boolean,smoothingEnabled:Boolean,smoothingWeight:Number,tagMetadata:Object,tooltipSortingMethod:String,_processData:{type:Object,value:function(){return function(a,b,c){c=c.map(function(a){return{wall_time:new Date(1E3*a[0]),step:a[1],scalar:a[2]}});a.setSeriesData(b,c)}},readOnly:!0},_expanded:{type:Boolean,value:!1,reflectToAttribute:!0},_logScaleActive:Boolean,
_dataUrl:{type:Function,value:function(){return function(a,b){return Ya(I.pluginRoute("scalars","/scalars"),{tag:a,run:b})}}},_xComponentsCreationMethod:{type:Object,computed:"_computeXComponentsCreationMethod(xType)"}},reload:function(){this.$$("tf-line-chart-data-loader").reload()},redraw:function(){this.$$("tf-line-chart-data-loader").redraw()},_toggleExpanded:function(){this.set("_expanded",!this._expanded);this.redraw()},_toggleLogScale:function(){this.set("_logScaleActive",!this._logScaleActive)},
_resetDomain:function(){var a=this.$$("tf-line-chart-data-loader");a&&a.resetDomain()},_csvUrl:function(a,b){return Ya(this._dataUrl(a,b),{format:"csv"})},_jsonUrl:function(a,b){return this._dataUrl(a,b)},_computeXComponentsCreationMethod:function(a){return function(){return sc(a)}}});
</script>
</dom-module>









<script>//~~WEBPATH~~/iron-range-behavior/iron-range-behavior.html.js
Polymer.IronRangeBehavior={properties:{value:{type:Number,value:0,notify:!0,reflectToAttribute:!0},min:{type:Number,value:0,notify:!0},max:{type:Number,value:100,notify:!0},step:{type:Number,value:1,notify:!0},ratio:{type:Number,value:0,readOnly:!0,notify:!0}},observers:["_update(value, min, max, step)"],_calcRatio:function(a){return(this._clampValue(a)-this.min)/(this.max-this.min)},_clampValue:function(a){return Math.min(this.max,Math.max(this.min,this._calcStep(a)))},_calcStep:function(a){a=parseFloat(a);
return this.step?(Math.round((a+this.min)/this.step)-this.min/this.step)/(1/this.step):a},_validateValue:function(){var a=this._clampValue(this.value);this.value=this.oldValue=isNaN(a)?this.oldValue:a;return this.value!==a},_update:function(){this._validateValue();this._setRatio(100*this._calcRatio(this.value))}};
</script>










<dom-module id="paper-progress">
  <template></template>
</dom-module>

<script>//~~WEBPATH~~/paper-progress/paper-progress.html.js
Polymer({is:"paper-progress",behaviors:[Polymer.IronRangeBehavior],properties:{secondaryProgress:{type:Number,value:0},secondaryRatio:{type:Number,value:0,readOnly:!0},indeterminate:{type:Boolean,value:!1,observer:"_toggleIndeterminate"},disabled:{type:Boolean,value:!1,reflectToAttribute:!0,observer:"_disabledChanged"}},observers:["_progressChanged(secondaryProgress, value, min, max)"],hostAttributes:{role:"progressbar"},_toggleIndeterminate:function(a){this.toggleClass("indeterminate",a,this.$.primaryProgress)},
_transformProgress:function(a,b){a.style.transform=a.style.webkitTransform="scaleX("+b/100+")"},_mainRatioChanged:function(a){this._transformProgress(this.$.primaryProgress,a)},_progressChanged:function(a,b,c,d){a=this._clampValue(a);b=this._clampValue(b);var e=100*this._calcRatio(a),f=100*this._calcRatio(b);this._setSecondaryRatio(e);this._transformProgress(this.$.secondaryProgress,e);this._transformProgress(this.$.primaryProgress,f);this.secondaryProgress=a;this.setAttribute("aria-valuenow",b);
this.setAttribute("aria-valuemin",c);this.setAttribute("aria-valuemax",d)},_disabledChanged:function(a){this.setAttribute("aria-disabled",a?"true":"false")},_hideSecondaryProgress:function(a){return 0===a}});
</script>





<dom-module id="paper-slider">
  <template strip-whitespace=""></template>

  <script>//~~WEBPATH~~/paper-slider/paper-slider.html.js
Polymer({is:"paper-slider",behaviors:[Polymer.IronA11yKeysBehavior,Polymer.IronFormElementBehavior,Polymer.PaperInkyFocusBehavior,Polymer.IronRangeBehavior],properties:{snaps:{type:Boolean,value:!1,notify:!0},pin:{type:Boolean,value:!1,notify:!0},secondaryProgress:{type:Number,value:0,notify:!0,observer:"_secondaryProgressChanged"},editable:{type:Boolean,value:!1},immediateValue:{type:Number,value:0,readOnly:!0,notify:!0},maxMarkers:{type:Number,value:0,notify:!0},expand:{type:Boolean,value:!1,readOnly:!0},
dragging:{type:Boolean,value:!1,readOnly:!0},transiting:{type:Boolean,value:!1,readOnly:!0},markers:{type:Array,readOnly:!0,value:function(){return[]}}},observers:["_updateKnob(value, min, max, snaps, step)","_valueChanged(value)","_immediateValueChanged(immediateValue)","_updateMarkers(maxMarkers, min, max, snaps)"],hostAttributes:{role:"slider",tabindex:0},keyBindings:{"left down pagedown home":"_decrementKey","right up pageup end":"_incrementKey"},increment:function(){this.value=this._clampValue(this.value+
this.step)},decrement:function(){this.value=this._clampValue(this.value-this.step)},_updateKnob:function(a,b,c){this.setAttribute("aria-valuemin",b);this.setAttribute("aria-valuemax",c);this.setAttribute("aria-valuenow",a);this._positionKnob(this._calcRatio(a))},_valueChanged:function(){this.fire("value-change")},_immediateValueChanged:function(){this.dragging?this.fire("immediate-value-change"):this.value=this.immediateValue},_secondaryProgressChanged:function(){this.secondaryProgress=this._clampValue(this.secondaryProgress)},
_expandKnob:function(){this._setExpand(!0)},_resetKnob:function(){this.cancelDebouncer("expandKnob");this._setExpand(!1)},_positionKnob:function(a){this._setImmediateValue(this._calcStep(this._calcKnobPosition(a)));this._setRatio(this._calcRatio(this.immediateValue));this.$.sliderKnob.style.left=100*this.ratio+"%";this.dragging&&(this._knobstartx=this.ratio*this._w,this.translate3d(0,0,0,this.$.sliderKnob))},_calcKnobPosition:function(a){return(this.max-this.min)*a+this.min},_onTrack:function(a){a.stopPropagation();
switch(a.detail.state){case "start":this._trackStart(a);break;case "track":this._trackX(a);break;case "end":this._trackEnd()}},_trackStart:function(){this._w=this.$.sliderBar.offsetWidth;this._knobstartx=this._startx=this._x=this.ratio*this._w;this._minx=-this._startx;this._maxx=this._w-this._startx;this.$.sliderKnob.classList.add("dragging");this._setDragging(!0)},_trackX:function(a){this.dragging||this._trackStart(a);this._x=this._startx+Math.min(this._maxx,Math.max(this._minx,a.detail.dx));this._setImmediateValue(this._calcStep(this._calcKnobPosition(this._x/
this._w)));this.translate3d(this._calcRatio(this.immediateValue)*this._w-this._knobstartx+"px",0,0,this.$.sliderKnob)},_trackEnd:function(){var a=this.$.sliderKnob.style;this.$.sliderKnob.classList.remove("dragging");this._setDragging(!1);this._resetKnob();this.value=this.immediateValue;a.transform=a.webkitTransform="";this.fire("change")},_knobdown:function(a){this._expandKnob();a.preventDefault();this.focus()},_bardown:function(a){this._w=this.$.sliderBar.offsetWidth;var b=this.$.sliderBar.getBoundingClientRect();
b=(a.detail.x-b.left)/this._w;var c=this.ratio;this._setTransiting(!0);this._positionKnob(b);this.debounce("expandKnob",this._expandKnob,60);c===this.ratio&&this._setTransiting(!1);this.async(function(){this.fire("change")});a.preventDefault();this.focus()},_knobTransitionEnd:function(a){a.target===this.$.sliderKnob&&this._setTransiting(!1)},_updateMarkers:function(a,b,c,d){d||this._setMarkers([]);b=Math.round((c-b)/this.step);b>a&&(b=a);if(0>b||!isFinite(b))b=0;this._setMarkers(Array(b))},_mergeClasses:function(a){return Object.keys(a).filter(function(b){return a[b]}).join(" ")},
_getClassNames:function(){return this._mergeClasses({disabled:this.disabled,pin:this.pin,snaps:this.snaps,ring:this.immediateValue<=this.min,expand:this.expand,dragging:this.dragging,transiting:this.transiting,editable:this.editable})},_incrementKey:function(a){this.disabled||("end"===a.detail.key?this.value=this.max:this.increment(),this.fire("change"),a.preventDefault())},_decrementKey:function(a){this.disabled||("home"===a.detail.key?this.value=this.min:this.decrement(),this.fire("change"),a.preventDefault())},
_changeValue:function(a){this.value=a.target.value;this.fire("change")},_inputKeyDown:function(a){a.stopPropagation()},_createRipple:function(){this._rippleContainer=this.$.sliderKnob;return Polymer.PaperInkyFocusBehaviorImpl._createRipple.call(this)},_focusedChanged:function(a){a&&this.ensureRipple();this.hasRipple()&&(this._ripple.style.display=a?"":"none",this._ripple.holdDown=a)}});
</script>
</dom-module>





<dom-module id="tf-smoothing-input">
  <template></template>
  <script>//~~WEBPATH~~/tf-scalar-dashboard/tf-smoothing-input.html.js
Polymer({is:"tf-smoothing-input",properties:{step:Number,max:Number,min:Number,weight:{type:Number,value:.6,notify:!0},_immediateWeightNumberForPaperSlider:{type:Number,notify:!0,observer:"_immediateWeightNumberForPaperSliderChanged"},_inputWeightStringForPaperInput:{type:String,notify:!0,observer:"_inputWeightStringForPaperInputChanged"}},_updateWeight:_.debounce(function(a){this.weight=a},250),_immediateWeightNumberForPaperSliderChanged:function(){this._inputWeightStringForPaperInput=this._immediateWeightNumberForPaperSlider.toString();
this._updateWeight.call(this,this._immediateWeightNumberForPaperSlider)},_inputWeightStringForPaperInputChanged:function(){0>+this._inputWeightStringForPaperInput?this._inputWeightStringForPaperInput="0":1<+this._inputWeightStringForPaperInput&&(this._inputWeightStringForPaperInput="1");var a=+this._inputWeightStringForPaperInput;isNaN(a)||this._updateWeight.call(this,a)}});
</script>
</dom-module>



<dom-module id="tf-scalar-dashboard">
  <template></template>

  <script>//~~WEBPATH~~/tf-scalar-dashboard/tf-scalar-dashboard.html.js
Polymer({is:"tf-scalar-dashboard",properties:{_showDownloadLinks:{type:Boolean,notify:!0,value:Gb("_showDownloadLinks",{defaultValue:!1,useLocalStorage:!0}),observer:"_showDownloadLinksObserver"},_smoothingWeight:{type:Number,notify:!0,value:Pb("_smoothingWeight",{defaultValue:.6}),observer:"_smoothingWeightObserver"},_smoothingEnabled:{type:Boolean,computed:"_computeSmoothingEnabled(_smoothingWeight)"},_ignoreYOutliers:{type:Boolean,value:Gb("_ignoreYOutliers",{defaultValue:!0,useLocalStorage:!0}),
observer:"_ignoreYOutliersObserver"},_xType:{type:String,value:"step"},_selectedRuns:Array,_runToTagInfo:Object,_dataNotFound:Boolean,_tagFilter:{type:String,value:".*"},_categories:{type:Array,computed:"_makeCategories(_runToTagInfo, _selectedRuns, _tagFilter)"},_requestManager:{type:Object,value:function(){return new Xa(50)}}},_showDownloadLinksObserver:Hb("_showDownloadLinks",{defaultValue:!1,useLocalStorage:!0}),_smoothingWeightObserver:Qb("_smoothingWeight",{defaultValue:.6}),_ignoreYOutliersObserver:Hb("_ignoreYOutliers",
{defaultValue:!0,useLocalStorage:!0}),_computeSmoothingEnabled:function(a){return 0<a},ready:function(){this.reload()},reload:function(){var a=this;this._fetchTags().then(function(){a._reloadCharts()})},_fetchTags:function(){var a=this;return this._requestManager.request(I.pluginRoute("scalars","/tags")).then(function(b){if(!_.isEqual(b,a._runToTagInfo)){var c=_.mapValues(b,function(a){return Object.keys(a)});c=eb(c);a.set("_dataNotFound",0===c.length);a.set("_runToTagInfo",b)}})},_reloadCharts:function(){this.querySelectorAll("tf-scalar-card").forEach(function(a){a.reload()})},
_makeCategories:function(a,b,c){a=_.mapValues(a,function(a){return Object.keys(a)});return nb(a,b,c)},_tagMetadata:function(a,b,c){var d={};b.forEach(function(b){d[b]=a[b][c]});b=c.replace(/\/scalar_summary$/,"");return hc(d,b)}});gc({plugin:"scalars",elementName:"tf-scalar-dashboard"});
</script>
</dom-module>




















<dom-module id="paper-toggle-button">
  <template strip-whitespace=""></template>

  <script>//~~WEBPATH~~/paper-toggle-button/paper-toggle-button.html.js
Polymer({is:"paper-toggle-button",behaviors:[Polymer.PaperCheckedElementBehavior],hostAttributes:{role:"button","aria-pressed":"false",tabindex:0},properties:{},listeners:{track:"_ontrack"},attached:function(){Polymer.RenderStatus.afterNextRender(this,function(){this.setScrollDirection("y")})},_ontrack:function(a){a=a.detail;"start"===a.state?this._trackStart(a):"track"===a.state?this._trackMove(a):"end"===a.state&&this._trackEnd(a)},_trackStart:function(){this._width=this.$.toggleBar.offsetWidth/
2;this._trackChecked=this.checked;this.$.toggleButton.classList.add("dragging")},_trackMove:function(a){a=a.dx;this._x=Math.min(this._width,Math.max(0,this._trackChecked?this._width+a:a));this.translate3d(this._x+"px",0,0,this.$.toggleButton);this._userActivate(this._x>this._width/2)},_trackEnd:function(){this.$.toggleButton.classList.remove("dragging");this.transform("",this.$.toggleButton)},_createRipple:function(){this._rippleContainer=this.$.toggleButton;var a=Polymer.PaperRippleBehavior._createRipple();
a.id="ink";a.setAttribute("recenters","");a.classList.add("circle","toggle-ink");return a}});
</script>
</dom-module>





<dom-module id="tf-regex-group">
  <template></template>
  <script>//~~WEBPATH~~/tf-dashboard-common/tf-regex-group.js
Polymer({is:"tf-regex-group",properties:{rawRegexes:{type:Array,value:Sb("rawRegexes",{defaultValue:[{regex:"",valid:!0}]})},regexes:{type:Array,computed:"usableRegexes(rawRegexes.*)",notify:!0}},observers:["addNewRegexIfNeeded(rawRegexes.*)","checkValidity(rawRegexes.*)","_uriStoreRegexes(rawRegexes.*)"],_uriStoreRegexes:Tb("rawRegexes",{defaultValue:[{regex:"",valid:!0}]}),checkValidity:function(a){var b=a.path.match(/rawRegexes\.(\d+)\.regex/);b&&this.set("rawRegexes."+b[1]+".valid",this.isValid(a.value))},
isValid:function(a){try{return new RegExp(a),!0}catch(b){return!1}},usableRegexes:function(a){var b=this.isValid;return a.base.filter(function(a){return""!==a.regex&&b(a.regex)}).map(function(a){return a.regex})},addNewRegexIfNeeded:function(){""!==this.rawRegexes[this.rawRegexes.length-1].regex&&this.push("rawRegexes",{regex:"",valid:!0})},deleteRegex:function(a){1<this.rawRegexes.length&&this.splice("rawRegexes",a.model.index,1)},moveFocus:function(a){if(13===a.keyCode){a=a.model.index;var b=Polymer.dom(this.root).querySelectorAll(".regex-input");
a<this.rawRegexes.length-1?b[a+1].$.input.focus():document.activeElement.blur()}}});
</script>
</dom-module>


















<dom-module id="tf-image-loader">
  <template></template>
  <script>//~~WEBPATH~~/tf-image-dashboard/tf-image-loader.html.js
Polymer({is:"tf-image-loader",properties:{run:String,tag:String,sample:Number,ofSamples:Number,tagMetadata:Object,_runColor:{type:String,computed:"_computeRunColor(run)"},actualSize:{type:Boolean,value:!1,reflectToAttribute:!0},requestManager:Object,_metadataCanceller:{type:Object,value:function(){return new fb}},_imageCanceller:{type:Object,value:function(){return new fb}},_steps:{type:Array,value:[],notify:!0},_stepIndex:{type:Number,notify:!0},_hasAtLeastOneStep:{type:Boolean,computed:"_computeHasAtLeastOneStep(_steps)"},
_hasMultipleSteps:{type:Boolean,computed:"_computeHasMultipleSteps(_steps)"},_stepValue:{type:Number,computed:"_computeStepValue(_steps, _stepIndex)"},_currentWallTime:{type:Number,computed:"_computeCurrentWallTime(_steps, _stepIndex)"},_maxStepIndex:{type:Number,computed:"_computeMaxStepIndex(_steps)"},_sampleText:{type:String,computed:"_computeSampleText(sample)"},_hasMultipleSamples:{type:Boolean,computed:"_computeHasMultipleSamples(ofSamples)"},_isImageLoading:{type:Boolean,value:!1}},observers:["reload(run, tag)",
"_updateImageUrl(_steps, _stepIndex)"],_computeRunColor:function(a){return cc(a)},_computeHasAtLeastOneStep:function(a){return!!a&&0<a.length},_computeHasMultipleSteps:function(a){return!!a&&1<a.length},_computeStepValue:function(a,b){return a[b].step},_computeCurrentWallTime:function(a,b){return Bc(a[b].wall_time)},_computeMaxStepIndex:function(a){return a.length-1},_computeSampleText:function(a){return""+(a+1)},_computeHasMultipleSamples:function(a){return 1<a},attached:function(){this._attached=
!0;this.reload()},reload:function(){var a=this;if(this._attached){this._metadataCanceller.cancelAll();var b=Ya(I.pluginRoute("images","/images"),{tag:this.tag,run:this.run,sample:this.sample}),c=this._metadataCanceller.cancellable(function(b){b.cancelled||(b=b.value.map(a._createStepDatum.bind(a)),a.set("_steps",b),a.set("_stepIndex",b.length-1))});this.requestManager.request(b).then(c)}},_createStepDatum:function(a){var b=I.pluginRoute("images","/individualImage");b=Ya(b,{ts:a.wall_time});b+="\x26"+
a.query;return{width:a.width,height:a.height,wall_time:new Date(1E3*a.wall_time),step:a.step,url:b}},_updateImageUrl:function(a,b){var c=this;if(a.length){var d=new Image;this._imageCanceller.cancelAll();d.onload=d.onerror=this._imageCanceller.cancellable(function(a){a.cancelled||(a=c.$$("#main-image-container"),a.innerHTML="",Polymer.dom(a).appendChild(d),c.set("_isImageLoading",!1))}).bind(this);this.set("_isImageLoading",!0);d.src=a[b].url}},_handleTap:function(){this.set("actualSize",!this.actualSize)},
_toLocaleString:function(a){return a.toLocaleString()}});
</script>
</dom-module>



<dom-module id="tf-image-dashboard">
  <template></template>
  <script>//~~WEBPATH~~/tf-image-dashboard/tf-image-dashboard.html.js
Polymer({is:"tf-image-dashboard",properties:{_selectedRuns:Array,_runToTagInfo:Object,_dataNotFound:Boolean,_actualSize:Boolean,_tagFilter:{type:String,value:".*"},_categories:{type:Array,computed:"_makeCategories(_runToTagInfo, _selectedRuns, _tagFilter)"},_requestManager:{type:Object,value:function(){return new Xa}}},ready:function(){this.reload()},reload:function(){var a=this;this._fetchTags().then(function(){a._reloadImages()})},_fetchTags:function(){var a=this;return this._requestManager.request(I.pluginRoute("images",
"/tags")).then(function(b){if(!_.isEqual(b,a._runToTagInfo)){var c=_.mapValues(b,function(a){return Object.keys(a)});c=eb(c);a.set("_dataNotFound",0===c.length);a.set("_runToTagInfo",b)}})},_reloadImages:function(){this.querySelectorAll("tf-image-loader").forEach(function(a){a.reload()})},_makeCategories:function(a,b,c){function d(b){var c=a[b.run][b.tag].samples;return _.range(c).map(function(a){return Object.assign({},b,{sample:a,ofSamples:c})})}var e=_.mapValues(a,function(a){return Object.keys(a)});
return sb(e,b,c).map(function(a){return Object.assign({},a,{items:[].concat.apply([],a.items.map(d))})})},_tagMetadata:function(a,b,c){return a[b][c]}});gc({plugin:"images",elementName:"tf-image-dashboard"});
</script>
</dom-module>

























<dom-module id="tf-audio-loader">
  <template></template>
  <script>//~~WEBPATH~~/tf-audio-dashboard/tf-audio-loader.html.js
Polymer({is:"tf-audio-loader",properties:{run:String,tag:String,sample:Number,totalSamples:Number,tagMetadata:Object,_runColor:{type:String,computed:"_computeRunColor(run)"},requestManager:Object,_metadataCanceller:{type:Object,value:function(){return new fb}},_steps:{type:Array,value:function(){return[]}},_stepIndex:Number,_hasAtLeastOneStep:{type:Boolean,computed:"_computeHasAtLeastOneStep(_steps)"},_hasMultipleSteps:{type:Boolean,computed:"_computeHasMultipleSteps(_steps)"},_currentDatum:{type:Object,
computed:"_computeCurrentDatum(_steps, _stepIndex)"},_maxStepIndex:{type:Number,computed:"_computeMaxStepIndex(_steps)"},_sampleText:{type:String,computed:"_computeSampleText(sample)"},_hasMultipleSamples:{type:Boolean,computed:"_computeHasMultipleSamples(totalSamples)"}},observers:["reload(run, tag)"],_computeRunColor:function(a){return cc(a)},_computeHasAtLeastOneStep:function(a){return!!a&&0<a.length},_computeHasMultipleSteps:function(a){return!!a&&1<a.length},_computeMaxStepIndex:function(a){return a.length-
1},_computeCurrentDatum:function(a,b){return a[b]},_computeSampleText:function(a){return""+(a+1)},_computeHasMultipleSamples:function(a){return 1<a},attached:function(){this._attached=!0;this.reload()},reload:function(){var a=this;if(this._attached){this._metadataCanceller.cancelAll();var b=Ya(I.pluginRoute("audio","/audio"),{tag:this.tag,run:this.run,sample:this.sample}),c=this._metadataCanceller.cancellable(function(b){b.cancelled||(b=b.value.map(a._createStepDatum.bind(a)),a.set("_steps",b),a.set("_stepIndex",
b.length-1))});this.requestManager.request(b).then(c)}},_createStepDatum:function(a){var b=I.pluginRoute("audio","/individualAudio");b=Ya(b,{ts:a.wall_time});b+="\x26"+a.query;return{wall_time:Bc(new Date(1E3*a.wall_time)),step:a.step,label:a.label,contentType:a.contentType,url:b}}});
</script>
</dom-module>



<dom-module id="tf-audio-dashboard">
  <template></template>
  <script>//~~WEBPATH~~/tf-audio-dashboard/tf-audio-dashboard.html.js
Polymer({is:"tf-audio-dashboard",properties:{_selectedRuns:Array,_runToTagInfo:Object,_dataNotFound:Boolean,_tagFilter:{type:String,value:".*"},_categories:{type:Array,computed:"_makeCategories(_runToTagInfo, _selectedRuns, _tagFilter)"},_requestManager:{type:Object,value:function(){return new Xa}}},ready:function(){this.reload()},reload:function(){var a=this;this._fetchTags().then(function(){a._reloadAudio()})},_fetchTags:function(){var a=this;return this._requestManager.request(I.pluginRoute("audio",
"/tags")).then(function(b){if(!_.isEqual(b,a._runToTagInfo)){var c=_.mapValues(b,function(a){return Object.keys(a)});c=eb(c);a.set("_dataNotFound",0===c.length);a.set("_runToTagInfo",b)}})},_reloadAudio:function(){this.querySelectorAll("tf-audio-loader").forEach(function(a){a.reload()})},_makeCategories:function(a,b,c){function d(b){var c=a[b.run][b.tag].samples;return _.range(c).map(function(a){return Object.assign({},b,{sample:a,totalSamples:c})})}var e=_.mapValues(a,function(a){return Object.keys(a)});
return sb(e,b,c).map(function(a){return Object.assign({},a,{items:[].concat.apply([],a.items.map(d))})})},_tagMetadata:function(a,b,c){return a[b][c]}});gc({plugin:"audio",elementName:"tf-audio-dashboard"});
</script>
</dom-module>


















<script>//~~WEBPATH~~/tf-graph-common/colors.js
var U;
(function(a){a.COLORS=[{name:"Google Blue",color:"#4184f3",active:"#3a53c5",disabled:"#cad8fc"},{name:"Google Red",color:"#db4437",active:"#8f2a0c",disabled:"#e8c6c1"},{name:"Google Yellow",color:"#f4b400",active:"#db9200",disabled:"#f7e8b0"},{name:"Google Green",color:"#0f9d58",active:"#488046",disabled:"#c2e1cc"},{name:"Purple",color:"#aa46bb",active:"#5c1398",disabled:"#d7bce6"},{name:"Teal",color:"#00abc0",active:"#47828e",disabled:"#c2eaf2"},{name:"Deep Orange",color:"#ff6f42",active:"#ca4a06",disabled:"#f2cbba"},
{name:"Lime",color:"#9d9c23",active:"#7f771d",disabled:"#f1f4c2"},{name:"Indigo",color:"#5b6abf",active:"#3e47a9",disabled:"#c5c8e8"},{name:"Pink",color:"#ef6191",active:"#ca1c60",disabled:"#e9b9ce"},{name:"Deep Teal",color:"#00786a",active:"#2b4f43",disabled:"#bededa"},{name:"Deep Pink",color:"#c1175a",active:"#75084f",disabled:"#de8cae"},{name:"Gray",color:"#9E9E9E",active:"#424242",disabled:"F5F5F5"}].reduce(function(a,c){a[c.name]=c;return a},{});a.OP_GROUP_COLORS=[{color:"Google Red",groups:"gen_legacy_ops legacy_ops legacy_flogs_input legacy_image_input legacy_input_example_input legacy_sequence_input legacy_seti_input_input".split(" ")},
{color:"Deep Orange",groups:["constant_ops"]},{color:"Indigo",groups:["state_ops"]},{color:"Purple",groups:["nn_ops","nn"]},{color:"Google Green",groups:["math_ops"]},{color:"Lime",groups:["array_ops"]},{color:"Teal",groups:["control_flow_ops","data_flow_ops"]},{color:"Pink",groups:["summary_ops"]},{color:"Deep Pink",groups:["io_ops"]}].reduce(function(a,c){c.groups.forEach(function(b){a[b]=c.color});return a},{})})(U||(U={}));
</script>
<script>//~~WEBPATH~~/tf-graph-common/common.js
</script>
<script>//~~WEBPATH~~/tf-graph-common/externs.js
</script>
<script>//~~WEBPATH~~/tf-graph-common/graph.js
(function(a){(function(b){function c(a,b,c,d,e){return(c?c+"/":"")+(a+("undefined"!==typeof d&&"undefined"!==typeof e?"["+d+"-"+e+"]":"#")+b)}function d(a){if(!a)return null;for(var b=0;b<a.length;b++){var c=a[b],d=c.value;if("_output_shapes"===c.key){if(!d.list.shape)break;c=d.list.shape.map(function(a){return a.unknown_rank?null:null==a.dim||1===a.dim.length&&null==a.dim[0].size?[]:a.dim.map(function(a){return a.size})});a.splice(b,1);return c}}return null}function e(a){var b=[];_.each(a,function(a){var c=
"^"===a[0];c&&(a=a.substring(1));var d=a,e="0",f=a.match(/(.*):(\w+:\d+)$/);if(f)d=f[1],e=f[2];else if(f=a.match(/(.*):(\d+)$/))d=f[1],e=f[2];0!==b.length&&d===b[b.length-1].name||b.push({name:d,outputTensorKey:e,isControlDependency:c})});return b}function f(a,b,c,d,e,f){b!==c.name&&a.edges.push({v:b,w:c.name,outputTensorKey:d.outputTensorKey,isControlDependency:d.isControlDependency,isReferenceEdge:!0===e.refEdges[c.op+" "+f]})}function g(a,b,c){void 0===c&&(c={});c=new graphlib.Graph(c);c.setGraph({name:a,
rankdir:"BT",type:b});return c}function k(a){return function(b){for(var c=0;c<a.length;c++)if(b.op.match(new RegExp(a[c])))return!0;return!1}}function l(a){var c=a.split(b.NAMESPACE_DELIM);return a+b.NAMESPACE_DELIM+"("+c[c.length-1]+")"}function m(a,c){var d={},e={};a.sort();for(var f=0;f<a.length-1;++f){var g=a[f];_.each(q(g).slice(0,-1),function(a){e[a]=!0});for(var k=f+1;k<a.length;++k){var m=a[k];if(_.startsWith(m,g)){if(m.length>g.length&&m.charAt(g.length)===b.NAMESPACE_DELIM){d[g]=l(g);break}}else break}}_.each(c,
function(a){a in e&&(d[a]=l(a))});return d}function n(a){var b=a.nodes().map(function(b){return a.neighbors(b).length});b.sort();return b}function q(a,c){for(var d=[],e=a.indexOf(b.NAMESPACE_DELIM);0<=e;)d.push(a.substring(0,e)),e=a.indexOf(b.NAMESPACE_DELIM,e+1);c&&(c=c[a])&&d.push(c);d.push(a);return d}b.NAMESPACE_DELIM="/";b.ROOT_NAME="__root__";b.FUNCTION_LIBRARY_NODE_PREFIX="__function_library__";b.LARGE_ATTRS_KEY="_too_large_attrs";b.LIMIT_ATTR_SIZE=1024;b.EDGE_KEY_DELIM="--";var p;(function(a){a[a.FULL=
0]="FULL";a[a.EMBEDDED=1]="EMBEDDED";a[a.META=2]="META";a[a.SERIES=3]="SERIES";a[a.CORE=4]="CORE";a[a.SHADOW=5]="SHADOW";a[a.BRIDGE=6]="BRIDGE";a[a.EDGE=7]="EDGE"})(p=b.GraphType||(b.GraphType={}));var t;(function(a){a[a.META=0]="META";a[a.OP=1]="OP";a[a.SERIES=2]="SERIES";a[a.BRIDGE=3]="BRIDGE";a[a.ELLIPSIS=4]="ELLIPSIS"})(t=b.NodeType||(b.NodeType={}));var r;(function(a){a[a.INCLUDE=0]="INCLUDE";a[a.EXCLUDE=1]="EXCLUDE";a[a.UNSPECIFIED=2]="UNSPECIFIED"})(r=b.InclusionType||(b.InclusionType={}));
(function(a){a[a.GROUP=0]="GROUP";a[a.UNGROUP=1]="UNGROUP"})(b.SeriesGroupingType||(b.SeriesGroupingType={}));var u=function(){return function(){this.nodes={};this.edges=[]}}();b.SlimGraph=u;var v=function(){function a(a){this.type=t.ELLIPSIS;this.isGroupNode=!1;this.cardinality=1;this.stats=this.parentNode=null;this.setNumMoreNodes(a);this.include=r.UNSPECIFIED}a.prototype.setNumMoreNodes=function(a){this.numMoreNodes=a;this.name="... "+a+" more"};return a}();b.EllipsisNodeImpl=v;var z=function(){return function(a){this.op=
a.op;this.name=a.name;this.device=a.device;this.attr=a.attr;this.inputs=e(a.input);this.outputShapes=d(a.attr);a:{if(a=a.attr)for(var b=0;b<a.length;b++)if("_XlaCluster"===a[b].key){a=a[b].value.s||null;break a}a=null}this.xlaCluster=a;this.compatible=!1;this.type=t.OP;this.isGroupNode=!1;this.cardinality=1;this.inEmbeddings=[];this.outEmbeddings=[];this.parentNode=null;this.include=r.UNSPECIFIED;this.owningSeries=null}}();b.OpNodeImpl=z;b.createMetanode=function(a,b){void 0===b&&(b={});return new A(a,
b)};b.joinStatsInfoWithGraph=function(a,b,c){_.each(a.nodes,function(a){a.stats=null});_.each(b.dev_stats,function(b){c&&!c[b.device]||_.each(b.node_stats,function(c){var d=c.node_name in a.nodes?c.node_name:l(c.node_name);if(d in a.nodes){var e=0;c.memory&&_.each(c.memory,function(a){a.total_bytes&&(0<a.total_bytes?e+=Number(a.total_bytes):console.log("ignoring negative memory allocation for "+d))});var f=null;c.output&&(f=_.map(c.output,function(a){return _.map(a.tensor_description.shape.dim,function(a){return Number(a.size)})}));
a.nodes[d].device=b.device;null==a.nodes[d].stats&&(a.nodes[d].stats=new w(f));a.nodes[d].stats.addBytesAllocation(e);c.all_end_rel_micros&&(0<c.all_end_rel_micros?a.nodes[d].stats.addExecutionTime(c.all_start_micros,c.all_start_micros+c.all_end_rel_micros):console.log("ignoring negative runtime for "+d))}})})};var w=function(){function a(a){this.totalBytes=0;this.outputSize=a}a.prototype.addExecutionTime=function(a,b){this.startTime=null!=this.startTime?Math.min(this.startTime,a):a;this.endTime=
null!=this.endTime?Math.max(this.endTime,b):b};a.prototype.addBytesAllocation=function(a){this.totalBytes=null!=this.totalBytes?Math.max(this.totalBytes,a):a};a.prototype.combine=function(a){null!=a.totalBytes&&(this.totalBytes+=a.totalBytes);null!=a.getTotalMicros()&&this.addExecutionTime(a.startTime,a.endTime)};a.prototype.getTotalMicros=function(){return null==this.startTime||null==this.endTime?null:this.endTime-this.startTime};return a}();b.NodeStats=w;var A=function(){function a(a,b){void 0===
b&&(b={});this.name=a;this.type=t.META;this.depth=1;this.isGroupNode=!0;this.cardinality=0;this.metagraph=g(a,p.META,b);this.bridgegraph=null;this.opHistogram={};this.deviceHistogram={};this.compatibilityHistogram={compatible:0,incompatible:0};this.parentNode=this.templateId=null;this.hasNonControlEdges=!1;this.include=r.UNSPECIFIED;this.associatedFunction=""}a.prototype.getFirstChild=function(){return this.metagraph.node(this.metagraph.nodes()[0])};a.prototype.getRootOp=function(){var a=this.name.split("/");
return this.metagraph.node(this.name+"/("+a[a.length-1]+")")};a.prototype.leaves=function(){for(var a=[],b=[this],c;b.length;){var d=b.shift();d.isGroupNode?(c=d.metagraph,_.each(c.nodes(),function(a){return b.push(c.node(a))})):a.push(d.name)}return a};return a}();b.MetanodeImpl=A;b.createMetaedge=function(a,b){return new y(a,b)};var y=function(){function a(a,b){this.v=a;this.w=b;this.baseEdgeList=[];this.inbound=null;this.totalSize=this.numRefEdges=this.numControlEdges=this.numRegularEdges=0}a.prototype.addBaseEdge=
function(b,c){this.baseEdgeList.push(b);b.isControlDependency?this.numControlEdges+=1:this.numRegularEdges+=1;b.isReferenceEdge&&(this.numRefEdges+=1);this.totalSize+=a.computeSizeOfEdge(b,c);c.maxMetaEdgeSize=Math.max(c.maxMetaEdgeSize,this.totalSize)};a.computeSizeOfEdge=function(a,b){a=b.node(a.v);if(!a.outputShapes)return 1;b.hasShapeInfo=!0;return _(a.outputShapes).mapValues(function(a){return null==a?1:_(a).reduce(function(a,b){-1===b&&(b=1);return a*b},1)}).sum()};return a}();b.MetaedgeImpl=
y;b.createSeriesNode=function(a,b,c,d,e){return new C(a,b,c,d,e)};b.getSeriesNodeName=c;var C=function(){return function(a,b,d,e,f){this.name=f||c(a,b,d);this.type=t.SERIES;this.hasLoop=!1;this.prefix=a;this.suffix=b;this.clusterId=e;this.ids=[];this.parent=d;this.isGroupNode=!0;this.cardinality=0;this.metagraph=g(f,p.SERIES);this.parentNode=this.bridgegraph=null;this.deviceHistogram={};this.compatibilityHistogram={compatible:0,incompatible:0};this.hasNonControlEdges=!1;this.include=r.UNSPECIFIED}}();
b.build=function(c,d,e){var g={},l={},p={},n=k(d.inEmbeddingTypes),r=k(d.outEmbeddingTypes),q=[],t=c.node,v=Array(t.length);return a.graph.util.runAsyncTask("Normalizing names",30,function(){function a(a){var c=b.FUNCTION_LIBRARY_NODE_PREFIX+a.signature.name;d({name:c,input:[],device:"",op:"",attr:[]});if(a.signature.input_arg){var e=0,f=function(a){d({name:c+b.NAMESPACE_DELIM+a.name,input:[],device:"",op:"input_arg",attr:[{key:"T",value:{type:a.type}}]}).functionInputIndex=e;e++};a.signature.input_arg.name?
f(a.signature.input_arg):_.each(a.signature.input_arg,f)}var g=0,k={};a.signature.output_arg&&(f=function(a){k[c+b.NAMESPACE_DELIM+a.name]=g;g++},a.signature.output_arg.name?f(a.signature.output_arg):_.each(a.signature.output_arg,f));_.each(a.node_def,function(a){a.name=c+"/"+a.name;"string"===typeof a.input&&(a.input=[a.input]);var e=d(a);_.isNumber(k[a.name])&&(e.functionOutputIndex=k[a.name]);_.each(e.inputs,function(a){a.name=c+b.NAMESPACE_DELIM+a.name})})}function d(a){var b=new z(a);if(n(b))return q.push(b.name),
g[b.name]=b;if(r(b))return q.push(b.name),l[b.name]=b,_.each(b.inputs,function(a){a=a.name;p[a]=p[a]||[];p[a].push(b)}),b;e[f]=b;v[f]=b.name;f++;return b}var e=Array(t.length),f=0;_.each(t,d);c.library&&c.library.function&&_.each(c.library.function,a);e.splice(f);v.splice(f);return e},e).then(function(b){return a.graph.util.runAsyncTask("Building the data structure",70,function(){var a=m(v,q),c=new u;_.each(b,function(b){var d=a[b.name]||b.name;c.nodes[d]=b;b.name in p&&(b.outEmbeddings=p[b.name],
_.each(b.outEmbeddings,function(b){b.name=a[b.name]||b.name}));b.name=d});_.each(b,function(b){_.each(b.inputs,function(e,k){var m=e.name;if(m in g){m=g[m];b.inEmbeddings.push(m);e=0;for(var p=m.inputs;e<p.length;e++)m=p[e],f(c,a[m.name]||m.name,b,m,d,k)}else if(m in l){p=0;for(var n=l[m].inputs;p<n.length;p++)m=n[p],f(c,a[m.name]||m.name,b,e,d,k)}else f(c,a[m]||m,b,e,d,k)})});_.each(g,function(b){b.name=a[b.name]||b.name});return c},e)})};b.createGraph=g;b.getStrictName=l;b.hasSimilarDegreeSequence=
function(a,b){a=n(a);b=n(b);for(var c=0;c<a.length;c++)if(a[c]!==b[c])return!1;return!0};b.getHierarchicalPath=q;b.getIncludeNodeButtonString=function(b){return b===a.graph.InclusionType.EXCLUDE?"Add to main graph":"Remove from main graph"};b.getGroupSeriesNodeButtonString=function(b){return b===a.graph.SeriesGroupingType.GROUP?"Ungroup this series of nodes":"Group this series of nodes"};b.toggleNodeSeriesGroup=function(b,c){b[c]=c in b&&b[c]!==a.graph.SeriesGroupingType.GROUP?a.graph.SeriesGroupingType.GROUP:
a.graph.SeriesGroupingType.UNGROUP}})(a.graph||(a.graph={}))})(U||(U={}));
</script>
<script>//~~WEBPATH~~/tf-graph-common/hierarchy.js
(function(a){(function(b){(function(c){function d(a,b,c,d){b=c?a.inEdges(b.name):a.outEdges(b.name);_.each(b,function(b){b=a.edge(b);(b.numRegularEdges?d.regular:d.control).push(b)})}function e(c,d){var e={};_.each(d.nodes,function(d){var f=b.getHierarchicalPath(d.name),g=c.root;g.depth=Math.max(f.length,g.depth);e[d.op]||(e[d.op]=[]);e[d.op].push(d);for(var k=0;k<f.length;k++){g.depth=Math.max(g.depth,f.length-k);g.cardinality+=d.cardinality;g.opHistogram[d.op]=(g.opHistogram[d.op]||0)+1;null!=d.device&&
(g.deviceHistogram[d.device]=(g.deviceHistogram[d.device]||0)+1);d.compatible?g.compatibilityHistogram.compatible=(g.compatibilityHistogram.compatible||0)+1:g.compatibilityHistogram.incompatible=(g.compatibilityHistogram.incompatible||0)+1;_.each(d.inEmbeddings,function(a){a.compatible?g.compatibilityHistogram.compatible=(g.compatibilityHistogram.compatible||0)+1:g.compatibilityHistogram.incompatible=(g.compatibilityHistogram.incompatible||0)+1});_.each(d.outEmbeddings,function(a){a.compatible?g.compatibilityHistogram.compatible=
(g.compatibilityHistogram.compatible||0)+1:g.compatibilityHistogram.incompatible=(g.compatibilityHistogram.incompatible||0)+1});if(k===f.length-1)break;var l=f[k],m=c.node(l);m||(m=b.createMetanode(l),m.parentNode=g,c.setNode(l,m),g.metagraph.setNode(l,m),0===l.indexOf(a.graph.FUNCTION_LIBRARY_NODE_PREFIX)&&g.name===a.graph.ROOT_NAME&&(l=l.substring(a.graph.FUNCTION_LIBRARY_NODE_PREFIX.length),e[l]||(e[l]=[]),c.libraryFunctions[l]={node:m,usages:e[l]},m.associatedFunction=l));g=m}c.setNode(d.name,
d);d.parentNode=g;g.metagraph.setNode(d.name,d);_.each(d.inEmbeddings,function(a){c.setNode(a.name,a);a.parentNode=d});_.each(d.outEmbeddings,function(a){c.setNode(a.name,a);a.parentNode=d})})}function f(a,c){function d(a,b){for(var c=0;a;)b[c++]=a.name,a=a.parentNode;return c-1}var e=a.getNodeMap(),f=[],g=[];_.each(c.edges,function(k){var l=d(c.nodes[k.v],f),m=d(c.nodes[k.w],g);if(-1!==l&&-1!==m){for(;f[l]===g[m];)if(l--,m--,0>l||0>m)throw Error("No difference found between ancestor paths.");var p=
e[f[l+1]];l=f[l];m=g[m];var n=p.metagraph.edge(l,m);n||(n=b.createMetaedge(l,m),p.metagraph.setEdge(l,m,n));p.hasNonControlEdges||k.isControlDependency||(p.hasNonControlEdges=!0);n.addBaseEdge(k,a)}})}function g(b,c,d,e,f){var m=b.metagraph;_.each(m.nodes(),function(b){b=m.node(b);b.type===a.graph.NodeType.META&&g(b,c,d,e,f)});b=k(m);b=l(b,m);_.each(b,function(b,g){var k=b.metagraph.nodes();_.each(k,function(a){a=m.node(a);a.owningSeries||(a.owningSeries=g)});k.length<e&&!(b.name in f)&&(f[b.name]=
a.graph.SeriesGroupingType.UNGROUP);b.name in f&&f[b.name]===a.graph.SeriesGroupingType.UNGROUP||(c.setNode(g,b),m.setNode(g,b),_.each(k,function(a){var c=m.node(a);b.metagraph.setNode(a,c);b.parentNode=c.parentNode;b.cardinality++;null!=c.device&&(b.deviceHistogram[c.device]=(b.deviceHistogram[c.device]||0)+1);c.compatible?b.compatibilityHistogram.compatible=(b.compatibilityHistogram.compatible||0)+1:b.compatibilityHistogram.incompatible=(b.compatibilityHistogram.incompatible||0)+1;_.each(c.inEmbeddings,
function(a){a.compatible?b.compatibilityHistogram.compatible=(b.compatibilityHistogram.compatible||0)+1:b.compatibilityHistogram.incompatible=(b.compatibilityHistogram.incompatible||0)+1});_.each(c.outEmbeddings,function(a){a.compatible?b.compatibilityHistogram.compatible=(b.compatibilityHistogram.compatible||0)+1:b.compatibilityHistogram.incompatible=(b.compatibilityHistogram.incompatible||0)+1});c.parentNode=b;d[a]=g;m.removeNode(a)}))})}function k(a){return _.reduce(a.nodes(),function(c,d){d=a.node(d);
if(d.type===b.NodeType.META)return c;var e=d.op;e&&(c[e]=c[e]||[],c[e].push(d.name));return c},{})}function l(a,c){var d={};_.each(a,function(a,e){if(!(1>=a.length)){var f={};_.each(a,function(a){var c="*"===a.charAt(a.length-1),d=a.split("/"),e=d[d.length-1];d=d.slice(0,d.length-1).join("/");var g=e.match(/^(\D*)_(\d+)$/),k="";g?(e=g[1],g=g[2]):(e=c?e.substr(0,e.length-1):e,g=0,k=c?"*":"");c=b.getSeriesNodeName(e,k,d);f[c]=f[c]||[];a=b.createSeriesNode(e,k,d,+g,a);f[c].push(a)});_.each(f,function(a){if(!(2>
a.length)){a.sort(function(a,b){return+a.clusterId-+b.clusterId});for(var b=[a[0]],f=1;f<a.length;f++){var g=a[f];g.clusterId===b[b.length-1].clusterId+1?b.push(g):(m(b,d,+e,c),b=[g])}m(b,d,+e,c)}})}});return d}function m(a,c,d,e){if(1<a.length){var f=b.getSeriesNodeName(a[0].prefix,a[0].suffix,a[0].parent,a[0].clusterId,a[a.length-1].clusterId),g=b.createSeriesNode(a[0].prefix,a[0].suffix,a[0].parent,d,f);_.each(a,function(a){g.ids.push(a.clusterId);g.metagraph.setNode(a.name,e.node(a.name))});c[f]=
g}}var n=function(){function a(){this.hasShapeInfo=!1;this.maxMetaEdgeSize=1;this.root=b.createMetanode(b.ROOT_NAME,{compound:!0});this.libraryFunctions={};this.devices=this.templates=null;this.index={};this.index[b.ROOT_NAME]=this.root;this.orderings={}}a.prototype.getNodeMap=function(){return this.index};a.prototype.node=function(a){return this.index[a]};a.prototype.setNode=function(a,b){this.index[a]=b};a.prototype.getBridgegraph=function(a){var c=this,d=this.index[a];if(!d)throw Error("Could not find node in hierarchy: "+
a);if(!("metagraph"in d))return null;if(d.bridgegraph)return d.bridgegraph;var e=d.bridgegraph=b.createGraph("BRIDGEGRAPH",b.GraphType.BRIDGE);if(!(d.parentNode&&"metagraph"in d.parentNode))return e;var f=d.parentNode;d=f.metagraph;f=this.getBridgegraph(f.name);_.each([d,f],function(d){_(d.edges()).filter(function(b){return b.v===a||b.w===a}).each(function(f){var g=f.w===a,k=d.edge(f);_.each(k.baseEdgeList,function(d){var k=g?[d.w,f.v]:[d.v,f.w],l=k[1];k=c.getChildName(a,k[0]);l={v:g?l:k,w:g?k:l};
k=e.edge(l);k||(k=b.createMetaedge(l.v,l.w),k.inbound=g,e.setEdge(l.v,l.w,k));k.addBaseEdge(d,c)})}).value()});return e};a.prototype.getChildName=function(a,b){for(var c=this.index[b];c;){if(c.parentNode&&c.parentNode.name===a)return c.name;c=c.parentNode}throw Error("Could not find immediate child for descendant: "+b);};a.prototype.getPredecessors=function(a){var c=this,d=this.index[a];if(!d)throw Error("Could not find node with name: "+a);var e=this.getOneWayEdges(d,!0);d.isGroupNode||_.each(d.inEmbeddings,
function(f){_.each(d.inputs,function(d){if(d.name===f.name){var g=new b.MetaedgeImpl(f.name,a);g.addBaseEdge({isControlDependency:d.isControlDependency,outputTensorKey:d.outputTensorKey,isReferenceEdge:!1,v:f.name,w:a},c);e.regular.push(g)}})});return e};a.prototype.getSuccessors=function(a){var c=this,d=this.index[a];if(!d)throw Error("Could not find node with name: "+a);var e=this.getOneWayEdges(d,!1);d.isGroupNode||_.each(d.outEmbeddings,function(d){_.each(d.inputs,function(f){if(f.name===a){var g=
new b.MetaedgeImpl(a,d.name);g.addBaseEdge({isControlDependency:f.isControlDependency,outputTensorKey:f.outputTensorKey,isReferenceEdge:!1,v:a,w:d.name},c);e.regular.push(g)}})});return e};a.prototype.getOneWayEdges=function(a,b){var c={control:[],regular:[]};if(!a.parentNode||!a.parentNode.isGroupNode)return c;var e=a.parentNode,f=e.metagraph;e=this.getBridgegraph(e.name);d(f,a,b,c);d(e,a,b,c);return c};a.prototype.getTopologicalOrdering=function(a){var b=this.index[a];if(!b)throw Error("Could not find node with name: "+
a);if(!b.isGroupNode)return null;if(a in this.orderings)return this.orderings[a];var c={},d={},e=b.metagraph;_.each(e.edges(),function(a){e.edge(a).numRegularEdges&&(a.v in c||(c[a.v]=[]),c[a.v].push(a.w),d[a.w]=!0)});var f=_.difference(_.keys(c),_.keys(d));a=this.orderings[a]={};for(b=0;f.length;){var g=f.shift();a[g]=b++;_.each(c[g],function(a){return f.push(a)});delete c[g]}return a};a.prototype.getTemplateIndex=function(){var a=d3.keys(this.templates),b=d3.scaleOrdinal().domain(a).range(d3.range(0,
a.length));return function(a){return b(a)}};return a}();c.build=function(c,d,k){var l=new n,m={};return a.graph.util.runAsyncTask("Adding nodes",20,function(){var a={},b={};_.each(c.nodes,function(c){c.device&&(a[c.device]=!0);c.xlaCluster&&(b[c.xlaCluster]=!0)});l.devices=_.keys(a);l.xlaClusters=_.keys(b);e(l,c)},k).then(function(){return a.graph.util.runAsyncTask("Detect series",20,function(){0<d.seriesNodeMinSize&&g(l.root,l,m,d.seriesNodeMinSize,d.seriesMap)},k)}).then(function(){return a.graph.util.runAsyncTask("Adding edges",
30,function(){f(l,c)},k)}).then(function(){return a.graph.util.runAsyncTask("Finding similar subgraphs",30,function(){l.templates=b.template.detect(l,d.verifyTemplate)},k)}).then(function(){return l})};c.joinAndAggregateStats=function(a){var c={};_.each(a.root.leaves(),function(b){b=a.node(b);null!=b.device&&(c[b.device]=!0)});a.devices=_.keys(c);_.each(a.getNodeMap(),function(a){a.isGroupNode&&(a.stats=new b.NodeStats(null),a.deviceHistogram={})});_.each(a.root.leaves(),function(b){for(var c=b=a.node(b);null!=
c.parentNode;){if(null!=b.device){var d=c.parentNode.deviceHistogram;d[b.device]=(d[b.device]||0)+1}null!=b.stats&&c.parentNode.stats.combine(b.stats);c=c.parentNode}})};c.getIncompatibleOps=function(c,d){var e=[],f={};_.each(c.root.leaves(),function(g){g=c.node(g);if(g.type==b.NodeType.OP){if(!g.compatible)if(g.owningSeries)if(d&&d.seriesMap[g.owningSeries]===a.graph.SeriesGroupingType.UNGROUP)e.push(g);else{if(!f[g.owningSeries]){var k=c.node(g.owningSeries);k&&(f[g.owningSeries]=k,e.push(k))}}else e.push(g);
_.each(g.inEmbeddings,function(a){a.compatible||e.push(a)});_.each(g.outEmbeddings,function(a){a.compatible||e.push(a)})}});return e}})(b.hierarchy||(b.hierarchy={}))})(a.graph||(a.graph={}))})(U||(U={}));
</script>
<script>//~~WEBPATH~~/tf-graph-common/layout.js
(function(a){(function(a){(function(b){function c(b){b.node.isGroupNode&&e(b);b.node.type===a.NodeType.META?g(b):b.node.type===a.NodeType.SERIES&&k(b)}function e(d){var e=d.coreGraph.nodes().map(function(a){return d.coreGraph.node(a)}).concat(d.isolatedInExtract,d.isolatedOutExtract,d.libraryFunctionsExtract);_.each(e,function(d){switch(d.node.type){case a.NodeType.OP:_.extend(d,b.PARAMS.nodeSize.op);break;case a.NodeType.BRIDGE:_.extend(d,b.PARAMS.nodeSize.bridge);break;case a.NodeType.META:d.expanded?
c(d):(_.extend(d,b.PARAMS.nodeSize.meta),d.height=b.PARAMS.nodeSize.meta.height(d.node.cardinality));break;case a.NodeType.SERIES:d.expanded?(_.extend(d,b.PARAMS.nodeSize.series.expanded),c(d)):_.extend(d,d.node.hasNonControlEdges?b.PARAMS.nodeSize.series.vertical:b.PARAMS.nodeSize.series.horizontal);break;default:throw Error("Unrecognized node type: "+d.node.type);}d.expanded||(d.inboxWidth=0<d.inAnnotations.list.length?b.PARAMS.annotations.inboxWidth:0,d.outboxWidth=0<d.outAnnotations.list.length?
b.PARAMS.annotations.outboxWidth:0,d.coreBox.width=d.width,d.coreBox.height=d.height,d.width=Math.max(d.coreBox.width+d.inboxWidth+d.outboxWidth,3*d.displayName.length));l(d)})}function f(b,c){_.extend(b.graph(),{nodesep:c.nodeSep,ranksep:c.rankSep,edgesep:c.edgeSep});var d=[],e=[];_.each(b.nodes(),function(c){b.node(c).node.type===a.NodeType.BRIDGE?d.push(c):e.push(c)});if(!e.length)return{width:0,height:0};dagre.layout(b);var f=Infinity,g=Infinity,k=-Infinity,l=-Infinity;_.each(e,function(a){a=
b.node(a);var c=.5*a.width,d=a.x-c;c=a.x+c;f=d<f?d:f;k=c>k?c:k;c=.5*a.height;d=a.y-c;a=a.y+c;g=d<g?d:g;l=a>l?a:l});_.each(b.edges(),function(a){a=b.edge(a);if(!a.structural){var c=b.node(a.metaedge.v),d=b.node(a.metaedge.w);3===a.points.length&&p(a.points)&&(null!=c&&(a.points[0].x=c.expanded?c.x:n(c)),null!=d&&(a.points[2].x=d.expanded?d.x:n(d)),a.points=[a.points[0],a.points[1]]);var e=a.points[a.points.length-2];null!=d&&(a.points[a.points.length-1]=t(e,d));d=a.points[1];null!=c&&(a.points[0]=
t(d,c));_.each(a.points,function(a){f=a.x<f?a.x:f;k=a.x>k?a.x:k;g=a.y<g?a.y:g;l=a.y>l?a.y:l})}});_.each(b.nodes(),function(a){a=b.node(a);a.x-=f;a.y-=g});_.each(b.edges(),function(a){_.each(b.edge(a).points,function(a){a.x-=f;a.y-=g})});return{width:k-f,height:l-g}}function g(a){var c=b.PARAMS.subscene.meta;_.extend(a,c);_.extend(a.coreBox,f(a.coreGraph,b.PARAMS.graph.meta));var d=_.max(a.isolatedInExtract,function(a){return a.width}).width;a.inExtractBox.width=null!=d?d:0;a.inExtractBox.height=_.reduce(a.isolatedInExtract,
function(a,b,d){d=0<d?c.extractYOffset:0;b.x=0;b.y=a+d+b.height/2;return a+d+b.height},0);d=_.max(a.isolatedOutExtract,function(a){return a.width}).width;a.outExtractBox.width=null!=d?d:0;a.outExtractBox.height=_.reduce(a.isolatedOutExtract,function(a,b,d){d=0<d?c.extractYOffset:0;b.x=0;b.y=a+d+b.height/2;return a+d+b.height},0);d=_.max(a.libraryFunctionsExtract,function(a){return a.width}).width;a.libraryFunctionsBox.width=null!=d?d:0;a.libraryFunctionsBox.height=_.reduce(a.libraryFunctionsExtract,
function(a,b,d){d=0<d?c.extractYOffset:0;b.x=0;b.y=a+d+b.height/2;return a+d+b.height},0);d=0;0<a.isolatedInExtract.length&&d++;0<a.isolatedOutExtract.length&&d++;0<a.libraryFunctionsExtract.length&&d++;0<a.coreGraph.nodeCount()&&d++;var e=b.PARAMS.subscene.meta.extractXOffset;d=1>=d?0:d*e;a.coreBox.width+=Math.max(b.MIN_AUX_WIDTH,a.inExtractBox.width+a.outExtractBox.width)+d+a.libraryFunctionsBox.width+d;a.coreBox.height=c.labelHeight+Math.max(a.inExtractBox.height,a.coreBox.height,a.libraryFunctionsBox.height,
a.outExtractBox.height);a.width=a.coreBox.width+c.paddingLeft+c.paddingRight;a.height=a.paddingTop+a.coreBox.height+a.paddingBottom}function k(a){var c=a.coreGraph,d=b.PARAMS.subscene.series;_.extend(a,d);_.extend(a.coreBox,f(a.coreGraph,b.PARAMS.graph.series));_.each(c.nodes(),function(a){c.node(a).excluded=!1});a.width=a.coreBox.width+d.paddingLeft+d.paddingRight;a.height=a.coreBox.height+d.paddingTop+d.paddingBottom}function l(a){if(!a.expanded){var c=a.inAnnotations.list,d=a.outAnnotations.list;
_.each(c,function(a){return m(a)});_.each(d,function(a){return m(a)});var e=b.PARAMS.annotations,f=_.reduce(c,function(b,c,d){d=0<d?e.yOffset:0;c.dx=-(a.coreBox.width+c.width)/2-e.xOffset;c.dy=b+d+c.height/2;return b+d+c.height},0);_.each(c,function(a){a.dy-=f/2;a.labelOffset=e.labelOffset});var g=_.reduce(d,function(b,c,d){d=0<d?e.yOffset:0;c.dx=(a.coreBox.width+c.width)/2+e.xOffset;c.dy=b+d+c.height/2;return b+d+c.height},0);_.each(d,function(a){a.dy-=g/2;a.labelOffset=e.labelOffset});var k=Math.min(a.height/
2-a.radius,f/2);k=0>k?0:k;var l=d3.scaleLinear().domain([0,c.length-1]).range([-k,k]);_.each(c,function(b,d){b.points=[{dx:b.dx+b.width/2,dy:b.dy},{dx:-a.coreBox.width/2,dy:1<c.length?l(d):0}]});k=Math.min(a.height/2-a.radius,g/2);k=0>k?0:k;var n=d3.scaleLinear().domain([0,d.length-1]).range([-k,k]);_.each(d,function(b,c){b.points=[{dx:a.coreBox.width/2,dy:1<d.length?n(c):0},{dx:b.dx-b.width/2,dy:b.dy}]});a.height=Math.max(a.height,f,g)}}function m(c){switch(c.annotationType){case a.render.AnnotationType.CONSTANT:_.extend(c,
b.PARAMS.constant.size);break;case a.render.AnnotationType.SHORTCUT:if(c.node.type===a.NodeType.OP)_.extend(c,b.PARAMS.shortcutSize.op);else if(c.node.type===a.NodeType.META)_.extend(c,b.PARAMS.shortcutSize.meta);else if(c.node.type===a.NodeType.SERIES)_.extend(c,b.PARAMS.shortcutSize.series);else throw Error("Invalid node type: "+c.node.type);break;case a.render.AnnotationType.SUMMARY:_.extend(c,b.PARAMS.constant.size)}}function n(a){return a.expanded?a.x:a.x-a.width/2+(a.inAnnotations.list.length?
a.inboxWidth:0)+a.coreBox.width/2}function q(a,b){return 180*Math.atan((b.y-a.y)/(b.x-a.x))/Math.PI}function p(a){for(var b=q(a[0],a[1]),c=1;c<a.length-1;c++){var d=q(a[c],a[c+1]);if(1<Math.abs(d-b))return!1;b=d}return!0}function t(a,b){var c=b.expanded?b.x:n(b),d=b.y,e=a.x-c;a=a.y-d;var f=b.expanded?b.width:b.coreBox.width,g=b.expanded?b.height:b.coreBox.height;Math.abs(a)*f/2>Math.abs(e)*g/2?(0>a&&(g=-g),b=0===a?0:g/2*e/a,e=g/2):(0>e&&(f=-f),b=f/2,e=0===e?0:f/2*a/e);return{x:c+b,y:d+e}}b.PARAMS=
{animation:{duration:250},graph:{meta:{nodeSep:5,rankSep:25,edgeSep:5},series:{nodeSep:5,rankSep:25,edgeSep:5},padding:{paddingTop:40,paddingLeft:20}},subscene:{meta:{paddingTop:10,paddingBottom:10,paddingLeft:10,paddingRight:10,labelHeight:20,extractXOffset:15,extractYOffset:20},series:{paddingTop:10,paddingBottom:10,paddingLeft:10,paddingRight:10,labelHeight:10}},nodeSize:{meta:{radius:5,width:60,maxLabelWidth:52,height:d3.scaleLinear().domain([1,200]).range([15,60]).clamp(!0),expandButtonRadius:3},
op:{width:15,height:6,radius:3,labelOffset:-8,maxLabelWidth:30},series:{expanded:{radius:10,labelOffset:0},vertical:{width:16,height:13,labelOffset:-13},horizontal:{width:24,height:8,radius:10,labelOffset:-10}},bridge:{width:20,height:20,radius:2,labelOffset:0}},shortcutSize:{op:{width:10,height:4},meta:{width:12,height:4,radius:1},series:{width:14,height:4}},annotations:{inboxWidth:50,outboxWidth:50,xOffset:10,yOffset:3,labelOffset:2,maxLabelWidth:120},constant:{size:{width:4,height:4}},series:{maxStackCount:3,
parallelStackOffsetRatio:.2,towerStackOffsetRatio:.5},minimap:{size:150}};b.MIN_AUX_WIDTH=140;b.layoutScene=c;b.computeCXPositionOfNodeShape=n})(a.layout||(a.layout={}))})(a.graph||(a.graph={}))})(U||(U={}));
</script>
<script>//~~WEBPATH~~/tf-graph-common/op.js
(function(a){(function(a){(function(a){function b(b){return b.device&&-1==b.device.toLowerCase().search("tpu")?!0:-1!=a.WHITELIST.indexOf(b.op)}a.WHITELIST="Abs Acosh Add AddN All Any ApproximateEqual Asinh Assert AssignAddVariableOp AssignSubVariableOp AssignVariableOp Atanh AvgPool AvgPool3D AvgPool3DGrad AvgPoolGrad BatchMatMul BatchToSpace BatchToSpaceND BiasAdd BiasAddGrad BiasAddV1 BroadcastGradientArgs Cast Ceil CheckNumerics Concat ConcatOffset ConcatV2 Const ControlTrigger Conv2D Conv2DBackpropFilter Conv2DBackpropInput Conv3D Conv3DBackpropFilterV2 Conv3DBackpropInputV2 Cos Cosh Cross CrossReplicaSum DepthwiseConv2dNative DepthwiseConv2dNativeBackpropFilter DepthwiseConv2dNativeBackpropInput Diag DiagPart Div DynamicStitch Elu EluGrad Empty Equal Exp ExpandDims Expm1 Fill Floor FloorDiv FloorMod FusedBatchNorm FusedBatchNormGrad Gather Greater GreaterEqual Identity If InfeedDequeue InfeedDequeueTuple InplaceAdd InplaceUpdate Inv InvertPermutation IsFinite IsInf IsNan L2Loss Less LessEqual LinSpace Log Log1p LogicalAnd LogicalNot LogicalOr LogSoftmax LRN LRNGrad MatMul MatrixDiag MatrixDiagPart Max Maximum MaxPool MaxPool3D MaxPool3DGrad MaxPoolGrad Mean Min Minimum MirrorPad Mod Mul Neg NoOp NotEqual OneHot OnesLike OutfeedEnqueue OutfeedEnqueueTuple Pack Pad PadV2 Pow PreventGradient Prod RandomStandardNormal RandomUniform RandomUniformInt Range Rank ReadVariableOp RealDiv Reciprocal ReciprocalGrad RecvBarnaCoreActivations Relu Relu6 Relu6Grad ReluGrad Reshape ResourceApplyAdagrad ResourceApplyAdam ResourceApplyFtrl ResourceApplyFtrlV2 ResourceApplyGradientDescent ResourceApplyMomentum ResourceApplyRMSProp ResourceGather ResourceStridedSliceAssign Reverse ReverseV2 Rint Round Rsqrt RsqrtGrad Select Selu SeluGrad SendBarnaCoreGradients Shape ShapeN Sigmoid SigmoidGrad Sign Sin Sinh Size Slice Softmax SoftmaxCrossEntropyWithLogits Softplus SoftplusGrad Softsign SoftsignGrad SpaceToBatch SpaceToBatchND SparseMatMul SparseSoftmaxCrossEntropyWithLogits Split SplitV Sqrt SqrtGrad Square SquaredDifference Squeeze StackCloseV2 StackPopV2 StackPushV2 StackV2 StopGradient StridedSlice StridedSliceGrad Sub Sum SymbolicGradient Tan Tanh TanhGrad TensorArrayCloseV3 TensorArrayConcatV3 TensorArrayGatherV3 TensorArrayGradV3 TensorArrayReadV3 TensorArrayScatterV3 TensorArraySizeV3 TensorArraySplitV3 TensorArrayV3 TensorArrayWriteV3 Tile Transpose TruncateDiv TruncatedNormal TruncateMod Unpack UnsortedSegmentSum VarIsInitializedOp While XlaWhile ZerosLike".split(" ");
a.opValid=b;a.checkOpsForCompatibility=function(a){_.each(a.nodes,function(a){a.compatible=b(a);_.each(a.inEmbeddings,function(a){a.compatible=b(a)});_.each(a.outEmbeddings,function(a){a.compatible=b(a)})})}})(a.op||(a.op={}))})(a.graph||(a.graph={}))})(U||(U={}));
</script>
<script>//~~WEBPATH~~/tf-graph-common/parser.js
(function(a){(function(b){(function(b){function c(a){if("true"===a)return!0;if("false"===a)return!1;if('"'===a[0])return a.substring(1,a.length-1);var b=parseFloat(a);return isNaN(b)?a:b}function e(a){return new Promise(function(b,c){var d=new XMLHttpRequest;d.open("GET",a);d.responseType="arraybuffer";d.onerror=function(){return c(d.status)};d.onload=function(){return b(d.response)};d.send(null)})}function f(a,b,c,d){void 0===c&&(c=1E6);void 0===d&&(d="\n");return new Promise(function(e){function f(m,
n){m=new Blob([a.slice(m,m+n)]);n=new FileReader;n.onload=function(a){a=a.target.result;g+=c;a=a.split(d);var m=l+a[0];if(1===a.length)l=m,f(g,c);else{l=a[a.length-1];b(m);for(m=1;m<a.length-1;m++)b(a[m]);g>=k?(l&&b(l),e(!0)):f(g,c)}};n.readAsText(m)}var g=0,k=a.byteLength-1,l="";f(g,c)})}function g(a){return l(a,m)}function k(a){return l(a,n).then(function(a){return a.step_stats})}function l(a,b){function d(a,c,d,e){var f=a[c];null==f?a[c]=e.join(".")in b?[d]:d:Array.isArray(f)?f.push(d):a[c]=[f,
d]}var e={},g=[],k=[],l=e;return f(a,function(a){if(a)switch(a=a.trim(),a[a.length-1]){case "{":a=a.substring(0,a.length-2).trim();var b={};g.push(l);k.push(a);d(l,a,b,k);l=b;break;case "}":l=g.pop();k.pop();break;default:b=a;var e=b.indexOf(":");a=b.substring(0,e).trim();b=c(b.substring(e+2).trim());d(l,a,b,k.concat(a))}}).then(function(){return e})}b.fetchPbTxt=e;b.fetchAndParseMetadata=function(b,c){return a.graph.util.runTask("Reading metadata pbtxt",40,function(){return null==b?Promise.resolve(null):
e(b)},c).then(function(b){return a.graph.util.runAsyncPromiseTask(function(){return null!=b?k(b):Promise.resolve(null)},c)})};b.fetchAndParseGraphData=function(b,c,d){return a.graph.util.runTask("Reading graph pbtxt",40,function(){return c?new Promise(function(a,b){var d=new FileReader;d.onload=function(){return a(d.result)};d.onerror=function(){return b(d.error)};d.readAsArrayBuffer(c)}):e(b)},d).then(function(b){return a.graph.util.runTask("Parsing graph.pbtxt",60,function(){return g(b)},d)})};
b.streamParse=f;var m={"library.function":!0,"library.function.node_def":!0,"library.function.signature.input_arg":!0,"library.function.signature.output_arg":!0,"library.versions":!0,node:!0,"node.input":!0,"node.attr":!0,"node.attr.value.list.type":!0,"node.attr.value.shape.dim":!0,"node.attr.value.tensor.string_val":!0,"node.attr.value.tensor.tensor_shape.dim":!0,"node.attr.value.list.shape":!0,"node.attr.value.list.shape.dim":!0,"node.attr.value.list.s":!0},n={"step_stats.dev_stats":!0,"step_stats.dev_stats.node_stats":!0,
"step_stats.dev_stats.node_stats.output":!0,"step_stats.dev_stats.node_stats.memory":!0,"step_stats.dev_stats.node_stats.output.tensor_description.shape.dim":!0};b.parseGraphPbTxt=g;b.parseStatsPbTxt=k})(b.parser||(b.parser={}))})(a.graph||(a.graph={}))})(U||(U={}));
</script>
<script>//~~WEBPATH~~/tf-graph-common/proto.js
var Cc=U||(U={}),Dc=Cc.graph||(Cc.graph={});Dc.proto||(Dc.proto={});
</script>
<script>//~~WEBPATH~~/tf-graph-common/render.js
var Ec=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var b in c)c.hasOwnProperty(b)&&(a[b]=c[b])};return function(b,c){function d(){this.constructor=b}a(b,c);b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}();
(function(a){(function(b){(function(c){function d(a,c){_.each(a.nodes(),function(e){e=a.node(e);e.expanded=1<c;if(0<c)switch(e.node.type){case b.NodeType.META:case b.NodeType.SERIES:e.coreGraph&&d(e.coreGraph,c-1)}})}function e(a,c,d){var e=a.node(c),f=a.node(d),g=a.edge(c,d);if(e.node.include!==b.InclusionType.INCLUDE&&f.node.include!==b.InclusionType.INCLUDE||e.node.include===b.InclusionType.EXCLUDE||f.node.include===b.InclusionType.EXCLUDE){var k=new z(f.node,f,g,w.SHORTCUT,!1);e.outAnnotations.push(k);
e=new z(e.node,e,g,w.SHORTCUT,!0);f.inAnnotations.push(e);a.removeEdge(c,d)}}function f(a,c,d){var f=a.coreGraph,g=f.node(c);g.isOutExtract=!0;_.each(f.predecessors(c),function(a){e(f,a,c)});(r.detachAllEdgesForHighDegree||d)&&_.each(f.successors(c),function(a){e(f,c,a)});0===f.neighbors(c).length&&(g.node.include=b.InclusionType.EXCLUDE,a.isolatedOutExtract.push(g),f.removeNode(c))}function g(a,c,d){var f=a.coreGraph,g=f.node(c);g.isInExtract=!0;_.each(f.successors(c),function(a){e(f,c,a)});(r.detachAllEdgesForHighDegree||
d)&&_.each(f.predecessors(c),function(a){e(f,a,c)});0===f.neighbors(c).length&&(g.node.include=b.InclusionType.EXCLUDE,a.isolatedInExtract.push(g),f.removeNode(c))}function k(a,c){if(a.type===b.NodeType.OP)for(var d=0;d<c.length;d++){if(a.op===c[d])return!0}else if(a.type===b.NodeType.META&&(a=a.getRootOp()))for(d=0;d<c.length;d++)if(a.op===c[d])return!0;return!1}function l(c){var d=c.coreGraph;_.each(d.nodes(),function(e){d.node(e).node.include!==b.InclusionType.EXCLUDE||e.startsWith(a.graph.FUNCTION_LIBRARY_NODE_PREFIX)||
(c.coreGraph.outEdges(e).length>c.coreGraph.inEdges(e).length?f(c,e,!0):g(c,e,!0))})}function m(a){var c=a.coreGraph;_.each(c.nodes(),function(d){var e=c.node(d);e.node.include===b.InclusionType.UNSPECIFIED&&k(e.node,r.outExtractTypes)&&f(a,d)})}function n(a){var c=a.coreGraph;_.each(c.nodes(),function(d){var e=c.node(d);e.node.include===b.InclusionType.UNSPECIFIED&&k(e.node,r.inExtractTypes)&&g(a,d)})}function q(a){var c=a.coreGraph,d={},e={},k=0;_.each(c.nodes(),function(a){if(c.node(a).node.include===
b.InclusionType.UNSPECIFIED){var f=_.reduce(c.predecessors(a),function(b,d){d=c.edge(d,a).metaedge;return b+(d.numRegularEdges?1:0)},0);0===f&&0<c.predecessors(a).length&&(f=c.predecessors(a).length);var g=_.reduce(c.successors(a),function(b,d){d=c.edge(a,d).metaedge;return b+(d.numRegularEdges?1:0)},0);0===g&&0<c.successors(a).length&&(g=c.successors(a).length);d[a]=f;e[a]=g;k++}});if(!(k<r.minNodeCountForExtraction)){var l=r.minDegreeForExtraction-1,m=Math.round(.75*k),n=Math.round(.25*k),p=Object.keys(d).sort(function(a,
b){return d[a]-d[b]}),q=d[p[m]],t=q+q-d[p[n]];t=Math.max(t,l);for(q=k-1;d[p[q]]>t;q--)g(a,p[q]);p=Object.keys(e).sort(function(a,b){return e[a]-e[b]});q=e[p[m]];n=q+4*(q-e[p[n]]);n=Math.max(n,l);for(q=k-1;e[p[q]]>n;q--)(l=c.node(p[q]))&&!l.isInExtract&&f(a,p[q])}}function p(a){var b=a.coreGraph,c={};_.each(b.edges(),function(a){b.edge(a).metaedge.numRegularEdges||((c[a.v]=c[a.v]||[]).push(a),(c[a.w]=c[a.w]||[]).push(a))});_.each(c,function(a){a.length>r.maxControlDegree&&_.each(a,function(a){return e(b,
a.v,a.w)})})}function t(a){l(a);r.outExtractTypes&&m(a);r.inExtractTypes&&n(a);q(a);r.maxControlDegree&&p(a);var c=a.coreGraph;_.each(c.nodes(),function(d){var e=c.node(d),f=c.neighbors(d).length;if(e.node.include===b.InclusionType.UNSPECIFIED&&0===f){f=0<e.outAnnotations.list.length;var g=0<e.inAnnotations.list.length;e.isInExtract?(a.isolatedInExtract.push(e),e.node.include=b.InclusionType.EXCLUDE,c.removeNode(d)):e.isOutExtract?(a.isolatedOutExtract.push(e),e.node.include=b.InclusionType.EXCLUDE,
c.removeNode(d)):r.extractIsolatedNodesWithAnnotationsOnOneSide&&(f&&!g?(e.isInExtract=!0,a.isolatedInExtract.push(e),e.node.include=b.InclusionType.EXCLUDE,c.removeNode(d)):g&&!f&&(e.isOutExtract=!0,a.isolatedOutExtract.push(e),e.node.include=b.InclusionType.EXCLUDE,c.removeNode(d)))}})}c.OpNodeColors={DEFAULT_FILL:"#ffffff",DEFAULT_STROKE:"#b2b2b2",COMPATIBLE:"#0f9d58",INCOMPATIBLE:"#db4437"};c.MetanodeColors={DEFAULT_FILL:"#d9d9d9",DEFAULT_STROKE:"#a6a6a6",SATURATION:.6,LIGHTNESS:.85,EXPANDED_COLOR:"#f0f0f0",
HUES:[220,100,180,40,20,340,260,300,140,60],STRUCTURE_PALETTE:function(a,b){var d=c.MetanodeColors.HUES;a=d[a%d.length];d=Math.sin(a*Math.PI/360);return d3.hsl(a,.01*(b?30:90-60*d),.01*(b?95:80)).toString()},DEVICE_PALETTE:function(a){return c.MetanodeColors.STRUCTURE_PALETTE(a)},XLA_CLUSTER_PALETTE:function(a){return c.MetanodeColors.STRUCTURE_PALETTE(a)},UNKNOWN:"#eee",GRADIENT_OUTLINE:"#888"};c.SeriesNodeColors={DEFAULT_FILL:"white",DEFAULT_STROKE:"#b2b2b2"};var r={enableExtraction:!0,minNodeCountForExtraction:15,
minDegreeForExtraction:5,maxControlDegree:4,maxBridgePathDegree:4,outExtractTypes:["NoOp"],inExtractTypes:[],detachAllEdgesForHighDegree:!0,extractIsolatedNodesWithAnnotationsOnOneSide:!0,enableBridgegraph:!0,minMaxColors:["#fff5f0","#fb6a4a"],maxAnnotations:5},u=new RegExp("^(?:"+a.graph.FUNCTION_LIBRARY_NODE_PREFIX+")?(\\w+)_[a-z0-9]{8}(?:_\\d+)?$"),v=function(){function e(a,b){this.hierarchy=a;this.displayingStats=b;this.index={};this.renderedOpNames=[];this.computeScales();this.hasSubhierarchy=
{};this.root=new D(a.root);this.index[a.root.name]=this.root;this.renderedOpNames.push(a.root.name);this.buildSubhierarchy(a.root.name);this.root.expanded=!0;this.traceInputs=!1}e.prototype.computeScales=function(){this.deviceColorMap=d3.scaleOrdinal().domain(this.hierarchy.devices).range(_.map(d3.range(this.hierarchy.devices.length),c.MetanodeColors.DEVICE_PALETTE));this.xlaClusterColorMap=d3.scaleOrdinal().domain(this.hierarchy.xlaClusters).range(_.map(d3.range(this.hierarchy.xlaClusters.length),
c.MetanodeColors.XLA_CLUSTER_PALETTE));var a=this.hierarchy.root.metagraph,d=d3.max(a.nodes(),function(b){b=a.node(b);if(null!=b.stats)return b.stats.totalBytes});this.memoryUsageScale=d3.scaleLinear().domain([0,d]).range(r.minMaxColors);d=d3.max(a.nodes(),function(b){b=a.node(b);if(null!=b.stats)return b.stats.getTotalMicros()});this.computeTimeScale=d3.scaleLinear().domain([0,d]).range(r.minMaxColors);this.edgeWidthSizedBasedScale=this.hierarchy.hasShapeInfo?b.scene.edge.EDGE_WIDTH_SIZE_BASED_SCALE:
d3.scaleLinear().domain([1,this.hierarchy.maxMetaEdgeSize]).range([b.scene.edge.MIN_EDGE_WIDTH,b.scene.edge.MAX_EDGE_WIDTH])};e.prototype.getRenderNodeByName=function(a){return this.index[a]};e.prototype.getNodeByName=function(a){return this.hierarchy.node(a)};e.prototype.getOrCreateRenderNodeByName=function(b){var c=this;if(!b)return null;if(b in this.index)return this.index[b];var d=this.hierarchy.node(b);if(!d)return null;var e=d.isGroupNode?new D(d):new y(d);this.index[b]=e;this.renderedOpNames.push(b);
d.stats&&(e.memoryColor=this.memoryUsageScale(d.stats.totalBytes),e.computeTimeColor=this.computeTimeScale(d.stats.getTotalMicros()));if(!d.isGroupNode){var f=d.xlaCluster;f&&(e.xlaClusterColor=this.xlaClusterColorMap(f))}e.isFadedOut=this.displayingStats&&!a.graph.util.hasDisplayableNodeStats(d.stats);if(d.isGroupNode){if(d=_.pairs(d.deviceHistogram),0<d.length){var g=_.sum(d,_.last);e.deviceColors=_.map(d,function(a){return{color:c.deviceColorMap(a[0]),proportion:a[1]/g}})}}else if(d=e.node.device)e.deviceColors=
[{color:this.deviceColorMap(d),proportion:1}];return this.index[b]};e.prototype.getNearestVisibleAncestor=function(a){for(var c=b.getHierarchicalPath(a),d=0,e=null;d<c.length&&(a=c[d],e=this.getRenderNodeByName(a),e.expanded);d++);return d==c.length-2&&(c=c[d+1],e.inAnnotations.nodeNames[c]||e.outAnnotations.nodeNames[c])?c:a};e.prototype.setDepth=function(a){var b=this.root;b.coreGraph&&d(b.coreGraph,+a)};e.prototype.isNodeAuxiliary=function(a){var b=this.getRenderNodeByName(a.node.parentNode.name),
c=_.find(b.isolatedInExtract,function(b){return b.node.name===a.node.name});if(c)return!0;c=_.find(b.isolatedOutExtract,function(b){return b.node.name===a.node.name});return!!c};e.prototype.getNamesOfRenderedOps=function(){return this.renderedOpNames};e.prototype.cloneAndAddFunctionOpNode=function(a,c,d,e){function f(b){return g.cloneAndAddFunctionOpNode(a,c,b,e)}var g=this,k=d.name.replace(c,e),l=a.metagraph.node(k);if(l)return l;l=new b.OpNodeImpl({name:k,input:[],device:d.device,op:d.op,attr:_.cloneDeep(d.attr)});
l.cardinality=d.cardinality;l.include=d.include;l.outputShapes=_.cloneDeep(d.outputShapes);l.xlaCluster=d.xlaCluster;l.functionInputIndex=d.functionInputIndex;l.functionOutputIndex=d.functionOutputIndex;l.inputs=d.inputs.map(function(a){var b=_.clone(a);b.name=a.name.replace(c,e);return b});l.parentNode=a;a.metagraph.setNode(l.name,l);this.hierarchy.setNode(l.name,l);l.inEmbeddings=d.inEmbeddings.map(f);l.outEmbeddings=d.outEmbeddings.map(f);return l};e.prototype.cloneFunctionLibraryMetanode=function(c,
d,e,f,g){var k=this,l=a.graph.createMetanode(e.name.replace(f,g));l.depth=e.depth;l.cardinality=e.cardinality;l.templateId=e.templateId;l.opHistogram=_.clone(e.opHistogram);l.deviceHistogram=_.clone(e.deviceHistogram);l.hasNonControlEdges=e.hasNonControlEdges;l.include=e.include;l.nodeAttributes=_.clone(e.nodeAttributes);l.associatedFunction=e.associatedFunction;var m={};_.each(e.metagraph.nodes(),function(a){a=e.metagraph.node(a);switch(a.type){case b.NodeType.META:a=k.cloneFunctionLibraryMetanode(c,
d,a,f,g);a.parentNode=l;l.metagraph.setNode(a.name,a);k.hierarchy.setNode(a.name,a);break;case b.NodeType.OP:a=k.cloneAndAddFunctionOpNode(l,f,a,g);_.isNumber(a.functionInputIndex)&&k.patchEdgesIntoFunctionInputs(d,a);_.isNumber(a.functionOutputIndex)&&(m[a.functionOutputIndex]=a);break;default:console.warn(a.name+" is oddly neither a metanode nor an opnode.")}});this.cloneLibraryMetanodeEdges(e,l,f,g);_.isEmpty(m)||this.patchEdgesFromFunctionOutputs(d,m);return l};e.prototype.cloneLibraryMetanodeEdges=
function(a,c,d,e){_.each(a.metagraph.edges(),function(f){f=a.metagraph.edge(f);var g=f.v.replace(d,e),k=f.w.replace(d,e),l=new b.MetaedgeImpl(g,k);l.inbound=f.inbound;l.numRegularEdges=f.numRegularEdges;l.numControlEdges=f.numControlEdges;l.numRefEdges=f.numRefEdges;l.totalSize=f.totalSize;f.baseEdgeList&&(l.baseEdgeList=f.baseEdgeList.map(function(a){var b=_.clone(a);b.v=a.v.replace(d,e);b.w=a.w.replace(d,e);return b}));c.metagraph.node(k)?c.metagraph.setEdge(g,k,l):c.metagraph.setEdge(k,g,l)})};
e.prototype.patchEdgesIntoFunctionInputs=function(a,b){for(var c=b.functionInputIndex,d=_.clone(a.inputs[c]);d.isControlDependency;)c++,d=a.inputs[c];b.inputs.push(d);c=this.hierarchy.getPredecessors(a.name).regular[b.functionInputIndex];_.each(c.baseEdgeList,function(c){c.w===a.name&&(c.w=b.name);c.v===a.name&&(c.v=b.name)})};e.prototype.patchEdgesFromFunctionOutputs=function(a,b){var c=this,d=this.hierarchy.getSuccessors(a.name);_.each(d.regular,function(d){_.each(d.baseEdgeList,function(d){var e=
c.hierarchy.node(d.w);_.each(e.inputs,function(c){c.name===a.name&&(c.name=b[c.outputTensorKey].name,c.outputTensorKey=d.outputTensorKey)})});_.each(d.baseEdgeList,function(a){a.v=b[a.outputTensorKey].name;a.outputTensorKey="0"})})};e.prototype.buildSubhierarchy=function(c){var d=this;if(!(c in this.hasSubhierarchy)){this.hasSubhierarchy[c]=!0;var e=this.index[c];if(e.node.type===b.NodeType.META||e.node.type===b.NodeType.SERIES){var f=e.node.metagraph,g=e.coreGraph,k=[],l=[];_.isEmpty(this.hierarchy.libraryFunctions)||
(_.each(f.nodes(),function(b){var c=f.node(b),e=d.hierarchy.libraryFunctions[c.op];e&&0!==b.indexOf(a.graph.FUNCTION_LIBRARY_NODE_PREFIX)&&(b=d.cloneFunctionLibraryMetanode(f,c,e.node,e.node.name,c.name),k.push(c),l.push(b))}),_.each(l,function(a,b){b=k[b];a.parentNode=b.parentNode;f.setNode(b.name,a);d.hierarchy.setNode(b.name,a)}));_.each(f.nodes(),function(a){var b=d.getOrCreateRenderNodeByName(a),c=b.node;g.setNode(a,b);c.isGroupNode||(_.each(c.inEmbeddings,function(a){var c=new C(null),e=new y(a);
c=new z(a,e,c,w.CONSTANT,!0);b.inAnnotations.push(c);d.index[a.name]=e}),_.each(c.outEmbeddings,function(a){var c=new C(null),e=new y(a);c=new z(a,e,c,w.SUMMARY,!1);b.outAnnotations.push(c);d.index[a.name]=e}))});_.each(f.edges(),function(a){var b=f.edge(a);b=new C(b);b.isFadedOut=d.index[a.v].isFadedOut||d.index[a.w].isFadedOut;g.setEdge(a.v,a.w,b)});_.isEmpty(this.hierarchy.libraryFunctions)||this.buildSubhierarchiesForNeededFunctions(f);r.enableExtraction&&e.node.type===b.NodeType.META&&t(e);c===
a.graph.ROOT_NAME&&_.forOwn(this.hierarchy.libraryFunctions,function(a){a=a.node;var c=d.getOrCreateRenderNodeByName(a.name);e.libraryFunctionsExtract.push(c);c.node.include=b.InclusionType.EXCLUDE;g.removeNode(a.name)});var m=e.node.parentNode;if(m){var n=this.index[m.name],p=function(a){for(var b=[],c=1;c<arguments.length;c++)b[c-1]=arguments[c];return b.concat([a?"IN":"OUT"]).join("~~")},q=this.hierarchy.getBridgegraph(c),u={},v={},A={};_.each(q.edges(),function(a){var b=!!f.node(a.w),c=b?a.v:
a.w;q.edge(a).numRegularEdges?b?v[c]=(v[c]||0)+1:u[c]=(u[c]||0)+1:A[c]=(A[c]||0)+1});var D=this.hierarchy.getNodeMap();_.each(q.edges(),function(a){var k=q.edge(a),l=!!f.node(a.w),t=l?[a.w,a.v]:[a.v,a.w];a=t[0];var B=t[1],L=d.index[a],H=d.index[B],M=H?H.node:D[B],K=!k.numRegularEdges&&A[B]>r.maxControlDegree,G=(l?[e.inAnnotations,L.inAnnotations]:[e.outAnnotations,L.outAnnotations])[1],J=(l?v:u)[B]>r.maxBridgePathDegree;t=null;var E=!1;r.enableBridgegraph&&!J&&!K&&L.isInCore()&&(E=function(a){return n.coreGraph.edge(l?
{v:a,w:c}:{v:c,w:a})},(t=E(B))||(t=E(p(l,B,m.name))),E=!!t);L=!1;if(t&&!k.numRegularEdges){L=t;for(K=n.node;L.adjoiningMetaedge;)L=L.adjoiningMetaedge,K=K.parentNode;K=d.hierarchy.getTopologicalOrdering(K.name);L=L.metaedge;L=K[L.v]>K[L.w]}E&&!L?(H=p(l,c),B=p(l,B,c),M=g.node(B),M||(G=g.node(H),G||(G=new y({name:H,type:b.NodeType.BRIDGE,isGroupNode:!1,cardinality:0,parentNode:null,stats:null,include:b.InclusionType.UNSPECIFIED,inbound:l,nodeAttributes:{}}),d.index[H]=G,g.setNode(H,G)),M=new y({name:B,
type:b.NodeType.BRIDGE,isGroupNode:!1,cardinality:1,parentNode:null,stats:null,include:b.InclusionType.UNSPECIFIED,inbound:l,nodeAttributes:{}}),d.index[B]=M,g.setNode(B,M),g.setParent(B,H),G.node.cardinality++),k=new C(k),k.adjoiningMetaedge=t,l?g.setEdge(B,a,k):g.setEdge(a,B,k)):G.push(new z(M,H,new C(k),w.SHORTCUT,l))});_.each([!0,!1],function(a){var e=p(a,c),f=g.node(e);f&&_.each(g.nodes(),function(k){if(g.node(k).node.type!==b.NodeType.BRIDGE&&(a?!g.predecessors(k).length:!g.successors(k).length)){var l=
p(a,c,"STRUCTURAL_TARGET"),m=g.node(l);m||(m=new y({name:l,type:b.NodeType.BRIDGE,isGroupNode:!1,cardinality:1,parentNode:null,stats:null,include:b.InclusionType.UNSPECIFIED,inbound:a,nodeAttributes:{}}),m.structural=!0,d.index[l]=m,g.setNode(l,m),f.node.cardinality++,g.setParent(l,e));m=new C(null);m.structural=!0;m.weight--;a?g.setEdge(l,k,m):g.setEdge(k,l,m)}})})}}}};e.prototype.buildSubhierarchiesForNeededFunctions=function(c){var d=this;_.each(c.edges(),function(e){e=c.edge(e);e=new C(e);_.forEach(e.metaedge.baseEdgeList,
function(c){for(var e=c.v.split(a.graph.NAMESPACE_DELIM),f=e.length;0<=f;f--){c=e.slice(0,f);var g=d.hierarchy.node(c.join(a.graph.NAMESPACE_DELIM));if(g){if(g.type===b.NodeType.OP&&d.hierarchy.libraryFunctions[g.op])for(e=1;e<c.length;e++)(f=c.slice(0,e).join(a.graph.NAMESPACE_DELIM))&&d.buildSubhierarchy(f);break}}})})};return e}();c.RenderGraphInfo=v;var z=function(){return function(a,b,c,d,e){this.node=a;this.renderNodeInfo=b;this.renderMetaedgeInfo=c;this.annotationType=d;this.height=this.width=
this.dy=this.dx=0;c&&c.metaedge&&(this.v=c.metaedge.v,this.w=c.metaedge.w);this.isIn=e;this.points=[]}}();c.Annotation=z;var w;(function(a){a[a.SHORTCUT=0]="SHORTCUT";a[a.CONSTANT=1]="CONSTANT";a[a.SUMMARY=2]="SUMMARY";a[a.ELLIPSIS=3]="ELLIPSIS"})(w=c.AnnotationType||(c.AnnotationType={}));var A=function(){function b(){this.list=[];this.nodeNames={}}b.prototype.push=function(b){if(!(b.node.name in this.nodeNames))if(this.nodeNames[b.node.name]=!0,this.list.length<r.maxAnnotations)this.list.push(b);
else{var c=this.list[this.list.length-1];c.annotationType===w.ELLIPSIS?(b=c.node,b.setNumMoreNodes(++b.numMoreNodes)):(c=new a.graph.EllipsisNodeImpl(1),this.list.push(new z(c,new y(c),null,w.ELLIPSIS,b.isIn)))}};return b}();c.AnnotationList=A;var y=function(){function c(c){this.node=c;this.expanded=!1;this.inAnnotations=new A;this.outAnnotations=new A;this.outboxWidth=this.inboxWidth=this.height=this.width=this.y=this.x=0;this.structural=this.excluded=!1;this.paddingBottom=this.paddingRight=this.paddingLeft=
this.paddingTop=this.labelHeight=this.radius=this.labelOffset=0;this.isOutExtract=this.isInExtract=!1;this.coreBox={width:0,height:0};this.isFadedOut=!1;this.displayName=c.name.substring(c.name.lastIndexOf(a.graph.NAMESPACE_DELIM)+1);c.type===b.NodeType.META&&c.associatedFunction&&((c=this.displayName.match(u))?this.displayName=c[1]:_.startsWith(this.displayName,a.graph.FUNCTION_LIBRARY_NODE_PREFIX)&&(this.displayName=this.displayName.substring(a.graph.FUNCTION_LIBRARY_NODE_PREFIX.length)))}c.prototype.isInCore=
function(){return!this.isInExtract&&!this.isOutExtract&&!this.isLibraryFunction};return c}();c.RenderNodeInfo=y;var C=function(){return function(a){this.metaedge=a;this.adjoiningMetaedge=null;this.structural=!1;this.weight=1;this.isFadedOut=!1}}();c.RenderMetaedgeInfo=C;var D=function(a){function c(c){var d=a.call(this,c)||this;c=c.metagraph.graph();d.coreGraph=b.createGraph(c.name,b.GraphType.CORE,{compound:!0});d.inExtractBox={width:0,height:0};d.outExtractBox={width:0,height:0};d.libraryFunctionsBox=
{width:0,height:0};d.isolatedInExtract=[];d.isolatedOutExtract=[];d.libraryFunctionsExtract=[];return d}Ec(c,a);return c}(y);c.RenderGroupNodeInfo=D;c.makeInExtract=g;c.mapIndexToHue=function(a){return 1+579.2561679725*a%358};c.expandUntilNodeIsShown=function(b,c){var d=document.getElementById("scene");c=c.split("/");var e=c[c.length-1].match(/(.*):\w+/);2===e.length&&(c[c.length-1]=e[1]);e=c[0];for(var f=b.getRenderNodeByName(e),g=1;g<c.length&&f.node.type!==a.graph.NodeType.OP;g++)b.buildSubhierarchy(e),
f.expanded=!0,d.setNodeExpanded(f),e+="/"+c[g],f=b.getRenderNodeByName(e);return f.node.name}})(b.render||(b.render={}))})(a.graph||(a.graph={}))})(U||(U={}));
</script>
<script>//~~WEBPATH~~/tf-graph-common/annotation.js
(function(a){(function(b){(function(c){(function(d){function e(b,d,e,f){var g=c.Class.Annotation.LABEL;f&&(g+=" "+f);b=b.append("text").attr("class",g).attr("dy",".35em").attr("text-anchor",e.isIn?"end":"start").text(d);a.graph.scene.node.enforceLabelWidth(b,-1)}function f(a,d,e,f){a.on("mouseover",function(a){f.fire("annotation-highlight",{name:a.node.name,hostName:d.node.name})}).on("mouseout",function(a){f.fire("annotation-unhighlight",{name:a.node.name,hostName:d.node.name})}).on("click",function(a){d3.event.stopPropagation();
f.fire("annotation-select",{name:a.node.name,hostName:d.node.name})});if(e.annotationType!==b.render.AnnotationType.SUMMARY&&e.annotationType!==b.render.AnnotationType.CONSTANT)a.on("contextmenu",c.contextmenu.getMenu(c.node.getContextMenu(e.node,f)))}function g(a,d,e,f){var g=b.layout.computeCXPositionOfNodeShape(d);e.renderNodeInfo&&e.annotationType!==b.render.AnnotationType.ELLIPSIS&&c.node.stylize(a,e.renderNodeInfo,f,c.Class.Annotation.NODE);e.annotationType===b.render.AnnotationType.SUMMARY&&
(e.width+=10);a.select("text."+c.Class.Annotation.LABEL).transition().attr("x",g+e.dx+(e.isIn?-1:1)*(e.width/2+e.labelOffset)).attr("y",d.y+e.dy);a.select("use.summary").transition().attr("x",g+e.dx-3).attr("y",d.y+e.dy-6);c.positionEllipse(a.select("."+c.Class.Annotation.NODE+" ellipse"),g+e.dx,d.y+e.dy,e.width,e.height);c.positionRect(a.select("."+c.Class.Annotation.NODE+" rect"),g+e.dx,d.y+e.dy,e.width,e.height);c.positionRect(a.select("."+c.Class.Annotation.NODE+" use"),g+e.dx,d.y+e.dy,e.width,
e.height);a.select("path."+c.Class.Annotation.EDGE).transition().attr("d",function(a){a=a.points.map(function(a){return{x:a.dx+g,y:a.dy+d.y}});return c.edge.interpolate(a)})}d.buildGroup=function(a,d,m,n){a=a.selectAll(function(){return this.childNodes}).data(d.list,function(a){return a.node.name});a.enter().append("g").attr("data-name",function(a){return a.node.name}).each(function(a){var d=d3.select(this);n.addAnnotationGroup(a,m,d);var f=c.Class.Annotation.EDGE,g=a.renderMetaedgeInfo&&a.renderMetaedgeInfo.metaedge;
g&&!g.numRegularEdges&&(f+=" "+c.Class.Annotation.CONTROL_EDGE);g&&g.numRefEdges&&(f+=" "+c.Class.Edge.REF_LINE);c.edge.appendEdge(d,a,n,f);a.annotationType!==b.render.AnnotationType.ELLIPSIS?(f=a.node.name.split("/"),e(d,f[f.length-1],a,null),a.annotationType===b.render.AnnotationType.SUMMARY?c.selectOrCreateChild(d,"use").attr("class","summary").attr("xlink:href","#summary-icon").attr("cursor","pointer"):(d=c.node.buildShape(d,a,c.Class.Annotation.NODE),c.selectOrCreateChild(d,"title").text(a.node.name))):
e(d,a.node.name,a,c.Class.Annotation.ELLIPSIS)}).merge(a).attr("class",function(a){return c.Class.Annotation.GROUP+" "+((b.render.AnnotationType[a.annotationType]||"").toLowerCase()||null)+" "+c.node.nodeClass(a)}).each(function(a){var c=d3.select(this);g(c,m,a,n);a.annotationType!==b.render.AnnotationType.ELLIPSIS&&f(c,m,a,n)});a.exit().each(function(a){var b=d3.select(this);n.removeAnnotationGroup(a,m,b)}).remove();return a}})(c.annotation||(c.annotation={}))})(b.scene||(b.scene={}))})(a.graph||
(a.graph={}))})(U||(U={}));
</script>
<script>//~~WEBPATH~~/tf-graph-common/contextmenu.js
(function(a){(function(a){(function(a){(function(a){a.getMenu=function(a){var b=d3.select(".context-menu");d3.select("body").on("click.context",function(){b.style("display","none")});return function(c,d){var e=this,f=d3.event;b.style("display","block").style("left",f.layerX+1+"px").style("top",f.layerY+1+"px");f.preventDefault();f.stopPropagation();b.html("");b.append("ul").selectAll("li").data(a).enter().append("li").html(function(a){return a.title(c)}).on("click",function(a){a.action(e,c,d);b.style("display",
"none")})}}})(a.contextmenu||(a.contextmenu={}))})(a.scene||(a.scene={}))})(a.graph||(a.graph={}))})(U||(U={}));
</script>
<script>//~~WEBPATH~~/tf-graph-common/edge.js
(function(a){(function(b){(function(c){(function(d){function e(a){return a.v+b.EDGE_KEY_DELIM+a.w}function f(a,b){b=b.getNodeByName(a.v);if(null==b.outputShapes||_.isEmpty(b.outputShapes))return null;a=b.outputShapes[a.outputTensorKey];return null==a?null:0===a.length?"scalar":a.map(function(a){return-1===a?"?":a}).join("\u00d7")}function g(a,b){return b.edgeLabelFunction?b.edgeLabelFunction(a,b):1<a.baseEdgeList.length?a.baseEdgeList.length+" tensors":f(a.baseEdgeList[0],b)}function k(b,c,d){for(var e=
document.createElementNS(a.graph.scene.SVG_NAMESPACE,"path"),f=1;f<b.length;f++)if(e.setAttribute("d",d(b.slice(0,f))),e.getTotalLength()>c)return f-1;return b.length-1}function l(a,b,c){var d=d3.line().x(function(a){return a.x}).y(function(a){return a.y});var e=d3.select(document.createElementNS("http://www.w3.org/2000/svg","path")).attr("d",d(a));var f=+b.attr("markerWidth");var g=b.attr("viewBox").split(" ").map(Number);g=g[2]-g[0];b=+b.attr("refX");e=e.node();if(c)return c=f*(1-b/g),f=e.getPointAtLength(c),
d=k(a,c,d),a[d-1]={x:f.x,y:f.y},a.slice(d-1);c=1-b/g;c=e.getTotalLength()-f*c;f=e.getPointAtLength(c);d=k(a,c,d);a[d]={x:f.x,y:f.y};return a.slice(0,d+1)}function m(a,b,d,f){f=f||c.Class.Edge.LINE;b.label&&b.label.structural&&(f+=" "+c.Class.Edge.STRUCTURAL);b.label&&b.label.metaedge&&b.label.metaedge.numRefEdges&&(f+=" "+c.Class.Edge.REFERENCE_EDGE);d.handleEdgeSelected&&(f+=" "+c.Class.Edge.SELECTABLE);var k="path_"+e(b);if(d.renderHierarchy.edgeWidthFunction)var l=d.renderHierarchy.edgeWidthFunction(b,
f);else l=1,null!=b.label&&null!=b.label.metaedge&&(l=b.label.metaedge.totalSize),l=d.renderHierarchy.edgeWidthSizedBasedScale(l);f=a.append("path").attr("id",k).attr("class",f).style("stroke-width",l+"px");b.label&&b.label.metaedge&&(b.label.metaedge.numRefEdges?(l="reference-arrowhead-"+p(l),f.style("marker-start","url(#"+l+")"),b.label.startMarkerId=l):(l="dataflow-arrowhead-"+p(l),f.style("marker-end","url(#"+l+")"),b.label.endMarkerId=l));null!=b.label&&null!=b.label.metaedge&&(b=g(b.label.metaedge,
d.renderHierarchy),null!=b&&a.append("text").append("textPath").attr("xlink:href","#"+k).attr("startOffset","50%").attr("text-anchor","middle").attr("dominant-baseline","central").text(b))}function n(a,b,c){b=a.label;var e=b.adjoiningMetaedge,f=b.points;a.label.startMarkerId&&(f=l(f,d3.select("#"+a.label.startMarkerId),!0));a.label.endMarkerId&&(f=l(f,d3.select("#"+a.label.endMarkerId),!1));if(!e)return d3.interpolate(c,d.interpolate(f));var g=this,k=e.edgeGroup.node().firstChild,m=b.metaedge.inbound;
return function(){var a=k.getPointAtLength(m?k.getTotalLength():0).matrixTransform(k.getCTM()).matrixTransform(g.getCTM().inverse()),b=m?0:f.length-1;f[b].x=a.x;f[b].y=a.y;return d.interpolate(f)}}function q(){d3.select(this).select("path."+c.Class.Edge.LINE).transition().attrTween("d",n)}d.MIN_EDGE_WIDTH=.75;d.MAX_EDGE_WIDTH=12;d.EDGE_WIDTH_SIZE_BASED_SCALE=d3.scalePow().exponent(.3).domain([1,5E6]).range([d.MIN_EDGE_WIDTH,d.MAX_EDGE_WIDTH]).clamp(!0);var p=d3.scaleQuantize().domain([d.MIN_EDGE_WIDTH,
d.MAX_EDGE_WIDTH]).range(["small","medium","large","xlarge"]);d.getEdgeKey=e;d.buildGroup=function(a,b,d){var f=[];f=_.reduce(b.edges(),function(a,c){var d=b.edge(c);a.push({v:c.v,w:c.w,label:d});return a},f);a=c.selectOrCreateChild(a,"g",c.Class.Edge.CONTAINER).selectAll(function(){return this.childNodes}).data(f,e);a.enter().append("g").attr("class",c.Class.Edge.GROUP).attr("data-edge",e).each(function(a){var b=d3.select(this);a.label.edgeGroup=b;d._edgeGroupIndex[e(a)]=b;if(d.handleEdgeSelected)b.on("click",
function(a){d3.event.stopPropagation();d.fire("edge-select",{edgeData:a,edgeGroup:b})});m(b,a,d)}).merge(a).each(q).each(function(a){var b=d3.select(this);b.classed("faded",a.label.isFadedOut);a=a.label.metaedge;b.select("path."+c.Class.Edge.LINE).classed("control-dep",a&&!a.numRegularEdges)});a.exit().each(function(a){delete d._edgeGroupIndex[e(a)]}).remove();return a};d.getLabelForBaseEdge=f;d.getLabelForEdge=g;d.appendEdge=m;d.interpolate=d3.line().curve(d3.curveBasis).x(function(a){return a.x}).y(function(a){return a.y})})(c.edge||
(c.edge={}))})(b.scene||(b.scene={}))})(a.graph||(a.graph={}))})(U||(U={}));
</script>
<script>//~~WEBPATH~~/tf-graph-common/node.js
(function(a){(function(b){(function(c){(function(d){function e(a,b){var d=b.x-b.width/2+b.paddingLeft;b=b.y-b.height/2+b.paddingTop;a=c.selectChild(a,"g",c.Class.Subscene.GROUP);c.translate(a,d,b)}function f(a,b,d){a=c.selectOrCreateChild(a,"g",c.Class.Node.BUTTON_CONTAINER);c.selectOrCreateChild(a,"circle",c.Class.Node.BUTTON_CIRCLE);c.selectOrCreateChild(a,"path",c.Class.Node.EXPAND_BUTTON).attr("d","M0,-2.2 V2.2 M-2.2,0 H2.2");c.selectOrCreateChild(a,"path",c.Class.Node.COLLAPSE_BUTTON).attr("d",
"M-2.2,0 H2.2");a.on("click",function(a){d3.event.stopPropagation();d.fire("node-toggle-expand",{name:a.node.name})});c.positionButton(a,b)}function g(a,b,d,e){if(e)a.attr("pointer-events","none");else{var f=c.contextmenu.getMenu(k(b.node,d));a.on("dblclick",function(a){d.fire("node-toggle-expand",{name:a.node.name})}).on("mouseover",function(a){d.isNodeExpanded(a)||d.fire("node-highlight",{name:a.node.name})}).on("mouseout",function(a){d.isNodeExpanded(a)||d.fire("node-unhighlight",{name:a.node.name})}).on("click",
function(a){d3.event.stopPropagation();d.fire("node-select",{name:a.node.name})}).on("contextmenu",function(a,b){d.fire("node-select",{name:a.node.name});f.call(a,b)})}}function k(a,c){var d=[{title:function(){return b.getIncludeNodeButtonString(a.include)},action:function(){c.fire("node-toggle-extract",{name:a.name})}}];c.nodeContextMenuItems&&(d=d.concat(c.nodeContextMenuItems));l(a)&&d.push({title:function(){return n(a)},action:function(){c.fire("node-toggle-seriesgroup",{name:m(a)})}});return d}
function l(a){return null!==m(a)}function m(a){return a?a.type===b.NodeType.SERIES?a.name:a.type===b.NodeType.OP?a.owningSeries:null:null}function n(c){var d=null;c?(c.type===b.NodeType.SERIES?d=c:c.parentNode&&c.parentNode.type===b.NodeType.SERIES&&(d=c.parentNode),c=d):c=null;return a.graph.getGroupSeriesNodeButtonString(null!==c?a.graph.SeriesGroupingType.GROUP:a.graph.SeriesGroupingType.UNGROUP)}function q(a,c,d){var e=a.node(),f=e.getComputedTextLength(),g=e.textContent,k=null;switch(c){case b.NodeType.META:d&&
!d.expanded&&(k=b.layout.PARAMS.nodeSize.meta.maxLabelWidth);break;case b.NodeType.OP:k=b.layout.PARAMS.nodeSize.op.maxLabelWidth;break;case -1:k=b.layout.PARAMS.annotations.maxLabelWidth}if(!(null===k||f<=k)){for(f=1;e.getSubStringLength(0,f)<k;)f++;c=e.textContent.substr(0,f);do c=c.substr(0,c.length-1),e.textContent=c+"...",f=e.getComputedTextLength();while(f>k&&0<c.length);return a.append("title").text(g)}}function p(a,b,d,e){c.selectChild(a,"text",c.Class.Node.LABEL).transition().attr("x",b).attr("y",
d+e)}function t(a,d,e){a=c.selectOrCreateChild(a,"g",e);switch(d.node.type){case b.NodeType.OP:d=d.node;if(_.isNumber(d.functionInputIndex)||_.isNumber(d.functionOutputIndex)){c.selectOrCreateChild(a,"polygon",c.Class.Node.COLOR_TARGET);break}c.selectOrCreateChild(a,"ellipse",c.Class.Node.COLOR_TARGET);break;case b.NodeType.SERIES:e="annotation";d.coreGraph&&(e=d.node.hasNonControlEdges?"vertical":"horizontal");var f=[c.Class.Node.COLOR_TARGET];d.isFadedOut&&f.push("faded-ellipse");c.selectOrCreateChild(a,
"use",f).attr("xlink:href","#op-series-"+e+"-stamp");c.selectOrCreateChild(a,"rect",c.Class.Node.COLOR_TARGET).attr("rx",d.radius).attr("ry",d.radius);break;case b.NodeType.BRIDGE:c.selectOrCreateChild(a,"rect",c.Class.Node.COLOR_TARGET).attr("rx",d.radius).attr("ry",d.radius);break;case b.NodeType.META:c.selectOrCreateChild(a,"rect",c.Class.Node.COLOR_TARGET).attr("rx",d.radius).attr("ry",d.radius);break;default:throw Error("Unrecognized node type: "+d.node.type);}return a}function r(a){switch(a.node.type){case b.NodeType.OP:return c.Class.OPNODE;
case b.NodeType.META:return c.Class.METANODE;case b.NodeType.SERIES:return c.Class.SERIESNODE;case b.NodeType.BRIDGE:return c.Class.BRIDGENODE;case b.NodeType.ELLIPSIS:return c.Class.ELLIPSISNODE}throw Error("Unrecognized node type: "+a.node.type);}function u(c,d,e,f){var g=b.render.MetanodeColors;switch(d){case F.STRUCTURE:return e.node.type===b.NodeType.META?(e=e.node.templateId,null===e?g.UNKNOWN:g.STRUCTURE_PALETTE(c(e),f)):e.node.type===b.NodeType.SERIES?f?g.EXPANDED_COLOR:"white":e.node.type===
b.NodeType.BRIDGE?e.structural?"#f0e":e.node.inbound?"#0ef":"#fe0":_.isNumber(e.node.functionInputIndex)?"#795548":_.isNumber(e.node.functionOutputIndex)?"#009688":"white";case F.DEVICE:if(null==e.deviceColors)return g.UNKNOWN;c=e.node.name;d=a.graph.util.escapeQuerySelector(c);var k=d3.select("svg#svg defs #linearGradients"),l=k.select("linearGradient#"+d);if(0===l.size()){l=k.append("linearGradient").attr("id",c);l.selectAll("*").remove();var m=0;_.each(e.deviceColors,function(a){var b=a.color;
l.append("stop").attr("offset",m).attr("stop-color",b);l.append("stop").attr("offset",m+a.proportion).attr("stop-color",b);m+=a.proportion})}return f?g.EXPANDED_COLOR:"url(#"+d+")";case F.XLA_CLUSTER:return f?g.EXPANDED_COLOR:e.xlaClusterColor||g.UNKNOWN;case F.COMPUTE_TIME:return f?g.EXPANDED_COLOR:e.computeTimeColor||g.UNKNOWN;case F.MEMORY:return f?g.EXPANDED_COLOR:e.memoryColor||g.UNKNOWN;case F.OP_COMPATIBILITY:if(e.node.type===b.NodeType.OP)return e.node.compatible?a.graph.render.OpNodeColors.COMPATIBLE:
a.graph.render.OpNodeColors.INCOMPATIBLE;if(e.node.isGroupNode){d=e.node;e=d.compatibilityHistogram.compatible;c=d.compatibilityHistogram.incompatible;if(0==e&&0==c)return g.UNKNOWN;d="op-compat-"+d.name;k=a.graph.util.escapeQuerySelector(d);var n=d3.select("svg#svg defs #linearGradients"),p=n.select("linearGradient#"+k);0===p.size()&&(e/=e+c,p=n.append("linearGradient").attr("id",d),p.selectAll("*").remove(),p.append("stop").attr("offset",0).attr("stop-color",a.graph.render.OpNodeColors.COMPATIBLE),
p.append("stop").attr("offset",e).attr("stop-color",a.graph.render.OpNodeColors.COMPATIBLE),p.append("stop").attr("offset",e).attr("stop-color",a.graph.render.OpNodeColors.INCOMPATIBLE),p.append("stop").attr("offset",1).attr("stop-color",a.graph.render.OpNodeColors.INCOMPATIBLE));return f?g.EXPANDED_COLOR:"url(#"+k+")"}return g.DEFAULT_FILL;default:throw Error("Unknown case to color nodes by");}}function v(a,b,d,e){e=e||c.Class.Node.SHAPE;var f=d.isNodeSelected(b.node.name),g=b.isInExtract||b.isOutExtract||
b.isLibraryFunction,k=b.expanded&&e!==c.Class.Annotation.NODE,l=b.isFadedOut;a.classed("highlighted",d.isNodeHighlighted(b.node.name));a.classed("selected",f);a.classed("extract",g);a.classed("expanded",k);a.classed("faded",l);a=a.select("."+e+" ."+c.Class.Node.COLOR_TARGET);b=u(d.templateIndex,F[d.colorBy.toUpperCase()],b,k);a.style("fill",b);a.style("stroke",f?null:z(b))}function z(a){return"url"===a.substring(0,3)?b.render.MetanodeColors.GRADIENT_OUTLINE:d3.rgb(a).darker().toString()}function w(b,
c){var d=[];b=c.getNodeByName(b);if(b instanceof a.graph.OpNodeImpl)return[b].concat(b.inEmbeddings);b=b.metagraph.nodes();_.each(b,function(a){d=d.concat(w(a,c))});return d}function A(c,d,e){if(e[d.name])return e;e[d.name]=!0;var f=d.inputs,g=G(c,d);d3.select('.node[data-name\x3d"'+g.name+'"]').classed("input-highlight",!0);var k={};_.each(f,function(d){d=c.getNodeByName(d.name);if(void 0!==d){d instanceof b.MetanodeImpl&&(d=a.graph.getStrictName(d.name),d=c.getNodeByName(d));var e=G(c,d),f=k[e.name];
f?f.opNodes.push(d):k[e.name]={visibleParent:e,opNodes:[d]}}});var l={},m=[g];l[g.name]={traced:!1,index:0,connectionEndpoints:[]};d=g;for(f=1;d.name!==a.graph.ROOT_NAME;f++)d=d.parentNode,l[d.name]={traced:!1,index:f,connectionEndpoints:[]},m[f]=d;_.forOwn(k,function(a){var b=a.visibleParent;_.each(a.opNodes,function(a){e=A(c,a,e)});b.name!==g.name&&y(b,l,m)});return e}function y(a,b,c){for(var d=a,e=[];!b[d.name];)a.name!==d.name&&e.push([a,d]),a=d,d=d.parentNode;b=b[d.name].index;var f=c[Math.max(b-
1,0)].name;d=a.name;d3.selectAll('[data-edge\x3d"'+a.name+"--"+f+'"]').classed("input-edge-highlight",!0);_.each(e,function(a){d3.selectAll('[data-edge\x3d"'+a[0].name+"--"+f+("~~"+a[1].name+'~~OUT"]')).classed("input-edge-highlight",!0)});for(a=1;a<b;a++)d3.selectAll('[data-edge\x3d"'+d+"~~"+c[a].name+("~~IN--"+c[a-1].name+'"]')).classed("input-edge-highlight",!0)}function C(a,b){var c={};_.each(b,function(b){b=a.getNodeByName(b);b=G(a,b);c[b.name]=b});return c}function D(b){_.forOwn(b,function(b){for(;b.name!==
a.graph.ROOT_NAME;){var c=d3.select('.node[data-name\x3d"'+b.name+'"]');!c.nodes().length||c.classed("input-highlight")||c.classed("selected")||c.classed("op")||c.classed("input-parent",!0);b=b.parentNode}})}function G(a,c){for(var d=!1,e=c;!d;)if(c=e,e=c.parentNode,void 0===e)d=!0;else{var f=a.getRenderNodeByName(e.name);f&&(f.expanded||e instanceof b.OpNodeImpl)&&(d=!0)}return c}d.buildGroup=function(a,d,k){a=c.selectOrCreateChild(a,"g",c.Class.Node.CONTAINER).selectAll(function(){return this.childNodes}).data(d,
function(a){return a.node.name+":"+a.node.type});a.enter().append("g").attr("data-name",function(a){return a.node.name}).each(function(a){var b=d3.select(this);k.addNodeGroup(a.node.name,b)}).merge(a).attr("class",function(a){return c.Class.Node.GROUP+" "+r(a)}).each(function(a){var d=d3.select(this),l=c.selectOrCreateChild(d,"g",c.Class.Annotation.INBOX);c.annotation.buildGroup(l,a.inAnnotations,a,k);l=c.selectOrCreateChild(d,"g",c.Class.Annotation.OUTBOX);c.annotation.buildGroup(l,a.outAnnotations,
a,k);l=t(d,a,c.Class.Node.SHAPE);a.node.isGroupNode&&f(l,a,k);g(l,a,k);a.node.isGroupNode&&(a.expanded?c.buildGroup(d,a,k,c.Class.Subscene.GROUP):c.selectChild(d,"g",c.Class.Subscene.GROUP).remove());var m=a.displayName,n=a.node.type===b.NodeType.META&&!a.expanded;l=c.selectOrCreateChild(d,"text",c.Class.Node.LABEL);var r=l.node();r.parentNode.appendChild(r);l.attr("dy",".35em").attr("text-anchor","middle");n&&(m.length>k.maxMetanodeLabelLength&&(m=m.substr(0,k.maxMetanodeLabelLength-2)+"..."),E||
(E=d3.scaleLinear().domain([k.maxMetanodeLabelLengthLargeFont,k.maxMetanodeLabelLength]).range([k.maxMetanodeLabelLengthFontSize,k.minMetanodeLabelLengthFontSize]).clamp(!0)),l.attr("font-size",E(m.length)+"px"));m=l.text(m);q(m,a.node.type,a);g(l,a,k,a.node.type===b.NodeType.META);v(d,a,k);m=c.selectChild(d,"g",c.Class.Node.SHAPE);l=b.layout.computeCXPositionOfNodeShape(a);switch(a.node.type){case b.NodeType.OP:n=a.node;_.isNumber(n.functionInputIndex)||_.isNumber(n.functionOutputIndex)?(m=c.selectChild(m,
"polygon"),c.positionTriangle(m,a.x,a.y,a.width,a.height)):(m=c.selectChild(m,"ellipse"),c.positionEllipse(m,l,a.y,a.coreBox.width,a.coreBox.height));p(d,l,a.y,a.labelOffset);break;case b.NodeType.META:m=m.selectAll("rect");a.expanded?(c.positionRect(m,a.x,a.y,a.width,a.height),e(d,a),p(d,l,a.y,-a.height/2+a.labelHeight/2)):(c.positionRect(m,l,a.y,a.coreBox.width,a.coreBox.height),p(d,l,a.y,0));break;case b.NodeType.SERIES:m=c.selectChild(m,"use");a.expanded?(c.positionRect(m,a.x,a.y,a.width,a.height),
e(d,a),p(d,l,a.y,-a.height/2+a.labelHeight/2)):(c.positionRect(m,l,a.y,a.coreBox.width,a.coreBox.height),p(d,l,a.y,a.labelOffset));break;case b.NodeType.BRIDGE:m=c.selectChild(m,"rect");c.positionRect(m,a.x,a.y,a.width,a.height);break;default:throw Error("Unrecognized node type: "+a.node.type);}});a.exit().each(function(a){k.removeNodeGroup(a.node.name);var b=d3.select(this);0<a.inAnnotations.list.length&&b.select("."+c.Class.Annotation.INBOX).selectAll("."+c.Class.Annotation.GROUP).each(function(b){k.removeAnnotationGroup(b,
a)});0<a.outAnnotations.list.length&&b.select("."+c.Class.Annotation.OUTBOX).selectAll("."+c.Class.Annotation.GROUP).each(function(b){k.removeAnnotationGroup(b,a)})}).remove();return a};d.getContextMenu=k;d.canBeInSeries=l;d.getSeriesName=m;d.getGroupSettingLabel=n;d.enforceLabelWidth=q;var E=null;d.buildShape=t;d.nodeClass=r;var F;(function(a){a[a.STRUCTURE=0]="STRUCTURE";a[a.DEVICE=1]="DEVICE";a[a.XLA_CLUSTER=2]="XLA_CLUSTER";a[a.COMPUTE_TIME=3]="COMPUTE_TIME";a[a.MEMORY=4]="MEMORY";a[a.OP_COMPATIBILITY=
5]="OP_COMPATIBILITY"})(F=d.ColorBy||(d.ColorBy={}));d.getFillForNode=u;d.stylize=v;d.getStrokeForFill=z;d.traceInputs=function(a){d3.selectAll(".input-highlight").classed("input-highlight",!1);d3.selectAll(".non-input").classed("non-input",!1);d3.selectAll(".input-parent").classed("input-parent",!1);d3.selectAll(".input-child").classed("input-child",!1);d3.selectAll(".input-edge-highlight").classed("input-edge-highlight",!1);d3.selectAll(".non-input-edge-highlight").classed("non-input-edge-highlight",
!1);d3.selectAll(".input-highlight-selected").classed("input-highlight-selected",!1);var b=d3.select("g.node.selected,g.op.selected"),c=void 0;if(a&&a.traceInputs&&b.nodes().length){c=b.nodes()[0];b=c.getAttribute("data-name");b=w(b,a);var d={};_.each(b,function(b){d=A(a,b,d)});d3.selectAll("g.node.selected,g.op.selected").classed("input-highlight",!1).classed("input-highlight-selected",!0);b=Object.keys(d);b=C(a,b);D(b);d3.selectAll("g.node:not(.selected):not(.input-highlight):not(.input-parent):not(.input-children)").classed("non-input",
!0).each(function(a){d3.selectAll('[data-name\x3d"'+a.node.name+'"]').classed("non-input",!0)});d3.selectAll("g.edge:not(.input-edge-highlight)").classed("non-input-edge-highlight",!0)}};d._getAllContainedOpNodes=w;d.traceAllInputsOfOpNode=A;d.getVisibleParent=G})(c.node||(c.node={}))})(b.scene||(b.scene={}))})(a.graph||(a.graph={}))})(U||(U={}));
</script>
<script>//~~WEBPATH~~/tf-graph-common/scene.js
(function(a){(function(b){(function(c){function d(a,b,c,d){var f=e(a,b,c);if(!f.empty())return f;b=document.createElementNS("http://www.w3.org/2000/svg",b);if(c instanceof Array)for(f=0;f<c.length;f++)b.classList.add(c[f]);else b.classList.add(c);d?a.node().insertBefore(b,d):a.node().appendChild(b);return d3.select(b).datum(a.datum())}function e(a,b,c){a=a.node().childNodes;for(var d=0;d<a.length;d++){var e=a[d];if(e.tagName===b)if(c instanceof Array){for(var f=!0,g=0;g<c.length;g++)f=f&&e.classList.contains(c[g]);
if(f)return d3.select(e)}else if(!c||e.classList.contains(c))return d3.select(e)}return d3.select(null)}function f(a,d){var f=d.node.type===b.NodeType.SERIES?0:b.layout.PARAMS.subscene.meta.labelHeight;g(e(a,"g",c.Class.Scene.CORE),0,f);var k=0<d.isolatedInExtract.length,l=0<d.isolatedOutExtract.length,m=0<d.libraryFunctionsExtract.length,r=b.layout.PARAMS.subscene.meta.extractXOffset,u=0;k&&(u+=d.outExtractBox.width);l&&(u+=d.outExtractBox.width);k&&(k=d.coreBox.width,k=u<b.layout.MIN_AUX_WIDTH?
k-b.layout.MIN_AUX_WIDTH+d.inExtractBox.width/2:k-d.inExtractBox.width/2-d.outExtractBox.width-(l?r:0),k=k-d.libraryFunctionsBox.width-(m?r:0),g(e(a,"g",c.Class.Scene.INEXTRACT),k,f));l&&(l=d.coreBox.width,l=u<b.layout.MIN_AUX_WIDTH?l-b.layout.MIN_AUX_WIDTH+d.outExtractBox.width/2:l-d.outExtractBox.width/2,l=l-d.libraryFunctionsBox.width-(m?r:0),g(e(a,"g",c.Class.Scene.OUTEXTRACT),l,f));m&&(d=d.coreBox.width-d.libraryFunctionsBox.width/2,g(e(a,"g",c.Class.Scene.FUNCTION_LIBRARY),d,f))}function g(a,
b,c){null!=a.attr("transform")&&(a=a.transition("position"));a.attr("transform","translate("+b+","+c+")")}function k(a,b){return b?a.toFixed(0):1<=Math.abs(a)?a.toFixed(1):a.toExponential(1)}c.SVG_NAMESPACE="http://www.w3.org/2000/svg";c.Class={Node:{CONTAINER:"nodes",GROUP:"node",SHAPE:"nodeshape",COLOR_TARGET:"nodecolortarget",LABEL:"nodelabel",BUTTON_CONTAINER:"buttoncontainer",BUTTON_CIRCLE:"buttoncircle",EXPAND_BUTTON:"expandbutton",COLLAPSE_BUTTON:"collapsebutton"},Edge:{CONTAINER:"edges",GROUP:"edge",
LINE:"edgeline",REFERENCE_EDGE:"referenceedge",REF_LINE:"refline",SELECTABLE:"selectableedge",SELECTED:"selectededge",STRUCTURAL:"structural"},Annotation:{OUTBOX:"out-annotations",INBOX:"in-annotations",GROUP:"annotation",NODE:"annotation-node",EDGE:"annotation-edge",CONTROL_EDGE:"annotation-control-edge",LABEL:"annotation-label",ELLIPSIS:"annotation-ellipsis"},Scene:{GROUP:"scene",CORE:"core",FUNCTION_LIBRARY:"function-library",INEXTRACT:"in-extract",OUTEXTRACT:"out-extract"},Subscene:{GROUP:"subscene"},
OPNODE:"op",METANODE:"meta",SERIESNODE:"series",BRIDGENODE:"bridge",ELLIPSISNODE:"ellipsis"};c.healthPillEntries=[{background_color:"#CC2F2C",label:"NaN"},{background_color:"#FF8D00",label:"-\u221e"},{background_color:"#EAEAEA",label:"-"},{background_color:"#A5A5A5",label:"0"},{background_color:"#262626",label:"+"},{background_color:"#003ED4",label:"+\u221e"}];c.fit=function(a,c,d,e){var f=a.getBoundingClientRect(),g=null;try{if(g=c.getBBox(),0===g.width)return}catch(r){return}c=b.layout.PARAMS.graph;
f=d3.zoomIdentity.scale(.9*Math.min(f.width/g.width,f.height/g.height,2)).translate(c.padding.paddingLeft,c.padding.paddingTop);d3.select(a).transition().duration(500).call(d.transform,f).on("end.fitted",function(){d.on("end.fitted",null);e()})};c.panToNode=function(a,b,d){a=d3.select('[data-name\x3d"'+a+'"].'+c.Class.Node.GROUP).node();if(!a)return!1;var e=a.getBBox(),f=a.getScreenCTM();a=b.createSVGPoint();var g=b.createSVGPoint();a.x=e.x;a.y=e.y;g.x=e.x+e.width;g.y=e.y+e.height;a=a.matrixTransform(f);
g=g.matrixTransform(f);f=b.getBoundingClientRect();return 0>g.x||a.x>f.width||0>g.y||a.y>f.height?(e=f.width/2-(a.x+g.x)/2,a=f.height/2-(a.y+g.y)/2,g=d3.zoomTransform(b),d3.select(b).transition().duration(500).call(d.translateBy,e/g.k,a/g.k),!0):!1};c.selectOrCreateChild=d;c.selectChild=e;c.buildGroup=function(a,g,k,q){q=q||c.Class.Scene.GROUP;var l=e(a,"g",q).empty();a=d(a,"g",q);q=d(a,"g",c.Class.Scene.CORE);var m=_.reduce(g.coreGraph.nodes(),function(a,b){b=g.coreGraph.node(b);b.excluded||a.push(b);
return a},[]);g.node.type===b.NodeType.SERIES&&m.reverse();c.edge.buildGroup(q,g.coreGraph,k);c.node.buildGroup(q,m,k);0<g.isolatedInExtract.length?(q=d(a,"g",c.Class.Scene.INEXTRACT),c.node.buildGroup(q,g.isolatedInExtract,k)):e(a,"g",c.Class.Scene.INEXTRACT).remove();0<g.isolatedOutExtract.length?(q=d(a,"g",c.Class.Scene.OUTEXTRACT),c.node.buildGroup(q,g.isolatedOutExtract,k)):e(a,"g",c.Class.Scene.OUTEXTRACT).remove();0<g.libraryFunctionsExtract.length?(q=d(a,"g",c.Class.Scene.FUNCTION_LIBRARY),
c.node.buildGroup(q,g.libraryFunctionsExtract,k)):e(a,"g",c.Class.Scene.FUNCTION_LIBRARY).remove();f(a,g);l&&a.attr("opacity",0).transition().attr("opacity",1);return a};c.addGraphClickListener=function(a,b){d3.select(a).on("click",function(){b.fire("graph-select")})};c.translate=g;c.positionRect=function(a,b,c,d,e){a.transition().attr("x",b-d/2).attr("y",c-e/2).attr("width",d).attr("height",e)};c.positionTriangle=function(a,b,c,d,e){e/=2;d/=2;b=[[b,c-e],[b+d,c+e],[b-d,c+e]];a.transition().attr("points",
b.map(function(a){return a.join(",")}).join(" "))};c.positionButton=function(a,c){var d=b.layout.computeCXPositionOfNodeShape(c)+(c.expanded?c.width:c.coreBox.width)/2-6,e=c.y-(c.expanded?c.height:c.coreBox.height)/2+6;c.node.type!==b.NodeType.SERIES||c.expanded||(d+=10,e-=2);c="translate("+d+","+e+")";a.selectAll("path").transition().attr("transform",c);a.select("circle").transition().attr({cx:d,cy:e,r:b.layout.PARAMS.nodeSize.meta.expandButtonRadius})};c.positionEllipse=function(a,b,c,d,e){a.transition().attr("cx",
b).attr("cy",c).attr("rx",d/2).attr("ry",e/2)};c.humanizeHealthPillStat=k;c.addHealthPills=function(b,d,e){if(d){var f=1;d3.select(b).selectAll("g.nodeshape").each(function(b){var g=d[b.node.name],l=g?g[e]:null,m=f++;d3.select(this.parentNode).selectAll(".health-pill").remove();if(b&&l){var n=l.value,p=n.slice(2,8);g=n[1];var q=n[8],A=n[9],y=n[10],C=Math.sqrt(n[11]);n=60;var D=10;b.node.type===a.graph.NodeType.OP&&(n/=2,D/=2);var G=document.createElementNS(c.SVG_NAMESPACE,"g");G.classList.add("health-pill");
var E=document.createElementNS(c.SVG_NAMESPACE,"defs");G.appendChild(E);var F=document.createElementNS(c.SVG_NAMESPACE,"linearGradient"),B="health-pill-gradient-"+m;F.setAttribute("id",B);var H=0,K="0%";for(m=0;m<p.length;m++)if(p[m]){H+=p[m];var M=document.createElementNS(c.SVG_NAMESPACE,"stop");M.setAttribute("offset",K);M.setAttribute("stop-color",c.healthPillEntries[m].background_color);F.appendChild(M);K=document.createElementNS(c.SVG_NAMESPACE,"stop");M=100*H/g+"%";K.setAttribute("offset",M);
K.setAttribute("stop-color",c.healthPillEntries[m].background_color);F.appendChild(K);K=M}E.appendChild(F);m=document.createElementNS(c.SVG_NAMESPACE,"rect");m.setAttribute("fill","url(#"+B+")");m.setAttribute("width",String(n));m.setAttribute("height",String(D));G.appendChild(m);m=document.createElementNS(c.SVG_NAMESPACE,"title");E="Device: "+l.device_name+"\n";E+="dtype: "+l.dtype+"\n";F="(scalar)";0<l.shape.length&&(F="("+l.shape.join(",")+")");E=E+("\nshape: "+F+"\n\n")+("#(elements): "+g+"\n");
l=[];for(F=0;F<p.length;F++)0<p[F]&&l.push("#("+c.healthPillEntries[F].label+"): "+p[F]);E+=l.join(", ")+"\n\n";A>=q&&(E=E+("min: "+q+", max: "+A+"\n")+("mean: "+y+", stddev: "+C));m.textContent=E;G.appendChild(m);y=b.x-n/2;D=b.y-D-b.height/2-2;0>b.labelOffset&&(D+=b.labelOffset);if(p[2]||p[3]||p[4]){p=!1;if((b=b.node.attr)&&b.length)for(m=0;m<b.length;m++)if("T"===b[m].key){p=(b=b[m].value.type)&&/^DT_(BOOL|INT|UINT)/.test(b);break}b=document.createElementNS(c.SVG_NAMESPACE,"text");q=k(q,p);A=k(A,
p);b.textContent=1<g?q+" ~ "+A:q;b.classList.add("health-pill-stats");b.setAttribute("x",String(n/2));b.setAttribute("y","-2");G.appendChild(b)}G.setAttribute("transform","translate("+y+", "+D+")");Polymer.dom(this.parentNode).appendChild(G)}})}}})(b.scene||(b.scene={}))})(a.graph||(a.graph={}))})(U||(U={}));
</script>
<script>//~~WEBPATH~~/tf-graph-common/template.js
(function(a){(function(b){(function(c){function d(a){var b=_.map({depth:a.depth,"|V|":a.metagraph.nodes().length,"|E|":a.metagraph.edges().length},function(a,b){return b+"\x3d"+a}).join(" ");a=_.map(a.opHistogram,function(a,b){return b+"\x3d"+a}).join(",");return b+" [ops] "+a}function e(a){a=_(a.getNodeMap()).reduce(function(a,c,e){if(c.type!==b.NodeType.META)return a;e=e.split("/").length-1;var f=d(c),g=a[f]||{nodes:[],level:e};a[f]=g;g.nodes.push(c);g.level>e&&(g.level=e);return a},{});return _(a).pairs().filter(function(a){a=
a[1].nodes;if(1<a.length)return!0;a=a[0];return a.type===b.NodeType.META&&a.associatedFunction}).sortBy(function(a){return a[1].nodes[0].depth}).value()}function f(a,b){return _.reduce(a,function(a,c){var d=c[0],e=[];c[1].nodes.forEach(function(a){for(var c=0;c<e.length;c++)if(!b||k(e[c].metanode.metagraph,a.metagraph)){a.templateId=e[c].metanode.templateId;e[c].members.push(a.name);return}a.templateId=d+"["+e.length+"]";e.push({metanode:a,members:[a.name]})});e.forEach(function(b){a[b.metanode.templateId]=
{level:c[1].level,nodes:b.members}});return a},{})}function g(a,b,c){return _.sortByAll(a,function(a){return b.node(a).op},function(a){return b.node(a).templateId},function(a){return b.neighbors(a).length},function(a){return b.predecessors(a).length},function(a){return b.successors(a).length},function(a){return a.substr(c.length)})}function k(b,c){function d(a,b){var c=a.substr(f.length),d=b.substr(k.length);if(m[c]^n[c])return console.warn("different visit pattern","["+f+"]",c,"["+k+"]",d),!0;m[c]||
(m[c]=n[d]=!0,z.push({n1:a,n2:b}));return!1}var e;if(!a.graph.hasSimilarDegreeSequence(b,c))return!1;var f=b.graph().name,k=c.graph().name,m={},n={},z=[],w=b.sources(),A=c.sources();if(w.length!==A.length)return console.log("different source length"),!1;w=g(w,b,f);A=g(A,c,k);for(var y=0;y<w.length;y++)if(e=d(w[y],A[y]))return!1;for(;0<z.length;){e=z.pop();if(!l(b.node(e.n1),c.node(e.n2)))return!1;w=b.successors(e.n1);A=c.successors(e.n2);if(w.length!==A.length)return console.log("# of successors mismatch",
w,A),!1;w=g(w,b,f);A=g(A,c,k);for(y=0;y<w.length;y++)if(e=d(w[y],A[y]))return!1}return!0}function l(a,c){if(a.type===b.NodeType.META)return a.templateId&&c.templateId&&a.templateId===c.templateId;if(a.type===b.NodeType.OP&&c.type===b.NodeType.OP)return a.op===c.op;if(a.type===b.NodeType.SERIES&&c.type===b.NodeType.SERIES){var d=a.metagraph.nodeCount();return d===c.metagraph.nodeCount()&&(0===d||a.metagraph.node(a.metagraph.nodes()[0]).op===c.metagraph.node(c.metagraph.nodes()[0]).op)}return!1}c.detect=
function(a,b){a=e(a);b=f(a,b);return _(b).pairs().sortBy(function(a){return a[1].level}).map(function(a){return[a[0],a[1].nodes]}).object().value()}})(b.template||(b.template={}))})(a.graph||(a.graph={}))})(U||(U={}));
</script>
<script>//~~WEBPATH~~/tf-graph-common/util.js
(function(a){(function(b){(function(b){b.time=function(a,b){var c=Date.now();b=b();console.log(a,":",Date.now()-c,"ms");return b};b.getTracker=function(a){return{setMessage:function(b){a.set("progress",{value:a.progress.value,msg:b})},updateProgress:function(b){a.set("progress",{value:a.progress.value+b,msg:a.progress.msg})},reportError:function(b,c){console.error(c.stack);a.set("progress",{value:a.progress.value,msg:b,error:!0})}}};b.getSubtaskTracker=function(a,b,c){return{setMessage:function(b){a.setMessage(c+
": "+b)},updateProgress:function(c){a.updateProgress(c*b/100)},reportError:function(b,d){a.reportError(c+": "+b,d)}}};b.runTask=function(b,c,f,g){g.setMessage(b);try{var d=a.graph.util.time(b,f);g.updateProgress(c);return d}catch(l){g.reportError("Failed "+b,l)}};b.runAsyncTask=function(b,c,f,g){return new Promise(function(d){g.setMessage(b);setTimeout(function(){try{var e=a.graph.util.time(b,f);g.updateProgress(c);d(e)}catch(m){g.reportError("Failed "+b,m)}},20)})};b.runAsyncPromiseTask=function(a,
b){return new Promise(function(c,d){function e(a){b.reportError("Failed Parsing metadata.pbtxt",a);d(a)}b.setMessage("Parsing metadata.pbtxt");setTimeout(function(){try{var d=Date.now();a().then(function(a){console.log("Parsing metadata.pbtxt",":",Date.now()-d,"ms");b.updateProgress(60);c(a)}).catch(e)}catch(m){e(m)}},20)})};b.escapeQuerySelector=function(a){return a.replace(/([:.\[\],/\\\(\)])/g,"\\$1")};b.MEMORY_UNITS=[{symbol:"B"},{symbol:"KB",numUnits:1024},{symbol:"MB",numUnits:1024},{symbol:"GB",
numUnits:1024},{symbol:"TB",numUnits:1024},{symbol:"PB",numUnits:1024}];b.TIME_UNITS=[{symbol:"\u00b5s"},{symbol:"ms",numUnits:1E3},{symbol:"s",numUnits:1E3},{symbol:"min",numUnits:60},{symbol:"hr",numUnits:60},{symbol:"days",numUnits:24}];b.convertUnitsToHumanReadable=function(b,c,f){f=null==f?0:f;return f+1<c.length&&b>=c[f+1].numUnits?a.graph.util.convertUnitsToHumanReadable(b/c[f+1].numUnits,c,f+1):b.toPrecision(3)-0+" "+c[f].symbol};b.hasDisplayableNodeStats=function(a){return a&&(0<a.totalBytes||
0<a.getTotalMicros()||a.outputSize)?!0:!1};b.removeCommonPrefix=function(a){function b(){c++;var b=_.map(a,function(a){return a.substring(0,c)});if(b.every(function(a,c){return 0===c?!0:a===b[c-1]})){if(c>=k)return{value:a};d=c}else return"break"}if(2>a.length)return a;for(var c=0,d=0,k=_.min(_.map(a,function(a){return a.length}));;){var l=b();if("object"===typeof l)return l.value;if("break"===l)break}return _.map(a,function(a){return a.substring(d)})};b.getQueryParams=function(a){"?"===a.charAt(0)&&
(a=a.slice(1));a=_.chain(a.split("\x26")).map(function(a){if(a)return a.split("\x3d")}).compact().value();return _.object(a)};b.computeHumanFriendlyTime=function(a){a=+new Date-+new Date(a/1E3);return 3E4>a?"just now":6E4>a?Math.floor(a/1E3)+" seconds ago":12E4>a?"a minute ago":36E5>a?Math.floor(a/6E4)+" minutes ago":1==Math.floor(a/36E5)?"an hour ago":864E5>a?Math.floor(a/36E5)+" hours ago":1728E5>a?"yesterday":Math.floor(a/864E5)+" days ago"}})(b.util||(b.util={}))})(a.graph||(a.graph={}))})(U||
(U={}));
</script>













<dom-module id="tf-graph-debugger-data-card">
<template></template>
<script>//~~WEBPATH~~/tf-graph-debugger-data-card/tf-graph-debugger-data-card.html.js
Polymer({is:"tf-graph-debugger-data-card",properties:{renderHierarchy:Object,debuggerNumericAlerts:{type:Array,notify:!0},nodeNamesToHealthPills:Object,healthPillStepIndex:{type:Number,notify:!0},specificHealthPillStep:{type:Number,value:0,notify:!0},selectedNode:{type:String,notify:!0},highlightedNode:{type:String,notify:!0},selectedNodeInclude:{type:Number,notify:!0},areHealthPillsLoading:Boolean,healthPillEntries:{type:Array,value:U.graph.scene.healthPillEntries,readOnly:!0},healthPillValuesForSelectedNode:{type:Array,
computed:"_computeHealthPillForNode(nodeNamesToHealthPills, healthPillStepIndex, selectedNode, allStepsModeEnabled, areHealthPillsLoading)"},allStepsModeEnabled:{type:Boolean,notify:!0},_biggestStepEverSeen:{type:Number,computed:"_computeBiggestStepEverSeen(nodeNamesToHealthPills)"},_maxStepIndex:{type:Number,computed:"_computeMaxStepIndex(nodeNamesToHealthPills)"},_currentStepDisplayValue:{type:String,computed:"_computeCurrentStepDisplayValue(nodeNamesToHealthPills, healthPillStepIndex, allStepsModeEnabled, specificHealthPillStep, areHealthPillsLoading)"}},
observers:["_updateAlertsList(debuggerNumericAlerts)"],ready:function(){var a=document.getElementById("mainContainer"),b=document.querySelector("tf-dashboard-layout .scrollbar");a&&b&&(a.style.overflow="hidden",b.style.overflow="hidden")},_healthPillsAvailable:function(a,b){return a&&b},_computeTensorCountString:function(a,b){return a?a[b].toFixed(0):""},_computeHealthPillForNode:function(a,b,c,d,e){if(e||!c)return null;a=a[c];return a?(b=a[d?0:b])?b.value.slice(2,8):null:null},_computeCurrentStepDisplayValue:function(a,
b,c,d,e){if(c)return d.toFixed(0);if(e)return 0;for(var f in a)return a[f][b].step.toFixed(0);return 0},_computeBiggestStepEverSeen:function(a){for(var b in a)return a=a[b],Math.max(this._biggestStepEverSeen,a[a.length-1].step);return this._biggestStepEverSeen||0},_computeMaxStepIndex:function(a){for(var b in a)return a[b].length-1;return 0},_hasDebuggerNumericAlerts:function(a){return a&&a.length},_updateAlertsList:function(a){var b=this.$$("#numeric-alerts-body");if(b){b.innerHTML="";for(var c=
0;c<a.length;c++){var d=a[c],e=document.createElement("tr"),f=document.createElement("td");f.innerHTML=U.graph.util.computeHumanFriendlyTime(d.first_timestamp);f.classList.add("first-offense-td");e.appendChild(f);f=document.createElement("td");f.classList.add("tensor-device-td");var g=document.createElement("div");g.classList.add("tensor-section-within-table");g.innerHTML=d.tensor_name;this._addOpExpansionListener(g,d.tensor_name);f.appendChild(g);g=document.createElement("div");g.classList.add("device-section-within-table");
g.innerHTML="("+d.device_name+")";f.appendChild(g);e.appendChild(f);f=document.createElement("div");f.classList.add("mini-health-pill");g=document.createElement("td");g.classList.add("mini-health-pill-td");g.appendChild(f);e.appendChild(g);d.neg_inf_event_count&&(g=document.createElement("div"),g.classList.add("negative-inf-mini-health-pill-section"),g.innerHTML=d.neg_inf_event_count,g.setAttribute("title",d.neg_inf_event_count+" events with -\u221e"),f.appendChild(g));d.pos_inf_event_count&&(g=document.createElement("div"),
g.classList.add("positive-inf-mini-health-pill-section"),g.innerHTML=d.pos_inf_event_count,g.setAttribute("title",d.pos_inf_event_count+" events with +\u221e"),f.appendChild(g));d.nan_event_count&&(g=document.createElement("div"),g.classList.add("nan-mini-health-pill-section"),g.innerHTML=d.nan_event_count,g.setAttribute("title",d.nan_event_count+" events with NaN"),f.appendChild(g));Polymer.dom(b).appendChild(e)}}},_addOpExpansionListener:function(a,b){var c=this;a.addEventListener("click",function(){function a(){g.scrollTop=
g.scrollHeight-f}var e=U.graph.render.expandUntilNodeIsShown(c.renderHierarchy,b),f,g=document.querySelector("tf-graph-info#graph-info");g&&(f=g.scrollHeight-g.scrollTop);var k=c.selectedNode;c.set("selectedNode",e);g&&(k?a():window.setTimeout(a,20))})}});
</script>
</dom-module>







<script>//~~WEBPATH~~/iron-scroll-target-behavior/iron-scroll-target-behavior.html.js
Polymer.IronScrollTargetBehavior={properties:{scrollTarget:{type:Object,value:function(){return this._defaultScrollTarget}}},observers:["_scrollTargetChanged(scrollTarget, isAttached)"],_shouldHaveListener:!0,_scrollTargetChanged:function(a,b){this._oldScrollTarget&&(this._toggleScrollListener(!1,this._oldScrollTarget),this._oldScrollTarget=null);b&&("document"===a?this.scrollTarget=this._doc:"string"===typeof a?this.scrollTarget=this.domHost?this.domHost.$[a]:Polymer.dom(this.ownerDocument).querySelector("#"+
a):this._isValidScrollTarget()&&(this._boundScrollHandler=this._boundScrollHandler||this._scrollHandler.bind(this),this._oldScrollTarget=a,this._toggleScrollListener(this._shouldHaveListener,a)))},_scrollHandler:function(){},get _defaultScrollTarget(){return this._doc},get _doc(){return this.ownerDocument.documentElement},get _scrollTop(){return this._isValidScrollTarget()?this.scrollTarget===this._doc?window.pageYOffset:this.scrollTarget.scrollTop:0},get _scrollLeft(){return this._isValidScrollTarget()?
this.scrollTarget===this._doc?window.pageXOffset:this.scrollTarget.scrollLeft:0},set _scrollTop(a){this.scrollTarget===this._doc?window.scrollTo(window.pageXOffset,a):this._isValidScrollTarget()&&(this.scrollTarget.scrollTop=a)},set _scrollLeft(a){this.scrollTarget===this._doc?window.scrollTo(a,window.pageYOffset):this._isValidScrollTarget()&&(this.scrollTarget.scrollLeft=a)},scroll:function(a,b){this.scrollTarget===this._doc?window.scrollTo(a,b):this._isValidScrollTarget()&&(this.scrollTarget.scrollLeft=
a,this.scrollTarget.scrollTop=b)},get _scrollTargetWidth(){return this._isValidScrollTarget()?this.scrollTarget===this._doc?window.innerWidth:this.scrollTarget.offsetWidth:0},get _scrollTargetHeight(){return this._isValidScrollTarget()?this.scrollTarget===this._doc?window.innerHeight:this.scrollTarget.offsetHeight:0},_isValidScrollTarget:function(){return this.scrollTarget instanceof HTMLElement},_toggleScrollListener:function(a,b){this._boundScrollHandler&&(b=b===this._doc?window:b,a?b.addEventListener("scroll",
this._boundScrollHandler):b.removeEventListener("scroll",this._boundScrollHandler))},toggleScrollListener:function(a){this._shouldHaveListener=a;this._toggleScrollListener(a,this.scrollTarget)}};
</script>




<dom-module id="iron-list">
  <template></template>
</dom-module>

<script>//~~WEBPATH~~/iron-list/iron-list.html.js
(function(){var a=navigator.userAgent.match(/iP(?:hone|ad;(?: U;)? CPU) OS (\d+)/),b=a&&8<=a[1];Polymer({is:"iron-list",properties:{items:{type:Array},maxPhysicalCount:{type:Number,value:500},as:{type:String,value:"item"},indexAs:{type:String,value:"index"},selectedAs:{type:String,value:"selected"},grid:{type:Boolean,value:!1,reflectToAttribute:!0},selectionEnabled:{type:Boolean,value:!1},selectedItem:{type:Object,notify:!0},selectedItems:{type:Object,notify:!0},multiSelection:{type:Boolean,value:!1}},
observers:["_itemsChanged(items.*)","_selectionEnabledChanged(selectionEnabled)","_multiSelectionChanged(multiSelection)","_setOverflow(scrollTarget)"],behaviors:[Polymer.Templatizer,Polymer.IronResizableBehavior,Polymer.IronA11yKeysBehavior,Polymer.IronScrollTargetBehavior],keyBindings:{up:"_didMoveUp",down:"_didMoveDown",enter:"_didEnter"},_ratio:.5,_scrollerPaddingTop:0,_scrollPosition:0,_physicalSize:0,_physicalAverage:0,_physicalAverageCount:0,_physicalTop:0,_virtualCount:0,_physicalIndexForKey:null,
_estScrollHeight:0,_scrollHeight:0,_viewportHeight:0,_viewportWidth:0,_physicalItems:null,_physicalSizes:null,_firstVisibleIndexVal:null,_lastVisibleIndexVal:null,_collection:null,_maxPages:3,_focusedItem:null,_focusedIndex:-1,_offscreenFocusedItem:null,_focusBackfillItem:null,_itemsPerRow:1,_itemWidth:0,_rowHeight:0,_templateCost:0,get _physicalBottom(){return this._physicalTop+this._physicalSize},get _scrollBottom(){return this._scrollPosition+this._viewportHeight},get _virtualEnd(){return this._virtualStart+
this._physicalCount-1},get _hiddenContentSize(){return(this.grid?this._physicalRows*this._rowHeight:this._physicalSize)-this._viewportHeight},get _maxScrollTop(){return this._estScrollHeight-this._viewportHeight+this._scrollerPaddingTop},_minVirtualStart:0,get _maxVirtualStart(){return Math.max(0,this._virtualCount-this._physicalCount)},_virtualStartVal:0,set _virtualStart(a){this._virtualStartVal=Math.min(this._maxVirtualStart,Math.max(this._minVirtualStart,a))},get _virtualStart(){return this._virtualStartVal||
0},_physicalStartVal:0,set _physicalStart(a){this._physicalStartVal=a%this._physicalCount;0>this._physicalStartVal&&(this._physicalStartVal=this._physicalCount+this._physicalStartVal);this._physicalEnd=(this._physicalStart+this._physicalCount-1)%this._physicalCount},get _physicalStart(){return this._physicalStartVal||0},_physicalCountVal:0,set _physicalCount(a){this._physicalCountVal=a;this._physicalEnd=(this._physicalStart+this._physicalCount-1)%this._physicalCount},get _physicalCount(){return this._physicalCountVal},
_physicalEnd:0,get _optPhysicalSize(){return this.grid?this._estRowsInView*this._rowHeight*this._maxPages:this._viewportHeight*this._maxPages},get _optPhysicalCount(){return this._estRowsInView*this._itemsPerRow*this._maxPages},get _isVisible(){return!(!this.offsetWidth&&!this.offsetHeight)},get firstVisibleIndex(){if(null===this._firstVisibleIndexVal){var a=Math.floor(this._physicalTop+this._scrollerPaddingTop);this._firstVisibleIndexVal=this._iterateItems(function(b,c){a+=this._getPhysicalSizeIncrement(b);
if(a>this._scrollPosition)return this.grid?c-c%this._itemsPerRow:c;if(this.grid&&this._virtualCount-1===c)return c-c%this._itemsPerRow})||0}return this._firstVisibleIndexVal},get lastVisibleIndex(){if(null===this._lastVisibleIndexVal)if(this.grid)this._lastVisibleIndexVal=Math.min(this._virtualCount,this.firstVisibleIndex+this._estRowsInView*this._itemsPerRow-1);else{var a=this._physicalTop;this._iterateItems(function(b,c){if(a<this._scrollBottom)this._lastVisibleIndexVal=c;else return!0;a+=this._getPhysicalSizeIncrement(b)})}return this._lastVisibleIndexVal},
get _defaultScrollTarget(){return this},get _virtualRowCount(){return Math.ceil(this._virtualCount/this._itemsPerRow)},get _estRowsInView(){return Math.ceil(this._viewportHeight/this._rowHeight)},get _physicalRows(){return Math.ceil(this._physicalCount/this._itemsPerRow)},ready:function(){this.addEventListener("focus",this._didFocus.bind(this),!0)},attached:function(){this.updateViewportBoundaries();0===this._physicalCount&&this._debounceTemplate(this._render);this.listen(this,"iron-resize","_resizeHandler")},
detached:function(){this.unlisten(this,"iron-resize","_resizeHandler")},_setOverflow:function(a){this.style.webkitOverflowScrolling=a===this?"touch":"";this.style.overflow=a===this?"auto":""},updateViewportBoundaries:function(){this._scrollerPaddingTop=this.scrollTarget===this?0:parseInt(window.getComputedStyle(this)["padding-top"],10);this._viewportHeight=this._scrollTargetHeight;this.grid&&this._updateGridMetrics()},_scrollHandler:function(){var a=Math.max(0,Math.min(this._maxScrollTop,this._scrollTop)),
b=a-this._scrollPosition,e=this._ratio,f=0,g=this._hiddenContentSize,k,l=[];this._scrollPosition=a;this._lastVisibleIndexVal=this._firstVisibleIndexVal=null;var m=this._scrollBottom;var n=this._physicalBottom;if(Math.abs(b)>this._physicalSize)this._physicalTop+=b,f=Math.round(b/this._physicalAverage);else if(0>b){var q=a-this._physicalTop;l=this._virtualStart;var p=[];b=this._physicalEnd;for(k=q/g;k<e&&f<this._physicalCount&&0<l-f&&n-this._getPhysicalSizeIncrement(b)>m;)q=this._getPhysicalSizeIncrement(b),
k+=q/g,n-=q,p.push(b),f++,b=0===b?this._physicalCount-1:b-1;l=p;f=-f}else if(0<b){var t=this._virtualEnd,r=this._virtualCount-1;p=[];b=this._physicalStart;for(k=(n-m)/g;k<e&&f<this._physicalCount&&t+f<r&&this._physicalTop+this._getPhysicalSizeIncrement(b)<a;)q=this._getPhysicalSizeIncrement(b),k+=q/g,this._physicalTop+=q,p.push(b),f++,b=(b+1)%this._physicalCount}0===f?(n<m||this._physicalTop>a)&&this._increasePoolIfNeeded():(this._virtualStart+=f,this._physicalStart+=f,this._update(p,l))},_update:function(a,
b){this._manageFocus();this._assignModels(a);this._updateMetrics(a);if(b)for(;b.length;)a=b.pop(),this._physicalTop-=this._getPhysicalSizeIncrement(a);this._positionItems();this._updateScrollerSize();this._increasePoolIfNeeded()},_createPool:function(a){var b=Array(a);this._ensureTemplatized();for(var c=0;c<a;c++){var f=this.stamp(null);b[c]=f.root.querySelector("*");Polymer.dom(this).appendChild(f.root)}return b},_increasePoolIfNeeded:function(){if(0===this._viewportHeight)return!1;var a=this,b=
this._physicalBottom>=this._scrollBottom&&this._physicalTop<=this._scrollPosition;if(this._physicalSize>=this._optPhysicalSize&&b)return!1;var e=Math.round(.5*this._physicalCount);if(!b)return this._debounceTemplate(this._increasePool.bind(this,e)),!0;this._yield(function(){a._increasePool(Math.min(e,Math.max(1,Math.round(50/a._templateCost))))});return!0},_yield:function(a){var b=window,c=b.requestIdleCallback?b.requestIdleCallback(a):b.setTimeout(a,16);Polymer.dom.addDebouncer({complete:function(){b.cancelIdleCallback?
b.cancelIdleCallback(c):b.clearTimeout(c);a()}})},_increasePool:function(a){var b=this._physicalCount;a=Math.min(this._physicalCount+a,this._virtualCount-this._virtualStart,Math.max(this.maxPhysicalCount,3))-b;var c=window.performance.now();0>=a||([].push.apply(this._physicalItems,this._createPool(a)),[].push.apply(this._physicalSizes,Array(a)),this._physicalCount=b+a,this._physicalStart>this._physicalEnd&&this._isIndexRendered(this._focusedIndex)&&this._getPhysicalIndex(this._focusedIndex)<this._physicalEnd&&
(this._physicalStart+=a),this._update(),this._templateCost=(window.performance.now()-c)/a)},_render:function(){this.isAttached&&this._isVisible&&(0===this._physicalCount?this._increasePool(3):this._update())},_ensureTemplatized:function(){if(!this.ctor){var a={__key__:!0};a[this.as]=!0;a[this.indexAs]=!0;a[this.selectedAs]=!0;a.tabIndex=!0;this._instanceProps=a;(this._userTemplate=Polymer.dom(this).querySelector("template"))?this.templatize(this._userTemplate):console.warn("iron-list requires a template to be provided in light-dom")}},
_getStampedChildren:function(){return this._physicalItems},_forwardInstancePath:function(a,b,e){0===b.indexOf(this.as+".")&&this.notifyPath("items."+a.__key__+"."+b.slice(this.as.length+1),e)},_forwardParentProp:function(a,b){this._physicalItems&&this._physicalItems.forEach(function(c){c._templateInstance[a]=b},this)},_forwardParentPath:function(a,b){this._physicalItems&&this._physicalItems.forEach(function(c){c._templateInstance.notifyPath(a,b,!0)},this)},_forwardItemPath:function(a,b){if(this._physicalIndexForKey){var c=
a.indexOf("."),d=a.substring(0,0>c?a.length:c),g=this._physicalIndexForKey[d],k=this._offscreenFocusedItem;if((g=k&&k._templateInstance.__key__===d?k:this._physicalItems[g])&&g._templateInstance.__key__===d)if(0<=c)a=this.as+"."+a.substring(c+1),g._templateInstance.notifyPath(a,b,!0);else{a=g._templateInstance[this.as];if(Array.isArray(this.selectedItems))for(c=0;c<this.selectedItems.length;c++){if(this.selectedItems[c]===a){this.set("selectedItems."+c,b);break}}else this.selectedItem===a&&this.set("selectedItem",
b);g._templateInstance[this.as]=b}}},_itemsChanged:function(a){"items"===a.path?(this._physicalTop=this._virtualStart=0,this._virtualCount=this.items?this.items.length:0,this._collection=this.items?Polymer.Collection.get(this.items):null,this._physicalIndexForKey={},this._lastVisibleIndexVal=this._firstVisibleIndexVal=null,this._physicalCount=this._physicalCount||0,this._physicalItems=this._physicalItems||[],this._physicalSizes=this._physicalSizes||[],this._physicalStart=0,this._resetScrollPosition(0),
this._removeFocusedItem(),this._debounceTemplate(this._render)):"items.splices"===a.path?(this._adjustVirtualIndex(a.value.indexSplices),this._virtualCount=this.items?this.items.length:0,this._debounceTemplate(this._render)):this._forwardItemPath(a.path.split(".").slice(1).join("."),a.value)},_adjustVirtualIndex:function(a){a.forEach(function(a){a.removed.forEach(this._removeItem,this);a.index<this._virtualStart&&(a=Math.max(a.addedCount-a.removed.length,a.index-this._virtualStart),this._virtualStart+=
a,0<=this._focusedIndex&&(this._focusedIndex+=a))},this)},_removeItem:function(a){this.$.selector.deselect(a);this._focusedItem&&this._focusedItem._templateInstance[this.as]===a&&this._removeFocusedItem()},_iterateItems:function(a,b){var c,d;if(2===arguments.length&&b)for(d=0;d<b.length;d++){var g=b[d];var k=this._computeVidx(g);if(null!=(c=a.call(this,g,k)))return c}else{g=this._physicalStart;for(k=this._virtualStart;g<this._physicalCount;g++,k++)if(null!=(c=a.call(this,g,k)))return c;for(g=0;g<
this._physicalStart;g++,k++)if(null!=(c=a.call(this,g,k)))return c}},_computeVidx:function(a){return a>=this._physicalStart?this._virtualStart+(a-this._physicalStart):this._virtualStart+(this._physicalCount-this._physicalStart)+a},_assignModels:function(a){this._iterateItems(function(a,b){var c=this._physicalItems[a],d=c._templateInstance,e=this.items&&this.items[b];null!=e?(d[this.as]=e,d.__key__=this._collection.getKey(e),d[this.selectedAs]=this.$.selector.isSelected(e),d[this.indexAs]=b,d.tabIndex=
this._focusedIndex===b?0:-1,this._physicalIndexForKey[d.__key__]=a,c.removeAttribute("hidden")):(d.__key__=null,c.setAttribute("hidden",""))},a)},_updateMetrics:function(a){Polymer.dom.flush();var b=0,c=0,f=this._physicalAverageCount,g=this._physicalAverage;this._iterateItems(function(a){c+=this._physicalSizes[a]||0;this._physicalSizes[a]=this._physicalItems[a].offsetHeight;b+=this._physicalSizes[a];this._physicalAverageCount+=this._physicalSizes[a]?1:0},a);this._viewportHeight=this._scrollTargetHeight;
this.grid?(this._updateGridMetrics(),this._physicalSize=Math.ceil(this._physicalCount/this._itemsPerRow)*this._rowHeight):this._physicalSize=this._physicalSize+b-c;this._physicalAverageCount!==f&&(this._physicalAverage=Math.round((g*f+b)/this._physicalAverageCount))},_updateGridMetrics:function(){this._viewportWidth=this.$.items.offsetWidth;this._itemWidth=0<this._physicalCount?this._physicalItems[0].getBoundingClientRect().width:200;this._rowHeight=0<this._physicalCount?this._physicalItems[0].offsetHeight:
200;this._itemsPerRow=this._itemWidth?Math.floor(this._viewportWidth/this._itemWidth):this._itemsPerRow},_positionItems:function(){this._adjustScrollPosition();var a=this._physicalTop;if(this.grid){var b=(this._viewportWidth-this._itemsPerRow*this._itemWidth)/2;this._iterateItems(function(c,d){this.translate3d(Math.floor(d%this._itemsPerRow*this._itemWidth+b)+"px",a+"px",0,this._physicalItems[c]);this._shouldRenderNextRow(d)&&(a+=this._rowHeight)})}else this._iterateItems(function(b){this.translate3d(0,
a+"px",0,this._physicalItems[b]);a+=this._physicalSizes[b]})},_getPhysicalSizeIncrement:function(a){return this.grid?this._computeVidx(a)%this._itemsPerRow!==this._itemsPerRow-1?0:this._rowHeight:this._physicalSizes[a]},_shouldRenderNextRow:function(a){return a%this._itemsPerRow===this._itemsPerRow-1},_adjustScrollPosition:function(){var a=0===this._virtualStart?this._physicalTop:Math.min(this._scrollPosition+this._physicalTop,0);a&&(this._physicalTop-=a,b||0===this._physicalTop||this._resetScrollPosition(this._scrollTop-
a))},_resetScrollPosition:function(a){this.scrollTarget&&(this._scrollPosition=this._scrollTop=a)},_updateScrollerSize:function(a){this._estScrollHeight=this.grid?this._virtualRowCount*this._rowHeight:this._physicalBottom+Math.max(this._virtualCount-this._physicalCount-this._virtualStart,0)*this._physicalAverage;if((a=(a=(a=a||0===this._scrollHeight)||this._scrollPosition>=this._estScrollHeight-this._physicalSize)||this.grid&&this.$.items.style.height<this._estScrollHeight)||Math.abs(this._estScrollHeight-
this._scrollHeight)>=this._optPhysicalSize)this.$.items.style.height=this._estScrollHeight+"px",this._scrollHeight=this._estScrollHeight},scrollToItem:function(a){return this.scrollToIndex(this.items.indexOf(a))},scrollToIndex:function(a){if(!("number"!==typeof a||0>a||a>this.items.length-1)&&(Polymer.dom.flush(),0!==this._physicalCount)){a=Math.min(Math.max(a,0),this._virtualCount-1);if(!this._isIndexRendered(a)||a>=this._maxVirtualStart)this._virtualStart=this.grid?a-2*this._itemsPerRow:a-1;this._manageFocus();
this._assignModels();this._updateMetrics();this._physicalTop=Math.floor(this._virtualStart/this._itemsPerRow)*this._physicalAverage;for(var b=this._physicalStart,c=this._virtualStart,f=0,g=this._hiddenContentSize;c<a&&f<=g;)f+=this._getPhysicalSizeIncrement(b),b=(b+1)%this._physicalCount,c++;this._updateScrollerSize(!0);this._positionItems();this._resetScrollPosition(this._physicalTop+this._scrollerPaddingTop+f);this._increasePoolIfNeeded();this._lastVisibleIndexVal=this._firstVisibleIndexVal=null}},
_resetAverage:function(){this._physicalAverageCount=this._physicalAverage=0},_resizeHandler:function(){a&&100>Math.abs(this._viewportHeight-this._scrollTargetHeight)||Polymer.dom.addDebouncer(this.debounce("_debounceTemplate",function(){this.updateViewportBoundaries();this._render();0<this._physicalCount&&this._isVisible&&(this._resetAverage(),this.scrollToIndex(this.firstVisibleIndex))}.bind(this),1))},_getModelFromItem:function(a){a=this._collection.getKey(a);a=this._physicalIndexForKey[a];return null!=
a?this._physicalItems[a]._templateInstance:null},_getNormalizedItem:function(a){if(void 0===this._collection.getKey(a)){if("number"===typeof a){a=this.items[a];if(!a)throw new RangeError("\x3citem\x3e not found");return a}throw new TypeError("\x3citem\x3e should be a valid item");}return a},selectItem:function(a){a=this._getNormalizedItem(a);var b=this._getModelFromItem(a);!this.multiSelection&&this.selectedItem&&this.deselectItem(this.selectedItem);b&&(b[this.selectedAs]=!0);this.$.selector.select(a);
this.updateSizeForItem(a)},deselectItem:function(a){a=this._getNormalizedItem(a);var b=this._getModelFromItem(a);b&&(b[this.selectedAs]=!1);this.$.selector.deselect(a);this.updateSizeForItem(a)},toggleSelectionForItem:function(a){a=this._getNormalizedItem(a);this.$.selector.isSelected(a)?this.deselectItem(a):this.selectItem(a)},clearSelection:function(){function a(a){(a=this._getModelFromItem(a))&&(a[this.selectedAs]=!1)}Array.isArray(this.selectedItems)?this.selectedItems.forEach(a,this):this.selectedItem&&
a.call(this,this.selectedItem);this.$.selector.clearSelection()},_selectionEnabledChanged:function(a){(a?this.listen:this.unlisten).call(this,this,"tap","_selectionHandler")},_selectionHandler:function(a){var b=this.modelForElement(a.target);if(b){var c=Polymer.dom(a).path[0];a=Polymer.dom(this.domHost?this.domHost.root:document).activeElement;var f=this._physicalItems[this._getPhysicalIndex(b[this.indexAs])];if("input"!==c.localName&&"button"!==c.localName&&"select"!==c.localName){c=b.tabIndex;b.tabIndex=
-100;var g=a?a.tabIndex:-1;b.tabIndex=c;a&&f!==a&&f.contains(a)&&-100!==g||this.toggleSelectionForItem(b[this.as])}}},_multiSelectionChanged:function(a){this.clearSelection();this.$.selector.multi=a},updateSizeForItem:function(a){a=this._getNormalizedItem(a);a=this._collection.getKey(a);a=this._physicalIndexForKey[a];null!=a&&(this._updateMetrics([a]),this._positionItems())},_manageFocus:function(){var a=this._focusedIndex;0<=a&&a<this._virtualCount?this._isIndexRendered(a)?this._restoreFocusedItem():
this._createFocusBackfillItem():0<this._virtualCount&&0<this._physicalCount&&(this._focusedIndex=this._virtualStart,this._focusedItem=this._physicalItems[this._physicalStart])},_isIndexRendered:function(a){return a>=this._virtualStart&&a<=this._virtualEnd},_isIndexVisible:function(a){return a>=this.firstVisibleIndex&&a<=this.lastVisibleIndex},_getPhysicalIndex:function(a){return this._physicalIndexForKey[this._collection.getKey(this._getNormalizedItem(a))]},_focusPhysicalItem:function(a){if(!(0>a||
a>=this._virtualCount)){this._restoreFocusedItem();this._isIndexRendered(a)||this.scrollToIndex(a);var b=this._physicalItems[this._getPhysicalIndex(a)],c=b._templateInstance,f;c.tabIndex=-100;-100===b.tabIndex&&(f=b);f||(f=Polymer.dom(b).querySelector('[tabindex\x3d"-100"]'));c.tabIndex=0;this._focusedIndex=a;f&&f.focus()}},_removeFocusedItem:function(){this._offscreenFocusedItem&&Polymer.dom(this).removeChild(this._offscreenFocusedItem);this._focusedItem=this._focusBackfillItem=this._offscreenFocusedItem=
null;this._focusedIndex=-1},_createFocusBackfillItem:function(){var a=this._focusedIndex;if(!(this._offscreenFocusedItem||0>a)){if(!this._focusBackfillItem){var b=this.stamp(null);this._focusBackfillItem=b.root.querySelector("*");Polymer.dom(this).appendChild(b.root)}a=this._getPhysicalIndex(a);null!=a&&(this._offscreenFocusedItem=this._physicalItems[a],this._physicalItems[a]=this._focusBackfillItem,this.translate3d(0,"-10000px",0,this._offscreenFocusedItem))}},_restoreFocusedItem:function(){var a=
this._focusedIndex;!this._offscreenFocusedItem||0>this._focusedIndex||(this._assignModels(),a=this._getPhysicalIndex(a),null!=a&&(this._focusBackfillItem=this._physicalItems[a],this._physicalItems[a]=this._offscreenFocusedItem,this._offscreenFocusedItem=null,this.translate3d(0,"-10000px",0,this._focusBackfillItem)))},_didFocus:function(a){a=this.modelForElement(a.target);var b=this._focusedItem?this._focusedItem._templateInstance:null,c=null!==this._offscreenFocusedItem,f=this._focusedIndex;a&&b&&
(b===a?this._isIndexVisible(f)||this.scrollToIndex(f):(this._restoreFocusedItem(),b.tabIndex=-1,a.tabIndex=0,this._focusedIndex=f=a[this.indexAs],this._focusedItem=this._physicalItems[this._getPhysicalIndex(f)],c&&!this._offscreenFocusedItem&&this._update()))},_didMoveUp:function(){this._focusPhysicalItem(this._focusedIndex-1)},_didMoveDown:function(a){a.detail.keyboardEvent.preventDefault();this._focusPhysicalItem(this._focusedIndex+1)},_didEnter:function(a){this._focusPhysicalItem(this._focusedIndex);
this._selectionHandler(a.detail.keyboardEvent)}})})();
</script>











<dom-module id="paper-item-body">
  <template></template>

  <script>//~~WEBPATH~~/paper-item/paper-item-body.html.js
Polymer({is:"paper-item-body"});
</script>
</dom-module>







<dom-module id="tf-graph-icon">
  
  <template></template>

  <script>//~~WEBPATH~~/tf-graph-info/tf-graph-icon.html.js
Polymer({is:"tf-graph-icon",properties:{node:{type:Object,value:null},renderInfo:{type:Object,value:null},colorBy:{type:Object,value:"structural"},templateIndex:{type:Function,value:null},type:{type:String,value:null},vertical:{type:Boolean,value:!1},const:{type:Boolean,value:!1},summary:{type:Boolean,value:!1},fill:{type:String,value:null},height:{type:Number,value:20},_computedFill:{type:String,computed:"_getComputedFill(node, renderInfo, colorBy, templateIndex, fill)"}},_getComputedFill:function(a,
b,c,d,e){return a&&b&&c&&d?(a=U.graph.scene.node,a.getFillForNode(d,a.ColorBy[c.toUpperCase()],b,!1)):e},_getFill:function(a,b){return a||{OP:U.graph.render.OpNodeColors.DEFAULT_FILL,META:U.graph.render.MetanodeColors.DEFAULT_FILL,SERIES:U.graph.render.SeriesNodeColors.DEFAULT_FILL}[b]},_getStroke:function(a,b){return a?U.graph.scene.node.getStrokeForFill(a):{OP:U.graph.render.OpNodeColors.DEFAULT_STROKE,META:U.graph.render.MetanodeColors.DEFAULT_STROKE,SERIES:U.graph.render.SeriesNodeColors.DEFAULT_STROKE}[b]},
_isType:function(a,b,c){return a?U.graph.NodeType[a.type]===c:b===c},_isVertical:function(a,b){return a?a.hasNonControlEdges:!!b},_isConst:function(a,b){return a?"Const"===a.op:!!b},_isSummary:function(a,b){return a?this._isType(a,null,"OP")&&"Summary"===a.op.substr(-7):!!b},_isRegularOp:function(a,b,c){return!this._isConst(a,b)&&!this._isSummary(a,c)},_fadedClass:function(a,b){return a&&a.isFadedOut?"faded-"+b:""}});
</script>
</dom-module>


<dom-module id="tf-graph-op-compat-list-item">
<template></template>

<script>//~~WEBPATH~~/tf-graph-op-compat-card/tf-graph-op-compat-list-item.html.js
Polymer({is:"tf-graph-op-compat-list-item",properties:{cardNode:Object,itemNode:Object,edgeLabel:String,itemRenderInfo:Object,name:String,itemType:{type:String,observer:"_itemTypeChanged"},colorBy:String,colorByParams:Object,templateIndex:Function},_itemTypeChanged:function(){"subnode"!==this.itemType?this.$["list-item"].classList.add("clickable"):this.$["list-item"].classList.remove("clickable")},_nodeListener:function(a){this.fire("node-list-item-"+a.type,{nodeName:this.name,type:this.itemType})},
_fadedClass:function(a){return a&&a.isFadedOut?"faded":""}});
</script>
</dom-module>


<dom-module id="tf-graph-op-compat-card">
<template></template>

<script>//~~WEBPATH~~/tf-graph-op-compat-card/tf-graph-op-compat-card.html.js
Polymer({is:"tf-graph-op-compat-card",properties:{graphHierarchy:Object,hierarchyParams:Object,renderHierarchy:Object,_templateIndex:{type:Function,computed:"_getTemplateIndex(graphHierarchy)"},_incompatibleOpNodes:{type:Object,computed:"_getIncompatibleOpNodes(graphHierarchy, hierarchyParams)"},_expanded:{type:Boolean,value:!0},_opCompatScore:{type:Number,computed:"_computeOpCompatScore(graphHierarchy)"},_opCompatScoreLabel:{type:String,computed:"_getOpCompatScoreLabel(_opCompatScore)"},_opCompatColor:{type:String,
value:U.graph.render.OpNodeColors.COMPATIBLE},_opIncompatColor:{type:String,value:U.graph.render.OpNodeColors.INCOMPATIBLE},_totalIncompatOps:{type:Number,computed:"_getTotalIncompatibleOps(graphHierarchy)"}},_getTemplateIndex:function(a){return a.getTemplateIndex()},_getNode:function(a,b){return b.node(a)},_getPrintableHTMLNodeName:function(a){return(a||"").replace(/\//g,"\x3cwbr\x3e/")},_getRenderInfo:function(a){return this.renderHierarchy.getOrCreateRenderNodeByName(a)},_toggleExpanded:function(){this._expanded=
!this._expanded},_getToggleIcon:function(a){return a?"expand-less":"expand-more"},_resizeList:function(a){(a=document.querySelector(a))&&a.fire("iron-resize")},_getIncompatibleOpNodes:function(a,b){if(a&&a.root)return this.async(this._resizeList.bind(this,"#incompatibleOpsList")),U.graph.hierarchy.getIncompatibleOps(a,b)},_computeOpCompatScore:function(a){if(a&&a.root){var b=a.root;a=b.compatibilityHistogram.compatible;b=b.compatibilityHistogram.incompatible;return 0==a&&0==b?0:a/(a+b)}return 0},
_getOpCompatScoreLabel:function(a){return d3.format(".0%")(a)},_getTotalIncompatibleOps:function(a){return a&&a.root?a.root.compatibilityHistogram.incompatible:0}});
</script>
</dom-module>














<dom-module id="tf-node-list-item">
  
  <template></template>

  <script>//~~WEBPATH~~/tf-graph-info/tf-node-list-item.html.js
Polymer({is:"tf-node-list-item",properties:{cardNode:Object,itemNode:Object,edgeLabel:String,itemRenderInfo:Object,name:String,itemType:{type:String,observer:"_itemTypeChanged"},colorBy:String,colorByParams:Object,templateIndex:Function},_itemTypeChanged:function(){"subnode"!==this.itemType?this.$["list-item"].classList.add("clickable"):this.$["list-item"].classList.remove("clickable")},_nodeListener:function(a){this.fire("node-list-item-"+a.type,{cardNode:this.cardNode.name,nodeName:this.name,type:this.itemType})},
_fadedClass:function(a){return a&&a.isFadedOut?"faded":""}});
</script>
</dom-module>


<dom-module id="tf-node-info">
  
  <template></template>

  <script>//~~WEBPATH~~/tf-graph-info/tf-node-info.html.js
Polymer({is:"tf-node-info",properties:{nodeName:String,graphHierarchy:Object,renderHierarchy:Object,colorBy:String,_templateIndex:{type:Function,computed:"_getTemplateIndex(graphHierarchy)"},_node:{type:Object,computed:"_getNode(nodeName, graphHierarchy)",observer:"_resetState"},_nodeStats:{type:Object,computed:"_getNodeStats(nodeName, graphHierarchy)",observer:"_resetState"},_hasDisplayableNodeStats:{type:Object,computed:"_getHasDisplayableNodeStats(_nodeStats)"},_nodeStatsFormattedBytes:{type:String,
computed:"_getNodeStatsFormattedBytes(_nodeStats)"},_nodeStatsFormattedComputeTime:{type:String,computed:"_getNodeStatsFormattedComputeTime(_nodeStats)"},_nodeStatsFormattedOutputSizes:{type:Array,computed:"_getNodeStatsFormattedOutputSizes(_nodeStats)"},nodeInclude:{type:Number,observer:"_nodeIncludeStateChanged"},_attributes:{type:Array,computed:"_getAttributes(_node)"},_device:{type:String,computed:"_getDevice(_node)"},_successors:{type:Object,computed:"_getSuccessors(_node, graphHierarchy)"},
_predecessors:{type:Object,computed:"_getPredecessors(_node, graphHierarchy)"},_functionUsages:{type:Array,computed:"_getFunctionUsages(_node, graphHierarchy)"},_subnodes:{type:Array,computed:"_getSubnodes(_node)"},_expanded:{type:Boolean,value:!0},_totalPredecessors:{type:Number,computed:"_getTotalPred(_predecessors)"},_totalSuccessors:{type:Number,computed:"_getTotalSucc(_successors)"},_openedControlPred:{type:Boolean,value:!1},_openedControlSucc:{type:Boolean,value:!1},_auxButtonText:String,_groupButtonText:String},
expandNode:function(){this.fire("_node.expand",this.node)},_getTemplateIndex:function(a){return a.getTemplateIndex()},_getNode:function(a,b){return b.node(a)},_getNodeStats:function(a,b){return(a=this._getNode(a,b))?a.stats:null},_getTotalMicros:function(a){return a.getTotalMicros()},_getHasDisplayableNodeStats:function(a){return U.graph.util.hasDisplayableNodeStats(a)},_getNodeStatsFormattedBytes:function(a){if(a&&a.totalBytes)return U.graph.util.convertUnitsToHumanReadable(a.totalBytes,U.graph.util.MEMORY_UNITS)},
_getNodeStatsFormattedComputeTime:function(a){if(a&&a.getTotalMicros())return U.graph.util.convertUnitsToHumanReadable(a.getTotalMicros(),U.graph.util.TIME_UNITS)},_getNodeStatsFormattedOutputSizes:function(a){if(a&&a.outputSize&&a.outputSize.length)return _.map(a.outputSize,function(a){return 0===a.length?"scalar":"["+a.join(", ")+"]"})},_getPrintableHTMLNodeName:function(a){return(a||"").replace(/\//g,"\x3cwbr\x3e/")},_getRenderInfo:function(a){return this.renderHierarchy.getOrCreateRenderNodeByName(a)},
_getAttributes:function(a){this.async(this._resizeList.bind(this,"#attributesList"));if(!a||!a.attr)return[];var b=[];_.each(a.attr,function(a){a.key===U.graph.LARGE_ATTRS_KEY?b=b.concat(a.value.list.s.map(function(a){return{key:a,value:"Too large to show..."}})):b.push({key:a.key,value:JSON.stringify(a.value)})});return b},_getDevice:function(a){return a?a.device:null},_getSuccessors:function(a,b){this._refreshNodeItemList("inputsList");return a?this._convertEdgeListToEdgeInfoList(b.getSuccessors(a.name),
!1,a.isGroupNode):{regular:[],control:[]}},_getPredecessors:function(a,b){this._refreshNodeItemList("outputsList");return a?this._convertEdgeListToEdgeInfoList(b.getPredecessors(a.name),!0,a.isGroupNode):{regular:[],control:[]}},_getFunctionUsages:function(a,b){this._refreshNodeItemList("functionUsagesList");return a&&a.type===U.graph.NodeType.META?(a=b.libraryFunctions[a.associatedFunction])?a.usages:[]:[]},_refreshNodeItemList:function(a){this.async(this._resizeList.bind(this,"#"+a))},_convertEdgeListToEdgeInfoList:function(a,
b,c){var d=function(a){return _.map(a.baseEdgeList,function(a){var c=b?a.v:a.w;return{name:c,node:this._getNode(c,this.graphHierarchy),edgeLabel:U.graph.scene.edge.getLabelForBaseEdge(a,this.renderHierarchy),renderInfo:this._getRenderInfo(c,this.renderHierarchy)}},this)}.bind(this),e=function(a){var e=[];_.each(a,function(a){var f=b?a.v:a.w;c&&1!=a.baseEdgeList.length?e.push({name:f,node:this._getNode(f,this.graphHierarchy),edgeLabel:U.graph.scene.edge.getLabelForEdge(a,this.renderHierarchy),renderInfo:this._getRenderInfo(f,
this.renderHierarchy)}):e=e.concat(d(a))},this);return e}.bind(this);return{regular:e(a.regular),control:e(a.control)}},_getSubnodes:function(a){return a&&a.metagraph?a.metagraph.nodes():null},_getTotalPred:function(a){return a.regular.length+a.control.length},_getTotalSucc:function(a){return a.regular.length+a.control.length},_toggleControlPred:function(){this._openedControlPred=!this._openedControlPred},_toggleControlSucc:function(){this._openedControlSucc=!this._openedControlSucc},_toggleExpanded:function(){this._expanded=
!this._expanded},_getToggleIcon:function(a){return a?"expand-less":"expand-more"},_resetState:function(){this._openedControlSucc=this._openedControlPred=!1;this.set("_groupButtonText",U.graph.scene.node.getGroupSettingLabel(this._node));this._node&&(Polymer.dom(this.$.nodetitle).innerHTML=this._getPrintableHTMLNodeName(this._node.name))},_resizeList:function(a){(a=document.querySelector(a))&&a.fire("iron-resize")},_toggleInclude:function(){document.querySelector("#graph").fire("node-toggle-extract",
{name:this.nodeName});document.querySelector("#graphboard").fire("node-toggle-extract")},_nodeIncludeStateChanged:function(a){this.set("_auxButtonText",U.graph.getIncludeNodeButtonString(a))},_toggleGroup:function(){var a=document.querySelector("#graph"),b=U.graph.scene.node.getSeriesName(this._node);a.fire("node-toggle-seriesgroup",{name:b})},_isLibraryFunction:function(a){return a&&a.name.startsWith(U.graph.FUNCTION_LIBRARY_NODE_PREFIX)},_isInSeries:function(a){return U.graph.scene.node.canBeInSeries(a)}});
</script>
</dom-module>


<dom-module id="tf-graph-info">
<template></template>
<script>//~~WEBPATH~~/tf-graph-info/tf-graph-info.html.js
Polymer({is:"tf-graph-info",properties:{title:String,graphHierarchy:Object,graph:Object,renderHierarchy:Object,nodeNamesToHealthPills:Object,healthPillStepIndex:{type:Number,notify:!0},colorBy:String,selectedNode:{type:String,notify:!0},highlightedNode:{type:String,notify:!0},selectedNodeInclude:{type:Number,notify:!0},debuggerDataEnabled:Boolean},listeners:{"node-list-item-click":"_nodeListItemClicked","node-list-item-mouseover":"_nodeListItemMouseover","node-list-item-mouseout":"_nodeListItemMouseout"},
_nodeListItemClicked:function(a){this.selectedNode=a.detail.nodeName},_nodeListItemMouseover:function(a){this.highlightedNode=a.detail.nodeName},_nodeListItemMouseout:function(){this.highlightedNode=null},_healthPillsAvailable:function(a,b){return a&&b},_equals:function(a,b){return a===b}});
</script>
</dom-module>













<script>//~~WEBPATH~~/tf-graph-common/minimap.js
(function(a){(function(a){var b=function(){function a(a,b,c,d,l,m){var e=this;this.svg=a;this.labelPadding=m;this.zoomG=b;this.mainZoom=c;this.maxWandH=l;a=d3.select(d);var f=a.select("svg"),g=f.select("rect");this.viewpointCoord={x:0,y:0};b=d3.drag().subject(Object).on("drag",function(){e.viewpointCoord.x=d3.event.x;e.viewpointCoord.y=d3.event.y;e.updateViewpoint()});g.datum(this.viewpointCoord).call(b);f.on("click",function(){if(!d3.event.defaultPrevented){var a=Number(g.attr("width")),b=Number(g.attr("height")),
c=d3.mouse(f.node());e.viewpointCoord.x=c[0]-a/2;e.viewpointCoord.y=c[1]-b/2;e.updateViewpoint()}});this.viewpoint=g.node();this.minimapSvg=f.node();this.minimap=d;this.canvas=a.select("canvas.first").node();this.canvasBuffer=a.select("canvas.second").node();this.downloadCanvas=a.select("canvas.download").node();d3.select(this.downloadCanvas).style("display","none");this.update()}a.prototype.updateViewpoint=function(){d3.select(this.viewpoint).attr("x",this.viewpointCoord.x).attr("y",this.viewpointCoord.y);
var a=-this.viewpointCoord.x*this.scaleMain/this.scaleMinimap,b=-this.viewpointCoord.y*this.scaleMain/this.scaleMinimap;d3.select(this.svg).call(this.mainZoom.transform,d3.zoomIdentity.translate(a,b).scale(this.scaleMain))};a.prototype.update=function(){var a=this,b=null;try{if(b=this.zoomG.getBBox(),0===b.width)return}catch(t){return}var c=d3.select("#graphdownload");this.download=c.node();c.on("click",function(){a.download.href=a.downloadCanvas.toDataURL("image/png")});c=d3.select(this.svg);for(var d=
"",l=0;l<document.styleSheets.length;l++)try{var m=document.styleSheets[l].cssRules||document.styleSheets[l].rules;if(null!=m)for(var n=0;n<m.length;n++)d+=m[n].cssText.replace(/ ?tf-[\w-]+ ?/g,"")+"\n"}catch(t){if("SecurityError"!==t.name)throw t;}m=c.append("style");m.text(d);d=d3.select(this.zoomG);l=d.attr("transform");d.attr("transform",null);b.height+=2*this.labelPadding;b.width+=2*this.labelPadding;c.attr("width",b.width).attr("height",b.height);this.scaleMinimap=this.maxWandH/Math.max(b.width,
b.height);this.minimapSize={width:b.width*this.scaleMinimap,height:b.height*this.scaleMinimap};d3.select(this.minimapSvg).attr(this.minimapSize);d3.select(this.canvasBuffer).attr(this.minimapSize);n=d3.select(this.downloadCanvas);n.style("width",b.width);n.style("height",b.height);n.attr("width",3*b.width);n.attr("height",3*b.height);null!=this.translate&&null!=this.zoom&&requestAnimationFrame(function(){return a.zoom()});var q=(new XMLSerializer).serializeToString(this.svg);m.remove();c.attr("width",
null).attr("height",null);d.attr("transform",l);var p=new Image;p.onload=function(){var b=a.canvasBuffer.getContext("2d");b.clearRect(0,0,a.canvasBuffer.width,a.canvasBuffer.height);b.drawImage(p,0,0,a.minimapSize.width,a.minimapSize.height);requestAnimationFrame(function(){d3.select(a.canvasBuffer).style("display",null);d3.select(a.canvas).style("display","none");var b=[a.canvasBuffer,a.canvas];a.canvas=b[0];a.canvasBuffer=b[1]});b=a.downloadCanvas.getContext("2d");b.clearRect(0,0,a.downloadCanvas.width,
a.downloadCanvas.height);b.drawImage(p,0,0,a.downloadCanvas.width,a.downloadCanvas.height)};p.onerror=function(){p.src=URL.createObjectURL(new Blob([q],{type:"image/svg+xml;charset\x3dutf-8"}))};p.src="data:image/svg+xml;charset\x3dutf-8,"+encodeURIComponent(q)};a.prototype.zoom=function(a){if(null!=this.scaleMinimap){a&&(this.translate=[a.x,a.y],this.scaleMain=a.k);var b=this.svg.getBoundingClientRect(),c=d3.select(this.viewpoint);this.viewpointCoord.x=-this.translate[0]*this.scaleMinimap/this.scaleMain;
this.viewpointCoord.y=-this.translate[1]*this.scaleMinimap/this.scaleMain;a=b.width*this.scaleMinimap/this.scaleMain;b=b.height*this.scaleMinimap/this.scaleMain;c.attr("x",this.viewpointCoord.x).attr("y",this.viewpointCoord.y).attr("width",a).attr("height",b);c=this.minimapSize.width;var d=this.minimapSize.height,e=this.viewpointCoord.x,m=this.viewpointCoord.y;.8>(Math.min(Math.max(0,e+a),c)-Math.min(Math.max(0,e),c))*(Math.min(Math.max(0,m+b),d)-Math.min(Math.max(0,m),d))/(c*d)?this.minimap.classList.remove("hidden"):
this.minimap.classList.add("hidden")}};return a}();a.Minimap=b})(a.scene||(a.scene={}))})(U||(U={}));
</script>

<dom-module id="tf-graph-minimap">
<template></template>
<script>//~~WEBPATH~~/tf-graph/tf-graph-minimap.html.js
Polymer({is:"tf-graph-minimap",init:function(a,b,c,d,e){return new U.scene.Minimap(a,b,c,this,d,e)}});
</script>
</dom-module>



<dom-module id="tf-graph-scene">
<template></template>
<script>//~~WEBPATH~~/tf-graph/tf-graph-scene.html.js
Polymer({is:"tf-graph-scene",properties:{renderHierarchy:Object,name:String,colorBy:String,_hasRenderHierarchyBeenFitOnce:Boolean,_isAttached:Boolean,_zoom:Object,highlightedNode:{type:String,observer:"_highlightedNodeChanged"},selectedNode:{type:String,observer:"_selectedNodeChanged"},handleEdgeSelected:Object,_zoomed:{type:Boolean,observer:"_onZoomChanged",value:!1},_zoomStartCoords:{type:Object,value:null},_zoomTransform:{type:Object,value:null},_maxZoomDistanceForClick:{type:Number,value:20},
templateIndex:Function,minimap:Object,_nodeGroupIndex:{type:Object,value:function(){return{}}},_annotationGroupIndex:{type:Object,value:function(){return{}}},_edgeGroupIndex:{type:Object,value:function(){return{}}},maxMetanodeLabelLengthFontSize:{type:Number,value:9},minMetanodeLabelLengthFontSize:{type:Number,value:6},maxMetanodeLabelLengthLargeFont:{type:Number,value:11},maxMetanodeLabelLength:{type:Number,value:18},progress:Object,nodeContextMenuItems:Array,nodeNamesToHealthPills:Object,healthPillStepIndex:Number},
observers:["_colorByChanged(colorBy)","_renderHierarchyChanged(renderHierarchy)","_animateAndFit(_isAttached, renderHierarchy)","_updateHealthPills(nodeNamesToHealthPills, healthPillStepIndex)"],getNode:function(a){return this.renderHierarchy.getRenderNodeByName(a)},isNodeExpanded:function(a){return a.expanded},setNodeExpanded:function(){this._build(this.renderHierarchy);this._updateLabels(!this._zoomed)},_resetState:function(){this._nodeGroupIndex={};this._annotationGroupIndex={};this._edgeGroupIndex=
{};this._updateLabels(!1);d3.select(this.$.svg).select("#root").selectAll("*").remove();d3.select(this.$.svg).select("defs #linearGradients").selectAll("*").remove()},_build:function(a){this.templateIndex=a.hierarchy.getTemplateIndex();U.graph.util.time("tf-graph-scene (layout):",function(){U.graph.layout.layoutScene(a.root,this)}.bind(this));U.graph.util.time("tf-graph-scene (build scene):",function(){U.graph.scene.buildGroup(d3.select(this.$.root),a.root,this);U.graph.scene.addGraphClickListener(this.$.svg,
this);U.graph.scene.node.traceInputs(a)}.bind(this));setTimeout(function(){this._updateHealthPills(this.nodeNamesToHealthPills,this.healthPillStepIndex);this.minimap.update()}.bind(this),U.graph.layout.PARAMS.animation.duration)},ready:function(){this._zoom=d3.zoom().on("end",function(){this._zoomStartCoords&&(Math.sqrt(Math.pow(this._zoomStartCoords.x-this._zoomTransform.x,2)+Math.pow(this._zoomStartCoords.y-this._zoomTransform.y,2))<this._maxZoomDistanceForClick?this._fireEnableClick():setTimeout(this._fireEnableClick.bind(this),
50));this._zoomStartCoords=null}.bind(this)).on("zoom",function(){this._zoomTransform=d3.event.transform;this._zoomStartCoords||(this._zoomStartCoords=this._zoomTransform,this.fire("disable-click"));this._zoomed=!0;d3.select(this.$.root).attr("transform",d3.event.transform);this.minimap.zoom(d3.event.transform)}.bind(this));d3.select(this.$.svg).call(this._zoom).on("dblclick.zoom",null);d3.select(window).on("resize",function(){this.minimap.zoom()}.bind(this));this.minimap=this.$.minimap.init(this.$.svg,
this.$.root,this._zoom,U.graph.layout.PARAMS.minimap.size,U.graph.layout.PARAMS.subscene.meta.labelHeight)},attached:function(){this.set("_isAttached",!0)},detached:function(){this.set("_isAttached",!1)},_renderHierarchyChanged:function(a){this._hasRenderHierarchyBeenFitOnce=!1;this._resetState();this._build(a)},_animateAndFit:function(a){!this._hasRenderHierarchyBeenFitOnce&&a&&setTimeout(this.fit.bind(this),U.graph.layout.PARAMS.animation.duration)},_updateLabels:function(a){var b=this.getElementsByClassName("title")[0],
c=b.style,d=this.getElementsByClassName("auxTitle")[0],e=d.style,f=this.getElementsByClassName("functionLibraryTitle")[0].style,g=d3.select("."+U.graph.scene.Class.Scene.GROUP+"\x3e."+U.graph.scene.Class.Scene.CORE).node();if(a&&g&&this.progress&&100===this.progress.value){a=d3.select("."+U.graph.scene.Class.Scene.GROUP+"\x3e."+U.graph.scene.Class.Scene.INEXTRACT).node()||d3.select("."+U.graph.scene.Class.Scene.GROUP+"\x3e."+U.graph.scene.Class.Scene.OUTEXTRACT).node();var k=g.getCTM().e;g=a?a.getCTM().e:
null;c.display="inline";c.left=k+"px";null!==g&&g!==k?(e.display="inline",g=Math.max(k+b.getBoundingClientRect().width,g),e.left=g+"px"):e.display="none";b=(b=d3.select("."+U.graph.scene.Class.Scene.GROUP+"\x3e."+U.graph.scene.Class.Scene.FUNCTION_LIBRARY).node())?b.getCTM().e:null;null!==b&&b!==g?(f.display="inline",b=Math.max(g+d.getBoundingClientRect().width,b),f.left=b+"px"):f.display="none"}else c.display="none",e.display="none",f.display="none"},_colorByChanged:function(){null!=this.renderHierarchy&&
(_.each(this._nodeGroupIndex,function(a,b){this._updateNodeState(b)},this),this.minimap.update())},fit:function(){this._hasRenderHierarchyBeenFitOnce=!0;U.graph.scene.fit(this.$.svg,this.$.root,this._zoom,function(){this._zoomed=!1}.bind(this))},isNodeSelected:function(a){return a===this.selectedNode},isNodeHighlighted:function(a){return a===this.highlightedNode},addAnnotationGroup:function(a,b,c){a=a.node.name;this._annotationGroupIndex[a]=this._annotationGroupIndex[a]||{};this._annotationGroupIndex[a][b.node.name]=
c},getAnnotationGroupsIndex:function(a){return this._annotationGroupIndex[a]},removeAnnotationGroup:function(a,b){delete this._annotationGroupIndex[a.node.name][b.node.name]},addNodeGroup:function(a,b){this._nodeGroupIndex[a]=b},getNodeGroup:function(a){return this._nodeGroupIndex[a]},removeNodeGroup:function(a){delete this._nodeGroupIndex[a]},addEdgeGroup:function(a,b){this._edgeGroupIndex[a]=b},getEdgeGroup:function(a){return this._edgeGroupIndex[a]},_updateHealthPills:function(a,b){U.graph.scene.addHealthPills(this.$.svg,
a,b)},_updateNodeState:function(a){var b=this.getNode(a),c=this.getNodeGroup(a);c&&U.graph.scene.node.stylize(c,b,this);b.node.type===U.graph.NodeType.META&&b.node.associatedFunction&&!b.isLibraryFunction&&(c=d3.select("."+U.graph.scene.Class.Scene.GROUP+"\x3e."+U.graph.scene.Class.Scene.FUNCTION_LIBRARY+' g[data-name\x3d"'+(U.graph.FUNCTION_LIBRARY_NODE_PREFIX+b.node.associatedFunction)+'"]'),U.graph.scene.node.stylize(c,b,this));_.each(this.getAnnotationGroupsIndex(a),function(a){U.graph.scene.node.stylize(a,
b,this,U.graph.scene.Class.Annotation.NODE)},this)},_selectedNodeChanged:function(a,b){if(a!==b&&(b&&this._updateNodeState(b),U.graph.scene.node.traceInputs(this.renderHierarchy),a)){this.minimap.update();b=this.renderHierarchy.hierarchy.node(a);for(var c=[];null!=b.parentNode&&b.parentNode.name!=U.graph.ROOT_NAME;)b=b.parentNode,c.push(b.name);var d;_.forEachRight(c,function(a){this.renderHierarchy.buildSubhierarchy(a);a=this.renderHierarchy.getRenderNodeByName(a);a.node.isGroupNode&&!a.expanded&&
(a.expanded=!0,d||(d=a))},this);d&&(this.setNodeExpanded(d),this._zoomed=!0);a&&this._updateNodeState(a);U.graph.scene.panToNode(a,this.$.svg,this._zoom)&&(this._zoomed=!0)}},_highlightedNodeChanged:function(a,b){a!==b&&(a&&this._updateNodeState(a),b&&this._updateNodeState(b))},_onZoomChanged:function(){this._updateLabels(!this._zoomed)},_fireEnableClick:function(){this.fire("enable-click")}});
</script>
</dom-module>


<dom-module id="tf-graph">
<template></template>
</dom-module>

<script>//~~WEBPATH~~/tf-graph/tf-graph.html.js
Polymer({is:"tf-graph",properties:{graphHierarchy:{type:Object,notify:!0,observer:"_graphChanged"},basicGraph:Object,stats:Object,devicesForStats:Object,hierarchyParams:Object,progress:{type:Object,notify:!0},title:String,selectedNode:{type:String,notify:!0},selectedEdge:{type:Object,notify:!0},_lastSelectedEdgeGroup:Object,highlightedNode:{type:String,notify:!0},colorBy:String,colorByParams:{type:Object,notify:!0,readOnly:!0},renderHierarchy:{type:Object,readOnly:!0,notify:!0},nodeContextMenuItems:Array,
edgeWidthFunction:Object,_renderDepth:{type:Number,value:1},_allowGraphSelect:{type:Boolean,value:!0},nodeNamesToHealthPills:Object,healthPillStepIndex:Number,handleNodeSelected:Object,edgeLabelFunction:Object,handleEdgeSelected:Object},observers:["_statsChanged(stats, devicesForStats)","_buildRenderHierarchy(graphHierarchy)","_selectedNodeChanged(selectedNode)","_selectedEdgeChanged(selectedEdge)"],_statsChanged:function(a,b){this.graphHierarchy&&(a&&b&&(U.graph.joinStatsInfoWithGraph(this.basicGraph,
a,b),U.graph.hierarchy.joinAndAggregateStats(this.graphHierarchy)),this._buildRenderHierarchy(this.graphHierarchy))},_buildRenderHierarchy:function(a){U.graph.util.time("new tf.graph.render.Hierarchy",function(){function b(a){return{minValue:a.domain()[0],maxValue:a.domain()[1],startColor:a.range()[0],endColor:a.range()[1]}}if(a.root.type===U.graph.NodeType.META){var c=new U.graph.render.RenderGraphInfo(a,!!this.stats);c.edgeLabelFunction=this.edgeLabelFunction;c.edgeWidthFunction=this.edgeWidthFunction;
this._setColorByParams({compute_time:b(c.computeTimeScale),memory:b(c.memoryUsageScale),device:_.map(c.deviceColorMap.domain(),function(a){return{device:a,color:c.deviceColorMap(a)}}),xla_cluster:_.map(c.xlaClusterColorMap.domain(),function(a){return{xla_cluster:a,color:c.xlaClusterColorMap(a)}})});this._setRenderHierarchy(c);this.async(function(){this.fire("rendered")})}}.bind(this))},_getVisible:function(a){return a?this.renderHierarchy.getNearestVisibleAncestor(a):a},listeners:{"graph-select":"_graphSelected",
"disable-click":"_disableClick","enable-click":"_enableClick","node-toggle-expand":"_nodeToggleExpand","node-select":"_nodeSelected","node-highlight":"_nodeHighlighted","node-unhighlight":"_nodeUnhighlighted","node-toggle-extract":"_nodeToggleExtract","node-toggle-seriesgroup":"_nodeToggleSeriesGroup","edge-select":"_edgeSelected","annotation-select":"_nodeSelected","annotation-highlight":"_nodeHighlighted","annotation-unhighlight":"_nodeUnhighlighted"},_graphChanged:function(){this.fire("graph-select")},
_graphSelected:function(){this._allowGraphSelect&&(this.set("selectedNode",null),this.set("selectedEdge",null));this._allowGraphSelect=!0},_disableClick:function(){this._allowGraphSelect=!1},_enableClick:function(){this._allowGraphSelect=!0},_selectedNodeChanged:function(a){this.handleNodeSelected&&this.handleNodeSelected(a)},_selectedEdgeChanged:function(a){this._deselectPreviousEdge();a&&(this._lastSelectedEdgeGroup.classed(U.graph.scene.Class.Edge.SELECTED,!0),this._updateMarkerOfSelectedEdge(a));
this.handleEdgeSelected&&this.handleEdgeSelected(a)},_nodeSelected:function(a){this._allowGraphSelect&&this.set("selectedNode",a.detail.name);this._allowGraphSelect=!0},_edgeSelected:function(a){this._allowGraphSelect&&(this.set("_lastSelectedEdgeGroup",a.detail.edgeGroup),this.set("selectedEdge",a.detail.edgeData));this._allowGraphSelect=!0},_nodeHighlighted:function(a){this.set("highlightedNode",a.detail.name)},_nodeUnhighlighted:function(){this.set("highlightedNode",null)},_nodeToggleExpand:function(a){this._nodeSelected(a);
a=a.detail.name;var b=this.renderHierarchy.getRenderNodeByName(a);b.node.type!==U.graph.NodeType.OP&&(this.renderHierarchy.buildSubhierarchy(a),b.expanded=!b.expanded,this.async(function(){this.querySelector("#scene").setNodeExpanded(b)},75))},_nodeToggleExtract:function(a){a=this.renderHierarchy.getRenderNodeByName(a.detail.name);a.node.include=a.node.include==U.graph.InclusionType.INCLUDE?U.graph.InclusionType.EXCLUDE:a.node.include==U.graph.InclusionType.EXCLUDE?U.graph.InclusionType.INCLUDE:this.renderHierarchy.isNodeAuxiliary(a)?
U.graph.InclusionType.INCLUDE:U.graph.InclusionType.EXCLUDE;this._buildRenderHierarchy(this.graphHierarchy)},_nodeToggleSeriesGroup:function(a){U.graph.toggleNodeSeriesGroup(this.hierarchyParams.seriesMap,a.detail.name);this.set("progress",{value:0,msg:""});U.graph.hierarchy.build(this.basicGraph,this.hierarchyParams,U.graph.util.getSubtaskTracker(U.graph.util.getTracker(this),100,"Namespace hierarchy")).then(function(a){this.set("graphHierarchy",a);this._buildRenderHierarchy(this.graphHierarchy)}.bind(this))},
_deselectPreviousEdge:function(){var a=this;d3.select("."+U.graph.scene.Class.Edge.SELECTED).classed(U.graph.scene.Class.Edge.SELECTED,!1).each(function(b){if(b.label){var c=d3.select(a).selectAll("path.edgeline");b.label.startMarkerId&&c.style("marker-start","url(#"+b.label.startMarkerId+")");b.label.endMarkerId&&c.style("marker-end","url(#"+b.label.endMarkerId+")")}})},_updateMarkerOfSelectedEdge:function(a){if(a.label){var b=a.label.startMarkerId||a.label.endMarkerId;if(b){var c=b.replace("dataflow-",
"selected-"),d=this.$$("#"+c);d||(b=this.$$("tf-graph-scene").querySelector("#"+b),d=b.cloneNode(!0),d.setAttribute("id",c),d.classList.add("selected-arrowhead"),b.parentNode.appendChild(d));a=a.label.startMarkerId?"marker-start":"marker-end";this._lastSelectedEdgeGroup.selectAll("path.edgeline").style(a,"url(#"+c+")")}}},not:function(a){return!a}});
</script>



<dom-module id="tf-graph-board">
<template></template>
</dom-module>

<script>//~~WEBPATH~~/tf-graph-board/tf-graph-board.html.js
Polymer({is:"tf-graph-board",properties:{graphHierarchy:Object,graph:Object,stats:Object,progress:Object,colorBy:String,colorByParams:{type:Object,notify:!0},renderHierarchy:{type:Object,notify:!0},debuggerDataEnabled:Boolean,areHealthPillsLoading:Boolean,debuggerNumericAlerts:{type:Array,notify:!0},nodeNamesToHealthPills:Object,allStepsModeEnabled:{type:Boolean,notify:!0,value:!1},specificHealthPillStep:{type:Number,notify:!0,value:0},healthPillStepIndex:Number,selectedNode:{type:String,notify:!0},
edgeWidthFunction:Object,_selectedNodeInclude:Number,_highlightedNode:String,handleNodeSelected:Object,edgeLabelFunction:Object,handleEdgeSelected:Object},listeners:{"node-toggle-extract":"_nodeToggleExtract"},observers:["_updateNodeInclude(selectedNode)"],_isNotComplete:function(a){return 100>a.value},_getContainerClass:function(a){var b="container";a.error&&(b+=" error");this._isNotComplete(a)&&(b+=" loading");return b},_updateNodeInclude:function(a){a=this.graphHierarchy.node(a);this.set("_selectedNodeInclude",
a?a.include:U.graph.InclusionType.UNSPECIFIED)},_nodeToggleExtract:function(){this._updateNodeInclude(this.selectedNode)}});
</script>















<dom-module id="paper-radio-button">
  <template strip-whitespace=""></template>

  <script>//~~WEBPATH~~/paper-radio-button/paper-radio-button.html.js
Polymer({is:"paper-radio-button",behaviors:[Polymer.PaperCheckedElementBehavior],hostAttributes:{role:"radio","aria-checked":!1,tabindex:0},properties:{ariaActiveAttribute:{type:String,value:"aria-checked"}},ready:function(){this._rippleContainer=this.$.radioContainer}});
</script>
</dom-module>




<dom-module id="paper-radio-group">
  <template></template>
</dom-module>

<script>//~~WEBPATH~~/paper-radio-group/paper-radio-group.html.js
Polymer({is:"paper-radio-group",behaviors:[Polymer.IronA11yKeysBehavior,Polymer.IronSelectableBehavior],hostAttributes:{role:"radiogroup",tabindex:0},properties:{attrForSelected:{type:String,value:"name"},selectedAttribute:{type:String,value:"checked"},selectable:{type:String,value:"paper-radio-button"},allowEmptySelection:{type:Boolean,value:!1}},keyBindings:{"left up":"selectPrevious","right down":"selectNext"},select:function(a){if(this.selected){var b=this._valueToItem(this.selected);if(this.selected==
a)if(this.allowEmptySelection)a="";else{b&&(b.checked=!0);return}b&&(b.checked=!1)}Polymer.IronSelectableBehavior.select.apply(this,[a]);this.fire("paper-radio-group-changed")},selectPrevious:function(){var a=this.items.length,b=Number(this._valueToIndex(this.selected));do b=(b-1+a)%a;while(this.items[b].disabled);this._itemActivate(this._indexToValue(b),this.items[b])},selectNext:function(){var a=this.items.length,b=Number(this._valueToIndex(this.selected));do b=(b+1+a)%a;while(this.items[b].disabled);
this._itemActivate(this._indexToValue(b),this.items[b])}});
</script>









<dom-module id="paper-tooltip">
  <template></template>

  <script>//~~WEBPATH~~/paper-tooltip/paper-tooltip.html.js
Polymer({is:"paper-tooltip",hostAttributes:{role:"tooltip",tabindex:-1},behaviors:[Polymer.NeonAnimationRunnerBehavior],properties:{for:{type:String,observer:"_forChanged"},manualMode:{type:Boolean,value:!1},position:{type:String,value:"bottom"},fitToVisibleBounds:{type:Boolean,value:!1},offset:{type:Number,value:14},marginTop:{type:Number,value:14},animationDelay:{type:Number,value:500},animationConfig:{type:Object,value:function(){return{entry:[{name:"fade-in-animation",node:this,timing:{delay:0}}],
exit:[{name:"fade-out-animation",node:this}]}}},_showing:{type:Boolean,value:!1}},listeners:{"neon-animation-finish":"_onAnimationFinish",mouseenter:"hide"},get target(){var a=Polymer.dom(this).parentNode,b=Polymer.dom(this).getOwnerRoot();return this.for?Polymer.dom(b).querySelector("#"+this.for):a.nodeType==Node.DOCUMENT_FRAGMENT_NODE?b.host:a},attached:function(){this._target=this.target;this.manualMode||(this.listen(this._target,"mouseenter","show"),this.listen(this._target,"focus","show"),this.listen(this._target,
"mouseleave","hide"),this.listen(this._target,"blur","hide"),this.listen(this._target,"tap","hide"))},detached:function(){this._target&&!this.manualMode&&(this.unlisten(this._target,"mouseenter","show"),this.unlisten(this._target,"focus","show"),this.unlisten(this._target,"mouseleave","hide"),this.unlisten(this._target,"blur","hide"),this.unlisten(this._target,"tap","hide"))},show:function(){this._showing||""===Polymer.dom(this).textContent.trim()||(this.cancelAnimation(),this._showing=!0,this.toggleClass("hidden",
!1,this.$.tooltip),this.updatePosition(),this.animationConfig.entry[0].timing.delay=this.animationDelay,this._animationPlaying=!0,this.playAnimation("entry"))},hide:function(){this._showing&&(this._animationPlaying?(this.cancelAnimation(),this._showing=!1,this._onAnimationFinish()):(this._showing=!1,this._animationPlaying=!0,this.playAnimation("exit")))},_forChanged:function(){this._target=this.target},updatePosition:function(){if(this._target&&this.offsetParent){var a=this.offset;14!=this.marginTop&&
14==this.offset&&(a=this.marginTop);var b=this.offsetParent.getBoundingClientRect(),c=this._target.getBoundingClientRect(),d=this.getBoundingClientRect(),e=(c.width-d.width)/2,f=(c.height-d.height)/2,g=c.left-b.left;b=c.top-b.top;switch(this.position){case "top":var k=g+e;var l=b-d.height-a;break;case "bottom":k=g+e;l=b+c.height+a;break;case "left":k=g-d.width-a;l=b+f;break;case "right":k=g+c.width+a,l=b+f}this.fitToVisibleBounds?(k+d.width>window.innerWidth?(this.style.right="0px",this.style.left=
"auto"):(this.style.left=Math.max(0,k)+"px",this.style.right="auto"),l+d.height>window.innerHeight?(this.style.bottom="0px",this.style.top="auto"):(this.style.top=Math.max(0,l)+"px",this.style.bottom="auto")):(this.style.left=k+"px",this.style.top=l+"px")}},_onAnimationFinish:function(){this._animationPlaying=!1;this._showing||this.toggleClass("hidden",!0,this.$.tooltip)}});
</script>
</dom-module>





<dom-module id="tf-graph-controls">
<template></template>
</dom-module>

<script>//~~WEBPATH~~/tf-graph-controls/tf-graph-controls.html.js
(function(){var a=[{regex:/gpu:[0-9]+$/,msg:"Excluded by default since this is a CPU thread setting up GPU kernels."}];Polymer({is:"tf-graph-controls",properties:{stats:{value:null,type:Object,observer:"_statsChanged"},devicesForStats:{value:null,type:Object,notify:!0,readonly:!0},colorBy:{type:String,value:"structure",notify:!0,readonly:!0},colorByParams:Object,datasets:{type:Array,observer:"_datasetsChanged"},renderHierarchy:{type:Object,notify:!0},metadataTags:{type:Array,computed:"_getMetadataTags(selectedDataset, datasets)"},
selectedDataset:{type:Number,notify:!0,value:0,observer:"_selectedDatasetChanged"},selectedFile:{type:Object,notify:!0},selectedMetadataTag:{type:Number,notify:!0,value:-1},_currentGradientParams:{type:Object,computed:"_getCurrentGradientParams(colorByParams, colorBy)"},showSessionRunsDropdown:{type:Boolean,value:!0},showUploadButton:{type:Boolean,value:!0},healthPillsFeatureEnabled:Boolean,healthPillsToggledOn:{type:Boolean,notify:!0},_legendOpened:{type:Boolean,value:!0}},listeners:{"trace-inputs.change":"_traceInputToggleChanged"},
_traceInputToggleChanged:function(a){this.renderHierarchy.traceInputs=a.target.active;U.graph.scene.node.traceInputs(this.renderHierarchy)},_xlaClustersProvided:function(a){return a&&a.hierarchy&&0<a.hierarchy.xlaClusters.length},_statsChanged:function(b){if(null!=b){var c={};_.each(b.dev_stats,function(b){_.some(a,function(a){return a.regex.test(b.device)})||(c[b.device]=!0)});this.set("devicesForStats",c)}},_getDevices:function(b){var c=_.map(this.stats.dev_stats,function(a){return a.device}),d=
U.graph.util.removeCommonPrefix(c);return _.map(c,function(c,f){var e=null;_.each(a,function(a){a.regex.test(c)&&(e=a.msg)});return{device:c,suffix:d[f],used:b[c],ignoredMsg:e}})},_deviceCheckboxClicked:function(a){var b=_.extend({},this.devicesForStats),d=a.target.value;a.target.checked?b[d]=!0:delete b[d];this.set("devicesForStats",b)},_numSessionRuns:function(a){return null!=a?a.length:0},_getBackgroundColor:function(a){return"background-color:"+a},fit:function(){document.querySelector("#scene").fit()},
_isGradientColoring:function(a,c){return-1!==["compute_time","memory"].indexOf(c)&&null!=a},_equals:function(a,c){return a===c},_getCurrentGradientParams:function(a,c){if(this._isGradientColoring(this.stats,c)){a=a[c];var b=a.minValue,e=a.maxValue;"memory"===c?(b=U.graph.util.convertUnitsToHumanReadable(b,U.graph.util.MEMORY_UNITS),e=U.graph.util.convertUnitsToHumanReadable(e,U.graph.util.MEMORY_UNITS)):"compute_time"===c&&(b=U.graph.util.convertUnitsToHumanReadable(b,U.graph.util.TIME_UNITS),e=U.graph.util.convertUnitsToHumanReadable(e,
U.graph.util.TIME_UNITS));return{minValue:b,maxValue:e,startColor:a.startColor,endColor:a.endColor}}},download:function(){this.$.graphdownload.click()},_updateFileInput:function(a){var b=a.target.files[0];b&&(this._setDownloadFilename(b.name),this.set("selectedFile",a))},_datasetsChanged:function(a,c){if(null!=c||null==this.selected)this.set("selectedDataset",0),this._setDownloadFilename(this.datasets[this.selectedDataset].path)},_getMetadataTags:function(a){return this.datasets[a].runMetadata},_selectedDatasetChanged:function(a){this.datasets&&
(this.set("selectedMetadataTag",-1),this.set("colorBy","structure"),this.$["trace-inputs"].active=!1,this._setDownloadFilename(this.datasets[a].path))},_getFile:function(){this.$$("#file").click()},_setDownloadFilename:function(a){var b=a.lastIndexOf(".");b&&(a=a.substring(0,b));(b=a.lastIndexOf("/"))&&(a=a.substring(b+1));this.$.graphdownload.setAttribute("download",a+".png")},_statsNotNull:function(a){return null!==a},_toggleLegendOpen:function(){this.set("_legendOpened",!this._legendOpened)},_getToggleText:function(a){return a?
"Close legend.":"Expand legend."},_getToggleLegendIcon:function(a){return a?"expand-more":"expand-less"}})})();
</script>





<dom-module id="tf-graph-loader">
</dom-module>

<script>//~~WEBPATH~~/tf-graph-loader/tf-graph-loader.html.js
Polymer({is:"tf-graph-loader",properties:{progress:{type:Object,notify:!0},datasets:Array,selectedDataset:Number,selectedFile:{type:Object,observer:"_selectedFileChanged"},outGraphHierarchy:{type:Object,readOnly:!0,notify:!0},outGraph:{type:Object,readOnly:!0,notify:!0},outHierarchyParams:{type:Object,readOnly:!0,notify:!0},outStats:{type:Object,readOnly:!0,notify:!0}},observers:["_selectedDatasetChanged(selectedDataset, datasets)","_readAndParseMetadata(selectedMetadataTag)"],_readAndParseMetadata:function(a){-1==
a||null==this.datasets[this.selectedDataset]||null==this.datasets[this.selectedDataset].runMetadata||null==this.datasets[this.selectedDataset].runMetadata[a]?this._setOutStats(null):(a=this.datasets[this.selectedDataset].runMetadata[a].path,this.set("progress",{value:0,msg:""}),U.graph.parser.fetchAndParseMetadata(a,U.graph.util.getTracker(this)).then(function(a){this._setOutStats(a)}.bind(this)))},_parseAndConstructHierarchicalGraph:function(a,b){this.set("progress",{value:0,msg:""});var c=U.graph.util.getTracker(this),
d={verifyTemplate:!0,seriesNodeMinSize:5,seriesMap:{}};this._setOutHierarchyParams(d);U.graph.parser.fetchAndParseGraphData(a,b,U.graph.util.getSubtaskTracker(c,30,"Data")).then(function(a){if(!a.node)throw"The graph is empty. Make sure that the graph is passed to the tf.summary.FileWriter after the graph is defined.";return U.graph.build(a,{enableEmbedding:!0,inEmbeddingTypes:["Const"],outEmbeddingTypes:["^[a-zA-Z]+Summary$"],refEdges:{"Assign 0":!0,"AssignAdd 0":!0,"AssignSub 0":!0,"assign 0":!0,
"assign_add 0":!0,"assign_sub 0":!0,"count_up_to 0":!0,"ScatterAdd 0":!0,"ScatterSub 0":!0,"ScatterUpdate 0":!0,"scatter_add 0":!0,"scatter_sub 0":!0,"scatter_update 0":!0}},U.graph.util.getSubtaskTracker(c,20,"Graph"))}).then(function(a){U.graph.op.checkOpsForCompatibility(a);this._setOutGraph(a);return U.graph.hierarchy.build(a,d,U.graph.util.getSubtaskTracker(c,50,"Namespace hierarchy"))}.bind(this)).then(function(a){this._setOutGraphHierarchy(a)}.bind(this)).catch(function(a){c.reportError("Graph visualization failed: "+
a,a)})},_selectedDatasetChanged:function(a,b){this._parseAndConstructHierarchicalGraph(b[a].path)},_selectedFileChanged:function(a){if(a){var b=a.target.files[0];b&&(a.target.value="",this._parseAndConstructHierarchicalGraph(null,b))}}});
</script>





<dom-module id="tf-graph-dashboard">
<template></template>
</dom-module>

<script>//~~WEBPATH~~/tf-graph-dashboard/tf-graph-dashboard.html.js
Polymer({is:"tf-graph-dashboard",properties:{_datasets:Array,_renderHierarchy:{type:Object,observer:"_renderHierarchyChanged"},_requestManager:{type:Object,value:function(){return new Xa}},_canceller:{type:Object,value:function(){return new fb}},_debuggerDataEnabled:Boolean,allStepsModeEnabled:Boolean,specificHealthPillStep:{type:Number,value:0},healthPillsToggledOn:{type:Boolean,value:!0,observer:"_healthPillsToggledOnChanged"},_selectedNode:Object,_isAttached:Boolean,_initialized:Boolean,_areHealthPillsLoading:Boolean,
_debuggerNumericAlerts:{type:Array,value:[],notify:!0},_nodeNamesToHealthPills:{type:Object,value:{}},_healthPillStepIndex:Number,_healthPillRequestId:{type:Number,value:1},_healthPillStepRequestTimerId:Number,_healthPillStepRequestTimerDelay:{type:Number,value:500,readOnly:!0},runs:Array,run:{type:String,notify:!0,value:Bb("run",{defaultValue:"",useLocalStorage:!1}),observer:"_runObserver"},_selectedDataset:{type:Number,notify:!0}},listeners:{"node-toggle-expand":"_handleNodeToggleExpand"},observers:["_maybeFetchHealthPills(_debuggerDataEnabled, allStepsModeEnabled, specificHealthPillStep, _selectedNode)",
"_maybeInitializeDashboard(_isAttached)","_determineSelectedDataset(_datasets, run)","_updateSelectedDatasetName(_datasets, _selectedDataset)"],attached:function(){this.set("_isAttached",!0)},detached:function(){this.set("_isAttached",!1)},reload:function(){var a=this;this._debuggerDataEnabled||this._requestManager.request(I.pluginsListing()).then(this._canceller.cancellable(function(b){b.cancelled||b.value["debugger"]&&a.set("_debuggerDataEnabled",!0)}));this._maybeFetchHealthPills()},_runObserver:Cb("run",
{defaultValue:"",polymerProperty:"run",useLocalStorage:!1}),_fetchGraphRuns:function(){return this._requestManager.request(I.pluginRoute("graphs","/runs"))},_fetchRunMetadataTags:function(){return this._requestManager.request(I.pluginRoute("graphs","/run_metadata_tags"))},_fetchHealthPills:function(a,b){a={node_names:JSON.stringify(a),run:"__debugger_data__"};void 0!==b&&(a.step=b);return this._requestManager.request(I.pluginRoute("debugger","/health_pills"),a)},_fetchDebuggerNumericsAlerts:function(){return this._requestManager.request(I.pluginRoute("debugger",
"/numerics_alert_report"))},_graphUrl:function(a,b,c){var d=I.isDemoMode(),e=d?".pbtxt":"";return Ya(I.pluginRoute("graphs","/graph"),{run:a,limit_attr_size:(null!=b&&!d||void 0)&&b,large_attrs_key:(null!=c&&!d||void 0)&&c})+e},_shouldRequestHealthPills:function(){return this._debuggerDataEnabled&&this.healthPillsToggledOn&&this._renderHierarchy&&!this._datasetsEmpty(this._datasets)},_maybeInitializeDashboard:function(a){var b=this;!this._initialized&&a&&("undefined"!==typeof ga&&null!=ga&&ga("send",
{hitType:"pageview",page:"/v/graph"}),this._initialized=!0,Promise.all([this._fetchGraphRuns(),this._fetchRunMetadataTags()]).then(function(a){var c=a[0].sort(Oa),e=a[1];a=_.map(c,function(a){return{name:a,path:b._graphUrl(a,U.graph.LIMIT_ATTR_SIZE,U.graph.LARGE_ATTRS_KEY),runMetadata:_.map((e[a]||[]).sort(Oa),function(b){return{tag:b,path:Ya(I.pluginRoute("graphs","/run_metadata"),{tag:b,run:a})}})}});b.set("_datasets",a)}))},_determineSelectedDataset:function(a,b){b?(a=a.findIndex(function(a){return a.name===
b}),-1===a?(a=this.$$("#error-dialog"),a.textContent='No dataset named "'+b+'" could be found.',a.open()):this.set("_selectedDataset",a)):this.set("_selectedDataset",0)},_updateSelectedDatasetName:function(a,b){this.set("run",a[b].name)},_requestHealthPills:function(){this.set("_areHealthPillsLoading",!0);var a=++this._healthPillRequestId;null!==this._healthPillStepRequestTimerId&&(window.clearTimeout(this._healthPillStepRequestTimerId),this._healthPillStepRequestTimerId=null);this.allStepsModeEnabled?
this._healthPillStepRequestTimerId=setTimeout(function(){this._healthPillStepRequestTimerId=null;this._initiateNetworkRequestForHealthPills(a)}.bind(this),this._healthPillStepRequestTimerDelay):this._initiateNetworkRequestForHealthPills(a)},_initiateNetworkRequestForHealthPills:function(a){if(this._healthPillRequestId===a){var b=this._fetchHealthPills(this._renderHierarchy.getNamesOfRenderedOps(),this.allStepsModeEnabled?this.specificHealthPillStep:void 0),c=this._fetchDebuggerNumericsAlerts();Promise.all([b,
c]).then(function(b){var c=b[0];b=b[1];if(this.healthPillsToggledOn&&a===this._healthPillRequestId){for(var d in c){this.set("_healthPillStepIndex",c[d].length-1);break}this.set("_debuggerNumericAlerts",b);this.set("_nodeNamesToHealthPills",c);this.set("_areHealthPillsLoading",!1);this.set("_healthPillStepRequestTimerId",null)}}.bind(this))}},_datasetsEmpty:function(a){return!a||!a.length},_renderHierarchyChanged:function(){this.reload()},_handleNodeToggleExpand:function(){this._maybeFetchHealthPills()},
_healthPillsToggledOnChanged:function(a){a?this.reload():this.set("_nodeNamesToHealthPills",{})},_maybeFetchHealthPills:function(){this._shouldRequestHealthPills()&&this._requestHealthPills()}});gc({plugin:"graphs",elementName:"tf-graph-dashboard",isReloadDisabled:!0});
</script>
























<dom-module id="vz-distribution-chart">
  <template></template>
  <script>//~~WEBPATH~~/vz-distribution-chart/vz-distribution-chart.js
var Fc=function(){function a(a,c){this.run2datasets={};this.colorScale=c;this.buildChart(a)}a.prototype.getDataset=function(a){void 0===this.run2datasets[a]&&(this.run2datasets[a]=new Plottable.Dataset([],{run:a}));return this.run2datasets[a]};a.prototype.buildChart=function(a){this.outer&&this.outer.destroy();a=sc(a);this.xAccessor=a.accessor;this.xScale=a.scale;this.xAxis=a.axis;this.xAxis.margin(0).tickLabelPadding(3);this.yScale=new Plottable.Scales.Linear;this.yAxis=new Plottable.Axes.Numeric(this.yScale,
"left");a=jc(3);this.yAxis.margin(0).tickLabelPadding(5).formatter(a);this.yAxis.usesTextWidthApproximation();a=this.buildPlot(this.xAccessor,this.xScale,this.yScale);this.gridlines=new Plottable.Components.Gridlines(this.xScale,this.yScale);this.center=new Plottable.Components.Group([this.gridlines,a]);this.outer=new Plottable.Components.Table([[this.yAxis,this.center],[null,this.xAxis]])};a.prototype.buildPlot=function(a,c,d){var b=this,f=[0,228,1587,3085,5E3,6915,8413,9772,1E4],g=_.range(f.length-
1).map(function(a){return(f[a+1]-f[a])/2500}),k=f.map(function(a,b){return function(a){return a[b][1]}}),l=k[4],m=_.range(k.length-1).map(function(e){var f=new Plottable.Plots.Area;f.x(a,c);var l=4<e?k[e]:k[e+1];f.y(4<e?k[e+1]:k[e],d);f.y0(l);f.attr("fill",function(a,c,d){return b.colorScale.scale(d.metadata().run)});f.attr("stroke",function(a,c,d){return b.colorScale.scale(d.metadata().run)});f.attr("stroke-weight",function(){return"0.5px"});f.attr("stroke-opacity",function(){return g[e]});f.attr("fill-opacity",
function(){return g[e]});return f}),n=new Plottable.Plots.Line;n.x(a,c);n.y(l,d);n.attr("stroke",function(a,c,d){return b.colorScale.scale(d.run)});this.plots=m;return new Plottable.Components.Group(m)};a.prototype.setVisibleSeries=function(a){var b=this;this.runs=a;var d=a.map(function(a){return b.getDataset(a)});this.plots.forEach(function(a){return a.datasets(d)})};a.prototype.setSeriesData=function(a,c){this.getDataset(a).data(c)};a.prototype.renderTo=function(a){this.targetSVG=a;this.outer.renderTo(a)};
a.prototype.redraw=function(){this.outer.redraw()};a.prototype.destroy=function(){this.outer.destroy()};return a}();
Polymer({is:"vz-distribution-chart",properties:{colorScale:{type:Object,value:function(){return(new Plottable.Scales.Color).range(d3.schemeCategory10)}},xType:{type:String,value:"step"},_attached:Boolean,_chart:Object,_visibleSeriesCache:{type:Array,value:function(){return[]}},_seriesDataCache:{type:Object,value:function(){return{}}},_makeChartAsyncCallbackId:{type:Number,value:null}},observers:["_makeChart(xType, colorScale, _attached)","_reloadFromCache(_chart)"],setVisibleSeries:function(a){this._visibleSeriesCache=
a;this._chart&&(this._chart.setVisibleSeries(a),this.redraw())},setSeriesData:function(a,b){this._seriesDataCache[a]=b;this._chart&&this._chart.setSeriesData(a,b)},redraw:function(){this._chart.redraw()},ready:function(){this.scopeSubtree(this.$.chartdiv,!0)},_makeChart:function(a,b,c){null===this._makeChartAsyncCallbackId&&this.cancelAsync(this._makeChartAsyncCallbackId);this._makeChartAsyncCallbackId=this.async(function(){this._makeChartAsyncCallbackId=null;if(c){this._chart&&this._chart.destroy();
var d=new Fc(a,b),e=d3.select(this.$.chartdiv);d.renderTo(e);this._chart=d}},350)},_reloadFromCache:function(){this._chart&&(this._chart.setVisibleSeries(this._visibleSeriesCache),this._visibleSeriesCache.forEach(function(a){this._chart.setSeriesData(a,this._seriesDataCache[a]||[])}.bind(this)))},attached:function(){this._attached=!0},detached:function(){this._attached=!1}});
</script>
</dom-module>



<dom-module id="tf-distribution-loader">
  <template></template>
  <script>//~~WEBPATH~~/tf-distribution-dashboard/tf-distribution-loader.html.js
Polymer({is:"tf-distribution-loader",properties:{run:String,tag:String,tagMetadata:Object,xType:String,_colorScale:{type:Object,value:function(){return{scale:cc}},readOnly:!0},_runColor:{type:String,computed:"_computeRunColor(run)"},_expanded:{type:Boolean,value:!1,reflectToAttribute:!0},requestManager:Object,_canceller:{type:Object,value:function(){return new fb}}},observers:["reload(run, tag)"],_computeRunColor:function(a){return this._colorScale.scale(a)},attached:function(){this._attached=!0;
this.reload()},reload:function(){var a=this;if(this._attached){this._canceller.cancelAll();var b=Ya(I.pluginRoute("distributions","/distributions"),{tag:this.tag,run:this.run}),c=this._canceller.cancellable(function(b){b.cancelled||(b=b.value.map(function(a){ka();var b=a[Symbol.iterator];var c=b?b.call(a):la(a);a=c.next().value;b=c.next().value;c=c.next().value;c.wall_time=new Date(1E3*a);c.step=b;return c}),a.$$("vz-distribution-chart").setVisibleSeries([a.run]),a.$$("vz-distribution-chart").setSeriesData(a.run,
b))});this.requestManager.request(b).then(c)}},redraw:function(){this.$$("vz-distribution-chart").redraw()},_toggleExpanded:function(){this.set("_expanded",!this._expanded);this.redraw()}});
</script>
</dom-module>



<dom-module id="tf-distribution-dashboard">
  <template></template>

  <script>//~~WEBPATH~~/tf-distribution-dashboard/tf-distribution-dashboard.html.js
Polymer({is:"tf-distribution-dashboard",properties:{_xType:{type:String,value:"step"},_selectedRuns:Array,_runToTag:Object,_runToTagInfo:Object,_dataNotFound:Boolean,_tagFilter:{type:String,value:".*"},_categories:{type:Array,computed:"_makeCategories(_runToTag, _selectedRuns, _tagFilter)"},_requestManager:{type:Object,value:function(){return new Xa}}},ready:function(){this.reload()},reload:function(){var a=this;this._fetchTags().then(function(){a._reloadDistributions()})},_fetchTags:function(){var a=
this;return this._requestManager.request(I.pluginRoute("distributions","/tags")).then(function(b){if(!_.isEqual(b,a._runToTagInfo)){var c=_.mapValues(b,function(a){return Object.keys(a)}),d=eb(c);a.set("_dataNotFound",0===d.length);a.set("_runToTag",c);a.set("_runToTagInfo",b)}})},_reloadDistributions:function(){this.querySelectorAll("tf-distribution-loader").forEach(function(a){a.reload()})},_makeCategories:function(a,b,c){return sb(a,b,c)},_tagMetadata:function(a,b,c){return a[b][c]}});
gc({plugin:"distributions",elementName:"tf-distribution-dashboard"});
</script>
</dom-module>

























<dom-module id="vz-histogram-timeseries">
    <template></template>

    <script>//~~WEBPATH~~/vz-histogram-timeseries/vz-histogram-timeseries.html.js
Polymer({is:"vz-histogram-timeseries",properties:{mode:{type:String,value:"offset"},timeProperty:{type:String,value:"step"},bins:{type:String,value:"bins"},x:{type:String,value:"x"},dx:{type:String,value:"dx"},y:{type:String,value:"y"},colorScale:{type:Object,value:function(){return d3.scaleOrdinal(d3.schemeCategory10)}},modeTransitionDuration:{type:Number,value:500},_attached:Boolean,_name:{type:String,value:null},_data:{type:Array,value:null}},observers:["redraw(timeProperty, _attached)","_modeRedraw(mode)"],
ready:function(){this.scopeSubtree(this.$.svg,!0)},attached:function(){this._attached=!0},detached:function(){this._attached=!1},setSeriesData:function(a,b){this._name=a;this._data=b;this.redraw()},redraw:function(){this._draw(0)},_modeRedraw:function(){this._draw(this.modeTransitionDuration)},_draw:function(a){if(this._attached&&this._data){if(void 0===a)throw Error("vz-histogram-timeseries _draw needs duration");if(0>=this._data.length)throw Error("Not enough steps in the data");if(!this._data[0].hasOwnProperty(this.bins))throw Error("No bins property of '"+
this.bins+"' in data");if(0>=this._data[0][this.bins].length)throw Error("Must have at least one bin in bins in data");if(!this._data[0][this.bins][0].hasOwnProperty(this.x))throw Error("No x property '"+this.x+"' on bins data");if(!this._data[0][this.bins][0].hasOwnProperty(this.dx))throw Error("No dx property '"+this.dx+"' on bins data");if(!this._data[0][this.bins][0].hasOwnProperty(this.y))throw Error("No y property '"+this.y+"' on bins data");var b=this.timeProperty,c=this.x,d=this.bins,e=this.dx,
f=this.y,g=this._data,k=this.mode,l=d3.hcl(this.colorScale(this._name)),m=d3.select(this.$.tooltip),n=function(a){return a[c]},q=function(a){return a[f]},p=function(a){return a[c]+a[e]},t=function(a){return a[b]};"relative"===b&&(t=function(a){return a.wall_time-g[0].wall_time});var r=this.$.svg.getBoundingClientRect(),u=r.width,v=r.height,z=5;if("offset"===k){var w=v/2.5;z=w+5}else w=v-z-20;var A=u-24-60,y=v-z-20;d3.min(g,n);d3.max(g,p);var C=d3.format(".3n");r=d3.format(".0f");"wall_time"===b?r=
d3.timeFormat("%m/%d %X"):"relative"===b&&(r=function(a){return d3.format(".1r")(a/36E5)+"h"});var D=g.map(function(a){return[d3.min(a[d],n),d3.max(a[d],p)]}),G=g.map(function(a){return d3.extent(a[d],q)}),E=d3.extent(g,t),F=("wall_time"===b?d3.scaleTime():d3.scaleLinear()).domain(E).range([0,"offset"===k?y:0]),B=d3.scaleLinear().domain([0,d3.max(g,function(a,b){return G[b][1]})]).range([w,0]),H=d3.scaleLinear().domain(B.domain()).range([500,0]),K=d3.scaleLinear().domain([d3.min(g,function(a,b){return D[b][0]}),
d3.max(g,function(a,b){return D[b][1]})]).nice().range([0,A]),M=d3.scaleLinear().domain(K.domain()).range([0,500]),R=d3.scaleLinear().domain(d3.extent(g,t)).range([l.darker(),l.brighter()]).interpolate(d3.interpolateHcl);l=d3.axisBottom(K).ticks(Math.max(2,A/20));var L=d3.axisRight(F).ticks(Math.max(2,y/15)).tickFormat(r),Q=d3.axisRight(B).ticks(Math.max(2,y/15)).tickSize(A+5).tickFormat(C),O=function(a){return a[c]+a[e]/2},J=d3.line().x(function(a){return M(O(a))}).y(function(a){return H(a[f])}),
S=this.$.svg;r=d3.select(S);a=r.transition().duration(a);r=r.select("g").classed("small",function(){return 0<A&&150>=A}).classed("medium",function(){return 150<A&&300>=A}).classed("large",function(){return 300<A});a=a.select("g").attr("transform","translate(24,"+z+")");var P=d3.bisector(p).left;E=r.select(".stage").on("mouseover",function(){da.style("opacity",1);W.style("opacity",1);ea.style("opacity",1);ma.style("opacity",1);m.style("opacity",1)}).on("mouseout",function(){da.style("opacity",0);W.style("opacity",
0);ea.style("opacity",0);ma.style("opacity",0);da.classed("hover-closest",!1);Z.classed("outline-hover",!1);m.style("opacity",0)}).on("mousemove",function(){function a(a){return Math.min(a[d].length-1,P(a[d],l))}var g=d3.mouse(this),l=K.invert(g[0]);F.invert(g[1]);var n,p=Infinity,q;da.attr("transform",function(b){var l=a(b);q=b;var m=K(b[d][l][c]+b[d][l][e]/2);l=B(b[d][l][f]);var r="offset"===k?F(t(b))-(w-l):l;r=Math.abs(g[1]-r);r<p&&(p=r,n=b);return"translate("+m+","+l+")"});da.select("text").text(function(b){var c=
a(b);return b[d][c][f]});da.classed("hover-closest",function(a){return a===n});Z.classed("outline-hover",function(a){return a===n});var r=a(q);W.attr("transform",function(){return"translate("+K(q[d][r][c]+q[d][r][e]/2)+", "+y+")"}).select("text").text(function(){return C(q[d][r][c]+q[d][r][e]/2)});var u=L.tickFormat();ea.attr("transform",function(){return"translate("+A+", "+("offset"===k?F(t(n)):0)+")"}).style("display","offset"===k?"":"none").select("text").text(function(){return u(t(n))});var v=
Q.tickFormat();ma.attr("transform",function(){return"translate("+A+", "+("offset"===k?0:B(n[d][r][f]))+")"}).style("display","offset"===k?"none":"").select("text").text(function(){return v(n[d][r][f])});var z=d3.mouse(S);m.style("transform","translate("+(z[0]+15)+"px,"+(z[1]-15)+"px)").select("span").text("offset"===k?v(n[d][r][f]):("step"===b?"step ":"")+u(t(n)))});E.select(".background").attr("transform","translate(-24,"+-z+")").attr("width",u).attr("height",v);v=E.selectAll(".histogram").data(g);
v.exit().remove();u=v.enter().append("g").attr("class","histogram");v=u.merge(v).sort(function(a,b){return t(a)-t(b)});z=a.selectAll(".histogram").attr("transform",function(a){return"translate(0, "+("offset"===k?F(t(a))-w:0)+")"});u.append("line").attr("class","baseline");z.select(".baseline").style("stroke-opacity",function(){return"offset"===k?.1:0}).attr("y1",w).attr("y2",w).attr("x2",A);u.append("path").attr("class","outline");var Z=v.select(".outline").attr("vector-effect","non-scaling-stroke").attr("d",
function(a){a=a[d];return"M"+M(O(a[0]))+","+H(0)+"L"+J(a).slice(1)+"L"+M(O(a[a.length-1]))+","+H(0)}).style("stroke-width",1);z.select(".outline").attr("transform","scale("+A/500+", "+w/500+")").style("stroke",function(a){return"offset"===k?"white":R(t(a))}).style("fill-opacity",function(){return"offset"===k?1:0}).style("fill",function(a){return R(t(a))});u=u.append("g").attr("class","hover").style("fill",function(a){return R(t(a))});var da=v.select(".hover");u.append("circle").attr("r",2);u.append("text").style("display",
"none").attr("dx",4);u=r.select(".x-axis-hover").selectAll(".label").data(["x"]);v=u.enter().append("g").attr("class","label");var W=u.merge(v);v.append("rect").attr("x",-20).attr("y",6).attr("width",40).attr("height",14);v.append("line").attr("x1",0).attr("x2",0).attr("y1",0).attr("y2",6);v.append("text").attr("dy",18);u=r.select(".y-axis-hover").selectAll(".label").data(["y"]);v=u.enter().append("g").attr("class","label");var ea=u.merge(v);v.append("rect").attr("x",8).attr("y",-6).attr("width",
40).attr("height",14);v.append("line").attr("x1",0).attr("x2",6).attr("y1",0).attr("y2",0);v.append("text").attr("dx",8).attr("dy",4);r=r.select(".y-slice-axis-hover").selectAll(".label").data(["y"]);u=r.enter().append("g").attr("class","label");var ma=r.merge(u);u.append("rect").attr("x",8).attr("y",-6).attr("width",40).attr("height",14);u.append("line").attr("x1",0).attr("x2",6).attr("y1",0).attr("y2",0);u.append("text").attr("dx",8).attr("dy",4);a.select(".y.axis.slice").style("opacity","offset"===
k?0:1).attr("transform","translate(0, "+("offset"===k?-w:0)+")").call(Q);a.select(".x.axis").attr("transform","translate(0, "+y+")").call(l);a.select(".y.axis").style("opacity","offset"===k?1:0).attr("transform","translate("+A+", "+("offset"===k?0:y)+")").call(L);a.selectAll(".tick text").attr("fill","#aaa");a.selectAll(".axis path.domain").attr("stroke","none")}}});
</script>

  </dom-module>



<dom-module id="tf-histogram-loader">
  <template></template>
  <script>//~~WEBPATH~~/tf-histogram-dashboard/histogramCore.js
function Gc(a){var b=a[2];return{wall_time:a[0],step:a[1],min:d3.min(b.map(function(a){return a[0]})),max:d3.max(b.map(function(a){return a[1]})),buckets:b.map(function(a){return{left:a[0],right:a[1],count:a[2]}})}}
function Hc(a,b,c){var d;void 0===d&&(d=30);c===b&&(c=1.1*b+1,b=b/1.1-1);var e=(c-b)/d,f=0;return d3.range(b,c,e).map(function(d){for(var g=d+e,l=0;f<a.buckets.length;){var m=Math.min(c,a.buckets[f].right),n=Math.max(b,a.buckets[f].left),q=Math.min(m,g)-Math.max(n,d);n=q/(m-n)*a.buckets[f].count;l+=0<q?n:0;if(m>g)break;f++}return{x:d,dx:e,y:l}})}
function Ic(a){a=a.map(Gc);var b=d3.min(a,function(a){return a.min}),c=d3.max(a,function(a){return a.max});return a.map(function(a){return{wall_time:a.wall_time,step:a.step,bins:Hc(a,b,c)}})};
</script>
  <script>//~~WEBPATH~~/tf-histogram-dashboard/tf-histogram-loader.html.js
Polymer({is:"tf-histogram-loader",properties:{run:String,tag:String,tagMetadata:Object,timeProperty:String,histogramMode:String,_colorScaleFunction:{type:Object,value:function(){return cc}},_runColor:{type:String,computed:"_computeRunColor(run)"},_expanded:{type:Boolean,value:!1,reflectToAttribute:!0},requestManager:Object,_canceller:{type:Object,value:function(){return new fb}}},observers:["reload(run, tag)"],_computeRunColor:function(a){return this._colorScaleFunction(a)},attached:function(){this._attached=
!0;this.reload()},reload:function(){var a=this;if(this._attached){this._canceller.cancelAll();var b=Ya(I.pluginRoute("histograms","/histograms"),{tag:this.tag,run:this.run}),c=this._canceller.cancellable(function(b){b.cancelled||(b=Ic(b.value),a.$$("vz-histogram-timeseries").setSeriesData(a.run,b))});this.requestManager.request(b).then(c)}},redraw:function(){this.$$("vz-histogram-timeseries").redraw()},_toggleExpanded:function(){this.set("_expanded",!this._expanded);this.redraw()}});
</script>
</dom-module>



<dom-module id="tf-histogram-dashboard">
  <template></template>

  <script>//~~WEBPATH~~/tf-histogram-dashboard/tf-histogram-dashboard.html.js
Polymer({is:"tf-histogram-dashboard",properties:{_histogramMode:{type:String,value:"offset"},_timeProperty:{type:String,value:"step"},_selectedRuns:Array,_runToTag:Object,_runToTagInfo:Object,_dataNotFound:Boolean,_tagFilter:{type:String,value:".*"},_categories:{type:Array,computed:"_makeCategories(_runToTag, _selectedRuns, _tagFilter)"},_requestManager:{type:Object,value:function(){return new Xa}}},ready:function(){this.reload()},reload:function(){var a=this;this._fetchTags().then(function(){a._reloadHistograms()})},
_fetchTags:function(){var a=this;return this._requestManager.request(I.pluginRoute("histograms","/tags")).then(function(b){if(!_.isEqual(b,a._runToTagInfo)){var c=_.mapValues(b,function(a){return Object.keys(a)}),d=eb(c);a.set("_dataNotFound",0===d.length);a.set("_runToTag",c);a.set("_runToTagInfo",b)}})},_reloadHistograms:function(){this.querySelectorAll("tf-histogram-loader").forEach(function(a){a.reload()})},_makeCategories:function(a,b,c){return sb(a,b,c)},_tagMetadata:function(a,b,c){return a[b][c]}});
gc({plugin:"histograms",elementName:"tf-histogram-dashboard"});
</script>
</dom-module>






<dom-module id="tf-no-data-warning">
  <template></template>

  <script>//~~WEBPATH~~/tf-dashboard-common/tf-no-data-warning.html.js
Polymer({is:"tf-no-data-warning",properties:{dataType:String,showWarning:Boolean}});
</script>
</dom-module>





<iron-iconset-svg name="image" size="24" style="display: none;">
<svg><defs>
<g id="add-a-photo"><path d="M3 4V1h2v3h3v2H5v3H3V6H0V4h3zm3 6V7h3V4h7l1.83 2H21c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H5c-1.1 0-2-.9-2-2V10h3zm7 9c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-3.2-5c0 1.77 1.43 3.2 3.2 3.2s3.2-1.43 3.2-3.2-1.43-3.2-3.2-3.2-3.2 1.43-3.2 3.2z"></path></g>
<g id="add-to-photos"><path d="M4 6H2v14c0 1.1.9 2 2 2h14v-2H4V6zm16-4H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-1 9h-4v4h-2v-4H9V9h4V5h2v4h4v2z"></path></g>
<g id="adjust"><path d="M12 2C6.49 2 2 6.49 2 12s4.49 10 10 10 10-4.49 10-10S17.51 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm3-8c0 1.66-1.34 3-3 3s-3-1.34-3-3 1.34-3 3-3 3 1.34 3 3z"></path></g>
<g id="assistant"><path d="M19 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h4l3 3 3-3h4c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-5.12 10.88L12 17l-1.88-4.12L6 11l4.12-1.88L12 5l1.88 4.12L18 11l-4.12 1.88z"></path></g>
<g id="assistant-photo"><path d="M14.4 6L14 4H5v17h2v-7h5.6l.4 2h7V6z"></path></g>
<g id="audiotrack"><path d="M12 3v9.28c-.47-.17-.97-.28-1.5-.28C8.01 12 6 14.01 6 16.5S8.01 21 10.5 21c2.31 0 4.2-1.75 4.45-4H15V6h4V3h-7z"></path></g>
<g id="blur-circular"><path d="M10 9c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm0 4c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zM7 9.5c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5-.22-.5-.5-.5zm3 7c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5-.22-.5-.5-.5zm-3-3c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5-.22-.5-.5-.5zm3-6c.28 0 .5-.22.5-.5s-.22-.5-.5-.5-.5.22-.5.5.22.5.5.5zM14 9c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm0-1.5c.28 0 .5-.22.5-.5s-.22-.5-.5-.5-.5.22-.5.5.22.5.5.5zm3 6c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5-.22-.5-.5-.5zm0-4c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5-.22-.5-.5-.5zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm2-3.5c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5-.22-.5-.5-.5zm0-3.5c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1z"></path></g>
<g id="blur-linear"><path d="M5 17.5c.83 0 1.5-.67 1.5-1.5s-.67-1.5-1.5-1.5-1.5.67-1.5 1.5.67 1.5 1.5 1.5zM9 13c.55 0 1-.45 1-1s-.45-1-1-1-1 .45-1 1 .45 1 1 1zm0-4c.55 0 1-.45 1-1s-.45-1-1-1-1 .45-1 1 .45 1 1 1zM3 21h18v-2H3v2zM5 9.5c.83 0 1.5-.67 1.5-1.5S5.83 6.5 5 6.5 3.5 7.17 3.5 8 4.17 9.5 5 9.5zm0 4c.83 0 1.5-.67 1.5-1.5s-.67-1.5-1.5-1.5-1.5.67-1.5 1.5.67 1.5 1.5 1.5zM9 17c.55 0 1-.45 1-1s-.45-1-1-1-1 .45-1 1 .45 1 1 1zm8-.5c.28 0 .5-.22.5-.5s-.22-.5-.5-.5-.5.22-.5.5.22.5.5.5zM3 3v2h18V3H3zm14 5.5c.28 0 .5-.22.5-.5s-.22-.5-.5-.5-.5.22-.5.5.22.5.5.5zm0 4c.28 0 .5-.22.5-.5s-.22-.5-.5-.5-.5.22-.5.5.22.5.5.5zM13 9c.55 0 1-.45 1-1s-.45-1-1-1-1 .45-1 1 .45 1 1 1zm0 4c.55 0 1-.45 1-1s-.45-1-1-1-1 .45-1 1 .45 1 1 1zm0 4c.55 0 1-.45 1-1s-.45-1-1-1-1 .45-1 1 .45 1 1 1z"></path></g>
<g id="blur-off"><path d="M14 7c.55 0 1-.45 1-1s-.45-1-1-1-1 .45-1 1 .45 1 1 1zm-.2 4.48l.2.02c.83 0 1.5-.67 1.5-1.5s-.67-1.5-1.5-1.5-1.5.67-1.5 1.5l.02.2c.09.67.61 1.19 1.28 1.28zM14 3.5c.28 0 .5-.22.5-.5s-.22-.5-.5-.5-.5.22-.5.5.22.5.5.5zm-4 0c.28 0 .5-.22.5-.5s-.22-.5-.5-.5-.5.22-.5.5.22.5.5.5zm11 7c.28 0 .5-.22.5-.5s-.22-.5-.5-.5-.5.22-.5.5.22.5.5.5zM10 7c.55 0 1-.45 1-1s-.45-1-1-1-1 .45-1 1 .45 1 1 1zm8 8c.55 0 1-.45 1-1s-.45-1-1-1-1 .45-1 1 .45 1 1 1zm0-4c.55 0 1-.45 1-1s-.45-1-1-1-1 .45-1 1 .45 1 1 1zm0-4c.55 0 1-.45 1-1s-.45-1-1-1-1 .45-1 1 .45 1 1 1zm-4 13.5c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5-.22-.5-.5-.5zM2.5 5.27l3.78 3.78L6 9c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1c0-.1-.03-.19-.06-.28l2.81 2.81c-.71.11-1.25.73-1.25 1.47 0 .83.67 1.5 1.5 1.5.74 0 1.36-.54 1.47-1.25l2.81 2.81c-.09-.03-.18-.06-.28-.06-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1c0-.1-.03-.19-.06-.28l3.78 3.78L20 20.23 3.77 4 2.5 5.27zM10 17c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm11-3.5c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5-.22-.5-.5-.5zM6 13c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zM3 9.5c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5-.22-.5-.5-.5zm7 11c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5-.22-.5-.5-.5zM6 17c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm-3-3.5c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5-.22-.5-.5-.5z"></path></g>
<g id="blur-on"><path d="M6 13c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm0 4c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm0-8c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm-3 .5c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5-.22-.5-.5-.5zM6 5c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm15 5.5c.28 0 .5-.22.5-.5s-.22-.5-.5-.5-.5.22-.5.5.22.5.5.5zM14 7c.55 0 1-.45 1-1s-.45-1-1-1-1 .45-1 1 .45 1 1 1zm0-3.5c.28 0 .5-.22.5-.5s-.22-.5-.5-.5-.5.22-.5.5.22.5.5.5zm-11 10c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5-.22-.5-.5-.5zm7 7c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5-.22-.5-.5-.5zm0-17c.28 0 .5-.22.5-.5s-.22-.5-.5-.5-.5.22-.5.5.22.5.5.5zM10 7c.55 0 1-.45 1-1s-.45-1-1-1-1 .45-1 1 .45 1 1 1zm0 5.5c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5zm8 .5c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm0 4c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm0-8c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm0-4c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm3 8.5c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5-.22-.5-.5-.5zM14 17c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm0 3.5c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5-.22-.5-.5-.5zm-4-12c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5zm0 8.5c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm4-4.5c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5zm0-4c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5z"></path></g>
<g id="brightness-1"><circle cx="12" cy="12" r="10"></circle></g>
<g id="brightness-2"><path d="M10 2c-1.82 0-3.53.5-5 1.35C7.99 5.08 10 8.3 10 12s-2.01 6.92-5 8.65C6.47 21.5 8.18 22 10 22c5.52 0 10-4.48 10-10S15.52 2 10 2z"></path></g>
<g id="brightness-3"><path d="M9 2c-1.05 0-2.05.16-3 .46 4.06 1.27 7 5.06 7 9.54 0 4.48-2.94 8.27-7 9.54.95.3 1.95.46 3 .46 5.52 0 10-4.48 10-10S14.52 2 9 2z"></path></g>
<g id="brightness-4"><path d="M20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69zM12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6c3.31 0 6 2.69 6 6s-2.69 6-6 6z"></path></g>
<g id="brightness-5"><path d="M20 15.31L23.31 12 20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69zM12 18c-3.31 0-6-2.69-6-6s2.69-6 6-6 6 2.69 6 6-2.69 6-6 6z"></path></g>
<g id="brightness-6"><path d="M20 15.31L23.31 12 20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69zM12 18V6c3.31 0 6 2.69 6 6s-2.69 6-6 6z"></path></g>
<g id="brightness-7"><path d="M20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69zM12 18c-3.31 0-6-2.69-6-6s2.69-6 6-6 6 2.69 6 6-2.69 6-6 6zm0-10c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4z"></path></g>
<g id="broken-image"><path d="M21 5v6.59l-3-3.01-4 4.01-4-4-4 4-3-3.01V5c0-1.1.9-2 2-2h14c1.1 0 2 .9 2 2zm-3 6.42l3 3.01V19c0 1.1-.9 2-2 2H5c-1.1 0-2-.9-2-2v-6.58l3 2.99 4-4 4 4 4-3.99z"></path></g>
<g id="brush"><path d="M7 14c-1.66 0-3 1.34-3 3 0 1.31-1.16 2-2 2 .92 1.22 2.49 2 4 2 2.21 0 4-1.79 4-4 0-1.66-1.34-3-3-3zm13.71-9.37l-1.34-1.34c-.39-.39-1.02-.39-1.41 0L9 12.25 11.75 15l8.96-8.96c.39-.39.39-1.02 0-1.41z"></path></g>
<g id="camera"><path d="M9.4 10.5l4.77-8.26C13.47 2.09 12.75 2 12 2c-2.4 0-4.6.85-6.32 2.25l3.66 6.35.06-.1zM21.54 9c-.92-2.92-3.15-5.26-6-6.34L11.88 9h9.66zm.26 1h-7.49l.29.5 4.76 8.25C21 16.97 22 14.61 22 12c0-.69-.07-1.35-.2-2zM8.54 12l-3.9-6.75C3.01 7.03 2 9.39 2 12c0 .69.07 1.35.2 2h7.49l-1.15-2zm-6.08 3c.92 2.92 3.15 5.26 6 6.34L12.12 15H2.46zm11.27 0l-3.9 6.76c.7.15 1.42.24 2.17.24 2.4 0 4.6-.85 6.32-2.25l-3.66-6.35-.93 1.6z"></path></g>
<g id="camera-alt"><circle cx="12" cy="12" r="3.2"></circle><path d="M9 2L7.17 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2h-3.17L15 2H9zm3 15c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5z"></path></g>
<g id="camera-front"><path d="M10 20H5v2h5v2l3-3-3-3v2zm4 0v2h5v-2h-5zM12 8c1.1 0 2-.9 2-2s-.9-2-2-2-1.99.9-1.99 2S10.9 8 12 8zm5-8H7C5.9 0 5 .9 5 2v14c0 1.1.9 2 2 2h10c1.1 0 2-.9 2-2V2c0-1.1-.9-2-2-2zM7 2h10v10.5c0-1.67-3.33-2.5-5-2.5s-5 .83-5 2.5V2z"></path></g>
<g id="camera-rear"><path d="M10 20H5v2h5v2l3-3-3-3v2zm4 0v2h5v-2h-5zm3-20H7C5.9 0 5 .9 5 2v14c0 1.1.9 2 2 2h10c1.1 0 2-.9 2-2V2c0-1.1-.9-2-2-2zm-5 6c-1.11 0-2-.9-2-2s.89-2 1.99-2 2 .9 2 2C14 5.1 13.1 6 12 6z"></path></g>
<g id="camera-roll"><path d="M14 5c0-1.1-.9-2-2-2h-1V2c0-.55-.45-1-1-1H6c-.55 0-1 .45-1 1v1H4c-1.1 0-2 .9-2 2v15c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2h8V5h-8zm-2 13h-2v-2h2v2zm0-9h-2V7h2v2zm4 9h-2v-2h2v2zm0-9h-2V7h2v2zm4 9h-2v-2h2v2zm0-9h-2V7h2v2z"></path></g>
<g id="center-focus-strong"><path d="M12 8c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm-7 7H3v4c0 1.1.9 2 2 2h4v-2H5v-4zM5 5h4V3H5c-1.1 0-2 .9-2 2v4h2V5zm14-2h-4v2h4v4h2V5c0-1.1-.9-2-2-2zm0 16h-4v2h4c1.1 0 2-.9 2-2v-4h-2v4z"></path></g>
<g id="center-focus-weak"><path d="M5 15H3v4c0 1.1.9 2 2 2h4v-2H5v-4zM5 5h4V3H5c-1.1 0-2 .9-2 2v4h2V5zm14-2h-4v2h4v4h2V5c0-1.1-.9-2-2-2zm0 16h-4v2h4c1.1 0 2-.9 2-2v-4h-2v4zM12 8c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm0 6c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2z"></path></g>
<g id="collections"><path d="M22 16V4c0-1.1-.9-2-2-2H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2zm-11-4l2.03 2.71L16 11l4 5H8l3-4zM2 6v14c0 1.1.9 2 2 2h14v-2H4V6H2z"></path></g>
<g id="collections-bookmark"><path d="M4 6H2v14c0 1.1.9 2 2 2h14v-2H4V6zm16-4H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm0 10l-2.5-1.5L15 12V4h5v8z"></path></g>
<g id="color-lens"><path d="M12 3c-4.97 0-9 4.03-9 9s4.03 9 9 9c.83 0 1.5-.67 1.5-1.5 0-.39-.15-.74-.39-1.01-.23-.26-.38-.61-.38-.99 0-.83.67-1.5 1.5-1.5H16c2.76 0 5-2.24 5-5 0-4.42-4.03-8-9-8zm-5.5 9c-.83 0-1.5-.67-1.5-1.5S5.67 9 6.5 9 8 9.67 8 10.5 7.33 12 6.5 12zm3-4C8.67 8 8 7.33 8 6.5S8.67 5 9.5 5s1.5.67 1.5 1.5S10.33 8 9.5 8zm5 0c-.83 0-1.5-.67-1.5-1.5S13.67 5 14.5 5s1.5.67 1.5 1.5S15.33 8 14.5 8zm3 4c-.83 0-1.5-.67-1.5-1.5S16.67 9 17.5 9s1.5.67 1.5 1.5-.67 1.5-1.5 1.5z"></path></g>
<g id="colorize"><path d="M20.71 5.63l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-3.12 3.12-1.93-1.91-1.41 1.41 1.42 1.42L3 16.25V21h4.75l8.92-8.92 1.42 1.42 1.41-1.41-1.92-1.92 3.12-3.12c.4-.4.4-1.03.01-1.42zM6.92 19L5 17.08l8.06-8.06 1.92 1.92L6.92 19z"></path></g>
<g id="compare"><path d="M10 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h5v2h2V1h-2v2zm0 15H5l5-6v6zm9-15h-5v2h5v13l-5-6v9h5c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"></path></g>
<g id="control-point"><path d="M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.49 2 2 6.49 2 12s4.49 10 10 10 10-4.49 10-10S17.51 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"></path></g>
<g id="control-point-duplicate"><path d="M16 8h-2v3h-3v2h3v3h2v-3h3v-2h-3zM2 12c0-2.79 1.64-5.2 4.01-6.32V3.52C2.52 4.76 0 8.09 0 12s2.52 7.24 6.01 8.48v-2.16C3.64 17.2 2 14.79 2 12zm13-9c-4.96 0-9 4.04-9 9s4.04 9 9 9 9-4.04 9-9-4.04-9-9-9zm0 16c-3.86 0-7-3.14-7-7s3.14-7 7-7 7 3.14 7 7-3.14 7-7 7z"></path></g>
<g id="crop"><path d="M17 15h2V7c0-1.1-.9-2-2-2H9v2h8v8zM7 17V1H5v4H1v2h4v10c0 1.1.9 2 2 2h10v4h2v-4h4v-2H7z"></path></g>
<g id="crop-16-9"><path d="M19 6H5c-1.1 0-2 .9-2 2v8c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2zm0 10H5V8h14v8z"></path></g>
<g id="crop-3-2"><path d="M19 4H5c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 14H5V6h14v12z"></path></g>
<g id="crop-5-4"><path d="M19 5H5c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 12H5V7h14v10z"></path></g>
<g id="crop-7-5"><path d="M19 7H5c-1.1 0-2 .9-2 2v6c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V9c0-1.1-.9-2-2-2zm0 8H5V9h14v6z"></path></g>
<g id="crop-din"><path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V5h14v14z"></path></g>
<g id="crop-free"><path d="M3 5v4h2V5h4V3H5c-1.1 0-2 .9-2 2zm2 10H3v4c0 1.1.9 2 2 2h4v-2H5v-4zm14 4h-4v2h4c1.1 0 2-.9 2-2v-4h-2v4zm0-16h-4v2h4v4h2V5c0-1.1-.9-2-2-2z"></path></g>
<g id="crop-landscape"><path d="M19 5H5c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 12H5V7h14v10z"></path></g>
<g id="crop-original"><path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V5h14v14zm-5.04-6.71l-2.75 3.54-1.96-2.36L6.5 17h11l-3.54-4.71z"></path></g>
<g id="crop-portrait"><path d="M17 3H7c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h10c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H7V5h10v14z"></path></g>
<g id="crop-rotate"><path d="M7.47 21.49C4.2 19.93 1.86 16.76 1.5 13H0c.51 6.16 5.66 11 11.95 11 .23 0 .44-.02.66-.03L8.8 20.15l-1.33 1.34zM12.05 0c-.23 0-.44.02-.66.04l3.81 3.81 1.33-1.33C19.8 4.07 22.14 7.24 22.5 11H24c-.51-6.16-5.66-11-11.95-11zM16 14h2V8c0-1.11-.9-2-2-2h-6v2h6v6zm-8 2V4H6v2H4v2h2v8c0 1.1.89 2 2 2h8v2h2v-2h2v-2H8z"></path></g>
<g id="crop-square"><path d="M18 4H6c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 14H6V6h12v12z"></path></g>
<g id="dehaze"><path d="M2 15.5v2h20v-2H2zm0-5v2h20v-2H2zm0-5v2h20v-2H2z"></path></g>
<g id="details"><path d="M3 4l9 16 9-16H3zm3.38 2h11.25L12 16 6.38 6z"></path></g>
<g id="edit"><path d="M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"></path></g>
<g id="exposure"><path d="M15 17v2h2v-2h2v-2h-2v-2h-2v2h-2v2h2zm5-15H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zM5 5h6v2H5V5zm15 15H4L20 4v16z"></path></g>
<g id="exposure-neg-1"><path d="M4 11v2h8v-2H4zm15 7h-2V7.38L14 8.4V6.7L18.7 5h.3v13z"></path></g>
<g id="exposure-neg-2"><path d="M15.05 16.29l2.86-3.07c.38-.39.72-.79 1.04-1.18.32-.39.59-.78.82-1.17.23-.39.41-.78.54-1.17s.19-.79.19-1.18c0-.53-.09-1.02-.27-1.46-.18-.44-.44-.81-.78-1.11-.34-.31-.77-.54-1.26-.71-.51-.16-1.08-.24-1.72-.24-.69 0-1.31.11-1.85.32-.54.21-1 .51-1.36.88-.37.37-.65.8-.84 1.3-.18.47-.27.97-.28 1.5h2.14c.01-.31.05-.6.13-.87.09-.29.23-.54.4-.75.18-.21.41-.37.68-.49.27-.12.6-.18.96-.18.31 0 .58.05.81.15.23.1.43.25.59.43.16.18.28.4.37.65.08.25.13.52.13.81 0 .22-.03.43-.08.65-.06.22-.15.45-.29.7-.14.25-.32.53-.56.83-.23.3-.52.65-.88 1.03l-4.17 4.55V18H21v-1.71h-5.95zM2 11v2h8v-2H2z"></path></g>
<g id="exposure-plus-1"><path d="M10 7H8v4H4v2h4v4h2v-4h4v-2h-4V7zm10 11h-2V7.38L15 8.4V6.7L19.7 5h.3v13z"></path></g>
<g id="exposure-plus-2"><path d="M16.05 16.29l2.86-3.07c.38-.39.72-.79 1.04-1.18.32-.39.59-.78.82-1.17.23-.39.41-.78.54-1.17.13-.39.19-.79.19-1.18 0-.53-.09-1.02-.27-1.46-.18-.44-.44-.81-.78-1.11-.34-.31-.77-.54-1.26-.71-.51-.16-1.08-.24-1.72-.24-.69 0-1.31.11-1.85.32-.54.21-1 .51-1.36.88-.37.37-.65.8-.84 1.3-.18.47-.27.97-.28 1.5h2.14c.01-.31.05-.6.13-.87.09-.29.23-.54.4-.75.18-.21.41-.37.68-.49.27-.12.6-.18.96-.18.31 0 .58.05.81.15.23.1.43.25.59.43.16.18.28.4.37.65.08.25.13.52.13.81 0 .22-.03.43-.08.65-.06.22-.15.45-.29.7-.14.25-.32.53-.56.83-.23.3-.52.65-.88 1.03l-4.17 4.55V18H22v-1.71h-5.95zM8 7H6v4H2v2h4v4h2v-4h4v-2H8V7z"></path></g>
<g id="exposure-zero"><path d="M16.14 12.5c0 1-.1 1.85-.3 2.55-.2.7-.48 1.27-.83 1.7-.36.44-.79.75-1.3.95-.51.2-1.07.3-1.7.3-.62 0-1.18-.1-1.69-.3-.51-.2-.95-.51-1.31-.95-.36-.44-.65-1.01-.85-1.7-.2-.7-.3-1.55-.3-2.55v-2.04c0-1 .1-1.85.3-2.55.2-.7.48-1.26.84-1.69.36-.43.8-.74 1.31-.93C10.81 5.1 11.38 5 12 5c.63 0 1.19.1 1.7.29.51.19.95.5 1.31.93.36.43.64.99.84 1.69.2.7.3 1.54.3 2.55v2.04zm-2.11-2.36c0-.64-.05-1.18-.13-1.62-.09-.44-.22-.79-.4-1.06-.17-.27-.39-.46-.64-.58-.25-.13-.54-.19-.86-.19-.32 0-.61.06-.86.18s-.47.31-.64.58c-.17.27-.31.62-.4 1.06s-.13.98-.13 1.62v2.67c0 .64.05 1.18.14 1.62.09.45.23.81.4 1.09s.39.48.64.61.54.19.87.19c.33 0 .62-.06.87-.19s.46-.33.63-.61c.17-.28.3-.64.39-1.09.09-.45.13-.99.13-1.62v-2.66z"></path></g>
<g id="filter"><path d="M15.96 10.29l-2.75 3.54-1.96-2.36L8.5 15h11l-3.54-4.71zM3 5H1v16c0 1.1.9 2 2 2h16v-2H3V5zm18-4H7c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V3c0-1.1-.9-2-2-2zm0 16H7V3h14v14z"></path></g>
<g id="filter-1"><path d="M3 5H1v16c0 1.1.9 2 2 2h16v-2H3V5zm11 10h2V5h-4v2h2v8zm7-14H7c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V3c0-1.1-.9-2-2-2zm0 16H7V3h14v14z"></path></g>
<g id="filter-2"><path d="M3 5H1v16c0 1.1.9 2 2 2h16v-2H3V5zm18-4H7c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V3c0-1.1-.9-2-2-2zm0 16H7V3h14v14zm-4-4h-4v-2h2c1.1 0 2-.89 2-2V7c0-1.11-.9-2-2-2h-4v2h4v2h-2c-1.1 0-2 .89-2 2v4h6v-2z"></path></g>
<g id="filter-3"><path d="M21 1H7c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V3c0-1.1-.9-2-2-2zm0 16H7V3h14v14zM3 5H1v16c0 1.1.9 2 2 2h16v-2H3V5zm14 8v-1.5c0-.83-.67-1.5-1.5-1.5.83 0 1.5-.67 1.5-1.5V7c0-1.11-.9-2-2-2h-4v2h4v2h-2v2h2v2h-4v2h4c1.1 0 2-.89 2-2z"></path></g>
<g id="filter-4"><path d="M3 5H1v16c0 1.1.9 2 2 2h16v-2H3V5zm12 10h2V5h-2v4h-2V5h-2v6h4v4zm6-14H7c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V3c0-1.1-.9-2-2-2zm0 16H7V3h14v14z"></path></g>
<g id="filter-5"><path d="M21 1H7c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V3c0-1.1-.9-2-2-2zm0 16H7V3h14v14zM3 5H1v16c0 1.1.9 2 2 2h16v-2H3V5zm14 8v-2c0-1.11-.9-2-2-2h-2V7h4V5h-6v6h4v2h-4v2h4c1.1 0 2-.89 2-2z"></path></g>
<g id="filter-6"><path d="M3 5H1v16c0 1.1.9 2 2 2h16v-2H3V5zm18-4H7c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V3c0-1.1-.9-2-2-2zm0 16H7V3h14v14zm-8-2h2c1.1 0 2-.89 2-2v-2c0-1.11-.9-2-2-2h-2V7h4V5h-4c-1.1 0-2 .89-2 2v6c0 1.11.9 2 2 2zm0-4h2v2h-2v-2z"></path></g>
<g id="filter-7"><path d="M3 5H1v16c0 1.1.9 2 2 2h16v-2H3V5zm18-4H7c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V3c0-1.1-.9-2-2-2zm0 16H7V3h14v14zm-8-2l4-8V5h-6v2h4l-4 8h2z"></path></g>
<g id="filter-8"><path d="M3 5H1v16c0 1.1.9 2 2 2h16v-2H3V5zm18-4H7c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V3c0-1.1-.9-2-2-2zm0 16H7V3h14v14zm-8-2h2c1.1 0 2-.89 2-2v-1.5c0-.83-.67-1.5-1.5-1.5.83 0 1.5-.67 1.5-1.5V7c0-1.11-.9-2-2-2h-2c-1.1 0-2 .89-2 2v1.5c0 .83.67 1.5 1.5 1.5-.83 0-1.5.67-1.5 1.5V13c0 1.11.9 2 2 2zm0-8h2v2h-2V7zm0 4h2v2h-2v-2z"></path></g>
<g id="filter-9"><path d="M3 5H1v16c0 1.1.9 2 2 2h16v-2H3V5zm18-4H7c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V3c0-1.1-.9-2-2-2zm0 16H7V3h14v14zM15 5h-2c-1.1 0-2 .89-2 2v2c0 1.11.9 2 2 2h2v2h-4v2h4c1.1 0 2-.89 2-2V7c0-1.11-.9-2-2-2zm0 4h-2V7h2v2z"></path></g>
<g id="filter-9-plus"><path d="M3 5H1v16c0 1.1.9 2 2 2h16v-2H3V5zm11 7V8c0-1.11-.9-2-2-2h-1c-1.1 0-2 .89-2 2v1c0 1.11.9 2 2 2h1v1H9v2h3c1.1 0 2-.89 2-2zm-3-3V8h1v1h-1zm10-8H7c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V3c0-1.1-.9-2-2-2zm0 8h-2V7h-2v2h-2v2h2v2h2v-2h2v6H7V3h14v6z"></path></g>
<g id="filter-b-and-w"><path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16l-7-8v8H5l7-8V5h7v14z"></path></g>
<g id="filter-center-focus"><path d="M5 15H3v4c0 1.1.9 2 2 2h4v-2H5v-4zM5 5h4V3H5c-1.1 0-2 .9-2 2v4h2V5zm14-2h-4v2h4v4h2V5c0-1.1-.9-2-2-2zm0 16h-4v2h4c1.1 0 2-.9 2-2v-4h-2v4zM12 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"></path></g>
<g id="filter-drama"><path d="M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.61 5.64 5.36 8.04 2.35 8.36 0 10.9 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM19 18H6c-2.21 0-4-1.79-4-4s1.79-4 4-4 4 1.79 4 4h2c0-2.76-1.86-5.08-4.4-5.78C8.61 6.88 10.2 6 12 6c3.03 0 5.5 2.47 5.5 5.5v.5H19c1.65 0 3 1.35 3 3s-1.35 3-3 3z"></path></g>
<g id="filter-frames"><path d="M20 4h-4l-4-4-4 4H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H4V6h4.52l3.52-3.5L15.52 6H20v14zM18 8H6v10h12"></path></g>
<g id="filter-hdr"><path d="M14 6l-3.75 5 2.85 3.8-1.6 1.2C9.81 13.75 7 10 7 10l-6 8h22L14 6z"></path></g>
<g id="filter-none"><path d="M3 5H1v16c0 1.1.9 2 2 2h16v-2H3V5zm18-4H7c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V3c0-1.1-.9-2-2-2zm0 16H7V3h14v14z"></path></g>
<g id="filter-tilt-shift"><path d="M11 4.07V2.05c-2.01.2-3.84 1-5.32 2.21L7.1 5.69c1.11-.86 2.44-1.44 3.9-1.62zm7.32.19C16.84 3.05 15.01 2.25 13 2.05v2.02c1.46.18 2.79.76 3.9 1.62l1.42-1.43zM19.93 11h2.02c-.2-2.01-1-3.84-2.21-5.32L18.31 7.1c.86 1.11 1.44 2.44 1.62 3.9zM5.69 7.1L4.26 5.68C3.05 7.16 2.25 8.99 2.05 11h2.02c.18-1.46.76-2.79 1.62-3.9zM4.07 13H2.05c.2 2.01 1 3.84 2.21 5.32l1.43-1.43c-.86-1.1-1.44-2.43-1.62-3.89zM15 12c0-1.66-1.34-3-3-3s-3 1.34-3 3 1.34 3 3 3 3-1.34 3-3zm3.31 4.9l1.43 1.43c1.21-1.48 2.01-3.32 2.21-5.32h-2.02c-.18 1.45-.76 2.78-1.62 3.89zM13 19.93v2.02c2.01-.2 3.84-1 5.32-2.21l-1.43-1.43c-1.1.86-2.43 1.44-3.89 1.62zm-7.32-.19C7.16 20.95 9 21.75 11 21.95v-2.02c-1.46-.18-2.79-.76-3.9-1.62l-1.42 1.43z"></path></g>
<g id="filter-vintage"><path d="M18.7 12.4c-.28-.16-.57-.29-.86-.4.29-.11.58-.24.86-.4 1.92-1.11 2.99-3.12 3-5.19-1.79-1.03-4.07-1.11-6 0-.28.16-.54.35-.78.54.05-.31.08-.63.08-.95 0-2.22-1.21-4.15-3-5.19C10.21 1.85 9 3.78 9 6c0 .32.03.64.08.95-.24-.2-.5-.39-.78-.55-1.92-1.11-4.2-1.03-6 0 0 2.07 1.07 4.08 3 5.19.28.16.57.29.86.4-.29.11-.58.24-.86.4-1.92 1.11-2.99 3.12-3 5.19 1.79 1.03 4.07 1.11 6 0 .28-.16.54-.35.78-.54-.05.32-.08.64-.08.96 0 2.22 1.21 4.15 3 5.19 1.79-1.04 3-2.97 3-5.19 0-.32-.03-.64-.08-.95.24.2.5.38.78.54 1.92 1.11 4.2 1.03 6 0-.01-2.07-1.08-4.08-3-5.19zM12 16c-2.21 0-4-1.79-4-4s1.79-4 4-4 4 1.79 4 4-1.79 4-4 4z"></path></g>
<g id="flare"><path d="M7 11H1v2h6v-2zm2.17-3.24L7.05 5.64 5.64 7.05l2.12 2.12 1.41-1.41zM13 1h-2v6h2V1zm5.36 6.05l-1.41-1.41-2.12 2.12 1.41 1.41 2.12-2.12zM17 11v2h6v-2h-6zm-5-2c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3zm2.83 7.24l2.12 2.12 1.41-1.41-2.12-2.12-1.41 1.41zm-9.19.71l1.41 1.41 2.12-2.12-1.41-1.41-2.12 2.12zM11 23h2v-6h-2v6z"></path></g>
<g id="flash-auto"><path d="M3 2v12h3v9l7-12H9l4-9H3zm16 0h-2l-3.2 9h1.9l.7-2h3.2l.7 2h1.9L19 2zm-2.15 5.65L18 4l1.15 3.65h-2.3z"></path></g>
<g id="flash-off"><path d="M3.27 3L2 4.27l5 5V13h3v9l3.58-6.14L17.73 20 19 18.73 3.27 3zM17 10h-4l4-8H7v2.18l8.46 8.46L17 10z"></path></g>
<g id="flash-on"><path d="M7 2v11h3v9l7-12h-4l4-8z"></path></g>
<g id="flip"><path d="M15 21h2v-2h-2v2zm4-12h2V7h-2v2zM3 5v14c0 1.1.9 2 2 2h4v-2H5V5h4V3H5c-1.1 0-2 .9-2 2zm16-2v2h2c0-1.1-.9-2-2-2zm-8 20h2V1h-2v22zm8-6h2v-2h-2v2zM15 5h2V3h-2v2zm4 8h2v-2h-2v2zm0 8c1.1 0 2-.9 2-2h-2v2z"></path></g>
<g id="gradient"><path d="M11 9h2v2h-2zm-2 2h2v2H9zm4 0h2v2h-2zm2-2h2v2h-2zM7 9h2v2H7zm12-6H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 18H7v-2h2v2zm4 0h-2v-2h2v2zm4 0h-2v-2h2v2zm2-7h-2v2h2v2h-2v-2h-2v2h-2v-2h-2v2H9v-2H7v2H5v-2h2v-2H5V5h14v6z"></path></g>
<g id="grain"><path d="M10 12c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zM6 8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12-8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm-4 8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm4-4c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-4-4c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-4-4c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"></path></g>
<g id="grid-off"><path d="M8 4v1.45l2 2V4h4v4h-3.45l2 2H14v1.45l2 2V10h4v4h-3.45l2 2H20v1.45l2 2V4c0-1.1-.9-2-2-2H4.55l2 2H8zm8 0h4v4h-4V4zM1.27 1.27L0 2.55l2 2V20c0 1.1.9 2 2 2h15.46l2 2 1.27-1.27L1.27 1.27zM10 12.55L11.45 14H10v-1.45zm-6-6L5.45 8H4V6.55zM8 20H4v-4h4v4zm0-6H4v-4h3.45l.55.55V14zm6 6h-4v-4h3.45l.55.54V20zm2 0v-1.46L17.46 20H16z"></path></g>
<g id="grid-on"><path d="M20 2H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zM8 20H4v-4h4v4zm0-6H4v-4h4v4zm0-6H4V4h4v4zm6 12h-4v-4h4v4zm0-6h-4v-4h4v4zm0-6h-4V4h4v4zm6 12h-4v-4h4v4zm0-6h-4v-4h4v4zm0-6h-4V4h4v4z"></path></g>
<g id="hdr-off"><path d="M17.5 15v-2h1.1l.9 2H21l-.9-2.1c.5-.2.9-.8.9-1.4v-1c0-.8-.7-1.5-1.5-1.5H16v4.9l1.1 1.1h.4zm0-4.5h2v1h-2v-1zm-4.5 0v.4l1.5 1.5v-1.9c0-.8-.7-1.5-1.5-1.5h-1.9l1.5 1.5h.4zm-3.5-1l-7-7-1.1 1L6.9 9h-.4v2h-2V9H3v6h1.5v-2.5h2V15H8v-4.9l1.5 1.5V15h3.4l7.6 7.6 1.1-1.1-12.1-12z"></path></g>
<g id="hdr-on"><path d="M21 11.5v-1c0-.8-.7-1.5-1.5-1.5H16v6h1.5v-2h1.1l.9 2H21l-.9-2.1c.5-.3.9-.8.9-1.4zm-1.5 0h-2v-1h2v1zm-13-.5h-2V9H3v6h1.5v-2.5h2V15H8V9H6.5v2zM13 9H9.5v6H13c.8 0 1.5-.7 1.5-1.5v-3c0-.8-.7-1.5-1.5-1.5zm0 4.5h-2v-3h2v3z"></path></g>
<g id="hdr-strong"><path d="M17 6c-3.31 0-6 2.69-6 6s2.69 6 6 6 6-2.69 6-6-2.69-6-6-6zM5 8c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm0 6c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2z"></path></g>
<g id="hdr-weak"><path d="M5 8c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm12-2c-3.31 0-6 2.69-6 6s2.69 6 6 6 6-2.69 6-6-2.69-6-6-6zm0 10c-2.21 0-4-1.79-4-4s1.79-4 4-4 4 1.79 4 4-1.79 4-4 4z"></path></g>
<g id="healing"><path d="M17.73 12.02l3.98-3.98c.39-.39.39-1.02 0-1.41l-4.34-4.34c-.39-.39-1.02-.39-1.41 0l-3.98 3.98L8 2.29C7.8 2.1 7.55 2 7.29 2c-.25 0-.51.1-.7.29L2.25 6.63c-.39.39-.39 1.02 0 1.41l3.98 3.98L2.25 16c-.39.39-.39 1.02 0 1.41l4.34 4.34c.39.39 1.02.39 1.41 0l3.98-3.98 3.98 3.98c.2.2.45.29.71.29.26 0 .51-.1.71-.29l4.34-4.34c.39-.39.39-1.02 0-1.41l-3.99-3.98zM12 9c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm-4.71 1.96L3.66 7.34l3.63-3.63 3.62 3.62-3.62 3.63zM10 13c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1zm2 2c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1zm2-4c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm2.66 9.34l-3.63-3.62 3.63-3.63 3.62 3.62-3.62 3.63z"></path></g>
<g id="image"><path d="M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z"></path></g>
<g id="image-aspect-ratio"><path d="M16 10h-2v2h2v-2zm0 4h-2v2h2v-2zm-8-4H6v2h2v-2zm4 0h-2v2h2v-2zm8-6H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 14H4V6h16v12z"></path></g>
<g id="iso"><path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM5.5 7.5h2v-2H9v2h2V9H9v2H7.5V9h-2V7.5zM19 19H5L19 5v14zm-2-2v-1.5h-5V17h5z"></path></g>
<g id="landscape"><path d="M14 6l-3.75 5 2.85 3.8-1.6 1.2C9.81 13.75 7 10 7 10l-6 8h22L14 6z"></path></g>
<g id="leak-add"><path d="M6 3H3v3c1.66 0 3-1.34 3-3zm8 0h-2c0 4.97-4.03 9-9 9v2c6.08 0 11-4.93 11-11zm-4 0H8c0 2.76-2.24 5-5 5v2c3.87 0 7-3.13 7-7zm0 18h2c0-4.97 4.03-9 9-9v-2c-6.07 0-11 4.93-11 11zm8 0h3v-3c-1.66 0-3 1.34-3 3zm-4 0h2c0-2.76 2.24-5 5-5v-2c-3.87 0-7 3.13-7 7z"></path></g>
<g id="leak-remove"><path d="M10 3H8c0 .37-.04.72-.12 1.06l1.59 1.59C9.81 4.84 10 3.94 10 3zM3 4.27l2.84 2.84C5.03 7.67 4.06 8 3 8v2c1.61 0 3.09-.55 4.27-1.46L8.7 9.97C7.14 11.24 5.16 12 3 12v2c2.71 0 5.19-.99 7.11-2.62l2.5 2.5C10.99 15.81 10 18.29 10 21h2c0-2.16.76-4.14 2.03-5.69l1.43 1.43C14.55 17.91 14 19.39 14 21h2c0-1.06.33-2.03.89-2.84L19.73 21 21 19.73 4.27 3 3 4.27zM14 3h-2c0 1.5-.37 2.91-1.02 4.16l1.46 1.46C13.42 6.98 14 5.06 14 3zm5.94 13.12c.34-.08.69-.12 1.06-.12v-2c-.94 0-1.84.19-2.66.52l1.6 1.6zm-4.56-4.56l1.46 1.46C18.09 12.37 19.5 12 21 12v-2c-2.06 0-3.98.58-5.62 1.56z"></path></g>
<g id="lens"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2z"></path></g>
<g id="linked-camera"><circle cx="12" cy="14" r="3.2"></circle><path d="M16 3.33c2.58 0 4.67 2.09 4.67 4.67H22c0-3.31-2.69-6-6-6v1.33M16 6c1.11 0 2 .89 2 2h1.33c0-1.84-1.49-3.33-3.33-3.33V6"></path><path d="M17 9c0-1.11-.89-2-2-2V4H9L7.17 6H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V9h-5zm-5 10c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5z"></path></g>
<g id="looks"><path d="M12 10c-3.86 0-7 3.14-7 7h2c0-2.76 2.24-5 5-5s5 2.24 5 5h2c0-3.86-3.14-7-7-7zm0-4C5.93 6 1 10.93 1 17h2c0-4.96 4.04-9 9-9s9 4.04 9 9h2c0-6.07-4.93-11-11-11z"></path></g>
<g id="looks-3"><path d="M19.01 3h-14c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-4 7.5c0 .83-.67 1.5-1.5 1.5.83 0 1.5.67 1.5 1.5V15c0 1.11-.9 2-2 2h-4v-2h4v-2h-2v-2h2V9h-4V7h4c1.1 0 2 .89 2 2v1.5z"></path></g>
<g id="looks-4"><path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-4 14h-2v-4H9V7h2v4h2V7h2v10z"></path></g>
<g id="looks-5"><path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-4 6h-4v2h2c1.1 0 2 .89 2 2v2c0 1.11-.9 2-2 2H9v-2h4v-2H9V7h6v2z"></path></g>
<g id="looks-6"><path d="M11 15h2v-2h-2v2zm8-12H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-4 6h-4v2h2c1.1 0 2 .89 2 2v2c0 1.11-.9 2-2 2h-2c-1.1 0-2-.89-2-2V9c0-1.11.9-2 2-2h4v2z"></path></g>
<g id="looks-one"><path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-5 14h-2V9h-2V7h4v10z"></path></g>
<g id="looks-two"><path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-4 8c0 1.11-.9 2-2 2h-2v2h4v2H9v-4c0-1.11.9-2 2-2h2V9H9V7h4c1.1 0 2 .89 2 2v2z"></path></g>
<g id="loupe"><path d="M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.49 2 2 6.49 2 12s4.49 10 10 10h8c1.1 0 2-.9 2-2v-8c0-5.51-4.49-10-10-10zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"></path></g>
<g id="monochrome-photos"><path d="M20 5h-3.2L15 3H9L7.2 5H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 14h-8v-1c-2.8 0-5-2.2-5-5s2.2-5 5-5V7h8v12zm-3-6c0-2.8-2.2-5-5-5v1.8c1.8 0 3.2 1.4 3.2 3.2s-1.4 3.2-3.2 3.2V18c2.8 0 5-2.2 5-5zm-8.2 0c0 1.8 1.4 3.2 3.2 3.2V9.8c-1.8 0-3.2 1.4-3.2 3.2z"></path></g>
<g id="movie-creation"><path d="M18 4l2 4h-3l-2-4h-2l2 4h-3l-2-4H8l2 4H7L5 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V4h-4z"></path></g>
<g id="movie-filter"><path d="M18 4l2 4h-3l-2-4h-2l2 4h-3l-2-4H8l2 4H7L5 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V4h-4zm-6.58 11.68L10.37 18l-1.05-2.32L7 14.63l2.32-1.05 1.05-2.32 1.05 2.32 2.32 1.05-2.32 1.05zm3.69-3.47l-.53 1.16-.53-1.16-1.16-.53 1.16-.53.53-1.15.53 1.16 1.16.53-1.16.52z"></path></g>
<g id="music-note"><path d="M12 3v10.55c-.59-.34-1.27-.55-2-.55-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4V7h4V3h-6z"></path></g>
<g id="nature"><path d="M13 16.12c3.47-.41 6.17-3.36 6.17-6.95 0-3.87-3.13-7-7-7s-7 3.13-7 7c0 3.47 2.52 6.34 5.83 6.89V20H5v2h14v-2h-6v-3.88z"></path></g>
<g id="nature-people"><path d="M22.17 9.17c0-3.87-3.13-7-7-7s-7 3.13-7 7c0 3.47 2.52 6.34 5.83 6.89V20H6v-3h1v-4c0-.55-.45-1-1-1H3c-.55 0-1 .45-1 1v4h1v5h16v-2h-3v-3.88c3.47-.41 6.17-3.36 6.17-6.95zM4.5 11c.83 0 1.5-.67 1.5-1.5S5.33 8 4.5 8 3 8.67 3 9.5 3.67 11 4.5 11z"></path></g>
<g id="navigate-before"><path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"></path></g>
<g id="navigate-next"><path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"></path></g>
<g id="palette"><path d="M12 3c-4.97 0-9 4.03-9 9s4.03 9 9 9c.83 0 1.5-.67 1.5-1.5 0-.39-.15-.74-.39-1.01-.23-.26-.38-.61-.38-.99 0-.83.67-1.5 1.5-1.5H16c2.76 0 5-2.24 5-5 0-4.42-4.03-8-9-8zm-5.5 9c-.83 0-1.5-.67-1.5-1.5S5.67 9 6.5 9 8 9.67 8 10.5 7.33 12 6.5 12zm3-4C8.67 8 8 7.33 8 6.5S8.67 5 9.5 5s1.5.67 1.5 1.5S10.33 8 9.5 8zm5 0c-.83 0-1.5-.67-1.5-1.5S13.67 5 14.5 5s1.5.67 1.5 1.5S15.33 8 14.5 8zm3 4c-.83 0-1.5-.67-1.5-1.5S16.67 9 17.5 9s1.5.67 1.5 1.5-.67 1.5-1.5 1.5z"></path></g>
<g id="panorama"><path d="M23 18V6c0-1.1-.9-2-2-2H3c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2zM8.5 12.5l2.5 3.01L14.5 11l4.5 6H5l3.5-4.5z"></path></g>
<g id="panorama-fish-eye"><path d="M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"></path></g>
<g id="panorama-horizontal"><path d="M20 6.54v10.91c-2.6-.77-5.28-1.16-8-1.16-2.72 0-5.4.39-8 1.16V6.54c2.6.77 5.28 1.16 8 1.16 2.72.01 5.4-.38 8-1.16M21.43 4c-.1 0-.2.02-.31.06C18.18 5.16 15.09 5.7 12 5.7c-3.09 0-6.18-.55-9.12-1.64-.11-.04-.22-.06-.31-.06-.34 0-.57.23-.57.63v14.75c0 .39.23.62.57.62.1 0 .2-.02.31-.06 2.94-1.1 6.03-1.64 9.12-1.64 3.09 0 6.18.55 9.12 1.64.11.04.21.06.31.06.33 0 .57-.23.57-.63V4.63c0-.4-.24-.63-.57-.63z"></path></g>
<g id="panorama-vertical"><path d="M19.94 21.12c-1.1-2.94-1.64-6.03-1.64-9.12 0-3.09.55-6.18 1.64-9.12.04-.11.06-.22.06-.31 0-.34-.23-.57-.63-.57H4.63c-.4 0-.63.23-.63.57 0 .1.02.2.06.31C5.16 5.82 5.71 8.91 5.71 12c0 3.09-.55 6.18-1.64 9.12-.05.11-.07.22-.07.31 0 .33.23.57.63.57h14.75c.39 0 .63-.24.63-.57-.01-.1-.03-.2-.07-.31zM6.54 20c.77-2.6 1.16-5.28 1.16-8 0-2.72-.39-5.4-1.16-8h10.91c-.77 2.6-1.16 5.28-1.16 8 0 2.72.39 5.4 1.16 8H6.54z"></path></g>
<g id="panorama-wide-angle"><path d="M12 6c2.45 0 4.71.2 7.29.64.47 1.78.71 3.58.71 5.36 0 1.78-.24 3.58-.71 5.36-2.58.44-4.84.64-7.29.64s-4.71-.2-7.29-.64C4.24 15.58 4 13.78 4 12c0-1.78.24-3.58.71-5.36C7.29 6.2 9.55 6 12 6m0-2c-2.73 0-5.22.24-7.95.72l-.93.16-.25.9C2.29 7.85 2 9.93 2 12s.29 4.15.87 6.22l.25.89.93.16c2.73.49 5.22.73 7.95.73s5.22-.24 7.95-.72l.93-.16.25-.89c.58-2.08.87-4.16.87-6.23s-.29-4.15-.87-6.22l-.25-.89-.93-.16C17.22 4.24 14.73 4 12 4z"></path></g>
<g id="photo"><path d="M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z"></path></g>
<g id="photo-album"><path d="M18 2H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zM6 4h5v8l-2.5-1.5L6 12V4zm0 15l3-3.86 2.14 2.58 3-3.86L18 19H6z"></path></g>
<g id="photo-camera"><circle cx="12" cy="12" r="3.2"></circle><path d="M9 2L7.17 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2h-3.17L15 2H9zm3 15c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5z"></path></g>
<g id="photo-filter"><path d="M17.13 8.9l.59-1.3 1.3-.6-1.3-.59-.59-1.3-.59 1.3-1.31.59 1.31.6zm-4.74-2.37l-1.18 2.61-2.61 1.18 2.61 1.18 1.18 2.61 1.19-2.61 2.6-1.18-2.6-1.18zM19.02 10v9H5V5h9V3H5.02c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-9h-2z"></path></g>
<g id="photo-library"><path d="M22 16V4c0-1.1-.9-2-2-2H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2zm-11-4l2.03 2.71L16 11l4 5H8l3-4zM2 6v14c0 1.1.9 2 2 2h14v-2H4V6H2z"></path></g>
<g id="photo-size-select-actual"><path d="M21 3H3C2 3 1 4 1 5v14c0 1.1.9 2 2 2h18c1 0 2-1 2-2V5c0-1-1-2-2-2zM5 17l3.5-4.5 2.5 3.01L14.5 11l4.5 6H5z"></path></g>
<g id="photo-size-select-large"><path d="M21 15h2v2h-2v-2zm0-4h2v2h-2v-2zm2 8h-2v2c1 0 2-1 2-2zM13 3h2v2h-2V3zm8 4h2v2h-2V7zm0-4v2h2c0-1-1-2-2-2zM1 7h2v2H1V7zm16-4h2v2h-2V3zm0 16h2v2h-2v-2zM3 3C2 3 1 4 1 5h2V3zm6 0h2v2H9V3zM5 3h2v2H5V3zm-4 8v8c0 1.1.9 2 2 2h12V11H1zm2 8l2.5-3.21 1.79 2.15 2.5-3.22L13 19H3z"></path></g>
<g id="photo-size-select-small"><path d="M23 15h-2v2h2v-2zm0-4h-2v2h2v-2zm0 8h-2v2c1 0 2-1 2-2zM15 3h-2v2h2V3zm8 4h-2v2h2V7zm-2-4v2h2c0-1-1-2-2-2zM3 21h8v-6H1v4c0 1.1.9 2 2 2zM3 7H1v2h2V7zm12 12h-2v2h2v-2zm4-16h-2v2h2V3zm0 16h-2v2h2v-2zM3 3C2 3 1 4 1 5h2V3zm0 8H1v2h2v-2zm8-8H9v2h2V3zM7 3H5v2h2V3z"></path></g>
<g id="picture-as-pdf"><path d="M20 2H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-8.5 7.5c0 .83-.67 1.5-1.5 1.5H9v2H7.5V7H10c.83 0 1.5.67 1.5 1.5v1zm5 2c0 .83-.67 1.5-1.5 1.5h-2.5V7H15c.83 0 1.5.67 1.5 1.5v3zm4-3H19v1h1.5V11H19v2h-1.5V7h3v1.5zM9 9.5h1v-1H9v1zM4 6H2v14c0 1.1.9 2 2 2h14v-2H4V6zm10 5.5h1v-3h-1v3z"></path></g>
<g id="portrait"><path d="M12 12.25c1.24 0 2.25-1.01 2.25-2.25S13.24 7.75 12 7.75 9.75 8.76 9.75 10s1.01 2.25 2.25 2.25zm4.5 4c0-1.5-3-2.25-4.5-2.25s-4.5.75-4.5 2.25V17h9v-.75zM19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V5h14v14z"></path></g>
<g id="remove-red-eye"><path d="M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"></path></g>
<g id="rotate-90-degrees-ccw"><path d="M7.34 6.41L.86 12.9l6.49 6.48 6.49-6.48-6.5-6.49zM3.69 12.9l3.66-3.66L11 12.9l-3.66 3.66-3.65-3.66zm15.67-6.26C17.61 4.88 15.3 4 13 4V.76L8.76 5 13 9.24V6c1.79 0 3.58.68 4.95 2.05 2.73 2.73 2.73 7.17 0 9.9C16.58 19.32 14.79 20 13 20c-.97 0-1.94-.21-2.84-.61l-1.49 1.49C10.02 21.62 11.51 22 13 22c2.3 0 4.61-.88 6.36-2.64 3.52-3.51 3.52-9.21 0-12.72z"></path></g>
<g id="rotate-left"><path d="M7.11 8.53L5.7 7.11C4.8 8.27 4.24 9.61 4.07 11h2.02c.14-.87.49-1.72 1.02-2.47zM6.09 13H4.07c.17 1.39.72 2.73 1.62 3.89l1.41-1.42c-.52-.75-.87-1.59-1.01-2.47zm1.01 5.32c1.16.9 2.51 1.44 3.9 1.61V17.9c-.87-.15-1.71-.49-2.46-1.03L7.1 18.32zM13 4.07V1L8.45 5.55 13 10V6.09c2.84.48 5 2.94 5 5.91s-2.16 5.43-5 5.91v2.02c3.95-.49 7-3.85 7-7.93s-3.05-7.44-7-7.93z"></path></g>
<g id="rotate-right"><path d="M15.55 5.55L11 1v3.07C7.06 4.56 4 7.92 4 12s3.05 7.44 7 7.93v-2.02c-2.84-.48-5-2.94-5-5.91s2.16-5.43 5-5.91V10l4.55-4.45zM19.93 11c-.17-1.39-.72-2.73-1.62-3.89l-1.42 1.42c.54.75.88 1.6 1.02 2.47h2.02zM13 17.9v2.02c1.39-.17 2.74-.71 3.9-1.61l-1.44-1.44c-.75.54-1.59.89-2.46 1.03zm3.89-2.42l1.42 1.41c.9-1.16 1.45-2.5 1.62-3.89h-2.02c-.14.87-.48 1.72-1.02 2.48z"></path></g>
<g id="slideshow"><path d="M10 8v8l5-4-5-4zm9-5H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V5h14v14z"></path></g>
<g id="straighten"><path d="M21 6H3c-1.1 0-2 .9-2 2v8c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2zm0 10H3V8h2v4h2V8h2v4h2V8h2v4h2V8h2v4h2V8h2v8z"></path></g>
<g id="style"><path d="M2.53 19.65l1.34.56v-9.03l-2.43 5.86c-.41 1.02.08 2.19 1.09 2.61zm19.5-3.7L17.07 3.98c-.31-.75-1.04-1.21-1.81-1.23-.26 0-.53.04-.79.15L7.1 5.95c-.75.31-1.21 1.03-1.23 1.8-.01.27.04.54.15.8l4.96 11.97c.31.76 1.05 1.22 1.83 1.23.26 0 .52-.05.77-.15l7.36-3.05c1.02-.42 1.51-1.59 1.09-2.6zM7.88 8.75c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1zm-2 11c0 1.1.9 2 2 2h1.45l-3.45-8.34v6.34z"></path></g>
<g id="switch-camera"><path d="M20 4h-3.17L15 2H9L7.17 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm-5 11.5V13H9v2.5L5.5 12 9 8.5V11h6V8.5l3.5 3.5-3.5 3.5z"></path></g>
<g id="switch-video"><path d="M18 9.5V6c0-.55-.45-1-1-1H3c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h14c.55 0 1-.45 1-1v-3.5l4 4v-13l-4 4zm-5 6V13H7v2.5L3.5 12 7 8.5V11h6V8.5l3.5 3.5-3.5 3.5z"></path></g>
<g id="tag-faces"><path d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm3.5-9c.83 0 1.5-.67 1.5-1.5S16.33 8 15.5 8 14 8.67 14 9.5s.67 1.5 1.5 1.5zm-7 0c.83 0 1.5-.67 1.5-1.5S9.33 8 8.5 8 7 8.67 7 9.5 7.67 11 8.5 11zm3.5 6.5c2.33 0 4.31-1.46 5.11-3.5H6.89c.8 2.04 2.78 3.5 5.11 3.5z"></path></g>
<g id="texture"><path d="M19.51 3.08L3.08 19.51c.09.34.27.65.51.9.25.24.56.42.9.51L20.93 4.49c-.19-.69-.73-1.23-1.42-1.41zM11.88 3L3 11.88v2.83L14.71 3h-2.83zM5 3c-1.1 0-2 .9-2 2v2l4-4H5zm14 18c.55 0 1.05-.22 1.41-.59.37-.36.59-.86.59-1.41v-2l-4 4h2zm-9.71 0h2.83L21 12.12V9.29L9.29 21z"></path></g>
<g id="timelapse"><path d="M16.24 7.76C15.07 6.59 13.54 6 12 6v6l-4.24 4.24c2.34 2.34 6.14 2.34 8.49 0 2.34-2.34 2.34-6.14-.01-8.48zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"></path></g>
<g id="timer"><path d="M15 1H9v2h6V1zm-4 13h2V8h-2v6zm8.03-6.61l1.42-1.42c-.43-.51-.9-.99-1.41-1.41l-1.42 1.42C16.07 4.74 14.12 4 12 4c-4.97 0-9 4.03-9 9s4.02 9 9 9 9-4.03 9-9c0-2.12-.74-4.07-1.97-5.61zM12 20c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7z"></path></g>
<g id="timer-10"><path d="M0 7.72V9.4l3-1V18h2V6h-.25L0 7.72zm23.78 6.65c-.14-.28-.35-.53-.63-.74-.28-.21-.61-.39-1.01-.53s-.85-.27-1.35-.38c-.35-.07-.64-.15-.87-.23-.23-.08-.41-.16-.55-.25-.14-.09-.23-.19-.28-.3-.05-.11-.08-.24-.08-.39 0-.14.03-.28.09-.41.06-.13.15-.25.27-.34.12-.1.27-.18.45-.24s.4-.09.64-.09c.25 0 .47.04.66.11.19.07.35.17.48.29.13.12.22.26.29.42.06.16.1.32.1.49h1.95c0-.39-.08-.75-.24-1.09-.16-.34-.39-.63-.69-.88-.3-.25-.66-.44-1.09-.59C21.49 9.07 21 9 20.46 9c-.51 0-.98.07-1.39.21-.41.14-.77.33-1.06.57-.29.24-.51.52-.67.84-.16.32-.23.65-.23 1.01s.08.69.23.96c.15.28.36.52.64.73.27.21.6.38.98.53.38.14.81.26 1.27.36.39.08.71.17.95.26s.43.19.57.29c.13.1.22.22.27.34.05.12.07.25.07.39 0 .32-.13.57-.4.77-.27.2-.66.29-1.17.29-.22 0-.43-.02-.64-.08-.21-.05-.4-.13-.56-.24-.17-.11-.3-.26-.41-.44-.11-.18-.17-.41-.18-.67h-1.89c0 .36.08.71.24 1.05.16.34.39.65.7.93.31.27.69.49 1.15.66.46.17.98.25 1.58.25.53 0 1.01-.06 1.44-.19.43-.13.8-.31 1.11-.54.31-.23.54-.51.71-.83.17-.32.25-.67.25-1.06-.02-.4-.09-.74-.24-1.02zm-9.96-7.32c-.34-.4-.75-.7-1.23-.88-.47-.18-1.01-.27-1.59-.27-.58 0-1.11.09-1.59.27-.48.18-.89.47-1.23.88-.34.41-.6.93-.79 1.59-.18.65-.28 1.45-.28 2.39v1.92c0 .94.09 1.74.28 2.39.19.66.45 1.19.8 1.6.34.41.75.71 1.23.89.48.18 1.01.28 1.59.28.59 0 1.12-.09 1.59-.28.48-.18.88-.48 1.22-.89.34-.41.6-.94.78-1.6.18-.65.28-1.45.28-2.39v-1.92c0-.94-.09-1.74-.28-2.39-.18-.66-.44-1.19-.78-1.59zm-.92 6.17c0 .6-.04 1.11-.12 1.53-.08.42-.2.76-.36 1.02-.16.26-.36.45-.59.57-.23.12-.51.18-.82.18-.3 0-.58-.06-.82-.18s-.44-.31-.6-.57c-.16-.26-.29-.6-.38-1.02-.09-.42-.13-.93-.13-1.53v-2.5c0-.6.04-1.11.13-1.52.09-.41.21-.74.38-1 .16-.25.36-.43.6-.55.24-.11.51-.17.81-.17.31 0 .58.06.81.17.24.11.44.29.6.55.16.25.29.58.37.99.08.41.13.92.13 1.52v2.51z"></path></g>
<g id="timer-3"><path d="M11.61 12.97c-.16-.24-.36-.46-.62-.65-.25-.19-.56-.35-.93-.48.3-.14.57-.3.8-.5.23-.2.42-.41.57-.64.15-.23.27-.46.34-.71.08-.24.11-.49.11-.73 0-.55-.09-1.04-.28-1.46-.18-.42-.44-.77-.78-1.06-.33-.28-.73-.5-1.2-.64-.45-.13-.97-.2-1.53-.2-.55 0-1.06.08-1.52.24-.47.17-.87.4-1.2.69-.33.29-.6.63-.78 1.03-.2.39-.29.83-.29 1.29h1.98c0-.26.05-.49.14-.69.09-.2.22-.38.38-.52.17-.14.36-.25.58-.33.22-.08.46-.12.73-.12.61 0 1.06.16 1.36.47.3.31.44.75.44 1.32 0 .27-.04.52-.12.74-.08.22-.21.41-.38.57-.17.16-.38.28-.63.37-.25.09-.55.13-.89.13H6.72v1.57H7.9c.34 0 .64.04.91.11.27.08.5.19.69.35.19.16.34.36.44.61.1.24.16.54.16.87 0 .62-.18 1.09-.53 1.42-.35.33-.84.49-1.45.49-.29 0-.56-.04-.8-.13-.24-.08-.44-.2-.61-.36-.17-.16-.3-.34-.39-.56-.09-.22-.14-.46-.14-.72H4.19c0 .55.11 1.03.32 1.45.21.42.5.77.86 1.05s.77.49 1.24.63.96.21 1.48.21c.57 0 1.09-.08 1.58-.23.49-.15.91-.38 1.26-.68.36-.3.64-.66.84-1.1.2-.43.3-.93.3-1.48 0-.29-.04-.58-.11-.86-.08-.25-.19-.51-.35-.76zm9.26 1.4c-.14-.28-.35-.53-.63-.74-.28-.21-.61-.39-1.01-.53s-.85-.27-1.35-.38c-.35-.07-.64-.15-.87-.23-.23-.08-.41-.16-.55-.25-.14-.09-.23-.19-.28-.3-.05-.11-.08-.24-.08-.39s.03-.28.09-.41c.06-.13.15-.25.27-.34.12-.1.27-.18.45-.24s.4-.09.64-.09c.25 0 .47.04.66.11.19.07.35.17.48.29.13.12.22.26.29.42.06.16.1.32.1.49h1.95c0-.39-.08-.75-.24-1.09-.16-.34-.39-.63-.69-.88-.3-.25-.66-.44-1.09-.59-.43-.15-.92-.22-1.46-.22-.51 0-.98.07-1.39.21-.41.14-.77.33-1.06.57-.29.24-.51.52-.67.84-.16.32-.23.65-.23 1.01s.08.68.23.96c.15.28.37.52.64.73.27.21.6.38.98.53.38.14.81.26 1.27.36.39.08.71.17.95.26s.43.19.57.29c.13.1.22.22.27.34.05.12.07.25.07.39 0 .32-.13.57-.4.77-.27.2-.66.29-1.17.29-.22 0-.43-.02-.64-.08-.21-.05-.4-.13-.56-.24-.17-.11-.3-.26-.41-.44-.11-.18-.17-.41-.18-.67h-1.89c0 .36.08.71.24 1.05.16.34.39.65.7.93.31.27.69.49 1.15.66.46.17.98.25 1.58.25.53 0 1.01-.06 1.44-.19.43-.13.8-.31 1.11-.54.31-.23.54-.51.71-.83.17-.32.25-.67.25-1.06-.02-.4-.09-.74-.24-1.02z"></path></g>
<g id="timer-off"><path d="M19.04 4.55l-1.42 1.42C16.07 4.74 14.12 4 12 4c-1.83 0-3.53.55-4.95 1.48l1.46 1.46C9.53 6.35 10.73 6 12 6c3.87 0 7 3.13 7 7 0 1.27-.35 2.47-.94 3.49l1.45 1.45C20.45 16.53 21 14.83 21 13c0-2.12-.74-4.07-1.97-5.61l1.42-1.42-1.41-1.42zM15 1H9v2h6V1zm-4 8.44l2 2V8h-2v1.44zM3.02 4L1.75 5.27 4.5 8.03C3.55 9.45 3 11.16 3 13c0 4.97 4.02 9 9 9 1.84 0 3.55-.55 4.98-1.5l2.5 2.5 1.27-1.27-7.71-7.71L3.02 4zM12 20c-3.87 0-7-3.13-7-7 0-1.28.35-2.48.95-3.52l9.56 9.56c-1.03.61-2.23.96-3.51.96z"></path></g>
<g id="tonality"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 17.93c-3.94-.49-7-3.85-7-7.93s3.05-7.44 7-7.93v15.86zm2-15.86c1.03.13 2 .45 2.87.93H13v-.93zM13 7h5.24c.25.31.48.65.68 1H13V7zm0 3h6.74c.08.33.15.66.19 1H13v-1zm0 9.93V19h2.87c-.87.48-1.84.8-2.87.93zM18.24 17H13v-1h5.92c-.2.35-.43.69-.68 1zm1.5-3H13v-1h6.93c-.04.34-.11.67-.19 1z"></path></g>
<g id="transform"><path d="M22 18v-2H8V4h2L7 1 4 4h2v2H2v2h4v8c0 1.1.9 2 2 2h8v2h-2l3 3 3-3h-2v-2h4zM10 8h6v6h2V8c0-1.1-.9-2-2-2h-6v2z"></path></g>
<g id="tune"><path d="M3 17v2h6v-2H3zM3 5v2h10V5H3zm10 16v-2h8v-2h-8v-2h-2v6h2zM7 9v2H3v2h4v2h2V9H7zm14 4v-2H11v2h10zm-6-4h2V7h4V5h-4V3h-2v6z"></path></g>
<g id="view-comfy"><path d="M3 9h4V5H3v4zm0 5h4v-4H3v4zm5 0h4v-4H8v4zm5 0h4v-4h-4v4zM8 9h4V5H8v4zm5-4v4h4V5h-4zm5 9h4v-4h-4v4zM3 19h4v-4H3v4zm5 0h4v-4H8v4zm5 0h4v-4h-4v4zm5 0h4v-4h-4v4zm0-14v4h4V5h-4z"></path></g>
<g id="view-compact"><path d="M3 19h6v-7H3v7zm7 0h12v-7H10v7zM3 5v6h19V5H3z"></path></g>
<g id="vignette"><path d="M21 3H3c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-9 15c-4.42 0-8-2.69-8-6s3.58-6 8-6 8 2.69 8 6-3.58 6-8 6z"></path></g>
<g id="wb-auto"><path d="M6.85 12.65h2.3L8 9l-1.15 3.65zM22 7l-1.2 6.29L19.3 7h-1.6l-1.49 6.29L15 7h-.76C12.77 5.17 10.53 4 8 4c-4.42 0-8 3.58-8 8s3.58 8 8 8c3.13 0 5.84-1.81 7.15-4.43l.1.43H17l1.5-6.1L20 16h1.75l2.05-9H22zm-11.7 9l-.7-2H6.4l-.7 2H3.8L7 7h2l3.2 9h-1.9z"></path></g>
<g id="wb-cloudy"><path d="M19.36 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.64-4.96z"></path></g>
<g id="wb-incandescent"><path d="M3.55 18.54l1.41 1.41 1.79-1.8-1.41-1.41-1.79 1.8zM11 22.45h2V19.5h-2v2.95zM4 10.5H1v2h3v-2zm11-4.19V1.5H9v4.81C7.21 7.35 6 9.28 6 11.5c0 3.31 2.69 6 6 6s6-2.69 6-6c0-2.22-1.21-4.15-3-5.19zm5 4.19v2h3v-2h-3zm-2.76 7.66l1.79 1.8 1.41-1.41-1.8-1.79-1.4 1.4z"></path></g>
<g id="wb-iridescent"><path d="M5 14.5h14v-6H5v6zM11 .55V3.5h2V.55h-2zm8.04 2.5l-1.79 1.79 1.41 1.41 1.8-1.79-1.42-1.41zM13 22.45V19.5h-2v2.95h2zm7.45-3.91l-1.8-1.79-1.41 1.41 1.79 1.8 1.42-1.42zM3.55 4.46l1.79 1.79 1.41-1.41-1.79-1.79-1.41 1.41zm1.41 15.49l1.79-1.8-1.41-1.41-1.79 1.79 1.41 1.42z"></path></g>
<g id="wb-sunny"><path d="M6.76 4.84l-1.8-1.79-1.41 1.41 1.79 1.79 1.42-1.41zM4 10.5H1v2h3v-2zm9-9.95h-2V3.5h2V.55zm7.45 3.91l-1.41-1.41-1.79 1.79 1.41 1.41 1.79-1.79zm-3.21 13.7l1.79 1.8 1.41-1.41-1.8-1.79-1.4 1.4zM20 10.5v2h3v-2h-3zm-8-5c-3.31 0-6 2.69-6 6s2.69 6 6 6 6-2.69 6-6-2.69-6-6-6zm-1 16.95h2V19.5h-2v2.95zm-7.45-3.91l1.41 1.41 1.79-1.8-1.41-1.41-1.79 1.8z"></path></g>
</defs></svg>
</iron-iconset-svg>















<dom-module id="paper-listbox">
  <template></template>

  <script>//~~WEBPATH~~/paper-listbox/paper-listbox.html.js
Polymer({is:"paper-listbox",behaviors:[Polymer.IronMenuBehavior],hostAttributes:{role:"listbox"}});
</script>
</dom-module>









<dom-module id="paper-toast">
  <template></template>

  <script>//~~WEBPATH~~/paper-toast/paper-toast.html.js
(function(){var a=null;Polymer({is:"paper-toast",behaviors:[Polymer.IronOverlayBehavior],properties:{fitInto:{type:Object,value:window,observer:"_onFitIntoChanged"},horizontalAlign:{type:String,value:"left"},verticalAlign:{type:String,value:"bottom"},duration:{type:Number,value:3E3},text:{type:String,value:""},noCancelOnOutsideClick:{type:Boolean,value:!0},noAutoFocus:{type:Boolean,value:!0}},listeners:{transitionend:"__onTransitionEnd"},get visible(){Polymer.Base._warn("`visible` is deprecated, use `opened` instead");
return this.opened},get _canAutoClose(){return 0<this.duration&&Infinity!==this.duration},created:function(){this._autoClose=null;Polymer.IronA11yAnnouncer.requestAvailability()},show:function(a){"string"==typeof a&&(a={text:a});for(var b in a)0===b.indexOf("_")?Polymer.Base._warn('The property "'+b+'" is private and was not set.'):b in this?this[b]=a[b]:Polymer.Base._warn('The property "'+b+'" is not valid.');this.open()},hide:function(){this.close()},__onTransitionEnd:function(a){a&&a.target===
this&&"opacity"===a.propertyName&&(this.opened?this._finishRenderOpened():this._finishRenderClosed())},_openedChanged:function(){null!==this._autoClose&&(this.cancelAsync(this._autoClose),this._autoClose=null);this.opened?(a&&a!==this&&a.close(),a=this,this.fire("iron-announce",{text:this.text}),this._canAutoClose&&(this._autoClose=this.async(this.close,this.duration))):a===this&&(a=null);Polymer.IronOverlayBehaviorImpl._openedChanged.apply(this,arguments)},_renderOpened:function(){this.classList.add("paper-toast-open")},
_renderClosed:function(){this.classList.remove("paper-toast-open")},_onFitIntoChanged:function(a){this.positionTarget=a}})})();
</script>
</dom-module>




<script>//~~WEBPATH~~/tf-imports/three.js
var V={REVISION:"77"};"function"===typeof define&&define.amd?define("three",V):"undefined"!==typeof exports&&"undefined"!==typeof module&&(module.exports=V);void 0===Number.EPSILON&&(Number.EPSILON=Math.pow(2,-52));void 0===Math.sign&&(Math.sign=function(a){return 0>a?-1:0<a?1:+a});void 0===Function.prototype.name&&Object.defineProperty(Function.prototype,"name",{get:function(){return this.toString().match(/^\s*function\s*(\S*)\s*\(/)[1]}});
void 0===Object.assign&&(Object.assign=function(a){if(void 0===a||null===a)throw new TypeError("Cannot convert undefined or null to object");for(var b=Object(a),c=1;c<arguments.length;c++){var d=arguments[c];if(void 0!==d&&null!==d)for(var e in d)Object.prototype.hasOwnProperty.call(d,e)&&(b[e]=d[e])}return b});
Object.assign(V,{MOUSE:{LEFT:0,MIDDLE:1,RIGHT:2},CullFaceNone:0,CullFaceBack:1,CullFaceFront:2,CullFaceFrontBack:3,FrontFaceDirectionCW:0,FrontFaceDirectionCCW:1,BasicShadowMap:0,PCFShadowMap:1,PCFSoftShadowMap:2,FrontSide:0,BackSide:1,DoubleSide:2,FlatShading:1,SmoothShading:2,NoColors:0,FaceColors:1,VertexColors:2,NoBlending:0,NormalBlending:1,AdditiveBlending:2,SubtractiveBlending:3,MultiplyBlending:4,CustomBlending:5,AddEquation:100,SubtractEquation:101,ReverseSubtractEquation:102,MinEquation:103,
MaxEquation:104,ZeroFactor:200,OneFactor:201,SrcColorFactor:202,OneMinusSrcColorFactor:203,SrcAlphaFactor:204,OneMinusSrcAlphaFactor:205,DstAlphaFactor:206,OneMinusDstAlphaFactor:207,DstColorFactor:208,OneMinusDstColorFactor:209,SrcAlphaSaturateFactor:210,NeverDepth:0,AlwaysDepth:1,LessDepth:2,LessEqualDepth:3,EqualDepth:4,GreaterEqualDepth:5,GreaterDepth:6,NotEqualDepth:7,MultiplyOperation:0,MixOperation:1,AddOperation:2,NoToneMapping:0,LinearToneMapping:1,ReinhardToneMapping:2,Uncharted2ToneMapping:3,
CineonToneMapping:4,UVMapping:300,CubeReflectionMapping:301,CubeRefractionMapping:302,EquirectangularReflectionMapping:303,EquirectangularRefractionMapping:304,SphericalReflectionMapping:305,CubeUVReflectionMapping:306,CubeUVRefractionMapping:307,RepeatWrapping:1E3,ClampToEdgeWrapping:1001,MirroredRepeatWrapping:1002,NearestFilter:1003,NearestMipMapNearestFilter:1004,NearestMipMapLinearFilter:1005,LinearFilter:1006,LinearMipMapNearestFilter:1007,LinearMipMapLinearFilter:1008,UnsignedByteType:1009,
ByteType:1010,ShortType:1011,UnsignedShortType:1012,IntType:1013,UnsignedIntType:1014,FloatType:1015,HalfFloatType:1025,UnsignedShort4444Type:1016,UnsignedShort5551Type:1017,UnsignedShort565Type:1018,AlphaFormat:1019,RGBFormat:1020,RGBAFormat:1021,LuminanceFormat:1022,LuminanceAlphaFormat:1023,RGBEFormat:V.RGBAFormat,DepthFormat:1026,RGB_S3TC_DXT1_Format:2001,RGBA_S3TC_DXT1_Format:2002,RGBA_S3TC_DXT3_Format:2003,RGBA_S3TC_DXT5_Format:2004,RGB_PVRTC_4BPPV1_Format:2100,RGB_PVRTC_2BPPV1_Format:2101,
RGBA_PVRTC_4BPPV1_Format:2102,RGBA_PVRTC_2BPPV1_Format:2103,RGB_ETC1_Format:2151,LoopOnce:2200,LoopRepeat:2201,LoopPingPong:2202,InterpolateDiscrete:2300,InterpolateLinear:2301,InterpolateSmooth:2302,ZeroCurvatureEnding:2400,ZeroSlopeEnding:2401,WrapAroundEnding:2402,TrianglesDrawMode:0,TriangleStripDrawMode:1,TriangleFanDrawMode:2,LinearEncoding:3E3,sRGBEncoding:3001,GammaEncoding:3007,RGBEEncoding:3002,LogLuvEncoding:3003,RGBM7Encoding:3004,RGBM16Encoding:3005,RGBDEncoding:3006,BasicDepthPacking:3200,
RGBADepthPacking:3201});V.Color=function(a,b,c){void 0===b&&void 0===c?a=this.set(a):(this.r=a,this.g=b,this.b=c,a=this);return a};
V.Color.prototype={constructor:V.Color,r:1,g:1,b:1,set:function(a){a instanceof V.Color?this.copy(a):"number"===typeof a?Jc(this,a):"string"===typeof a&&Kc(this,a);return this},setScalar:function(a){this.b=this.g=this.r=a},setHSL:function(){function a(a,c,d){0>d&&(d+=1);1<d&&--d;return d<1/6?a+6*(c-a)*d:.5>d?c:d<2/3?a+6*(c-a)*(2/3-d):a}return function(b,c,d){b=V.Math.euclideanModulo(b,1);c=V.Math.clamp(c,0,1);d=V.Math.clamp(d,0,1);0===c?this.r=this.g=this.b=d:(c=.5>=d?d*(1+c):d+c-d*c,d=2*d-c,this.r=
a(d,c,b+1/3),this.g=a(d,c,b),this.b=a(d,c,b-1/3));return this}}(),clone:function(){return new this.constructor(this.r,this.g,this.b)},copy:function(a){this.r=a.r;this.g=a.g;this.b=a.b;return this},copyGammaToLinear:function(a,b){void 0===b&&(b=2);this.r=Math.pow(a.r,b);this.g=Math.pow(a.g,b);this.b=Math.pow(a.b,b);return this},copyLinearToGamma:function(a,b){void 0===b&&(b=2);b=0<b?1/b:1;this.r=Math.pow(a.r,b);this.g=Math.pow(a.g,b);this.b=Math.pow(a.b,b);return this},convertGammaToLinear:function(){var a=
this.r,b=this.g,c=this.b;this.r=a*a;this.g=b*b;this.b=c*c;return this},convertLinearToGamma:function(){this.r=Math.sqrt(this.r);this.g=Math.sqrt(this.g);this.b=Math.sqrt(this.b);return this},getHexString:function(){return("000000"+Lc(this).toString(16)).slice(-6)},getStyle:function(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"},offsetHSL:function(a,b,c){var d=this.r,e=this.g,f=this.b,g=Math.max(d,e,f),k=Math.min(d,e,f),l,m=(k+g)/2;if(k===g)k=l=0;else{var n=g-k;k=.5>=m?n/
(g+k):n/(2-g-k);switch(g){case d:l=(e-f)/n+(e<f?6:0);break;case e:l=(f-d)/n+2;break;case f:l=(d-e)/n+4}l/=6}a=l+a;b=k+b;c=m+c;this.setHSL(a,b,c);return this},add:function(a){this.r+=a.r;this.g+=a.g;this.b+=a.b;return this},addColors:function(a,b){this.r=a.r+b.r;this.g=a.g+b.g;this.b=a.b+b.b;return this},addScalar:function(a){this.r+=a;this.g+=a;this.b+=a;return this},multiply:function(a){this.r*=a.r;this.g*=a.g;this.b*=a.b;return this},multiplyScalar:function(a){this.r*=a;this.g*=a;this.b*=a;return this},
lerp:function(a,b){this.r+=(a.r-this.r)*b;this.g+=(a.g-this.g)*b;this.b+=(a.b-this.b)*b;return this},equals:function(a){return a.r===this.r&&a.g===this.g&&a.b===this.b},fromArray:function(a,b){void 0===b&&(b=0);this.r=a[b];this.g=a[b+1];this.b=a[b+2];return this},toArray:function(a,b){void 0===a&&(a=[]);void 0===b&&(b=0);a[b]=this.r;a[b+1]=this.g;a[b+2]=this.b;return a}};function Lc(a){return 255*a.r<<16^255*a.g<<8^255*a.b<<0}
function Kc(a,b){function c(a){void 0!==a&&1>parseFloat(a)&&console.warn("THREE.Color: Alpha component of "+b+" will be ignored.")}var d;if(d=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(b)){var e=d[2];switch(d[1]){case "rgb":case "rgba":if(d=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(e)){a.r=Math.min(255,parseInt(d[1],10))/255;a.g=Math.min(255,parseInt(d[2],10))/255;a.b=Math.min(255,parseInt(d[3],10))/255;c(d[5]);return}if(d=/^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(e)){a.r=
Math.min(100,parseInt(d[1],10))/100;a.g=Math.min(100,parseInt(d[2],10))/100;a.b=Math.min(100,parseInt(d[3],10))/100;c(d[5]);return}break;case "hsl":case "hsla":if(d=/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(e)){e=parseFloat(d[1])/360;var f=parseInt(d[2],10)/100,g=parseInt(d[3],10)/100;c(d[5]);a.setHSL(e,f,g);return}}}else if(d=/^\#([A-Fa-f0-9]+)$/.exec(b)){d=d[1];e=d.length;if(3===e){a.r=parseInt(d.charAt(0)+d.charAt(0),16)/255;a.g=parseInt(d.charAt(1)+d.charAt(1),
16)/255;a.b=parseInt(d.charAt(2)+d.charAt(2),16)/255;return}if(6===e){a.r=parseInt(d.charAt(0)+d.charAt(1),16)/255;a.g=parseInt(d.charAt(2)+d.charAt(3),16)/255;a.b=parseInt(d.charAt(4)+d.charAt(5),16)/255;return}}b&&0<b.length&&(d=V.ColorKeywords[b],void 0!==d?Jc(a,d):console.warn("THREE.Color: Unknown color "+b))}function Jc(a,b){b=Math.floor(b);a.r=(b>>16&255)/255;a.g=(b>>8&255)/255;a.b=(b&255)/255}
V.ColorKeywords={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,
darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,
grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,
lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,
palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,
tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};V.Quaternion=function(a,b,c,d){this._x=a||0;this._y=b||0;this._z=c||0;this._w=void 0!==d?d:1};
V.Quaternion.prototype={constructor:V.Quaternion,get x(){return this._x},set x(a){this._x=a;this.onChangeCallback()},get y(){return this._y},set y(a){this._y=a;this.onChangeCallback()},get z(){return this._z},set z(a){this._z=a;this.onChangeCallback()},get w(){return this._w},set w(a){this._w=a;this.onChangeCallback()},set:function(a,b,c,d){this._x=a;this._y=b;this._z=c;this._w=d;this.onChangeCallback();return this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._w)},copy:function(a){this._x=
a.x;this._y=a.y;this._z=a.z;this._w=a.w;this.onChangeCallback();return this},setFromRotationMatrix:function(a){var b=a.elements,c=b[0];a=b[4];var d=b[8],e=b[1],f=b[5],g=b[9],k=b[2],l=b[6];b=b[10];var m=c+f+b;0<m?(c=.5/Math.sqrt(m+1),this._w=.25/c,this._x=(l-g)*c,this._y=(d-k)*c,this._z=(e-a)*c):c>f&&c>b?(c=2*Math.sqrt(1+c-f-b),this._w=(l-g)/c,this._x=.25*c,this._y=(a+e)/c,this._z=(d+k)/c):f>b?(c=2*Math.sqrt(1+f-c-b),this._w=(d-k)/c,this._x=(a+e)/c,this._y=.25*c,this._z=(g+l)/c):(c=2*Math.sqrt(1+b-
c-f),this._w=(e-a)/c,this._x=(d+k)/c,this._y=(g+l)/c,this._z=.25*c);this.onChangeCallback();return this},setFromUnitVectors:function(){var a,b;return function(c,d){void 0===a&&(a=new V.Vector3);b=c.dot(d)+1;1E-6>b?(b=0,Math.abs(c.x)>Math.abs(c.z)?a.set(-c.y,c.x,0):a.set(0,-c.z,c.y)):Mc(a,c,d);this._x=a.x;this._y=a.y;this._z=a.z;this._w=b;return this.normalize()}}(),inverse:function(){this._x*=-1;this._y*=-1;this._z*=-1;this.onChangeCallback();return this.normalize()},dot:function(a){return this._x*
a._x+this._y*a._y+this._z*a._z+this._w*a._w},lengthSq:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},length:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},normalize:function(){var a=this.length();0===a?(this._z=this._y=this._x=0,this._w=1):(a=1/a,this._x*=a,this._y*=a,this._z*=a,this._w*=a);this.onChangeCallback();return this},multiply:function(a,b){return void 0!==b?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),
Nc(this,a,b)):Nc(this,this,a)},premultiply:function(a){return Nc(this,a,this)},slerp:function(a,b){if(0===b)return this;if(1===b)return this.copy(a);var c=this._x,d=this._y,e=this._z,f=this._w,g=f*a._w+c*a._x+d*a._y+e*a._z;0>g?(this._w=-a._w,this._x=-a._x,this._y=-a._y,this._z=-a._z,g=-g):this.copy(a);if(1<=g)return this._w=f,this._x=c,this._y=d,this._z=e,this;a=Math.sqrt(1-g*g);if(.001>Math.abs(a))return this._w=.5*(f+this._w),this._x=.5*(c+this._x),this._y=.5*(d+this._y),this._z=.5*(e+this._z),
this;var k=Math.atan2(a,g);g=Math.sin((1-b)*k)/a;b=Math.sin(b*k)/a;this._w=f*g+this._w*b;this._x=c*g+this._x*b;this._y=d*g+this._y*b;this._z=e*g+this._z*b;this.onChangeCallback();return this},equals:function(a){return a._x===this._x&&a._y===this._y&&a._z===this._z&&a._w===this._w},fromArray:function(a,b){void 0===b&&(b=0);this._x=a[b];this._y=a[b+1];this._z=a[b+2];this._w=a[b+3];this.onChangeCallback();return this},toArray:function(a,b){void 0===a&&(a=[]);void 0===b&&(b=0);a[b]=this._x;a[b+1]=this._y;
a[b+2]=this._z;a[b+3]=this._w;return a},onChange:function(a){this.onChangeCallback=a;return this},onChangeCallback:function(){}};function Nc(a,b,c){var d=b._x,e=b._y,f=b._z;b=b._w;var g=c._x,k=c._y,l=c._z;c=c._w;a._x=d*c+b*g+e*l-f*k;a._y=e*c+b*k+f*g-d*l;a._z=f*c+b*l+d*k-e*g;a._w=b*c-d*g-e*k-f*l;a.onChangeCallback();return a}function Oc(a,b,c){c/=2;var d=Math.sin(c);a._x=b.x*d;a._y=b.y*d;a._z=b.z*d;a._w=Math.cos(c);a.onChangeCallback();return a}
function Pc(a,b,c){if(!1===b instanceof V.Euler)throw Error("THREE.Quaternion: .setFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var d=Math.cos(b._x/2),e=Math.cos(b._y/2),f=Math.cos(b._z/2),g=Math.sin(b._x/2),k=Math.sin(b._y/2),l=Math.sin(b._z/2);b=b.order;"XYZ"===b?(a._x=g*e*f+d*k*l,a._y=d*k*f-g*e*l,a._z=d*e*l+g*k*f,a._w=d*e*f-g*k*l):"YXZ"===b?(a._x=g*e*f+d*k*l,a._y=d*k*f-g*e*l,a._z=d*e*l-g*k*f,a._w=d*e*f+g*k*l):"ZXY"===b?(a._x=g*e*f-d*k*l,a._y=d*k*f+g*e*l,a._z=d*e*
l+g*k*f,a._w=d*e*f-g*k*l):"ZYX"===b?(a._x=g*e*f-d*k*l,a._y=d*k*f+g*e*l,a._z=d*e*l-g*k*f,a._w=d*e*f+g*k*l):"YZX"===b?(a._x=g*e*f+d*k*l,a._y=d*k*f+g*e*l,a._z=d*e*l-g*k*f,a._w=d*e*f-g*k*l):"XZY"===b&&(a._x=g*e*f-d*k*l,a._y=d*k*f-g*e*l,a._z=d*e*l+g*k*f,a._w=d*e*f+g*k*l);if(!1!==c)a.onChangeCallback();return a}
Object.assign(V.Quaternion,{slerp:function(a,b,c,d){return c.copy(a).slerp(b,d)},slerpFlat:function(a,b,c,d,e,f,g){var k=c[d+0],l=c[d+1],m=c[d+2];c=c[d+3];d=e[f+0];var n=e[f+1],q=e[f+2];e=e[f+3];if(c!==e||k!==d||l!==n||m!==q){f=1-g;var p=k*d+l*n+m*q+c*e,t=0<=p?1:-1,r=1-p*p;r>Number.EPSILON&&(r=Math.sqrt(r),p=Math.atan2(r,p*t),f=Math.sin(f*p)/r,g=Math.sin(g*p)/r);t*=g;k=k*f+d*t;l=l*f+n*t;m=m*f+q*t;c=c*f+e*t;f===1-g&&(g=1/Math.sqrt(k*k+l*l+m*m+c*c),k*=g,l*=g,m*=g,c*=g)}a[b]=k;a[b+1]=l;a[b+2]=m;a[b+
3]=c}});V.Vector2=function(a,b){this.x=a||0;this.y=b||0};
V.Vector2.prototype={constructor:V.Vector2,get width(){return this.x},set width(a){this.x=a},get height(){return this.y},set height(a){this.y=a},set:function(a,b){this.x=a;this.y=b;return this},setScalar:function(a){this.y=this.x=a;return this},setX:function(a){this.x=a;return this},setY:function(a){this.y=a;return this},setComponent:function(a,b){switch(a){case 0:this.x=b;break;case 1:this.y=b;break;default:throw Error("index is out of range: "+a);}},getComponent:function(a){switch(a){case 0:return this.x;
case 1:return this.y;default:throw Error("index is out of range: "+a);}},clone:function(){return new this.constructor(this.x,this.y)},copy:function(a){this.x=a.x;this.y=a.y;return this},add:function(a,b){if(void 0!==b)return console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(a,b);this.x+=a.x;this.y+=a.y;return this},addScalar:function(a){this.x+=a;this.y+=a;return this},addVectors:function(a,b){this.x=a.x+b.x;this.y=a.y+b.y;return this},
addScaledVector:function(a,b){this.x+=a.x*b;this.y+=a.y*b;return this},sub:function(a,b){if(void 0!==b)return console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(a,b);this.x-=a.x;this.y-=a.y;return this},subScalar:function(a){this.x-=a;this.y-=a;return this},subVectors:function(a,b){this.x=a.x-b.x;this.y=a.y-b.y;return this},multiply:function(a){this.x*=a.x;this.y*=a.y;return this},multiplyScalar:function(a){isFinite(a)?(this.x*=a,
this.y*=a):this.y=this.x=0;return this},divide:function(a){this.x/=a.x;this.y/=a.y;return this},divideScalar:function(a){return this.multiplyScalar(1/a)},min:function(a){this.x=Math.min(this.x,a.x);this.y=Math.min(this.y,a.y);return this},max:function(a){this.x=Math.max(this.x,a.x);this.y=Math.max(this.y,a.y);return this},clamp:function(a,b){this.x=Math.max(a.x,Math.min(b.x,this.x));this.y=Math.max(a.y,Math.min(b.y,this.y));return this},clampScalar:function(){var a,b;return function(c,d){void 0===
a&&(a=new V.Vector2,b=new V.Vector2);a.set(c,c);b.set(d,d);return this.clamp(a,b)}}(),clampLength:function(a,b){var c=this.length();return this.multiplyScalar(Math.max(a,Math.min(b,c))/c)},floor:function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);return this},ceil:function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);return this},round:function(){this.x=Math.round(this.x);this.y=Math.round(this.y);return this},roundToZero:function(){this.x=0>this.x?Math.ceil(this.x):Math.floor(this.x);
this.y=0>this.y?Math.ceil(this.y):Math.floor(this.y);return this},negate:function(){this.x=-this.x;this.y=-this.y;return this},dot:function(a){return this.x*a.x+this.y*a.y},lengthSq:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)},normalize:function(){return this.divideScalar(this.length())},angle:function(){var a=Math.atan2(this.y,this.x);0>a&&(a+=2*Math.PI);return a},
distanceTo:function(a){return Math.sqrt(this.distanceToSquared(a))},distanceToSquared:function(a){var b=this.x-a.x;a=this.y-a.y;return b*b+a*a},setLength:function(a){return this.multiplyScalar(a/this.length())},lerp:function(a,b){this.x+=(a.x-this.x)*b;this.y+=(a.y-this.y)*b;return this},lerpVectors:function(a,b,c){return this.subVectors(b,a).multiplyScalar(c).add(a)},equals:function(a){return a.x===this.x&&a.y===this.y},fromArray:function(a,b){void 0===b&&(b=0);this.x=a[b];this.y=a[b+1];return this},
toArray:function(a,b){void 0===a&&(a=[]);void 0===b&&(b=0);a[b]=this.x;a[b+1]=this.y;return a},fromAttribute:function(a,b,c){void 0===c&&(c=0);b=b*a.itemSize+c;this.x=a.array[b];this.y=a.array[b+1];return this},rotateAround:function(a,b){var c=Math.cos(b);b=Math.sin(b);var d=this.x-a.x,e=this.y-a.y;this.x=d*c-e*b+a.x;this.y=d*b+e*c+a.y;return this}};V.Vector3=function(a,b,c){this.x=a||0;this.y=b||0;this.z=c||0};
V.Vector3.prototype={constructor:V.Vector3,set:function(a,b,c){this.x=a;this.y=b;this.z=c;return this},setScalar:function(a){this.z=this.y=this.x=a;return this},setX:function(a){this.x=a;return this},setY:function(a){this.y=a;return this},setZ:function(a){this.z=a;return this},setComponent:function(a,b){switch(a){case 0:this.x=b;break;case 1:this.y=b;break;case 2:this.z=b;break;default:throw Error("index is out of range: "+a);}},getComponent:function(a){switch(a){case 0:return this.x;case 1:return this.y;
case 2:return this.z;default:throw Error("index is out of range: "+a);}},clone:function(){return new this.constructor(this.x,this.y,this.z)},copy:function(a){this.x=a.x;this.y=a.y;this.z=a.z;return this},add:function(a,b){if(void 0!==b)return console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(a,b);this.x+=a.x;this.y+=a.y;this.z+=a.z;return this},addScalar:function(a){this.x+=a;this.y+=a;this.z+=a;return this},addVectors:function(a,
b){this.x=a.x+b.x;this.y=a.y+b.y;this.z=a.z+b.z;return this},addScaledVector:function(a,b){this.x+=a.x*b;this.y+=a.y*b;this.z+=a.z*b;return this},sub:function(a,b){if(void 0!==b)return console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(a,b);this.x-=a.x;this.y-=a.y;this.z-=a.z;return this},subScalar:function(a){this.x-=a;this.y-=a;this.z-=a;return this},subVectors:function(a,b){this.x=a.x-b.x;this.y=a.y-b.y;this.z=a.z-b.z;return this},
multiply:function(a,b){if(void 0!==b)return console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.x=a.x*b.x,this.y=a.y*b.y,this.z=a.z*b.z,this;this.x*=a.x;this.y*=a.y;this.z*=a.z;return this},multiplyScalar:function(a){isFinite(a)?(this.x*=a,this.y*=a,this.z*=a):this.z=this.y=this.x=0;return this},applyEuler:function(){var a;return function(b){!1===b instanceof V.Euler&&console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order.");
void 0===a&&(a=new V.Quaternion);return Qc(this,Pc(a,b))}}(),applyAxisAngle:function(){var a;return function(b,c){void 0===a&&(a=new V.Quaternion);return Qc(this,Oc(a,b,c))}}(),applyMatrix4:function(a){var b=this.x,c=this.y,d=this.z;a=a.elements;this.x=a[0]*b+a[4]*c+a[8]*d+a[12];this.y=a[1]*b+a[5]*c+a[9]*d+a[13];this.z=a[2]*b+a[6]*c+a[10]*d+a[14];return this},project:function(){var a;return function(b){void 0===a&&(a=new V.Matrix4);Rc(a,b.projectionMatrix,a.getInverse(b.matrixWorld));return Sc(this,
a)}}(),unproject:function(){var a;return function(b){void 0===a&&(a=new V.Matrix4);Rc(a,b.matrixWorld,a.getInverse(b.projectionMatrix));return Sc(this,a)}}(),divide:function(a){this.x/=a.x;this.y/=a.y;this.z/=a.z;return this},divideScalar:function(a){return this.multiplyScalar(1/a)},min:function(a){this.x=Math.min(this.x,a.x);this.y=Math.min(this.y,a.y);this.z=Math.min(this.z,a.z);return this},max:function(a){this.x=Math.max(this.x,a.x);this.y=Math.max(this.y,a.y);this.z=Math.max(this.z,a.z);return this},
clamp:function(a,b){this.x=Math.max(a.x,Math.min(b.x,this.x));this.y=Math.max(a.y,Math.min(b.y,this.y));this.z=Math.max(a.z,Math.min(b.z,this.z));return this},clampScalar:function(){var a,b;return function(c,d){void 0===a&&(a=new V.Vector3,b=new V.Vector3);a.set(c,c,c);b.set(d,d,d);return this.clamp(a,b)}}(),clampLength:function(a,b){var c=this.length();return this.multiplyScalar(Math.max(a,Math.min(b,c))/c)},floor:function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);this.z=Math.floor(this.z);
return this},ceil:function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);this.z=Math.ceil(this.z);return this},round:function(){this.x=Math.round(this.x);this.y=Math.round(this.y);this.z=Math.round(this.z);return this},roundToZero:function(){this.x=0>this.x?Math.ceil(this.x):Math.floor(this.x);this.y=0>this.y?Math.ceil(this.y):Math.floor(this.y);this.z=0>this.z?Math.ceil(this.z):Math.floor(this.z);return this},negate:function(){this.x=-this.x;this.y=-this.y;this.z=-this.z;return this},dot:function(a){return this.x*
a.x+this.y*a.y+this.z*a.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length())},setLength:function(a){return this.multiplyScalar(a/this.length())},lerp:function(a,b){this.x+=(a.x-this.x)*b;this.y+=(a.y-this.y)*b;this.z+=(a.z-this.z)*b;return this},lerpVectors:function(a,
b,c){return this.subVectors(b,a).multiplyScalar(c).add(a)},cross:function(a,b){if(void 0!==b)return console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),Mc(this,a,b);b=this.x;var c=this.y,d=this.z;this.x=c*a.z-d*a.y;this.y=d*a.x-b*a.z;this.z=b*a.y-c*a.x;return this},projectOnVector:function(){var a,b;return function(c){void 0===a&&(a=new V.Vector3);a.copy(c).normalize();b=this.dot(a);return this.copy(a).multiplyScalar(b)}}(),projectOnPlane:function(){var a;
return function(b){void 0===a&&(a=new V.Vector3);a.copy(this).projectOnVector(b);return this.sub(a)}}(),reflect:function(){var a;return function(b){void 0===a&&(a=new V.Vector3);return this.sub(a.copy(b).multiplyScalar(2*this.dot(b)))}}(),angleTo:function(a){return Math.acos(V.Math.clamp(this.dot(a)/Math.sqrt(this.lengthSq()*a.lengthSq()),-1,1))},distanceTo:function(a){return Math.sqrt(this.distanceToSquared(a))},distanceToSquared:function(a){var b=this.x-a.x,c=this.y-a.y;a=this.z-a.z;return b*b+
c*c+a*a},equals:function(a){return a.x===this.x&&a.y===this.y&&a.z===this.z},fromArray:function(a,b){void 0===b&&(b=0);this.x=a[b];this.y=a[b+1];this.z=a[b+2];return this},toArray:function(a,b){void 0===a&&(a=[]);void 0===b&&(b=0);a[b]=this.x;a[b+1]=this.y;a[b+2]=this.z;return a},fromAttribute:function(a,b,c){void 0===c&&(c=0);b=b*a.itemSize+c;this.x=a.array[b];this.y=a.array[b+1];this.z=a.array[b+2];return this}};
function Tc(a,b,c){if("number"===typeof b){console.warn("THREE.Vector3: setFromMatrixColumn now expects ( matrix, index ).");var d=b;b=c;c=d}return a.fromArray(b.elements,4*c)}function Uc(a,b){return Tc(a,b,3)}function Mc(a,b,c){var d=b.x,e=b.y;b=b.z;var f=c.x,g=c.y;c=c.z;a.x=e*c-b*g;a.y=b*f-d*c;a.z=d*g-e*f;return a}function Vc(a,b){var c=a.x,d=a.y,e=a.z;b=b.elements;a.x=b[0]*c+b[4]*d+b[8]*e;a.y=b[1]*c+b[5]*d+b[9]*e;a.z=b[2]*c+b[6]*d+b[10]*e;a.normalize()}
function Qc(a,b){var c=a.x,d=a.y,e=a.z,f=b.x,g=b.y,k=b.z;b=b.w;var l=b*c+g*e-k*d,m=b*d+k*c-f*e,n=b*e+f*d-g*c;c=-f*c-g*d-k*e;a.x=l*b+c*-f+m*-k-n*-g;a.y=m*b+c*-g+n*-f-l*-k;a.z=n*b+c*-k+l*-g-m*-f;return a}function Sc(a,b){var c=a.x,d=a.y,e=a.z;b=b.elements;var f=1/(b[3]*c+b[7]*d+b[11]*e+b[15]);a.x=(b[0]*c+b[4]*d+b[8]*e+b[12])*f;a.y=(b[1]*c+b[5]*d+b[9]*e+b[13])*f;a.z=(b[2]*c+b[6]*d+b[10]*e+b[14])*f;return a}
function Wc(a,b){var c=a.x,d=a.y,e=a.z;b=b.elements;a.x=b[0]*c+b[3]*d+b[6]*e;a.y=b[1]*c+b[4]*d+b[7]*e;a.z=b[2]*c+b[5]*d+b[8]*e;return a}V.Vector4=function(a,b,c,d){this.x=a||0;this.y=b||0;this.z=c||0;this.w=void 0!==d?d:1};
V.Vector4.prototype={constructor:V.Vector4,set:function(a,b,c,d){this.x=a;this.y=b;this.z=c;this.w=d;return this},setScalar:function(a){this.w=this.z=this.y=this.x=a;return this},setX:function(a){this.x=a;return this},setY:function(a){this.y=a;return this},setZ:function(a){this.z=a;return this},setW:function(a){this.w=a;return this},setComponent:function(a,b){switch(a){case 0:this.x=b;break;case 1:this.y=b;break;case 2:this.z=b;break;case 3:this.w=b;break;default:throw Error("index is out of range: "+
a);}},getComponent:function(a){switch(a){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw Error("index is out of range: "+a);}},clone:function(){return new this.constructor(this.x,this.y,this.z,this.w)},copy:function(a){this.x=a.x;this.y=a.y;this.z=a.z;this.w=void 0!==a.w?a.w:1;return this},add:function(a,b){if(void 0!==b)return console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(a,b);
this.x+=a.x;this.y+=a.y;this.z+=a.z;this.w+=a.w;return this},addScalar:function(a){this.x+=a;this.y+=a;this.z+=a;this.w+=a;return this},addVectors:function(a,b){this.x=a.x+b.x;this.y=a.y+b.y;this.z=a.z+b.z;this.w=a.w+b.w;return this},addScaledVector:function(a,b){this.x+=a.x*b;this.y+=a.y*b;this.z+=a.z*b;this.w+=a.w*b;return this},sub:function(a,b){if(void 0!==b)return console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(a,b);this.x-=
a.x;this.y-=a.y;this.z-=a.z;this.w-=a.w;return this},subScalar:function(a){this.x-=a;this.y-=a;this.z-=a;this.w-=a;return this},subVectors:function(a,b){this.x=a.x-b.x;this.y=a.y-b.y;this.z=a.z-b.z;this.w=a.w-b.w;return this},multiplyScalar:function(a){isFinite(a)?(this.x*=a,this.y*=a,this.z*=a,this.w*=a):this.w=this.z=this.y=this.x=0;return this},applyMatrix4:function(a){var b=this.x,c=this.y,d=this.z,e=this.w;a=a.elements;this.x=a[0]*b+a[4]*c+a[8]*d+a[12]*e;this.y=a[1]*b+a[5]*c+a[9]*d+a[13]*e;this.z=
a[2]*b+a[6]*c+a[10]*d+a[14]*e;this.w=a[3]*b+a[7]*c+a[11]*d+a[15]*e;return this},divideScalar:function(a){return this.multiplyScalar(1/a)},setAxisAngleFromQuaternion:function(a){this.w=2*Math.acos(a.w);var b=Math.sqrt(1-a.w*a.w);1E-4>b?(this.x=1,this.z=this.y=0):(this.x=a.x/b,this.y=a.y/b,this.z=a.z/b);return this},setAxisAngleFromRotationMatrix:function(a){a=a.elements;var b=a[0];var c=a[4];var d=a[8],e=a[1],f=a[5],g=a[9];var k=a[2];var l=a[6];var m=a[10];if(.01>Math.abs(c-e)&&.01>Math.abs(d-k)&&
.01>Math.abs(g-l)){if(.1>Math.abs(c+e)&&.1>Math.abs(d+k)&&.1>Math.abs(g+l)&&.1>Math.abs(b+f+m-3))return this.set(1,0,0,0),this;a=Math.PI;b=(b+1)/2;f=(f+1)/2;m=(m+1)/2;c=(c+e)/4;d=(d+k)/4;g=(g+l)/4;b>f&&b>m?.01>b?(l=0,c=k=.707106781):(l=Math.sqrt(b),k=c/l,c=d/l):f>m?.01>f?(l=.707106781,k=0,c=.707106781):(k=Math.sqrt(f),l=c/k,c=g/k):.01>m?(k=l=.707106781,c=0):(c=Math.sqrt(m),l=d/c,k=g/c);this.set(l,k,c,a);return this}a=Math.sqrt((l-g)*(l-g)+(d-k)*(d-k)+(e-c)*(e-c));.001>Math.abs(a)&&(a=1);this.x=(l-
g)/a;this.y=(d-k)/a;this.z=(e-c)/a;this.w=Math.acos((b+f+m-1)/2);return this},min:function(a){this.x=Math.min(this.x,a.x);this.y=Math.min(this.y,a.y);this.z=Math.min(this.z,a.z);this.w=Math.min(this.w,a.w);return this},max:function(a){this.x=Math.max(this.x,a.x);this.y=Math.max(this.y,a.y);this.z=Math.max(this.z,a.z);this.w=Math.max(this.w,a.w);return this},clamp:function(a,b){this.x=Math.max(a.x,Math.min(b.x,this.x));this.y=Math.max(a.y,Math.min(b.y,this.y));this.z=Math.max(a.z,Math.min(b.z,this.z));
this.w=Math.max(a.w,Math.min(b.w,this.w));return this},clampScalar:function(){var a,b;return function(c,d){void 0===a&&(a=new V.Vector4,b=new V.Vector4);a.set(c,c,c,c);b.set(d,d,d,d);return this.clamp(a,b)}}(),floor:function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);this.z=Math.floor(this.z);this.w=Math.floor(this.w);return this},ceil:function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);this.z=Math.ceil(this.z);this.w=Math.ceil(this.w);return this},round:function(){this.x=Math.round(this.x);
this.y=Math.round(this.y);this.z=Math.round(this.z);this.w=Math.round(this.w);return this},roundToZero:function(){this.x=0>this.x?Math.ceil(this.x):Math.floor(this.x);this.y=0>this.y?Math.ceil(this.y):Math.floor(this.y);this.z=0>this.z?Math.ceil(this.z):Math.floor(this.z);this.w=0>this.w?Math.ceil(this.w):Math.floor(this.w);return this},negate:function(){this.x=-this.x;this.y=-this.y;this.z=-this.z;this.w=-this.w;return this},dot:function(a){return this.x*a.x+this.y*a.y+this.z*a.z+this.w*a.w},lengthSq:function(){return this.x*
this.x+this.y*this.y+this.z*this.z+this.w*this.w},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)},normalize:function(){return this.divideScalar(this.length())},setLength:function(a){return this.multiplyScalar(a/this.length())},lerp:function(a,b){this.x+=(a.x-this.x)*b;this.y+=(a.y-this.y)*b;this.z+=(a.z-this.z)*b;this.w+=(a.w-this.w)*b;return this},lerpVectors:function(a,
b,c){return this.subVectors(b,a).multiplyScalar(c).add(a)},equals:function(a){return a.x===this.x&&a.y===this.y&&a.z===this.z&&a.w===this.w},fromArray:function(a,b){void 0===b&&(b=0);this.x=a[b];this.y=a[b+1];this.z=a[b+2];this.w=a[b+3];return this},toArray:function(a,b){void 0===a&&(a=[]);void 0===b&&(b=0);a[b]=this.x;a[b+1]=this.y;a[b+2]=this.z;a[b+3]=this.w;return a},fromAttribute:function(a,b,c){void 0===c&&(c=0);b=b*a.itemSize+c;this.x=a.array[b];this.y=a.array[b+1];this.z=a.array[b+2];this.w=
a.array[b+3];return this}};V.Euler=function(a,b,c,d){this._x=a||0;this._y=b||0;this._z=c||0;this._order=d||V.Euler.DefaultOrder};V.Euler.RotationOrders="XYZ YZX ZXY XZY YXZ ZYX".split(" ");V.Euler.DefaultOrder="XYZ";
V.Euler.prototype={constructor:V.Euler,get x(){return this._x},set x(a){this._x=a;this.onChangeCallback()},get y(){return this._y},set y(a){this._y=a;this.onChangeCallback()},get z(){return this._z},set z(a){this._z=a;this.onChangeCallback()},get order(){return this._order},set order(a){this._order=a;this.onChangeCallback()},set:function(a,b,c,d){this._x=a;this._y=b;this._z=c;this._order=d||this._order;this.onChangeCallback();return this},clone:function(){return new this.constructor(this._x,this._y,
this._z,this._order)},copy:function(a){this._x=a._x;this._y=a._y;this._z=a._z;this._order=a._order;this.onChangeCallback();return this},setFromRotationMatrix:function(a,b,c){var d=V.Math.clamp,e=a.elements;a=e[0];var f=e[4],g=e[8],k=e[1],l=e[5],m=e[9],n=e[2],q=e[6];e=e[10];b=b||this._order;"XYZ"===b?(this._y=Math.asin(d(g,-1,1)),.99999>Math.abs(g)?(this._x=Math.atan2(-m,e),this._z=Math.atan2(-f,a)):(this._x=Math.atan2(q,l),this._z=0)):"YXZ"===b?(this._x=Math.asin(-d(m,-1,1)),.99999>Math.abs(m)?(this._y=
Math.atan2(g,e),this._z=Math.atan2(k,l)):(this._y=Math.atan2(-n,a),this._z=0)):"ZXY"===b?(this._x=Math.asin(d(q,-1,1)),.99999>Math.abs(q)?(this._y=Math.atan2(-n,e),this._z=Math.atan2(-f,l)):(this._y=0,this._z=Math.atan2(k,a))):"ZYX"===b?(this._y=Math.asin(-d(n,-1,1)),.99999>Math.abs(n)?(this._x=Math.atan2(q,e),this._z=Math.atan2(k,a)):(this._x=0,this._z=Math.atan2(-f,l))):"YZX"===b?(this._z=Math.asin(d(k,-1,1)),.99999>Math.abs(k)?(this._x=Math.atan2(-m,l),this._y=Math.atan2(-n,a)):(this._x=0,this._y=
Math.atan2(g,e))):"XZY"===b?(this._z=Math.asin(-d(f,-1,1)),.99999>Math.abs(f)?(this._x=Math.atan2(q,l),this._y=Math.atan2(g,a)):(this._x=Math.atan2(-m,e),this._y=0)):console.warn("THREE.Euler: .setFromRotationMatrix() given unsupported order: "+b);this._order=b;if(!1!==c)this.onChangeCallback();return this},setFromQuaternion:function(){var a;return function(b,c,d){void 0===a&&(a=new V.Matrix4);Xc(a,b);return this.setFromRotationMatrix(a,c,d)}}(),setFromVector3:function(a,b){return this.set(a.x,a.y,
a.z,b||this._order)},reorder:function(){var a=new V.Quaternion;return function(b){Pc(a,this);return this.setFromQuaternion(a,b)}}(),equals:function(a){return a._x===this._x&&a._y===this._y&&a._z===this._z&&a._order===this._order},fromArray:function(a){this._x=a[0];this._y=a[1];this._z=a[2];void 0!==a[3]&&(this._order=a[3]);this.onChangeCallback();return this},toArray:function(a,b){void 0===a&&(a=[]);void 0===b&&(b=0);a[b]=this._x;a[b+1]=this._y;a[b+2]=this._z;a[b+3]=this._order;return a},toVector3:function(a){return a?
a.set(this._x,this._y,this._z):new V.Vector3(this._x,this._y,this._z)},onChange:function(a){this.onChangeCallback=a;return this},onChangeCallback:function(){}};V.Line3=function(a,b){this.start=void 0!==a?a:new V.Vector3;this.end=void 0!==b?b:new V.Vector3};
V.Line3.prototype={constructor:V.Line3,set:function(a,b){this.start.copy(a);this.end.copy(b);return this},clone:function(){return(new this.constructor).copy(this)},copy:function(a){this.start.copy(a.start);this.end.copy(a.end);return this},center:function(a){return(a||new V.Vector3).addVectors(this.start,this.end).multiplyScalar(.5)},distanceSq:function(){return this.start.distanceToSquared(this.end)},distance:function(){return this.start.distanceTo(this.end)},at:function(a,b){return Yc(this,b||new V.Vector3).multiplyScalar(a).add(this.start)},
closestPointToPointParameter:function(){var a=new V.Vector3,b=new V.Vector3;return function(c,d){a.subVectors(c,this.start);b.subVectors(this.end,this.start);c=b.dot(a)/b.dot(b);d&&(c=V.Math.clamp(c,0,1));return c}}(),closestPointToPoint:function(a,b,c){a=this.closestPointToPointParameter(a,b);return Yc(this,c||new V.Vector3).multiplyScalar(a).add(this.start)},applyMatrix4:function(a){this.start.applyMatrix4(a);this.end.applyMatrix4(a);return this},equals:function(a){return a.start.equals(this.start)&&
a.end.equals(this.end)}};function Yc(a,b){return(b||new V.Vector3).subVectors(a.end,a.start)}V.Box2=function(a,b){this.min=void 0!==a?a:new V.Vector2(Infinity,Infinity);this.max=void 0!==b?b:new V.Vector2(-Infinity,-Infinity)};
V.Box2.prototype={constructor:V.Box2,set:function(a,b){this.min.copy(a);this.max.copy(b);return this},setFromPoints:function(a){this.makeEmpty();for(var b=0,c=a.length;b<c;b++)this.expandByPoint(a[b]);return this},setFromCenterAndSize:function(){var a=new V.Vector2;return function(b,c){c=a.copy(c).multiplyScalar(.5);this.min.copy(b).sub(c);this.max.copy(b).add(c);return this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(a){this.min.copy(a.min);this.max.copy(a.max);return this},
makeEmpty:function(){this.min.x=this.min.y=Infinity;this.max.x=this.max.y=-Infinity;return this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y},center:function(a){return(a||new V.Vector2).addVectors(this.min,this.max).multiplyScalar(.5)},size:function(a){return(a||new V.Vector2).subVectors(this.max,this.min)},expandByPoint:function(a){this.min.min(a);this.max.max(a);return this},expandByVector:function(a){this.min.sub(a);this.max.add(a);return this},expandByScalar:function(a){this.min.addScalar(-a);
this.max.addScalar(a);return this},containsPoint:function(a){return a.x<this.min.x||a.x>this.max.x||a.y<this.min.y||a.y>this.max.y?!1:!0},containsBox:function(a){return this.min.x<=a.min.x&&a.max.x<=this.max.x&&this.min.y<=a.min.y&&a.max.y<=this.max.y?!0:!1},getParameter:function(a,b){return(b||new V.Vector2).set((a.x-this.min.x)/(this.max.x-this.min.x),(a.y-this.min.y)/(this.max.y-this.min.y))},intersectsBox:function(a){return a.max.x<this.min.x||a.min.x>this.max.x||a.max.y<this.min.y||a.min.y>this.max.y?
!1:!0},clampPoint:function(a,b){return(b||new V.Vector2).copy(a).clamp(this.min,this.max)},distanceToPoint:function(){var a=new V.Vector2;return function(b){return a.copy(b).clamp(this.min,this.max).sub(b).length()}}(),intersect:function(a){this.min.max(a.min);this.max.min(a.max);return this},union:function(a){this.min.min(a.min);this.max.max(a.max);return this},translate:function(a){this.min.add(a);this.max.add(a);return this},equals:function(a){return a.min.equals(this.min)&&a.max.equals(this.max)}};
V.Box3=function(a,b){this.min=void 0!==a?a:new V.Vector3(Infinity,Infinity,Infinity);this.max=void 0!==b?b:new V.Vector3(-Infinity,-Infinity,-Infinity)};
V.Box3.prototype={constructor:V.Box3,set:function(a,b){this.min.copy(a);this.max.copy(b);return this},setFromPoints:function(a){this.makeEmpty();for(var b=0,c=a.length;b<c;b++)this.expandByPoint(a[b]);return this},setFromCenterAndSize:function(){var a=new V.Vector3;return function(b,c){c=a.copy(c).multiplyScalar(.5);this.min.copy(b).sub(c);this.max.copy(b).add(c);return this}}(),setFromObject:function(){var a=new V.Vector3;return function(b){var c=this;b.updateMatrixWorld(!0);this.makeEmpty();b.traverse(function(b){var d=
b.geometry;if(void 0!==d)if(d instanceof V.Geometry){var f=d.vertices;d=0;for(var g=f.length;d<g;d++)a.copy(f[d]),a.applyMatrix4(b.matrixWorld),c.expandByPoint(a)}else if(d instanceof V.BufferGeometry&&void 0!==d.attributes.position)for(f=d.attributes.position.array,d=0,g=f.length;d<g;d+=3)a.fromArray(f,d),a.applyMatrix4(b.matrixWorld),c.expandByPoint(a)});return this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(a){this.min.copy(a.min);this.max.copy(a.max);return this},
makeEmpty:function(){this.min.x=this.min.y=this.min.z=Infinity;this.max.x=this.max.y=this.max.z=-Infinity;return this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},center:function(a){return(a||new V.Vector3).addVectors(this.min,this.max).multiplyScalar(.5)},size:function(a){return(a||new V.Vector3).subVectors(this.max,this.min)},expandByPoint:function(a){this.min.min(a);this.max.max(a);return this},expandByVector:function(a){this.min.sub(a);this.max.add(a);
return this},expandByScalar:function(a){this.min.addScalar(-a);this.max.addScalar(a);return this},containsPoint:function(a){return a.x<this.min.x||a.x>this.max.x||a.y<this.min.y||a.y>this.max.y||a.z<this.min.z||a.z>this.max.z?!1:!0},containsBox:function(a){return this.min.x<=a.min.x&&a.max.x<=this.max.x&&this.min.y<=a.min.y&&a.max.y<=this.max.y&&this.min.z<=a.min.z&&a.max.z<=this.max.z?!0:!1},getParameter:function(a,b){return(b||new V.Vector3).set((a.x-this.min.x)/(this.max.x-this.min.x),(a.y-this.min.y)/
(this.max.y-this.min.y),(a.z-this.min.z)/(this.max.z-this.min.z))},intersectsBox:function(a){return a.max.x<this.min.x||a.min.x>this.max.x||a.max.y<this.min.y||a.min.y>this.max.y||a.max.z<this.min.z||a.min.z>this.max.z?!1:!0},intersectsSphere:function(){var a;return function(b){void 0===a&&(a=new V.Vector3);this.clampPoint(b.center,a);return a.distanceToSquared(b.center)<=b.radius*b.radius}}(),intersectsPlane:function(a){if(0<a.normal.x){var b=a.normal.x*this.min.x;var c=a.normal.x*this.max.x}else b=
a.normal.x*this.max.x,c=a.normal.x*this.min.x;0<a.normal.y?(b+=a.normal.y*this.min.y,c+=a.normal.y*this.max.y):(b+=a.normal.y*this.max.y,c+=a.normal.y*this.min.y);0<a.normal.z?(b+=a.normal.z*this.min.z,c+=a.normal.z*this.max.z):(b+=a.normal.z*this.max.z,c+=a.normal.z*this.min.z);return b<=a.constant&&c>=a.constant},clampPoint:function(a,b){return(b||new V.Vector3).copy(a).clamp(this.min,this.max)},distanceToPoint:function(){var a=new V.Vector3;return function(b){return a.copy(b).clamp(this.min,this.max).sub(b).length()}}(),
getBoundingSphere:function(){var a=new V.Vector3;return function(b){b=b||new V.Sphere;b.center=this.center();b.radius=.5*this.size(a).length();return b}}(),intersect:function(a){this.min.max(a.min);this.max.min(a.max);this.isEmpty()&&this.makeEmpty();return this},union:function(a){this.min.min(a.min);this.max.max(a.max);return this},applyMatrix4:function(){var a=[new V.Vector3,new V.Vector3,new V.Vector3,new V.Vector3,new V.Vector3,new V.Vector3,new V.Vector3,new V.Vector3];return function(b){if(this.isEmpty())return this;
a[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(b);a[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(b);a[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(b);a[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(b);a[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(b);a[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(b);a[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(b);a[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(b);this.setFromPoints(a);return this}}(),
translate:function(a){this.min.add(a);this.max.add(a);return this},equals:function(a){return a.min.equals(this.min)&&a.max.equals(this.max)}};function Zc(a,b){for(var c=Infinity,d=Infinity,e=Infinity,f=-Infinity,g=-Infinity,k=-Infinity,l=0,m=b.length;l<m;l+=3){var n=b[l],q=b[l+1],p=b[l+2];n<c&&(c=n);q<d&&(d=q);p<e&&(e=p);n>f&&(f=n);q>g&&(g=q);p>k&&(k=p)}a.min.set(c,d,e);a.max.set(f,g,k)}V.Matrix3=function(){this.elements=new Float32Array([1,0,0,0,1,0,0,0,1]);0<arguments.length&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")};
V.Matrix3.prototype={constructor:V.Matrix3,set:function(a,b,c,d,e,f,g,k,l){var m=this.elements;m[0]=a;m[1]=d;m[2]=g;m[3]=b;m[4]=e;m[5]=k;m[6]=c;m[7]=f;m[8]=l;return this},identity:function(){this.set(1,0,0,0,1,0,0,0,1);return this},clone:function(){return(new this.constructor).fromArray(this.elements)},copy:function(a){a=a.elements;this.set(a[0],a[3],a[6],a[1],a[4],a[7],a[2],a[5],a[8]);return this},applyToVector3Array:function(){var a;return function(b,c,d){void 0===a&&(a=new V.Vector3);void 0===
c&&(c=0);void 0===d&&(d=b.length);for(var e=0;e<d;e+=3,c+=3)a.fromArray(b,c),Wc(a,this),a.toArray(b,c);return b}}(),applyToBuffer:function(){var a;return function(b,c,d){void 0===a&&(a=new V.Vector3);void 0===c&&(c=0);void 0===d&&(d=b.length/b.itemSize);for(var e=0;e<d;e++,c++)a.x=b.getX(c),a.y=b.getY(c),a.z=b.getZ(c),Wc(a,this),b.setXYZ(a.x,a.y,a.z);return b}}(),multiplyScalar:function(a){var b=this.elements;b[0]*=a;b[3]*=a;b[6]*=a;b[1]*=a;b[4]*=a;b[7]*=a;b[2]*=a;b[5]*=a;b[8]*=a;return this},determinant:function(){var a=
this.elements,b=a[0],c=a[1],d=a[2],e=a[3],f=a[4],g=a[5],k=a[6],l=a[7];a=a[8];return b*f*a-b*g*l-c*e*a+c*g*k+d*e*l-d*f*k},getInverse:function(a,b){a instanceof V.Matrix4&&console.error("THREE.Matrix3.getInverse no longer takes a Matrix4 argument.");var c=a.elements;a=this.elements;var d=c[0],e=c[1],f=c[2],g=c[3],k=c[4],l=c[5],m=c[6],n=c[7];c=c[8];var q=c*k-l*n,p=l*m-c*g,t=n*g-k*m,r=d*q+e*p+f*t;if(0===r){if(b)throw Error("THREE.Matrix3.getInverse(): can't invert matrix, determinant is 0");console.warn("THREE.Matrix3.getInverse(): can't invert matrix, determinant is 0");
return this.identity()}b=1/r;a[0]=q*b;a[1]=(f*n-c*e)*b;a[2]=(l*e-f*k)*b;a[3]=p*b;a[4]=(c*d-f*m)*b;a[5]=(f*g-l*d)*b;a[6]=t*b;a[7]=(e*m-n*d)*b;a[8]=(k*d-e*g)*b;return this},transpose:function(){var a=this.elements;var b=a[1];a[1]=a[3];a[3]=b;b=a[2];a[2]=a[6];a[6]=b;b=a[5];a[5]=a[7];a[7]=b;return this},flattenToArrayOffset:function(a,b){console.warn("THREE.Matrix3: .flattenToArrayOffset is deprecated - just use .toArray instead.");return this.toArray(a,b)},transposeIntoArray:function(a){var b=this.elements;
a[0]=b[0];a[1]=b[3];a[2]=b[6];a[3]=b[1];a[4]=b[4];a[5]=b[7];a[6]=b[2];a[7]=b[5];a[8]=b[8];return this},fromArray:function(a){this.elements.set(a);return this},toArray:function(a,b){void 0===a&&(a=[]);void 0===b&&(b=0);var c=this.elements;a[b]=c[0];a[b+1]=c[1];a[b+2]=c[2];a[b+3]=c[3];a[b+4]=c[4];a[b+5]=c[5];a[b+6]=c[6];a[b+7]=c[7];a[b+8]=c[8];return a}};function $c(a,b){b=b.elements;a.set(b[0],b[4],b[8],b[1],b[5],b[9],b[2],b[6],b[10]);return a.getInverse(a).transpose()}
V.Matrix4=function(){this.elements=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);0<arguments.length&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")};
V.Matrix4.prototype={constructor:V.Matrix4,set:function(a,b,c,d,e,f,g,k,l,m,n,q,p,t,r,u){var v=this.elements;v[0]=a;v[4]=b;v[8]=c;v[12]=d;v[1]=e;v[5]=f;v[9]=g;v[13]=k;v[2]=l;v[6]=m;v[10]=n;v[14]=q;v[3]=p;v[7]=t;v[11]=r;v[15]=u;return this},identity:function(){this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1);return this},clone:function(){return(new V.Matrix4).fromArray(this.elements)},copy:function(a){this.elements.set(a.elements);return this},extractBasis:function(a,b,c){Tc(a,this,0);Tc(b,this,1);Tc(c,this,
2);return this},makeBasis:function(a,b,c){this.set(a.x,b.x,c.x,0,a.y,b.y,c.y,0,a.z,b.z,c.z,0,0,0,0,1);return this},extractRotation:function(){var a;return function(b){void 0===a&&(a=new V.Vector3);var c=this.elements,d=b.elements,e=1/Tc(a,b,0).length(),f=1/Tc(a,b,1).length();b=1/Tc(a,b,2).length();c[0]=d[0]*e;c[1]=d[1]*e;c[2]=d[2]*e;c[4]=d[4]*f;c[5]=d[5]*f;c[6]=d[6]*f;c[8]=d[8]*b;c[9]=d[9]*b;c[10]=d[10]*b;return this}}(),makeRotationFromEuler:function(a){!1===a instanceof V.Euler&&console.error("THREE.Matrix: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");
var b=this.elements,c=a.x,d=a.y,e=a.z,f=Math.cos(c);c=Math.sin(c);var g=Math.cos(d);d=Math.sin(d);var k=Math.cos(e);e=Math.sin(e);if("XYZ"===a.order){var l=f*k;var m=f*e;var n=c*k;a=c*e;b[0]=g*k;b[4]=-g*e;b[8]=d;b[1]=m+n*d;b[5]=l-a*d;b[9]=-c*g;b[2]=a-l*d;b[6]=n+m*d;b[10]=f*g}else"YXZ"===a.order?(l=g*k,m=g*e,n=d*k,a=d*e,b[0]=l+a*c,b[4]=n*c-m,b[8]=f*d,b[1]=f*e,b[5]=f*k,b[9]=-c,b[2]=m*c-n,b[6]=a+l*c,b[10]=f*g):"ZXY"===a.order?(l=g*k,m=g*e,n=d*k,a=d*e,b[0]=l-a*c,b[4]=-f*e,b[8]=n+m*c,b[1]=m+n*c,b[5]=f*
k,b[9]=a-l*c,b[2]=-f*d,b[6]=c,b[10]=f*g):"ZYX"===a.order?(l=f*k,m=f*e,n=c*k,a=c*e,b[0]=g*k,b[4]=n*d-m,b[8]=l*d+a,b[1]=g*e,b[5]=a*d+l,b[9]=m*d-n,b[2]=-d,b[6]=c*g,b[10]=f*g):"YZX"===a.order?(l=f*g,m=f*d,n=c*g,a=c*d,b[0]=g*k,b[4]=a-l*e,b[8]=n*e+m,b[1]=e,b[5]=f*k,b[9]=-c*k,b[2]=-d*k,b[6]=m*e+n,b[10]=l-a*e):"XZY"===a.order&&(l=f*g,m=f*d,n=c*g,a=c*d,b[0]=g*k,b[4]=-e,b[8]=d*k,b[1]=l*e+a,b[5]=f*k,b[9]=m*e-n,b[2]=n*e-m,b[6]=c*k,b[10]=a*e+l);b[3]=0;b[7]=0;b[11]=0;b[12]=0;b[13]=0;b[14]=0;b[15]=1;return this},
lookAt:function(){var a,b,c;return function(d,e,f){void 0===a&&(a=new V.Vector3,b=new V.Vector3,c=new V.Vector3);var g=this.elements;c.subVectors(d,e).normalize();0===c.lengthSq()&&(c.z=1);Mc(a,f,c).normalize();0===a.lengthSq()&&(c.z+=1E-4,Mc(a,f,c).normalize());Mc(b,c,a);g[0]=a.x;g[4]=b.x;g[8]=c.x;g[1]=a.y;g[5]=b.y;g[9]=c.y;g[2]=a.z;g[6]=b.z;g[10]=c.z;return this}}(),multiply:function(a,b){return void 0!==b?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),
Rc(this,a,b)):Rc(this,this,a)},premultiply:function(a){return Rc(this,a,this)},multiplyToArray:function(a,b,c){var d=this.elements;Rc(this,a,b);c[0]=d[0];c[1]=d[1];c[2]=d[2];c[3]=d[3];c[4]=d[4];c[5]=d[5];c[6]=d[6];c[7]=d[7];c[8]=d[8];c[9]=d[9];c[10]=d[10];c[11]=d[11];c[12]=d[12];c[13]=d[13];c[14]=d[14];c[15]=d[15];return this},multiplyScalar:function(a){var b=this.elements;b[0]*=a;b[4]*=a;b[8]*=a;b[12]*=a;b[1]*=a;b[5]*=a;b[9]*=a;b[13]*=a;b[2]*=a;b[6]*=a;b[10]*=a;b[14]*=a;b[3]*=a;b[7]*=a;b[11]*=a;
b[15]*=a;return this},applyToVector3Array:function(){var a;return function(b,c,d){void 0===a&&(a=new V.Vector3);void 0===c&&(c=0);void 0===d&&(d=b.length);for(var e=0;e<d;e+=3,c+=3)a.fromArray(b,c),a.applyMatrix4(this),a.toArray(b,c);return b}}(),applyToBuffer:function(){var a;return function(b,c,d){void 0===a&&(a=new V.Vector3);void 0===c&&(c=0);void 0===d&&(d=b.length/b.itemSize);for(var e=0;e<d;e++,c++)a.x=b.getX(c),a.y=b.getY(c),a.z=b.getZ(c),a.applyMatrix4(this),b.setXYZ(a.x,a.y,a.z);return b}}(),
determinant:function(){var a=this.elements,b=a[0],c=a[4],d=a[8],e=a[12],f=a[1],g=a[5],k=a[9],l=a[13],m=a[2],n=a[6],q=a[10],p=a[14];return a[3]*(+e*k*n-d*l*n-e*g*q+c*l*q+d*g*p-c*k*p)+a[7]*(+b*k*p-b*l*q+e*f*q-d*f*p+d*l*m-e*k*m)+a[11]*(+b*l*n-b*g*p-e*f*n+c*f*p+e*g*m-c*l*m)+a[15]*(-d*g*m-b*k*n+b*g*q+d*f*n-c*f*q+c*k*m)},transpose:function(){var a=this.elements;var b=a[1];a[1]=a[4];a[4]=b;b=a[2];a[2]=a[8];a[8]=b;b=a[6];a[6]=a[9];a[9]=b;b=a[3];a[3]=a[12];a[12]=b;b=a[7];a[7]=a[13];a[13]=b;b=a[11];a[11]=a[14];
a[14]=b;return this},flattenToArrayOffset:function(a,b){console.warn("THREE.Matrix3: .flattenToArrayOffset is deprecated - just use .toArray instead.");return this.toArray(a,b)},getPosition:function(){var a;return function(){void 0===a&&(a=new V.Vector3);console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead.");return Tc(a,this,3)}}(),setPosition:function(a){var b=this.elements;b[12]=a.x;b[13]=a.y;b[14]=a.z;return this},getInverse:function(a,
b){var c=this.elements,d=a.elements;a=d[0];var e=d[1],f=d[2],g=d[3],k=d[4],l=d[5],m=d[6],n=d[7],q=d[8],p=d[9],t=d[10],r=d[11],u=d[12],v=d[13],z=d[14];d=d[15];var w=p*z*n-v*t*n+v*m*r-l*z*r-p*m*d+l*t*d,A=u*t*n-q*z*n-u*m*r+k*z*r+q*m*d-k*t*d,y=q*v*n-u*p*n+u*l*r-k*v*r-q*l*d+k*p*d,C=u*p*m-q*v*m-u*l*t+k*v*t+q*l*z-k*p*z,D=a*w+e*A+f*y+g*C;if(0===D){if(b)throw Error("THREE.Matrix4.getInverse(): can't invert matrix, determinant is 0");console.warn("THREE.Matrix4.getInverse(): can't invert matrix, determinant is 0");
return this.identity()}b=1/D;c[0]=w*b;c[1]=(v*t*g-p*z*g-v*f*r+e*z*r+p*f*d-e*t*d)*b;c[2]=(l*z*g-v*m*g+v*f*n-e*z*n-l*f*d+e*m*d)*b;c[3]=(p*m*g-l*t*g-p*f*n+e*t*n+l*f*r-e*m*r)*b;c[4]=A*b;c[5]=(q*z*g-u*t*g+u*f*r-a*z*r-q*f*d+a*t*d)*b;c[6]=(u*m*g-k*z*g-u*f*n+a*z*n+k*f*d-a*m*d)*b;c[7]=(k*t*g-q*m*g+q*f*n-a*t*n-k*f*r+a*m*r)*b;c[8]=y*b;c[9]=(u*p*g-q*v*g-u*e*r+a*v*r+q*e*d-a*p*d)*b;c[10]=(k*v*g-u*l*g+u*e*n-a*v*n-k*e*d+a*l*d)*b;c[11]=(q*l*g-k*p*g-q*e*n+a*p*n+k*e*r-a*l*r)*b;c[12]=C*b;c[13]=(q*v*f-u*p*f+u*e*t-a*v*
t-q*e*z+a*p*z)*b;c[14]=(u*l*f-k*v*f-u*e*m+a*v*m+k*e*z-a*l*z)*b;c[15]=(k*p*f-q*l*f+q*e*m-a*p*m-k*e*t+a*l*t)*b;return this},scale:function(a){var b=this.elements,c=a.x,d=a.y;a=a.z;b[0]*=c;b[4]*=d;b[8]*=a;b[1]*=c;b[5]*=d;b[9]*=a;b[2]*=c;b[6]*=d;b[10]*=a;b[3]*=c;b[7]*=d;b[11]*=a;return this},decompose:function(){var a,b;return function(c,d,e){void 0===a&&(a=new V.Vector3,b=new V.Matrix4);var f=this.elements,g=a.set(f[0],f[1],f[2]).length(),k=a.set(f[4],f[5],f[6]).length(),l=a.set(f[8],f[9],f[10]).length();
0>this.determinant()&&(g=-g);c.x=f[12];c.y=f[13];c.z=f[14];b.elements.set(this.elements);c=1/g;f=1/k;var m=1/l;b.elements[0]*=c;b.elements[1]*=c;b.elements[2]*=c;b.elements[4]*=f;b.elements[5]*=f;b.elements[6]*=f;b.elements[8]*=m;b.elements[9]*=m;b.elements[10]*=m;d.setFromRotationMatrix(b);e.x=g;e.y=k;e.z=l;return this}}(),makePerspective:function(a,b,c,d){a=c*Math.tan(V.Math.DEG2RAD*a*.5);var e=-a;return ad(this,e*b,a*b,e,a,c,d)},equals:function(a){var b=this.elements;a=a.elements;for(var c=0;16>
c;c++)if(b[c]!==a[c])return!1;return!0},fromArray:function(a){this.elements.set(a);return this},toArray:function(a,b){void 0===a&&(a=[]);void 0===b&&(b=0);var c=this.elements;a[b]=c[0];a[b+1]=c[1];a[b+2]=c[2];a[b+3]=c[3];a[b+4]=c[4];a[b+5]=c[5];a[b+6]=c[6];a[b+7]=c[7];a[b+8]=c[8];a[b+9]=c[9];a[b+10]=c[10];a[b+11]=c[11];a[b+12]=c[12];a[b+13]=c[13];a[b+14]=c[14];a[b+15]=c[15];return a}};
function ad(a,b,c,d,e,f,g){var k=a.elements;k[0]=2*f/(c-b);k[4]=0;k[8]=(c+b)/(c-b);k[12]=0;k[1]=0;k[5]=2*f/(e-d);k[9]=(e+d)/(e-d);k[13]=0;k[2]=0;k[6]=0;k[10]=-(g+f)/(g-f);k[14]=-2*g*f/(g-f);k[3]=0;k[7]=0;k[11]=-1;k[15]=0;return a}function bd(a,b,c){var d=Math.cos(c);c=Math.sin(c);var e=1-d,f=b.x,g=b.y;b=b.z;var k=e*f,l=e*g;a.set(k*f+d,k*g-c*b,k*b+c*g,0,k*g+c*b,l*g+d,l*b-c*f,0,k*b-c*g,l*b+c*f,e*b*b+d,0,0,0,0,1);return a}
function cd(a,b){var c=Math.cos(b);b=Math.sin(b);a.set(c,-b,0,0,b,c,0,0,0,0,1,0,0,0,0,1)}function dd(a,b){var c=Math.cos(b);b=Math.sin(b);a.set(c,0,b,0,0,1,0,0,-b,0,c,0,0,0,0,1)}function ed(a,b){var c=Math.cos(b);b=Math.sin(b);a.set(1,0,0,0,0,c,-b,0,0,b,c,0,0,0,0,1)}
function Rc(a,b,c){var d=b.elements,e=c.elements;c=a.elements;b=d[0];var f=d[4],g=d[8],k=d[12],l=d[1],m=d[5],n=d[9],q=d[13],p=d[2],t=d[6],r=d[10],u=d[14],v=d[3],z=d[7],w=d[11];d=d[15];var A=e[0],y=e[4],C=e[8],D=e[12],G=e[1],E=e[5],F=e[9],B=e[13],H=e[2],K=e[6],M=e[10],R=e[14],L=e[3],Q=e[7],O=e[11];e=e[15];c[0]=b*A+f*G+g*H+k*L;c[4]=b*y+f*E+g*K+k*Q;c[8]=b*C+f*F+g*M+k*O;c[12]=b*D+f*B+g*R+k*e;c[1]=l*A+m*G+n*H+q*L;c[5]=l*y+m*E+n*K+q*Q;c[9]=l*C+m*F+n*M+q*O;c[13]=l*D+m*B+n*R+q*e;c[2]=p*A+t*G+r*H+u*L;c[6]=
p*y+t*E+r*K+u*Q;c[10]=p*C+t*F+r*M+u*O;c[14]=p*D+t*B+r*R+u*e;c[3]=v*A+z*G+w*H+d*L;c[7]=v*y+z*E+w*K+d*Q;c[11]=v*C+z*F+w*M+d*O;c[15]=v*D+z*B+w*R+d*e;return a}function Xc(a,b){var c=a.elements,d=b.x,e=b.y,f=b.z,g=b.w,k=d+d,l=e+e,m=f+f;b=d*k;var n=d*l;d*=m;var q=e*l;e*=m;f*=m;k*=g;l*=g;g*=m;c[0]=1-(q+f);c[4]=n-g;c[8]=d+l;c[1]=n+g;c[5]=1-(b+f);c[9]=e-k;c[2]=d-l;c[6]=e+k;c[10]=1-(b+q);c[3]=0;c[7]=0;c[11]=0;c[12]=0;c[13]=0;c[14]=0;c[15]=1;return a}
V.Ray=function(a,b){this.origin=void 0!==a?a:new V.Vector3;this.direction=void 0!==b?b:new V.Vector3};
V.Ray.prototype={constructor:V.Ray,set:function(a,b){this.origin.copy(a);this.direction.copy(b);return this},clone:function(){return(new this.constructor).copy(this)},copy:function(a){this.origin.copy(a.origin);this.direction.copy(a.direction);return this},at:function(a,b){return(b||new V.Vector3).copy(this.direction).multiplyScalar(a).add(this.origin)},lookAt:function(a){this.direction.copy(a).sub(this.origin).normalize();return this},recast:function(){var a=new V.Vector3;return function(b){this.origin.copy(this.at(b,
a));return this}}(),closestPointToPoint:function(a,b){b=b||new V.Vector3;b.subVectors(a,this.origin);a=b.dot(this.direction);return 0>a?b.copy(this.origin):b.copy(this.direction).multiplyScalar(a).add(this.origin)},distanceToPoint:function(a){return Math.sqrt(this.distanceSqToPoint(a))},distanceSqToPoint:function(){var a=new V.Vector3;return function(b){var c=a.subVectors(b,this.origin).dot(this.direction);if(0>c)return this.origin.distanceToSquared(b);a.copy(this.direction).multiplyScalar(c).add(this.origin);
return a.distanceToSquared(b)}}(),distanceSqToSegment:function(){var a=new V.Vector3,b=new V.Vector3,c=new V.Vector3;return function(d,e,f,g){a.copy(d).add(e).multiplyScalar(.5);b.copy(e).sub(d).normalize();c.copy(this.origin).sub(a);var k=.5*d.distanceTo(e),l=-this.direction.dot(b),m=c.dot(this.direction),n=-c.dot(b),q=c.lengthSq(),p=Math.abs(1-l*l);if(0<p){d=l*n-m;e=l*m-n;var t=k*p;0<=d?e>=-t?e<=t?(k=1/p,d*=k,e*=k,l=d*(d+l*e+2*m)+e*(l*d+e+2*n)+q):(e=k,d=Math.max(0,-(l*e+m)),l=-d*d+e*(e+2*n)+q):
(e=-k,d=Math.max(0,-(l*e+m)),l=-d*d+e*(e+2*n)+q):e<=-t?(d=Math.max(0,-(-l*k+m)),e=0<d?-k:Math.min(Math.max(-k,-n),k),l=-d*d+e*(e+2*n)+q):e<=t?(d=0,e=Math.min(Math.max(-k,-n),k),l=e*(e+2*n)+q):(d=Math.max(0,-(l*k+m)),e=0<d?k:Math.min(Math.max(-k,-n),k),l=-d*d+e*(e+2*n)+q)}else e=0<l?-k:k,d=Math.max(0,-(l*e+m)),l=-d*d+e*(e+2*n)+q;f&&f.copy(this.direction).multiplyScalar(d).add(this.origin);g&&g.copy(b).multiplyScalar(e).add(a);return l}}(),intersectSphere:function(){var a=new V.Vector3;return function(b,
c){a.subVectors(b.center,this.origin);var d=a.dot(this.direction),e=a.dot(a)-d*d;b=b.radius*b.radius;if(e>b)return null;b=Math.sqrt(b-e);e=d-b;d+=b;return 0>e&&0>d?null:0>e?this.at(d,c):this.at(e,c)}}(),intersectsSphere:function(a){return this.distanceToPoint(a.center)<=a.radius},intersectPlane:function(a,b){var c=a.normal.dot(this.direction);0===c?a=0===a.distanceToPoint(this.origin)?0:null:(a=-(this.origin.dot(a.normal)+a.constant)/c,a=0<=a?a:null);return null===a?null:this.at(a,b)},intersectsPlane:function(a){var b=
a.distanceToPoint(this.origin);return 0===b||0>a.normal.dot(this.direction)*b?!0:!1},intersectsBox:function(){var a=new V.Vector3;return function(b){var c=1/this.direction.x;var d=1/this.direction.y;var e=1/this.direction.z,f=this.origin;if(0<=c){var g=(b.min.x-f.x)*c;c*=b.max.x-f.x}else g=(b.max.x-f.x)*c,c*=b.min.x-f.x;if(0<=d){var k=(b.min.y-f.y)*d;d*=b.max.y-f.y}else k=(b.max.y-f.y)*d,d*=b.min.y-f.y;if(g>d||k>c)g=null;else{if(k>g||g!==g)g=k;if(d<c||c!==c)c=d;0<=e?(k=(b.min.z-f.z)*e,b=(b.max.z-
f.z)*e):(k=(b.max.z-f.z)*e,b=(b.min.z-f.z)*e);if(g>b||k>c)g=null;else{if(k>g||g!==g)g=k;if(b<c||c!==c)c=b;g=0>c?null:this.at(0<=g?g:c,a)}}return null!==g}}(),intersectTriangle:function(){var a=new V.Vector3,b=new V.Vector3,c=new V.Vector3,d=new V.Vector3;return function(e,f,g,k,l){b.subVectors(f,e);c.subVectors(g,e);Mc(d,b,c);f=this.direction.dot(d);if(0<f){if(k)return null;k=1}else if(0>f)k=-1,f=-f;else return null;a.subVectors(this.origin,e);e=k*this.direction.dot(Mc(c,a,c));if(0>e)return null;
g=k*this.direction.dot(b.cross(a));if(0>g||e+g>f)return null;e=-k*a.dot(d);return 0>e?null:this.at(e/f,l)}}(),applyMatrix4:function(a){this.direction.add(this.origin).applyMatrix4(a);this.origin.applyMatrix4(a);this.direction.sub(this.origin);this.direction.normalize();return this},equals:function(a){return a.origin.equals(this.origin)&&a.direction.equals(this.direction)}};V.Sphere=function(a,b){this.center=void 0!==a?a:new V.Vector3;this.radius=void 0!==b?b:0};
V.Sphere.prototype={constructor:V.Sphere,set:function(a,b){this.center.copy(a);this.radius=b;return this},setFromPoints:function(){var a=new V.Box3;return function(b,c){var d=this.center;void 0!==c?d.copy(c):a.setFromPoints(b).center(d);for(var e=c=0,f=b.length;e<f;e++)c=Math.max(c,d.distanceToSquared(b[e]));this.radius=Math.sqrt(c);return this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(a){this.center.copy(a.center);this.radius=a.radius;return this},empty:function(){return 0>=
this.radius},containsPoint:function(a){return a.distanceToSquared(this.center)<=this.radius*this.radius},distanceToPoint:function(a){return a.distanceTo(this.center)-this.radius},intersectsSphere:function(a){var b=this.radius+a.radius;return a.center.distanceToSquared(this.center)<=b*b},intersectsBox:function(a){return a.intersectsSphere(this)},intersectsPlane:function(a){return Math.abs(this.center.dot(a.normal)-a.constant)<=this.radius},clampPoint:function(a,b){var c=this.center.distanceToSquared(a);
b=b||new V.Vector3;b.copy(a);c>this.radius*this.radius&&(b.sub(this.center).normalize(),b.multiplyScalar(this.radius).add(this.center));return b},getBoundingBox:function(a){a=a||new V.Box3;a.set(this.center,this.center);a.expandByScalar(this.radius);return a},applyMatrix4:function(a){this.center.applyMatrix4(a);a=a.elements;this.radius*=Math.sqrt(Math.max(a[0]*a[0]+a[1]*a[1]+a[2]*a[2],a[4]*a[4]+a[5]*a[5]+a[6]*a[6],a[8]*a[8]+a[9]*a[9]+a[10]*a[10]));return this},translate:function(a){this.center.add(a);
return this},equals:function(a){return a.center.equals(this.center)&&a.radius===this.radius}};V.Frustum=function(a,b,c,d,e,f){this.planes=[void 0!==a?a:new V.Plane,void 0!==b?b:new V.Plane,void 0!==c?c:new V.Plane,void 0!==d?d:new V.Plane,void 0!==e?e:new V.Plane,void 0!==f?f:new V.Plane]};
V.Frustum.prototype={constructor:V.Frustum,set:function(a,b,c,d,e,f){var g=this.planes;g[0].copy(a);g[1].copy(b);g[2].copy(c);g[3].copy(d);g[4].copy(e);g[5].copy(f);return this},clone:function(){return(new this.constructor).copy(this)},copy:function(a){for(var b=this.planes,c=0;6>c;c++)b[c].copy(a.planes[c]);return this},intersectsObject:function(){var a=new V.Sphere;return function(b){var c=b.geometry;null===c.boundingSphere&&c.computeBoundingSphere();a.copy(c.boundingSphere).applyMatrix4(b.matrixWorld);
return this.intersectsSphere(a)}}(),intersectsSprite:function(){var a=new V.Sphere;return function(b){a.center.set(0,0,0);a.radius=.7071067811865476;a.applyMatrix4(b.matrixWorld);return this.intersectsSphere(a)}}(),intersectsSphere:function(a){var b=this.planes,c=a.center;a=-a.radius;for(var d=0;6>d;d++)if(b[d].distanceToPoint(c)<a)return!1;return!0},intersectsBox:function(){var a=new V.Vector3,b=new V.Vector3;return function(c){for(var d=this.planes,e=0;6>e;e++){var f=d[e];a.x=0<f.normal.x?c.min.x:
c.max.x;b.x=0<f.normal.x?c.max.x:c.min.x;a.y=0<f.normal.y?c.min.y:c.max.y;b.y=0<f.normal.y?c.max.y:c.min.y;a.z=0<f.normal.z?c.min.z:c.max.z;b.z=0<f.normal.z?c.max.z:c.min.z;var g=f.distanceToPoint(a);f=f.distanceToPoint(b);if(0>g&&0>f)return!1}return!0}}(),containsPoint:function(a){for(var b=this.planes,c=0;6>c;c++)if(0>b[c].distanceToPoint(a))return!1;return!0}};
function fd(a,b){a=a.planes;var c=b.elements;b=c[0];var d=c[1],e=c[2],f=c[3],g=c[4],k=c[5],l=c[6],m=c[7],n=c[8],q=c[9],p=c[10],t=c[11],r=c[12],u=c[13],v=c[14];c=c[15];gd(a[0],f-b,m-g,t-n,c-r).normalize();gd(a[1],f+b,m+g,t+n,c+r).normalize();gd(a[2],f+d,m+k,t+q,c+u).normalize();gd(a[3],f-d,m-k,t-q,c-u).normalize();gd(a[4],f-e,m-l,t-p,c-v).normalize();gd(a[5],f+e,m+l,t+p,c+v).normalize()}V.Plane=function(a,b){this.normal=void 0!==a?a:new V.Vector3(1,0,0);this.constant=void 0!==b?b:0};
V.Plane.prototype={constructor:V.Plane,set:function(a,b){this.normal.copy(a);this.constant=b;return this},setFromCoplanarPoints:function(){var a=new V.Vector3,b=new V.Vector3;return function(c,d,e){d=a.subVectors(e,d).cross(b.subVectors(c,d)).normalize();this.normal.copy(d);this.constant=-c.dot(this.normal);return this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(a){this.normal.copy(a.normal);this.constant=a.constant;return this},normalize:function(){var a=1/this.normal.length();
this.normal.multiplyScalar(a);this.constant*=a;return this},negate:function(){this.constant*=-1;this.normal.negate();return this},distanceToPoint:function(a){return this.normal.dot(a)+this.constant},distanceToSphere:function(a){return this.distanceToPoint(a.center)-a.radius},intersectLine:function(){var a=new V.Vector3;return function(b,c){c=c||new V.Vector3;var d=Yc(b,a),e=this.normal.dot(d);if(0===e){if(0===this.distanceToPoint(b.start))return c.copy(b.start)}else if(e=-(b.start.dot(this.normal)+
this.constant)/e,!(0>e||1<e))return c.copy(d).multiplyScalar(e).add(b.start)}}(),intersectsBox:function(a){return a.intersectsPlane(this)},intersectsSphere:function(a){return a.intersectsPlane(this)},applyMatrix4:function(){var a=new V.Vector3,b=new V.Matrix3;return function(c,d){var e=(a||new V.Vector3).copy(this.normal).multiplyScalar(-this.constant).applyMatrix4(c);c=d||$c(b,c);c=Wc(this.normal,c).normalize();this.constant=-e.dot(c);return this}}(),translate:function(a){this.constant-=a.dot(this.normal);
return this},equals:function(a){return a.normal.equals(this.normal)&&a.constant===this.constant}};function gd(a,b,c,d,e){a.normal.set(b,c,d);a.constant=e;return a}V.Spherical=function(a,b,c){this.radius=void 0!==a?a:1;this.phi=void 0!==b?b:0;this.theta=void 0!==c?c:0;return this};
V.Spherical.prototype={constructor:V.Spherical,set:function(a,b,c){this.radius=a;this.phi=b;this.theta=c;return this},clone:function(){return(new this.constructor).copy(this)},copy:function(a){this.radius.copy(a.radius);this.phi.copy(a.phi);this.theta.copy(a.theta);return this},setFromVector3:function(a){this.radius=a.length();0===this.radius?this.phi=this.theta=0:(this.theta=Math.atan2(a.x,a.z),this.phi=Math.acos(V.Math.clamp(a.y/this.radius,-1,1)));return this}};
V.Math={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){var a="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),b=Array(36),c=0,d;return function(){for(var e=0;36>e;e++)8===e||13===e||18===e||23===e?b[e]="-":14===e?b[e]="4":(2>=c&&(c=33554432+16777216*Math.random()|0),d=c&15,c>>=4,b[e]=a[19===e?d&3|8:d]);return b.join("")}}(),clamp:function(a,b,c){return Math.max(b,Math.min(c,a))},euclideanModulo:function(a,b){return(a%b+b)%b},mapLinear:function(a,b,c,d,e){return d+
(a-b)*(e-d)/(c-b)},smoothstep:function(a,b,c){if(a<=b)return 0;if(a>=c)return 1;a=(a-b)/(c-b);return a*a*(3-2*a)},smootherstep:function(a,b,c){if(a<=b)return 0;if(a>=c)return 1;a=(a-b)/(c-b);return a*a*a*(a*(6*a-15)+10)},random16:function(){console.warn("THREE.Math.random16() has been deprecated. Use Math.random() instead.");return Math.random()},randInt:function(a,b){return a+Math.floor(Math.random()*(b-a+1))},randFloat:function(a,b){return a+Math.random()*(b-a)},randFloatSpread:function(a){return a*
(.5-Math.random())},degToRad:function(a){return a*V.Math.DEG2RAD},radToDeg:function(a){return a*V.Math.RAD2DEG},isPowerOfTwo:function(a){return 0===(a&a-1)&&0!==a},nearestPowerOfTwo:function(a){return Math.pow(2,Math.round(Math.log(a)/Math.LN2))},nextPowerOfTwo:function(a){a--;a|=a>>1;a|=a>>2;a|=a>>4;a|=a>>8;a|=a>>16;a++;return a}};
V.Spline=function(a){function b(a,b,c,d,e,f,g){a=.5*(c-a);d=.5*(d-b);return(2*(b-c)+a+d)*g+(-3*(b-c)-2*a-d)*f+a*e+b}this.points=a;var c=[],d={x:0,y:0,z:0},e,f,g,k,l,m,n,q,p;this.initFromArray=function(a){this.points=[];for(var b=0;b<a.length;b++)this.points[b]={x:a[b][0],y:a[b][1],z:a[b][2]}};this.getPoint=function(a){e=(this.points.length-1)*a;f=Math.floor(e);g=e-f;c[0]=0===f?f:f-1;c[1]=f;c[2]=f>this.points.length-2?this.points.length-1:f+1;c[3]=f>this.points.length-3?this.points.length-1:f+2;m=
this.points[c[0]];n=this.points[c[1]];q=this.points[c[2]];p=this.points[c[3]];k=g*g;l=g*k;d.x=b(m.x,n.x,q.x,p.x,g,k,l);d.y=b(m.y,n.y,q.y,p.y,g,k,l);d.z=b(m.z,n.z,q.z,p.z,g,k,l);return d};this.getControlPointsArray=function(){var a,b=this.points.length,c=[];for(a=0;a<b;a++){var d=this.points[a];c[a]=[d.x,d.y,d.z]}return c};this.getLength=function(a){var b=0,c=new V.Vector3,d=new V.Vector3,e=[],f=0;e[0]=0;a||(a=100);var g=this.points.length*a;c.copy(this.points[0]);for(a=1;a<g;a++){var k=a/g;var l=
this.getPoint(k);d.copy(l);f+=d.distanceTo(c);c.copy(l);k*=this.points.length-1;k=Math.floor(k);k!==b&&(e[k]=f,b=k)}e[e.length]=f;return{chunks:e,total:f}};this.reparametrizeByArcLength=function(a){var b,c=[],d=new V.Vector3,e=this.getLength();c.push(d.copy(this.points[0]).clone());for(b=1;b<this.points.length;b++){var f=e.chunks[b]-e.chunks[b-1];var g=Math.ceil(a*f/e.total);var k=(b-1)/(this.points.length-1);var l=b/(this.points.length-1);for(f=1;f<g-1;f++){var m=k+1/g*f*(l-k);m=this.getPoint(m);
c.push(d.copy(m).clone())}c.push(d.copy(this.points[b]).clone())}this.points=c}};V.Triangle=function(a,b,c){this.a=void 0!==a?a:new V.Vector3;this.b=void 0!==b?b:new V.Vector3;this.c=void 0!==c?c:new V.Vector3};V.Triangle.normal=function(){var a=new V.Vector3;return function(b,c,d,e){e=e||new V.Vector3;e.subVectors(d,c);a.subVectors(b,c);e.cross(a);b=e.lengthSq();return 0<b?e.multiplyScalar(1/Math.sqrt(b)):e.set(0,0,0)}}();
V.Triangle.barycoordFromPoint=function(){var a=new V.Vector3,b=new V.Vector3,c=new V.Vector3;return function(d,e,f,g,k){a.subVectors(g,e);b.subVectors(f,e);c.subVectors(d,e);d=a.dot(a);e=a.dot(b);f=a.dot(c);var l=b.dot(b);g=b.dot(c);var m=d*l-e*e;k=k||new V.Vector3;if(0===m)return k.set(-2,-1,-1);m=1/m;l=(l*f-e*g)*m;d=(d*g-e*f)*m;return k.set(1-l-d,d,l)}}();
V.Triangle.containsPoint=function(){var a=new V.Vector3;return function(b,c,d,e){b=V.Triangle.barycoordFromPoint(b,c,d,e,a);return 0<=b.x&&0<=b.y&&1>=b.x+b.y}}();
V.Triangle.prototype={constructor:V.Triangle,set:function(a,b,c){this.a.copy(a);this.b.copy(b);this.c.copy(c);return this},setFromPointsAndIndices:function(a,b,c,d){this.a.copy(a[b]);this.b.copy(a[c]);this.c.copy(a[d]);return this},clone:function(){return(new this.constructor).copy(this)},copy:function(a){this.a.copy(a.a);this.b.copy(a.b);this.c.copy(a.c);return this},area:function(){var a=new V.Vector3,b=new V.Vector3;return function(){a.subVectors(this.c,this.b);b.subVectors(this.a,this.b);return.5*
a.cross(b).length()}}(),midpoint:function(a){return(a||new V.Vector3).addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)},normal:function(a){return V.Triangle.normal(this.a,this.b,this.c,a)},plane:function(a){return(a||new V.Plane).setFromCoplanarPoints(this.a,this.b,this.c)},barycoordFromPoint:function(a,b){return V.Triangle.barycoordFromPoint(a,this.a,this.b,this.c,b)},containsPoint:function(a){return V.Triangle.containsPoint(a,this.a,this.b,this.c)},closestPointToPoint:function(){var a,
b,c,d;return function(e,f){void 0===a&&(a=new V.Plane,b=[new V.Line3,new V.Line3,new V.Line3],c=new V.Vector3,d=new V.Vector3);f=f||new V.Vector3;var g=Infinity;a.setFromCoplanarPoints(this.a,this.b,this.c);var k=a,l=c,m=k.distanceToPoint(e);(l||new V.Vector3).copy(k.normal).multiplyScalar(m).sub(e).negate();if(!0===this.containsPoint(c))f.copy(c);else for(b[0].set(this.a,this.b),b[1].set(this.b,this.c),b[2].set(this.c,this.a),e=0;e<b.length;e++)b[e].closestPointToPoint(c,!0,d),k=c.distanceToSquared(d),
k<g&&(g=k,f.copy(d));return f}}(),equals:function(a){return a.a.equals(this.a)&&a.b.equals(this.b)&&a.c.equals(this.c)}};V.Interpolant=function(a,b,c,d){this.parameterPositions=a;this._cachedIndex=0;this.resultBuffer=void 0!==d?d:new b.constructor(c);this.sampleValues=b;this.valueSize=c};
V.Interpolant.prototype={constructor:V.Interpolant,evaluate:function(a){var b=this.parameterPositions,c=this._cachedIndex,d=b[c],e=b[c-1];a:{b:{c:{d:if(!(a<d)){for(var f=c+2;;){if(void 0===d){if(a<e)break d;this._cachedIndex=c=b.length;return this.afterEnd_(c-1,a,e)}if(c===f)break;e=d;d=b[++c];if(a<d)break b}d=b.length;break c}if(a>=e)break a;else{f=b[1];a<f&&(c=2,e=f);for(f=c-2;;){if(void 0===e)return this._cachedIndex=0,this.beforeStart_(0,a,d);if(c===f)break;d=e;e=b[--c-1];if(a>=e)break b}d=c;
c=0}}for(;c<d;)e=c+d>>>1,a<b[e]?d=e:c=e+1;d=b[c];e=b[c-1];if(void 0===e)return this._cachedIndex=0,this.beforeStart_(0,a,d);if(void 0===d)return this._cachedIndex=c=b.length,this.afterEnd_(c-1,e,a)}this._cachedIndex=c;this.intervalChanged_(c,e,d)}return this.interpolate_(c,e,a,d)},settings:null,DefaultSettings_:{},copySampleValue_:function(a){var b=this.resultBuffer,c=this.sampleValues,d=this.valueSize;a*=d;for(var e=0;e!==d;++e)b[e]=c[a+e];return b},interpolate_:function(){throw Error("call to abstract method");
},intervalChanged_:function(){}};Object.assign(V.Interpolant.prototype,{beforeStart_:V.Interpolant.prototype.copySampleValue_,afterEnd_:V.Interpolant.prototype.copySampleValue_});V.CubicInterpolant=function(a,b,c,d){V.Interpolant.call(this,a,b,c,d);this._offsetNext=this._weightNext=this._offsetPrev=this._weightPrev=-0};
V.CubicInterpolant.prototype=Object.assign(Object.create(V.Interpolant.prototype),{constructor:V.CubicInterpolant,DefaultSettings_:{endingStart:V.ZeroCurvatureEnding,endingEnd:V.ZeroCurvatureEnding},intervalChanged_:function(a,b,c){var d=this.parameterPositions,e=a-2,f=a+1,g=d[e],k=d[f];if(void 0===g)switch((this.settings||this.DefaultSettings_).endingStart){case V.ZeroSlopeEnding:e=a;g=2*b-c;break;case V.WrapAroundEnding:e=d.length-2;g=b+d[e]-d[e+1];break;default:e=a,g=c}if(void 0===k)switch((this.settings||
this.DefaultSettings_).endingEnd){case V.ZeroSlopeEnding:f=a;k=2*c-b;break;case V.WrapAroundEnding:f=1;k=c+d[1]-d[0];break;default:f=a-1,k=b}a=.5*(c-b);d=this.valueSize;this._weightPrev=a/(b-g);this._weightNext=a/(k-c);this._offsetPrev=e*d;this._offsetNext=f*d},interpolate_:function(a,b,c,d){var e=this.resultBuffer,f=this.sampleValues,g=this.valueSize;a*=g;var k=a-g,l=this._offsetPrev,m=this._offsetNext,n=this._weightPrev,q=this._weightNext,p=(c-b)/(d-b);c=p*p;d=c*p;b=-n*d+2*n*c-n*p;n=(1+n)*d+(-1.5-
2*n)*c+(-.5+n)*p+1;p=(-1-q)*d+(1.5+q)*c+.5*p;q=q*d-q*c;for(c=0;c!==g;++c)e[c]=b*f[l+c]+n*f[k+c]+p*f[a+c]+q*f[m+c];return e}});V.DiscreteInterpolant=function(a,b,c,d){V.Interpolant.call(this,a,b,c,d)};V.DiscreteInterpolant.prototype=Object.assign(Object.create(V.Interpolant.prototype),{constructor:V.DiscreteInterpolant,interpolate_:function(a){return this.copySampleValue_(a-1)}});V.LinearInterpolant=function(a,b,c,d){V.Interpolant.call(this,a,b,c,d)};
V.LinearInterpolant.prototype=Object.assign(Object.create(V.Interpolant.prototype),{constructor:V.LinearInterpolant,interpolate_:function(a,b,c,d){var e=this.resultBuffer,f=this.sampleValues,g=this.valueSize;a*=g;var k=a-g;b=(c-b)/(d-b);c=1-b;for(d=0;d!==g;++d)e[d]=f[k+d]*c+f[a+d]*b;return e}});V.QuaternionLinearInterpolant=function(a,b,c,d){V.Interpolant.call(this,a,b,c,d)};
V.QuaternionLinearInterpolant.prototype=Object.assign(Object.create(V.Interpolant.prototype),{constructor:V.QuaternionLinearInterpolant,interpolate_:function(a,b,c,d){var e=this.resultBuffer,f=this.sampleValues,g=this.valueSize;a*=g;b=(c-b)/(d-b);for(c=a+g;a!==c;a+=4)V.Quaternion.slerpFlat(e,0,f,a-g,f,a,b);return e}});V.Clock=function(a){this.autoStart=void 0!==a?a:!0;this.elapsedTime=this.oldTime=this.startTime=0;this.running=!1};
V.Clock.prototype={constructor:V.Clock,start:function(){this.oldTime=this.startTime=(performance||Date).now();this.running=!0},stop:function(){this.autoStart&&!this.running&&this.start();if(this.running){var a=(performance||Date).now();var b=(a-this.oldTime)/1E3;this.oldTime=a;this.elapsedTime+=b}this.running=!1}};V.EventDispatcher=function(){};
Object.assign(V.EventDispatcher.prototype,{addEventListener:function(a,b){void 0===this._listeners&&(this._listeners={});var c=this._listeners;void 0===c[a]&&(c[a]=[]);-1===c[a].indexOf(b)&&c[a].push(b)},hasEventListener:function(a,b){if(void 0===this._listeners)return!1;var c=this._listeners;return void 0!==c[a]&&-1!==c[a].indexOf(b)?!0:!1},removeEventListener:function(a,b){void 0!==this._listeners&&(a=this._listeners[a],void 0!==a&&(b=a.indexOf(b),-1!==b&&a.splice(b,1)))},dispatchEvent:function(a){if(void 0!==
this._listeners){var b=this._listeners[a.type];if(void 0!==b){a.target=this;var c=[],d,e=b.length;for(d=0;d<e;d++)c[d]=b[d];for(d=0;d<e;d++)c[d].call(this,a)}}}});V.Layers=function(){this.mask=1};V.Layers.prototype={constructor:V.Layers,set:function(a){this.mask=1<<a},enable:function(a){this.mask|=1<<a},toggle:function(a){this.mask^=1<<a},disable:function(a){this.mask&=~(1<<a)},test:function(a){return 0!==(this.mask&a.mask)}};
(function(a){function b(a,b){return a.distance-b.distance}function c(a,b,f,g){if(!1!==a.visible&&(a.raycast(b,f),!0===g)){a=a.children;g=0;for(var d=a.length;g<d;g++)c(a[g],b,f,!0)}}a.Raycaster=function(b,c,f,g){this.ray=new a.Ray(b,c);this.near=f||0;this.far=g||Infinity;this.params={Mesh:{},Line:{},LOD:{},Points:{threshold:1},Sprite:{}};Object.defineProperties(this.params,{PointCloud:{get:function(){console.warn("THREE.Raycaster: params.PointCloud has been renamed to params.Points.");return this.Points}}})};
a.Raycaster.prototype={constructor:a.Raycaster,linePrecision:1,set:function(a,b){this.ray.set(a,b)},setFromCamera:function(b,c){c instanceof a.PerspectiveCamera?(Uc(this.ray.origin,c.matrixWorld),this.ray.direction.set(b.x,b.y,.5).unproject(c).sub(this.ray.origin).normalize()):c instanceof a.OrthographicCamera?(this.ray.origin.set(b.x,b.y,-1).unproject(c),Vc(this.ray.direction.set(0,0,-1),c.matrixWorld)):console.error("THREE.Raycaster: Unsupported camera type.")},intersectObject:function(a,e){var d=
[];c(a,this,d,e);d.sort(b);return d},intersectObjects:function(a,e){var d=[];if(!1===Array.isArray(a))return console.warn("THREE.Raycaster.intersectObjects: objects is not an Array."),d;for(var g=0,k=a.length;g<k;g++)c(a[g],this,d,e);d.sort(b);return d}}})(V);
V.Object3D=function(){Object.defineProperty(this,"id",{value:V.Object3DIdCount++});this.uuid=V.Math.generateUUID();this.name="";this.type="Object3D";this.parent=null;this.children=[];this.up=V.Object3D.DefaultUp.clone();var a=new V.Vector3,b=new V.Euler,c=new V.Quaternion,d=new V.Vector3(1,1,1);b.onChange(function(){Pc(c,b,!1)});c.onChange(function(){b.setFromQuaternion(c,void 0,!1)});Object.defineProperties(this,{position:{enumerable:!0,value:a},rotation:{enumerable:!0,value:b},quaternion:{enumerable:!0,
value:c},scale:{enumerable:!0,value:d},modelViewMatrix:{value:new V.Matrix4},normalMatrix:{value:new V.Matrix3}});this.matrix=new V.Matrix4;this.matrixWorld=new V.Matrix4;this.matrixAutoUpdate=V.Object3D.DefaultMatrixAutoUpdate;this.matrixWorldNeedsUpdate=!1;this.layers=new V.Layers;this.visible=!0;this.receiveShadow=this.castShadow=!1;this.frustumCulled=!0;this.renderOrder=0;this.userData={}};V.Object3D.DefaultUp=new V.Vector3(0,1,0);V.Object3D.DefaultMatrixAutoUpdate=!0;
Object.assign(V.Object3D.prototype,V.EventDispatcher.prototype,{applyMatrix:function(a){Rc(this.matrix,a,this.matrix);this.matrix.decompose(this.position,this.quaternion,this.scale)},setRotationFromAxisAngle:function(a,b){Oc(this.quaternion,a,b)},setRotationFromEuler:function(a){Pc(this.quaternion,a,!0)},setRotationFromMatrix:function(a){this.quaternion.setFromRotationMatrix(a)},setRotationFromQuaternion:function(a){this.quaternion.copy(a)},rotateOnAxis:function(){var a=new V.Quaternion;return function(b,
c){Oc(a,b,c);this.quaternion.multiply(a);return this}}(),rotateX:function(){var a=new V.Vector3(1,0,0);return function(b){return this.rotateOnAxis(a,b)}}(),rotateY:function(){var a=new V.Vector3(0,1,0);return function(b){return this.rotateOnAxis(a,b)}}(),rotateZ:function(){var a=new V.Vector3(0,0,1);return function(b){return this.rotateOnAxis(a,b)}}(),translateOnAxis:function(){var a=new V.Vector3;return function(b,c){Qc(a.copy(b),this.quaternion);this.position.add(a.multiplyScalar(c));return this}}(),
translateX:function(){var a=new V.Vector3(1,0,0);return function(b){return this.translateOnAxis(a,b)}}(),translateY:function(){var a=new V.Vector3(0,1,0);return function(b){return this.translateOnAxis(a,b)}}(),translateZ:function(){var a=new V.Vector3(0,0,1);return function(b){return this.translateOnAxis(a,b)}}(),localToWorld:function(a){return a.applyMatrix4(this.matrixWorld)},worldToLocal:function(){var a=new V.Matrix4;return function(b){return b.applyMatrix4(a.getInverse(this.matrixWorld))}}(),
lookAt:function(){var a=new V.Matrix4;return function(b){a.lookAt(b,this.position,this.up);this.quaternion.setFromRotationMatrix(a)}}(),add:function(a){if(1<arguments.length){for(var b=0;b<arguments.length;b++)this.add(arguments[b]);return this}if(a===this)return console.error("THREE.Object3D.add: object can't be added as a child of itself.",a),this;a instanceof V.Object3D?(null!==a.parent&&a.parent.remove(a),a.parent=this,a.dispatchEvent({type:"added"}),this.children.push(a)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",
a);return this},remove:function(a){if(1<arguments.length)for(var b=0;b<arguments.length;b++)this.remove(arguments[b]);b=this.children.indexOf(a);-1!==b&&(a.parent=null,a.dispatchEvent({type:"removed"}),this.children.splice(b,1))},getObjectById:function(a){return this.getObjectByProperty("id",a)},getObjectByName:function(a){return this.getObjectByProperty("name",a)},getObjectByProperty:function(a,b){if(this[a]===b)return this;for(var c=0,d=this.children.length;c<d;c++){var e=this.children[c].getObjectByProperty(a,
b);if(void 0!==e)return e}},getWorldPosition:function(a){a=a||new V.Vector3;this.updateMatrixWorld(!0);return Uc(a,this.matrixWorld)},getWorldQuaternion:function(){var a=new V.Vector3,b=new V.Vector3;return function(c){c=c||new V.Quaternion;this.updateMatrixWorld(!0);this.matrixWorld.decompose(a,c,b);return c}}(),getWorldRotation:function(){var a=new V.Quaternion;return function(b){b=b||new V.Euler;this.getWorldQuaternion(a);return b.setFromQuaternion(a,this.rotation.order,!1)}}(),getWorldScale:function(){var a=
new V.Vector3,b=new V.Quaternion;return function(c){c=c||new V.Vector3;this.updateMatrixWorld(!0);this.matrixWorld.decompose(a,b,c);return c}}(),getWorldDirection:function(){var a=new V.Quaternion;return function(b){b=b||new V.Vector3;this.getWorldQuaternion(a);return Qc(b.set(0,0,1),a)}}(),raycast:function(){},traverse:function(a){a(this);for(var b=this.children,c=0,d=b.length;c<d;c++)b[c].traverse(a)},traverseVisible:function(a){if(!1!==this.visible){a(this);for(var b=this.children,c=0,d=b.length;c<
d;c++)b[c].traverseVisible(a)}},traverseAncestors:function(a){var b=this.parent;null!==b&&(a(b),b.traverseAncestors(a))},updateMatrix:function(){var a=this.matrix,b=this.position,c=this.scale;Xc(a,this.quaternion);a.scale(c);a.setPosition(b);this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(a){!0===this.matrixAutoUpdate&&this.updateMatrix();if(!0===this.matrixWorldNeedsUpdate||!0===a)null===this.parent?this.matrixWorld.copy(this.matrix):Rc(this.matrixWorld,this.parent.matrixWorld,this.matrix),
this.matrixWorldNeedsUpdate=!1,a=!0;for(var b=0,c=this.children.length;b<c;b++)this.children[b].updateMatrixWorld(a)},toJSON:function(a){function b(a){var b=[],c;for(c in a){var d=a[c];delete d.metadata;b.push(d)}return b}var c=void 0===a||""===a,d={};c&&(a={geometries:{},materials:{},textures:{},images:{}},d.metadata={version:4.4,type:"Object",generator:"Object3D.toJSON"});var e={};e.uuid=this.uuid;e.type=this.type;""!==this.name&&(e.name=this.name);"{}"!==JSON.stringify(this.userData)&&(e.userData=
this.userData);!0===this.castShadow&&(e.castShadow=!0);!0===this.receiveShadow&&(e.receiveShadow=!0);!1===this.visible&&(e.visible=!1);e.matrix=this.matrix.toArray();void 0!==this.geometry&&(void 0===a.geometries[this.geometry.uuid]&&(a.geometries[this.geometry.uuid]=this.geometry.toJSON(a)),e.geometry=this.geometry.uuid);void 0!==this.material&&(void 0===a.materials[this.material.uuid]&&(a.materials[this.material.uuid]=this.material.toJSON(a)),e.material=this.material.uuid);if(0<this.children.length){e.children=
[];for(var f=0;f<this.children.length;f++)e.children.push(this.children[f].toJSON(a).object)}if(c){c=b(a.geometries);f=b(a.materials);var g=b(a.textures);a=b(a.images);0<c.length&&(d.geometries=c);0<f.length&&(d.materials=f);0<g.length&&(d.textures=g);0<a.length&&(d.images=a)}d.object=e;return d},clone:function(a){return(new this.constructor).copy(this,a)},copy:function(a,b){void 0===b&&(b=!0);this.name=a.name;this.up.copy(a.up);this.position.copy(a.position);this.quaternion.copy(a.quaternion);this.scale.copy(a.scale);
this.matrix.copy(a.matrix);this.matrixWorld.copy(a.matrixWorld);this.matrixAutoUpdate=a.matrixAutoUpdate;this.matrixWorldNeedsUpdate=a.matrixWorldNeedsUpdate;this.visible=a.visible;this.castShadow=a.castShadow;this.receiveShadow=a.receiveShadow;this.frustumCulled=a.frustumCulled;this.renderOrder=a.renderOrder;this.userData=JSON.parse(JSON.stringify(a.userData));if(!0===b)for(b=0;b<a.children.length;b++)this.add(a.children[b].clone());return this}});V.Object3DIdCount=0;
V.Face3=function(a,b,c,d,e,f){this.a=a;this.b=b;this.c=c;this.normal=d instanceof V.Vector3?d:new V.Vector3;this.vertexNormals=Array.isArray(d)?d:[];this.color=e instanceof V.Color?e:new V.Color;this.vertexColors=Array.isArray(e)?e:[];this.materialIndex=void 0!==f?f:0};
V.Face3.prototype={constructor:V.Face3,clone:function(){return(new this.constructor).copy(this)},copy:function(a){this.a=a.a;this.b=a.b;this.c=a.c;this.normal.copy(a.normal);this.color.copy(a.color);this.materialIndex=a.materialIndex;for(var b=0,c=a.vertexNormals.length;b<c;b++)this.vertexNormals[b]=a.vertexNormals[b].clone();b=0;for(c=a.vertexColors.length;b<c;b++)this.vertexColors[b]=a.vertexColors[b].clone();return this}};
V.BufferAttribute=function(a,b,c){this.uuid=V.Math.generateUUID();this.array=a;this.itemSize=b;this.dynamic=!1;this.updateRange={offset:0,count:-1};this.version=0;this.normalized=!0===c};
V.BufferAttribute.prototype={constructor:V.BufferAttribute,get count(){return this.array.length/this.itemSize},set needsUpdate(a){!0===a&&this.version++},setDynamic:function(a){this.dynamic=a;return this},copy:function(a){this.array=new a.array.constructor(a.array);this.itemSize=a.itemSize;this.dynamic=a.dynamic;return this},copyAt:function(a,b,c){a*=this.itemSize;c*=b.itemSize;for(var d=0,e=this.itemSize;d<e;d++)this.array[a+d]=b.array[c+d];return this},set:function(a,b){void 0===b&&(b=0);this.array.set(a,
b);return this},getX:function(a){return this.array[a*this.itemSize]},setX:function(a,b){this.array[a*this.itemSize]=b;return this},getY:function(a){return this.array[a*this.itemSize+1]},setY:function(a,b){this.array[a*this.itemSize+1]=b;return this},getZ:function(a){return this.array[a*this.itemSize+2]},setZ:function(a,b){this.array[a*this.itemSize+2]=b;return this},getW:function(a){return this.array[a*this.itemSize+3]},setW:function(a,b){this.array[a*this.itemSize+3]=b;return this},setXY:function(a,
b,c){a*=this.itemSize;this.array[a+0]=b;this.array[a+1]=c;return this},setXYZ:function(a,b,c,d){a*=this.itemSize;this.array[a+0]=b;this.array[a+1]=c;this.array[a+2]=d;return this},setXYZW:function(a,b,c,d,e){a*=this.itemSize;this.array[a+0]=b;this.array[a+1]=c;this.array[a+2]=d;this.array[a+3]=e;return this},clone:function(){return(new this.constructor).copy(this)}};
function hd(a,b){for(var c=a.array,d=0,e=0,f=b.length;e<f;e++){var g=b[e];void 0===g&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",e),g=new V.Vector4);c[d++]=g.x;c[d++]=g.y;c[d++]=g.z;c[d++]=g.w}return a}function id(a,b){for(var c=a.array,d=0,e=0,f=b.length;e<f;e++){var g=b[e];void 0===g&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",e),g=new V.Vector3);c[d++]=g.x;c[d++]=g.y;c[d++]=g.z}return a}
function jd(a,b){for(var c=a.array,d=0,e=0,f=b.length;e<f;e++){var g=b[e];void 0===g&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",e),g=new V.Vector2);c[d++]=g.x;c[d++]=g.y}return a}function kd(a,b){for(var c=a.array,d=0,e=0,f=b.length;e<f;e++){var g=b[e];c[d++]=g.a;c[d++]=g.b;c[d++]=g.c}return a}
function ld(a,b){for(var c=a.array,d=0,e=0,f=b.length;e<f;e++){var g=b[e];void 0===g&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",e),g=new V.Color);c[d++]=g.r;c[d++]=g.g;c[d++]=g.b}return a}function md(a,b){a.array.set(b);return a}V.Int8Attribute=function(a,b){return new V.BufferAttribute(new Int8Array(a),b)};V.Uint8Attribute=function(a,b){return new V.BufferAttribute(new Uint8Array(a),b)};
V.Uint8ClampedAttribute=function(a,b){return new V.BufferAttribute(new Uint8ClampedArray(a),b)};V.Int16Attribute=function(a,b){return new V.BufferAttribute(new Int16Array(a),b)};V.Uint16Attribute=function(a,b){return new V.BufferAttribute(new Uint16Array(a),b)};V.Int32Attribute=function(a,b){return new V.BufferAttribute(new Int32Array(a),b)};V.Uint32Attribute=function(a,b){return new V.BufferAttribute(new Uint32Array(a),b)};
V.Float32Attribute=function(a,b){return new V.BufferAttribute(new Float32Array(a),b)};V.Float64Attribute=function(a,b){return new V.BufferAttribute(new Float64Array(a),b)};V.DynamicBufferAttribute=function(a,b){console.warn("THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setDynamic( true ) instead.");return(new V.BufferAttribute(a,b)).setDynamic(!0)};V.InstancedBufferAttribute=function(a,b,c){V.BufferAttribute.call(this,a,b);this.meshPerAttribute=c||1};
V.InstancedBufferAttribute.prototype=Object.create(V.BufferAttribute.prototype);V.InstancedBufferAttribute.prototype.constructor=V.InstancedBufferAttribute;V.InstancedBufferAttribute.prototype.copy=function(a){V.BufferAttribute.prototype.copy.call(this,a);this.meshPerAttribute=a.meshPerAttribute;return this};V.InterleavedBuffer=function(a,b){this.uuid=V.Math.generateUUID();this.array=a;this.stride=b;this.dynamic=!1;this.updateRange={offset:0,count:-1};this.version=0};
V.InterleavedBuffer.prototype={constructor:V.InterleavedBuffer,get length(){return this.array.length},get count(){return this.array.length/this.stride},set needsUpdate(a){!0===a&&this.version++},setDynamic:function(a){this.dynamic=a;return this},copy:function(a){this.array=new a.array.constructor(a.array);this.stride=a.stride;this.dynamic=a.dynamic;return this},copyAt:function(a,b,c){a*=this.stride;c*=b.stride;for(var d=0,e=this.stride;d<e;d++)this.array[a+d]=b.array[c+d];return this},set:function(a,
b){void 0===b&&(b=0);this.array.set(a,b);return this},clone:function(){return(new this.constructor).copy(this)}};V.InstancedInterleavedBuffer=function(a,b,c){V.InterleavedBuffer.call(this,a,b);this.meshPerAttribute=c||1};V.InstancedInterleavedBuffer.prototype=Object.create(V.InterleavedBuffer.prototype);V.InstancedInterleavedBuffer.prototype.constructor=V.InstancedInterleavedBuffer;
V.InstancedInterleavedBuffer.prototype.copy=function(a){V.InterleavedBuffer.prototype.copy.call(this,a);this.meshPerAttribute=a.meshPerAttribute;return this};V.InterleavedBufferAttribute=function(a,b,c){this.uuid=V.Math.generateUUID();this.data=a;this.itemSize=b;this.offset=c};
V.InterleavedBufferAttribute.prototype={constructor:V.InterleavedBufferAttribute,get length(){console.warn("THREE.BufferAttribute: .length has been deprecated. Please use .count.");return this.array.length},get count(){return this.data.count},setX:function(a,b){this.data.array[a*this.data.stride+this.offset]=b;return this},setY:function(a,b){this.data.array[a*this.data.stride+this.offset+1]=b;return this},setZ:function(a,b){this.data.array[a*this.data.stride+this.offset+2]=b;return this},setW:function(a,
b){this.data.array[a*this.data.stride+this.offset+3]=b;return this},getX:function(a){return this.data.array[a*this.data.stride+this.offset]},getY:function(a){return this.data.array[a*this.data.stride+this.offset+1]},getZ:function(a){return this.data.array[a*this.data.stride+this.offset+2]},getW:function(a){return this.data.array[a*this.data.stride+this.offset+3]},setXY:function(a,b,c){a=a*this.data.stride+this.offset;this.data.array[a+0]=b;this.data.array[a+1]=c;return this},setXYZ:function(a,b,c,
d){a=a*this.data.stride+this.offset;this.data.array[a+0]=b;this.data.array[a+1]=c;this.data.array[a+2]=d;return this},setXYZW:function(a,b,c,d,e){a=a*this.data.stride+this.offset;this.data.array[a+0]=b;this.data.array[a+1]=c;this.data.array[a+2]=d;this.data.array[a+3]=e;return this}};
V.Geometry=function(){Object.defineProperty(this,"id",{value:V.GeometryIdCount++});this.uuid=V.Math.generateUUID();this.name="";this.type="Geometry";this.vertices=[];this.colors=[];this.faces=[];this.faceVertexUvs=[[]];this.morphTargets=[];this.morphNormals=[];this.skinWeights=[];this.skinIndices=[];this.lineDistances=[];this.boundingSphere=this.boundingBox=null;this.groupsNeedUpdate=this.lineDistancesNeedUpdate=this.colorsNeedUpdate=this.normalsNeedUpdate=this.uvsNeedUpdate=this.elementsNeedUpdate=
this.verticesNeedUpdate=!1};
Object.assign(V.Geometry.prototype,V.EventDispatcher.prototype,{applyMatrix:function(a){for(var b=$c(new V.Matrix3,a),c=0,d=this.vertices.length;c<d;c++)this.vertices[c].applyMatrix4(a);c=0;for(d=this.faces.length;c<d;c++){a=this.faces[c];Wc(a.normal,b).normalize();for(var e=0,f=a.vertexNormals.length;e<f;e++)Wc(a.vertexNormals[e],b).normalize()}null!==this.boundingBox&&this.computeBoundingBox();null!==this.boundingSphere&&this.computeBoundingSphere();this.normalsNeedUpdate=this.verticesNeedUpdate=
!0;return this},rotateX:function(){var a;return function(b){void 0===a&&(a=new V.Matrix4);ed(a,b);this.applyMatrix(a);return this}}(),rotateY:function(){var a;return function(b){void 0===a&&(a=new V.Matrix4);dd(a,b);this.applyMatrix(a);return this}}(),rotateZ:function(){var a;return function(b){void 0===a&&(a=new V.Matrix4);cd(a,b);this.applyMatrix(a);return this}}(),translate:function(){var a;return function(b,c,d){void 0===a&&(a=new V.Matrix4);a.set(1,0,0,b,0,1,0,c,0,0,1,d,0,0,0,1);this.applyMatrix(a);
return this}}(),scale:function(){var a;return function(b,c,d){void 0===a&&(a=new V.Matrix4);a.set(b,0,0,0,0,c,0,0,0,0,d,0,0,0,0,1);this.applyMatrix(a);return this}}(),lookAt:function(){var a;return function(b){void 0===a&&(a=new V.Object3D);a.lookAt(b);a.updateMatrix();this.applyMatrix(a.matrix)}}(),fromBufferGeometry:function(a){function b(a,b,d,e){var f=void 0!==g?[n[a].clone(),n[b].clone(),n[d].clone()]:[],r=void 0!==k?[c.colors[a].clone(),c.colors[b].clone(),c.colors[d].clone()]:[];e=new V.Face3(a,
b,d,f,r,e);c.faces.push(e);void 0!==l&&c.faceVertexUvs[0].push([q[a].clone(),q[b].clone(),q[d].clone()]);void 0!==m&&c.faceVertexUvs[1].push([p[a].clone(),p[b].clone(),p[d].clone()])}var c=this,d=null!==a.index?a.index.array:void 0,e=a.attributes,f=e.position.array,g=void 0!==e.normal?e.normal.array:void 0,k=void 0!==e.color?e.color.array:void 0,l=void 0!==e.uv?e.uv.array:void 0,m=void 0!==e.uv2?e.uv2.array:void 0;void 0!==m&&(this.faceVertexUvs[1]=[]);for(var n=[],q=[],p=[],t=e=0;e<f.length;e+=3,
t+=2)c.vertices.push(new V.Vector3(f[e],f[e+1],f[e+2])),void 0!==g&&n.push(new V.Vector3(g[e],g[e+1],g[e+2])),void 0!==k&&c.colors.push(new V.Color(k[e],k[e+1],k[e+2])),void 0!==l&&q.push(new V.Vector2(l[t],l[t+1])),void 0!==m&&p.push(new V.Vector2(m[t],m[t+1]));if(void 0!==d)if(f=a.groups,0<f.length)for(e=0;e<f.length;e++){var r=f[e],u=r.start,v=r.count;t=u;for(u+=v;t<u;t+=3)b(d[t],d[t+1],d[t+2],r.materialIndex)}else for(e=0;e<d.length;e+=3)b(d[e],d[e+1],d[e+2]);else for(e=0;e<f.length/3;e+=3)b(e,
e+1,e+2);this.computeFaceNormals();null!==a.boundingBox&&(this.boundingBox=a.boundingBox.clone());null!==a.boundingSphere&&(this.boundingSphere=a.boundingSphere.clone());return this},center:function(){this.computeBoundingBox();var a=this.boundingBox.center().negate();this.translate(a.x,a.y,a.z);return a},normalize:function(){this.computeBoundingSphere();var a=this.boundingSphere.center,b=this.boundingSphere.radius;b=0===b?1:1/b;var c=new V.Matrix4;c.set(b,0,0,-b*a.x,0,b,0,-b*a.y,0,0,b,-b*a.z,0,0,
0,1);this.applyMatrix(c);return this},computeFaceNormals:function(){for(var a=new V.Vector3,b=new V.Vector3,c=0,d=this.faces.length;c<d;c++){var e=this.faces[c],f=this.vertices[e.a],g=this.vertices[e.b];a.subVectors(this.vertices[e.c],g);b.subVectors(f,g);a.cross(b);a.normalize();e.normal.copy(a)}},computeVertexNormals:function(a){void 0===a&&(a=!0);var b;var c=Array(this.vertices.length);var d=0;for(b=this.vertices.length;d<b;d++)c[d]=new V.Vector3;if(a){var e=new V.Vector3,f=new V.Vector3;a=0;for(d=
this.faces.length;a<d;a++){b=this.faces[a];var g=this.vertices[b.a];var k=this.vertices[b.b];var l=this.vertices[b.c];e.subVectors(l,k);f.subVectors(g,k);e.cross(f);c[b.a].add(e);c[b.b].add(e);c[b.c].add(e)}}else for(a=0,d=this.faces.length;a<d;a++)b=this.faces[a],c[b.a].add(b.normal),c[b.b].add(b.normal),c[b.c].add(b.normal);d=0;for(b=this.vertices.length;d<b;d++)c[d].normalize();a=0;for(d=this.faces.length;a<d;a++)b=this.faces[a],g=b.vertexNormals,3===g.length?(g[0].copy(c[b.a]),g[1].copy(c[b.b]),
g[2].copy(c[b.c])):(g[0]=c[b.a].clone(),g[1]=c[b.b].clone(),g[2]=c[b.c].clone());0<this.faces.length&&(this.normalsNeedUpdate=!0)},computeMorphNormals:function(){var a,b;var c=0;for(b=this.faces.length;c<b;c++){var d=this.faces[c];d.__originalFaceNormal?d.__originalFaceNormal.copy(d.normal):d.__originalFaceNormal=d.normal.clone();d.__originalVertexNormals||(d.__originalVertexNormals=[]);var e=0;for(a=d.vertexNormals.length;e<a;e++)d.__originalVertexNormals[e]?d.__originalVertexNormals[e].copy(d.vertexNormals[e]):
d.__originalVertexNormals[e]=d.vertexNormals[e].clone()}var f=new V.Geometry;f.faces=this.faces;e=0;for(a=this.morphTargets.length;e<a;e++){if(!this.morphNormals[e]){this.morphNormals[e]={};this.morphNormals[e].faceNormals=[];this.morphNormals[e].vertexNormals=[];d=this.morphNormals[e].faceNormals;var g=this.morphNormals[e].vertexNormals;c=0;for(b=this.faces.length;c<b;c++){var k=new V.Vector3;var l={a:new V.Vector3,b:new V.Vector3,c:new V.Vector3};d.push(k);g.push(l)}}g=this.morphNormals[e];f.vertices=
this.morphTargets[e].vertices;f.computeFaceNormals();f.computeVertexNormals();c=0;for(b=this.faces.length;c<b;c++)d=this.faces[c],k=g.faceNormals[c],l=g.vertexNormals[c],k.copy(d.normal),l.a.copy(d.vertexNormals[0]),l.b.copy(d.vertexNormals[1]),l.c.copy(d.vertexNormals[2])}c=0;for(b=this.faces.length;c<b;c++)d=this.faces[c],d.normal=d.__originalFaceNormal,d.vertexNormals=d.__originalVertexNormals},computeTangents:function(){console.warn("THREE.Geometry: .computeTangents() has been removed.")},computeLineDistances:function(){for(var a=
0,b=this.vertices,c=0,d=b.length;c<d;c++)0<c&&(a+=b[c].distanceTo(b[c-1])),this.lineDistances[c]=a},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new V.Box3);this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new V.Sphere);this.boundingSphere.setFromPoints(this.vertices)},merge:function(a,b,c){if(!1===a instanceof V.Geometry)console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.",
a);else{var d,e=this.vertices.length,f=this.vertices,g=a.vertices,k=this.faces,l=a.faces,m=this.faceVertexUvs[0];a=a.faceVertexUvs[0];void 0===c&&(c=0);void 0!==b&&(d=$c(new V.Matrix3,b));for(var n=0,q=g.length;n<q;n++){var p=g[n].clone();void 0!==b&&p.applyMatrix4(b);f.push(p)}n=0;for(q=l.length;n<q;n++){g=l[n];var t=g.vertexNormals,r=g.vertexColors;p=new V.Face3(g.a+e,g.b+e,g.c+e);p.normal.copy(g.normal);void 0!==d&&Wc(p.normal,d).normalize();b=0;for(f=t.length;b<f;b++){var u=t[b].clone();void 0!==
d&&Wc(u,d).normalize();p.vertexNormals.push(u)}p.color.copy(g.color);b=0;for(f=r.length;b<f;b++)u=r[b],p.vertexColors.push(u.clone());p.materialIndex=g.materialIndex+c;k.push(p)}n=0;for(q=a.length;n<q;n++)if(c=a[n],d=[],void 0!==c){b=0;for(f=c.length;b<f;b++)d.push(c[b].clone());m.push(d)}}},mergeMesh:function(a){!1===a instanceof V.Mesh?console.error("THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.",a):(a.matrixAutoUpdate&&a.updateMatrix(),this.merge(a.geometry,a.matrix))},mergeVertices:function(){var a=
{},b=[],c=[],d=Math.pow(10,4),e;var f=0;for(e=this.vertices.length;f<e;f++){var g=this.vertices[f];g=Math.round(g.x*d)+"_"+Math.round(g.y*d)+"_"+Math.round(g.z*d);void 0===a[g]?(a[g]=f,b.push(this.vertices[f]),c[f]=b.length-1):c[f]=c[a[g]]}a=[];f=0;for(e=this.faces.length;f<e;f++)for(d=this.faces[f],d.a=c[d.a],d.b=c[d.b],d.c=c[d.c],d=[d.a,d.b,d.c],g=0;3>g;g++)if(d[g]===d[(g+1)%3]){a.push(f);break}for(f=a.length-1;0<=f;f--)for(d=a[f],this.faces.splice(d,1),c=0,e=this.faceVertexUvs.length;c<e;c++)this.faceVertexUvs[c].splice(d,
1);f=this.vertices.length-b.length;this.vertices=b;return f},sortFacesByMaterialIndex:function(){for(var a=this.faces,b=a.length,c=0;c<b;c++)a[c]._id=c;a.sort(function(a,b){return a.materialIndex-b.materialIndex});var d=this.faceVertexUvs[0],e=this.faceVertexUvs[1],f,g;d&&d.length===b&&(f=[]);e&&e.length===b&&(g=[]);for(c=0;c<b;c++){var k=a[c]._id;f&&f.push(d[k]);g&&g.push(e[k])}f&&(this.faceVertexUvs[0]=f);g&&(this.faceVertexUvs[1]=g)},toJSON:function(){function a(a,b,c){return c?a|1<<b:a&~(1<<b)}
function b(a){var b=a.x.toString()+a.y.toString()+a.z.toString();if(void 0!==m[b])return m[b];m[b]=l.length/3;l.push(a.x,a.y,a.z);return m[b]}function c(a){var b=a.r.toString()+a.g.toString()+a.b.toString();if(void 0!==q[b])return q[b];q[b]=n.length;n.push(Lc(a));return q[b]}function d(a){var b=a.x.toString()+a.y.toString();if(void 0!==t[b])return t[b];t[b]=p.length/2;p.push(a.x,a.y);return t[b]}var e={metadata:{version:4.4,type:"Geometry",generator:"Geometry.toJSON"}};e.uuid=this.uuid;e.type=this.type;
""!==this.name&&(e.name=this.name);if(void 0!==this.parameters){var f=this.parameters,g;for(g in f)void 0!==f[g]&&(e[g]=f[g]);return e}f=[];for(g=0;g<this.vertices.length;g++){var k=this.vertices[g];f.push(k.x,k.y,k.z)}k=[];var l=[],m={},n=[],q={},p=[],t={};for(g=0;g<this.faces.length;g++){var r=this.faces[g],u=void 0!==this.faceVertexUvs[0][g],v=0<r.normal.length(),z=0<r.vertexNormals.length,w=1!==r.color.r||1!==r.color.g||1!==r.color.b,A=0<r.vertexColors.length,y=0;y=a(y,0,0);y=a(y,1,!0);y=a(y,
2,!1);y=a(y,3,u);y=a(y,4,v);y=a(y,5,z);y=a(y,6,w);y=a(y,7,A);k.push(y);k.push(r.a,r.b,r.c);k.push(r.materialIndex);u&&(u=this.faceVertexUvs[0][g],k.push(d(u[0]),d(u[1]),d(u[2])));v&&k.push(b(r.normal));z&&(v=r.vertexNormals,k.push(b(v[0]),b(v[1]),b(v[2])));w&&k.push(c(r.color));A&&(r=r.vertexColors,k.push(c(r[0]),c(r[1]),c(r[2])))}e.data={};e.data.vertices=f;e.data.normals=l;0<n.length&&(e.data.colors=n);0<p.length&&(e.data.uvs=[p]);e.data.faces=k;return e},clone:function(){return(new V.Geometry).copy(this)},
copy:function(a){this.vertices=[];this.faces=[];this.faceVertexUvs=[[]];for(var b=a.vertices,c=0,d=b.length;c<d;c++)this.vertices.push(b[c].clone());b=a.faces;c=0;for(d=b.length;c<d;c++)this.faces.push(b[c].clone());c=0;for(d=a.faceVertexUvs.length;c<d;c++){b=a.faceVertexUvs[c];void 0===this.faceVertexUvs[c]&&(this.faceVertexUvs[c]=[]);for(var e=0,f=b.length;e<f;e++){for(var g=b[e],k=[],l=0,m=g.length;l<m;l++)k.push(g[l].clone());this.faceVertexUvs[c].push(k)}}return this},dispose:function(){this.dispatchEvent({type:"dispose"})}});
V.GeometryIdCount=0;V.DirectGeometry=function(){Object.defineProperty(this,"id",{value:V.GeometryIdCount++});this.uuid=V.Math.generateUUID();this.name="";this.type="DirectGeometry";this.indices=[];this.vertices=[];this.normals=[];this.colors=[];this.uvs=[];this.uvs2=[];this.groups=[];this.morphTargets={};this.skinWeights=[];this.skinIndices=[];this.boundingSphere=this.boundingBox=null;this.groupsNeedUpdate=this.uvsNeedUpdate=this.colorsNeedUpdate=this.normalsNeedUpdate=this.verticesNeedUpdate=!1};
Object.assign(V.DirectGeometry.prototype,V.EventDispatcher.prototype,{computeBoundingBox:V.Geometry.prototype.computeBoundingBox,computeBoundingSphere:V.Geometry.prototype.computeBoundingSphere,computeFaceNormals:function(){console.warn("THREE.DirectGeometry: computeFaceNormals() is not a method of this type of geometry.")},computeVertexNormals:function(){console.warn("THREE.DirectGeometry: computeVertexNormals() is not a method of this type of geometry.")},computeGroups:function(a){var b=[];a=a.faces;
for(var c=0;c<a.length;c++){var d=a[c];if(d.materialIndex!==e){var e=d.materialIndex;void 0!==f&&(f.count=3*c-f.start,b.push(f));var f={start:3*c,materialIndex:e}}}void 0!==f&&(f.count=3*c-f.start,b.push(f));this.groups=b},fromGeometry:function(a){var b=a.faces,c=a.vertices,d=a.faceVertexUvs,e=d[0]&&0<d[0].length,f=d[1]&&0<d[1].length,g=a.morphTargets,k=g.length;if(0<k){var l=[];for(var m=0;m<k;m++)l[m]=[];this.morphTargets.position=l}var n=a.morphNormals,q=n.length;if(0<q){var p=[];for(m=0;m<q;m++)p[m]=
[];this.morphTargets.normal=p}var t=a.skinIndices,r=a.skinWeights,u=t.length===c.length,v=r.length===c.length;for(m=0;m<b.length;m++){var z=b[m];this.vertices.push(c[z.a],c[z.b],c[z.c]);var w=z.vertexNormals;3===w.length?this.normals.push(w[0],w[1],w[2]):(w=z.normal,this.normals.push(w,w,w));w=z.vertexColors;3===w.length?this.colors.push(w[0],w[1],w[2]):(w=z.color,this.colors.push(w,w,w));!0===e&&(w=d[0][m],void 0!==w?this.uvs.push(w[0],w[1],w[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ",
m),this.uvs.push(new V.Vector2,new V.Vector2,new V.Vector2)));!0===f&&(w=d[1][m],void 0!==w?this.uvs2.push(w[0],w[1],w[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ",m),this.uvs2.push(new V.Vector2,new V.Vector2,new V.Vector2)));for(w=0;w<k;w++){var A=g[w].vertices;l[w].push(A[z.a],A[z.b],A[z.c])}for(w=0;w<q;w++)A=n[w].vertexNormals[m],p[w].push(A.a,A.b,A.c);u&&this.skinIndices.push(t[z.a],t[z.b],t[z.c]);v&&this.skinWeights.push(r[z.a],r[z.b],r[z.c])}this.computeGroups(a);
this.verticesNeedUpdate=a.verticesNeedUpdate;this.normalsNeedUpdate=a.normalsNeedUpdate;this.colorsNeedUpdate=a.colorsNeedUpdate;this.uvsNeedUpdate=a.uvsNeedUpdate;this.groupsNeedUpdate=a.groupsNeedUpdate;return this},dispose:function(){this.dispatchEvent({type:"dispose"})}});
V.BufferGeometry=function(){Object.defineProperty(this,"id",{value:V.GeometryIdCount++});this.uuid=V.Math.generateUUID();this.name="";this.type="BufferGeometry";this.index=null;this.attributes={};this.morphAttributes={};this.groups=[];this.boundingSphere=this.boundingBox=null;this.drawRange={start:0,count:Infinity}};
Object.assign(V.BufferGeometry.prototype,V.EventDispatcher.prototype,{getIndex:function(){return this.index},setIndex:function(a){this.index=a},addAttribute:function(a,b,c){if(!1===b instanceof V.BufferAttribute&&!1===b instanceof V.InterleavedBufferAttribute)console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.addAttribute(a,new V.BufferAttribute(b,c));else if("index"===a)console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),
this.setIndex(b);else return this.attributes[a]=b,this},getAttribute:function(a){return this.attributes[a]},removeAttribute:function(a){delete this.attributes[a];return this},addGroup:function(a,b,c){this.groups.push({start:a,count:b,materialIndex:void 0!==c?c:0})},clearGroups:function(){this.groups=[]},setDrawRange:function(a,b){this.drawRange.start=a;this.drawRange.count=b},applyMatrix:function(a){var b=this.attributes.position;void 0!==b&&(a.applyToVector3Array(b.array),b.needsUpdate=!0);b=this.attributes.normal;
void 0!==b&&($c(new V.Matrix3,a).applyToVector3Array(b.array),b.needsUpdate=!0);null!==this.boundingBox&&this.computeBoundingBox();null!==this.boundingSphere&&this.computeBoundingSphere();return this},rotateX:function(){var a;return function(b){void 0===a&&(a=new V.Matrix4);ed(a,b);this.applyMatrix(a);return this}}(),rotateY:function(){var a;return function(b){void 0===a&&(a=new V.Matrix4);dd(a,b);this.applyMatrix(a);return this}}(),rotateZ:function(){var a;return function(b){void 0===a&&(a=new V.Matrix4);
cd(a,b);this.applyMatrix(a);return this}}(),translate:function(){var a;return function(b,c,d){void 0===a&&(a=new V.Matrix4);a.set(1,0,0,b,0,1,0,c,0,0,1,d,0,0,0,1);this.applyMatrix(a);return this}}(),scale:function(){var a;return function(b,c,d){void 0===a&&(a=new V.Matrix4);a.set(b,0,0,0,0,c,0,0,0,0,d,0,0,0,0,1);this.applyMatrix(a);return this}}(),lookAt:function(){var a;return function(b){void 0===a&&(a=new V.Object3D);a.lookAt(b);a.updateMatrix();this.applyMatrix(a.matrix)}}(),center:function(){this.computeBoundingBox();
var a=this.boundingBox.center().negate();this.translate(a.x,a.y,a.z);return a},setFromObject:function(a){var b=a.geometry;if(a instanceof V.Points||a instanceof V.Line){a=new V.Float32Attribute(3*b.vertices.length,3);var c=new V.Float32Attribute(3*b.colors.length,3);this.addAttribute("position",id(a,b.vertices));this.addAttribute("color",ld(c,b.colors));b.lineDistances&&b.lineDistances.length===b.vertices.length&&(a=new V.Float32Attribute(b.lineDistances.length,1),this.addAttribute("lineDistance",
md(a,b.lineDistances)));null!==b.boundingSphere&&(this.boundingSphere=b.boundingSphere.clone());null!==b.boundingBox&&(this.boundingBox=b.boundingBox.clone())}else a instanceof V.Mesh&&b instanceof V.Geometry&&this.fromGeometry(b);return this},updateFromObject:function(a){var b=a.geometry;if(a instanceof V.Mesh){var c=b.__directGeometry;if(void 0===c)return this.fromGeometry(b);c.verticesNeedUpdate=b.verticesNeedUpdate;c.normalsNeedUpdate=b.normalsNeedUpdate;c.colorsNeedUpdate=b.colorsNeedUpdate;
c.uvsNeedUpdate=b.uvsNeedUpdate;c.groupsNeedUpdate=b.groupsNeedUpdate;b.verticesNeedUpdate=!1;b.normalsNeedUpdate=!1;b.colorsNeedUpdate=!1;b.uvsNeedUpdate=!1;b.groupsNeedUpdate=!1;b=c}!0===b.verticesNeedUpdate&&(c=this.attributes.position,void 0!==c&&(id(c,b.vertices),c.needsUpdate=!0),b.verticesNeedUpdate=!1);!0===b.normalsNeedUpdate&&(c=this.attributes.normal,void 0!==c&&(id(c,b.normals),c.needsUpdate=!0),b.normalsNeedUpdate=!1);!0===b.colorsNeedUpdate&&(c=this.attributes.color,void 0!==c&&(ld(c,
b.colors),c.needsUpdate=!0),b.colorsNeedUpdate=!1);b.uvsNeedUpdate&&(c=this.attributes.uv,void 0!==c&&(jd(c,b.uvs),c.needsUpdate=!0),b.uvsNeedUpdate=!1);b.lineDistancesNeedUpdate&&(c=this.attributes.lineDistance,void 0!==c&&(md(c,b.lineDistances),c.needsUpdate=!0),b.lineDistancesNeedUpdate=!1);b.groupsNeedUpdate&&(b.computeGroups(a.geometry),this.groups=b.groups,b.groupsNeedUpdate=!1);return this},fromGeometry:function(a){a.__directGeometry=(new V.DirectGeometry).fromGeometry(a);return this.fromDirectGeometry(a.__directGeometry)},
fromDirectGeometry:function(a){this.addAttribute("position",id(new V.BufferAttribute(new Float32Array(3*a.vertices.length),3),a.vertices));0<a.normals.length&&this.addAttribute("normal",id(new V.BufferAttribute(new Float32Array(3*a.normals.length),3),a.normals));0<a.colors.length&&this.addAttribute("color",ld(new V.BufferAttribute(new Float32Array(3*a.colors.length),3),a.colors));0<a.uvs.length&&this.addAttribute("uv",jd(new V.BufferAttribute(new Float32Array(2*a.uvs.length),2),a.uvs));0<a.uvs2.length&&
this.addAttribute("uv2",jd(new V.BufferAttribute(new Float32Array(2*a.uvs2.length),2),a.uvs2));0<a.indices.length&&this.setIndex(kd(new V.BufferAttribute(new (65535<a.vertices.length?Uint32Array:Uint16Array)(3*a.indices.length),1),a.indices));this.groups=a.groups;for(var b in a.morphTargets){for(var c=[],d=a.morphTargets[b],e=0,f=d.length;e<f;e++){var g=d[e],k=new V.Float32Attribute(3*g.length,3);c.push(id(k,g))}this.morphAttributes[b]=c}0<a.skinIndices.length&&(b=new V.Float32Attribute(4*a.skinIndices.length,
4),this.addAttribute("skinIndex",hd(b,a.skinIndices)));0<a.skinWeights.length&&(b=new V.Float32Attribute(4*a.skinWeights.length,4),this.addAttribute("skinWeight",hd(b,a.skinWeights)));null!==a.boundingSphere&&(this.boundingSphere=a.boundingSphere.clone());null!==a.boundingBox&&(this.boundingBox=a.boundingBox.clone());return this},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new V.Box3);var a=this.attributes.position.array;void 0!==a?Zc(this.boundingBox,a):this.boundingBox.makeEmpty();
(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)},computeBoundingSphere:function(){var a=new V.Box3,b=new V.Vector3;return function(){null===this.boundingSphere&&(this.boundingSphere=new V.Sphere);var c=this.attributes.position.array;if(c){var d=this.boundingSphere.center;Zc(a,c);a.center(d);for(var e=
0,f=0,g=c.length;f<g;f+=3)b.fromArray(c,f),e=Math.max(e,d.distanceToSquared(b));this.boundingSphere.radius=Math.sqrt(e);isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}}(),computeFaceNormals:function(){},computeVertexNormals:function(){var a=this.index,b=this.attributes,c=this.groups;if(b.position){var d=b.position.array;if(void 0===b.normal)this.addAttribute("normal",
new V.BufferAttribute(new Float32Array(d.length),3));else for(var e=b.normal.array,f=0,g=e.length;f<g;f++)e[f]=0;e=b.normal.array;var k=new V.Vector3,l=new V.Vector3,m=new V.Vector3,n=new V.Vector3,q=new V.Vector3;if(a){a=a.array;0===c.length&&this.addGroup(0,a.length);for(var p=0,t=c.length;p<t;++p){f=c[p];g=f.start;var r=f.count;f=g;for(g+=r;f<g;f+=3){r=3*a[f+0];var u=3*a[f+1];var v=3*a[f+2];k.fromArray(d,r);l.fromArray(d,u);m.fromArray(d,v);n.subVectors(m,l);q.subVectors(k,l);n.cross(q);e[r]+=
n.x;e[r+1]+=n.y;e[r+2]+=n.z;e[u]+=n.x;e[u+1]+=n.y;e[u+2]+=n.z;e[v]+=n.x;e[v+1]+=n.y;e[v+2]+=n.z}}}else for(f=0,g=d.length;f<g;f+=9)k.fromArray(d,f),l.fromArray(d,f+3),m.fromArray(d,f+6),n.subVectors(m,l),q.subVectors(k,l),n.cross(q),e[f]=n.x,e[f+1]=n.y,e[f+2]=n.z,e[f+3]=n.x,e[f+4]=n.y,e[f+5]=n.z,e[f+6]=n.x,e[f+7]=n.y,e[f+8]=n.z;this.normalizeNormals();b.normal.needsUpdate=!0}},merge:function(a,b){if(!1===a instanceof V.BufferGeometry)console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",
a);else{void 0===b&&(b=0);var c=this.attributes,d;for(d in c)if(void 0!==a.attributes[d]){var e=c[d].array,f=a.attributes[d],g=f.array,k=0;for(f=f.itemSize*b;k<g.length;k++,f++)e[f]=g[k]}return this}},normalizeNormals:function(){for(var a=this.attributes.normal.array,b,c,d,e=0,f=a.length;e<f;e+=3)b=a[e],c=a[e+1],d=a[e+2],b=1/Math.sqrt(b*b+c*c+d*d),a[e]*=b,a[e+1]*=b,a[e+2]*=b},toNonIndexed:function(){if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed."),
this;var a=new V.BufferGeometry,b=this.index.array,c=this.attributes,d;for(d in c){var e=c[d],f=e.array;e=e.itemSize;for(var g=new f.constructor(b.length*e),k,l=0,m=0,n=b.length;m<n;m++){k=b[m]*e;for(var q=0;q<e;q++)g[l++]=f[k++]}a.addAttribute(d,new V.BufferAttribute(g,e))}return a},toJSON:function(){var a={metadata:{version:4.4,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};a.uuid=this.uuid;a.type=this.type;""!==this.name&&(a.name=this.name);if(void 0!==this.parameters){var b=this.parameters;
for(var c in b)void 0!==b[c]&&(a[c]=b[c]);return a}a.data={attributes:{}};var d=this.index;null!==d&&(b=Array.prototype.slice.call(d.array),a.data.index={type:d.array.constructor.name,array:b});d=this.attributes;for(c in d){var e=d[c];b=Array.prototype.slice.call(e.array);a.data.attributes[c]={itemSize:e.itemSize,type:e.array.constructor.name,array:b,normalized:e.normalized}}c=this.groups;0<c.length&&(a.data.groups=JSON.parse(JSON.stringify(c)));c=this.boundingSphere;null!==c&&(a.data.boundingSphere=
{center:c.center.toArray(),radius:c.radius});return a},clone:function(){return(new V.BufferGeometry).copy(this)},copy:function(a){var b=a.index;null!==b&&this.setIndex(b.clone());b=a.attributes;for(var c in b)this.addAttribute(c,b[c].clone());a=a.groups;c=0;for(b=a.length;c<b;c++){var d=a[c];this.addGroup(d.start,d.count,d.materialIndex)}return this},dispose:function(){this.dispatchEvent({type:"dispose"})}});V.BufferGeometry.MaxIndex=65535;
V.InstancedBufferGeometry=function(){V.BufferGeometry.call(this);this.type="InstancedBufferGeometry";this.maxInstancedCount=void 0};V.InstancedBufferGeometry.prototype=Object.create(V.BufferGeometry.prototype);V.InstancedBufferGeometry.prototype.constructor=V.InstancedBufferGeometry;V.InstancedBufferGeometry.prototype.addGroup=function(a,b,c){this.groups.push({start:a,count:b,instances:c})};
V.InstancedBufferGeometry.prototype.copy=function(a){var b=a.index;null!==b&&this.setIndex(b.clone());b=a.attributes;for(var c in b)this.addAttribute(c,b[c].clone());a=a.groups;c=0;for(b=a.length;c<b;c++){var d=a[c];this.addGroup(d.start,d.count,d.instances)}return this};V.Uniform=function(a,b){"string"===typeof a&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),a=b);this.value=a;this.dynamic=!1};
V.Uniform.prototype={constructor:V.Uniform,onUpdate:function(a){this.dynamic=!0;this.onUpdateCallback=a;return this}};V.AnimationAction=function(){throw Error("THREE.AnimationAction: Use mixer.clipAction for construction.");};
V.AnimationAction._new=function(a,b,c){this._mixer=a;this._clip=b;this._localRoot=c||null;a=b.tracks;b=a.length;c=Array(b);for(var d={endingStart:V.ZeroCurvatureEnding,endingEnd:V.ZeroCurvatureEnding},e=0;e!==b;++e){var f=a[e].createInterpolant(null);c[e]=f;f.settings=d}this._interpolantSettings=d;this._interpolants=c;this._propertyBindings=Array(b);this._weightInterpolant=this._timeScaleInterpolant=this._byClipCacheIndex=this._cacheIndex=null;this.loop=V.LoopRepeat;this._loopCount=-1;this._startTime=
null;this.time=0;this._effectiveWeight=this.weight=this._effectiveTimeScale=this.timeScale=1;this.repetitions=Infinity;this.paused=!1;this.enabled=!0;this.clampWhenFinished=!1;this.zeroSlopeAtEnd=this.zeroSlopeAtStart=!0};
V.AnimationAction._new.prototype={constructor:V.AnimationAction._new,play:function(){this._mixer._activateAction(this);return this},stop:function(){this._mixer._deactivateAction(this);return this.reset()},reset:function(){this.paused=!1;this.enabled=!0;this.time=0;this._loopCount=-1;this._startTime=null;return nd(od(this))},isRunning:function(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)},isScheduled:function(){return this._mixer._isActiveAction(this)},
startAt:function(a){this._startTime=a;return this},setLoop:function(a,b){this.loop=a;this.repetitions=b;return this},setEffectiveWeight:function(a){this.weight=a;this._effectiveWeight=this.enabled?a:0;return od(this)},getEffectiveWeight:function(){return this._effectiveWeight},crossFadeTo:function(a,b,c){pd(this,b,1,0);pd(a,b,0,1);if(c){c=a._clip.duration;var d=this._clip.duration,e=c/d;qd(this,1,d/c,b);qd(a,e,1,b)}return a},setEffectiveTimeScale:function(a){this.timeScale=a;this._effectiveTimeScale=
this.paused?0:a;return nd(this)},getEffectiveTimeScale:function(){return this._effectiveTimeScale},setDuration:function(a){this.timeScale=this._clip.duration/a;return nd(this)},syncWith:function(a){this.time=a.time;this.timeScale=a.timeScale;return nd(this)},halt:function(a){return qd(this,this._effectiveTimeScale,0,a)},getMixer:function(){return this._mixer},getClip:function(){return this._clip},getRoot:function(){return this._localRoot||this._mixer._root},_update:function(a,b,c,d){var e=this._startTime;
if(null!==e){b=(a-e)*c;if(0>b||0===c)return;this._startTime=null;b*=c}c=b;b=0;if(!this.paused&&(b=this.timeScale,e=this._timeScaleInterpolant,null!==e)){var f=e.evaluate(a)[0];b*=f;a>e.parameterPositions[1]&&(nd(this),0===b?this.paused=!0:this.timeScale=b)}this._effectiveTimeScale=b;a:if(f=c*b,c=this.time+f,0!==f){b=this._clip.duration;var g=this.loop;e=this._loopCount;if(g===V.LoopOnce)b:{if(-1===e&&(this.loopCount=0,rd(this,!0,!0,!1)),c>=b)c=b;else if(0>c)c=0;else break b;this.clampWhenFinished?
this.paused=!0:this.enabled=!1;this._mixer.dispatchEvent({type:"finished",action:this,direction:0>f?-1:1})}else{g=g===V.LoopPingPong;-1===e&&(0<=f?(e=0,rd(this,!0,0===this.repetitions,g)):rd(this,0===this.repetitions,!0,g));if(c>=b||0>c){var k=Math.floor(c/b);c-=b*k;e+=Math.abs(k);var l=this.repetitions-e;0>l?(this.clampWhenFinished?this.paused=!0:this.enabled=!1,c=0<f?b:0,this._mixer.dispatchEvent({type:"finished",action:this,direction:0<f?1:-1})):(0===l?(f=0>f,rd(this,f,!f,g)):rd(this,!1,!1,g),
this._loopCount=e,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:k}))}if(g&&1===(e&1)){this.time=c;c=b-c;break a}}this.time=c}a=this._updateWeight(a);if(0<a)for(b=this._interpolants,e=this._propertyBindings,f=0,g=b.length;f!==g;++f){b[f].evaluate(c);k=e[f];l=a;var m=k.buffer,n=k.valueSize,q=d*n+n,p=k.cumulativeWeight;if(0===p){for(p=0;p!==n;++p)m[q+p]=m[p];p=l}else p+=l,k._mixBufferRegion(m,q,0,l/p,n);k.cumulativeWeight=p}},_updateWeight:function(a){var b=0;if(this.enabled){b=this.weight;
var c=this._weightInterpolant;if(null!==c){var d=c.evaluate(a)[0];b*=d;a>c.parameterPositions[1]&&(od(this),0===d&&(this.enabled=!1))}}return this._effectiveWeight=b}};function pd(a,b,c,d){var e=a._mixer,f=e.time,g=a._weightInterpolant;null===g&&(g=e._lendControlInterpolant(),a._weightInterpolant=g);a=g.parameterPositions;g=g.sampleValues;a[0]=f;g[0]=c;a[1]=f+b;g[1]=d}
function rd(a,b,c,d){var e=a._interpolantSettings;d?(e.endingStart=V.ZeroSlopeEnding,e.endingEnd=V.ZeroSlopeEnding):(e.endingStart=b?a.zeroSlopeAtStart?V.ZeroSlopeEnding:V.ZeroCurvatureEnding:V.WrapAroundEnding,e.endingEnd=c?a.zeroSlopeAtEnd?V.ZeroSlopeEnding:V.ZeroCurvatureEnding:V.WrapAroundEnding)}function nd(a){var b=a._timeScaleInterpolant;null!==b&&(a._timeScaleInterpolant=null,a._mixer._takeBackControlInterpolant(b));return a}
function qd(a,b,c,d){var e=a._mixer,f=e.time,g=a._timeScaleInterpolant,k=a.timeScale;null===g&&(g=e._lendControlInterpolant(),a._timeScaleInterpolant=g);e=g.parameterPositions;g=g.sampleValues;e[0]=f;e[1]=f+d;g[0]=b/k;g[1]=c/k;return a}function od(a){var b=a._weightInterpolant;null!==b&&(a._weightInterpolant=null,a._mixer._takeBackControlInterpolant(b));return a}
V.AnimationClip=function(a,b,c){this.name=a;this.tracks=c;this.duration=void 0!==b?b:-1;this.uuid=V.Math.generateUUID();if(0>this.duration){b=a=0;for(c=this.tracks.length;b!==c;++b){var d=this.tracks[b];a=Math.max(a,d.times[d.times.length-1])}this.duration=a}this.trim();this.optimize()};
V.AnimationClip.prototype={constructor:V.AnimationClip,trim:function(){for(var a=0;a<this.tracks.length;a++)this.tracks[a].trim(0,this.duration);return this},optimize:function(){for(var a=0;a<this.tracks.length;a++)this.tracks[a].optimize();return this}};
Object.assign(V.AnimationClip,{parse:function(a){for(var b=[],c=a.tracks,d=1/(a.fps||1),e=0,f=c.length;e!==f;++e)b.push(V.KeyframeTrack.parse(c[e]).scale(d));return new V.AnimationClip(a.name,a.duration,b)},toJSON:function(a){var b=[],c=a.tracks;a={name:a.name,duration:a.duration,tracks:b};for(var d=0,e=c.length;d!==e;++d)b.push(V.KeyframeTrack.toJSON(c[d]));return a},CreateFromMorphTargetSequence:function(a,b,c,d){for(var e=b.length,f=[],g=0;g<e;g++){var k=[],l=[];k.push((g+e-1)%e,g,(g+1)%e);l.push(0,
1,0);var m=V.AnimationUtils.getKeyframeOrder(k);k=V.AnimationUtils.sortedArray(k,1,m);l=V.AnimationUtils.sortedArray(l,1,m);d||0!==k[0]||(k.push(e),l.push(l[0]));f.push((new V.NumberKeyframeTrack(".morphTargetInfluences["+b[g].name+"]",k,l)).scale(1/c))}return new V.AnimationClip(a,-1,f)},findByName:function(a,b){var c=a;Array.isArray(a)||(c=a.geometry&&a.geometry.animations||a.animations);for(a=0;a<c.length;a++)if(c[a].name===b)return c[a];return null},CreateClipsFromMorphTargetSequences:function(a,
b,c){for(var d,e={},f=/^([\w-]*?)([\d]+)$/,g=0,k=a.length;g<k;g++){var l=a[g],m=l.name.match(f);m&&1<m.length&&(d=m[1],(m=e[d])||(e[d]=m=[]),m.push(l))}a=[];for(d in e)a.push(V.AnimationClip.CreateFromMorphTargetSequence(d,e[d],b,c));return a},parseAnimation:function(a,b){function c(a,b,c,d,e){if(0!==c.length){var f=[],g=[];V.AnimationUtils.flattenJSON(c,f,g,d);0!==f.length&&e.push(new a(b,f,g))}}if(!a)return console.error("  no animation in JSONLoader data"),null;var d=[],e=a.name||"default",f=a.length||
-1,g=a.fps||30;a=a.hierarchy||[];for(var k=0;k<a.length;k++){var l=a[k].keys;if(l&&0!==l.length)if(l[0].morphTargets){f={};for(var m=0;m<l.length;m++)if(l[m].morphTargets)for(var n=0;n<l[m].morphTargets.length;n++)f[l[m].morphTargets[n]]=-1;for(var q in f){var p=[],t=[];for(n=0;n!==l[m].morphTargets.length;++n){var r=l[m];p.push(r.time);t.push(r.morphTarget===q?1:0)}d.push(new V.NumberKeyframeTrack(".morphTargetInfluence["+q+"]",p,t))}f=f.length*(g||1)}else m=".bones["+b[k].name+"]",c(V.VectorKeyframeTrack,
m+".position",l,"pos",d),c(V.QuaternionKeyframeTrack,m+".quaternion",l,"rot",d),c(V.VectorKeyframeTrack,m+".scale",l,"scl",d)}return 0===d.length?null:new V.AnimationClip(e,f,d)}});V.AnimationMixer=function(a){this._root=a;this._initMemoryManager();this.time=this._accuIndex=0;this.timeScale=1};
Object.assign(V.AnimationMixer.prototype,V.EventDispatcher.prototype,{clipAction:function(a,b){var c=b||this._root,d=c.uuid;c="string"===typeof a?V.AnimationClip.findByName(c,a):a;a=null!==c?c.uuid:a;var e=this._actionsByClip[a],f=null;if(void 0!==e){f=e.actionByRoot[d];if(void 0!==f)return f;f=e.knownActions[0];null===c&&(c=f._clip)}if(null===c)return null;b=new V.AnimationMixer._Action(this,c,b);this._bindAction(b,f);this._addInactiveAction(b,a,d);return b},existingAction:function(a,b){var c=b||
this._root;b=c.uuid;c="string"===typeof a?V.AnimationClip.findByName(c,a):a;a=this._actionsByClip[c?c.uuid:a];return void 0!==a?a.actionByRoot[b]||null:null},stopAllAction:function(){for(var a=this._actions,b=this._nActiveActions,c=this._bindings,d=this._nActiveBindings,e=this._nActiveBindings=this._nActiveActions=0;e!==b;++e)a[e].reset();for(e=0;e!==d;++e)c[e].useCount=0;return this},update:function(a){a*=this.timeScale;for(var b=this._actions,c=this._nActiveActions,d=this.time+=a,e=Math.sign(a),
f=this._accuIndex^=1,g=0;g!==c;++g){var k=b[g];k.enabled&&k._update(d,a,e,f)}a=this._bindings;b=this._nActiveBindings;for(g=0;g!==b;++g)a[g].apply(f);return this},getRoot:function(){return this._root},uncacheClip:function(a){var b=this._actions;a=a.uuid;var c=this._actionsByClip,d=c[a];if(void 0!==d){d=d.knownActions;for(var e=0,f=d.length;e!==f;++e){var g=d[e];this._deactivateAction(g);var k=g._cacheIndex,l=b[b.length-1];g._cacheIndex=null;g._byClipCacheIndex=null;l._cacheIndex=k;b[k]=l;b.pop();
this._removeInactiveBindingsForAction(g)}delete c[a]}},uncacheRoot:function(a){a=a.uuid;var b=this._actionsByClip;for(d in b){var c=b[d].actionByRoot[a];void 0!==c&&(this._deactivateAction(c),this._removeInactiveAction(c))}var d=this._bindingsByRootAndName[a];if(void 0!==d)for(var e in d)a=d[e],a.binding.setValue(a.buffer,3*a.valueSize),this._removeInactiveBinding(a)},uncacheAction:function(a,b){a=this.existingAction(a,b);null!==a&&(this._deactivateAction(a),this._removeInactiveAction(a))}});
V.AnimationMixer._Action=V.AnimationAction._new;
Object.assign(V.AnimationMixer.prototype,{_bindAction:function(a,b){var c=a._localRoot||this._root,d=a._clip.tracks,e=d.length,f=a._propertyBindings;a=a._interpolants;var g=c.uuid,k=this._bindingsByRootAndName,l=k[g];void 0===l&&(l={},k[g]=l);for(k=0;k!==e;++k){var m=d[k],n=m.name,q=l[n];if(void 0===q){q=f[k];if(void 0!==q){null===q._cacheIndex&&(++q.referenceCount,this._addInactiveBinding(q,g,n));continue}q=new V.PropertyMixer(V.PropertyBinding.create(c,n,b&&b._propertyBindings[k].binding.parsedPath),
m.ValueTypeName,sd(m));++q.referenceCount;this._addInactiveBinding(q,g,n)}f[k]=q;a[k].resultBuffer=q.buffer}},_activateAction:function(a){if(!this._isActiveAction(a)){if(null===a._cacheIndex){var b=(a._localRoot||this._root).uuid,c=a._clip.uuid,d=this._actionsByClip[c];this._bindAction(a,d&&d.knownActions[0]);this._addInactiveAction(a,c,b)}b=a._propertyBindings;c=0;for(d=b.length;c!==d;++c){var e=b[c];if(0===e.useCount++){this._lendBinding(e);var f=e.buffer,g=e.valueSize,k=3*g;e.binding.getValue(f,
k);for(var l=g;l!==k;++l)f[l]=f[k+l%g];e.cumulativeWeight=0}}this._lendAction(a)}},_deactivateAction:function(a){if(this._isActiveAction(a)){for(var b=a._propertyBindings,c=0,d=b.length;c!==d;++c){var e=b[c];0===--e.useCount&&(e.binding.setValue(e.buffer,3*e.valueSize),this._takeBackBinding(e))}this._takeBackAction(a)}},_initMemoryManager:function(){this._actions=[];this._nActiveActions=0;this._actionsByClip={};this._bindings=[];this._nActiveBindings=0;this._bindingsByRootAndName={};this._controlInterpolants=
[];this._nActiveControlInterpolants=0;var a=this;this.stats={actions:{get total(){return a._actions.length},get inUse(){return a._nActiveActions}},bindings:{get total(){return a._bindings.length},get inUse(){return a._nActiveBindings}},controlInterpolants:{get total(){return a._controlInterpolants.length},get inUse(){return a._nActiveControlInterpolants}}}},_isActiveAction:function(a){a=a._cacheIndex;return null!==a&&a<this._nActiveActions},_addInactiveAction:function(a,b,c){var d=this._actions,e=
this._actionsByClip,f=e[b];void 0===f?(f={knownActions:[a],actionByRoot:{}},a._byClipCacheIndex=0,e[b]=f):(b=f.knownActions,a._byClipCacheIndex=b.length,b.push(a));a._cacheIndex=d.length;d.push(a);f.actionByRoot[c]=a},_removeInactiveAction:function(a){var b=this._actions,c=b[b.length-1],d=a._cacheIndex;c._cacheIndex=d;b[d]=c;b.pop();a._cacheIndex=null;c=a._clip.uuid;d=this._actionsByClip;var e=d[c],f=e.knownActions,g=f[f.length-1],k=a._byClipCacheIndex;g._byClipCacheIndex=k;f[k]=g;f.pop();a._byClipCacheIndex=
null;delete e.actionByRoot[(b._localRoot||this._root).uuid];0===f.length&&delete d[c];this._removeInactiveBindingsForAction(a)},_removeInactiveBindingsForAction:function(a){a=a._propertyBindings;for(var b=0,c=a.length;b!==c;++b){var d=a[b];0===--d.referenceCount&&this._removeInactiveBinding(d)}},_lendAction:function(a){var b=this._actions,c=a._cacheIndex,d=this._nActiveActions++,e=b[d];a._cacheIndex=d;b[d]=a;e._cacheIndex=c;b[c]=e},_takeBackAction:function(a){var b=this._actions,c=a._cacheIndex,d=
--this._nActiveActions,e=b[d];a._cacheIndex=d;b[d]=a;e._cacheIndex=c;b[c]=e},_addInactiveBinding:function(a,b,c){var d=this._bindingsByRootAndName,e=d[b],f=this._bindings;void 0===e&&(e={},d[b]=e);e[c]=a;a._cacheIndex=f.length;f.push(a)},_removeInactiveBinding:function(a){var b=this._bindings,c=a.binding,d=c.rootNode.uuid;c=c.path;var e=this._bindingsByRootAndName,f=e[d],g=b[b.length-1];a=a._cacheIndex;g._cacheIndex=a;b[a]=g;b.pop();delete f[c];a:{for(var k in f)break a;delete e[d]}},_lendBinding:function(a){var b=
this._bindings,c=a._cacheIndex,d=this._nActiveBindings++,e=b[d];a._cacheIndex=d;b[d]=a;e._cacheIndex=c;b[c]=e},_takeBackBinding:function(a){var b=this._bindings,c=a._cacheIndex,d=--this._nActiveBindings,e=b[d];a._cacheIndex=d;b[d]=a;e._cacheIndex=c;b[c]=e},_lendControlInterpolant:function(){var a=this._controlInterpolants,b=this._nActiveControlInterpolants++,c=a[b];void 0===c&&(c=new V.LinearInterpolant(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer),c.__cacheIndex=
b,a[b]=c);return c},_takeBackControlInterpolant:function(a){var b=this._controlInterpolants,c=a.__cacheIndex,d=--this._nActiveControlInterpolants,e=b[d];a.__cacheIndex=d;b[d]=a;e.__cacheIndex=c;b[c]=e},_controlInterpolantsResultBuffer:new Float32Array(1)});
V.AnimationObjectGroup=function(a){this.uuid=V.Math.generateUUID();this._objects=Array.prototype.slice.call(arguments);this.nCachedObjects_=0;var b={};this._indicesByUUID=b;for(var c=0,d=arguments.length;c!==d;++c)b[arguments[c].uuid]=c;this._paths=[];this._parsedPaths=[];this._bindings=[];this._bindingsIndicesByPath={};var e=this;this.stats={objects:{get total(){return e._objects.length},get inUse(){return this.total-e.nCachedObjects_}},get bindingsPerObject(){return e._bindings.length}}};
V.AnimationObjectGroup.prototype={constructor:V.AnimationObjectGroup,add:function(a){for(var b,c=this._objects,d=c.length,e=this.nCachedObjects_,f=this._indicesByUUID,g=this._paths,k=this._parsedPaths,l=this._bindings,m=l.length,n=0,q=arguments.length;n!==q;++n){var p=arguments[n],t=p.uuid,r=f[t];if(void 0===r){r=d++;f[t]=r;c.push(p);t=0;for(var u=m;t!==u;++t)l[t].push(new V.PropertyBinding(p,g[t],k[t]))}else if(r<e){b=c[r];var v=--e;u=c[v];f[u.uuid]=r;c[r]=u;f[t]=v;c[v]=p;t=0;for(u=m;t!==u;++t){var z=
l[t],w=z[r];z[r]=z[v];void 0===w&&(w=new V.PropertyBinding(p,g[t],k[t]));z[v]=w}}else c[r]!==b&&console.error("Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes...")}this.nCachedObjects_=e},remove:function(a){for(var b=this._objects,c=this.nCachedObjects_,d=this._indicesByUUID,e=this._bindings,f=e.length,g=0,k=arguments.length;g!==k;++g){var l=arguments[g],m=l.uuid,n=d[m];if(void 0!==n&&n>=c){var q=c++,p=b[q];d[p.uuid]=n;b[n]=p;d[m]=
q;b[q]=l;l=0;for(m=f;l!==m;++l){p=e[l];var t=p[n];p[n]=p[q];p[q]=t}}}this.nCachedObjects_=c},uncache:function(a){for(var b,c,d=this._objects,e=d.length,f=this.nCachedObjects_,g=this._indicesByUUID,k=this._bindings,l=k.length,m=0,n=arguments.length;m!==n;++m){c=arguments[m].uuid;var q=g[c];if(void 0!==q)if(delete g[c],q<f){var p=--f,t=d[p];c=--e;b=d[c];g[t.uuid]=q;d[q]=t;g[b.uuid]=p;d[p]=b;d.pop();t=0;for(var r=l;t!==r;++t){b=k[t];var u=b[c];b[q]=b[p];b[p]=u;b.pop()}}else for(c=--e,b=d[c],g[b.uuid]=
q,d[q]=b,d.pop(),t=0,r=l;t!==r;++t)b=k[t],b[q]=b[c],b.pop()}this.nCachedObjects_=f},unsubscribe_:function(a){var b=this._bindingsIndicesByPath,c=b[a];if(void 0!==c){var d=this._paths,e=this._parsedPaths,f=this._bindings,g=f.length-1,k=f[g];b[a[g]]=c;f[c]=k;f.pop();e[c]=e[g];e.pop();d[c]=d[g];d.pop()}}};
V.AnimationUtils={arraySlice:function(a,b,c){return V.AnimationUtils.isTypedArray(a)?new a.constructor(a.subarray(b,c)):a.slice(b,c)},convertArray:function(a,b,c){return!a||!c&&a.constructor===b?a:"number"===typeof b.BYTES_PER_ELEMENT?new b(a):Array.prototype.slice.call(a)},isTypedArray:function(a){return ArrayBuffer.isView(a)&&!(a instanceof DataView)},getKeyframeOrder:function(a){for(var b=a.length,c=Array(b),d=0;d!==b;++d)c[d]=d;c.sort(function(b,c){return a[b]-a[c]});return c},sortedArray:function(a,
b,c){for(var d=a.length,e=new a.constructor(d),f=0,g=0;g!==d;++f)for(var k=c[f]*b,l=0;l!==b;++l)e[g++]=a[k+l];return e},flattenJSON:function(a,b,c,d){for(var e=1,f=a[0];void 0!==f&&void 0===f[d];)f=a[e++];if(void 0!==f){var g=f[d];if(void 0!==g)if(Array.isArray(g)){do g=f[d],void 0!==g&&(b.push(f.time),c.push.apply(c,g)),f=a[e++];while(void 0!==f)}else if(void 0!==g.toArray){do g=f[d],void 0!==g&&(b.push(f.time),g.toArray(c,c.length)),f=a[e++];while(void 0!==f)}else{do g=f[d],void 0!==g&&(b.push(f.time),
c.push(g)),f=a[e++];while(void 0!==f)}}}};V.KeyframeTrack=function(a,b,c,d){if(void 0===a)throw Error("track name is undefined");if(void 0===b||0===b.length)throw Error("no keyframes in track named "+a);this.name=a;this.times=V.AnimationUtils.convertArray(b,this.TimeBufferType);this.values=V.AnimationUtils.convertArray(c,this.ValueBufferType);td(this,d||this.DefaultInterpolation);this.validate();this.optimize()};
V.KeyframeTrack.prototype={constructor:V.KeyframeTrack,TimeBufferType:Float32Array,ValueBufferType:Float32Array,DefaultInterpolation:V.InterpolateLinear,InterpolantFactoryMethodDiscrete:function(a){return new V.DiscreteInterpolant(this.times,this.values,sd(this),a)},InterpolantFactoryMethodLinear:function(a){return new V.LinearInterpolant(this.times,this.values,sd(this),a)},InterpolantFactoryMethodSmooth:function(a){return new V.CubicInterpolant(this.times,this.values,sd(this),a)},shift:function(a){if(0!==
a)for(var b=this.times,c=0,d=b.length;c!==d;++c)b[c]+=a;return this},scale:function(a){if(1!==a)for(var b=this.times,c=0,d=b.length;c!==d;++c)b[c]*=a;return this},trim:function(a,b){for(var c=this.times,d=c.length,e=0,f=d-1;e!==d&&c[e]<a;)++e;for(;-1!==f&&c[f]>b;)--f;++f;if(0!==e||f!==d)e>=f&&(f=Math.max(f,1),e=f-1),a=sd(this),this.times=V.AnimationUtils.arraySlice(c,e,f),this.values=V.AnimationUtils.arraySlice(this.values,e*a,f*a);return this},validate:function(){var a=!0,b=sd(this);0!==b-Math.floor(b)&&
(console.error("invalid value size in track",this),a=!1);var c=this.times;b=this.values;var d=c.length;0===d&&(console.error("track is empty",this),a=!1);for(var e=null,f=0;f!==d;f++){var g=c[f];if("number"===typeof g&&isNaN(g)){console.error("time is not a valid number",this,f,g);a=!1;break}if(null!==e&&e>g){console.error("out of order keys",this,f,g,e);a=!1;break}e=g}if(void 0!==b&&V.AnimationUtils.isTypedArray(b))for(f=0,c=b.length;f!==c;++f)if(d=b[f],isNaN(d)){console.error("value is not a valid number",
this,f,d);a=!1;break}return a},optimize:function(){for(var a=this.times,b=this.values,c=sd(this),d=1,e=1,f=a.length-1;e<=f;++e){var g=!1,k=a[e];if(k!==a[e+1]&&(1!==e||k!==k[0])){var l=e*c,m=l-c,n=l+c;for(k=0;k!==c;++k){var q=b[l+k];if(q!==b[m+k]||q!==b[n+k]){g=!0;break}}}if(g){if(e!==d)for(a[d]=a[e],g=e*c,l=d*c,k=0;k!==c;++k)b[l+k]=b[g+k];++d}}d!==a.length&&(this.times=V.AnimationUtils.arraySlice(a,0,d),this.values=V.AnimationUtils.arraySlice(b,0,d*c));return this}};
function sd(a){return a.values.length/a.times.length}
function td(a,b){switch(b){case V.InterpolateDiscrete:var c=a.InterpolantFactoryMethodDiscrete;break;case V.InterpolateLinear:c=a.InterpolantFactoryMethodLinear;break;case V.InterpolateSmooth:c=a.InterpolantFactoryMethodSmooth}if(void 0===c){c="unsupported interpolation for "+a.ValueTypeName+" keyframe track named "+a.name;if(void 0===a.createInterpolant)if(b!==a.DefaultInterpolation)td(a,a.DefaultInterpolation);else throw Error(c);console.warn(c)}else a.createInterpolant=c}
Object.assign(V.KeyframeTrack,{parse:function(a){if(void 0===a.type)throw Error("track type undefined, can not parse");var b=V.KeyframeTrack._getTrackTypeForValueTypeName(a.type);if(void 0===a.times){var c=[],d=[];V.AnimationUtils.flattenJSON(a.keys,c,d,"value");a.times=c;a.values=d}return void 0!==b.parse?b.parse(a):new b(a.name,a.times,a.values,a.interpolation)},toJSON:function(a){var b=a.constructor;if(void 0!==b.toJSON)b=b.toJSON(a);else{b={name:a.name,times:V.AnimationUtils.convertArray(a.times,
Array),values:V.AnimationUtils.convertArray(a.values,Array)};a:{switch(a.createInterpolant){case a.InterpolantFactoryMethodDiscrete:var c=V.InterpolateDiscrete;break a;case a.InterpolantFactoryMethodLinear:c=V.InterpolateLinear;break a;case a.InterpolantFactoryMethodSmooth:c=V.InterpolateSmooth;break a}c=void 0}c!==a.DefaultInterpolation&&(b.interpolation=c)}b.type=a.ValueTypeName;return b},_getTrackTypeForValueTypeName:function(a){switch(a.toLowerCase()){case "scalar":case "double":case "float":case "number":case "integer":return V.NumberKeyframeTrack;
case "vector":case "vector2":case "vector3":case "vector4":return V.VectorKeyframeTrack;case "color":return V.ColorKeyframeTrack;case "quaternion":return V.QuaternionKeyframeTrack;case "bool":case "boolean":return V.BooleanKeyframeTrack;case "string":return V.StringKeyframeTrack}throw Error("Unsupported typeName: "+a);}});
V.PropertyBinding=function(a,b,c){this.path=b;this.parsedPath=c||V.PropertyBinding.parseTrackName(b);this.node=V.PropertyBinding.findNode(a,this.parsedPath.nodeName)||a;this.rootNode=a};
V.PropertyBinding.prototype={constructor:V.PropertyBinding,getValue:function(a,b){this.bind();this.getValue(a,b)},setValue:function(a,b){this.bind();this.setValue(a,b)},bind:function(){var a=this.node,b=this.parsedPath,c=b.objectName,d=b.propertyName,e=b.propertyIndex;a||(this.node=a=V.PropertyBinding.findNode(this.rootNode,b.nodeName)||this.rootNode);this.getValue=this._getValue_unavailable;this.setValue=this._setValue_unavailable;if(a){if(c){var f=b.objectIndex;switch(c){case "materials":if(!a.material){console.error("  can not bind to material as node does not have a material",
this);return}if(!a.material.materials){console.error("  can not bind to material.materials as node.material does not have a materials array",this);return}a=a.material.materials;break;case "bones":if(!a.skeleton){console.error("  can not bind to bones as node does not have a skeleton",this);return}a=a.skeleton.bones;for(c=0;c<a.length;c++)if(a[c].name===f){f=c;break}break;default:if(void 0===a[c]){console.error("  can not bind to objectName of node, undefined",this);return}a=a[c]}if(void 0!==f){if(void 0===
a[f]){console.error("  trying to bind to objectIndex of objectName, but is undefined:",this,a);return}a=a[f]}}if(f=a[d]){b=this.Versioning.None;void 0!==a.needsUpdate?(b=this.Versioning.NeedsUpdate,this.targetObject=a):void 0!==a.matrixWorldNeedsUpdate&&(b=this.Versioning.MatrixWorldNeedsUpdate,this.targetObject=a);c=this.BindingType.Direct;if(void 0!==e){if("morphTargetInfluences"===d){if(!a.geometry){console.error("  can not bind to morphTargetInfluences becasuse node does not have a geometry",
this);return}if(!a.geometry.morphTargets){console.error("  can not bind to morphTargetInfluences becasuse node does not have a geometry.morphTargets",this);return}for(c=0;c<this.node.geometry.morphTargets.length;c++)if(a.geometry.morphTargets[c].name===e){e=c;break}}c=this.BindingType.ArrayElement;this.resolvedProperty=f;this.propertyIndex=e}else void 0!==f.fromArray&&void 0!==f.toArray?(c=this.BindingType.HasFromToArray,this.resolvedProperty=f):void 0!==f.length?(c=this.BindingType.EntireArray,this.resolvedProperty=
f):this.propertyName=d;this.getValue=this.GetterByBindingType[c];this.setValue=this.SetterByBindingTypeAndVersioning[c][b]}else console.error("  trying to update property for track: "+b.nodeName+"."+d+" but it wasn't found.",a)}else console.error("  trying to update node for track: "+this.path+" but it wasn't found.")},unbind:function(){this.node=null;this.getValue=this._getValue_unbound;this.setValue=this._setValue_unbound}};
Object.assign(V.PropertyBinding.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},_getValue_unbound:V.PropertyBinding.prototype.getValue,_setValue_unbound:V.PropertyBinding.prototype.setValue,BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function(a,b){a[b]=this.node[this.propertyName]},function(a,b){for(var c=this.resolvedProperty,d=0,e=c.length;d!==e;++d)a[b++]=c[d]},
function(a,b){a[b]=this.resolvedProperty[this.propertyIndex]},function(a,b){this.resolvedProperty.toArray(a,b)}],SetterByBindingTypeAndVersioning:[[function(a,b){this.node[this.propertyName]=a[b]},function(a,b){this.node[this.propertyName]=a[b];this.targetObject.needsUpdate=!0},function(a,b){this.node[this.propertyName]=a[b];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(a,b){for(var c=this.resolvedProperty,d=0,e=c.length;d!==e;++d)c[d]=a[b++]},function(a,b){for(var c=this.resolvedProperty,
d=0,e=c.length;d!==e;++d)c[d]=a[b++];this.targetObject.needsUpdate=!0},function(a,b){for(var c=this.resolvedProperty,d=0,e=c.length;d!==e;++d)c[d]=a[b++];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(a,b){this.resolvedProperty[this.propertyIndex]=a[b]},function(a,b){this.resolvedProperty[this.propertyIndex]=a[b];this.targetObject.needsUpdate=!0},function(a,b){this.resolvedProperty[this.propertyIndex]=a[b];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(a,b){this.resolvedProperty.fromArray(a,
b)},function(a,b){this.resolvedProperty.fromArray(a,b);this.targetObject.needsUpdate=!0},function(a,b){this.resolvedProperty.fromArray(a,b);this.targetObject.matrixWorldNeedsUpdate=!0}]]});
V.PropertyBinding.Composite=function(a,b,c){c=c||V.PropertyBinding.parseTrackName(b);this._targetGroup=a;var d=a._bindingsIndicesByPath,e=d[b],f=a._bindings;if(void 0!==e)b=f[e];else{var g=a._paths,k=a._parsedPaths,l=a._objects,m=a.nCachedObjects_;a=Array(l.length);e=f.length;d[b]=e;g.push(b);k.push(c);f.push(a);d=m;for(e=l.length;d!==e;++d)a[d]=new V.PropertyBinding(l[d],b,c);b=a}this._bindings=b};
V.PropertyBinding.Composite.prototype={constructor:V.PropertyBinding.Composite,getValue:function(a,b){this.bind();var c=this._bindings[this._targetGroup.nCachedObjects_];void 0!==c&&c.getValue(a,b)},setValue:function(a,b){for(var c=this._bindings,d=this._targetGroup.nCachedObjects_,e=c.length;d!==e;++d)c[d].setValue(a,b)},bind:function(){for(var a=this._bindings,b=this._targetGroup.nCachedObjects_,c=a.length;b!==c;++b)a[b].bind()},unbind:function(){for(var a=this._bindings,b=this._targetGroup.nCachedObjects_,
c=a.length;b!==c;++b)a[b].unbind()}};V.PropertyBinding.create=function(a,b,c){return a instanceof V.AnimationObjectGroup?new V.PropertyBinding.Composite(a,b,c):new V.PropertyBinding(a,b,c)};
V.PropertyBinding.parseTrackName=function(a){var b=/^(([\w]+\/)*)([\w-\d]+)?(\.([\w]+)(\[([\w\d\[\]\_.:\- ]+)\])?)?(\.([\w.]+)(\[([\w\d\[\]\_. ]+)\])?)$/,c=b.exec(a);if(!c)throw Error("cannot parse trackName at all: "+a);c.index===b.lastIndex&&b.lastIndex++;b={nodeName:c[3],objectName:c[5],objectIndex:c[7],propertyName:c[9],propertyIndex:c[11]};if(null===b.propertyName||0===b.propertyName.length)throw Error("can not parse propertyName from trackName: "+a);return b};
V.PropertyBinding.findNode=function(a,b){if(!b||""===b||"root"===b||"."===b||-1===b||b===a.name||b===a.uuid)return a;if(a.skeleton){var c=function(a){for(var c=0;c<a.bones.length;c++){var d=a.bones[c];if(d.name===b)return d}return null}(a.skeleton);if(c)return c}if(a.children){var d=function(a){for(var c=0;c<a.length;c++){var e=a[c];if(e.name===b||e.uuid===b)return e;if(e=d(e.children))return e}return null};if(a=d(a.children))return a}return null};
V.PropertyMixer=function(a,b,c){this.binding=a;this.valueSize=c;a=Float64Array;switch(b){case "quaternion":b=this._slerp;break;case "string":case "bool":a=Array;b=this._select;break;default:b=this._lerp}this.buffer=new a(4*c);this._mixBufferRegion=b;this.referenceCount=this.useCount=this.cumulativeWeight=0};
V.PropertyMixer.prototype={constructor:V.PropertyMixer,apply:function(a){var b=this.valueSize,c=this.buffer;a=a*b+b;var d=this.cumulativeWeight,e=this.binding;this.cumulativeWeight=0;1>d&&this._mixBufferRegion(c,a,3*b,1-d,b);d=b;for(var f=b+b;d!==f;++d)if(c[d]!==c[d+b]){e.setValue(c,a);break}},_select:function(a,b,c,d,e){if(.5<=d)for(d=0;d!==e;++d)a[b+d]=a[c+d]},_slerp:function(a,b,c,d){V.Quaternion.slerpFlat(a,b,a,b,a,c,d)},_lerp:function(a,b,c,d,e){for(var f=1-d,g=0;g!==e;++g){var k=b+g;a[k]=a[k]*
f+a[c+g]*d}}};V.BooleanKeyframeTrack=function(a,b,c){V.KeyframeTrack.call(this,a,b,c)};V.BooleanKeyframeTrack.prototype=Object.assign(Object.create(V.KeyframeTrack.prototype),{constructor:V.BooleanKeyframeTrack,ValueTypeName:"bool",ValueBufferType:Array,DefaultInterpolation:V.InterpolateDiscrete,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0});V.ColorKeyframeTrack=function(a,b,c,d){V.KeyframeTrack.call(this,a,b,c,d)};
V.ColorKeyframeTrack.prototype=Object.assign(Object.create(V.KeyframeTrack.prototype),{constructor:V.ColorKeyframeTrack,ValueTypeName:"color"});V.NumberKeyframeTrack=function(a,b,c,d){V.KeyframeTrack.call(this,a,b,c,d)};V.NumberKeyframeTrack.prototype=Object.assign(Object.create(V.KeyframeTrack.prototype),{constructor:V.NumberKeyframeTrack,ValueTypeName:"number"});V.QuaternionKeyframeTrack=function(a,b,c,d){V.KeyframeTrack.call(this,a,b,c,d)};
V.QuaternionKeyframeTrack.prototype=Object.assign(Object.create(V.KeyframeTrack.prototype),{constructor:V.QuaternionKeyframeTrack,ValueTypeName:"quaternion",DefaultInterpolation:V.InterpolateLinear,InterpolantFactoryMethodLinear:function(a){return new V.QuaternionLinearInterpolant(this.times,this.values,sd(this),a)},InterpolantFactoryMethodSmooth:void 0});V.StringKeyframeTrack=function(a,b,c,d){V.KeyframeTrack.call(this,a,b,c,d)};
V.StringKeyframeTrack.prototype=Object.assign(Object.create(V.KeyframeTrack.prototype),{constructor:V.StringKeyframeTrack,ValueTypeName:"string",ValueBufferType:Array,DefaultInterpolation:V.InterpolateDiscrete,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0});V.VectorKeyframeTrack=function(a,b,c,d){V.KeyframeTrack.call(this,a,b,c,d)};V.VectorKeyframeTrack.prototype=Object.assign(Object.create(V.KeyframeTrack.prototype),{constructor:V.VectorKeyframeTrack,ValueTypeName:"vector"});
V.Audio=function(a){V.Object3D.call(this);this.type="Audio";this.context=a.context;this.source=this.context.createBufferSource();this.source.onended=this.onEnded.bind(this);this.gain=this.context.createGain();this.gain.connect(a.getInput());this.autoplay=!1;this.startTime=0;this.playbackRate=1;this.isPlaying=!1;this.hasPlaybackControl=!0;this.sourceType="empty";this.filters=[]};
V.Audio.prototype=Object.assign(Object.create(V.Object3D.prototype),{constructor:V.Audio,getOutput:function(){return this.gain},setNodeSource:function(a){this.hasPlaybackControl=!1;this.sourceType="audioNode";this.source=a;this.connect();return this},setBuffer:function(a){this.source.buffer=a;this.sourceType="buffer";this.autoplay&&this.play();return this},play:function(){if(!0===this.isPlaying)console.warn("THREE.Audio: Audio is already playing.");else if(!1===this.hasPlaybackControl)console.warn("THREE.Audio: this Audio has no playback control.");
else{var a=this.context.createBufferSource();a.buffer=this.source.buffer;a.loop=this.source.loop;a.onended=this.source.onended;a.start(0,this.startTime);a.playbackRate.value=this.playbackRate;this.isPlaying=!0;this.source=a;return this.connect()}},pause:function(){if(!1===this.hasPlaybackControl)console.warn("THREE.Audio: this Audio has no playback control.");else return this.source.stop(),this.startTime=this.context.currentTime,this},stop:function(){if(!1===this.hasPlaybackControl)console.warn("THREE.Audio: this Audio has no playback control.");
else return this.source.stop(),this.startTime=0,this},connect:function(){if(0<this.filters.length){this.source.connect(this.filters[0]);for(var a=1,b=this.filters.length;a<b;a++)this.filters[a-1].connect(this.filters[a]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this},disconnect:function(){if(0<this.filters.length){this.source.disconnect(this.filters[0]);for(var a=1,b=this.filters.length;a<b;a++)this.filters[a-1].disconnect(this.filters[a]);
this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this},getFilters:function(){return this.filters},setFilters:function(a){a||(a=[]);!0===this.isPlaying?(this.disconnect(),this.filters=a,this.connect()):this.filters=a;return this},getFilter:function(){return this.getFilters()[0]},setFilter:function(a){return this.setFilters(a?[a]:[])},setPlaybackRate:function(a){if(!1===this.hasPlaybackControl)console.warn("THREE.Audio: this Audio has no playback control.");
else return this.playbackRate=a,!0===this.isPlaying&&(this.source.playbackRate.value=this.playbackRate),this},getPlaybackRate:function(){return this.playbackRate},onEnded:function(){this.isPlaying=!1},getLoop:function(){return!1===this.hasPlaybackControl?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.source.loop},setLoop:function(a){!1===this.hasPlaybackControl?console.warn("THREE.Audio: this Audio has no playback control."):this.source.loop=a},getVolume:function(){return this.gain.gain.value},
setVolume:function(a){this.gain.gain.value=a;return this}});V.AudioAnalyser=function(a,b){this.analyser=a.context.createAnalyser();this.analyser.fftSize=void 0!==b?b:2048;this.data=new Uint8Array(this.analyser.frequencyBinCount);a.getOutput().connect(this.analyser)};
Object.assign(V.AudioAnalyser.prototype,{getFrequencyData:function(){this.analyser.getByteFrequencyData(this.data);return this.data},getAverageFrequency:function(){for(var a=0,b=this.getFrequencyData(),c=0;c<b.length;c++)a+=b[c];return a/b.length}});Object.defineProperty(V,"AudioContext",{get:function(){var a;return function(){void 0===a&&(a=new (window.AudioContext||window.webkitAudioContext));return a}}()});
V.PositionalAudio=function(a){V.Audio.call(this,a);this.panner=this.context.createPanner();this.panner.connect(this.gain)};
V.PositionalAudio.prototype=Object.assign(Object.create(V.Audio.prototype),{constructor:V.PositionalAudio,getOutput:function(){return this.panner},getRefDistance:function(){return this.panner.refDistance},setRefDistance:function(a){this.panner.refDistance=a},getRolloffFactor:function(){return this.panner.rolloffFactor},setRolloffFactor:function(a){this.panner.rolloffFactor=a},getDistanceModel:function(){return this.panner.distanceModel},setDistanceModel:function(a){this.panner.distanceModel=a},getMaxDistance:function(){return this.panner.maxDistance},
setMaxDistance:function(a){this.panner.maxDistance=a},updateMatrixWorld:function(){var a=new V.Vector3;return function(b){V.Object3D.prototype.updateMatrixWorld.call(this,b);Uc(a,this.matrixWorld);this.panner.setPosition(a.x,a.y,a.z)}}()});V.AudioListener=function(){V.Object3D.call(this);this.type="AudioListener";this.context=V.AudioContext;this.gain=this.context.createGain();this.gain.connect(this.context.destination);this.filter=null};
V.AudioListener.prototype=Object.assign(Object.create(V.Object3D.prototype),{constructor:V.AudioListener,getInput:function(){return this.gain},removeFilter:function(){null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null)},getFilter:function(){return this.filter},setFilter:function(a){null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):
this.gain.disconnect(this.context.destination);this.filter=a;this.gain.connect(this.filter);this.filter.connect(this.context.destination)},getMasterVolume:function(){return this.gain.gain.value},setMasterVolume:function(a){this.gain.gain.value=a},updateMatrixWorld:function(){var a=new V.Vector3,b=new V.Quaternion,c=new V.Vector3,d=new V.Vector3;return function(e){V.Object3D.prototype.updateMatrixWorld.call(this,e);e=this.context.listener;var f=this.up;this.matrixWorld.decompose(a,b,c);Qc(d.set(0,
0,-1),b);e.setPosition(a.x,a.y,a.z);e.setOrientation(d.x,d.y,d.z,f.x,f.y,f.z)}}()});V.Camera=function(){V.Object3D.call(this);this.type="Camera";this.matrixWorldInverse=new V.Matrix4;this.projectionMatrix=new V.Matrix4};V.Camera.prototype=Object.create(V.Object3D.prototype);h=V.Camera.prototype;h.constructor=V.Camera;h.getWorldDirection=function(){var a=new V.Quaternion;return function(b){b=b||new V.Vector3;this.getWorldQuaternion(a);return Qc(b.set(0,0,-1),a)}}();
h.lookAt=function(){var a=new V.Matrix4;return function(b){a.lookAt(this.position,b,this.up);this.quaternion.setFromRotationMatrix(a)}}();h.clone=function(){return(new this.constructor).copy(this)};h.copy=function(a){V.Object3D.prototype.copy.call(this,a);this.matrixWorldInverse.copy(a.matrixWorldInverse);this.projectionMatrix.copy(a.projectionMatrix);return this};
V.CubeCamera=function(a,b,c){V.Object3D.call(this);this.type="CubeCamera";var d=new V.PerspectiveCamera(90,1,a,b);d.up.set(0,-1,0);d.lookAt(new V.Vector3(1,0,0));this.add(d);var e=new V.PerspectiveCamera(90,1,a,b);e.up.set(0,-1,0);e.lookAt(new V.Vector3(-1,0,0));this.add(e);var f=new V.PerspectiveCamera(90,1,a,b);f.up.set(0,0,1);f.lookAt(new V.Vector3(0,1,0));this.add(f);var g=new V.PerspectiveCamera(90,1,a,b);g.up.set(0,0,-1);g.lookAt(new V.Vector3(0,-1,0));this.add(g);var k=new V.PerspectiveCamera(90,
1,a,b);k.up.set(0,-1,0);k.lookAt(new V.Vector3(0,0,1));this.add(k);var l=new V.PerspectiveCamera(90,1,a,b);l.up.set(0,-1,0);l.lookAt(new V.Vector3(0,0,-1));this.add(l);this.renderTarget=new V.WebGLRenderTargetCube(c,c,{format:V.RGBFormat,magFilter:V.LinearFilter,minFilter:V.LinearFilter});this.updateCubeMap=function(a,b){null===this.parent&&this.updateMatrixWorld();var c=this.renderTarget,m=c.texture.generateMipmaps;c.texture.generateMipmaps=!1;c.activeCubeFace=0;a.render(b,d,c);c.activeCubeFace=
1;a.render(b,e,c);c.activeCubeFace=2;a.render(b,f,c);c.activeCubeFace=3;a.render(b,g,c);c.activeCubeFace=4;a.render(b,k,c);c.texture.generateMipmaps=m;c.activeCubeFace=5;a.render(b,l,c);a.setRenderTarget(null)}};V.CubeCamera.prototype=Object.create(V.Object3D.prototype);V.CubeCamera.prototype.constructor=V.CubeCamera;
V.OrthographicCamera=function(a,b,c,d,e,f){V.Camera.call(this);this.type="OrthographicCamera";this.zoom=1;this.left=a;this.right=b;this.top=c;this.bottom=d;this.near=void 0!==e?e:.1;this.far=void 0!==f?f:2E3;this.updateProjectionMatrix()};
V.OrthographicCamera.prototype=Object.assign(Object.create(V.Camera.prototype),{constructor:V.OrthographicCamera,copy:function(a){V.Camera.prototype.copy.call(this,a);this.left=a.left;this.right=a.right;this.top=a.top;this.bottom=a.bottom;this.near=a.near;this.far=a.far;this.zoom=a.zoom;return this},updateProjectionMatrix:function(){var a=(this.right-this.left)/(2*this.zoom),b=(this.top-this.bottom)/(2*this.zoom),c=(this.right+this.left)/2,d=(this.top+this.bottom)/2,e=c-a;a=c+a;c=d+b;b=d-b;d=this.near;
var f=this.far,g=this.projectionMatrix.elements,k=1/(a-e),l=1/(c-b),m=1/(f-d);g[0]=2*k;g[4]=0;g[8]=0;g[12]=-((a+e)*k);g[1]=0;g[5]=2*l;g[9]=0;g[13]=-((c+b)*l);g[2]=0;g[6]=0;g[10]=-2*m;g[14]=-((f+d)*m);g[3]=0;g[7]=0;g[11]=0;g[15]=1},toJSON:function(a){a=V.Object3D.prototype.toJSON.call(this,a);a.object.zoom=this.zoom;a.object.left=this.left;a.object.right=this.right;a.object.top=this.top;a.object.bottom=this.bottom;a.object.near=this.near;a.object.far=this.far;return a}});
V.PerspectiveCamera=function(a,b,c,d){V.Camera.call(this);this.type="PerspectiveCamera";this.fov=void 0!==a?a:50;this.zoom=1;this.near=void 0!==c?c:.1;this.far=void 0!==d?d:2E3;this.focus=10;this.aspect=void 0!==b?b:1;this.view=null;this.filmGauge=35;this.filmOffset=0;this.updateProjectionMatrix()};
V.PerspectiveCamera.prototype=Object.assign(Object.create(V.Camera.prototype),{constructor:V.PerspectiveCamera,copy:function(a){V.Camera.prototype.copy.call(this,a);this.fov=a.fov;this.zoom=a.zoom;this.near=a.near;this.far=a.far;this.focus=a.focus;this.aspect=a.aspect;this.view=null===a.view?null:Object.assign({},a.view);this.filmGauge=a.filmGauge;this.filmOffset=a.filmOffset;return this},setFocalLength:function(a){this.fov=2*V.Math.RAD2DEG*Math.atan(.5*this.getFilmHeight()/a);this.updateProjectionMatrix()},
getFocalLength:function(){return.5*this.getFilmHeight()/Math.tan(.5*V.Math.DEG2RAD*this.fov)},getEffectiveFOV:function(){return 2*V.Math.RAD2DEG*Math.atan(Math.tan(.5*V.Math.DEG2RAD*this.fov)/this.zoom)},getFilmWidth:function(){return this.filmGauge*Math.min(this.aspect,1)},getFilmHeight:function(){return this.filmGauge/Math.max(this.aspect,1)},setViewOffset:function(a,b,c,d,e,f){this.aspect=a/b;this.view={fullWidth:a,fullHeight:b,offsetX:c,offsetY:d,width:e,height:f};this.updateProjectionMatrix()},
clearViewOffset:function(){this.view=null;this.updateProjectionMatrix()},updateProjectionMatrix:function(){var a=this.near,b=a*Math.tan(.5*V.Math.DEG2RAD*this.fov)/this.zoom,c=2*b,d=this.aspect*c,e=-.5*d,f=this.view;if(null!==f){var g=f.fullWidth,k=f.fullHeight;e+=f.offsetX*d/g;b-=f.offsetY*c/k;d*=f.width/g;c*=f.height/k}f=this.filmOffset;0!==f&&(e+=a*f/this.getFilmWidth());ad(this.projectionMatrix,e,e+d,b-c,b,a,this.far)},toJSON:function(a){a=V.Object3D.prototype.toJSON.call(this,a);a.object.fov=
this.fov;a.object.zoom=this.zoom;a.object.near=this.near;a.object.far=this.far;a.object.focus=this.focus;a.object.aspect=this.aspect;null!==this.view&&(a.object.view=Object.assign({},this.view));a.object.filmGauge=this.filmGauge;a.object.filmOffset=this.filmOffset;return a}});
V.StereoCamera=function(){this.type="StereoCamera";this.aspect=1;this.cameraL=new V.PerspectiveCamera;this.cameraL.layers.enable(1);this.cameraL.matrixAutoUpdate=!1;this.cameraR=new V.PerspectiveCamera;this.cameraR.layers.enable(2);this.cameraR.matrixAutoUpdate=!1};
Object.assign(V.StereoCamera.prototype,{update:function(){var a,b,c,d,e,f=new V.Matrix4,g=new V.Matrix4;return function(k){if(a!==k.focus||b!==k.fov||c!==k.aspect*this.aspect||d!==k.near||e!==k.far){a=k.focus;b=k.fov;c=k.aspect*this.aspect;d=k.near;e=k.far;var l=k.projectionMatrix.clone(),m=.032*d/a,n=d*Math.tan(V.Math.DEG2RAD*b*.5);g.elements[12]=-.032;f.elements[12]=.032;var q=-n*c+m;var p=n*c+m;l.elements[0]=2*d/(p-q);l.elements[8]=(p+q)/(p-q);this.cameraL.projectionMatrix.copy(l);q=-n*c-m;p=n*
c-m;l.elements[0]=2*d/(p-q);l.elements[8]=(p+q)/(p-q);this.cameraR.projectionMatrix.copy(l)}this.cameraL.matrixWorld.copy(k.matrixWorld).multiply(g);this.cameraR.matrixWorld.copy(k.matrixWorld).multiply(f)}}()});V.Light=function(a,b){V.Object3D.call(this);this.type="Light";this.color=new V.Color(a);this.intensity=void 0!==b?b:1;this.receiveShadow=void 0};
V.Light.prototype=Object.assign(Object.create(V.Object3D.prototype),{constructor:V.Light,copy:function(a){V.Object3D.prototype.copy.call(this,a);this.color.copy(a.color);this.intensity=a.intensity;return this},toJSON:function(a){a=V.Object3D.prototype.toJSON.call(this,a);a.object.color=Lc(this.color);a.object.intensity=this.intensity;void 0!==this.groundColor&&(a.object.groundColor=Lc(this.groundColor));void 0!==this.distance&&(a.object.distance=this.distance);void 0!==this.angle&&(a.object.angle=
this.angle);void 0!==this.decay&&(a.object.decay=this.decay);void 0!==this.penumbra&&(a.object.penumbra=this.penumbra);return a}});V.LightShadow=function(a){this.camera=a;this.bias=0;this.radius=1;this.mapSize=new V.Vector2(512,512);this.map=null;this.matrix=new V.Matrix4};Object.assign(V.LightShadow.prototype,{copy:function(a){this.camera=a.camera.clone();this.bias=a.bias;this.radius=a.radius;this.mapSize.copy(a.mapSize);return this},clone:function(){return(new this.constructor).copy(this)}});
V.AmbientLight=function(a,b){V.Light.call(this,a,b);this.type="AmbientLight";this.castShadow=void 0};V.AmbientLight.prototype=Object.assign(Object.create(V.Light.prototype),{constructor:V.AmbientLight});V.DirectionalLight=function(a,b){V.Light.call(this,a,b);this.type="DirectionalLight";this.position.set(0,1,0);this.updateMatrix();this.target=new V.Object3D;this.shadow=new V.DirectionalLightShadow};
V.DirectionalLight.prototype=Object.assign(Object.create(V.Light.prototype),{constructor:V.DirectionalLight,copy:function(a){V.Light.prototype.copy.call(this,a);this.target=a.target.clone();this.shadow=a.shadow.clone();return this}});V.DirectionalLightShadow=function(){V.LightShadow.call(this,new V.OrthographicCamera(-5,5,5,-5,.5,500))};V.DirectionalLightShadow.prototype=Object.assign(Object.create(V.LightShadow.prototype),{constructor:V.DirectionalLightShadow});
V.HemisphereLight=function(a,b,c){V.Light.call(this,a,c);this.type="HemisphereLight";this.castShadow=void 0;this.position.set(0,1,0);this.updateMatrix();this.groundColor=new V.Color(b)};V.HemisphereLight.prototype=Object.assign(Object.create(V.Light.prototype),{constructor:V.HemisphereLight,copy:function(a){V.Light.prototype.copy.call(this,a);this.groundColor.copy(a.groundColor);return this}});
V.PointLight=function(a,b,c,d){V.Light.call(this,a,b);this.type="PointLight";Object.defineProperty(this,"power",{get:function(){return 4*this.intensity*Math.PI},set:function(a){this.intensity=a/(4*Math.PI)}});this.distance=void 0!==c?c:0;this.decay=void 0!==d?d:1;this.shadow=new V.LightShadow(new V.PerspectiveCamera(90,1,.5,500))};
V.PointLight.prototype=Object.assign(Object.create(V.Light.prototype),{constructor:V.PointLight,copy:function(a){V.Light.prototype.copy.call(this,a);this.distance=a.distance;this.decay=a.decay;this.shadow=a.shadow.clone();return this}});
V.SpotLight=function(a,b,c,d,e,f){V.Light.call(this,a,b);this.type="SpotLight";this.position.set(0,1,0);this.updateMatrix();this.target=new V.Object3D;Object.defineProperty(this,"power",{get:function(){return this.intensity*Math.PI},set:function(a){this.intensity=a/Math.PI}});this.distance=void 0!==c?c:0;this.angle=void 0!==d?d:Math.PI/3;this.penumbra=void 0!==e?e:0;this.decay=void 0!==f?f:1;this.shadow=new V.SpotLightShadow};
V.SpotLight.prototype=Object.assign(Object.create(V.Light.prototype),{constructor:V.SpotLight,copy:function(a){V.Light.prototype.copy.call(this,a);this.distance=a.distance;this.angle=a.angle;this.penumbra=a.penumbra;this.decay=a.decay;this.target=a.target.clone();this.shadow=a.shadow.clone();return this}});V.SpotLightShadow=function(){V.LightShadow.call(this,new V.PerspectiveCamera(50,1,.5,500))};
V.SpotLightShadow.prototype=Object.assign(Object.create(V.LightShadow.prototype),{constructor:V.SpotLightShadow,update:function(a){var b=2*V.Math.RAD2DEG*a.angle,c=this.mapSize.width/this.mapSize.height;a=a.distance||500;var d=this.camera;if(b!==d.fov||c!==d.aspect||a!==d.far)d.fov=b,d.aspect=c,d.far=a,d.updateProjectionMatrix()}});V.AudioLoader=function(a){this.manager=void 0!==a?a:V.DefaultLoadingManager};
V.AudioLoader.prototype={constructor:V.AudioLoader,load:function(a,b,c,d){var e=new V.XHRLoader(this.manager);ud(e);e.load(a,function(a){V.AudioContext.decodeAudioData(a,function(a){b(a)})},c,d)}};V.Cache={enabled:!1,files:{},add:function(a,b){!1!==this.enabled&&(this.files[a]=b)},get:function(a){if(!1!==this.enabled)return this.files[a]},remove:function(a){delete this.files[a]},clear:function(){this.files={}}};
V.Loader=function(){this.onLoadStart=function(){};this.onLoadProgress=function(){};this.onLoadComplete=function(){}};
V.Loader.prototype={constructor:V.Loader,crossOrigin:void 0,createMaterial:function(){var a,b,c;return function(d,e,f){function g(a,c,d,g,l){a=e+a;var m=V.Loader.Handlers.get(a);null!==m?a=m.load(a):(b.setCrossOrigin(f),a=b.load(a));void 0!==c&&(a.repeat.fromArray(c),1!==c[0]&&(a.wrapS=V.RepeatWrapping),1!==c[1]&&(a.wrapT=V.RepeatWrapping));void 0!==d&&a.offset.fromArray(d);void 0!==g&&("repeat"===g[0]&&(a.wrapS=V.RepeatWrapping),"mirror"===g[0]&&(a.wrapS=V.MirroredRepeatWrapping),"repeat"===g[1]&&
(a.wrapT=V.RepeatWrapping),"mirror"===g[1]&&(a.wrapT=V.MirroredRepeatWrapping));void 0!==l&&(a.anisotropy=l);c=V.Math.generateUUID();k[c]=a;return c}void 0===a&&(a=new V.Color);void 0===b&&(b=new V.TextureLoader);void 0===c&&(c=new V.MaterialLoader);var k={},l={uuid:V.Math.generateUUID(),type:"MeshLambertMaterial"},m;for(m in d){var n=d[m];switch(m){case "DbgColor":case "DbgIndex":case "opticalDensity":case "illumination":break;case "DbgName":l.name=n;break;case "blending":l.blending=V[n];break;case "colorAmbient":case "mapAmbient":console.warn("THREE.Loader.createMaterial:",
m,"is no longer supported.");break;case "colorDiffuse":l.color=Lc(a.fromArray(n));break;case "colorSpecular":l.specular=Lc(a.fromArray(n));break;case "colorEmissive":l.emissive=Lc(a.fromArray(n));break;case "specularCoef":l.shininess=n;break;case "shading":"basic"===n.toLowerCase()&&(l.type="MeshBasicMaterial");"phong"===n.toLowerCase()&&(l.type="MeshPhongMaterial");break;case "mapDiffuse":l.map=g(n,d.mapDiffuseRepeat,d.mapDiffuseOffset,d.mapDiffuseWrap,d.mapDiffuseAnisotropy);break;case "mapDiffuseRepeat":case "mapDiffuseOffset":case "mapDiffuseWrap":case "mapDiffuseAnisotropy":break;
case "mapLight":l.lightMap=g(n,d.mapLightRepeat,d.mapLightOffset,d.mapLightWrap,d.mapLightAnisotropy);break;case "mapLightRepeat":case "mapLightOffset":case "mapLightWrap":case "mapLightAnisotropy":break;case "mapAO":l.aoMap=g(n,d.mapAORepeat,d.mapAOOffset,d.mapAOWrap,d.mapAOAnisotropy);break;case "mapAORepeat":case "mapAOOffset":case "mapAOWrap":case "mapAOAnisotropy":break;case "mapBump":l.bumpMap=g(n,d.mapBumpRepeat,d.mapBumpOffset,d.mapBumpWrap,d.mapBumpAnisotropy);break;case "mapBumpScale":l.bumpScale=
n;break;case "mapBumpRepeat":case "mapBumpOffset":case "mapBumpWrap":case "mapBumpAnisotropy":break;case "mapNormal":l.normalMap=g(n,d.mapNormalRepeat,d.mapNormalOffset,d.mapNormalWrap,d.mapNormalAnisotropy);break;case "mapNormalFactor":l.normalScale=[n,n];break;case "mapNormalRepeat":case "mapNormalOffset":case "mapNormalWrap":case "mapNormalAnisotropy":break;case "mapSpecular":l.specularMap=g(n,d.mapSpecularRepeat,d.mapSpecularOffset,d.mapSpecularWrap,d.mapSpecularAnisotropy);break;case "mapSpecularRepeat":case "mapSpecularOffset":case "mapSpecularWrap":case "mapSpecularAnisotropy":break;
case "mapAlpha":l.alphaMap=g(n,d.mapAlphaRepeat,d.mapAlphaOffset,d.mapAlphaWrap,d.mapAlphaAnisotropy);break;case "mapAlphaRepeat":case "mapAlphaOffset":case "mapAlphaWrap":case "mapAlphaAnisotropy":break;case "flipSided":l.side=V.BackSide;break;case "doubleSided":l.side=V.DoubleSide;break;case "transparency":console.warn("THREE.Loader.createMaterial: transparency has been renamed to opacity");l.opacity=n;break;case "depthTest":case "depthWrite":case "colorWrite":case "opacity":case "reflectivity":case "transparent":case "visible":case "wireframe":l[m]=
n;break;case "vertexColors":!0===n&&(l.vertexColors=V.VertexColors);"face"===n&&(l.vertexColors=V.FaceColors);break;default:console.error("THREE.Loader.createMaterial: Unsupported",m,n)}}"MeshBasicMaterial"===l.type&&delete l.emissive;"MeshPhongMaterial"!==l.type&&delete l.specular;1>l.opacity&&(l.transparent=!0);c.textures=k;return c.parse(l)}}()};function vd(a,b,c){for(var d=V.Loader.prototype,e=[],f=0;f<a.length;++f)e[f]=d.createMaterial(a[f],b,c);return e}
function wd(a){a=a.split("/");if(1===a.length)return"./";a.pop();return a.join("/")+"/"}V.Loader.Handlers={handlers:[],add:function(a,b){this.handlers.push(a,b)},get:function(a){for(var b=this.handlers,c=0,d=b.length;c<d;c+=2){var e=b[c+1];if(b[c].test(a))return e}return null}};V.XHRLoader=function(a){this.manager=void 0!==a?a:V.DefaultLoadingManager};
V.XHRLoader.prototype={constructor:V.XHRLoader,load:function(a,b,c,d){void 0!==this.path&&(a=this.path+a);var e=this,f=V.Cache.get(a);if(void 0!==f)return b&&setTimeout(function(){b(f)},0),f;var g=new XMLHttpRequest;g.overrideMimeType("text/plain");g.open("GET",a,!0);g.addEventListener("load",function(c){var f=c.target.response;V.Cache.add(a,f);200===this.status?(b&&b(f),e.manager.itemEnd(a)):0===this.status?(console.warn("THREE.XHRLoader: HTTP Status 0 received."),b&&b(f),e.manager.itemEnd(a)):(d&&
d(c),e.manager.itemError(a))},!1);void 0!==c&&g.addEventListener("progress",function(a){c(a)},!1);g.addEventListener("error",function(b){d&&d(b);e.manager.itemError(a)},!1);void 0!==this.responseType&&(g.responseType=this.responseType);void 0!==this.withCredentials&&(g.withCredentials=this.withCredentials);g.send(null);e.manager.itemStart(a);return g},setPath:function(a){this.path=a}};function ud(a){a.responseType="arraybuffer"}V.FontLoader=function(a){this.manager=void 0!==a?a:V.DefaultLoadingManager};
V.FontLoader.prototype={constructor:V.FontLoader,load:function(a,b,c,d){var e=this;(new V.XHRLoader(this.manager)).load(a,function(a){try{var c=JSON.parse(a)}catch(k){console.warn("THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead."),c=JSON.parse(a.substring(65,a.length-2))}a=e.parse(c);b&&b(a)},c,d)},parse:function(a){return new V.Font(a)}};V.ImageLoader=function(a){this.manager=void 0!==a?a:V.DefaultLoadingManager};
V.ImageLoader.prototype={constructor:V.ImageLoader,load:function(a,b,c,d){void 0!==this.path&&(a=this.path+a);var e=this,f=V.Cache.get(a);if(void 0!==f)return e.manager.itemStart(a),b?setTimeout(function(){b(f);e.manager.itemEnd(a)},0):e.manager.itemEnd(a),f;var g=document.createElement("img");g.addEventListener("load",function(){V.Cache.add(a,this);b&&b(this);e.manager.itemEnd(a)},!1);void 0!==c&&g.addEventListener("progress",function(a){c(a)},!1);g.addEventListener("error",function(b){d&&d(b);e.manager.itemError(a)},
!1);void 0!==this.crossOrigin&&(g.crossOrigin=this.crossOrigin);e.manager.itemStart(a);g.src=a;return g},setCrossOrigin:function(a){this.crossOrigin=a},setPath:function(a){this.path=a}};V.JSONLoader=function(a){"boolean"===typeof a&&(console.warn("THREE.JSONLoader: showStatus parameter has been removed from constructor."),a=void 0);this.manager=void 0!==a?a:V.DefaultLoadingManager;this.withCredentials=!1};
V.JSONLoader.prototype={constructor:V.JSONLoader,get statusDomElement(){void 0===this._statusDomElement&&(this._statusDomElement=document.createElement("div"));console.warn("THREE.JSONLoader: .statusDomElement has been removed.");return this._statusDomElement},load:function(a,b,c,d){var e=this,f=this.texturePath&&"string"===typeof this.texturePath?this.texturePath:wd(a),g=new V.XHRLoader(this.manager);g.withCredentials=this.withCredentials;g.load(a,function(c){c=JSON.parse(c);var d=c.metadata;if(void 0!==
d&&(d=d.type,void 0!==d)){if("object"===d.toLowerCase()){console.error("THREE.JSONLoader: "+a+" should be loaded with THREE.ObjectLoader instead.");return}if("scene"===d.toLowerCase()){console.error("THREE.JSONLoader: "+a+" should be loaded with THREE.SceneLoader instead.");return}}c=e.parse(c,f);b(c.geometry,c.materials)},c,d)},setTexturePath:function(a){this.texturePath=a},parse:function(a,b){var c=new V.Geometry,d=void 0!==a.scale?1/a.scale:1;(function(b){var d,e,k,l=a.faces;var m=a.vertices;var n=
a.normals,q=a.colors,p=0;if(void 0!==a.uvs){for(d=0;d<a.uvs.length;d++)a.uvs[d].length&&p++;for(d=0;d<p;d++)c.faceVertexUvs[d]=[]}var t=0;for(k=m.length;t<k;)d=new V.Vector3,d.x=m[t++]*b,d.y=m[t++]*b,d.z=m[t++]*b,c.vertices.push(d);t=0;for(k=l.length;t<k;){b=l[t++];var r=b&1;var u=b&2;d=b&8;var v=b&16;var z=b&32;m=b&64;b&=128;if(r){r=new V.Face3;r.a=l[t];r.b=l[t+1];r.c=l[t+3];var w=new V.Face3;w.a=l[t+1];w.b=l[t+2];w.c=l[t+3];t+=4;u&&(u=l[t++],r.materialIndex=u,w.materialIndex=u);u=c.faces.length;
if(d)for(d=0;d<p;d++){var A=a.uvs[d];c.faceVertexUvs[d][u]=[];c.faceVertexUvs[d][u+1]=[];for(e=0;4>e;e++){var y=l[t++];var C=A[2*y];y=A[2*y+1];C=new V.Vector2(C,y);2!==e&&c.faceVertexUvs[d][u].push(C);0!==e&&c.faceVertexUvs[d][u+1].push(C)}}v&&(v=3*l[t++],r.normal.set(n[v++],n[v++],n[v]),w.normal.copy(r.normal));if(z)for(d=0;4>d;d++)v=3*l[t++],z=new V.Vector3(n[v++],n[v++],n[v]),2!==d&&r.vertexNormals.push(z),0!==d&&w.vertexNormals.push(z);m&&(m=l[t++],m=q[m],Jc(r.color,m),Jc(w.color,m));if(b)for(d=
0;4>d;d++)m=l[t++],m=q[m],2!==d&&r.vertexColors.push(new V.Color(m)),0!==d&&w.vertexColors.push(new V.Color(m));c.faces.push(r);c.faces.push(w)}else{r=new V.Face3;r.a=l[t++];r.b=l[t++];r.c=l[t++];u&&(u=l[t++],r.materialIndex=u);u=c.faces.length;if(d)for(d=0;d<p;d++)for(A=a.uvs[d],c.faceVertexUvs[d][u]=[],e=0;3>e;e++)y=l[t++],C=A[2*y],y=A[2*y+1],C=new V.Vector2(C,y),c.faceVertexUvs[d][u].push(C);v&&(v=3*l[t++],r.normal.set(n[v++],n[v++],n[v]));if(z)for(d=0;3>d;d++)v=3*l[t++],z=new V.Vector3(n[v++],
n[v++],n[v]),r.vertexNormals.push(z);m&&(m=l[t++],Jc(r.color,q[m]));if(b)for(d=0;3>d;d++)m=l[t++],r.vertexColors.push(new V.Color(q[m]));c.faces.push(r)}}})(d);(function(){var b=void 0!==a.influencesPerVertex?a.influencesPerVertex:2;if(a.skinWeights)for(var d=0,g=a.skinWeights.length;d<g;d+=b)c.skinWeights.push(new V.Vector4(a.skinWeights[d],1<b?a.skinWeights[d+1]:0,2<b?a.skinWeights[d+2]:0,3<b?a.skinWeights[d+3]:0));if(a.skinIndices)for(d=0,g=a.skinIndices.length;d<g;d+=b)c.skinIndices.push(new V.Vector4(a.skinIndices[d],
1<b?a.skinIndices[d+1]:0,2<b?a.skinIndices[d+2]:0,3<b?a.skinIndices[d+3]:0));c.bones=a.bones;c.bones&&0<c.bones.length&&(c.skinWeights.length!==c.skinIndices.length||c.skinIndices.length!==c.vertices.length)&&console.warn("When skinning, number of vertices ("+c.vertices.length+"), skinIndices ("+c.skinIndices.length+"), and skinWeights ("+c.skinWeights.length+") should match.")})();(function(b){if(void 0!==a.morphTargets)for(var d=0,e=a.morphTargets.length;d<e;d++){c.morphTargets[d]={};c.morphTargets[d].name=
a.morphTargets[d].name;c.morphTargets[d].vertices=[];for(var k=c.morphTargets[d].vertices,l=a.morphTargets[d].vertices,m=0,n=l.length;m<n;m+=3){var q=new V.Vector3;q.x=l[m]*b;q.y=l[m+1]*b;q.z=l[m+2]*b;k.push(q)}}if(void 0!==a.morphColors&&0<a.morphColors.length)for(console.warn('THREE.JSONLoader: "morphColors" no longer supported. Using them as face colors.'),b=c.faces,k=a.morphColors[0].colors,d=0,e=b.length;d<e;d++)b[d].color.fromArray(k,3*d)})(d);(function(){var b=[],d=[];void 0!==a.animation&&
d.push(a.animation);void 0!==a.animations&&(a.animations.length?d=d.concat(a.animations):d.push(a.animations));for(var g=0;g<d.length;g++){var k=V.AnimationClip.parseAnimation(d[g],c.bones);k&&b.push(k)}c.morphTargets&&(d=V.AnimationClip.CreateClipsFromMorphTargetSequences(c.morphTargets,10),b=b.concat(d));0<b.length&&(c.animations=b)})();c.computeFaceNormals();c.computeBoundingSphere();if(void 0===a.materials||0===a.materials.length)return{geometry:c};b=vd(a.materials,b,this.crossOrigin);return{geometry:c,
materials:b}}};V.LoadingManager=function(a){var b=this,c=!1,d=0,e=0;this.onStart=void 0;this.onLoad=a;this.onError=this.onProgress=void 0;this.itemStart=function(a){e++;if(!1===c&&void 0!==b.onStart)b.onStart(a,d,e);c=!0};this.itemEnd=function(a){d++;if(void 0!==b.onProgress)b.onProgress(a,d,e);if(d===e&&(c=!1,void 0!==b.onLoad))b.onLoad()};this.itemError=function(a){if(void 0!==b.onError)b.onError(a)}};V.DefaultLoadingManager=new V.LoadingManager;
V.BufferGeometryLoader=function(a){this.manager=void 0!==a?a:V.DefaultLoadingManager};
V.BufferGeometryLoader.prototype={constructor:V.BufferGeometryLoader,load:function(a,b,c,d){var e=this;(new V.XHRLoader(e.manager)).load(a,function(a){b(e.parse(JSON.parse(a)))},c,d)},parse:function(a){var b=new V.BufferGeometry;var c=a.data.index;var d={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:Uint8ClampedArray,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};void 0!==c&&(c=new d[c.type](c.array),
b.setIndex(new V.BufferAttribute(c,1)));var e=a.data.attributes;for(g in e){var f=e[g];c=new d[f.type](f.array);b.addAttribute(g,new V.BufferAttribute(c,f.itemSize,f.normalized))}d=a.data.groups||a.data.drawcalls||a.data.offsets;if(void 0!==d){var g=0;for(c=d.length;g!==c;++g)e=d[g],b.addGroup(e.start,e.count,e.materialIndex)}a=a.data.boundingSphere;void 0!==a&&(d=new V.Vector3,void 0!==a.center&&d.fromArray(a.center),b.boundingSphere=new V.Sphere(d,a.radius));return b}};
V.MaterialLoader=function(a){this.manager=void 0!==a?a:V.DefaultLoadingManager;this.textures={}};
V.MaterialLoader.prototype={constructor:V.MaterialLoader,load:function(a,b,c,d){var e=this;(new V.XHRLoader(e.manager)).load(a,function(a){b(e.parse(JSON.parse(a)))},c,d)},parse:function(a){var b=new V[a.type];void 0!==a.uuid&&(b.uuid=a.uuid);void 0!==a.name&&(b.name=a.name);void 0!==a.color&&Jc(b.color,a.color);void 0!==a.roughness&&(b.roughness=a.roughness);void 0!==a.metalness&&(b.metalness=a.metalness);void 0!==a.emissive&&Jc(b.emissive,a.emissive);void 0!==a.specular&&Jc(b.specular,a.specular);
void 0!==a.shininess&&(b.shininess=a.shininess);void 0!==a.uniforms&&(b.uniforms=a.uniforms);void 0!==a.vertexShader&&(b.vertexShader=a.vertexShader);void 0!==a.fragmentShader&&(b.fragmentShader=a.fragmentShader);void 0!==a.vertexColors&&(b.vertexColors=a.vertexColors);void 0!==a.shading&&(b.shading=a.shading);void 0!==a.blending&&(b.blending=a.blending);void 0!==a.side&&(b.side=a.side);void 0!==a.opacity&&(b.opacity=a.opacity);void 0!==a.transparent&&(b.transparent=a.transparent);void 0!==a.alphaTest&&
(b.alphaTest=a.alphaTest);void 0!==a.depthTest&&(b.depthTest=a.depthTest);void 0!==a.depthWrite&&(b.depthWrite=a.depthWrite);void 0!==a.colorWrite&&(b.colorWrite=a.colorWrite);void 0!==a.wireframe&&(b.wireframe=a.wireframe);void 0!==a.wireframeLinewidth&&(b.wireframeLinewidth=a.wireframeLinewidth);void 0!==a.size&&(b.size=a.size);void 0!==a.sizeAttenuation&&(b.sizeAttenuation=a.sizeAttenuation);void 0!==a.map&&(b.map=xd(this,a.map));void 0!==a.alphaMap&&(b.alphaMap=xd(this,a.alphaMap),b.transparent=
!0);void 0!==a.bumpMap&&(b.bumpMap=xd(this,a.bumpMap));void 0!==a.bumpScale&&(b.bumpScale=a.bumpScale);void 0!==a.normalMap&&(b.normalMap=xd(this,a.normalMap));if(void 0!==a.normalScale){var c=a.normalScale;!1===Array.isArray(c)&&(c=[c,c]);b.normalScale=(new V.Vector2).fromArray(c)}void 0!==a.displacementMap&&(b.displacementMap=xd(this,a.displacementMap));void 0!==a.displacementScale&&(b.displacementScale=a.displacementScale);void 0!==a.displacementBias&&(b.displacementBias=a.displacementBias);void 0!==
a.roughnessMap&&(b.roughnessMap=xd(this,a.roughnessMap));void 0!==a.metalnessMap&&(b.metalnessMap=xd(this,a.metalnessMap));void 0!==a.emissiveMap&&(b.emissiveMap=xd(this,a.emissiveMap));void 0!==a.emissiveIntensity&&(b.emissiveIntensity=a.emissiveIntensity);void 0!==a.specularMap&&(b.specularMap=xd(this,a.specularMap));void 0!==a.envMap&&(b.envMap=xd(this,a.envMap),b.combine=V.MultiplyOperation);a.reflectivity&&(b.reflectivity=a.reflectivity);void 0!==a.lightMap&&(b.lightMap=xd(this,a.lightMap));
void 0!==a.lightMapIntensity&&(b.lightMapIntensity=a.lightMapIntensity);void 0!==a.aoMap&&(b.aoMap=xd(this,a.aoMap));void 0!==a.aoMapIntensity&&(b.aoMapIntensity=a.aoMapIntensity);if(void 0!==a.materials){c=0;for(var d=a.materials.length;c<d;c++)b.materials.push(this.parse(a.materials[c]))}return b}};function xd(a,b){a=a.textures;void 0===a[b]&&console.warn("THREE.MaterialLoader: Undefined texture",b);return a[b]}
V.ObjectLoader=function(a){this.manager=void 0!==a?a:V.DefaultLoadingManager;this.texturePath=""};
V.ObjectLoader.prototype={constructor:V.ObjectLoader,load:function(a,b,c,d){""===this.texturePath&&(this.texturePath=a.substring(0,a.lastIndexOf("/")+1));var e=this;(new V.XHRLoader(e.manager)).load(a,function(a){e.parse(JSON.parse(a),b)},c,d)},setTexturePath:function(a){this.texturePath=a},setCrossOrigin:function(a){this.crossOrigin=a},parse:function(a,b){var c=yd(this,a.geometries),d=Dd(this,a.images,function(){void 0!==b&&b(e)});d=Ed(a.textures,d);d=Fd(a.materials,d);var e=this.parseObject(a.object,
c,d);a.animations&&(e.animations=Gd(a.animations));void 0!==a.images&&0!==a.images.length||void 0===b||b(e);return e},parseObject:function(){var a=new V.Matrix4;return function(b,c,d){function e(a){void 0===c[a]&&console.warn("THREE.ObjectLoader: Undefined geometry",a);return c[a]}function f(a){if(void 0!==a)return void 0===d[a]&&console.warn("THREE.ObjectLoader: Undefined material",a),d[a]}switch(b.type){case "Scene":var g=new V.Scene;break;case "PerspectiveCamera":g=new V.PerspectiveCamera(b.fov,
b.aspect,b.near,b.far);void 0!==b.focus&&(g.focus=b.focus);void 0!==b.zoom&&(g.zoom=b.zoom);void 0!==b.filmGauge&&(g.filmGauge=b.filmGauge);void 0!==b.filmOffset&&(g.filmOffset=b.filmOffset);void 0!==b.view&&(g.view=Object.assign({},b.view));break;case "OrthographicCamera":g=new V.OrthographicCamera(b.left,b.right,b.top,b.bottom,b.near,b.far);break;case "AmbientLight":g=new V.AmbientLight(b.color,b.intensity);break;case "DirectionalLight":g=new V.DirectionalLight(b.color,b.intensity);break;case "PointLight":g=
new V.PointLight(b.color,b.intensity,b.distance,b.decay);break;case "SpotLight":g=new V.SpotLight(b.color,b.intensity,b.distance,b.angle,b.penumbra,b.decay);break;case "HemisphereLight":g=new V.HemisphereLight(b.color,b.groundColor,b.intensity);break;case "Mesh":g=e(b.geometry);var k=f(b.material);g=g.bones&&0<g.bones.length?new V.SkinnedMesh(g,k):new V.Mesh(g,k);break;case "LOD":g=new V.LOD;break;case "Line":g=new V.Line(e(b.geometry),f(b.material),b.mode);break;case "PointCloud":case "Points":g=
new V.Points(e(b.geometry),f(b.material));break;case "Sprite":g=new V.Sprite(f(b.material));break;case "Group":g=new V.Group;break;default:g=new V.Object3D}g.uuid=b.uuid;void 0!==b.name&&(g.name=b.name);void 0!==b.matrix?(a.fromArray(b.matrix),a.decompose(g.position,g.quaternion,g.scale)):(void 0!==b.position&&g.position.fromArray(b.position),void 0!==b.rotation&&g.rotation.fromArray(b.rotation),void 0!==b.scale&&g.scale.fromArray(b.scale));void 0!==b.castShadow&&(g.castShadow=b.castShadow);void 0!==
b.receiveShadow&&(g.receiveShadow=b.receiveShadow);void 0!==b.visible&&(g.visible=b.visible);void 0!==b.userData&&(g.userData=b.userData);if(void 0!==b.children)for(m in b.children)g.add(this.parseObject(b.children[m],c,d));if("LOD"===b.type)for(b=b.levels,k=0;k<b.length;k++){var l=b[k];var m=g.getObjectByProperty("uuid",l.object);void 0!==m&&g.addLevel(m,l.distance)}return g}}()};
function Ed(a,b){function c(a){if("number"===typeof a)return a;console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",a);return V[a]}var d={};if(void 0!==a)for(var e=0,f=a.length;e<f;e++){var g=a[e];void 0===g.image&&console.warn('THREE.ObjectLoader: No "image" specified for',g.uuid);void 0===b[g.image]&&console.warn("THREE.ObjectLoader: Undefined image",g.image);var k=new V.Texture(b[g.image]);k.needsUpdate=!0;k.uuid=g.uuid;void 0!==g.name&&(k.name=g.name);void 0!==g.mapping&&
(k.mapping=c(g.mapping));void 0!==g.offset&&(k.offset=new V.Vector2(g.offset[0],g.offset[1]));void 0!==g.repeat&&(k.repeat=new V.Vector2(g.repeat[0],g.repeat[1]));void 0!==g.minFilter&&(k.minFilter=c(g.minFilter));void 0!==g.magFilter&&(k.magFilter=c(g.magFilter));void 0!==g.anisotropy&&(k.anisotropy=g.anisotropy);Array.isArray(g.wrap)&&(k.wrapS=c(g.wrap[0]),k.wrapT=c(g.wrap[1]));d[g.uuid]=k}return d}
function Dd(a,b,c){function d(a){e.manager.itemStart(a);return g.load(a,function(){e.manager.itemEnd(a)})}var e=a,f={};if(void 0!==b&&0<b.length){var g=new V.ImageLoader(new V.LoadingManager(c));g.setCrossOrigin(a.crossOrigin);a=0;for(c=b.length;a<c;a++){var k=b[a],l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(k.url)?k.url:e.texturePath+k.url;f[k.uuid]=d(l)}}return f}function Gd(a){for(var b=[],c=0;c<a.length;c++){var d=V.AnimationClip.parse(a[c]);b.push(d)}return b}
function Fd(a,b){var c={};if(void 0!==a){var d=new V.MaterialLoader;d.textures=b;b=0;for(var e=a.length;b<e;b++){var f=d.parse(a[b]);c[f.uuid]=f}}return c}
function yd(a,b){var c={};if(void 0!==b)for(var d=new V.JSONLoader,e=new V.BufferGeometryLoader,f=0,g=b.length;f<g;f++){var k=b[f];switch(k.type){case "PlaneGeometry":case "PlaneBufferGeometry":var l=new V[k.type](k.width,k.height,k.widthSegments,k.heightSegments);break;case "BoxGeometry":case "BoxBufferGeometry":case "CubeGeometry":l=new V[k.type](k.width,k.height,k.depth,k.widthSegments,k.heightSegments,k.depthSegments);break;case "CircleGeometry":case "CircleBufferGeometry":l=new V[k.type](k.radius,
k.segments,k.thetaStart,k.thetaLength);break;case "CylinderGeometry":case "CylinderBufferGeometry":l=new V[k.type](k.radiusTop,k.radiusBottom,k.height,k.radialSegments,k.heightSegments,k.openEnded,k.thetaStart,k.thetaLength);break;case "ConeGeometry":case "ConeBufferGeometry":l=new V[k.type](k.radius,k.height,k.radialSegments,k.heightSegments,k.openEnded,k.thetaStart,k.thetaLength);break;case "SphereGeometry":case "SphereBufferGeometry":l=new V[k.type](k.radius,k.widthSegments,k.heightSegments,k.phiStart,
k.phiLength,k.thetaStart,k.thetaLength);break;case "DodecahedronGeometry":case "IcosahedronGeometry":case "OctahedronGeometry":case "TetrahedronGeometry":l=new V[k.type](k.radius,k.detail);break;case "RingGeometry":case "RingBufferGeometry":l=new V[k.type](k.innerRadius,k.outerRadius,k.thetaSegments,k.phiSegments,k.thetaStart,k.thetaLength);break;case "TorusGeometry":case "TorusBufferGeometry":l=new V[k.type](k.radius,k.tube,k.radialSegments,k.tubularSegments,k.arc);break;case "TorusKnotGeometry":case "TorusKnotBufferGeometry":l=
new V[k.type](k.radius,k.tube,k.tubularSegments,k.radialSegments,k.p,k.q);break;case "LatheGeometry":case "LatheBufferGeometry":l=new V[k.type](k.points,k.segments,k.phiStart,k.phiLength);break;case "BufferGeometry":l=e.parse(k);break;case "Geometry":l=d.parse(k.data,a.texturePath).geometry;break;default:console.warn('THREE.ObjectLoader: Unsupported geometry type "'+k.type+'"');continue}l.uuid=k.uuid;void 0!==k.name&&(l.name=k.name);c[k.uuid]=l}return c}
V.TextureLoader=function(a){this.manager=void 0!==a?a:V.DefaultLoadingManager};V.TextureLoader.prototype={constructor:V.TextureLoader,load:function(a,b,c,d){var e=new V.Texture,f=new V.ImageLoader(this.manager);f.setCrossOrigin(this.crossOrigin);f.setPath(this.path);f.load(a,function(a){e.image=a;e.needsUpdate=!0;void 0!==b&&b(e)},c,d);return e},setCrossOrigin:function(a){this.crossOrigin=a},setPath:function(a){this.path=a}};V.CubeTextureLoader=function(a){this.manager=void 0!==a?a:V.DefaultLoadingManager};
V.CubeTextureLoader.prototype={constructor:V.CubeTextureLoader,load:function(a,b,c,d){function e(c){g.load(a[c],function(a){f.images[c]=a;k++;6===k&&(f.needsUpdate=!0,b&&b(f))},void 0,d)}var f=new V.CubeTexture,g=new V.ImageLoader(this.manager);g.setCrossOrigin(this.crossOrigin);g.setPath(this.path);var k=0;for(c=0;c<a.length;++c)e(c);return f},setCrossOrigin:function(a){this.crossOrigin=a},setPath:function(a){this.path=a}};
V.DataTextureLoader=V.BinaryTextureLoader=function(a){this.manager=void 0!==a?a:V.DefaultLoadingManager;this._parser=null};
V.BinaryTextureLoader.prototype={constructor:V.BinaryTextureLoader,load:function(a,b,c,d){var e=this,f=new V.DataTexture,g=new V.XHRLoader(this.manager);ud(g);g.load(a,function(a){if(a=e._parser(a))void 0!==a.image?f.image=a.image:void 0!==a.data&&(f.image.width=a.width,f.image.height=a.height,f.image.data=a.data),f.wrapS=void 0!==a.wrapS?a.wrapS:V.ClampToEdgeWrapping,f.wrapT=void 0!==a.wrapT?a.wrapT:V.ClampToEdgeWrapping,f.magFilter=void 0!==a.magFilter?a.magFilter:V.LinearFilter,f.minFilter=void 0!==
a.minFilter?a.minFilter:V.LinearMipMapLinearFilter,f.anisotropy=void 0!==a.anisotropy?a.anisotropy:1,void 0!==a.format&&(f.format=a.format),void 0!==a.type&&(f.type=a.type),void 0!==a.mipmaps&&(f.mipmaps=a.mipmaps),1===a.mipmapCount&&(f.minFilter=V.LinearFilter),f.needsUpdate=!0,b&&b(f,a)},c,d);return f}};V.CompressedTextureLoader=function(a){this.manager=void 0!==a?a:V.DefaultLoadingManager;this._parser=null};
V.CompressedTextureLoader.prototype={constructor:V.CompressedTextureLoader,load:function(a,b,c,d){function e(e){m.load(a[e],function(a){a=g._parser(a,!0);k[e]={width:a.width,height:a.height,format:a.format,mipmaps:a.mipmaps};f+=1;6===f&&(1===a.mipmapCount&&(l.minFilter=V.LinearFilter),l.format=a.format,l.needsUpdate=!0,b&&b(l))},c,d)}var f,g=this,k=[],l=new V.CompressedTexture;l.image=k;var m=new V.XHRLoader(this.manager);m.setPath(this.path);ud(m);if(Array.isArray(a))for(var n=f=0,q=a.length;n<q;++n)e(n);
else m.load(a,function(a){a=g._parser(a,!0);if(a.isCubemap)for(var c=a.mipmaps.length/a.mipmapCount,d=0;d<c;d++){k[d]={mipmaps:[]};for(var e=0;e<a.mipmapCount;e++)k[d].mipmaps.push(a.mipmaps[d*a.mipmapCount+e]),k[d].format=a.format,k[d].width=a.width,k[d].height=a.height}else l.image.width=a.width,l.image.height=a.height,l.mipmaps=a.mipmaps;1===a.mipmapCount&&(l.minFilter=V.LinearFilter);l.format=a.format;l.needsUpdate=!0;b&&b(l)},c,d);return l},setPath:function(a){this.path=a}};
V.Material=function(){Object.defineProperty(this,"id",{value:V.MaterialIdCount++});this.uuid=V.Math.generateUUID();this.name="";this.type="Material";this.lights=this.fog=!0;this.blending=V.NormalBlending;this.side=V.FrontSide;this.shading=V.SmoothShading;this.vertexColors=V.NoColors;this.opacity=1;this.transparent=!1;this.blendSrc=V.SrcAlphaFactor;this.blendDst=V.OneMinusSrcAlphaFactor;this.blendEquation=V.AddEquation;this.blendEquationAlpha=this.blendDstAlpha=this.blendSrcAlpha=null;this.depthFunc=
V.LessEqualDepth;this.depthWrite=this.depthTest=!0;this.clippingPlanes=null;this.clipShadows=!1;this.colorWrite=!0;this.precision=null;this.polygonOffset=!1;this.alphaTest=this.polygonOffsetUnits=this.polygonOffsetFactor=0;this.premultipliedAlpha=!1;this.overdraw=0;this._needsUpdate=this.visible=!0};
V.Material.prototype={constructor:V.Material,get needsUpdate(){return this._needsUpdate},set needsUpdate(a){!0===a&&this.update();this._needsUpdate=a},toJSON:function(a){function b(a){var b=[],c;for(c in a){var d=a[c];delete d.metadata;b.push(d)}return b}var c=void 0===a;c&&(a={textures:{},images:{}});var d={metadata:{version:4.4,type:"Material",generator:"Material.toJSON"}};d.uuid=this.uuid;d.type=this.type;""!==this.name&&(d.name=this.name);this.color instanceof V.Color&&(d.color=Lc(this.color));
.5!==this.roughness&&(d.roughness=this.roughness);.5!==this.metalness&&(d.metalness=this.metalness);this.emissive instanceof V.Color&&(d.emissive=Lc(this.emissive));this.specular instanceof V.Color&&(d.specular=Lc(this.specular));void 0!==this.shininess&&(d.shininess=this.shininess);this.map instanceof V.Texture&&(d.map=this.map.toJSON(a).uuid);this.alphaMap instanceof V.Texture&&(d.alphaMap=this.alphaMap.toJSON(a).uuid);this.lightMap instanceof V.Texture&&(d.lightMap=this.lightMap.toJSON(a).uuid);
this.bumpMap instanceof V.Texture&&(d.bumpMap=this.bumpMap.toJSON(a).uuid,d.bumpScale=this.bumpScale);this.normalMap instanceof V.Texture&&(d.normalMap=this.normalMap.toJSON(a).uuid,d.normalScale=this.normalScale.toArray());this.displacementMap instanceof V.Texture&&(d.displacementMap=this.displacementMap.toJSON(a).uuid,d.displacementScale=this.displacementScale,d.displacementBias=this.displacementBias);this.roughnessMap instanceof V.Texture&&(d.roughnessMap=this.roughnessMap.toJSON(a).uuid);this.metalnessMap instanceof
V.Texture&&(d.metalnessMap=this.metalnessMap.toJSON(a).uuid);this.emissiveMap instanceof V.Texture&&(d.emissiveMap=this.emissiveMap.toJSON(a).uuid);this.specularMap instanceof V.Texture&&(d.specularMap=this.specularMap.toJSON(a).uuid);this.envMap instanceof V.Texture&&(d.envMap=this.envMap.toJSON(a).uuid,d.reflectivity=this.reflectivity);void 0!==this.size&&(d.size=this.size);void 0!==this.sizeAttenuation&&(d.sizeAttenuation=this.sizeAttenuation);this.blending!==V.NormalBlending&&(d.blending=this.blending);
this.shading!==V.SmoothShading&&(d.shading=this.shading);this.side!==V.FrontSide&&(d.side=this.side);this.vertexColors!==V.NoColors&&(d.vertexColors=this.vertexColors);1>this.opacity&&(d.opacity=this.opacity);!0===this.transparent&&(d.transparent=this.transparent);0<this.alphaTest&&(d.alphaTest=this.alphaTest);!0===this.premultipliedAlpha&&(d.premultipliedAlpha=this.premultipliedAlpha);!0===this.wireframe&&(d.wireframe=this.wireframe);1<this.wireframeLinewidth&&(d.wireframeLinewidth=this.wireframeLinewidth);
c&&(c=b(a.textures),a=b(a.images),0<c.length&&(d.textures=c),0<a.length&&(d.images=a));return d},clone:function(){return(new this.constructor).copy(this)},copy:function(a){this.name=a.name;this.fog=a.fog;this.lights=a.lights;this.blending=a.blending;this.side=a.side;this.vertexColors=a.vertexColors;this.opacity=a.opacity;this.transparent=a.transparent;this.blendSrc=a.blendSrc;this.blendDst=a.blendDst;this.blendEquation=a.blendEquation;this.blendSrcAlpha=a.blendSrcAlpha;this.blendDstAlpha=a.blendDstAlpha;
this.blendEquationAlpha=a.blendEquationAlpha;this.depthFunc=a.depthFunc;this.depthTest=a.depthTest;this.depthWrite=a.depthWrite;this.colorWrite=a.colorWrite;this.precision=a.precision;this.polygonOffset=a.polygonOffset;this.polygonOffsetFactor=a.polygonOffsetFactor;this.polygonOffsetUnits=a.polygonOffsetUnits;this.alphaTest=a.alphaTest;this.premultipliedAlpha=a.premultipliedAlpha;this.overdraw=a.overdraw;this.visible=a.visible;this.clipShadows=a.clipShadows;a=a.clippingPlanes;var b=null;if(null!==
a){var c=a.length;b=Array(c);for(var d=0;d!==c;++d)b[d]=a[d].clone()}this.clippingPlanes=b;return this},update:function(){this.dispatchEvent({type:"update"})},dispose:function(){this.dispatchEvent({type:"dispose"})}};
function Hd(a,b){if(void 0!==b)for(var c in b){var d=b[c];if(void 0===d)console.warn("THREE.Material: '"+c+"' parameter is undefined.");else{var e=a[c];void 0===e?console.warn("THREE."+a.type+": '"+c+"' is not a property of this material."):e instanceof V.Color?e.set(d):e instanceof V.Vector3&&d instanceof V.Vector3?e.copy(d):a[c]="overdraw"===c?Number(d):d}}}Object.assign(V.Material.prototype,V.EventDispatcher.prototype);V.MaterialIdCount=0;
V.LineBasicMaterial=function(a){V.Material.call(this);this.type="LineBasicMaterial";this.color=new V.Color(16777215);this.linewidth=1;this.linejoin=this.linecap="round";this.lights=!1;Hd(this,a)};V.LineBasicMaterial.prototype=Object.create(V.Material.prototype);V.LineBasicMaterial.prototype.constructor=V.LineBasicMaterial;
V.LineBasicMaterial.prototype.copy=function(a){V.Material.prototype.copy.call(this,a);this.color.copy(a.color);this.linewidth=a.linewidth;this.linecap=a.linecap;this.linejoin=a.linejoin;return this};V.LineDashedMaterial=function(a){V.Material.call(this);this.type="LineDashedMaterial";this.color=new V.Color(16777215);this.scale=this.linewidth=1;this.dashSize=3;this.gapSize=1;this.lights=!1;Hd(this,a)};V.LineDashedMaterial.prototype=Object.create(V.Material.prototype);
V.LineDashedMaterial.prototype.constructor=V.LineDashedMaterial;V.LineDashedMaterial.prototype.copy=function(a){V.Material.prototype.copy.call(this,a);this.color.copy(a.color);this.linewidth=a.linewidth;this.scale=a.scale;this.dashSize=a.dashSize;this.gapSize=a.gapSize;return this};
V.MeshBasicMaterial=function(a){V.Material.call(this);this.type="MeshBasicMaterial";this.color=new V.Color(16777215);this.aoMap=this.map=null;this.aoMapIntensity=1;this.envMap=this.alphaMap=this.specularMap=null;this.combine=V.MultiplyOperation;this.reflectivity=1;this.refractionRatio=.98;this.wireframe=!1;this.wireframeLinewidth=1;this.wireframeLinejoin=this.wireframeLinecap="round";this.lights=this.morphTargets=this.skinning=!1;Hd(this,a)};V.MeshBasicMaterial.prototype=Object.create(V.Material.prototype);
V.MeshBasicMaterial.prototype.constructor=V.MeshBasicMaterial;
V.MeshBasicMaterial.prototype.copy=function(a){V.Material.prototype.copy.call(this,a);this.color.copy(a.color);this.map=a.map;this.aoMap=a.aoMap;this.aoMapIntensity=a.aoMapIntensity;this.specularMap=a.specularMap;this.alphaMap=a.alphaMap;this.envMap=a.envMap;this.combine=a.combine;this.reflectivity=a.reflectivity;this.refractionRatio=a.refractionRatio;this.wireframe=a.wireframe;this.wireframeLinewidth=a.wireframeLinewidth;this.wireframeLinecap=a.wireframeLinecap;this.wireframeLinejoin=a.wireframeLinejoin;
this.skinning=a.skinning;this.morphTargets=a.morphTargets;return this};V.MeshDepthMaterial=function(a){V.Material.call(this);this.type="MeshDepthMaterial";this.depthPacking=V.BasicDepthPacking;this.morphTargets=this.skinning=!1;this.displacementMap=this.alphaMap=this.map=null;this.displacementScale=1;this.displacementBias=0;this.wireframe=!1;this.wireframeLinewidth=1;this.lights=this.fog=!1;Hd(this,a)};V.MeshDepthMaterial.prototype=Object.create(V.Material.prototype);
V.MeshDepthMaterial.prototype.constructor=V.MeshDepthMaterial;V.MeshDepthMaterial.prototype.copy=function(a){V.Material.prototype.copy.call(this,a);this.depthPacking=a.depthPacking;this.skinning=a.skinning;this.morphTargets=a.morphTargets;this.map=a.map;this.alphaMap=a.alphaMap;this.displacementMap=a.displacementMap;this.displacementScale=a.displacementScale;this.displacementBias=a.displacementBias;this.wireframe=a.wireframe;this.wireframeLinewidth=a.wireframeLinewidth;return this};
V.MeshLambertMaterial=function(a){V.Material.call(this);this.type="MeshLambertMaterial";this.color=new V.Color(16777215);this.lightMap=this.map=null;this.lightMapIntensity=1;this.aoMap=null;this.aoMapIntensity=1;this.emissive=new V.Color(0);this.emissiveIntensity=1;this.envMap=this.alphaMap=this.specularMap=this.emissiveMap=null;this.combine=V.MultiplyOperation;this.reflectivity=1;this.refractionRatio=.98;this.wireframe=!1;this.wireframeLinewidth=1;this.wireframeLinejoin=this.wireframeLinecap="round";
this.morphNormals=this.morphTargets=this.skinning=!1;Hd(this,a)};V.MeshLambertMaterial.prototype=Object.create(V.Material.prototype);V.MeshLambertMaterial.prototype.constructor=V.MeshLambertMaterial;
V.MeshLambertMaterial.prototype.copy=function(a){V.Material.prototype.copy.call(this,a);this.color.copy(a.color);this.map=a.map;this.lightMap=a.lightMap;this.lightMapIntensity=a.lightMapIntensity;this.aoMap=a.aoMap;this.aoMapIntensity=a.aoMapIntensity;this.emissive.copy(a.emissive);this.emissiveMap=a.emissiveMap;this.emissiveIntensity=a.emissiveIntensity;this.specularMap=a.specularMap;this.alphaMap=a.alphaMap;this.envMap=a.envMap;this.combine=a.combine;this.reflectivity=a.reflectivity;this.refractionRatio=
a.refractionRatio;this.wireframe=a.wireframe;this.wireframeLinewidth=a.wireframeLinewidth;this.wireframeLinecap=a.wireframeLinecap;this.wireframeLinejoin=a.wireframeLinejoin;this.skinning=a.skinning;this.morphTargets=a.morphTargets;this.morphNormals=a.morphNormals;return this};V.MeshNormalMaterial=function(a){V.Material.call(this);this.type="MeshNormalMaterial";this.wireframe=!1;this.wireframeLinewidth=1;this.morphTargets=this.lights=this.fog=!1;Hd(this,a)};V.MeshNormalMaterial.prototype=Object.create(V.Material.prototype);
V.MeshNormalMaterial.prototype.constructor=V.MeshNormalMaterial;V.MeshNormalMaterial.prototype.copy=function(a){V.Material.prototype.copy.call(this,a);this.wireframe=a.wireframe;this.wireframeLinewidth=a.wireframeLinewidth;return this};
V.MeshPhongMaterial=function(a){V.Material.call(this);this.type="MeshPhongMaterial";this.color=new V.Color(16777215);this.specular=new V.Color(1118481);this.shininess=30;this.lightMap=this.map=null;this.lightMapIntensity=1;this.aoMap=null;this.aoMapIntensity=1;this.emissive=new V.Color(0);this.emissiveIntensity=1;this.bumpMap=this.emissiveMap=null;this.bumpScale=1;this.normalMap=null;this.normalScale=new V.Vector2(1,1);this.displacementMap=null;this.displacementScale=1;this.displacementBias=0;this.envMap=
this.alphaMap=this.specularMap=null;this.combine=V.MultiplyOperation;this.reflectivity=1;this.refractionRatio=.98;this.wireframe=!1;this.wireframeLinewidth=1;this.wireframeLinejoin=this.wireframeLinecap="round";this.morphNormals=this.morphTargets=this.skinning=!1;Hd(this,a)};V.MeshPhongMaterial.prototype=Object.create(V.Material.prototype);V.MeshPhongMaterial.prototype.constructor=V.MeshPhongMaterial;
V.MeshPhongMaterial.prototype.copy=function(a){V.Material.prototype.copy.call(this,a);this.color.copy(a.color);this.specular.copy(a.specular);this.shininess=a.shininess;this.map=a.map;this.lightMap=a.lightMap;this.lightMapIntensity=a.lightMapIntensity;this.aoMap=a.aoMap;this.aoMapIntensity=a.aoMapIntensity;this.emissive.copy(a.emissive);this.emissiveMap=a.emissiveMap;this.emissiveIntensity=a.emissiveIntensity;this.bumpMap=a.bumpMap;this.bumpScale=a.bumpScale;this.normalMap=a.normalMap;this.normalScale.copy(a.normalScale);
this.displacementMap=a.displacementMap;this.displacementScale=a.displacementScale;this.displacementBias=a.displacementBias;this.specularMap=a.specularMap;this.alphaMap=a.alphaMap;this.envMap=a.envMap;this.combine=a.combine;this.reflectivity=a.reflectivity;this.refractionRatio=a.refractionRatio;this.wireframe=a.wireframe;this.wireframeLinewidth=a.wireframeLinewidth;this.wireframeLinecap=a.wireframeLinecap;this.wireframeLinejoin=a.wireframeLinejoin;this.skinning=a.skinning;this.morphTargets=a.morphTargets;
this.morphNormals=a.morphNormals;return this};
V.MeshStandardMaterial=function(a){V.Material.call(this);this.defines={STANDARD:""};this.type="MeshStandardMaterial";this.color=new V.Color(16777215);this.metalness=this.roughness=.5;this.lightMap=this.map=null;this.lightMapIntensity=1;this.aoMap=null;this.aoMapIntensity=1;this.emissive=new V.Color(0);this.emissiveIntensity=1;this.bumpMap=this.emissiveMap=null;this.bumpScale=1;this.normalMap=null;this.normalScale=new V.Vector2(1,1);this.displacementMap=null;this.displacementScale=1;this.displacementBias=
0;this.envMap=this.alphaMap=this.metalnessMap=this.roughnessMap=null;this.envMapIntensity=1;this.refractionRatio=.98;this.wireframe=!1;this.wireframeLinewidth=1;this.wireframeLinejoin=this.wireframeLinecap="round";this.morphNormals=this.morphTargets=this.skinning=!1;Hd(this,a)};V.MeshStandardMaterial.prototype=Object.create(V.Material.prototype);V.MeshStandardMaterial.prototype.constructor=V.MeshStandardMaterial;
V.MeshStandardMaterial.prototype.copy=function(a){V.Material.prototype.copy.call(this,a);this.defines={STANDARD:""};this.color.copy(a.color);this.roughness=a.roughness;this.metalness=a.metalness;this.map=a.map;this.lightMap=a.lightMap;this.lightMapIntensity=a.lightMapIntensity;this.aoMap=a.aoMap;this.aoMapIntensity=a.aoMapIntensity;this.emissive.copy(a.emissive);this.emissiveMap=a.emissiveMap;this.emissiveIntensity=a.emissiveIntensity;this.bumpMap=a.bumpMap;this.bumpScale=a.bumpScale;this.normalMap=
a.normalMap;this.normalScale.copy(a.normalScale);this.displacementMap=a.displacementMap;this.displacementScale=a.displacementScale;this.displacementBias=a.displacementBias;this.roughnessMap=a.roughnessMap;this.metalnessMap=a.metalnessMap;this.alphaMap=a.alphaMap;this.envMap=a.envMap;this.envMapIntensity=a.envMapIntensity;this.refractionRatio=a.refractionRatio;this.wireframe=a.wireframe;this.wireframeLinewidth=a.wireframeLinewidth;this.wireframeLinecap=a.wireframeLinecap;this.wireframeLinejoin=a.wireframeLinejoin;
this.skinning=a.skinning;this.morphTargets=a.morphTargets;this.morphNormals=a.morphNormals;return this};V.MeshPhysicalMaterial=function(a){V.MeshStandardMaterial.call(this);this.defines={PHYSICAL:""};this.type="MeshPhysicalMaterial";this.reflectivity=.5;Hd(this,a)};V.MeshPhysicalMaterial.prototype=Object.create(V.MeshStandardMaterial.prototype);V.MeshPhysicalMaterial.prototype.constructor=V.MeshPhysicalMaterial;
V.MeshPhysicalMaterial.prototype.copy=function(a){V.MeshStandardMaterial.prototype.copy.call(this,a);this.defines={PHYSICAL:""};this.reflectivity=a.reflectivity;return this};V.MultiMaterial=function(a){this.uuid=V.Math.generateUUID();this.type="MultiMaterial";this.materials=a instanceof Array?a:[];this.visible=!0};
V.MultiMaterial.prototype={constructor:V.MultiMaterial,toJSON:function(a){for(var b={metadata:{version:4.2,type:"material",generator:"MaterialExporter"},uuid:this.uuid,type:this.type,materials:[]},c=this.materials,d=0,e=c.length;d<e;d++){var f=c[d].toJSON(a);delete f.metadata;b.materials.push(f)}b.visible=this.visible;return b},clone:function(){for(var a=new this.constructor,b=0;b<this.materials.length;b++)a.materials.push(this.materials[b].clone());a.visible=this.visible;return a}};
V.PointsMaterial=function(a){V.Material.call(this);this.type="PointsMaterial";this.color=new V.Color(16777215);this.map=null;this.size=1;this.sizeAttenuation=!0;this.lights=!1;Hd(this,a)};V.PointsMaterial.prototype=Object.create(V.Material.prototype);V.PointsMaterial.prototype.constructor=V.PointsMaterial;V.PointsMaterial.prototype.copy=function(a){V.Material.prototype.copy.call(this,a);this.color.copy(a.color);this.map=a.map;this.size=a.size;this.sizeAttenuation=a.sizeAttenuation;return this};
V.ShaderMaterial=function(a){V.Material.call(this);this.type="ShaderMaterial";this.defines={};this.uniforms={};this.vertexShader="void main() {\n\tgl_Position \x3d projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}";this.fragmentShader="void main() {\n\tgl_FragColor \x3d vec4( 1.0, 0.0, 0.0, 1.0 );\n}";this.linewidth=1;this.wireframe=!1;this.wireframeLinewidth=1;this.morphNormals=this.morphTargets=this.skinning=this.clipping=this.lights=this.fog=!1;this.extensions={derivatives:!1,fragDepth:!1,
drawBuffers:!1,shaderTextureLOD:!1};this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]};this.index0AttributeName=void 0;void 0!==a&&(void 0!==a.attributes&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),Hd(this,a))};V.ShaderMaterial.prototype=Object.create(V.Material.prototype);V.ShaderMaterial.prototype.constructor=V.ShaderMaterial;
V.ShaderMaterial.prototype.copy=function(a){V.Material.prototype.copy.call(this,a);this.fragmentShader=a.fragmentShader;this.vertexShader=a.vertexShader;this.uniforms=V.UniformsUtils.clone(a.uniforms);this.defines=a.defines;this.wireframe=a.wireframe;this.wireframeLinewidth=a.wireframeLinewidth;this.lights=a.lights;this.clipping=a.clipping;this.skinning=a.skinning;this.morphTargets=a.morphTargets;this.morphNormals=a.morphNormals;this.extensions=a.extensions;return this};
V.ShaderMaterial.prototype.toJSON=function(a){a=V.Material.prototype.toJSON.call(this,a);a.uniforms=this.uniforms;a.vertexShader=this.vertexShader;a.fragmentShader=this.fragmentShader;return a};V.RawShaderMaterial=function(a){V.ShaderMaterial.call(this,a);this.type="RawShaderMaterial"};V.RawShaderMaterial.prototype=Object.create(V.ShaderMaterial.prototype);V.RawShaderMaterial.prototype.constructor=V.RawShaderMaterial;
V.SpriteMaterial=function(a){V.Material.call(this);this.type="SpriteMaterial";this.color=new V.Color(16777215);this.map=null;this.rotation=0;this.lights=this.fog=!1;Hd(this,a)};V.SpriteMaterial.prototype=Object.create(V.Material.prototype);V.SpriteMaterial.prototype.constructor=V.SpriteMaterial;V.SpriteMaterial.prototype.copy=function(a){V.Material.prototype.copy.call(this,a);this.color.copy(a.color);this.map=a.map;this.rotation=a.rotation;return this};
V.ShadowMaterial=function(){V.ShaderMaterial.call(this,{uniforms:V.UniformsUtils.merge([V.UniformsLib.lights,{opacity:{value:1}}]),vertexShader:V.ShaderChunk.shadow_vert,fragmentShader:V.ShaderChunk.shadow_frag});this.transparent=this.lights=!0;Object.defineProperties(this,{opacity:{enumerable:!0,get:function(){return this.uniforms.opacity.value},set:function(a){this.uniforms.opacity.value=a}}})};V.ShadowMaterial.prototype=Object.create(V.ShaderMaterial.prototype);
V.ShadowMaterial.prototype.constructor=V.ShadowMaterial;
V.Texture=function(a,b,c,d,e,f,g,k,l,m){Object.defineProperty(this,"id",{value:V.TextureIdCount++});this.uuid=V.Math.generateUUID();this.sourceFile=this.name="";this.image=void 0!==a?a:V.Texture.DEFAULT_IMAGE;this.mipmaps=[];this.mapping=void 0!==b?b:V.Texture.DEFAULT_MAPPING;this.wrapS=void 0!==c?c:V.ClampToEdgeWrapping;this.wrapT=void 0!==d?d:V.ClampToEdgeWrapping;this.magFilter=void 0!==e?e:V.LinearFilter;this.minFilter=void 0!==f?f:V.LinearMipMapLinearFilter;this.anisotropy=void 0!==l?l:1;this.format=
void 0!==g?g:V.RGBAFormat;this.type=void 0!==k?k:V.UnsignedByteType;this.offset=new V.Vector2(0,0);this.repeat=new V.Vector2(1,1);this.generateMipmaps=!0;this.premultiplyAlpha=!1;this.flipY=!0;this.unpackAlignment=4;this.encoding=void 0!==m?m:V.LinearEncoding;this.version=0;this.onUpdate=null};V.Texture.DEFAULT_IMAGE=void 0;V.Texture.DEFAULT_MAPPING=V.UVMapping;
V.Texture.prototype={constructor:V.Texture,set needsUpdate(a){!0===a&&this.version++},clone:function(){return(new this.constructor).copy(this)},copy:function(a){this.image=a.image;this.mipmaps=a.mipmaps.slice(0);this.mapping=a.mapping;this.wrapS=a.wrapS;this.wrapT=a.wrapT;this.magFilter=a.magFilter;this.minFilter=a.minFilter;this.anisotropy=a.anisotropy;this.format=a.format;this.type=a.type;this.offset.copy(a.offset);this.repeat.copy(a.repeat);this.generateMipmaps=a.generateMipmaps;this.premultiplyAlpha=
a.premultiplyAlpha;this.flipY=a.flipY;this.unpackAlignment=a.unpackAlignment;this.encoding=a.encoding;return this},toJSON:function(a){if(void 0!==a.textures[this.uuid])return a.textures[this.uuid];var b={metadata:{version:4.4,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],wrap:[this.wrapS,this.wrapT],minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy};
if(void 0!==this.image){var c=this.image;void 0===c.uuid&&(c.uuid=V.Math.generateUUID());if(void 0===a.images[c.uuid]){var d=a.images,e=c.uuid,f=c.uuid;if(void 0!==c.toDataURL)var g=c;else g=document.createElement("canvas"),g.width=c.width,g.height=c.height,g.getContext("2d").drawImage(c,0,0,c.width,c.height);g=2048<g.width||2048<g.height?g.toDataURL("image/jpeg",.6):g.toDataURL("image/png");d[e]={uuid:f,url:g}}b.image=c.uuid}return a.textures[this.uuid]=b},dispose:function(){this.dispatchEvent({type:"dispose"})},
transformUv:function(a){if(this.mapping===V.UVMapping){a.multiply(this.repeat);a.add(this.offset);if(0>a.x||1<a.x)switch(this.wrapS){case V.RepeatWrapping:a.x-=Math.floor(a.x);break;case V.ClampToEdgeWrapping:a.x=0>a.x?0:1;break;case V.MirroredRepeatWrapping:a.x=1===Math.abs(Math.floor(a.x)%2)?Math.ceil(a.x)-a.x:a.x-Math.floor(a.x)}if(0>a.y||1<a.y)switch(this.wrapT){case V.RepeatWrapping:a.y-=Math.floor(a.y);break;case V.ClampToEdgeWrapping:a.y=0>a.y?0:1;break;case V.MirroredRepeatWrapping:a.y=1===
Math.abs(Math.floor(a.y)%2)?Math.ceil(a.y)-a.y:a.y-Math.floor(a.y)}this.flipY&&(a.y=1-a.y)}}};Object.assign(V.Texture.prototype,V.EventDispatcher.prototype);V.TextureIdCount=0;V.DepthTexture=function(a,b,c,d,e,f,g,k,l){V.Texture.call(this,null,d,e,f,g,k,V.DepthFormat,c,l);this.image={width:a,height:b};this.type=void 0!==c?c:V.UnsignedShortType;this.magFilter=void 0!==g?g:V.NearestFilter;this.minFilter=void 0!==k?k:V.NearestFilter;this.generateMipmaps=this.flipY=!1};V.DepthTexture.prototype=Object.create(V.Texture.prototype);
V.DepthTexture.prototype.constructor=V.DepthTexture;V.CanvasTexture=function(a,b,c,d,e,f,g,k,l){V.Texture.call(this,a,b,c,d,e,f,g,k,l);this.needsUpdate=!0};V.CanvasTexture.prototype=Object.create(V.Texture.prototype);V.CanvasTexture.prototype.constructor=V.CanvasTexture;V.CubeTexture=function(a,b,c,d,e,f,g,k,l,m){a=void 0!==a?a:[];b=void 0!==b?b:V.CubeReflectionMapping;V.Texture.call(this,a,b,c,d,e,f,g,k,l,m);this.flipY=!1};V.CubeTexture.prototype=Object.create(V.Texture.prototype);
V.CubeTexture.prototype.constructor=V.CubeTexture;Object.defineProperty(V.CubeTexture.prototype,"images",{get:function(){return this.image},set:function(a){this.image=a}});V.CompressedTexture=function(a,b,c,d,e,f,g,k,l,m,n,q){V.Texture.call(this,null,f,g,k,l,m,d,e,n,q);this.image={width:b,height:c};this.mipmaps=a;this.generateMipmaps=this.flipY=!1};V.CompressedTexture.prototype=Object.create(V.Texture.prototype);V.CompressedTexture.prototype.constructor=V.CompressedTexture;
V.DataTexture=function(a,b,c,d,e,f,g,k,l,m,n,q){V.Texture.call(this,null,f,g,k,l,m,d,e,n,q);this.image={data:a,width:b,height:c};this.magFilter=void 0!==l?l:V.NearestFilter;this.minFilter=void 0!==m?m:V.NearestFilter;this.generateMipmaps=this.flipY=!1};V.DataTexture.prototype=Object.create(V.Texture.prototype);V.DataTexture.prototype.constructor=V.DataTexture;
V.VideoTexture=function(a,b,c,d,e,f,g,k,l){function m(){requestAnimationFrame(m);a.readyState>=a.HAVE_CURRENT_DATA&&(n.needsUpdate=!0)}V.Texture.call(this,a,b,c,d,e,f,g,k,l);this.generateMipmaps=!1;var n=this;m()};V.VideoTexture.prototype=Object.create(V.Texture.prototype);V.VideoTexture.prototype.constructor=V.VideoTexture;V.Group=function(){V.Object3D.call(this);this.type="Group"};V.Group.prototype=Object.assign(Object.create(V.Object3D.prototype),{constructor:V.Group});
V.Points=function(a,b){V.Object3D.call(this);this.type="Points";this.geometry=void 0!==a?a:new V.BufferGeometry;this.material=void 0!==b?b:new V.PointsMaterial({color:16777215*Math.random()})};
V.Points.prototype=Object.assign(Object.create(V.Object3D.prototype),{constructor:V.Points,raycast:function(){var a=new V.Matrix4,b=new V.Ray,c=new V.Sphere;return function(d,e){function f(a,c){var f=b.distanceSqToPoint(a);if(f<n){a=b.closestPointToPoint(a);a.applyMatrix4(l);var k=d.ray.origin.distanceTo(a);k<d.near||k>d.far||e.push({distance:k,distanceToRay:Math.sqrt(f),point:a.clone(),index:c,face:null,object:g})}}var g=this,k=this.geometry,l=this.matrixWorld,m=d.params.Points.threshold;null===
k.boundingSphere&&k.computeBoundingSphere();c.copy(k.boundingSphere);c.applyMatrix4(l);if(!1!==d.ray.intersectsSphere(c)){a.getInverse(l);b.copy(d.ray).applyMatrix4(a);m/=(this.scale.x+this.scale.y+this.scale.z)/3;var n=m*m;m=new V.Vector3;if(k instanceof V.BufferGeometry){var q=k.index;k=k.attributes.position.array;if(null!==q){var p=q.array;q=0;for(var t=p.length;q<t;q++){var r=p[q];m.fromArray(k,3*r);f(m,r)}}else for(q=0,p=k.length/3;q<p;q++)m.fromArray(k,3*q),f(m,q)}else for(m=k.vertices,q=0,
p=m.length;q<p;q++)f(m[q],q)}}}(),clone:function(){return(new this.constructor(this.geometry,this.material)).copy(this)}});V.Line=function(a,b,c){if(1===c)return console.warn("THREE.Line: parameter THREE.LinePieces no longer supported. Created THREE.LineSegments instead."),new V.LineSegments(a,b);V.Object3D.call(this);this.type="Line";this.geometry=void 0!==a?a:new V.BufferGeometry;this.material=void 0!==b?b:new V.LineBasicMaterial({color:16777215*Math.random()})};
V.Line.prototype=Object.assign(Object.create(V.Object3D.prototype),{constructor:V.Line,raycast:function(){var a=new V.Matrix4,b=new V.Ray,c=new V.Sphere;return function(d,e){var f=d.linePrecision;f*=f;var g=this.geometry,k=this.matrixWorld;null===g.boundingSphere&&g.computeBoundingSphere();c.copy(g.boundingSphere);c.applyMatrix4(k);if(!1!==d.ray.intersectsSphere(c)){a.getInverse(k);b.copy(d.ray).applyMatrix4(a);var l=new V.Vector3,m=new V.Vector3;k=new V.Vector3;var n=new V.Vector3,q=this instanceof
V.LineSegments?2:1;if(g instanceof V.BufferGeometry){var p=g.index;var t=g.attributes.position.array;if(null!==p){var r=p.array;g=0;for(var u=r.length-1;g<u;g+=q)p=r[g+1],l.fromArray(t,3*r[g]),m.fromArray(t,3*p),p=b.distanceSqToSegment(l,m,n,k),p>f||(n.applyMatrix4(this.matrixWorld),p=d.ray.origin.distanceTo(n),p<d.near||p>d.far||e.push({distance:p,point:k.clone().applyMatrix4(this.matrixWorld),index:g,face:null,faceIndex:null,object:this}))}else for(g=0,u=t.length/3-1;g<u;g+=q)l.fromArray(t,3*g),
m.fromArray(t,3*g+3),p=b.distanceSqToSegment(l,m,n,k),p>f||(n.applyMatrix4(this.matrixWorld),p=d.ray.origin.distanceTo(n),p<d.near||p>d.far||e.push({distance:p,point:k.clone().applyMatrix4(this.matrixWorld),index:g,face:null,faceIndex:null,object:this}))}else if(g instanceof V.Geometry)for(l=g.vertices,m=l.length,g=0;g<m-1;g+=q)p=b.distanceSqToSegment(l[g],l[g+1],n,k),p>f||(n.applyMatrix4(this.matrixWorld),p=d.ray.origin.distanceTo(n),p<d.near||p>d.far||e.push({distance:p,point:k.clone().applyMatrix4(this.matrixWorld),
index:g,face:null,faceIndex:null,object:this}))}}}(),clone:function(){return(new this.constructor(this.geometry,this.material)).copy(this)}});V.LineSegments=function(a,b){V.Line.call(this,a,b);this.type="LineSegments"};V.LineSegments.prototype=Object.assign(Object.create(V.Line.prototype),{constructor:V.LineSegments});
V.Mesh=function(a,b){V.Object3D.call(this);this.type="Mesh";this.geometry=void 0!==a?a:new V.BufferGeometry;this.material=void 0!==b?b:new V.MeshBasicMaterial({color:16777215*Math.random()});this.drawMode=V.TrianglesDrawMode;this.updateMorphTargets()};
V.Mesh.prototype=Object.assign(Object.create(V.Object3D.prototype),{constructor:V.Mesh,setDrawMode:function(a){this.drawMode=a},updateMorphTargets:function(){if(void 0!==this.geometry.morphTargets&&0<this.geometry.morphTargets.length){this.morphTargetBase=-1;this.morphTargetInfluences=[];this.morphTargetDictionary={};for(var a=0,b=this.geometry.morphTargets.length;a<b;a++)this.morphTargetInfluences.push(0),this.morphTargetDictionary[this.geometry.morphTargets[a].name]=a}},getMorphTargetIndexByName:function(a){if(void 0!==
this.morphTargetDictionary[a])return this.morphTargetDictionary[a];console.warn("THREE.Mesh.getMorphTargetIndexByName: morph target "+a+" does not exist. Returning 0.");return 0},raycast:function(){function a(a,b,c,d,e,f,g){V.Triangle.barycoordFromPoint(a,b,c,d,u);e.multiplyScalar(u.x);f.multiplyScalar(u.y);g.multiplyScalar(u.z);e.add(f).add(g);return e.clone()}function b(a,b,c,d,e,f,g){var k=a.material;if(null===(k.side===V.BackSide?c.intersectTriangle(f,e,d,!0,g):c.intersectTriangle(d,e,f,k.side!==
V.DoubleSide,g)))return null;z.copy(g);z.applyMatrix4(a.matrixWorld);c=b.ray.origin.distanceTo(z);return c<b.near||c>b.far?null:{distance:c,point:z.clone(),object:a}}function c(c,d,e,f,m,n,q,u){g.fromArray(f,3*n);k.fromArray(f,3*q);l.fromArray(f,3*u);if(c=b(c,d,e,g,k,l,v))m&&(p.fromArray(m,2*n),t.fromArray(m,2*q),r.fromArray(m,2*u),c.uv=a(v,g,k,l,p,t,r)),c.face=new V.Face3(n,q,u,V.Triangle.normal(g,k,l)),c.faceIndex=n;return c}var d=new V.Matrix4,e=new V.Ray,f=new V.Sphere,g=new V.Vector3,k=new V.Vector3,
l=new V.Vector3,m=new V.Vector3,n=new V.Vector3,q=new V.Vector3,p=new V.Vector2,t=new V.Vector2,r=new V.Vector2,u=new V.Vector3,v=new V.Vector3,z=new V.Vector3;return function(u,z){var y=this.geometry,w=this.material,A=this.matrixWorld;if(void 0!==w&&(null===y.boundingSphere&&y.computeBoundingSphere(),f.copy(y.boundingSphere),f.applyMatrix4(A),!1!==u.ray.intersectsSphere(f)&&(d.getInverse(A),e.copy(u.ray).applyMatrix4(d),null===y.boundingBox||!1!==e.intersectsBox(y.boundingBox)))){var G;if(y instanceof
V.BufferGeometry){w=y.index;A=y.attributes;y=A.position.array;if(void 0!==A.uv)var E=A.uv.array;if(null!==w){A=w.array;for(var F=0,B=A.length;F<B;F+=3){w=A[F];var H=A[F+1];var K=A[F+2];if(G=c(this,u,e,y,E,w,H,K))G.faceIndex=Math.floor(F/3),z.push(G)}}else for(F=0,B=y.length;F<B;F+=9)if(w=F/3,H=w+1,K=w+2,G=c(this,u,e,y,E,w,H,K))G.index=w,z.push(G)}else if(y instanceof V.Geometry){A=w instanceof V.MultiMaterial;F=!0===A?w.materials:null;B=y.vertices;H=y.faces;K=y.faceVertexUvs[0];0<K.length&&(E=K);
for(var M=0,R=H.length;M<R;M++){var L=H[M];G=!0===A?F[L.materialIndex]:w;if(void 0!==G){K=B[L.a];var Q=B[L.b];var O=B[L.c];if(!0===G.morphTargets){G=y.morphTargets;var J=this.morphTargetInfluences;g.set(0,0,0);k.set(0,0,0);l.set(0,0,0);for(var S=0,P=G.length;S<P;S++){var Z=J[S];if(0!==Z){var da=G[S].vertices;g.addScaledVector(m.subVectors(da[L.a],K),Z);k.addScaledVector(n.subVectors(da[L.b],Q),Z);l.addScaledVector(q.subVectors(da[L.c],O),Z)}}g.add(K);k.add(Q);l.add(O);K=g;Q=k;O=l}if(G=b(this,u,e,
K,Q,O,v))E&&(J=E[M],p.copy(J[0]),t.copy(J[1]),r.copy(J[2]),G.uv=a(v,K,Q,O,p,t,r)),G.face=L,G.faceIndex=M,z.push(G)}}}}}}(),clone:function(){return(new this.constructor(this.geometry,this.material)).copy(this)}});V.Bone=function(a){V.Object3D.call(this);this.type="Bone";this.skin=a};V.Bone.prototype=Object.assign(Object.create(V.Object3D.prototype),{constructor:V.Bone,copy:function(a){V.Object3D.prototype.copy.call(this,a);this.skin=a.skin;return this}});
V.Skeleton=function(a,b,c){this.useVertexTexture=void 0!==c?c:!0;this.identityMatrix=new V.Matrix4;a=a||[];this.bones=a.slice(0);this.useVertexTexture?(a=Math.sqrt(4*this.bones.length),a=V.Math.nextPowerOfTwo(Math.ceil(a)),this.boneTextureHeight=this.boneTextureWidth=a=Math.max(a,4),this.boneMatrices=new Float32Array(this.boneTextureWidth*this.boneTextureHeight*4),this.boneTexture=new V.DataTexture(this.boneMatrices,this.boneTextureWidth,this.boneTextureHeight,V.RGBAFormat,V.FloatType)):this.boneMatrices=
new Float32Array(16*this.bones.length);if(void 0===b)this.calculateInverses();else if(this.bones.length===b.length)this.boneInverses=b.slice(0);else for(console.warn("THREE.Skeleton bonInverses is the wrong length."),this.boneInverses=[],b=0,a=this.bones.length;b<a;b++)this.boneInverses.push(new V.Matrix4)};
Object.assign(V.Skeleton.prototype,{calculateInverses:function(){this.boneInverses=[];for(var a=0,b=this.bones.length;a<b;a++){var c=new V.Matrix4;this.bones[a]&&c.getInverse(this.bones[a].matrixWorld);this.boneInverses.push(c)}},pose:function(){for(var a,b=0,c=this.bones.length;b<c;b++)(a=this.bones[b])&&a.matrixWorld.getInverse(this.boneInverses[b]);b=0;for(c=this.bones.length;b<c;b++)if(a=this.bones[b])a.parent?(a.matrix.getInverse(a.parent.matrixWorld),a.matrix.multiply(a.matrixWorld)):a.matrix.copy(a.matrixWorld),
a.matrix.decompose(a.position,a.quaternion,a.scale)},update:function(){var a=new V.Matrix4;return function(){for(var b=0,c=this.bones.length;b<c;b++)Rc(a,this.bones[b]?this.bones[b].matrixWorld:this.identityMatrix,this.boneInverses[b]),a.toArray(this.boneMatrices,16*b);this.useVertexTexture&&(this.boneTexture.needsUpdate=!0)}}(),clone:function(){return new V.Skeleton(this.bones,this.boneInverses,this.useVertexTexture)}});
V.SkinnedMesh=function(a,b,c){V.Mesh.call(this,a,b);this.type="SkinnedMesh";this.bindMode="attached";this.bindMatrix=new V.Matrix4;this.bindMatrixInverse=new V.Matrix4;a=[];if(this.geometry&&void 0!==this.geometry.bones){for(var d,e=0,f=this.geometry.bones.length;e<f;++e)d=this.geometry.bones[e],b=new V.Bone(this),a.push(b),b.name=d.name,b.position.fromArray(d.pos),b.quaternion.fromArray(d.rotq),void 0!==d.scl&&b.scale.fromArray(d.scl);e=0;for(f=this.geometry.bones.length;e<f;++e)d=this.geometry.bones[e],
-1!==d.parent&&null!==d.parent&&void 0!==a[d.parent]?a[d.parent].add(a[e]):this.add(a[e])}this.normalizeSkinWeights();this.updateMatrixWorld(!0);this.bind(new V.Skeleton(a,void 0,c),this.matrixWorld)};
V.SkinnedMesh.prototype=Object.assign(Object.create(V.Mesh.prototype),{constructor:V.SkinnedMesh,bind:function(a,b){this.skeleton=a;void 0===b&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),b=this.matrixWorld);this.bindMatrix.copy(b);this.bindMatrixInverse.getInverse(b)},pose:function(){this.skeleton.pose()},normalizeSkinWeights:function(){if(this.geometry instanceof V.Geometry)for(var a=0;a<this.geometry.skinWeights.length;a++){var b=this.geometry.skinWeights[a];var c=1/b.lengthManhattan();
Infinity!==c?b.multiplyScalar(c):b.set(1,0,0,0)}else if(this.geometry instanceof V.BufferGeometry){b=new V.Vector4;var d=this.geometry.attributes.skinWeight;for(a=0;a<d.count;a++)b.x=d.getX(a),b.y=d.getY(a),b.z=d.getZ(a),b.w=d.getW(a),c=1/b.lengthManhattan(),Infinity!==c?b.multiplyScalar(c):b.set(1,0,0,0),d.setXYZW(a,b.x,b.y,b.z,b.w)}},updateMatrixWorld:function(){V.Mesh.prototype.updateMatrixWorld.call(this,!0);"attached"===this.bindMode?this.bindMatrixInverse.getInverse(this.matrixWorld):"detached"===
this.bindMode?this.bindMatrixInverse.getInverse(this.bindMatrix):console.warn("THREE.SkinnedMesh unrecognized bindMode: "+this.bindMode)},clone:function(){return(new this.constructor(this.geometry,this.material,this.useVertexTexture)).copy(this)}});V.LOD=function(){V.Object3D.call(this);this.type="LOD";Object.defineProperties(this,{levels:{enumerable:!0,value:[]}})};
V.LOD.prototype=Object.assign(Object.create(V.Object3D.prototype),{constructor:V.LOD,copy:function(a){V.Object3D.prototype.copy.call(this,a,!1);a=a.levels;for(var b=0,c=a.length;b<c;b++){var d=a[b];this.addLevel(d.object.clone(),d.distance)}return this},addLevel:function(a,b){void 0===b&&(b=0);b=Math.abs(b);for(var c=this.levels,d=0;d<c.length&&!(b<c[d].distance);d++);c.splice(d,0,{distance:b,object:a});this.add(a)},getObjectForDistance:function(a){for(var b=this.levels,c=1,d=b.length;c<d&&!(a<b[c].distance);c++);
return b[c-1].object},raycast:function(){var a=new V.Vector3;return function(b,c){Uc(a,this.matrixWorld);this.getObjectForDistance(b.ray.origin.distanceTo(a)).raycast(b,c)}}(),update:function(){var a=new V.Vector3,b=new V.Vector3;return function(c){var d=this.levels;if(1<d.length){Uc(a,c.matrixWorld);Uc(b,this.matrixWorld);c=a.distanceTo(b);d[0].object.visible=!0;for(var e=1,f=d.length;e<f;e++)if(c>=d[e].distance)d[e-1].object.visible=!1,d[e].object.visible=!0;else break;for(;e<f;e++)d[e].object.visible=
!1}}}(),toJSON:function(a){a=V.Object3D.prototype.toJSON.call(this,a);a.object.levels=[];for(var b=this.levels,c=0,d=b.length;c<d;c++){var e=b[c];a.object.levels.push({object:e.object.uuid,distance:e.distance})}return a}});V.Sprite=function(a){V.Object3D.call(this);this.type="Sprite";this.material=void 0!==a?a:new V.SpriteMaterial};
V.Sprite.prototype=Object.assign(Object.create(V.Object3D.prototype),{constructor:V.Sprite,raycast:function(){var a=new V.Vector3;return function(b,c){Uc(a,this.matrixWorld);b=b.ray.distanceSqToPoint(a);b>this.scale.x*this.scale.y/4||c.push({distance:Math.sqrt(b),point:this.position,face:null,object:this})}}(),clone:function(){return(new this.constructor(this.material)).copy(this)}});
V.LensFlare=function(a,b,c,d,e){V.Object3D.call(this);this.lensFlares=[];this.positionScreen=new V.Vector3;this.customUpdateCallback=void 0;void 0!==a&&this.add(a,b,c,d,e)};
V.LensFlare.prototype=Object.assign(Object.create(V.Object3D.prototype),{constructor:V.LensFlare,copy:function(a){V.Object3D.prototype.copy.call(this,a);this.positionScreen.copy(a.positionScreen);this.customUpdateCallback=a.customUpdateCallback;for(var b=0,c=a.lensFlares.length;b<c;b++)this.lensFlares.push(a.lensFlares[b]);return this},add:function(a,b,c,d,e,f){void 0===b&&(b=-1);void 0===c&&(c=0);void 0===f&&(f=1);void 0===e&&(e=new V.Color(16777215));void 0===d&&(d=V.NormalBlending);c=Math.min(c,
Math.max(0,c));this.lensFlares.push({texture:a,size:b,distance:c,x:0,y:0,z:0,scale:1,rotation:0,opacity:f,color:e,blending:d})},updateLensFlares:function(){var a,b=this.lensFlares.length,c=2*-this.positionScreen.x,d=2*-this.positionScreen.y;for(a=0;a<b;a++){var e=this.lensFlares[a];e.x=this.positionScreen.x+c*e.distance;e.y=this.positionScreen.y+d*e.distance;e.wantedRotation=e.x*Math.PI*.25;e.rotation+=.25*(e.wantedRotation-e.rotation)}}});
V.Scene=function(){V.Object3D.call(this);this.type="Scene";this.overrideMaterial=this.fog=null;this.autoUpdate=!0};V.Scene.prototype=Object.create(V.Object3D.prototype);V.Scene.prototype.constructor=V.Scene;V.Scene.prototype.copy=function(a,b){V.Object3D.prototype.copy.call(this,a,b);null!==a.fog&&(this.fog=a.fog.clone());null!==a.overrideMaterial&&(this.overrideMaterial=a.overrideMaterial.clone());this.autoUpdate=a.autoUpdate;this.matrixAutoUpdate=a.matrixAutoUpdate;return this};
V.Fog=function(a,b,c){this.name="";this.color=new V.Color(a);this.near=void 0!==b?b:1;this.far=void 0!==c?c:1E3};V.Fog.prototype.clone=function(){return new V.Fog(Lc(this.color),this.near,this.far)};V.FogExp2=function(a,b){this.name="";this.color=new V.Color(a);this.density=void 0!==b?b:2.5E-4};V.FogExp2.prototype.clone=function(){return new V.FogExp2(Lc(this.color),this.density)};V.ShaderChunk={};V.ShaderChunk.alphamap_fragment="#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *\x3d texture2D( alphaMap, vUv ).g;\n#endif\n";
V.ShaderChunk.alphamap_pars_fragment="#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif\n";V.ShaderChunk.alphatest_fragment="#ifdef ALPHATEST\n\tif ( diffuseColor.a \x3c ALPHATEST ) discard;\n#endif\n";V.ShaderChunk.aomap_fragment="#ifdef USE_AOMAP\n\tfloat ambientOcclusion \x3d ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *\x3d ambientOcclusion;\n\t#if defined( USE_ENVMAP ) \x26\x26 defined( PHYSICAL )\n\t\tfloat dotNV \x3d saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *\x3d computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\n\t#endif\n#endif\n";
V.ShaderChunk.aomap_pars_fragment="#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif";V.ShaderChunk.begin_vertex="\nvec3 transformed \x3d vec3( position );\n";V.ShaderChunk.beginnormal_vertex="\nvec3 objectNormal \x3d vec3( normal );\n";V.ShaderChunk.bsdfs="bool testLightInRange( const in float lightDistance, const in float cutoffDistance ) {\n\treturn any( bvec2( cutoffDistance \x3d\x3d 0.0, lightDistance \x3c cutoffDistance ) );\n}\nfloat punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\t\tif( decayExponent \x3e 0.0 ) {\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\t\t\tfloat distanceFalloff \x3d 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\t\t\tfloat maxDistanceCutoffFactor \x3d pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t\t\treturn distanceFalloff * maxDistanceCutoffFactor;\n#else\n\t\t\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n#endif\n\t\t}\n\t\treturn 1.0;\n}\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\n\tfloat fresnel \x3d exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\n\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\n}\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 \x3d pow2( alpha );\n\tfloat gl \x3d dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\tfloat gv \x3d dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\treturn 1.0 / ( gl * gv );\n}\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 \x3d pow2( alpha );\n\tfloat gv \x3d dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl \x3d dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 \x3d pow2( alpha );\n\tfloat denom \x3d pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat alpha \x3d pow2( roughness );\n\tvec3 halfDir \x3d normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNL \x3d saturate( dot( geometry.normal, incidentLight.direction ) );\n\tfloat dotNV \x3d saturate( dot( geometry.normal, geometry.viewDir ) );\n\tfloat dotNH \x3d saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH \x3d saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F \x3d F_Schlick( specularColor, dotLH );\n\tfloat G \x3d G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D \x3d D_GGX( alpha, dotNH );\n\treturn F * ( G * D );\n}\nvec3 BRDF_Specular_GGX_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat dotNV \x3d saturate( dot( geometry.normal, geometry.viewDir ) );\n\tconst vec4 c0 \x3d vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 \x3d vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r \x3d roughness * c0 + c1;\n\tfloat a004 \x3d min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 AB \x3d vec2( -1.04, 1.04 ) * a004 + r.zw;\n\treturn specularColor * AB.x + AB.y;\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir \x3d normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNH \x3d saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH \x3d saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F \x3d F_Schlick( specularColor, dotLH );\n\tfloat G \x3d G_BlinnPhong_Implicit( );\n\tfloat D \x3d D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\n\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\n}\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\n\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\n}\n";
V.ShaderChunk.bumpmap_pars_fragment="#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx \x3d dFdx( vUv );\n\t\tvec2 dSTdy \x3d dFdy( vUv );\n\t\tfloat Hll \x3d bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx \x3d bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy \x3d bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\n\t\tvec3 vSigmaX \x3d dFdx( surf_pos );\n\t\tvec3 vSigmaY \x3d dFdy( surf_pos );\n\t\tvec3 vN \x3d surf_norm;\n\t\tvec3 R1 \x3d cross( vSigmaY, vN );\n\t\tvec3 R2 \x3d cross( vN, vSigmaX );\n\t\tfloat fDet \x3d dot( vSigmaX, R1 );\n\t\tvec3 vGrad \x3d sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif\n";
V.ShaderChunk.clipping_planes_fragment="#if NUM_CLIPPING_PLANES \x3e 0\n\tfor ( int i \x3d 0; i \x3c NUM_CLIPPING_PLANES; ++ i ) {\n\t\tvec4 plane \x3d clippingPlanes[ i ];\n\t\tif ( dot( vViewPosition, plane.xyz ) \x3e plane.w ) discard;\n\t}\n#endif\n";V.ShaderChunk.clipping_planes_pars_fragment="#if NUM_CLIPPING_PLANES \x3e 0\n\t#if ! defined( PHYSICAL ) \x26\x26 ! defined( PHONG )\n\t\tvarying vec3 vViewPosition;\n\t#endif\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif\n";
V.ShaderChunk.clipping_planes_pars_vertex="#if NUM_CLIPPING_PLANES \x3e 0 \x26\x26 ! defined( PHYSICAL ) \x26\x26 ! defined( PHONG )\n\tvarying vec3 vViewPosition;\n#endif\n";V.ShaderChunk.clipping_planes_vertex="#if NUM_CLIPPING_PLANES \x3e 0 \x26\x26 ! defined( PHYSICAL ) \x26\x26 ! defined( PHONG )\n\tvViewPosition \x3d - mvPosition.xyz;\n#endif\n";V.ShaderChunk.color_fragment="#ifdef USE_COLOR\n\tdiffuseColor.rgb *\x3d vColor;\n#endif";V.ShaderChunk.color_pars_fragment="#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif\n";
V.ShaderChunk.color_pars_vertex="#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif";V.ShaderChunk.color_vertex="#ifdef USE_COLOR\n\tvColor.xyz \x3d color.xyz;\n#endif";V.ShaderChunk.common="#define PI 3.14159265359\n#define PI2 6.28318530718\n#define RECIPROCAL_PI 0.31830988618\n#define RECIPROCAL_PI2 0.15915494\n#define LOG2 1.442695\n#define EPSILON 1e-6\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#define whiteCompliment(a) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 \x3d x*x; return x2*x2; }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a \x3d 12.9898, b \x3d 78.233, c \x3d 43758.5453;\n\thighp float dt \x3d dot( uv.xy, vec2( a,b ) ), sn \x3d mod( dt, PI );\n\treturn fract(sin(sn) * c);\n}\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\tfloat distance \x3d dot( planeNormal, point - pointOnPlane );\n\treturn - distance * planeNormal + point;\n}\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn sign( dot( point - pointOnPlane, planeNormal ) );\n}\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n}\n";
V.ShaderChunk.cube_uv_reflection_fragment="#ifdef ENVMAP_TYPE_CUBE_UV\n#define cubeUV_textureSize (1024.0)\nint getFaceFromDirection(vec3 direction) {\n\tvec3 absDirection \x3d abs(direction);\n\tint face \x3d -1;\n\tif( absDirection.x \x3e absDirection.z ) {\n\t\tif(absDirection.x \x3e absDirection.y )\n\t\t\tface \x3d direction.x \x3e 0.0 ? 0 : 3;\n\t\telse\n\t\t\tface \x3d direction.y \x3e 0.0 ? 1 : 4;\n\t}\n\telse {\n\t\tif(absDirection.z \x3e absDirection.y )\n\t\t\tface \x3d direction.z \x3e 0.0 ? 2 : 5;\n\t\telse\n\t\t\tface \x3d direction.y \x3e 0.0 ? 1 : 4;\n\t}\n\treturn face;\n}\n#define cubeUV_maxLods1  (log2(cubeUV_textureSize*0.25) - 1.0)\n#define cubeUV_rangeClamp (exp2((6.0 - 1.0) * 2.0))\nvec2 MipLevelInfo( vec3 vec, float roughnessLevel, float roughness ) {\n\tfloat scale \x3d exp2(cubeUV_maxLods1 - roughnessLevel);\n\tfloat dxRoughness \x3d dFdx(roughness);\n\tfloat dyRoughness \x3d dFdy(roughness);\n\tvec3 dx \x3d dFdx( vec * scale * dxRoughness );\n\tvec3 dy \x3d dFdy( vec * scale * dyRoughness );\n\tfloat d \x3d max( dot( dx, dx ), dot( dy, dy ) );\n\td \x3d clamp(d, 1.0, cubeUV_rangeClamp);\n\tfloat mipLevel \x3d 0.5 * log2(d);\n\treturn vec2(floor(mipLevel), fract(mipLevel));\n}\n#define cubeUV_maxLods2 (log2(cubeUV_textureSize*0.25) - 2.0)\n#define cubeUV_rcpTextureSize (1.0 / cubeUV_textureSize)\nvec2 getCubeUV(vec3 direction, float roughnessLevel, float mipLevel) {\n\tmipLevel \x3d roughnessLevel \x3e cubeUV_maxLods2 - 3.0 ? 0.0 : mipLevel;\n\tfloat a \x3d 16.0 * cubeUV_rcpTextureSize;\n\tvec2 exp2_packed \x3d exp2( vec2( roughnessLevel, mipLevel ) );\n\tvec2 rcp_exp2_packed \x3d vec2( 1.0 ) / exp2_packed;\n\tfloat powScale \x3d exp2_packed.x * exp2_packed.y;\n\tfloat scale \x3d rcp_exp2_packed.x * rcp_exp2_packed.y * 0.25;\n\tfloat mipOffset \x3d 0.75*(1.0 - rcp_exp2_packed.y) * rcp_exp2_packed.x;\n\tbool bRes \x3d mipLevel \x3d\x3d 0.0;\n\tscale \x3d  bRes \x26\x26 (scale \x3c a) ? a : scale;\n\tvec3 r;\n\tvec2 offset;\n\tint face \x3d getFaceFromDirection(direction);\n\tfloat rcpPowScale \x3d 1.0 / powScale;\n\tif( face \x3d\x3d 0) {\n\t\tr \x3d vec3(direction.x, -direction.z, direction.y);\n\t\toffset \x3d vec2(0.0+mipOffset,0.75 * rcpPowScale);\n\t\toffset.y \x3d bRes \x26\x26 (offset.y \x3c 2.0*a) ?  a : offset.y;\n\t}\n\telse if( face \x3d\x3d 1) {\n\t\tr \x3d vec3(direction.y, direction.x, direction.z);\n\t\toffset \x3d vec2(scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y \x3d bRes \x26\x26 (offset.y \x3c 2.0*a) ?  a : offset.y;\n\t}\n\telse if( face \x3d\x3d 2) {\n\t\tr \x3d vec3(direction.z, direction.x, direction.y);\n\t\toffset \x3d vec2(2.0*scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y \x3d bRes \x26\x26 (offset.y \x3c 2.0*a) ?  a : offset.y;\n\t}\n\telse if( face \x3d\x3d 3) {\n\t\tr \x3d vec3(direction.x, direction.z, direction.y);\n\t\toffset \x3d vec2(0.0+mipOffset,0.5 * rcpPowScale);\n\t\toffset.y \x3d bRes \x26\x26 (offset.y \x3c 2.0*a) ?  0.0 : offset.y;\n\t}\n\telse if( face \x3d\x3d 4) {\n\t\tr \x3d vec3(direction.y, direction.x, -direction.z);\n\t\toffset \x3d vec2(scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y \x3d bRes \x26\x26 (offset.y \x3c 2.0*a) ?  0.0 : offset.y;\n\t}\n\telse {\n\t\tr \x3d vec3(direction.z, -direction.x, direction.y);\n\t\toffset \x3d vec2(2.0*scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y \x3d bRes \x26\x26 (offset.y \x3c 2.0*a) ?  0.0 : offset.y;\n\t}\n\tr \x3d normalize(r);\n\tfloat texelOffset \x3d 0.5 * cubeUV_rcpTextureSize;\n\tvec2 s \x3d ( r.yz / abs( r.x ) + vec2( 1.0 ) ) * 0.5;\n\tvec2 base \x3d offset + vec2( texelOffset );\n\treturn base + s * ( scale - 2.0 * texelOffset );\n}\n#define cubeUV_maxLods3 (log2(cubeUV_textureSize*0.25) - 3.0)\nvec4 textureCubeUV(vec3 reflectedDirection, float roughness ) {\n\tfloat roughnessVal \x3d roughness* cubeUV_maxLods3;\n\tfloat r1 \x3d floor(roughnessVal);\n\tfloat r2 \x3d r1 + 1.0;\n\tfloat t \x3d fract(roughnessVal);\n\tvec2 mipInfo \x3d MipLevelInfo(reflectedDirection, r1, roughness);\n\tfloat s \x3d mipInfo.y;\n\tfloat level0 \x3d mipInfo.x;\n\tfloat level1 \x3d level0 + 1.0;\n\tlevel1 \x3d level1 \x3e 5.0 ? 5.0 : level1;\n\tlevel0 +\x3d min( floor( s + 0.5 ), 5.0 );\n\tvec2 uv_10 \x3d getCubeUV(reflectedDirection, r1, level0);\n\tvec4 color10 \x3d envMapTexelToLinear(texture2D(envMap, uv_10));\n\tvec2 uv_20 \x3d getCubeUV(reflectedDirection, r2, level0);\n\tvec4 color20 \x3d envMapTexelToLinear(texture2D(envMap, uv_20));\n\tvec4 result \x3d mix(color10, color20, t);\n\treturn vec4(result.rgb, 1.0);\n}\n#endif\n";
V.ShaderChunk.defaultnormal_vertex="#ifdef FLIP_SIDED\n\tobjectNormal \x3d -objectNormal;\n#endif\nvec3 transformedNormal \x3d normalMatrix * objectNormal;\n";V.ShaderChunk.displacementmap_vertex="#ifdef USE_DISPLACEMENTMAP\n\ttransformed +\x3d normal * ( texture2D( displacementMap, uv ).x * displacementScale + displacementBias );\n#endif\n";V.ShaderChunk.displacementmap_pars_vertex="#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif\n";
V.ShaderChunk.emissivemap_fragment="#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor \x3d texture2D( emissiveMap, vUv );\n\temissiveColor.rgb \x3d emissiveMapTexelToLinear( emissiveColor ).rgb;\n\ttotalEmissiveRadiance *\x3d emissiveColor.rgb;\n#endif\n";V.ShaderChunk.emissivemap_pars_fragment="#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif\n";V.ShaderChunk.encodings_pars_fragment="\nvec4 LinearToLinear( in vec4 value ) {\n  return value;\n}\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n  return vec4( pow( value.xyz, vec3( gammaFactor ) ), value.w );\n}\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n  return vec4( pow( value.xyz, vec3( 1.0 / gammaFactor ) ), value.w );\n}\nvec4 sRGBToLinear( in vec4 value ) {\n  return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.w );\n}\nvec4 LinearTosRGB( in vec4 value ) {\n  return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.w );\n}\nvec4 RGBEToLinear( in vec4 value ) {\n  return vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n}\nvec4 LinearToRGBE( in vec4 value ) {\n  float maxComponent \x3d max( max( value.r, value.g ), value.b );\n  float fExp \x3d clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n  return vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n}\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n  return vec4( value.xyz * value.w * maxRange, 1.0 );\n}\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n  float maxRGB \x3d max( value.x, max( value.g, value.b ) );\n  float M      \x3d clamp( maxRGB / maxRange, 0.0, 1.0 );\n  M            \x3d ceil( M * 255.0 ) / 255.0;\n  return vec4( value.rgb / ( M * maxRange ), M );\n}\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n    return vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n}\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n    float maxRGB \x3d max( value.x, max( value.g, value.b ) );\n    float D      \x3d max( maxRange / maxRGB, 1.0 );\n    D            \x3d min( floor( D ) / 255.0, 1.0 );\n    return vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n}\nconst mat3 cLogLuvM \x3d mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\nvec4 LinearToLogLuv( in vec4 value )  {\n  vec3 Xp_Y_XYZp \x3d value.rgb * cLogLuvM;\n  Xp_Y_XYZp \x3d max(Xp_Y_XYZp, vec3(1e-6, 1e-6, 1e-6));\n  vec4 vResult;\n  vResult.xy \x3d Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\n  float Le \x3d 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\n  vResult.w \x3d fract(Le);\n  vResult.z \x3d (Le - (floor(vResult.w*255.0))/255.0)/255.0;\n  return vResult;\n}\nconst mat3 cLogLuvInverseM \x3d mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\nvec4 LogLuvToLinear( in vec4 value ) {\n  float Le \x3d value.z * 255.0 + value.w;\n  vec3 Xp_Y_XYZp;\n  Xp_Y_XYZp.y \x3d exp2((Le - 127.0) / 2.0);\n  Xp_Y_XYZp.z \x3d Xp_Y_XYZp.y / value.y;\n  Xp_Y_XYZp.x \x3d value.x * Xp_Y_XYZp.z;\n  vec3 vRGB \x3d Xp_Y_XYZp.rgb * cLogLuvInverseM;\n  return vec4( max(vRGB, 0.0), 1.0 );\n}\n";
V.ShaderChunk.encodings_fragment="  gl_FragColor \x3d linearToOutputTexel( gl_FragColor );\n";V.ShaderChunk.envmap_fragment="#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvec3 cameraToVertex \x3d normalize( vWorldPosition - cameraPosition );\n\t\tvec3 worldNormal \x3d inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec \x3d reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec \x3d refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec \x3d vReflect;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tfloat flipNormal \x3d ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t#else\n\t\tfloat flipNormal \x3d 1.0;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor \x3d textureCube( envMap, flipNormal * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\tvec2 sampleUV;\n\t\tsampleUV.y \x3d saturate( flipNormal * reflectVec.y * 0.5 + 0.5 );\n\t\tsampleUV.x \x3d atan( flipNormal * reflectVec.z, flipNormal * reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\tvec4 envColor \x3d texture2D( envMap, sampleUV );\n\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\tvec3 reflectView \x3d flipNormal * normalize((viewMatrix * vec4( reflectVec, 0.0 )).xyz + vec3(0.0,0.0,1.0));\n\t\tvec4 envColor \x3d texture2D( envMap, reflectView.xy * 0.5 + 0.5 );\n\t#endif\n\tenvColor \x3d envMapTexelToLinear( envColor );\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight \x3d mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight \x3d mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight +\x3d envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif\n";
V.ShaderChunk.envmap_pars_fragment="#if defined( USE_ENVMAP ) || defined( PHYSICAL )\n\tuniform float reflectivity;\n\tuniform float envMapIntenstiy;\n#endif\n#ifdef USE_ENVMAP\n\t#if ! defined( PHYSICAL ) \x26\x26 ( defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) )\n\t\tvarying vec3 vWorldPosition;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\tuniform float flipEnvMap;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( PHYSICAL )\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif\n";
V.ShaderChunk.envmap_pars_vertex="#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif\n";V.ShaderChunk.envmap_vertex="#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvWorldPosition \x3d worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex \x3d normalize( worldPosition.xyz - cameraPosition );\n\t\tvec3 worldNormal \x3d inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect \x3d reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect \x3d refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif\n";
V.ShaderChunk.fog_fragment="#ifdef USE_FOG\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tfloat depth \x3d gl_FragDepthEXT / gl_FragCoord.w;\n\t#else\n\t\tfloat depth \x3d gl_FragCoord.z / gl_FragCoord.w;\n\t#endif\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor \x3d whiteCompliment( exp2( - fogDensity * fogDensity * depth * depth * LOG2 ) );\n\t#else\n\t\tfloat fogFactor \x3d smoothstep( fogNear, fogFar, depth );\n\t#endif\n\tgl_FragColor.rgb \x3d mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif\n";
V.ShaderChunk.fog_pars_fragment="#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif";V.ShaderChunk.lightmap_fragment="#ifdef USE_LIGHTMAP\n\treflectedLight.indirectDiffuse +\x3d PI * texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n#endif\n";V.ShaderChunk.lightmap_pars_fragment="#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif";
V.ShaderChunk.lights_lambert_vertex="vec3 diffuse \x3d vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position \x3d mvPosition.xyz;\ngeometry.normal \x3d normalize( transformedNormal );\ngeometry.viewDir \x3d normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position \x3d geometry.position;\nbackGeometry.normal \x3d -geometry.normal;\nbackGeometry.viewDir \x3d geometry.viewDir;\nvLightFront \x3d vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack \x3d vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\n#if NUM_POINT_LIGHTS \x3e 0\n\tfor ( int i \x3d 0; i \x3c NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\n\t\tdotNL \x3d dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse \x3d PI * directLight.color;\n\t\tvLightFront +\x3d saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack +\x3d saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_SPOT_LIGHTS \x3e 0\n\tfor ( int i \x3d 0; i \x3c NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\n\t\tdotNL \x3d dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse \x3d PI * directLight.color;\n\t\tvLightFront +\x3d saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack +\x3d saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_DIR_LIGHTS \x3e 0\n\tfor ( int i \x3d 0; i \x3c NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\n\t\tdotNL \x3d dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse \x3d PI * directLight.color;\n\t\tvLightFront +\x3d saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack +\x3d saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_HEMI_LIGHTS \x3e 0\n\tfor ( int i \x3d 0; i \x3c NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvLightFront +\x3d getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack +\x3d getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\n\t\t#endif\n\t}\n#endif\n";
V.ShaderChunk.lights_pars="uniform vec3 ambientLightColor;\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance \x3d ambientLightColor;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *\x3d PI;\n\t#endif\n\treturn irradiance;\n}\n#if NUM_DIR_LIGHTS \x3e 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tdirectLight.color \x3d directionalLight.color;\n\t\tdirectLight.direction \x3d directionalLight.direction;\n\t\tdirectLight.visible \x3d true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS \x3e 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector \x3d pointLight.position - geometry.position;\n\t\tdirectLight.direction \x3d normalize( lVector );\n\t\tfloat lightDistance \x3d length( lVector );\n\t\tif ( testLightInRange( lightDistance, pointLight.distance ) ) {\n\t\t\tdirectLight.color \x3d pointLight.color;\n\t\t\tdirectLight.color *\x3d punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\n\t\t\tdirectLight.visible \x3d true;\n\t\t} else {\n\t\t\tdirectLight.color \x3d vec3( 0.0 );\n\t\t\tdirectLight.visible \x3d false;\n\t\t}\n\t}\n#endif\n#if NUM_SPOT_LIGHTS \x3e 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight  ) {\n\t\tvec3 lVector \x3d spotLight.position - geometry.position;\n\t\tdirectLight.direction \x3d normalize( lVector );\n\t\tfloat lightDistance \x3d length( lVector );\n\t\tfloat angleCos \x3d dot( directLight.direction, spotLight.direction );\n\t\tif ( all( bvec2( angleCos \x3e spotLight.coneCos, testLightInRange( lightDistance, spotLight.distance ) ) ) ) {\n\t\t\tfloat spotEffect \x3d smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\t\tdirectLight.color \x3d spotLight.color;\n\t\t\tdirectLight.color *\x3d spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tdirectLight.visible \x3d true;\n\t\t} else {\n\t\t\tdirectLight.color \x3d vec3( 0.0 );\n\t\t\tdirectLight.visible \x3d false;\n\t\t}\n\t}\n#endif\n#if NUM_HEMI_LIGHTS \x3e 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\n\t\tfloat dotNL \x3d dot( geometry.normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight \x3d 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance \x3d mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tirradiance *\x3d PI;\n\t\t#endif\n\t\treturn irradiance;\n\t}\n#endif\n#if defined( USE_ENVMAP ) \x26\x26 defined( PHYSICAL )\n\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tfloat flipNormal \x3d ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t#else\n\t\t\tfloat flipNormal \x3d 1.0;\n\t\t#endif\n\t\tvec3 worldNormal \x3d inverseTransformDirection( geometry.normal, viewMatrix );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryVec \x3d flipNormal * vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor \x3d textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor \x3d textureCube( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb \x3d envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryVec \x3d flipNormal * vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\tvec4 envMapColor \x3d textureCubeUV( queryVec, 1.0 );\n\t\t#else\n\t\t\tvec4 envMapColor \x3d vec4( 0.0 );\n\t\t#endif\n\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t}\n\tfloat getSpecularMIPLevel( const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\tfloat maxMIPLevelScalar \x3d float( maxMIPLevel );\n\t\tfloat desiredMIPLevel \x3d maxMIPLevelScalar - 0.79248 - 0.5 * log2( pow2( blinnShininessExponent ) + 1.0 );\n\t\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\n\t}\n\tvec3 getLightProbeIndirectRadiance( const in GeometricContext geometry, const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec \x3d reflect( -geometry.viewDir, geometry.normal );\n\t\t#else\n\t\t\tvec3 reflectVec \x3d refract( -geometry.viewDir, geometry.normal, refractionRatio );\n\t\t#endif\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tfloat flipNormal \x3d ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t#else\n\t\t\tfloat flipNormal \x3d 1.0;\n\t\t#endif\n\t\treflectVec \x3d inverseTransformDirection( reflectVec, viewMatrix );\n\t\tfloat specularMIPLevel \x3d getSpecularMIPLevel( blinnShininessExponent, maxMIPLevel );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryReflectVec \x3d flipNormal * vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor \x3d textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor \x3d textureCube( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb \x3d envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryReflectVec \x3d flipNormal * vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\tvec4 envMapColor \x3d textureCubeUV(queryReflectVec, BlinnExponentToGGXRoughness(blinnShininessExponent));\n\t\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\t\tvec2 sampleUV;\n\t\t\tsampleUV.y \x3d saturate( flipNormal * reflectVec.y * 0.5 + 0.5 );\n\t\t\tsampleUV.x \x3d atan( flipNormal * reflectVec.z, flipNormal * reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor \x3d texture2DLodEXT( envMap, sampleUV, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor \x3d texture2D( envMap, sampleUV, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb \x3d envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\t\tvec3 reflectView \x3d flipNormal * normalize((viewMatrix * vec4( reflectVec, 0.0 )).xyz + vec3(0.0,0.0,1.0));\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor \x3d texture2DLodEXT( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor \x3d texture2D( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb \x3d envMapTexelToLinear( envMapColor ).rgb;\n\t\t#endif\n\t\treturn envMapColor.rgb * envMapIntensity;\n\t}\n#endif\n";
V.ShaderChunk.lights_phong_fragment="BlinnPhongMaterial material;\nmaterial.diffuseColor \x3d diffuseColor.rgb;\nmaterial.specularColor \x3d specular;\nmaterial.specularShininess \x3d shininess;\nmaterial.specularStrength \x3d specularStrength;\n";V.ShaderChunk.lights_phong_pars_fragment="varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct BlinnPhongMaterial {\n\tvec3\tdiffuseColor;\n\tvec3\tspecularColor;\n\tfloat\tspecularShininess;\n\tfloat\tspecularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL \x3d saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance \x3d dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *\x3d PI;\n\t#endif\n\treflectedLight.directDiffuse +\x3d irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular +\x3d irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse +\x3d irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)\n";
V.ShaderChunk.lights_physical_fragment="PhysicalMaterial material;\nmaterial.diffuseColor \x3d diffuseColor.rgb * ( 1.0 - metalnessFactor );\nmaterial.specularRoughness \x3d clamp( roughnessFactor, 0.04, 1.0 );\n#ifdef STANDARD\n\tmaterial.specularColor \x3d mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor \x3d mix( vec3( 0.16 * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\n#endif\n";V.ShaderChunk.lights_physical_pars_fragment="struct PhysicalMaterial {\n\tvec3\tdiffuseColor;\n\tfloat\tspecularRoughness;\n\tvec3\tspecularColor;\n\t#ifndef STANDARD\n\t#endif\n};\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL \x3d saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance \x3d dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *\x3d PI;\n\t#endif\n\treflectedLight.directDiffuse +\x3d irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular +\x3d irradiance * BRDF_Specular_GGX( directLight, geometry, material.specularColor, material.specularRoughness );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse +\x3d irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectSpecular +\x3d radiance * BRDF_Specular_GGX_Environment( geometry, material.specularColor, material.specularRoughness );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\n#define Material_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.specularRoughness )\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}\n";
V.ShaderChunk.lights_template="\nGeometricContext geometry;\ngeometry.position \x3d - vViewPosition;\ngeometry.normal \x3d normal;\ngeometry.viewDir \x3d normalize( vViewPosition );\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS \x3e 0 ) \x26\x26 defined( RE_Direct )\n\tPointLight pointLight;\n\tfor ( int i \x3d 0; i \x3c NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight \x3d pointLights[ i ];\n\t\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *\x3d all( bvec2( pointLight.shadow, directLight.visible ) ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_SPOT_LIGHTS \x3e 0 ) \x26\x26 defined( RE_Direct )\n\tSpotLight spotLight;\n\tfor ( int i \x3d 0; i \x3c NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight \x3d spotLights[ i ];\n\t\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *\x3d all( bvec2( spotLight.shadow, directLight.visible ) ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_DIR_LIGHTS \x3e 0 ) \x26\x26 defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\tfor ( int i \x3d 0; i \x3c NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight \x3d directionalLights[ i ];\n\t\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *\x3d all( bvec2( directionalLight.shadow, directLight.visible ) ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 irradiance \x3d getAmbientLightIrradiance( ambientLightColor );\n\t#ifdef USE_LIGHTMAP\n\t\tvec3 lightMapIrradiance \x3d texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tlightMapIrradiance *\x3d PI;\n\t\t#endif\n\t\tirradiance +\x3d lightMapIrradiance;\n\t#endif\n\t#if ( NUM_HEMI_LIGHTS \x3e 0 )\n\t\tfor ( int i \x3d 0; i \x3c NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance +\x3d getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t}\n\t#endif\n\t#if defined( USE_ENVMAP ) \x26\x26 defined( PHYSICAL ) \x26\x26 defined( ENVMAP_TYPE_CUBE_UV )\n\t \tirradiance +\x3d getLightProbeIndirectIrradiance( geometry, 8 );\n\t#endif\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( USE_ENVMAP ) \x26\x26 defined( RE_IndirectSpecular )\n\tvec3 radiance \x3d getLightProbeIndirectRadiance( geometry, Material_BlinnShininessExponent( material ), 8 );\n\tRE_IndirectSpecular( radiance, geometry, material, reflectedLight );\n#endif\n";
V.ShaderChunk.logdepthbuf_fragment="#if defined(USE_LOGDEPTHBUF) \x26\x26 defined(USE_LOGDEPTHBUF_EXT)\n\tgl_FragDepthEXT \x3d log2(vFragDepth) * logDepthBufFC * 0.5;\n#endif";V.ShaderChunk.logdepthbuf_pars_fragment="#ifdef USE_LOGDEPTHBUF\n\tuniform float logDepthBufFC;\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t#endif\n#endif\n";V.ShaderChunk.logdepthbuf_pars_vertex="#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t#endif\n\tuniform float logDepthBufFC;\n#endif";
V.ShaderChunk.logdepthbuf_vertex="#ifdef USE_LOGDEPTHBUF\n\tgl_Position.z \x3d log2(max( EPSILON, gl_Position.w + 1.0 )) * logDepthBufFC;\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth \x3d 1.0 + gl_Position.w;\n\t#else\n\t\tgl_Position.z \x3d (gl_Position.z - 1.0) * gl_Position.w;\n\t#endif\n#endif\n";V.ShaderChunk.map_fragment="#ifdef USE_MAP\n\tvec4 texelColor \x3d texture2D( map, vUv );\n\ttexelColor \x3d mapTexelToLinear( texelColor );\n\tdiffuseColor *\x3d texelColor;\n#endif\n";
V.ShaderChunk.map_pars_fragment="#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n";V.ShaderChunk.map_particle_fragment="#ifdef USE_MAP\n\tvec4 mapTexel \x3d texture2D( map, vec2( gl_PointCoord.x, 1.0 - gl_PointCoord.y ) * offsetRepeat.zw + offsetRepeat.xy );\n\tdiffuseColor *\x3d mapTexelToLinear( mapTexel );\n#endif\n";V.ShaderChunk.map_particle_pars_fragment="#ifdef USE_MAP\n\tuniform vec4 offsetRepeat;\n\tuniform sampler2D map;\n#endif\n";V.ShaderChunk.metalnessmap_fragment="float metalnessFactor \x3d metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness \x3d texture2D( metalnessMap, vUv );\n\tmetalnessFactor *\x3d texelMetalness.r;\n#endif\n";
V.ShaderChunk.metalnessmap_pars_fragment="#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif";V.ShaderChunk.morphnormal_vertex="#ifdef USE_MORPHNORMALS\n\tobjectNormal +\x3d ( morphNormal0 - normal ) * morphTargetInfluences[ 0 ];\n\tobjectNormal +\x3d ( morphNormal1 - normal ) * morphTargetInfluences[ 1 ];\n\tobjectNormal +\x3d ( morphNormal2 - normal ) * morphTargetInfluences[ 2 ];\n\tobjectNormal +\x3d ( morphNormal3 - normal ) * morphTargetInfluences[ 3 ];\n#endif\n";
V.ShaderChunk.morphtarget_pars_vertex="#ifdef USE_MORPHTARGETS\n\t#ifndef USE_MORPHNORMALS\n\tuniform float morphTargetInfluences[ 8 ];\n\t#else\n\tuniform float morphTargetInfluences[ 4 ];\n\t#endif\n#endif";V.ShaderChunk.morphtarget_vertex="#ifdef USE_MORPHTARGETS\n\ttransformed +\x3d ( morphTarget0 - position ) * morphTargetInfluences[ 0 ];\n\ttransformed +\x3d ( morphTarget1 - position ) * morphTargetInfluences[ 1 ];\n\ttransformed +\x3d ( morphTarget2 - position ) * morphTargetInfluences[ 2 ];\n\ttransformed +\x3d ( morphTarget3 - position ) * morphTargetInfluences[ 3 ];\n\t#ifndef USE_MORPHNORMALS\n\ttransformed +\x3d ( morphTarget4 - position ) * morphTargetInfluences[ 4 ];\n\ttransformed +\x3d ( morphTarget5 - position ) * morphTargetInfluences[ 5 ];\n\ttransformed +\x3d ( morphTarget6 - position ) * morphTargetInfluences[ 6 ];\n\ttransformed +\x3d ( morphTarget7 - position ) * morphTargetInfluences[ 7 ];\n\t#endif\n#endif\n";
V.ShaderChunk.normal_fragment="#ifdef FLAT_SHADED\n\tvec3 fdx \x3d vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy \x3d vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal \x3d normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal \x3d normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal \x3d normal * ( -1.0 + 2.0 * float( gl_FrontFacing ) );\n\t#endif\n#endif\n#ifdef USE_NORMALMAP\n\tnormal \x3d perturbNormal2Arb( -vViewPosition, normal );\n#elif defined( USE_BUMPMAP )\n\tnormal \x3d perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\n#endif\n";
V.ShaderChunk.normalmap_pars_fragment="#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm ) {\n\t\tvec3 q0 \x3d dFdx( eye_pos.xyz );\n\t\tvec3 q1 \x3d dFdy( eye_pos.xyz );\n\t\tvec2 st0 \x3d dFdx( vUv.st );\n\t\tvec2 st1 \x3d dFdy( vUv.st );\n\t\tvec3 S \x3d normalize( q0 * st1.t - q1 * st0.t );\n\t\tvec3 T \x3d normalize( -q0 * st1.s + q1 * st0.s );\n\t\tvec3 N \x3d normalize( surf_norm );\n\t\tvec3 mapN \x3d texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t\tmapN.xy \x3d normalScale * mapN.xy;\n\t\tmat3 tsn \x3d mat3( S, T, N );\n\t\treturn normalize( tsn * mapN );\n\t}\n#endif\n";
V.ShaderChunk.packing="vec3 packNormalToRGB( const in vec3 normal ) {\n  return normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n  return 1.0 - 2.0 * rgb.xyz;\n}\nconst float PackUpscale \x3d 256. / 255.;const float UnpackDownscale \x3d 255. / 256.;\nconst vec3 PackFactors \x3d vec3( 256. * 256. * 256., 256. * 256.,  256. );\nconst vec4 UnpackFactors \x3d UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 \x3d 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r \x3d vec4( fract( v * PackFactors ), v );\n\tr.yzw -\x3d r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nfloat viewZToOrthoDepth( const in float viewZ, const in float near, const in float far ) {\n  return ( viewZ + near ) / ( near - far );\n}\nfloat OrthoDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n  return linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n  return (( near + viewZ ) * far ) / (( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n  return ( near * far ) / ( ( far - near ) * invClipZ - far );\n}\n";
V.ShaderChunk.premultiplied_alpha_fragment="#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *\x3d gl_FragColor.a;\n#endif\n";V.ShaderChunk.project_vertex="#ifdef USE_SKINNING\n\tvec4 mvPosition \x3d modelViewMatrix * skinned;\n#else\n\tvec4 mvPosition \x3d modelViewMatrix * vec4( transformed, 1.0 );\n#endif\ngl_Position \x3d projectionMatrix * mvPosition;\n";V.ShaderChunk.roughnessmap_fragment="float roughnessFactor \x3d roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness \x3d texture2D( roughnessMap, vUv );\n\troughnessFactor *\x3d texelRoughness.r;\n#endif\n";
V.ShaderChunk.roughnessmap_pars_fragment="#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif";V.ShaderChunk.shadowmap_pars_fragment="#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS \x3e 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS \x3e 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS \x3e 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tfloat texture2DShadowLerp( sampler2D depths, vec2 size, vec2 uv, float compare ) {\n\t\tconst vec2 offset \x3d vec2( 0.0, 1.0 );\n\t\tvec2 texelSize \x3d vec2( 1.0 ) / size;\n\t\tvec2 centroidUV \x3d floor( uv * size + 0.5 ) / size;\n\t\tfloat lb \x3d texture2DCompare( depths, centroidUV + texelSize * offset.xx, compare );\n\t\tfloat lt \x3d texture2DCompare( depths, centroidUV + texelSize * offset.xy, compare );\n\t\tfloat rb \x3d texture2DCompare( depths, centroidUV + texelSize * offset.yx, compare );\n\t\tfloat rt \x3d texture2DCompare( depths, centroidUV + texelSize * offset.yy, compare );\n\t\tvec2 f \x3d fract( uv * size + 0.5 );\n\t\tfloat a \x3d mix( lb, lt, f.y );\n\t\tfloat b \x3d mix( rb, rt, f.y );\n\t\tfloat c \x3d mix( a, b, f.x );\n\t\treturn c;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tshadowCoord.xyz /\x3d shadowCoord.w;\n\t\tshadowCoord.z +\x3d shadowBias;\n\t\tbvec4 inFrustumVec \x3d bvec4 ( shadowCoord.x \x3e\x3d 0.0, shadowCoord.x \x3c\x3d 1.0, shadowCoord.y \x3e\x3d 0.0, shadowCoord.y \x3c\x3d 1.0 );\n\t\tbool inFrustum \x3d all( inFrustumVec );\n\t\tbvec2 frustumTestVec \x3d bvec2( inFrustum, shadowCoord.z \x3c\x3d 1.0 );\n\t\tbool frustumTest \x3d all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize \x3d vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 \x3d - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 \x3d - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 \x3d + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 \x3d + texelSize.y * shadowRadius;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize \x3d vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 \x3d - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 \x3d - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 \x3d + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 \x3d + texelSize.y * shadowRadius;\n\t\t\treturn (\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn 1.0;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV \x3d abs( v );\n\t\tfloat scaleToCube \x3d 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *\x3d scaleToCube;\n\t\tv *\x3d scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar \x3d v.xy;\n\t\tfloat almostATexel \x3d 1.5 * texelSizeY;\n\t\tfloat almostOne \x3d 1.0 - almostATexel;\n\t\tif ( absV.z \x3e\x3d almostOne ) {\n\t\t\tif ( v.z \x3e 0.0 )\n\t\t\t\tplanar.x \x3d 4.0 - v.x;\n\t\t} else if ( absV.x \x3e\x3d almostOne ) {\n\t\t\tfloat signX \x3d sign( v.x );\n\t\t\tplanar.x \x3d v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y \x3e\x3d almostOne ) {\n\t\t\tfloat signY \x3d sign( v.y );\n\t\t\tplanar.x \x3d v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y \x3d v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tvec2 texelSize \x3d vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition \x3d shadowCoord.xyz;\n\t\tvec3 bd3D \x3d normalize( lightToPosition );\n\t\tfloat dp \x3d ( length( lightToPosition ) - shadowBias ) / 1000.0;\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 offset \x3d vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif\n";
V.ShaderChunk.shadowmap_pars_vertex="#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS \x3e 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS \x3e 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS \x3e 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n#endif\n";
V.ShaderChunk.shadowmap_vertex="#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS \x3e 0\n\tfor ( int i \x3d 0; i \x3c NUM_DIR_LIGHTS; i ++ ) {\n\t\tvDirectionalShadowCoord[ i ] \x3d directionalShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS \x3e 0\n\tfor ( int i \x3d 0; i \x3c NUM_SPOT_LIGHTS; i ++ ) {\n\t\tvSpotShadowCoord[ i ] \x3d spotShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS \x3e 0\n\tfor ( int i \x3d 0; i \x3c NUM_POINT_LIGHTS; i ++ ) {\n\t\tvPointShadowCoord[ i ] \x3d pointShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n#endif\n";
V.ShaderChunk.shadowmask_pars_fragment="float getShadowMask() {\n\tfloat shadow \x3d 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS \x3e 0\n\tDirectionalLight directionalLight;\n\tfor ( int i \x3d 0; i \x3c NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight \x3d directionalLights[ i ];\n\t\tshadow *\x3d bool( directionalLight.shadow ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS \x3e 0\n\tSpotLight spotLight;\n\tfor ( int i \x3d 0; i \x3c NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight \x3d spotLights[ i ];\n\t\tshadow *\x3d bool( spotLight.shadow ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS \x3e 0\n\tPointLight pointLight;\n\tfor ( int i \x3d 0; i \x3c NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight \x3d pointLights[ i ];\n\t\tshadow *\x3d bool( pointLight.shadow ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#endif\n\treturn shadow;\n}\n";
V.ShaderChunk.skinbase_vertex="#ifdef USE_SKINNING\n\tmat4 boneMatX \x3d getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY \x3d getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ \x3d getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW \x3d getBoneMatrix( skinIndex.w );\n#endif";V.ShaderChunk.skinning_pars_vertex="#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform sampler2D boneTexture;\n\t\tuniform int boneTextureWidth;\n\t\tuniform int boneTextureHeight;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j \x3d i * 4.0;\n\t\t\tfloat x \x3d mod( j, float( boneTextureWidth ) );\n\t\t\tfloat y \x3d floor( j / float( boneTextureWidth ) );\n\t\t\tfloat dx \x3d 1.0 / float( boneTextureWidth );\n\t\t\tfloat dy \x3d 1.0 / float( boneTextureHeight );\n\t\t\ty \x3d dy * ( y + 0.5 );\n\t\t\tvec4 v1 \x3d texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 \x3d texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 \x3d texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 \x3d texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone \x3d mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone \x3d boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif\n";
V.ShaderChunk.skinning_vertex="#ifdef USE_SKINNING\n\tvec4 skinVertex \x3d bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned \x3d vec4( 0.0 );\n\tskinned +\x3d boneMatX * skinVertex * skinWeight.x;\n\tskinned +\x3d boneMatY * skinVertex * skinWeight.y;\n\tskinned +\x3d boneMatZ * skinVertex * skinWeight.z;\n\tskinned +\x3d boneMatW * skinVertex * skinWeight.w;\n\tskinned  \x3d bindMatrixInverse * skinned;\n#endif\n";V.ShaderChunk.skinnormal_vertex="#ifdef USE_SKINNING\n\tmat4 skinMatrix \x3d mat4( 0.0 );\n\tskinMatrix +\x3d skinWeight.x * boneMatX;\n\tskinMatrix +\x3d skinWeight.y * boneMatY;\n\tskinMatrix +\x3d skinWeight.z * boneMatZ;\n\tskinMatrix +\x3d skinWeight.w * boneMatW;\n\tskinMatrix  \x3d bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal \x3d vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n#endif\n";
V.ShaderChunk.specularmap_fragment="float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular \x3d texture2D( specularMap, vUv );\n\tspecularStrength \x3d texelSpecular.r;\n#else\n\tspecularStrength \x3d 1.0;\n#endif";V.ShaderChunk.specularmap_pars_fragment="#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif";V.ShaderChunk.tonemapping_fragment="#if defined( TONE_MAPPING )\n  gl_FragColor.rgb \x3d toneMapping( gl_FragColor.rgb );\n#endif\n";
V.ShaderChunk.tonemapping_pars_fragment="#define saturate(a) clamp( a, 0.0, 1.0 )\nuniform float toneMappingExposure;\nuniform float toneMappingWhitePoint;\nvec3 LinearToneMapping( vec3 color ) {\n  return toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n  color *\x3d toneMappingExposure;\n  return saturate( color / ( vec3( 1.0 ) + color ) );\n}\n#define Uncharted2Helper( x ) max( ( ( x * ( 0.15 * x + 0.10 * 0.50 ) + 0.20 * 0.02 ) / ( x * ( 0.15 * x + 0.50 ) + 0.20 * 0.30 ) ) - 0.02 / 0.30, vec3( 0.0 ) )\nvec3 Uncharted2ToneMapping( vec3 color ) {\n  color *\x3d toneMappingExposure;\n  return saturate( Uncharted2Helper( color ) / Uncharted2Helper( vec3( toneMappingWhitePoint ) ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n  color *\x3d toneMappingExposure;\n  color \x3d max( vec3( 0.0 ), color - 0.004 );\n  return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\n";
V.ShaderChunk.uv2_pars_fragment="#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif";V.ShaderChunk.uv2_pars_vertex="#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n#endif";V.ShaderChunk.uv2_vertex="#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 \x3d uv2;\n#endif";V.ShaderChunk.uv_pars_fragment="#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n#endif";
V.ShaderChunk.uv_pars_vertex="#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n\tuniform vec4 offsetRepeat;\n#endif\n";V.ShaderChunk.uv_vertex="#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvUv \x3d uv * offsetRepeat.zw + offsetRepeat.xy;\n#endif";
V.ShaderChunk.worldpos_vertex="#if defined( USE_ENVMAP ) || defined( PHONG ) || defined( PHYSICAL ) || defined( LAMBERT ) || defined ( USE_SHADOWMAP )\n\t#ifdef USE_SKINNING\n\t\tvec4 worldPosition \x3d modelMatrix * skinned;\n\t#else\n\t\tvec4 worldPosition \x3d modelMatrix * vec4( transformed, 1.0 );\n\t#endif\n#endif\n";
V.UniformsUtils={merge:function(a){for(var b={},c=0;c<a.length;c++){var d=this.clone(a[c]),e;for(e in d)b[e]=d[e]}return b},clone:function(a){var b={},c;for(c in a){b[c]={};for(var d in a[c]){var e=a[c][d];b[c][d]=e instanceof V.Color||e instanceof V.Vector2||e instanceof V.Vector3||e instanceof V.Vector4||e instanceof V.Matrix3||e instanceof V.Matrix4||e instanceof V.Texture?e.clone():Array.isArray(e)?e.slice():e}}return b}};
V.UniformsLib={common:{diffuse:{type:"c",value:new V.Color(15658734)},opacity:{type:"1f",value:1},map:{type:"t",value:null},offsetRepeat:{type:"v4",value:new V.Vector4(0,0,1,1)},specularMap:{type:"t",value:null},alphaMap:{type:"t",value:null},envMap:{type:"t",value:null},flipEnvMap:{type:"1f",value:-1},reflectivity:{type:"1f",value:1},refractionRatio:{type:"1f",value:.98}},aomap:{aoMap:{type:"t",value:null},aoMapIntensity:{type:"1f",value:1}},lightmap:{lightMap:{type:"t",value:null},lightMapIntensity:{type:"1f",
value:1}},emissivemap:{emissiveMap:{type:"t",value:null}},bumpmap:{bumpMap:{type:"t",value:null},bumpScale:{type:"1f",value:1}},normalmap:{normalMap:{type:"t",value:null},normalScale:{type:"v2",value:new V.Vector2(1,1)}},displacementmap:{displacementMap:{type:"t",value:null},displacementScale:{type:"1f",value:1},displacementBias:{type:"1f",value:0}},roughnessmap:{roughnessMap:{type:"t",value:null}},metalnessmap:{metalnessMap:{type:"t",value:null}},fog:{fogDensity:{type:"1f",value:2.5E-4},fogNear:{type:"1f",
value:1},fogFar:{type:"1f",value:2E3},fogColor:{type:"c",value:new V.Color(16777215)}},lights:{ambientLightColor:{type:"3fv",value:[]},directionalLights:{type:"sa",value:[],properties:{direction:{type:"v3"},color:{type:"c"},shadow:{type:"1i"},shadowBias:{type:"1f"},shadowRadius:{type:"1f"},shadowMapSize:{type:"v2"}}},directionalShadowMap:{type:"tv",value:[]},directionalShadowMatrix:{type:"m4v",value:[]},spotLights:{type:"sa",value:[],properties:{color:{type:"c"},position:{type:"v3"},direction:{type:"v3"},
distance:{type:"1f"},coneCos:{type:"1f"},penumbraCos:{type:"1f"},decay:{type:"1f"},shadow:{type:"1i"},shadowBias:{type:"1f"},shadowRadius:{type:"1f"},shadowMapSize:{type:"v2"}}},spotShadowMap:{type:"tv",value:[]},spotShadowMatrix:{type:"m4v",value:[]},pointLights:{type:"sa",value:[],properties:{color:{type:"c"},position:{type:"v3"},decay:{type:"1f"},distance:{type:"1f"},shadow:{type:"1i"},shadowBias:{type:"1f"},shadowRadius:{type:"1f"},shadowMapSize:{type:"v2"}}},pointShadowMap:{type:"tv",value:[]},
pointShadowMatrix:{type:"m4v",value:[]},hemisphereLights:{type:"sa",value:[],properties:{direction:{type:"v3"},skyColor:{type:"c"},groundColor:{type:"c"}}}},points:{diffuse:{type:"c",value:new V.Color(15658734)},opacity:{type:"1f",value:1},size:{type:"1f",value:1},scale:{type:"1f",value:1},map:{type:"t",value:null},offsetRepeat:{type:"v4",value:new V.Vector4(0,0,1,1)}}};V.ShaderChunk.cube_frag="uniform samplerCube tCube;\nuniform float tFlip;\nvarying vec3 vWorldPosition;\n#include \x3ccommon\x3e\n#include \x3clogdepthbuf_pars_fragment\x3e\n#include \x3cclipping_planes_pars_fragment\x3e\nvoid main() {\n\t#include \x3cclipping_planes_fragment\x3e\n\tgl_FragColor \x3d textureCube( tCube, vec3( tFlip * vWorldPosition.x, vWorldPosition.yz ) );\n\t#include \x3clogdepthbuf_fragment\x3e\n}\n";
V.ShaderChunk.cube_vert="varying vec3 vWorldPosition;\n#include \x3ccommon\x3e\n#include \x3clogdepthbuf_pars_vertex\x3e\n#include \x3cclipping_planes_pars_vertex\x3e\nvoid main() {\n\tvWorldPosition \x3d transformDirection( position, modelMatrix );\n\t#include \x3cbegin_vertex\x3e\n\t#include \x3cproject_vertex\x3e\n\t#include \x3clogdepthbuf_vertex\x3e\n\t#include \x3cclipping_planes_vertex\x3e\n}\n";V.ShaderChunk.depth_frag="#if DEPTH_PACKING \x3d\x3d 3200\n\tuniform float opacity;\n#endif\n#include \x3ccommon\x3e\n#include \x3cpacking\x3e\n#include \x3cuv_pars_fragment\x3e\n#include \x3cmap_pars_fragment\x3e\n#include \x3calphamap_pars_fragment\x3e\n#include \x3clogdepthbuf_pars_fragment\x3e\n#include \x3cclipping_planes_pars_fragment\x3e\nvoid main() {\n\t#include \x3cclipping_planes_fragment\x3e\n\tvec4 diffuseColor \x3d vec4( 1.0 );\n\t#if DEPTH_PACKING \x3d\x3d 3200\n\t\tdiffuseColor.a \x3d opacity;\n\t#endif\n\t#include \x3cmap_fragment\x3e\n\t#include \x3calphamap_fragment\x3e\n\t#include \x3calphatest_fragment\x3e\n\t#include \x3clogdepthbuf_fragment\x3e\n\t#if DEPTH_PACKING \x3d\x3d 3200\n\t\tgl_FragColor \x3d vec4( vec3( gl_FragCoord.z ), opacity );\n\t#elif DEPTH_PACKING \x3d\x3d 3201\n\t\tgl_FragColor \x3d packDepthToRGBA( gl_FragCoord.z );\n\t#endif\n}\n";
V.ShaderChunk.depth_vert="#include \x3ccommon\x3e\n#include \x3cuv_pars_vertex\x3e\n#include \x3cdisplacementmap_pars_vertex\x3e\n#include \x3cmorphtarget_pars_vertex\x3e\n#include \x3cskinning_pars_vertex\x3e\n#include \x3clogdepthbuf_pars_vertex\x3e\n#include \x3cclipping_planes_pars_vertex\x3e\nvoid main() {\n\t#include \x3cuv_vertex\x3e\n\t#include \x3cskinbase_vertex\x3e\n\t#include \x3cbegin_vertex\x3e\n\t#include \x3cdisplacementmap_vertex\x3e\n\t#include \x3cmorphtarget_vertex\x3e\n\t#include \x3cskinning_vertex\x3e\n\t#include \x3cproject_vertex\x3e\n\t#include \x3clogdepthbuf_vertex\x3e\n\t#include \x3cclipping_planes_vertex\x3e\n}\n";
V.ShaderChunk.distanceRGBA_frag="uniform vec3 lightPos;\nvarying vec4 vWorldPosition;\n#include \x3ccommon\x3e\n#include \x3cpacking\x3e\n#include \x3cclipping_planes_pars_fragment\x3e\nvoid main () {\n\t#include \x3cclipping_planes_fragment\x3e\n\tgl_FragColor \x3d packDepthToRGBA( length( vWorldPosition.xyz - lightPos.xyz ) / 1000.0 );\n}\n";V.ShaderChunk.distanceRGBA_vert="varying vec4 vWorldPosition;\n#include \x3ccommon\x3e\n#include \x3cmorphtarget_pars_vertex\x3e\n#include \x3cskinning_pars_vertex\x3e\n#include \x3cclipping_planes_pars_vertex\x3e\nvoid main() {\n\t#include \x3cskinbase_vertex\x3e\n\t#include \x3cbegin_vertex\x3e\n\t#include \x3cmorphtarget_vertex\x3e\n\t#include \x3cskinning_vertex\x3e\n\t#include \x3cproject_vertex\x3e\n\t#include \x3cworldpos_vertex\x3e\n\t#include \x3cclipping_planes_vertex\x3e\n\tvWorldPosition \x3d worldPosition;\n}\n";
V.ShaderChunk.equirect_frag="uniform sampler2D tEquirect;\nuniform float tFlip;\nvarying vec3 vWorldPosition;\n#include \x3ccommon\x3e\n#include \x3clogdepthbuf_pars_fragment\x3e\n#include \x3cclipping_planes_pars_fragment\x3e\nvoid main() {\n\t#include \x3cclipping_planes_fragment\x3e\n\tvec3 direction \x3d normalize( vWorldPosition );\n\tvec2 sampleUV;\n\tsampleUV.y \x3d saturate( tFlip * direction.y * -0.5 + 0.5 );\n\tsampleUV.x \x3d atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;\n\tgl_FragColor \x3d texture2D( tEquirect, sampleUV );\n\t#include \x3clogdepthbuf_fragment\x3e\n}\n";
V.ShaderChunk.equirect_vert="varying vec3 vWorldPosition;\n#include \x3ccommon\x3e\n#include \x3clogdepthbuf_pars_vertex\x3e\n#include \x3cclipping_planes_pars_vertex\x3e\nvoid main() {\n\tvWorldPosition \x3d transformDirection( position, modelMatrix );\n\t#include \x3cbegin_vertex\x3e\n\t#include \x3cproject_vertex\x3e\n\t#include \x3clogdepthbuf_vertex\x3e\n\t#include \x3cclipping_planes_vertex\x3e\n}\n";V.ShaderChunk.linedashed_frag="uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include \x3ccommon\x3e\n#include \x3ccolor_pars_fragment\x3e\n#include \x3cfog_pars_fragment\x3e\n#include \x3clogdepthbuf_pars_fragment\x3e\n#include \x3cclipping_planes_pars_fragment\x3e\nvoid main() {\n\t#include \x3cclipping_planes_fragment\x3e\n\tif ( mod( vLineDistance, totalSize ) \x3e dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight \x3d vec3( 0.0 );\n\tvec4 diffuseColor \x3d vec4( diffuse, opacity );\n\t#include \x3clogdepthbuf_fragment\x3e\n\t#include \x3ccolor_fragment\x3e\n\toutgoingLight \x3d diffuseColor.rgb;\n\tgl_FragColor \x3d vec4( outgoingLight, diffuseColor.a );\n\t#include \x3cpremultiplied_alpha_fragment\x3e\n\t#include \x3ctonemapping_fragment\x3e\n\t#include \x3cencodings_fragment\x3e\n\t#include \x3cfog_fragment\x3e\n}\n";
V.ShaderChunk.linedashed_vert="uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include \x3ccommon\x3e\n#include \x3ccolor_pars_vertex\x3e\n#include \x3clogdepthbuf_pars_vertex\x3e\n#include \x3cclipping_planes_pars_vertex\x3e\nvoid main() {\n\t#include \x3ccolor_vertex\x3e\n\tvLineDistance \x3d scale * lineDistance;\n\tvec4 mvPosition \x3d modelViewMatrix * vec4( position, 1.0 );\n\tgl_Position \x3d projectionMatrix * mvPosition;\n\t#include \x3clogdepthbuf_vertex\x3e\n\t#include \x3cclipping_planes_vertex\x3e\n}\n";
V.ShaderChunk.meshbasic_frag="uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include \x3ccommon\x3e\n#include \x3ccolor_pars_fragment\x3e\n#include \x3cuv_pars_fragment\x3e\n#include \x3cuv2_pars_fragment\x3e\n#include \x3cmap_pars_fragment\x3e\n#include \x3calphamap_pars_fragment\x3e\n#include \x3caomap_pars_fragment\x3e\n#include \x3cenvmap_pars_fragment\x3e\n#include \x3cfog_pars_fragment\x3e\n#include \x3cspecularmap_pars_fragment\x3e\n#include \x3clogdepthbuf_pars_fragment\x3e\n#include \x3cclipping_planes_pars_fragment\x3e\nvoid main() {\n\t#include \x3cclipping_planes_fragment\x3e\n\tvec4 diffuseColor \x3d vec4( diffuse, opacity );\n\t#include \x3clogdepthbuf_fragment\x3e\n\t#include \x3cmap_fragment\x3e\n\t#include \x3ccolor_fragment\x3e\n\t#include \x3calphamap_fragment\x3e\n\t#include \x3calphatest_fragment\x3e\n\t#include \x3cspecularmap_fragment\x3e\n\tReflectedLight reflectedLight;\n\treflectedLight.directDiffuse \x3d vec3( 0.0 );\n\treflectedLight.directSpecular \x3d vec3( 0.0 );\n\treflectedLight.indirectDiffuse \x3d diffuseColor.rgb;\n\treflectedLight.indirectSpecular \x3d vec3( 0.0 );\n\t#include \x3caomap_fragment\x3e\n\tvec3 outgoingLight \x3d reflectedLight.indirectDiffuse;\n\t#include \x3cenvmap_fragment\x3e\n\tgl_FragColor \x3d vec4( outgoingLight, diffuseColor.a );\n\t#include \x3cpremultiplied_alpha_fragment\x3e\n\t#include \x3ctonemapping_fragment\x3e\n\t#include \x3cencodings_fragment\x3e\n\t#include \x3cfog_fragment\x3e\n}\n";
V.ShaderChunk.meshbasic_vert="#include \x3ccommon\x3e\n#include \x3cuv_pars_vertex\x3e\n#include \x3cuv2_pars_vertex\x3e\n#include \x3cenvmap_pars_vertex\x3e\n#include \x3ccolor_pars_vertex\x3e\n#include \x3cmorphtarget_pars_vertex\x3e\n#include \x3cskinning_pars_vertex\x3e\n#include \x3clogdepthbuf_pars_vertex\x3e\n#include \x3cclipping_planes_pars_vertex\x3e\nvoid main() {\n\t#include \x3cuv_vertex\x3e\n\t#include \x3cuv2_vertex\x3e\n\t#include \x3ccolor_vertex\x3e\n\t#include \x3cskinbase_vertex\x3e\n\t#ifdef USE_ENVMAP\n\t#include \x3cbeginnormal_vertex\x3e\n\t#include \x3cmorphnormal_vertex\x3e\n\t#include \x3cskinnormal_vertex\x3e\n\t#include \x3cdefaultnormal_vertex\x3e\n\t#endif\n\t#include \x3cbegin_vertex\x3e\n\t#include \x3cmorphtarget_vertex\x3e\n\t#include \x3cskinning_vertex\x3e\n\t#include \x3cproject_vertex\x3e\n\t#include \x3clogdepthbuf_vertex\x3e\n\t#include \x3cworldpos_vertex\x3e\n\t#include \x3cclipping_planes_vertex\x3e\n\t#include \x3cenvmap_vertex\x3e\n}\n";
V.ShaderChunk.meshlambert_frag="uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n#endif\n#include \x3ccommon\x3e\n#include \x3cpacking\x3e\n#include \x3ccolor_pars_fragment\x3e\n#include \x3cuv_pars_fragment\x3e\n#include \x3cuv2_pars_fragment\x3e\n#include \x3cmap_pars_fragment\x3e\n#include \x3calphamap_pars_fragment\x3e\n#include \x3caomap_pars_fragment\x3e\n#include \x3clightmap_pars_fragment\x3e\n#include \x3cemissivemap_pars_fragment\x3e\n#include \x3cenvmap_pars_fragment\x3e\n#include \x3cbsdfs\x3e\n#include \x3clights_pars\x3e\n#include \x3cfog_pars_fragment\x3e\n#include \x3cshadowmap_pars_fragment\x3e\n#include \x3cshadowmask_pars_fragment\x3e\n#include \x3cspecularmap_pars_fragment\x3e\n#include \x3clogdepthbuf_pars_fragment\x3e\n#include \x3cclipping_planes_pars_fragment\x3e\nvoid main() {\n\t#include \x3cclipping_planes_fragment\x3e\n\tvec4 diffuseColor \x3d vec4( diffuse, opacity );\n\tReflectedLight reflectedLight \x3d ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance \x3d emissive;\n\t#include \x3clogdepthbuf_fragment\x3e\n\t#include \x3cmap_fragment\x3e\n\t#include \x3ccolor_fragment\x3e\n\t#include \x3calphamap_fragment\x3e\n\t#include \x3calphatest_fragment\x3e\n\t#include \x3cspecularmap_fragment\x3e\n\t#include \x3cemissivemap_fragment\x3e\n\treflectedLight.indirectDiffuse \x3d getAmbientLightIrradiance( ambientLightColor );\n\t#include \x3clightmap_fragment\x3e\n\treflectedLight.indirectDiffuse *\x3d BRDF_Diffuse_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse \x3d ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse \x3d vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *\x3d BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include \x3caomap_fragment\x3e\n\tvec3 outgoingLight \x3d reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include \x3cenvmap_fragment\x3e\n\tgl_FragColor \x3d vec4( outgoingLight, diffuseColor.a );\n\t#include \x3cpremultiplied_alpha_fragment\x3e\n\t#include \x3ctonemapping_fragment\x3e\n\t#include \x3cencodings_fragment\x3e\n\t#include \x3cfog_fragment\x3e\n}\n";
V.ShaderChunk.meshlambert_vert="#define LAMBERT\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n#endif\n#include \x3ccommon\x3e\n#include \x3cuv_pars_vertex\x3e\n#include \x3cuv2_pars_vertex\x3e\n#include \x3cenvmap_pars_vertex\x3e\n#include \x3cbsdfs\x3e\n#include \x3clights_pars\x3e\n#include \x3ccolor_pars_vertex\x3e\n#include \x3cmorphtarget_pars_vertex\x3e\n#include \x3cskinning_pars_vertex\x3e\n#include \x3cshadowmap_pars_vertex\x3e\n#include \x3clogdepthbuf_pars_vertex\x3e\n#include \x3cclipping_planes_pars_vertex\x3e\nvoid main() {\n\t#include \x3cuv_vertex\x3e\n\t#include \x3cuv2_vertex\x3e\n\t#include \x3ccolor_vertex\x3e\n\t#include \x3cbeginnormal_vertex\x3e\n\t#include \x3cmorphnormal_vertex\x3e\n\t#include \x3cskinbase_vertex\x3e\n\t#include \x3cskinnormal_vertex\x3e\n\t#include \x3cdefaultnormal_vertex\x3e\n\t#include \x3cbegin_vertex\x3e\n\t#include \x3cmorphtarget_vertex\x3e\n\t#include \x3cskinning_vertex\x3e\n\t#include \x3cproject_vertex\x3e\n\t#include \x3clogdepthbuf_vertex\x3e\n\t#include \x3cclipping_planes_vertex\x3e\n\t#include \x3cworldpos_vertex\x3e\n\t#include \x3cenvmap_vertex\x3e\n\t#include \x3clights_lambert_vertex\x3e\n\t#include \x3cshadowmap_vertex\x3e\n}\n";
V.ShaderChunk.meshphong_frag="#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include \x3ccommon\x3e\n#include \x3cpacking\x3e\n#include \x3ccolor_pars_fragment\x3e\n#include \x3cuv_pars_fragment\x3e\n#include \x3cuv2_pars_fragment\x3e\n#include \x3cmap_pars_fragment\x3e\n#include \x3calphamap_pars_fragment\x3e\n#include \x3caomap_pars_fragment\x3e\n#include \x3clightmap_pars_fragment\x3e\n#include \x3cemissivemap_pars_fragment\x3e\n#include \x3cenvmap_pars_fragment\x3e\n#include \x3cfog_pars_fragment\x3e\n#include \x3cbsdfs\x3e\n#include \x3clights_pars\x3e\n#include \x3clights_phong_pars_fragment\x3e\n#include \x3cshadowmap_pars_fragment\x3e\n#include \x3cbumpmap_pars_fragment\x3e\n#include \x3cnormalmap_pars_fragment\x3e\n#include \x3cspecularmap_pars_fragment\x3e\n#include \x3clogdepthbuf_pars_fragment\x3e\n#include \x3cclipping_planes_pars_fragment\x3e\nvoid main() {\n\t#include \x3cclipping_planes_fragment\x3e\n\tvec4 diffuseColor \x3d vec4( diffuse, opacity );\n\tReflectedLight reflectedLight \x3d ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance \x3d emissive;\n\t#include \x3clogdepthbuf_fragment\x3e\n\t#include \x3cmap_fragment\x3e\n\t#include \x3ccolor_fragment\x3e\n\t#include \x3calphamap_fragment\x3e\n\t#include \x3calphatest_fragment\x3e\n\t#include \x3cspecularmap_fragment\x3e\n\t#include \x3cnormal_fragment\x3e\n\t#include \x3cemissivemap_fragment\x3e\n\t#include \x3clights_phong_fragment\x3e\n\t#include \x3clights_template\x3e\n\t#include \x3caomap_fragment\x3e\n\tvec3 outgoingLight \x3d reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include \x3cenvmap_fragment\x3e\n\tgl_FragColor \x3d vec4( outgoingLight, diffuseColor.a );\n\t#include \x3cpremultiplied_alpha_fragment\x3e\n\t#include \x3ctonemapping_fragment\x3e\n\t#include \x3cencodings_fragment\x3e\n\t#include \x3cfog_fragment\x3e\n}\n";
V.ShaderChunk.meshphong_vert="#define PHONG\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include \x3ccommon\x3e\n#include \x3cuv_pars_vertex\x3e\n#include \x3cuv2_pars_vertex\x3e\n#include \x3cdisplacementmap_pars_vertex\x3e\n#include \x3cenvmap_pars_vertex\x3e\n#include \x3ccolor_pars_vertex\x3e\n#include \x3cmorphtarget_pars_vertex\x3e\n#include \x3cskinning_pars_vertex\x3e\n#include \x3cshadowmap_pars_vertex\x3e\n#include \x3clogdepthbuf_pars_vertex\x3e\n#include \x3cclipping_planes_pars_vertex\x3e\nvoid main() {\n\t#include \x3cuv_vertex\x3e\n\t#include \x3cuv2_vertex\x3e\n\t#include \x3ccolor_vertex\x3e\n\t#include \x3cbeginnormal_vertex\x3e\n\t#include \x3cmorphnormal_vertex\x3e\n\t#include \x3cskinbase_vertex\x3e\n\t#include \x3cskinnormal_vertex\x3e\n\t#include \x3cdefaultnormal_vertex\x3e\n#ifndef FLAT_SHADED\n\tvNormal \x3d normalize( transformedNormal );\n#endif\n\t#include \x3cbegin_vertex\x3e\n\t#include \x3cdisplacementmap_vertex\x3e\n\t#include \x3cmorphtarget_vertex\x3e\n\t#include \x3cskinning_vertex\x3e\n\t#include \x3cproject_vertex\x3e\n\t#include \x3clogdepthbuf_vertex\x3e\n\t#include \x3cclipping_planes_vertex\x3e\n\tvViewPosition \x3d - mvPosition.xyz;\n\t#include \x3cworldpos_vertex\x3e\n\t#include \x3cenvmap_vertex\x3e\n\t#include \x3cshadowmap_vertex\x3e\n}\n";
V.ShaderChunk.meshphysical_frag="#define PHYSICAL\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\nuniform float envMapIntensity;\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include \x3ccommon\x3e\n#include \x3cpacking\x3e\n#include \x3ccolor_pars_fragment\x3e\n#include \x3cuv_pars_fragment\x3e\n#include \x3cuv2_pars_fragment\x3e\n#include \x3cmap_pars_fragment\x3e\n#include \x3calphamap_pars_fragment\x3e\n#include \x3caomap_pars_fragment\x3e\n#include \x3clightmap_pars_fragment\x3e\n#include \x3cemissivemap_pars_fragment\x3e\n#include \x3cenvmap_pars_fragment\x3e\n#include \x3cfog_pars_fragment\x3e\n#include \x3cbsdfs\x3e\n#include \x3ccube_uv_reflection_fragment\x3e\n#include \x3clights_pars\x3e\n#include \x3clights_physical_pars_fragment\x3e\n#include \x3cshadowmap_pars_fragment\x3e\n#include \x3cbumpmap_pars_fragment\x3e\n#include \x3cnormalmap_pars_fragment\x3e\n#include \x3croughnessmap_pars_fragment\x3e\n#include \x3cmetalnessmap_pars_fragment\x3e\n#include \x3clogdepthbuf_pars_fragment\x3e\n#include \x3cclipping_planes_pars_fragment\x3e\nvoid main() {\n\t#include \x3cclipping_planes_fragment\x3e\n\tvec4 diffuseColor \x3d vec4( diffuse, opacity );\n\tReflectedLight reflectedLight \x3d ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance \x3d emissive;\n\t#include \x3clogdepthbuf_fragment\x3e\n\t#include \x3cmap_fragment\x3e\n\t#include \x3ccolor_fragment\x3e\n\t#include \x3calphamap_fragment\x3e\n\t#include \x3calphatest_fragment\x3e\n\t#include \x3cspecularmap_fragment\x3e\n\t#include \x3croughnessmap_fragment\x3e\n\t#include \x3cmetalnessmap_fragment\x3e\n\t#include \x3cnormal_fragment\x3e\n\t#include \x3cemissivemap_fragment\x3e\n\t#include \x3clights_physical_fragment\x3e\n\t#include \x3clights_template\x3e\n\t#include \x3caomap_fragment\x3e\n\tvec3 outgoingLight \x3d reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\tgl_FragColor \x3d vec4( outgoingLight, diffuseColor.a );\n\t#include \x3cpremultiplied_alpha_fragment\x3e\n\t#include \x3ctonemapping_fragment\x3e\n\t#include \x3cencodings_fragment\x3e\n\t#include \x3cfog_fragment\x3e\n}\n";
V.ShaderChunk.meshphysical_vert="#define PHYSICAL\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include \x3ccommon\x3e\n#include \x3cuv_pars_vertex\x3e\n#include \x3cuv2_pars_vertex\x3e\n#include \x3cdisplacementmap_pars_vertex\x3e\n#include \x3ccolor_pars_vertex\x3e\n#include \x3cmorphtarget_pars_vertex\x3e\n#include \x3cskinning_pars_vertex\x3e\n#include \x3cshadowmap_pars_vertex\x3e\n#include \x3cspecularmap_pars_fragment\x3e\n#include \x3clogdepthbuf_pars_vertex\x3e\n#include \x3cclipping_planes_pars_vertex\x3e\nvoid main() {\n\t#include \x3cuv_vertex\x3e\n\t#include \x3cuv2_vertex\x3e\n\t#include \x3ccolor_vertex\x3e\n\t#include \x3cbeginnormal_vertex\x3e\n\t#include \x3cmorphnormal_vertex\x3e\n\t#include \x3cskinbase_vertex\x3e\n\t#include \x3cskinnormal_vertex\x3e\n\t#include \x3cdefaultnormal_vertex\x3e\n#ifndef FLAT_SHADED\n\tvNormal \x3d normalize( transformedNormal );\n#endif\n\t#include \x3cbegin_vertex\x3e\n\t#include \x3cdisplacementmap_vertex\x3e\n\t#include \x3cmorphtarget_vertex\x3e\n\t#include \x3cskinning_vertex\x3e\n\t#include \x3cproject_vertex\x3e\n\t#include \x3clogdepthbuf_vertex\x3e\n\t#include \x3cclipping_planes_vertex\x3e\n\tvViewPosition \x3d - mvPosition.xyz;\n\t#include \x3cworldpos_vertex\x3e\n\t#include \x3cshadowmap_vertex\x3e\n}\n";
V.ShaderChunk.normal_frag="uniform float opacity;\nvarying vec3 vNormal;\n#include \x3ccommon\x3e\n#include \x3cpacking\x3e\n#include \x3clogdepthbuf_pars_fragment\x3e\n#include \x3cclipping_planes_pars_fragment\x3e\nvoid main() {\n\t#include \x3cclipping_planes_fragment\x3e\n\tgl_FragColor \x3d vec4( packNormalToRGB( vNormal ), opacity );\n\t#include \x3clogdepthbuf_fragment\x3e\n}\n";V.ShaderChunk.normal_vert="varying vec3 vNormal;\n#include \x3ccommon\x3e\n#include \x3cmorphtarget_pars_vertex\x3e\n#include \x3clogdepthbuf_pars_vertex\x3e\n#include \x3cclipping_planes_pars_vertex\x3e\nvoid main() {\n\tvNormal \x3d normalize( normalMatrix * normal );\n\t#include \x3cbegin_vertex\x3e\n\t#include \x3cmorphtarget_vertex\x3e\n\t#include \x3cproject_vertex\x3e\n\t#include \x3clogdepthbuf_vertex\x3e\n\t#include \x3cclipping_planes_vertex\x3e\n}\n";
V.ShaderChunk.points_frag="uniform vec3 diffuse;\nuniform float opacity;\n#include \x3ccommon\x3e\n#include \x3ccolor_pars_fragment\x3e\n#include \x3cmap_particle_pars_fragment\x3e\n#include \x3cfog_pars_fragment\x3e\n#include \x3cshadowmap_pars_fragment\x3e\n#include \x3clogdepthbuf_pars_fragment\x3e\n#include \x3cclipping_planes_pars_fragment\x3e\nvoid main() {\n\t#include \x3cclipping_planes_fragment\x3e\n\tvec3 outgoingLight \x3d vec3( 0.0 );\n\tvec4 diffuseColor \x3d vec4( diffuse, opacity );\n\t#include \x3clogdepthbuf_fragment\x3e\n\t#include \x3cmap_particle_fragment\x3e\n\t#include \x3ccolor_fragment\x3e\n\t#include \x3calphatest_fragment\x3e\n\toutgoingLight \x3d diffuseColor.rgb;\n\tgl_FragColor \x3d vec4( outgoingLight, diffuseColor.a );\n\t#include \x3cpremultiplied_alpha_fragment\x3e\n\t#include \x3ctonemapping_fragment\x3e\n\t#include \x3cencodings_fragment\x3e\n\t#include \x3cfog_fragment\x3e\n}\n";
V.ShaderChunk.points_vert="uniform float size;\nuniform float scale;\n#include \x3ccommon\x3e\n#include \x3ccolor_pars_vertex\x3e\n#include \x3cshadowmap_pars_vertex\x3e\n#include \x3clogdepthbuf_pars_vertex\x3e\n#include \x3cclipping_planes_pars_vertex\x3e\nvoid main() {\n\t#include \x3ccolor_vertex\x3e\n\t#include \x3cbegin_vertex\x3e\n\t#include \x3cproject_vertex\x3e\n\t#ifdef USE_SIZEATTENUATION\n\t\tgl_PointSize \x3d size * ( scale / - mvPosition.z );\n\t#else\n\t\tgl_PointSize \x3d size;\n\t#endif\n\t#include \x3clogdepthbuf_vertex\x3e\n\t#include \x3cclipping_planes_vertex\x3e\n\t#include \x3cworldpos_vertex\x3e\n\t#include \x3cshadowmap_vertex\x3e\n}\n";
V.ShaderChunk.shadow_frag="uniform float opacity;\n#include \x3ccommon\x3e\n#include \x3cpacking\x3e\n#include \x3cbsdfs\x3e\n#include \x3clights_pars\x3e\n#include \x3cshadowmap_pars_fragment\x3e\n#include \x3cshadowmask_pars_fragment\x3e\nvoid main() {\n\tgl_FragColor \x3d vec4( 0.0, 0.0, 0.0, opacity * ( 1.0  - getShadowMask() ) );\n}\n";V.ShaderChunk.shadow_vert="#include \x3cshadowmap_pars_vertex\x3e\nvoid main() {\n\t#include \x3cbegin_vertex\x3e\n\t#include \x3cproject_vertex\x3e\n\t#include \x3cworldpos_vertex\x3e\n\t#include \x3cshadowmap_vertex\x3e\n}\n";
V.ShaderLib={basic:{uniforms:V.UniformsUtils.merge([V.UniformsLib.common,V.UniformsLib.aomap,V.UniformsLib.fog]),vertexShader:V.ShaderChunk.meshbasic_vert,fragmentShader:V.ShaderChunk.meshbasic_frag},lambert:{uniforms:V.UniformsUtils.merge([V.UniformsLib.common,V.UniformsLib.aomap,V.UniformsLib.lightmap,V.UniformsLib.emissivemap,V.UniformsLib.fog,V.UniformsLib.lights,{emissive:{type:"c",value:new V.Color(0)}}]),vertexShader:V.ShaderChunk.meshlambert_vert,fragmentShader:V.ShaderChunk.meshlambert_frag},
phong:{uniforms:V.UniformsUtils.merge([V.UniformsLib.common,V.UniformsLib.aomap,V.UniformsLib.lightmap,V.UniformsLib.emissivemap,V.UniformsLib.bumpmap,V.UniformsLib.normalmap,V.UniformsLib.displacementmap,V.UniformsLib.fog,V.UniformsLib.lights,{emissive:{type:"c",value:new V.Color(0)},specular:{type:"c",value:new V.Color(1118481)},shininess:{type:"1f",value:30}}]),vertexShader:V.ShaderChunk.meshphong_vert,fragmentShader:V.ShaderChunk.meshphong_frag},standard:{uniforms:V.UniformsUtils.merge([V.UniformsLib.common,
V.UniformsLib.aomap,V.UniformsLib.lightmap,V.UniformsLib.emissivemap,V.UniformsLib.bumpmap,V.UniformsLib.normalmap,V.UniformsLib.displacementmap,V.UniformsLib.roughnessmap,V.UniformsLib.metalnessmap,V.UniformsLib.fog,V.UniformsLib.lights,{emissive:{type:"c",value:new V.Color(0)},roughness:{type:"1f",value:.5},metalness:{type:"1f",value:0},envMapIntensity:{type:"1f",value:1}}]),vertexShader:V.ShaderChunk.meshphysical_vert,fragmentShader:V.ShaderChunk.meshphysical_frag},points:{uniforms:V.UniformsUtils.merge([V.UniformsLib.points,
V.UniformsLib.fog]),vertexShader:V.ShaderChunk.points_vert,fragmentShader:V.ShaderChunk.points_frag},dashed:{uniforms:V.UniformsUtils.merge([V.UniformsLib.common,V.UniformsLib.fog,{scale:{type:"1f",value:1},dashSize:{type:"1f",value:1},totalSize:{type:"1f",value:2}}]),vertexShader:V.ShaderChunk.linedashed_vert,fragmentShader:V.ShaderChunk.linedashed_frag},depth:{uniforms:V.UniformsUtils.merge([V.UniformsLib.common,V.UniformsLib.displacementmap]),vertexShader:V.ShaderChunk.depth_vert,fragmentShader:V.ShaderChunk.depth_frag},
normal:{uniforms:{opacity:{type:"1f",value:1}},vertexShader:V.ShaderChunk.normal_vert,fragmentShader:V.ShaderChunk.normal_frag},cube:{uniforms:{tCube:{type:"t",value:null},tFlip:{type:"1f",value:-1}},vertexShader:V.ShaderChunk.cube_vert,fragmentShader:V.ShaderChunk.cube_frag},equirect:{uniforms:{tEquirect:{type:"t",value:null},tFlip:{type:"1f",value:-1}},vertexShader:V.ShaderChunk.equirect_vert,fragmentShader:V.ShaderChunk.equirect_frag},distanceRGBA:{uniforms:{lightPos:{type:"v3",value:new V.Vector3}},
vertexShader:V.ShaderChunk.distanceRGBA_vert,fragmentShader:V.ShaderChunk.distanceRGBA_frag}};V.ShaderLib.physical={uniforms:V.UniformsUtils.merge([V.ShaderLib.standard.uniforms,{}]),vertexShader:V.ShaderChunk.meshphysical_vert,fragmentShader:V.ShaderChunk.meshphysical_frag};
V.WebGLRenderer=function(a){function b(a,b,c,d){!0===Q&&(a*=d,b*=d,c*=d);N.clearColor(a,b,c,d)}function c(){N.init();N.scissor(Eb.copy(wc).multiplyScalar(wa));N.viewport(kb.copy(ob).multiplyScalar(wa));b(ua.r,ua.g,ua.b,Va)}function d(){Ma=Ka=null;jb="";oa=-1;N.reset()}function e(a){a.preventDefault();d();c();X.clear()}function f(a){a=a.target;a.removeEventListener("dispose",f);a:{var b=X.get(a);if(a.image&&b.__image__webglTextureCube)x.deleteTexture(b.__image__webglTextureCube);else{if(void 0===b.__webglInit)break a;
x.deleteTexture(b.__webglTexture)}X.delete(a)}Za.textures--}function g(a){a=a.target;a.removeEventListener("dispose",g);var b=X.get(a),c=X.get(a.texture);if(a){void 0!==c.__webglTexture&&x.deleteTexture(c.__webglTexture);a.depthTexture&&a.depthTexture.dispose();if(a instanceof V.WebGLRenderTargetCube)for(c=0;6>c;c++)x.deleteFramebuffer(b.__webglFramebuffer[c]),b.__webglDepthbuffer&&x.deleteRenderbuffer(b.__webglDepthbuffer[c]);else x.deleteFramebuffer(b.__webglFramebuffer),b.__webglDepthbuffer&&x.deleteRenderbuffer(b.__webglDepthbuffer);
X.delete(a.texture);X.delete(a)}Za.textures--}function k(a){a=a.target;a.removeEventListener("dispose",k);l(a);X.delete(a)}function l(a){var b=X.get(a).program;a.program=void 0;void 0!==b&&pb.releaseProgram(b)}function m(a,b){return Math.abs(b[0])-Math.abs(a[0])}function n(a,b){return a.object.renderOrder!==b.object.renderOrder?a.object.renderOrder-b.object.renderOrder:a.material.id!==b.material.id?a.material.id-b.material.id:a.z!==b.z?a.z-b.z:a.id-b.id}function q(a,b){return a.object.renderOrder!==
b.object.renderOrder?a.object.renderOrder-b.object.renderOrder:a.z!==b.z?b.z-a.z:a.id-b.id}function p(a,b,c,d){if(c.transparent){var e=Z;var f=++da}else e=S,f=++P;f=e[f];void 0!==f?(f.id=a.id,f.object=a,f.geometry=b,f.material=c,f.z=na.z,f.group=d):(f={id:a.id,object:a,geometry:b,material:c,z:na.z,group:d},e.push(f))}function t(a){if(!zd.intersectsSphere(a))return!1;var b=Ba.numPlanes;if(0===b)return!0;var c=fa.clippingPlanes,d=a.center;a=-a.radius;var e=0;do if(c[e].distanceToPoint(d)<a)return!1;
while(++e!==b);return!0}function r(a,b){if(!1!==a.visible){if(a.layers.test(b.layers))if(a instanceof V.Light)J.push(a);else if(a instanceof V.Sprite){var c;if(c=!1!==a.frustumCulled)$a.center.set(0,0,0),$a.radius=.7071067811865476,$a.applyMatrix4(a.matrixWorld),c=!0!==t($a);c||ea.push(a)}else if(a instanceof V.LensFlare)ma.push(a);else if(a instanceof V.ImmediateRenderObject)!0===fa.sortObjects&&(Uc(na,a.matrixWorld),Sc(na,Ib)),p(a,null,a.material,null);else if(a instanceof V.Mesh||a instanceof V.Line||
a instanceof V.Points)if(a instanceof V.SkinnedMesh&&a.skeleton.update(),(c=!1===a.frustumCulled)||(c=a.geometry,null===c.boundingSphere&&c.computeBoundingSphere(),$a.copy(c.boundingSphere).applyMatrix4(a.matrixWorld),c=!0===t($a)),c){var d=a.material;if(!0===d.visible)if(!0===fa.sortObjects&&(Uc(na,a.matrixWorld),Sc(na,Ib)),c=qb.update(a),d instanceof V.MultiMaterial){var e=c.groups,f=d.materials;d=0;for(var g=e.length;d<g;d++){var k=e[d],l=f[k.materialIndex];!0===l.visible&&p(a,c,l,k)}}else p(a,
c,d,null)}a=a.children;d=0;for(g=a.length;d<g;d++)r(a[d],b)}}function u(a,b,c,d){for(var e=0,f=a.length;e<f;e++){var g=a[e],k=g.object,l=g.geometry,m=void 0===d?g.material:d;g=g.group;Rc(k.modelViewMatrix,b.matrixWorldInverse,k.matrixWorld);$c(k.normalMatrix,k.modelViewMatrix);if(k instanceof V.ImmediateRenderObject){v(m);var n=z(b,c,m,k);jb="";k.render(function(a){fa.renderBufferImmediate(a,n,m)})}else fa.renderBufferDirect(b,c,l,m,k,g)}}function v(a){a.side!==V.DoubleSide?N.enable(x.CULL_FACE):
N.disable(x.CULL_FACE);N.setFlipSided(a.side===V.BackSide);!0===a.transparent?N.setBlending(a.blending,a.blendEquation,a.blendSrc,a.blendDst,a.blendEquationAlpha,a.blendSrcAlpha,a.blendDstAlpha,a.premultipliedAlpha):N.setBlending(V.NoBlending);N.setDepthFunc(a.depthFunc);N.setDepthTest(a.depthTest);N.setDepthWrite(a.depthWrite);N.setColorWrite(a.colorWrite);N.setPolygonOffset(a.polygonOffset,a.polygonOffsetFactor,a.polygonOffsetUnits)}function z(a,b,c,d){nc=0;var e=X.get(c);Jb&&((xc||a!==Ma)&&Ba.setState(c.clippingPlanes,
c.clipShadows,a,e,a===Ma&&c.id===oa),void 0!==e.numClippingPlanes&&e.numClippingPlanes!==Ba.numPlanes&&(c.needsUpdate=!0));void 0===e.program&&(c.needsUpdate=!0);void 0!==e.lightsHash&&e.lightsHash!==T.hash&&(c.needsUpdate=!0);if(c.needsUpdate){a:{var f=X.get(c),g=pb.getParameters(c,T,b,Ba.numPlanes,d),m=pb.getProgramCode(c,g),n=f.program,p=!0;if(void 0===n)c.addEventListener("dispose",k);else if(n.code!==m)l(c);else{if(void 0!==g.shaderID)break a;p=!1}p&&(g.shaderID?(n=V.ShaderLib[g.shaderID],f.__webglShader=
{name:c.type,uniforms:V.UniformsUtils.clone(n.uniforms),vertexShader:n.vertexShader,fragmentShader:n.fragmentShader}):f.__webglShader={name:c.type,uniforms:c.uniforms,vertexShader:c.vertexShader,fragmentShader:c.fragmentShader},c.__webglShader=f.__webglShader,n=pb.acquireProgram(c,g,m),f.program=n,c.program=n);g=n.getAttributes();if(c.morphTargets)for(m=c.numSupportedMorphTargets=0;m<fa.maxMorphTargets;m++)0<=g["morphTarget"+m]&&c.numSupportedMorphTargets++;if(c.morphNormals)for(m=c.numSupportedMorphNormals=
0;m<fa.maxMorphNormals;m++)0<=g["morphNormal"+m]&&c.numSupportedMorphNormals++;g=f.__webglShader.uniforms;(c instanceof V.ShaderMaterial||c instanceof V.RawShaderMaterial)&&!0!==c.clipping||(f.numClippingPlanes=Ba.numPlanes,g.clippingPlanes=Ba.uniform);c.lights&&(f.lightsHash=T.hash,g.ambientLightColor.value=T.ambient,g.directionalLights.value=T.directional,g.spotLights.value=T.spot,g.pointLights.value=T.point,g.hemisphereLights.value=T.hemi,g.directionalShadowMap.value=T.directionalShadowMap,g.directionalShadowMatrix.value=
T.directionalShadowMatrix,g.spotShadowMap.value=T.spotShadowMap,g.spotShadowMatrix.value=T.spotShadowMatrix,g.pointShadowMap.value=T.pointShadowMap,g.pointShadowMatrix.value=T.pointShadowMatrix);m=f.program.getUniforms();m=V.WebGLUniforms.seqWithValue(m.seq,g);f.uniformsList=m;f.dynamicUniforms=V.WebGLUniforms.splitDynamic(m,g)}c.needsUpdate=!1}var q=!1;p=n=!1;f=e.program;m=f.getUniforms();g=e.__webglShader.uniforms;f.id!==Ka&&(x.useProgram(f.program),Ka=f.id,p=n=q=!0);c.id!==oa&&(oa=c.id,n=!0);if(q||
a!==Ma){m.set(x,a,"projectionMatrix");Ca.logarithmicDepthBuffer&&m.setValue(x,"logDepthBufFC",2/(Math.log(a.far+1)/Math.LN2));a!==Ma&&(Ma=a,p=n=!0);if(c instanceof V.ShaderMaterial||c instanceof V.MeshPhongMaterial||c instanceof V.MeshStandardMaterial||c.envMap)q=m.map.cameraPosition,void 0!==q&&q.setValue(x,Uc(na,a.matrixWorld));(c instanceof V.MeshPhongMaterial||c instanceof V.MeshLambertMaterial||c instanceof V.MeshBasicMaterial||c instanceof V.MeshStandardMaterial||c instanceof V.ShaderMaterial||
c.skinning)&&m.setValue(x,"viewMatrix",a.matrixWorldInverse);m.set(x,fa,"toneMappingExposure");m.set(x,fa,"toneMappingWhitePoint")}c.skinning&&(m.setOptional(x,d,"bindMatrix"),m.setOptional(x,d,"bindMatrixInverse"),q=d.skeleton)&&(Ca.floatVertexTextures&&q.useVertexTexture?(m.set(x,q,"boneTexture"),m.set(x,q,"boneTextureWidth"),m.set(x,q,"boneTextureHeight")):m.setOptional(x,q,"boneMatrices"));if(n){c.lights&&(n=p,g.ambientLightColor.needsUpdate=n,g.directionalLights.needsUpdate=n,g.pointLights.needsUpdate=
n,g.spotLights.needsUpdate=n,g.hemisphereLights.needsUpdate=n);b&&c.fog&&(g.fogColor.value=b.color,b instanceof V.Fog?(g.fogNear.value=b.near,g.fogFar.value=b.far):b instanceof V.FogExp2&&(g.fogDensity.value=b.density));if(c instanceof V.MeshBasicMaterial||c instanceof V.MeshLambertMaterial||c instanceof V.MeshPhongMaterial||c instanceof V.MeshStandardMaterial||c instanceof V.MeshDepthMaterial){g.opacity.value=c.opacity;g.diffuse.value=c.color;c.emissive&&g.emissive.value.copy(c.emissive).multiplyScalar(c.emissiveIntensity);
g.map.value=c.map;g.specularMap.value=c.specularMap;g.alphaMap.value=c.alphaMap;c.aoMap&&(g.aoMap.value=c.aoMap,g.aoMapIntensity.value=c.aoMapIntensity);if(c.map)var r=c.map;else c.specularMap?r=c.specularMap:c.displacementMap?r=c.displacementMap:c.normalMap?r=c.normalMap:c.bumpMap?r=c.bumpMap:c.roughnessMap?r=c.roughnessMap:c.metalnessMap?r=c.metalnessMap:c.alphaMap?r=c.alphaMap:c.emissiveMap&&(r=c.emissiveMap);void 0!==r&&(r instanceof V.WebGLRenderTarget&&(r=r.texture),b=r.offset,r=r.repeat,g.offsetRepeat.value.set(b.x,
b.y,r.x,r.y));g.envMap.value=c.envMap;g.flipEnvMap.value=c.envMap instanceof V.CubeTexture?-1:1;g.reflectivity.value=c.reflectivity;g.refractionRatio.value=c.refractionRatio}c instanceof V.LineBasicMaterial?(g.diffuse.value=c.color,g.opacity.value=c.opacity):c instanceof V.LineDashedMaterial?(g.diffuse.value=c.color,g.opacity.value=c.opacity,g.dashSize.value=c.dashSize,g.totalSize.value=c.dashSize+c.gapSize,g.scale.value=c.scale):c instanceof V.PointsMaterial?(g.diffuse.value=c.color,g.opacity.value=
c.opacity,g.size.value=c.size*wa,g.scale.value=.5*B.clientHeight,g.map.value=c.map,null!==c.map&&(r=c.map.offset,c=c.map.repeat,g.offsetRepeat.value.set(r.x,r.y,c.x,c.y))):c instanceof V.MeshLambertMaterial?(c.lightMap&&(g.lightMap.value=c.lightMap,g.lightMapIntensity.value=c.lightMapIntensity),c.emissiveMap&&(g.emissiveMap.value=c.emissiveMap)):c instanceof V.MeshPhongMaterial?(g.specular.value=c.specular,g.shininess.value=Math.max(c.shininess,1E-4),c.lightMap&&(g.lightMap.value=c.lightMap,g.lightMapIntensity.value=
c.lightMapIntensity),c.emissiveMap&&(g.emissiveMap.value=c.emissiveMap),c.bumpMap&&(g.bumpMap.value=c.bumpMap,g.bumpScale.value=c.bumpScale),c.normalMap&&(g.normalMap.value=c.normalMap,g.normalScale.value.copy(c.normalScale)),c.displacementMap&&(g.displacementMap.value=c.displacementMap,g.displacementScale.value=c.displacementScale,g.displacementBias.value=c.displacementBias)):c instanceof V.MeshPhysicalMaterial?w(g,c):c instanceof V.MeshStandardMaterial?w(g,c):c instanceof V.MeshDepthMaterial?c.displacementMap&&
(g.displacementMap.value=c.displacementMap,g.displacementScale.value=c.displacementScale,g.displacementBias.value=c.displacementBias):c instanceof V.MeshNormalMaterial&&(g.opacity.value=c.opacity);V.WebGLUniforms.upload(x,e.uniformsList,g,fa)}m.set(x,d,"modelViewMatrix");m.set(x,d,"normalMatrix");m.setValue(x,"modelMatrix",d.matrixWorld);e=e.dynamicUniforms;null!==e&&(V.WebGLUniforms.evalDynamic(e,g,d,a),V.WebGLUniforms.upload(x,e,g,fa));return f}function w(a,b){a.roughness.value=b.roughness;a.metalness.value=
b.metalness;b.roughnessMap&&(a.roughnessMap.value=b.roughnessMap);b.metalnessMap&&(a.metalnessMap.value=b.metalnessMap);b.lightMap&&(a.lightMap.value=b.lightMap,a.lightMapIntensity.value=b.lightMapIntensity);b.emissiveMap&&(a.emissiveMap.value=b.emissiveMap);b.bumpMap&&(a.bumpMap.value=b.bumpMap,a.bumpScale.value=b.bumpScale);b.normalMap&&(a.normalMap.value=b.normalMap,a.normalScale.value.copy(b.normalScale));b.displacementMap&&(a.displacementMap.value=b.displacementMap,a.displacementScale.value=
b.displacementScale,a.displacementBias.value=b.displacementBias);b.envMap&&(a.envMapIntensity.value=b.envMapIntensity)}function A(a,b,c){c?(x.texParameteri(a,x.TEXTURE_WRAP_S,F(b.wrapS)),x.texParameteri(a,x.TEXTURE_WRAP_T,F(b.wrapT)),x.texParameteri(a,x.TEXTURE_MAG_FILTER,F(b.magFilter)),x.texParameteri(a,x.TEXTURE_MIN_FILTER,F(b.minFilter))):(x.texParameteri(a,x.TEXTURE_WRAP_S,x.CLAMP_TO_EDGE),x.texParameteri(a,x.TEXTURE_WRAP_T,x.CLAMP_TO_EDGE),b.wrapS===V.ClampToEdgeWrapping&&b.wrapT===V.ClampToEdgeWrapping||
console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping.",b),x.texParameteri(a,x.TEXTURE_MAG_FILTER,E(b.magFilter)),x.texParameteri(a,x.TEXTURE_MIN_FILTER,E(b.minFilter)),b.minFilter!==V.NearestFilter&&b.minFilter!==V.LinearFilter&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.",b));!(c=ca.get("EXT_texture_filter_anisotropic"))||
b.type===V.FloatType&&null===ca.get("OES_texture_float_linear")||b.type===V.HalfFloatType&&null===ca.get("OES_texture_half_float_linear")||!(1<b.anisotropy||X.get(b).__currentAnisotropy)||(x.texParameterf(a,c.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(b.anisotropy,fa.getMaxAnisotropy())),X.get(b).__currentAnisotropy=b.anisotropy)}function y(a,b){if(a.width>b||a.height>b){b/=Math.max(a.width,a.height);var c=document.createElement("canvas");c.width=Math.floor(a.width*b);c.height=Math.floor(a.height*b);c.getContext("2d").drawImage(a,
0,0,a.width,a.height,0,0,c.width,c.height);console.warn("THREE.WebGLRenderer: image is too big ("+a.width+"x"+a.height+"). Resized to "+c.width+"x"+c.height,a);return c}return a}function C(a){return V.Math.isPowerOfTwo(a.width)&&V.Math.isPowerOfTwo(a.height)}function D(a,b,c,d){var e=F(b.texture.format),f=F(b.texture.type);N.texImage2D(d,0,e,b.width,b.height,0,e,f,null);x.bindFramebuffer(x.FRAMEBUFFER,a);x.framebufferTexture2D(x.FRAMEBUFFER,c,d,X.get(b.texture).__webglTexture,0);x.bindFramebuffer(x.FRAMEBUFFER,
null)}function G(a,b){x.bindRenderbuffer(x.RENDERBUFFER,a);b.depthBuffer&&!b.stencilBuffer?(x.renderbufferStorage(x.RENDERBUFFER,x.DEPTH_COMPONENT16,b.width,b.height),x.framebufferRenderbuffer(x.FRAMEBUFFER,x.DEPTH_ATTACHMENT,x.RENDERBUFFER,a)):b.depthBuffer&&b.stencilBuffer?(x.renderbufferStorage(x.RENDERBUFFER,x.DEPTH_STENCIL,b.width,b.height),x.framebufferRenderbuffer(x.FRAMEBUFFER,x.DEPTH_STENCIL_ATTACHMENT,x.RENDERBUFFER,a)):x.renderbufferStorage(x.RENDERBUFFER,x.RGBA4,b.width,b.height);x.bindRenderbuffer(x.RENDERBUFFER,
null)}function E(a){return a===V.NearestFilter||a===V.NearestMipMapNearestFilter||a===V.NearestMipMapLinearFilter?x.NEAREST:x.LINEAR}function F(a){if(a===V.RepeatWrapping)return x.REPEAT;if(a===V.ClampToEdgeWrapping)return x.CLAMP_TO_EDGE;if(a===V.MirroredRepeatWrapping)return x.MIRRORED_REPEAT;if(a===V.NearestFilter)return x.NEAREST;if(a===V.NearestMipMapNearestFilter)return x.NEAREST_MIPMAP_NEAREST;if(a===V.NearestMipMapLinearFilter)return x.NEAREST_MIPMAP_LINEAR;if(a===V.LinearFilter)return x.LINEAR;
if(a===V.LinearMipMapNearestFilter)return x.LINEAR_MIPMAP_NEAREST;if(a===V.LinearMipMapLinearFilter)return x.LINEAR_MIPMAP_LINEAR;if(a===V.UnsignedByteType)return x.UNSIGNED_BYTE;if(a===V.UnsignedShort4444Type)return x.UNSIGNED_SHORT_4_4_4_4;if(a===V.UnsignedShort5551Type)return x.UNSIGNED_SHORT_5_5_5_1;if(a===V.UnsignedShort565Type)return x.UNSIGNED_SHORT_5_6_5;if(a===V.ByteType)return x.BYTE;if(a===V.ShortType)return x.SHORT;if(a===V.UnsignedShortType)return x.UNSIGNED_SHORT;if(a===V.IntType)return x.INT;
if(a===V.UnsignedIntType)return x.UNSIGNED_INT;if(a===V.FloatType)return x.FLOAT;var b=ca.get("OES_texture_half_float");if(null!==b&&a===V.HalfFloatType)return b.HALF_FLOAT_OES;if(a===V.AlphaFormat)return x.ALPHA;if(a===V.RGBFormat)return x.RGB;if(a===V.RGBAFormat)return x.RGBA;if(a===V.LuminanceFormat)return x.LUMINANCE;if(a===V.LuminanceAlphaFormat)return x.LUMINANCE_ALPHA;if(a===V.DepthFormat)return x.DEPTH_COMPONENT;if(a===V.AddEquation)return x.FUNC_ADD;if(a===V.SubtractEquation)return x.FUNC_SUBTRACT;
if(a===V.ReverseSubtractEquation)return x.FUNC_REVERSE_SUBTRACT;if(a===V.ZeroFactor)return x.ZERO;if(a===V.OneFactor)return x.ONE;if(a===V.SrcColorFactor)return x.SRC_COLOR;if(a===V.OneMinusSrcColorFactor)return x.ONE_MINUS_SRC_COLOR;if(a===V.SrcAlphaFactor)return x.SRC_ALPHA;if(a===V.OneMinusSrcAlphaFactor)return x.ONE_MINUS_SRC_ALPHA;if(a===V.DstAlphaFactor)return x.DST_ALPHA;if(a===V.OneMinusDstAlphaFactor)return x.ONE_MINUS_DST_ALPHA;if(a===V.DstColorFactor)return x.DST_COLOR;if(a===V.OneMinusDstColorFactor)return x.ONE_MINUS_DST_COLOR;
if(a===V.SrcAlphaSaturateFactor)return x.SRC_ALPHA_SATURATE;b=ca.get("WEBGL_compressed_texture_s3tc");if(null!==b){if(a===V.RGB_S3TC_DXT1_Format)return b.COMPRESSED_RGB_S3TC_DXT1_EXT;if(a===V.RGBA_S3TC_DXT1_Format)return b.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(a===V.RGBA_S3TC_DXT3_Format)return b.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(a===V.RGBA_S3TC_DXT5_Format)return b.COMPRESSED_RGBA_S3TC_DXT5_EXT}b=ca.get("WEBGL_compressed_texture_pvrtc");if(null!==b){if(a===V.RGB_PVRTC_4BPPV1_Format)return b.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;
if(a===V.RGB_PVRTC_2BPPV1_Format)return b.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(a===V.RGBA_PVRTC_4BPPV1_Format)return b.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(a===V.RGBA_PVRTC_2BPPV1_Format)return b.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}b=ca.get("WEBGL_compressed_texture_etc1");if(null!==b&&a===V.RGB_ETC1_Format)return b.COMPRESSED_RGB_ETC1_WEBGL;b=ca.get("EXT_blend_minmax");if(null!==b){if(a===V.MinEquation)return b.MIN_EXT;if(a===V.MaxEquation)return b.MAX_EXT}return 0}console.log("THREE.WebGLRenderer",V.REVISION);
a=a||{};var B=void 0!==a.canvas?a.canvas:document.createElement("canvas"),H=void 0!==a.context?a.context:null,K=void 0!==a.alpha?a.alpha:!1,M=void 0!==a.depth?a.depth:!0,R=void 0!==a.stencil?a.stencil:!0,L=void 0!==a.antialias?a.antialias:!1,Q=void 0!==a.premultipliedAlpha?a.premultipliedAlpha:!0,O=void 0!==a.preserveDrawingBuffer?a.preserveDrawingBuffer:!1,J=[],S=[],P=-1,Z=[],da=-1,W=new Float32Array(8),ea=[],ma=[];this.domElement=B;this.context=null;this.sortObjects=this.autoClearStencil=this.autoClearDepth=
this.autoClearColor=this.autoClear=!0;this.clippingPlanes=[];this.localClippingEnabled=!1;this.gammaFactor=2;this.physicallyCorrectLights=this.gammaOutput=this.gammaInput=!1;this.toneMapping=V.LinearToneMapping;this.toneMappingWhitePoint=this.toneMappingExposure=1;this.maxMorphTargets=8;this.maxMorphNormals=4;this.autoScaleCubemaps=!0;var fa=this,Ka=null,Ua=null,La=null,oa=-1,jb="",Ma=null,Eb=new V.Vector4,mc=null,kb=new V.Vector4,nc=0,ua=new V.Color(0),Va=0,Fb=B.width,Kb=B.height,wa=1,wc=new V.Vector4(0,
0,Fb,Kb),Ad=!1,ob=new V.Vector4(0,0,Fb,Kb),zd=new V.Frustum,Ba=new V.WebGLClipping,Jb=!1,xc=!1,$a=new V.Sphere,Ib=new V.Matrix4,na=new V.Vector3,T={hash:"",ambient:[0,0,0],directional:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadowMap:[],spotShadowMatrix:[],point:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],shadows:[]},Za={geometries:0,textures:0},Na={calls:0,vertices:0,faces:0,points:0};this.info={render:Na,memory:Za,programs:null};try{K={alpha:K,depth:M,stencil:R,antialias:L,
premultipliedAlpha:Q,preserveDrawingBuffer:O};var x=H||B.getContext("webgl",K)||B.getContext("experimental-webgl",K);if(null===x){if(null!==B.getContext("webgl"))throw"Error creating WebGL context with your selected attributes.";throw"Error creating WebGL context.";}void 0===x.getShaderPrecisionFormat&&(x.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}});B.addEventListener("webglcontextlost",e,!1)}catch(Ze){console.error("THREE.WebGLRenderer: "+Ze)}var Bd="undefined"!==
typeof WebGL2RenderingContext&&x instanceof WebGL2RenderingContext,ca=new V.WebGLExtensions(x);ca.get("WEBGL_depth_texture");ca.get("OES_texture_float");ca.get("OES_texture_float_linear");ca.get("OES_texture_half_float");ca.get("OES_texture_half_float_linear");ca.get("OES_standard_derivatives");ca.get("ANGLE_instanced_arrays");ca.get("OES_element_index_uint")&&(V.BufferGeometry.MaxIndex=4294967296);var Ca=new V.WebGLCapabilities(x,ca,a),N=new V.WebGLState(x,ca,F),X=new V.WebGLProperties,qb=new V.WebGLObjects(x,
X,this.info),pb=new V.WebGLPrograms(this,Ca),Lb=new V.WebGLLights;this.info.programs=pb.programs;var $e=new V.WebGLBufferRenderer(x,ca,Na),af=new V.WebGLIndexedBufferRenderer(x,ca,Na);c();this.context=x;this.capabilities=Ca;this.extensions=ca;this.properties=X;this.state=N;var Cd=new V.WebGLShadowMap(this,T,qb);this.shadowMap=Cd;var bf=new V.SpritePlugin(this,ea),cf=new V.LensFlarePlugin(this,ma);this.getContext=function(){return x};this.getContextAttributes=function(){return x.getContextAttributes()};
this.forceContextLoss=function(){ca.get("WEBGL_lose_context").loseContext()};this.getMaxAnisotropy=function(){var a;return function(){if(void 0!==a)return a;var b=ca.get("EXT_texture_filter_anisotropic");return a=null!==b?x.getParameter(b.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0}}();this.getPrecision=function(){return Ca.precision};this.getPixelRatio=function(){return wa};this.setPixelRatio=function(){var a=window.devicePixelRatio||1;void 0!==a&&(wa=a,this.setSize(ob.z,ob.w,!1))};this.getSize=function(){return{width:Fb,
height:Kb}};this.setSize=function(a,b,c){Fb=a;Kb=b;B.width=a*wa;B.height=b*wa;!1!==c&&(B.style.width=a+"px",B.style.height=b+"px");this.setViewport(a,b)};this.setViewport=function(a,b){N.viewport(ob.set(0,0,a,b))};this.setScissor=function(a,b,c,d){N.scissor(wc.set(a,b,c,d))};this.setScissorTest=function(a){N.setScissorTest(Ad=a)};this.getClearColor=function(){return ua};this.setClearColor=function(a,c){ua.set(a);Va=void 0!==c?c:1;b(ua.r,ua.g,ua.b,Va)};this.getClearAlpha=function(){return Va};this.setClearAlpha=
function(a){Va=a;b(ua.r,ua.g,ua.b,Va)};this.clear=function(a,b,c){var d=0;if(void 0===a||a)d|=x.COLOR_BUFFER_BIT;if(void 0===b||b)d|=x.DEPTH_BUFFER_BIT;if(void 0===c||c)d|=x.STENCIL_BUFFER_BIT;x.clear(d)};this.clearColor=function(){this.clear(!0,!1,!1)};this.clearDepth=function(){this.clear(!1,!0,!1)};this.clearStencil=function(){this.clear(!1,!1,!0)};this.clearTarget=function(a,b,c,d){this.setRenderTarget(a);this.clear(b,c,d)};this.resetGLState=d;this.dispose=function(){B.removeEventListener("webglcontextlost",
e,!1)};this.renderBufferImmediate=function(a,b,c){N.initAttributes();var d=X.get(a);a.hasPositions&&!d.position&&(d.position=x.createBuffer());a.hasNormals&&!d.normal&&(d.normal=x.createBuffer());a.hasUvs&&!d.uv&&(d.uv=x.createBuffer());a.hasColors&&!d.color&&(d.color=x.createBuffer());b=b.getAttributes();a.hasPositions&&(x.bindBuffer(x.ARRAY_BUFFER,d.position),x.bufferData(x.ARRAY_BUFFER,a.positionArray,x.DYNAMIC_DRAW),N.enableAttribute(b.position),x.vertexAttribPointer(b.position,3,x.FLOAT,!1,0,
0));if(a.hasNormals){x.bindBuffer(x.ARRAY_BUFFER,d.normal);if("MeshPhongMaterial"!==c.type&&"MeshStandardMaterial"!==c.type&&"MeshPhysicalMaterial"!==c.type&&c.shading===V.FlatShading)for(var e=0,f=3*a.count;e<f;e+=9){var g=a.normalArray,k=(g[e+0]+g[e+3]+g[e+6])/3,l=(g[e+1]+g[e+4]+g[e+7])/3,m=(g[e+2]+g[e+5]+g[e+8])/3;g[e+0]=k;g[e+1]=l;g[e+2]=m;g[e+3]=k;g[e+4]=l;g[e+5]=m;g[e+6]=k;g[e+7]=l;g[e+8]=m}x.bufferData(x.ARRAY_BUFFER,a.normalArray,x.DYNAMIC_DRAW);N.enableAttribute(b.normal);x.vertexAttribPointer(b.normal,
3,x.FLOAT,!1,0,0)}a.hasUvs&&c.map&&(x.bindBuffer(x.ARRAY_BUFFER,d.uv),x.bufferData(x.ARRAY_BUFFER,a.uvArray,x.DYNAMIC_DRAW),N.enableAttribute(b.uv),x.vertexAttribPointer(b.uv,2,x.FLOAT,!1,0,0));a.hasColors&&c.vertexColors!==V.NoColors&&(x.bindBuffer(x.ARRAY_BUFFER,d.color),x.bufferData(x.ARRAY_BUFFER,a.colorArray,x.DYNAMIC_DRAW),N.enableAttribute(b.color),x.vertexAttribPointer(b.color,3,x.FLOAT,!1,0,0));N.disableUnusedAttributes();x.drawArrays(x.TRIANGLES,0,a.count);a.count=0};this.renderBufferDirect=
function(a,b,c,d,e,f){v(d);var g=z(a,b,d,e),k=!1;a=c.id+"_"+g.id+"_"+d.wireframe;a!==jb&&(jb=a,k=!0);var l=e.morphTargetInfluences;if(void 0!==l){a=[];var n=0;for(k=l.length;n<k;n++)b=l[n],a.push([b,n]);a.sort(m);8<a.length&&(a.length=8);l=c.morphAttributes;n=0;for(k=a.length;n<k;n++)b=a[n],W[n]=b[0],0!==b[0]?(b=b[1],!0===d.morphTargets&&l.position&&c.addAttribute("morphTarget"+n,l.position[b]),!0===d.morphNormals&&l.normal&&c.addAttribute("morphNormal"+n,l.normal[b])):(!0===d.morphTargets&&c.removeAttribute("morphTarget"+
n),!0===d.morphNormals&&c.removeAttribute("morphNormal"+n));g.getUniforms().setValue(x,"morphTargetInfluences",W);k=!0}b=c.index;n=c.attributes.position;!0===d.wireframe&&(b=qb.getWireframeAttribute(c));null!==b?(a=af,a.setIndex(b)):a=$e;if(k){a:{var p;if(c instanceof V.InstancedBufferGeometry){var q=ca.get("ANGLE_instanced_arrays");if(null===q){console.error("THREE.WebGLRenderer.setupVertexAttributes: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");
break a}}void 0===p&&(p=0);N.initAttributes();k=c.attributes;g=g.getAttributes();l=d.defaultAttributeValues;for(var r in g){var t=g[r];if(0<=t){var u=k[r];if(void 0!==u){var w=x.FLOAT,y=u.array,A=u.normalized;y instanceof Float32Array?w=x.FLOAT:y instanceof Float64Array?console.warn("Unsupported data buffer format: Float64Array"):y instanceof Uint16Array?w=x.UNSIGNED_SHORT:y instanceof Int16Array?w=x.SHORT:y instanceof Uint32Array?w=x.UNSIGNED_INT:y instanceof Int32Array?w=x.INT:y instanceof Int8Array?
w=x.BYTE:y instanceof Uint8Array&&(w=x.UNSIGNED_BYTE);y=u.itemSize;var L=qb.getAttributeBuffer(u);if(u instanceof V.InterleavedBufferAttribute){var J=u.data,D=J.stride;u=u.offset;J instanceof V.InstancedInterleavedBuffer?(N.enableAttributeAndDivisor(t,J.meshPerAttribute,q),void 0===c.maxInstancedCount&&(c.maxInstancedCount=J.meshPerAttribute*J.count)):N.enableAttribute(t);x.bindBuffer(x.ARRAY_BUFFER,L);x.vertexAttribPointer(t,y,w,A,D*J.array.BYTES_PER_ELEMENT,(p*D+u)*J.array.BYTES_PER_ELEMENT)}else u instanceof
V.InstancedBufferAttribute?(N.enableAttributeAndDivisor(t,u.meshPerAttribute,q),void 0===c.maxInstancedCount&&(c.maxInstancedCount=u.meshPerAttribute*u.count)):N.enableAttribute(t),x.bindBuffer(x.ARRAY_BUFFER,L),x.vertexAttribPointer(t,y,w,A,0,p*y*u.array.BYTES_PER_ELEMENT)}else if(void 0!==l&&(w=l[r],void 0!==w))switch(w.length){case 2:x.vertexAttrib2fv(t,w);break;case 3:x.vertexAttrib3fv(t,w);break;case 4:x.vertexAttrib4fv(t,w);break;default:x.vertexAttrib1fv(t,w)}}}N.disableUnusedAttributes()}null!==
b&&x.bindBuffer(x.ELEMENT_ARRAY_BUFFER,qb.getAttributeBuffer(b))}p=Infinity;null!==b?p=b.count:void 0!==n&&(p=n.count);r=c.drawRange.start;b=null!==f?f.start:0;q=Math.max(0,r,b);f=Math.max(0,Math.min(0+p,r+c.drawRange.count,b+(null!==f?f.count:Infinity))-1-q+1);if(e instanceof V.Mesh)if(!0===d.wireframe)N.setLineWidth(d.wireframeLinewidth*(null===Ua?wa:1)),a.setMode(x.LINES);else switch(e.drawMode){case V.TrianglesDrawMode:a.setMode(x.TRIANGLES);break;case V.TriangleStripDrawMode:a.setMode(x.TRIANGLE_STRIP);
break;case V.TriangleFanDrawMode:a.setMode(x.TRIANGLE_FAN)}else e instanceof V.Line?(d=d.linewidth,void 0===d&&(d=1),N.setLineWidth(d*(null===Ua?wa:1)),e instanceof V.LineSegments?a.setMode(x.LINES):a.setMode(x.LINE_STRIP)):e instanceof V.Points&&a.setMode(x.POINTS);c instanceof V.InstancedBufferGeometry?0<c.maxInstancedCount&&a.renderInstances(c,q,f):a.render(q,f)};this.render=function(a,b,c,d){if(!1===b instanceof V.Camera)console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");
else{var e=a.fog;jb="";oa=-1;Ma=null;!0===a.autoUpdate&&a.updateMatrixWorld();null===b.parent&&b.updateMatrixWorld();b.matrixWorldInverse.getInverse(b.matrixWorld);Rc(Ib,b.projectionMatrix,b.matrixWorldInverse);fd(zd,Ib);J.length=0;da=P=-1;ea.length=0;ma.length=0;xc=this.localClippingEnabled;Jb=Ba.init(this.clippingPlanes,xc,b);r(a,b);S.length=P+1;Z.length=da+1;!0===fa.sortObjects&&(S.sort(n),Z.sort(q));Jb&&Ba.beginShadows();for(var f=J,g=0,k=0,l=f.length;k<l;k++){var m=f[k];m.castShadow&&(T.shadows[g++]=
m)}T.shadows.length=g;Cd.render(a,b);f=J;var p=0,t=0,v=0,w=b.matrixWorldInverse,y=0,z=0,A=0,L=0;k=0;for(l=f.length;k<l;k++){m=f[k];var D=m.color;var G=m.intensity;var B=m.distance;var E=m.shadow&&m.shadow.map?m.shadow.map.texture:null;if(m instanceof V.AmbientLight)p+=D.r*G,t+=D.g*G,v+=D.b*G;else if(m instanceof V.DirectionalLight){g=Lb.get(m);g.color.copy(m.color).multiplyScalar(m.intensity);Uc(g.direction,m.matrixWorld);Uc(na,m.target.matrixWorld);g.direction.sub(na);Vc(g.direction,w);if(g.shadow=
m.castShadow)g.shadowBias=m.shadow.bias,g.shadowRadius=m.shadow.radius,g.shadowMapSize=m.shadow.mapSize;T.directionalShadowMap[y]=E;T.directionalShadowMatrix[y]=m.shadow.matrix;T.directional[y++]=g}else if(m instanceof V.SpotLight){g=Lb.get(m);Uc(g.position,m.matrixWorld);g.position.applyMatrix4(w);g.color.copy(D).multiplyScalar(G);g.distance=B;Uc(g.direction,m.matrixWorld);Uc(na,m.target.matrixWorld);g.direction.sub(na);Vc(g.direction,w);g.coneCos=Math.cos(m.angle);g.penumbraCos=Math.cos(m.angle*
(1-m.penumbra));g.decay=0===m.distance?0:m.decay;if(g.shadow=m.castShadow)g.shadowBias=m.shadow.bias,g.shadowRadius=m.shadow.radius,g.shadowMapSize=m.shadow.mapSize;T.spotShadowMap[A]=E;T.spotShadowMatrix[A]=m.shadow.matrix;T.spot[A++]=g}else if(m instanceof V.PointLight){g=Lb.get(m);Uc(g.position,m.matrixWorld);g.position.applyMatrix4(w);g.color.copy(m.color).multiplyScalar(m.intensity);g.distance=m.distance;g.decay=0===m.distance?0:m.decay;if(g.shadow=m.castShadow)g.shadowBias=m.shadow.bias,g.shadowRadius=
m.shadow.radius,g.shadowMapSize=m.shadow.mapSize;T.pointShadowMap[z]=E;void 0===T.pointShadowMatrix[z]&&(T.pointShadowMatrix[z]=new V.Matrix4);Uc(na,m.matrixWorld).negate();T.pointShadowMatrix[z].identity().setPosition(na);T.point[z++]=g}else m instanceof V.HemisphereLight&&(g=Lb.get(m),Uc(g.direction,m.matrixWorld),Vc(g.direction,w),g.direction.normalize(),g.skyColor.copy(m.color).multiplyScalar(G),g.groundColor.copy(m.groundColor).multiplyScalar(G),T.hemi[L++]=g)}T.ambient[0]=p;T.ambient[1]=t;T.ambient[2]=
v;T.directional.length=y;T.spot.length=A;T.point.length=z;T.hemi.length=L;T.hash=y+","+z+","+A+","+L+","+T.shadows.length;Jb&&Ba.endShadows();Na.calls=0;Na.vertices=0;Na.faces=0;Na.points=0;void 0===c&&(c=null);this.setRenderTarget(c);(this.autoClear||d)&&this.clear(this.autoClearColor,this.autoClearDepth,this.autoClearStencil);a.overrideMaterial?(d=a.overrideMaterial,u(S,b,e,d),u(Z,b,e,d)):(N.setBlending(V.NoBlending),u(S,b,e),u(Z,b,e));bf.render(a,b);cf.render(a,b,kb);c&&(a=c.texture,a.generateMipmaps&&
C(c)&&a.minFilter!==V.NearestFilter&&a.minFilter!==V.LinearFilter&&(a=c instanceof V.WebGLRenderTargetCube?x.TEXTURE_CUBE_MAP:x.TEXTURE_2D,c=X.get(c.texture).__webglTexture,N.bindTexture(a,c),x.generateMipmap(a),N.bindTexture(a,null)));N.setDepthTest(!0);N.setDepthWrite(!0);N.setColorWrite(!0)}};this.setFaceCulling=function(a,b){N.setCullFace(a);N.setFlipSided(b===V.FrontFaceDirectionCW)};this.allocTextureUnit=function(){var a=nc;a>=Ca.maxTextures&&console.warn("WebGLRenderer: trying to use "+a+" texture units while this GPU supports only "+
Ca.maxTextures);nc+=1;return a};this.setTexture2D=function(){var a=!1;return function(b,c){b instanceof V.WebGLRenderTarget&&(a||(console.warn("THREE.WebGLRenderer.setTexture2D: don't use render targets as textures. Use their .texture property instead."),a=!0),b=b.texture);var d=X.get(b);if(0<b.version&&d.__version!==b.version){var e=b.image;if(void 0===e)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined",b);else if(!1===e.complete)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete",
b);else{void 0===d.__webglInit&&(d.__webglInit=!0,b.addEventListener("dispose",f),d.__webglTexture=x.createTexture(),Za.textures++);N.activeTexture(x.TEXTURE0+c);N.bindTexture(x.TEXTURE_2D,d.__webglTexture);x.pixelStorei(x.UNPACK_FLIP_Y_WEBGL,b.flipY);x.pixelStorei(x.UNPACK_PREMULTIPLY_ALPHA_WEBGL,b.premultiplyAlpha);x.pixelStorei(x.UNPACK_ALIGNMENT,b.unpackAlignment);var g=y(b.image,Ca.maxTextureSize);(b.wrapS!==V.ClampToEdgeWrapping||b.wrapT!==V.ClampToEdgeWrapping||b.minFilter!==V.NearestFilter&&
b.minFilter!==V.LinearFilter)&&!1===C(g)&&(c=g,c instanceof HTMLImageElement||c instanceof HTMLCanvasElement?(e=document.createElement("canvas"),e.width=V.Math.nearestPowerOfTwo(c.width),e.height=V.Math.nearestPowerOfTwo(c.height),e.getContext("2d").drawImage(c,0,0,e.width,e.height),console.warn("THREE.WebGLRenderer: image is not power of two ("+c.width+"x"+c.height+"). Resized to "+e.width+"x"+e.height,c),g=e):g=c);c=C(g);e=F(b.format);var k=F(b.type);A(x.TEXTURE_2D,b,c);var l=b.mipmaps;if(b instanceof
V.DepthTexture){l=x.DEPTH_COMPONENT;if(b.type===V.FloatType){if(!Bd)throw Error("Float Depth Texture only supported in WebGL2.0");l=x.DEPTH_COMPONENT32F}else Bd&&(l=x.DEPTH_COMPONENT16);N.texImage2D(x.TEXTURE_2D,0,l,g.width,g.height,0,e,k,null)}else if(b instanceof V.DataTexture)if(0<l.length&&c){for(var m=0,n=l.length;m<n;m++)g=l[m],N.texImage2D(x.TEXTURE_2D,m,e,g.width,g.height,0,e,k,g.data);b.generateMipmaps=!1}else N.texImage2D(x.TEXTURE_2D,0,e,g.width,g.height,0,e,k,g.data);else if(b instanceof
V.CompressedTexture)for(m=0,n=l.length;m<n;m++)g=l[m],b.format!==V.RGBAFormat&&b.format!==V.RGBFormat?-1<N.getCompressedTextureFormats().indexOf(e)?N.compressedTexImage2D(x.TEXTURE_2D,m,e,g.width,g.height,0,g.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):N.texImage2D(x.TEXTURE_2D,m,e,g.width,g.height,0,e,k,g.data);else if(0<l.length&&c){m=0;for(n=l.length;m<n;m++)g=l[m],N.texImage2D(x.TEXTURE_2D,m,e,e,k,g);b.generateMipmaps=!1}else N.texImage2D(x.TEXTURE_2D,
0,e,e,k,g);b.generateMipmaps&&c&&x.generateMipmap(x.TEXTURE_2D);d.__version=b.version;if(b.onUpdate)b.onUpdate(b)}}else N.activeTexture(x.TEXTURE0+c),N.bindTexture(x.TEXTURE_2D,d.__webglTexture)}}();this.setTexture=function(){var a=!1;return function(b,c){a||(console.warn("THREE.WebGLRenderer: .setTexture is deprecated, use setTexture2D instead."),a=!0);fa.setTexture2D(b,c)}}();this.setTextureCube=function(){var a=!1;return function(b,c){b instanceof V.WebGLRenderTargetCube&&(a||(console.warn("THREE.WebGLRenderer.setTextureCube: don't use cube render targets as textures. Use their .texture property instead."),
a=!0),b=b.texture);if(b instanceof V.CubeTexture||Array.isArray(b.image)&&6===b.image.length){var d=X.get(b);if(6===b.image.length)if(0<b.version&&d.__version!==b.version){d.__image__webglTextureCube||(b.addEventListener("dispose",f),d.__image__webglTextureCube=x.createTexture(),Za.textures++);N.activeTexture(x.TEXTURE0+c);N.bindTexture(x.TEXTURE_CUBE_MAP,d.__image__webglTextureCube);x.pixelStorei(x.UNPACK_FLIP_Y_WEBGL,b.flipY);c=b instanceof V.CompressedTexture;for(var e=b.image[0]instanceof V.DataTexture,
g=[],k=0;6>k;k++)g[k]=!fa.autoScaleCubemaps||c||e?e?b.image[k].image:b.image[k]:y(b.image[k],Ca.maxCubemapSize);var l=C(g[0]),m=F(b.format),n=F(b.type);A(x.TEXTURE_CUBE_MAP,b,l);for(k=0;6>k;k++)if(c)for(var p,q=g[k].mipmaps,r=0,t=q.length;r<t;r++)p=q[r],b.format!==V.RGBAFormat&&b.format!==V.RGBFormat?-1<N.getCompressedTextureFormats().indexOf(m)?N.compressedTexImage2D(x.TEXTURE_CUBE_MAP_POSITIVE_X+k,r,m,p.width,p.height,0,p.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):
N.texImage2D(x.TEXTURE_CUBE_MAP_POSITIVE_X+k,r,m,p.width,p.height,0,m,n,p.data);else e?N.texImage2D(x.TEXTURE_CUBE_MAP_POSITIVE_X+k,0,m,g[k].width,g[k].height,0,m,n,g[k].data):N.texImage2D(x.TEXTURE_CUBE_MAP_POSITIVE_X+k,0,m,m,n,g[k]);b.generateMipmaps&&l&&x.generateMipmap(x.TEXTURE_CUBE_MAP);d.__version=b.version;if(b.onUpdate)b.onUpdate(b)}else N.activeTexture(x.TEXTURE0+c),N.bindTexture(x.TEXTURE_CUBE_MAP,d.__image__webglTextureCube)}else N.activeTexture(x.TEXTURE0+c),N.bindTexture(x.TEXTURE_CUBE_MAP,
X.get(b).__webglTexture)}}();this.getCurrentRenderTarget=function(){return Ua};this.setRenderTarget=function(a){if((Ua=a)&&void 0===X.get(a).__webglFramebuffer){var b=X.get(a),c=X.get(a.texture);a.addEventListener("dispose",g);c.__webglTexture=x.createTexture();Za.textures++;var d=a instanceof V.WebGLRenderTargetCube,e=V.Math.isPowerOfTwo(a.width)&&V.Math.isPowerOfTwo(a.height);if(d){b.__webglFramebuffer=[];for(var f=0;6>f;f++)b.__webglFramebuffer[f]=x.createFramebuffer()}else b.__webglFramebuffer=
x.createFramebuffer();if(d){N.bindTexture(x.TEXTURE_CUBE_MAP,c.__webglTexture);A(x.TEXTURE_CUBE_MAP,a.texture,e);for(f=0;6>f;f++)D(b.__webglFramebuffer[f],a,x.COLOR_ATTACHMENT0,x.TEXTURE_CUBE_MAP_POSITIVE_X+f);a.texture.generateMipmaps&&e&&x.generateMipmap(x.TEXTURE_CUBE_MAP);N.bindTexture(x.TEXTURE_CUBE_MAP,null)}else N.bindTexture(x.TEXTURE_2D,c.__webglTexture),A(x.TEXTURE_2D,a.texture,e),D(b.__webglFramebuffer,a,x.COLOR_ATTACHMENT0,x.TEXTURE_2D),a.texture.generateMipmaps&&e&&x.generateMipmap(x.TEXTURE_2D),
N.bindTexture(x.TEXTURE_2D,null);if(a.depthBuffer){b=X.get(a);c=a instanceof V.WebGLRenderTargetCube;if(a.depthTexture){if(c)throw Error("target.depthTexture not supported in Cube render targets");if(a instanceof V.WebGLRenderTargetCube)throw Error("Depth Texture with cube render targets is not supported!");x.bindFramebuffer(x.FRAMEBUFFER,b.__webglFramebuffer);if(!(a.depthTexture instanceof V.DepthTexture))throw Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");X.get(a.depthTexture).__webglTexture&&
a.depthTexture.image.width===a.width&&a.depthTexture.image.height===a.height||(a.depthTexture.image.width=a.width,a.depthTexture.image.height=a.height,a.depthTexture.needsUpdate=!0);fa.setTexture2D(a.depthTexture,0);b=X.get(a.depthTexture).__webglTexture;x.framebufferTexture2D(x.FRAMEBUFFER,x.DEPTH_ATTACHMENT,x.TEXTURE_2D,b,0)}else if(c)for(b.__webglDepthbuffer=[],c=0;6>c;c++)x.bindFramebuffer(x.FRAMEBUFFER,b.__webglFramebuffer[c]),b.__webglDepthbuffer[c]=x.createRenderbuffer(),G(b.__webglDepthbuffer[c],
a);else x.bindFramebuffer(x.FRAMEBUFFER,b.__webglFramebuffer),b.__webglDepthbuffer=x.createRenderbuffer(),G(b.__webglDepthbuffer,a);x.bindFramebuffer(x.FRAMEBUFFER,null)}}b=a instanceof V.WebGLRenderTargetCube;a?(c=X.get(a),c=b?c.__webglFramebuffer[a.activeCubeFace]:c.__webglFramebuffer,Eb.copy(a.scissor),mc=a.scissorTest,kb.copy(a.viewport)):(c=null,Eb.copy(wc).multiplyScalar(wa),mc=Ad,kb.copy(ob).multiplyScalar(wa));La!==c&&(x.bindFramebuffer(x.FRAMEBUFFER,c),La=c);N.scissor(Eb);N.setScissorTest(mc);
N.viewport(kb);b&&(b=X.get(a.texture),x.framebufferTexture2D(x.FRAMEBUFFER,x.COLOR_ATTACHMENT0,x.TEXTURE_CUBE_MAP_POSITIVE_X+a.activeCubeFace,b.__webglTexture,a.activeMipMapLevel))};this.readRenderTargetPixels=function(a,b,c,d,e,f){if(!1===a instanceof V.WebGLRenderTarget)console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");else{var g=X.get(a).__webglFramebuffer;if(g){var k=!1;g!==La&&(x.bindFramebuffer(x.FRAMEBUFFER,g),k=!0);try{var l=a.texture;
l.format!==V.RGBAFormat&&F(l.format)!==x.getParameter(x.IMPLEMENTATION_COLOR_READ_FORMAT)?console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format."):l.type===V.UnsignedByteType||F(l.type)===x.getParameter(x.IMPLEMENTATION_COLOR_READ_TYPE)||l.type===V.FloatType&&ca.get("WEBGL_color_buffer_float")||l.type===V.HalfFloatType&&ca.get("EXT_color_buffer_half_float")?x.checkFramebufferStatus(x.FRAMEBUFFER)===x.FRAMEBUFFER_COMPLETE?0<=b&&b<=a.width-
d&&0<=c&&c<=a.height-e&&x.readPixels(b,c,d,e,F(l.format),F(l.type),f):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete."):console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.")}finally{k&&x.bindFramebuffer(x.FRAMEBUFFER,La)}}}}};
V.WebGLRenderTarget=function(a,b,c){this.uuid=V.Math.generateUUID();this.width=a;this.height=b;this.scissor=new V.Vector4(0,0,a,b);this.scissorTest=!1;this.viewport=new V.Vector4(0,0,a,b);c=c||{};void 0===c.minFilter&&(c.minFilter=V.LinearFilter);this.texture=new V.Texture(void 0,void 0,c.wrapS,c.wrapT,c.magFilter,c.minFilter,c.format,c.type,c.anisotropy,c.encoding);this.depthBuffer=void 0!==c.depthBuffer?c.depthBuffer:!0;this.stencilBuffer=void 0!==c.stencilBuffer?c.stencilBuffer:!0;this.depthTexture=
null};
Object.assign(V.WebGLRenderTarget.prototype,V.EventDispatcher.prototype,{setSize:function(a,b){if(this.width!==a||this.height!==b)this.width=a,this.height=b,this.dispose();this.viewport.set(0,0,a,b);this.scissor.set(0,0,a,b)},clone:function(){return(new this.constructor).copy(this)},copy:function(a){this.width=a.width;this.height=a.height;this.viewport.copy(a.viewport);this.texture=a.texture.clone();this.depthBuffer=a.depthBuffer;this.stencilBuffer=a.stencilBuffer;this.depthTexture=a.depthTexture;return this},
dispose:function(){this.dispatchEvent({type:"dispose"})}});V.WebGLRenderTargetCube=function(a,b,c){V.WebGLRenderTarget.call(this,a,b,c);this.activeMipMapLevel=this.activeCubeFace=0};V.WebGLRenderTargetCube.prototype=Object.create(V.WebGLRenderTarget.prototype);V.WebGLRenderTargetCube.prototype.constructor=V.WebGLRenderTargetCube;
V.WebGLBufferRenderer=function(a,b,c){var d;this.setMode=function(a){d=a};this.render=function(b,f){a.drawArrays(d,b,f);c.calls++;c.vertices+=f;d===a.TRIANGLES&&(c.faces+=f/3)};this.renderInstances=function(e){var f=b.get("ANGLE_instanced_arrays");if(null===f)console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");else{var g=e.attributes.position;g=g instanceof V.InterleavedBufferAttribute?g.data.count:g.count;
f.drawArraysInstancedANGLE(d,0,g,e.maxInstancedCount);c.calls++;c.vertices+=g*e.maxInstancedCount;d===a.TRIANGLES&&(c.faces+=e.maxInstancedCount*g/3)}}};
V.WebGLClipping=function(){function a(){m.value!==d&&(m.value=d,m.needsUpdate=0<e);c.numPlanes=e}function b(a,b,d,e){var f=null!==a?a.length:0,g=null;if(0!==f){g=m.value;if(!0!==e||null===g){e=d+4*f;b=b.matrixWorldInverse;$c(l,b);if(null===g||g.length<e)g=new Float32Array(e);for(e=0;e!==f;++e,d+=4)k.copy(a[e]).applyMatrix4(b,l),k.normal.toArray(g,d),g[d+3]=k.constant}m.value=g;m.needsUpdate=!0}c.numPlanes=f;return g}var c=this,d=null,e=0,f=!1,g=!1,k=new V.Plane,l=new V.Matrix3,m={value:null,needsUpdate:!1};
this.uniform=m;this.numPlanes=0;this.init=function(a,c,g){var k=0!==a.length||c||0!==e||f;f=c;d=b(a,g,0);e=a.length;return k};this.beginShadows=function(){g=!0;b(null)};this.endShadows=function(){g=!1;a()};this.setState=function(c,k,l,t,r){if(!f||null===c||0===c.length||g&&!k)g?b(null):a();else{k=g?0:e;var n=4*k,p=t.clippingState||null;m.value=p;p=b(c,l,n,r);for(c=0;c!==n;++c)p[c]=d[c];t.clippingState=p;this.numPlanes+=k}}};
V.WebGLIndexedBufferRenderer=function(a,b,c){var d,e,f;this.setMode=function(a){d=a};this.setIndex=function(c){c.array instanceof Uint32Array&&b.get("OES_element_index_uint")?(e=a.UNSIGNED_INT,f=4):(e=a.UNSIGNED_SHORT,f=2)};this.render=function(b,k){a.drawElements(d,k,e,b*f);c.calls++;c.vertices+=k;d===a.TRIANGLES&&(c.faces+=k/3)};this.renderInstances=function(g,k,l){var m=b.get("ANGLE_instanced_arrays");null===m?console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays."):
(m.drawElementsInstancedANGLE(d,l,e,k*f,g.maxInstancedCount),c.calls++,c.vertices+=l*g.maxInstancedCount,d===a.TRIANGLES&&(c.faces+=g.maxInstancedCount*l/3))}};
V.WebGLExtensions=function(a){var b={};this.get=function(c){if(void 0!==b[c])return b[c];switch(c){case "WEBGL_depth_texture":var d=a.getExtension("WEBGL_depth_texture")||a.getExtension("MOZ_WEBGL_depth_texture")||a.getExtension("WEBKIT_WEBGL_depth_texture");break;case "EXT_texture_filter_anisotropic":d=a.getExtension("EXT_texture_filter_anisotropic")||a.getExtension("MOZ_EXT_texture_filter_anisotropic")||a.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case "WEBGL_compressed_texture_s3tc":d=
a.getExtension("WEBGL_compressed_texture_s3tc")||a.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||a.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case "WEBGL_compressed_texture_pvrtc":d=a.getExtension("WEBGL_compressed_texture_pvrtc")||a.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;case "WEBGL_compressed_texture_etc1":d=a.getExtension("WEBGL_compressed_texture_etc1");break;default:d=a.getExtension(c)}null===d&&console.warn("THREE.WebGLRenderer: "+c+" extension not supported.");
return b[c]=d}};
V.WebGLCapabilities=function(a,b,c){function d(b){if("highp"===b){if(0<a.getShaderPrecisionFormat(a.VERTEX_SHADER,a.HIGH_FLOAT).precision&&0<a.getShaderPrecisionFormat(a.FRAGMENT_SHADER,a.HIGH_FLOAT).precision)return"highp";b="mediump"}return"mediump"===b&&0<a.getShaderPrecisionFormat(a.VERTEX_SHADER,a.MEDIUM_FLOAT).precision&&0<a.getShaderPrecisionFormat(a.FRAGMENT_SHADER,a.MEDIUM_FLOAT).precision?"mediump":"lowp"}this.getMaxPrecision=d;this.precision=void 0!==c.precision?c.precision:"highp";this.logarithmicDepthBuffer=
void 0!==c.logarithmicDepthBuffer?c.logarithmicDepthBuffer:!1;this.maxTextures=a.getParameter(a.MAX_TEXTURE_IMAGE_UNITS);this.maxVertexTextures=a.getParameter(a.MAX_VERTEX_TEXTURE_IMAGE_UNITS);this.maxTextureSize=a.getParameter(a.MAX_TEXTURE_SIZE);this.maxCubemapSize=a.getParameter(a.MAX_CUBE_MAP_TEXTURE_SIZE);this.maxAttributes=a.getParameter(a.MAX_VERTEX_ATTRIBS);this.maxVertexUniforms=a.getParameter(a.MAX_VERTEX_UNIFORM_VECTORS);this.maxVaryings=a.getParameter(a.MAX_VARYING_VECTORS);this.maxFragmentUniforms=
a.getParameter(a.MAX_FRAGMENT_UNIFORM_VECTORS);this.vertexTextures=0<this.maxVertexTextures;this.floatFragmentTextures=!!b.get("OES_texture_float");this.floatVertexTextures=this.vertexTextures&&this.floatFragmentTextures;c=d(this.precision);c!==this.precision&&(console.warn("THREE.WebGLRenderer:",this.precision,"not supported, using",c,"instead."),this.precision=c);this.logarithmicDepthBuffer&&(this.logarithmicDepthBuffer=!!b.get("EXT_frag_depth"))};
V.WebGLGeometries=function(a,b,c){function d(a){var g=a.target;a=f[g.id];null!==a.index&&e(a.index);var l=a.attributes;for(m in l)e(l[m]);g.removeEventListener("dispose",d);delete f[g.id];var m=b.get(g);m.wireframe&&e(m.wireframe);b.delete(g);g=b.get(a);g.wireframe&&e(g.wireframe);b.delete(a);c.memory.geometries--}function e(c){var d=c instanceof V.InterleavedBufferAttribute?b.get(c.data).__webglBuffer:b.get(c).__webglBuffer;void 0!==d&&(a.deleteBuffer(d),c instanceof V.InterleavedBufferAttribute?
b.delete(c.data):b.delete(c))}var f={};this.get=function(a){var b=a.geometry;if(void 0!==f[b.id])return f[b.id];b.addEventListener("dispose",d);if(b instanceof V.BufferGeometry)var e=b;else b instanceof V.Geometry&&(void 0===b._bufferGeometry&&(b._bufferGeometry=(new V.BufferGeometry).setFromObject(a)),e=b._bufferGeometry);f[b.id]=e;c.memory.geometries++;return e}};
V.WebGLLights=function(){var a={};this.get=function(b){if(void 0!==a[b.id])return a[b.id];switch(b.type){case "DirectionalLight":var c={direction:new V.Vector3,color:new V.Color,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new V.Vector2};break;case "SpotLight":c={position:new V.Vector3,direction:new V.Vector3,color:new V.Color,distance:0,coneCos:0,penumbraCos:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new V.Vector2};break;case "PointLight":c={position:new V.Vector3,color:new V.Color,
distance:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new V.Vector2};break;case "HemisphereLight":c={direction:new V.Vector3,skyColor:new V.Color,groundColor:new V.Color}}return a[b.id]=c}};
V.WebGLObjects=function(a,b,c){function d(c,d){c=c instanceof V.InterleavedBufferAttribute?c.data:c;var e=b.get(c);void 0===e.__webglBuffer?(e.__webglBuffer=a.createBuffer(),a.bindBuffer(d,e.__webglBuffer),a.bufferData(d,c.array,c.dynamic?a.DYNAMIC_DRAW:a.STATIC_DRAW),e.version=c.version):e.version!==c.version&&(a.bindBuffer(d,e.__webglBuffer),!1===c.dynamic||-1===c.updateRange.count?a.bufferSubData(d,0,c.array):0===c.updateRange.count?console.error("THREE.WebGLObjects.updateBuffer: dynamic THREE.BufferAttribute marked as needsUpdate but updateRange.count is 0, ensure you are using set methods or updating manually."):
(a.bufferSubData(d,c.updateRange.offset*c.array.BYTES_PER_ELEMENT,c.array.subarray(c.updateRange.offset,c.updateRange.offset+c.updateRange.count)),c.updateRange.count=0),e.version=c.version)}function e(a,b,c){if(b>c){var d=b;b=c;c=d}d=a[b];return void 0===d?(a[b]=[c],!0):-1===d.indexOf(c)?(d.push(c),!0):!1}var f=new V.WebGLGeometries(a,b,c);this.getAttributeBuffer=function(a){return a instanceof V.InterleavedBufferAttribute?b.get(a.data).__webglBuffer:b.get(a).__webglBuffer};this.getWireframeAttribute=
function(c){var f=b.get(c);if(void 0!==f.wireframe)return f.wireframe;var g=[];var m=c.index;var n=c.attributes;c=n.position;if(null!==m){n={};var q=m.array;for(var p=0,t=q.length;p<t;p+=3){var r=q[p+0];var u=q[p+1];m=q[p+2];e(n,r,u)&&g.push(r,u);e(n,u,m)&&g.push(u,m);e(n,m,r)&&g.push(m,r)}}else for(q=n.position.array,p=0,t=q.length/3-1;p<t;p+=3)r=p+0,u=p+1,m=p+2,g.push(r,u,u,m,m,r);g=new V.BufferAttribute(new (65535<c.count?Uint32Array:Uint16Array)(g),1);d(g,a.ELEMENT_ARRAY_BUFFER);return f.wireframe=
g};this.update=function(b){var c=f.get(b);b.geometry instanceof V.Geometry&&c.updateFromObject(b);b=c.index;var e=c.attributes;null!==b&&d(b,a.ELEMENT_ARRAY_BUFFER);for(var g in e)d(e[g],a.ARRAY_BUFFER);b=c.morphAttributes;for(g in b){e=b[g];for(var n=0,q=e.length;n<q;n++)d(e[n],a.ARRAY_BUFFER)}return c}};
V.WebGLProgram=function(){function a(a){switch(a){case V.LinearEncoding:return["Linear","( value )"];case V.sRGBEncoding:return["sRGB","( value )"];case V.RGBEEncoding:return["RGBE","( value )"];case V.RGBM7Encoding:return["RGBM","( value, 7.0 )"];case V.RGBM16Encoding:return["RGBM","( value, 16.0 )"];case V.RGBDEncoding:return["RGBD","( value, 256.0 )"];case V.GammaEncoding:return["Gamma","( value, float( GAMMA_FACTOR ) )"];default:throw Error("unsupported encoding: "+a);}}function b(b,c){c=a(c);
return"vec4 "+b+"( vec4 value ) { return "+c[0]+"ToLinear"+c[1]+"; }"}function c(b){b=a(b);return"vec4 linearToOutputTexel( vec4 value ) { return LinearTo"+b[0]+b[1]+"; }"}function d(a){switch(a){case V.LinearToneMapping:a="Linear";break;case V.ReinhardToneMapping:a="Reinhard";break;case V.Uncharted2ToneMapping:a="Uncharted2";break;case V.CineonToneMapping:a="OptimizedCineon";break;default:throw Error("unsupported toneMapping: "+a);}return"vec3 toneMapping( vec3 color ) { return "+a+"ToneMapping( color ); }"}
function e(a,b,c){a=a||{};return[a.derivatives||b.envMapCubeUV||b.bumpMap||b.normalMap||b.flatShading?"#extension GL_OES_standard_derivatives : enable":"",(a.fragDepth||b.logarithmicDepthBuffer)&&c.get("EXT_frag_depth")?"#extension GL_EXT_frag_depth : enable":"",a.drawBuffers&&c.get("WEBGL_draw_buffers")?"#extension GL_EXT_draw_buffers : require":"",(a.shaderTextureLOD||b.envMap)&&c.get("EXT_shader_texture_lod")?"#extension GL_EXT_shader_texture_lod : enable":""].filter(g).join("\n")}function f(a){var b=
[],c;for(c in a){var d=a[c];!1!==d&&b.push("#define "+c+" "+d)}return b.join("\n")}function g(a){return""!==a}function k(a,b){return a.replace(/NUM_DIR_LIGHTS/g,b.numDirLights).replace(/NUM_SPOT_LIGHTS/g,b.numSpotLights).replace(/NUM_POINT_LIGHTS/g,b.numPointLights).replace(/NUM_HEMI_LIGHTS/g,b.numHemiLights)}function l(a){return a.replace(/#include +<([\w\d.]+)>/g,function(a,b){a=V.ShaderChunk[b];if(void 0===a)throw Error("Can not resolve #include \x3c"+b+"\x3e");return l(a)})}function m(a){return a.replace(/for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,
function(a,b,c,d){a="";for(b=parseInt(b);b<parseInt(c);b++)a+=d.replace(/\[ i \]/g,"[ "+b+" ]");return a})}var n=0;return function(a,p,t,r){var q=a.context,v=t.extensions,z=t.defines,w=t.__webglShader.vertexShader,A=t.__webglShader.fragmentShader,y="SHADOWMAP_TYPE_BASIC";r.shadowMapType===V.PCFShadowMap?y="SHADOWMAP_TYPE_PCF":r.shadowMapType===V.PCFSoftShadowMap&&(y="SHADOWMAP_TYPE_PCF_SOFT");var C="ENVMAP_TYPE_CUBE",D="ENVMAP_MODE_REFLECTION",G="ENVMAP_BLENDING_MULTIPLY";if(r.envMap){switch(t.envMap.mapping){case V.CubeReflectionMapping:case V.CubeRefractionMapping:C=
"ENVMAP_TYPE_CUBE";break;case V.CubeUVReflectionMapping:case V.CubeUVRefractionMapping:C="ENVMAP_TYPE_CUBE_UV";break;case V.EquirectangularReflectionMapping:case V.EquirectangularRefractionMapping:C="ENVMAP_TYPE_EQUIREC";break;case V.SphericalReflectionMapping:C="ENVMAP_TYPE_SPHERE"}switch(t.envMap.mapping){case V.CubeRefractionMapping:case V.EquirectangularRefractionMapping:D="ENVMAP_MODE_REFRACTION"}switch(t.combine){case V.MultiplyOperation:G="ENVMAP_BLENDING_MULTIPLY";break;case V.MixOperation:G=
"ENVMAP_BLENDING_MIX";break;case V.AddOperation:G="ENVMAP_BLENDING_ADD"}}var E=0<a.gammaFactor?a.gammaFactor:1;v=e(v,r,a.extensions);var F=f(z),B=q.createProgram();t instanceof V.RawShaderMaterial?y=z="":(z=["precision "+r.precision+" float;","precision "+r.precision+" int;","#define SHADER_NAME "+t.__webglShader.name,F,r.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+E,"#define MAX_BONES "+r.maxBones,r.map?"#define USE_MAP":"",r.envMap?"#define USE_ENVMAP":"",r.envMap?
"#define "+D:"",r.lightMap?"#define USE_LIGHTMAP":"",r.aoMap?"#define USE_AOMAP":"",r.emissiveMap?"#define USE_EMISSIVEMAP":"",r.bumpMap?"#define USE_BUMPMAP":"",r.normalMap?"#define USE_NORMALMAP":"",r.displacementMap&&r.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",r.specularMap?"#define USE_SPECULARMAP":"",r.roughnessMap?"#define USE_ROUGHNESSMAP":"",r.metalnessMap?"#define USE_METALNESSMAP":"",r.alphaMap?"#define USE_ALPHAMAP":"",r.vertexColors?"#define USE_COLOR":"",r.flatShading?"#define FLAT_SHADED":
"",r.skinning?"#define USE_SKINNING":"",r.useVertexTexture?"#define BONE_TEXTURE":"",r.morphTargets?"#define USE_MORPHTARGETS":"",r.morphNormals&&!1===r.flatShading?"#define USE_MORPHNORMALS":"",r.doubleSided?"#define DOUBLE_SIDED":"",r.flipSided?"#define FLIP_SIDED":"","#define NUM_CLIPPING_PLANES "+r.numClippingPlanes,r.shadowMapEnabled?"#define USE_SHADOWMAP":"",r.shadowMapEnabled?"#define "+y:"",r.sizeAttenuation?"#define USE_SIZEATTENUATION":"",r.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":
"",r.logarithmicDepthBuffer&&a.extensions.get("EXT_frag_depth")?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_COLOR","\tattribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;",
"\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(g).join("\n"),y=[v,"precision "+
r.precision+" float;","precision "+r.precision+" int;","#define SHADER_NAME "+t.__webglShader.name,F,r.alphaTest?"#define ALPHATEST "+r.alphaTest:"","#define GAMMA_FACTOR "+E,r.useFog&&r.fog?"#define USE_FOG":"",r.useFog&&r.fogExp?"#define FOG_EXP2":"",r.map?"#define USE_MAP":"",r.envMap?"#define USE_ENVMAP":"",r.envMap?"#define "+C:"",r.envMap?"#define "+D:"",r.envMap?"#define "+G:"",r.lightMap?"#define USE_LIGHTMAP":"",r.aoMap?"#define USE_AOMAP":"",r.emissiveMap?"#define USE_EMISSIVEMAP":"",r.bumpMap?
"#define USE_BUMPMAP":"",r.normalMap?"#define USE_NORMALMAP":"",r.specularMap?"#define USE_SPECULARMAP":"",r.roughnessMap?"#define USE_ROUGHNESSMAP":"",r.metalnessMap?"#define USE_METALNESSMAP":"",r.alphaMap?"#define USE_ALPHAMAP":"",r.vertexColors?"#define USE_COLOR":"",r.flatShading?"#define FLAT_SHADED":"",r.doubleSided?"#define DOUBLE_SIDED":"",r.flipSided?"#define FLIP_SIDED":"","#define NUM_CLIPPING_PLANES "+r.numClippingPlanes,r.shadowMapEnabled?"#define USE_SHADOWMAP":"",r.shadowMapEnabled?
"#define "+y:"",r.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",r.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",r.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",r.logarithmicDepthBuffer&&a.extensions.get("EXT_frag_depth")?"#define USE_LOGDEPTHBUF_EXT":"",r.envMap&&a.extensions.get("EXT_shader_texture_lod")?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;",r.toneMapping!==V.NoToneMapping?"#define TONE_MAPPING":"",r.toneMapping!==V.NoToneMapping?
V.ShaderChunk.tonemapping_pars_fragment:"",r.toneMapping!==V.NoToneMapping?d(r.toneMapping):"",r.outputEncoding||r.mapEncoding||r.envMapEncoding||r.emissiveMapEncoding?V.ShaderChunk.encodings_pars_fragment:"",r.mapEncoding?b("mapTexelToLinear",r.mapEncoding):"",r.envMapEncoding?b("envMapTexelToLinear",r.envMapEncoding):"",r.emissiveMapEncoding?b("emissiveMapTexelToLinear",r.emissiveMapEncoding):"",r.outputEncoding?c(r.outputEncoding):"",r.depthPacking?"#define DEPTH_PACKING "+t.depthPacking:"","\n"].filter(g).join("\n"));
w=l(w);w=k(w,r);A=l(A);A=k(A,r);!1===t instanceof V.ShaderMaterial&&(w=m(w),A=m(A));A=y+A;w=V.WebGLShader(q,q.VERTEX_SHADER,z+w);A=V.WebGLShader(q,q.FRAGMENT_SHADER,A);q.attachShader(B,w);q.attachShader(B,A);void 0!==t.index0AttributeName?q.bindAttribLocation(B,0,t.index0AttributeName):!0===r.morphTargets&&q.bindAttribLocation(B,0,"position");q.linkProgram(B);r=q.getProgramInfoLog(B);C=q.getShaderInfoLog(w);D=q.getShaderInfoLog(A);E=G=!0;if(!1===q.getProgramParameter(B,q.LINK_STATUS))G=!1,console.error("THREE.WebGLProgram: shader error: ",
q.getError(),"gl.VALIDATE_STATUS",q.getProgramParameter(B,q.VALIDATE_STATUS),"gl.getProgramInfoLog",r,C,D);else if(""!==r)console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()",r);else if(""===C||""===D)E=!1;E&&(this.diagnostics={runnable:G,material:t,programLog:r,vertexShader:{log:C,prefix:z},fragmentShader:{log:D,prefix:y}});q.deleteShader(w);q.deleteShader(A);var H;this.getUniforms=function(){void 0===H&&(H=new V.WebGLUniforms(q,B,a));return H};var K;this.getAttributes=function(){if(void 0===
K){for(var a={},b=q.getProgramParameter(B,q.ACTIVE_ATTRIBUTES),c=0;c<b;c++){var d=q.getActiveAttrib(B,c).name;a[d]=q.getAttribLocation(B,d)}K=a}return K};this.destroy=function(){q.deleteProgram(B);this.program=void 0};Object.defineProperties(this,{uniforms:{get:function(){console.warn("THREE.WebGLProgram: .uniforms is now .getUniforms().");return this.getUniforms()}},attributes:{get:function(){console.warn("THREE.WebGLProgram: .attributes is now .getAttributes().");return this.getAttributes()}}});
this.id=n++;this.code=p;this.usedTimes=1;this.program=B;this.vertexShader=w;this.fragmentShader=A;return this}}();
V.WebGLPrograms=function(a,b){function c(a,b){if(a)a instanceof V.Texture?c=a.encoding:a instanceof V.WebGLRenderTarget&&(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),c=a.texture.encoding);else var c=V.LinearEncoding;c===V.LinearEncoding&&b&&(c=V.GammaEncoding);return c}var d=[],e={MeshDepthMaterial:"depth",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",
MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points"},f="precision supportsVertexTextures map mapEncoding envMap envMapMode envMapEncoding lightMap aoMap emissiveMap emissiveMapEncoding bumpMap normalMap displacementMap specularMap roughnessMap metalnessMap alphaMap combine vertexColors fog useFog fogExp flatShading sizeAttenuation logarithmicDepthBuffer skinning maxBones useVertexTexture morphTargets morphNormals maxMorphTargets maxMorphNormals premultipliedAlpha numDirLights numPointLights numSpotLights numHemiLights shadowMapEnabled shadowMapType toneMapping physicallyCorrectLights alphaTest doubleSided flipSided numClippingPlanes depthPacking".split(" ");
this.getParameters=function(d,f,l,m,n){var g=e[d.type];if(b.floatVertexTextures&&n&&n.skeleton&&n.skeleton.useVertexTexture)var k=1024;else k=Math.floor((b.maxVertexUniforms-20)/4),void 0!==n&&n instanceof V.SkinnedMesh&&(k=Math.min(n.skeleton.bones.length,k),k<n.skeleton.bones.length&&console.warn("WebGLRenderer: too many bones - "+n.skeleton.bones.length+", this GPU supports just "+k+" (try OpenGL instead of ANGLE)"));var t=a.getPrecision();null!==d.precision&&(t=b.getMaxPrecision(d.precision),
t!==d.precision&&console.warn("THREE.WebGLProgram.getParameters:",d.precision,"not supported, using",t,"instead."));var r=a.getCurrentRenderTarget();return{shaderID:g,precision:t,supportsVertexTextures:b.vertexTextures,outputEncoding:c(r?r.texture:null,a.gammaOutput),map:!!d.map,mapEncoding:c(d.map,a.gammaInput),envMap:!!d.envMap,envMapMode:d.envMap&&d.envMap.mapping,envMapEncoding:c(d.envMap,a.gammaInput),envMapCubeUV:!!d.envMap&&(d.envMap.mapping===V.CubeUVReflectionMapping||d.envMap.mapping===
V.CubeUVRefractionMapping),lightMap:!!d.lightMap,aoMap:!!d.aoMap,emissiveMap:!!d.emissiveMap,emissiveMapEncoding:c(d.emissiveMap,a.gammaInput),bumpMap:!!d.bumpMap,normalMap:!!d.normalMap,displacementMap:!!d.displacementMap,roughnessMap:!!d.roughnessMap,metalnessMap:!!d.metalnessMap,specularMap:!!d.specularMap,alphaMap:!!d.alphaMap,combine:d.combine,vertexColors:d.vertexColors,fog:l,useFog:d.fog,fogExp:l instanceof V.FogExp2,flatShading:d.shading===V.FlatShading,sizeAttenuation:d.sizeAttenuation,logarithmicDepthBuffer:b.logarithmicDepthBuffer,
skinning:d.skinning,maxBones:k,useVertexTexture:b.floatVertexTextures&&n&&n.skeleton&&n.skeleton.useVertexTexture,morphTargets:d.morphTargets,morphNormals:d.morphNormals,maxMorphTargets:a.maxMorphTargets,maxMorphNormals:a.maxMorphNormals,numDirLights:f.directional.length,numPointLights:f.point.length,numSpotLights:f.spot.length,numHemiLights:f.hemi.length,numClippingPlanes:m,shadowMapEnabled:a.shadowMap.enabled&&n.receiveShadow&&0<f.shadows.length,shadowMapType:a.shadowMap.type,toneMapping:a.toneMapping,
physicallyCorrectLights:a.physicallyCorrectLights,premultipliedAlpha:d.premultipliedAlpha,alphaTest:d.alphaTest,doubleSided:d.side===V.DoubleSide,flipSided:d.side===V.BackSide,depthPacking:void 0!==d.depthPacking?d.depthPacking:!1}};this.getProgramCode=function(a,b){var c=[];b.shaderID?c.push(b.shaderID):(c.push(a.fragmentShader),c.push(a.vertexShader));if(void 0!==a.defines)for(var d in a.defines)c.push(d),c.push(a.defines[d]);for(a=0;a<f.length;a++)c.push(b[f[a]]);return c.join()};this.acquireProgram=
function(b,c,e){for(var f,g=0,k=d.length;g<k;g++){var l=d[g];if(l.code===e){f=l;++f.usedTimes;break}}void 0===f&&(f=new V.WebGLProgram(a,e,b,c),d.push(f));return f};this.releaseProgram=function(a){0===--a.usedTimes&&(d[d.indexOf(a)]=d[d.length-1],d.pop(),a.destroy())};this.programs=d};V.WebGLProperties=function(){var a={};this.get=function(b){b=b.uuid;var c=a[b];void 0===c&&(c={},a[b]=c);return c};this.delete=function(b){delete a[b.uuid]};this.clear=function(){a={}}};
V.WebGLShader=function(){function a(a){a=a.split("\n");for(var b=0;b<a.length;b++)a[b]=b+1+": "+a[b];return a.join("\n")}return function(b,c,d){var e=b.createShader(c);b.shaderSource(e,d);b.compileShader(e);!1===b.getShaderParameter(e,b.COMPILE_STATUS)&&console.error("THREE.WebGLShader: Shader couldn't compile.");""!==b.getShaderInfoLog(e)&&console.warn("THREE.WebGLShader: gl.getShaderInfoLog()",c===b.VERTEX_SHADER?"vertex":"fragment",b.getShaderInfoLog(e),a(d));return e}}();
V.WebGLShadowMap=function(a,b,c){function d(b,c,d,e){var f=b.geometry,g=r,k=b.customDepthMaterial;d&&(g=u,k=b.customDistanceMaterial);k?f=k:(b=b instanceof V.SkinnedMesh&&c.skinning,k=0,void 0!==f.morphTargets&&0<f.morphTargets.length&&c.morphTargets&&(k|=1),b&&(k|=2),f=g[k]);a.localClippingEnabled&&!0===c.clipShadows&&0!==c.clippingPlanes.length&&(k=f.uuid,g=c.uuid,b=v[k],void 0===b&&(b={},v[k]=b),k=b[g],void 0===k&&(k=f.clone(),b[g]=k),f=k);f.visible=c.visible;f.wireframe=c.wireframe;g=c.side;B.renderSingleSided&&
g==V.DoubleSide&&(g=V.FrontSide);B.renderReverseSided&&(g===V.FrontSide?g=V.BackSide:g===V.BackSide&&(g=V.FrontSide));f.side=g;f.clipShadows=c.clipShadows;f.clippingPlanes=c.clippingPlanes;f.wireframeLinewidth=c.wireframeLinewidth;f.linewidth=c.linewidth;d&&void 0!==f.uniforms.lightPos&&f.uniforms.lightPos.value.copy(e);return f}function e(a,b,c){if(!1!==a.visible){a.layers.test(b.layers)&&(a instanceof V.Mesh||a instanceof V.Line||a instanceof V.Points)&&a.castShadow&&(!1===a.frustumCulled||!0===
k.intersectsObject(a))&&!0===a.material.visible&&(Rc(a.modelViewMatrix,c.matrixWorldInverse,a.matrixWorld),t.push(a));a=a.children;for(var d=0,f=a.length;d<f;d++)e(a[d],b,c)}}var f=a.context,g=a.state,k=new V.Frustum,l=new V.Matrix4,m=b.shadows,n=new V.Vector2,q=new V.Vector3,p=new V.Vector3,t=[],r=Array(4),u=Array(4),v={},z=[new V.Vector3(1,0,0),new V.Vector3(-1,0,0),new V.Vector3(0,0,1),new V.Vector3(0,0,-1),new V.Vector3(0,1,0),new V.Vector3(0,-1,0)],w=[new V.Vector3(0,1,0),new V.Vector3(0,1,0),
new V.Vector3(0,1,0),new V.Vector3(0,1,0),new V.Vector3(0,0,1),new V.Vector3(0,0,-1)],A=[new V.Vector4,new V.Vector4,new V.Vector4,new V.Vector4,new V.Vector4,new V.Vector4];b=new V.MeshDepthMaterial;b.depthPacking=V.RGBADepthPacking;b.clipping=!0;for(var y=V.ShaderLib.distanceRGBA,C=V.UniformsUtils.clone(y.uniforms),D=0;4!==D;++D){var G=0!==(D&1),E=0!==(D&2),F=b.clone();F.morphTargets=G;F.skinning=E;r[D]=F;G=new V.ShaderMaterial({defines:{USE_SHADOWMAP:""},uniforms:C,vertexShader:y.vertexShader,
fragmentShader:y.fragmentShader,morphTargets:G,skinning:E,clipping:!0});u[D]=G}var B=this;this.enabled=!1;this.autoUpdate=!0;this.needsUpdate=!1;this.type=V.PCFShadowMap;this.renderSingleSided=this.renderReverseSided=!0;this.render=function(b,r){if(!1!==B.enabled&&(!1!==B.autoUpdate||!1!==B.needsUpdate)&&0!==m.length){g.clearColor(1,1,1,1);g.disable(f.BLEND);g.setDepthTest(!0);g.setScissorTest(!1);for(var u,v,y=0,D=m.length;y<D;y++){var G=m[y],J=G.shadow;if(void 0===J)console.warn("THREE.WebGLShadowMap:",
G,"has no shadow.");else{var C=J.camera;n.copy(J.mapSize);if(G instanceof V.PointLight){u=6;v=!0;var E=n.x,F=n.y;A[0].set(2*E,F,E,F);A[1].set(0,F,E,F);A[2].set(3*E,F,E,F);A[3].set(E,F,E,F);A[4].set(3*E,0,E,F);A[5].set(E,0,E,F);n.x*=4;n.y*=2}else u=1,v=!1;null===J.map&&(J.map=new V.WebGLRenderTarget(n.x,n.y,{minFilter:V.NearestFilter,magFilter:V.NearestFilter,format:V.RGBAFormat}),C.updateProjectionMatrix());J instanceof V.SpotLightShadow&&J.update(G);E=J.map;J=J.matrix;Uc(p,G.matrixWorld);C.position.copy(p);
a.setRenderTarget(E);a.clear();for(E=0;E<u;E++){v?(q.copy(C.position),q.add(z[E]),C.up.copy(w[E]),C.lookAt(q),g.viewport(A[E])):(Uc(q,G.target.matrixWorld),C.lookAt(q));C.updateMatrixWorld();C.matrixWorldInverse.getInverse(C.matrixWorld);J.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1);J.multiply(C.projectionMatrix);J.multiply(C.matrixWorldInverse);Rc(l,C.projectionMatrix,C.matrixWorldInverse);fd(k,l);t.length=0;e(b,r,C);F=0;for(var da=t.length;F<da;F++){var H=t[F],K=c.update(H),ma=H.material;if(ma instanceof
V.MultiMaterial){var fa=K.groups;ma=ma.materials;for(var Ka=0,Ua=fa.length;Ka<Ua;Ka++){var La=fa[Ka];var oa=ma[La.materialIndex];!0===oa.visible&&(oa=d(H,oa,v,p),a.renderBufferDirect(C,null,K,oa,H,La))}}else oa=d(H,ma,v,p),a.renderBufferDirect(C,null,K,oa,H,null)}}}}a.setClearColor(a.getClearColor(),a.getClearAlpha());B.needsUpdate=!1}}};
V.WebGLState=function(a,b,c){function d(b,c,d){var e=new Uint8Array(3),f=a.createTexture();a.bindTexture(b,f);a.texParameteri(b,a.TEXTURE_MIN_FILTER,a.NEAREST);a.texParameteri(b,a.TEXTURE_MAG_FILTER,a.NEAREST);for(b=0;b<d;b++)a.texImage2D(c+b,0,a.RGB,1,1,0,a.RGB,a.UNSIGNED_BYTE,e);return f}var e=this;this.buffers={color:new V.WebGLColorBuffer(a),depth:new V.WebGLDepthBuffer(a,this),stencil:new V.WebGLStencilBuffer(a,this)};var f=a.getParameter(a.MAX_VERTEX_ATTRIBS),g=new Uint8Array(f),k=new Uint8Array(f),
l=new Uint8Array(f),m={},n=null,q=null,p=null,t=null,r=null,u=null,v=null,z=null,w=!1,A=null,y=null,C=null,D=null,G=null,E=null,F=a.getParameter(a.MAX_TEXTURE_IMAGE_UNITS),B=null,H={},K=new V.Vector4,M=new V.Vector4,R={};R[a.TEXTURE_2D]=d(a.TEXTURE_2D,a.TEXTURE_2D,1);R[a.TEXTURE_CUBE_MAP]=d(a.TEXTURE_CUBE_MAP,a.TEXTURE_CUBE_MAP_POSITIVE_X,6);this.init=function(){this.clearColor(0,0,0,1);this.clearDepth(1);this.clearStencil(0);this.enable(a.DEPTH_TEST);this.setDepthFunc(V.LessEqualDepth);this.setFlipSided(!1);
this.setCullFace(V.CullFaceBack);this.enable(a.CULL_FACE);this.enable(a.BLEND);this.setBlending(V.NormalBlending)};this.initAttributes=function(){for(var a=0,b=g.length;a<b;a++)g[a]=0};this.enableAttribute=function(c){g[c]=1;0===k[c]&&(a.enableVertexAttribArray(c),k[c]=1);0!==l[c]&&(b.get("ANGLE_instanced_arrays").vertexAttribDivisorANGLE(c,0),l[c]=0)};this.enableAttributeAndDivisor=function(b,c,d){g[b]=1;0===k[b]&&(a.enableVertexAttribArray(b),k[b]=1);l[b]!==c&&(d.vertexAttribDivisorANGLE(b,c),l[b]=
c)};this.disableUnusedAttributes=function(){for(var b=0,c=k.length;b!==c;++b)k[b]!==g[b]&&(a.disableVertexAttribArray(b),k[b]=0)};this.enable=function(b){!0!==m[b]&&(a.enable(b),m[b]=!0)};this.disable=function(b){!1!==m[b]&&(a.disable(b),m[b]=!1)};this.getCompressedTextureFormats=function(){if(null===n&&(n=[],b.get("WEBGL_compressed_texture_pvrtc")||b.get("WEBGL_compressed_texture_s3tc")||b.get("WEBGL_compressed_texture_etc1")))for(var c=a.getParameter(a.COMPRESSED_TEXTURE_FORMATS),d=0;d<c.length;d++)n.push(c[d]);
return n};this.setBlending=function(b,d,e,f,g,k,l,m){if(b!==V.NoBlending){this.enable(a.BLEND);if(b!==q||m!==w)b===V.AdditiveBlending?m?(a.blendEquationSeparate(a.FUNC_ADD,a.FUNC_ADD),a.blendFuncSeparate(a.ONE,a.ONE,a.ONE,a.ONE)):(a.blendEquation(a.FUNC_ADD),a.blendFunc(a.SRC_ALPHA,a.ONE)):b===V.SubtractiveBlending?m?(a.blendEquationSeparate(a.FUNC_ADD,a.FUNC_ADD),a.blendFuncSeparate(a.ZERO,a.ZERO,a.ONE_MINUS_SRC_COLOR,a.ONE_MINUS_SRC_ALPHA)):(a.blendEquation(a.FUNC_ADD),a.blendFunc(a.ZERO,a.ONE_MINUS_SRC_COLOR)):
b===V.MultiplyBlending?m?(a.blendEquationSeparate(a.FUNC_ADD,a.FUNC_ADD),a.blendFuncSeparate(a.ZERO,a.SRC_COLOR,a.ZERO,a.SRC_ALPHA)):(a.blendEquation(a.FUNC_ADD),a.blendFunc(a.ZERO,a.SRC_COLOR)):m?(a.blendEquationSeparate(a.FUNC_ADD,a.FUNC_ADD),a.blendFuncSeparate(a.ONE,a.ONE_MINUS_SRC_ALPHA,a.ONE,a.ONE_MINUS_SRC_ALPHA)):(a.blendEquationSeparate(a.FUNC_ADD,a.FUNC_ADD),a.blendFuncSeparate(a.SRC_ALPHA,a.ONE_MINUS_SRC_ALPHA,a.ONE,a.ONE_MINUS_SRC_ALPHA)),q=b,w=m;if(b===V.CustomBlending){g=g||d;k=k||e;
l=l||f;if(d!==p||g!==u)a.blendEquationSeparate(c(d),c(g)),p=d,u=g;if(e!==t||f!==r||k!==v||l!==z)a.blendFuncSeparate(c(e),c(f),c(k),c(l)),t=e,r=f,v=k,z=l}else z=v=u=r=t=p=null}else this.disable(a.BLEND),q=b};this.setColorWrite=function(a){this.buffers.color.setMask(a)};this.setDepthTest=function(a){this.buffers.depth.setTest(a)};this.setDepthWrite=function(a){this.buffers.depth.setMask(a)};this.setDepthFunc=function(a){this.buffers.depth.setFunc(a)};this.setStencilTest=function(a){this.buffers.stencil.setTest(a)};
this.setStencilWrite=function(a){this.buffers.stencil.setMask(a)};this.setStencilFunc=function(a,b,c){this.buffers.stencil.setFunc(a,b,c)};this.setStencilOp=function(a,b,c){this.buffers.stencil.setOp(a,b,c)};this.setFlipSided=function(b){A!==b&&(b?a.frontFace(a.CW):a.frontFace(a.CCW),A=b)};this.setCullFace=function(b){b!==V.CullFaceNone?(this.enable(a.CULL_FACE),b!==y&&(b===V.CullFaceBack?a.cullFace(a.BACK):b===V.CullFaceFront?a.cullFace(a.FRONT):a.cullFace(a.FRONT_AND_BACK))):this.disable(a.CULL_FACE);
y=b};this.setLineWidth=function(b){b!==C&&(a.lineWidth(b),C=b)};this.setPolygonOffset=function(b,c,d){if(b){if(this.enable(a.POLYGON_OFFSET_FILL),D!==c||G!==d)a.polygonOffset(c,d),D=c,G=d}else this.disable(a.POLYGON_OFFSET_FILL)};this.getScissorTest=function(){return E};this.setScissorTest=function(b){(E=b)?this.enable(a.SCISSOR_TEST):this.disable(a.SCISSOR_TEST)};this.activeTexture=function(b){void 0===b&&(b=a.TEXTURE0+F-1);B!==b&&(a.activeTexture(b),B=b)};this.bindTexture=function(b,c){null===B&&
e.activeTexture();var d=H[B];void 0===d&&(d={type:void 0,texture:void 0},H[B]=d);if(d.type!==b||d.texture!==c)a.bindTexture(b,c||R[b]),d.type=b,d.texture=c};this.compressedTexImage2D=function(){try{a.compressedTexImage2D.apply(a,arguments)}catch(L){console.error(L)}};this.texImage2D=function(){try{a.texImage2D.apply(a,arguments)}catch(L){console.error(L)}};this.clearColor=function(a,b,c,d){this.buffers.color.setClear(a,b,c,d)};this.clearDepth=function(a){this.buffers.depth.setClear(a)};this.clearStencil=
function(a){this.buffers.stencil.setClear(a)};this.scissor=function(b){!1===K.equals(b)&&(a.scissor(b.x,b.y,b.z,b.w),K.copy(b))};this.viewport=function(b){!1===M.equals(b)&&(a.viewport(b.x,b.y,b.z,b.w),M.copy(b))};this.reset=function(){for(var b=0;b<k.length;b++)1===k[b]&&(a.disableVertexAttribArray(b),k[b]=0);m={};B=n=null;H={};y=A=q=null;this.buffers.color.reset();this.buffers.depth.reset();this.buffers.stencil.reset()}};
V.WebGLColorBuffer=function(a){var b=!1,c=new V.Vector4,d=null,e=new V.Vector4;this.setMask=function(c){d===c||b||(a.colorMask(c,c,c,c),d=c)};this.setLocked=function(a){b=a};this.setClear=function(b,d,k,l){c.set(b,d,k,l);!1===e.equals(c)&&(a.clearColor(b,d,k,l),e.copy(c))};this.reset=function(){b=!1;d=null;e=new V.Vector4}};
V.WebGLDepthBuffer=function(a,b){var c=!1,d=null,e=null,f=null;this.setTest=function(c){c?b.enable(a.DEPTH_TEST):b.disable(a.DEPTH_TEST)};this.setMask=function(b){d===b||c||(a.depthMask(b),d=b)};this.setFunc=function(b){if(e!==b){if(b)switch(b){case V.NeverDepth:a.depthFunc(a.NEVER);break;case V.AlwaysDepth:a.depthFunc(a.ALWAYS);break;case V.LessDepth:a.depthFunc(a.LESS);break;case V.LessEqualDepth:a.depthFunc(a.LEQUAL);break;case V.EqualDepth:a.depthFunc(a.EQUAL);break;case V.GreaterEqualDepth:a.depthFunc(a.GEQUAL);
break;case V.GreaterDepth:a.depthFunc(a.GREATER);break;case V.NotEqualDepth:a.depthFunc(a.NOTEQUAL);break;default:a.depthFunc(a.LEQUAL)}else a.depthFunc(a.LEQUAL);e=b}};this.setLocked=function(a){c=a};this.setClear=function(b){f!==b&&(a.clearDepth(b),f=b)};this.reset=function(){c=!1;f=e=d=null}};
V.WebGLStencilBuffer=function(a,b){var c=!1,d=null,e=null,f=null,g=null,k=null,l=null,m=null,n=null;this.setTest=function(c){c?b.enable(a.STENCIL_TEST):b.disable(a.STENCIL_TEST)};this.setMask=function(b){d===b||c||(a.stencilMask(b),d=b)};this.setFunc=function(b,c,d){if(e!==b||f!==c||g!==d)a.stencilFunc(b,c,d),e=b,f=c,g=d};this.setOp=function(b,c,d){if(k!==b||l!==c||m!==d)a.stencilOp(b,c,d),k=b,l=c,m=d};this.setLocked=function(a){c=a};this.setClear=function(b){n!==b&&(a.clearStencil(b),n=b)};this.reset=
function(){c=!1;n=m=l=k=g=f=e=d=null}};
V.WebGLUniforms=function(){function a(a,e,f){this.seq=[];this.map={};this.renderer=f;f=a.getProgramParameter(e,a.ACTIVE_UNIFORMS);for(var g=0;g!==f;++g){var k=a.getActiveUniform(e,g),l=k;k=a.getUniformLocation(e,k.name);var m=this,n=l.name,p=n.length;for(O.lastIndex=0;;){var q=O.exec(n),r=O.lastIndex,t=q[1],u=q[3];"]"===q[2]&&(t|=0);if(void 0===u||"["===u&&r+2===p){n=m;l=void 0===u?new d(t,l,k):new c(t,l,k);n.seq.push(l);n.map[l.id]=l;break}else u=m.map[t],void 0===u&&(u=new b(t),t=m,m=u,t.seq.push(m),
t.map[m.id]=m),m=u}}}function b(a){this.id=a;this.seq=[];this.map={}}function c(a,b,c){this.id=a;this.addr=c;this.size=b.size;this.setValue=e(b.type)}function d(a,b,c){this.id=a;this.addr=c;this.setValue=u(b.type)}function e(a){switch(a){case 5126:return r;case 35664:return p;case 35665:return q;case 35666:return n;case 35674:return m;case 35675:return l;case 35676:return k;case 35678:return g;case 35680:return f;case 5124:case 35670:return t;case 35667:case 35671:return w;case 35668:case 35672:return z;
case 35669:case 35673:return v}}function f(a,b,c){var d=b.length,e=M(c,d);a.uniform1iv(this.addr,e);for(a=0;a!==d;++a){var f=b[a];f&&c.setTextureCube(f,e[a])}}function g(a,b,c){var d=b.length,e=M(c,d);a.uniform1iv(this.addr,e);for(a=0;a!==d;++a){var f=b[a];f&&c.setTexture2D(f,e[a])}}function k(a,b){a.uniformMatrix4fv(this.addr,!1,R(b,this.size,16))}function l(a,b){a.uniformMatrix3fv(this.addr,!1,R(b,this.size,9))}function m(a,b){a.uniformMatrix2fv(this.addr,!1,R(b,this.size,4))}function n(a,b){a.uniform4fv(this.addr,
R(b,this.size,4))}function q(a,b){a.uniform3fv(this.addr,R(b,this.size,3))}function p(a,b){a.uniform2fv(this.addr,R(b,this.size,2))}function t(a,b){a.uniform1iv(this.addr,b)}function r(a,b){a.uniform1fv(this.addr,b)}function u(a){switch(a){case 5126:return K;case 35664:return B;case 35665:return F;case 35666:return E;case 35674:return G;case 35675:return D;case 35676:return C;case 35678:return y;case 35680:return A;case 5124:case 35670:return H;case 35667:case 35671:return w;case 35668:case 35672:return z;
case 35669:case 35673:return v}}function v(a,b){a.uniform4iv(this.addr,b)}function z(a,b){a.uniform3iv(this.addr,b)}function w(a,b){a.uniform2iv(this.addr,b)}function A(a,b,c){var d=c.allocTextureUnit();a.uniform1i(this.addr,d);b&&c.setTextureCube(b,d)}function y(a,b,c){var d=c.allocTextureUnit();a.uniform1i(this.addr,d);b&&c.setTexture2D(b,d)}function C(a,b){a.uniformMatrix4fv(this.addr,!1,b.elements||b)}function D(a,b){a.uniformMatrix3fv(this.addr,!1,b.elements||b)}function G(a,b){a.uniformMatrix2fv(this.addr,
!1,b.elements||b)}function E(a,b){void 0===b.x?a.uniform4fv(this.addr,b):a.uniform4f(this.addr,b.x,b.y,b.z,b.w)}function F(a,b){void 0!==b.x?a.uniform3f(this.addr,b.x,b.y,b.z):void 0!==b.r?a.uniform3f(this.addr,b.r,b.g,b.b):a.uniform3fv(this.addr,b)}function B(a,b){void 0===b.x?a.uniform2fv(this.addr,b):a.uniform2f(this.addr,b.x,b.y)}function H(a,b){a.uniform1i(this.addr,b)}function K(a,b){a.uniform1f(this.addr,b)}function M(a,b){var c=Q[b];void 0===c&&(c=new Int32Array(b),Q[b]=c);for(var d=0;d!==
b;++d)c[d]=a.allocTextureUnit();return c}function R(a,b,c){var d=a[0];if(0>=d||0<d)return a;var e=b*c,f=L[e];void 0===f&&(f=new Float32Array(e),L[e]=f);if(0!==b)for(d.toArray(f,0),d=1,e=0;d!==b;++d)e+=c,a[d].toArray(f,e);return f}var L=[],Q=[];b.prototype.setValue=function(a,b){for(var c=this.seq,d=0,e=c.length;d!==e;++d){var f=c[d];f.setValue(a,b[f.id])}};var O=/([\w\d_]+)(\])?(\[|\.)?/g;a.prototype.setValue=function(a,b,c){b=this.map[b];void 0!==b&&b.setValue(a,c,this.renderer)};a.prototype.set=
function(a,b,c){var d=this.map[c];void 0!==d&&d.setValue(a,b[c],this.renderer)};a.prototype.setOptional=function(a,b,c){b=b[c];void 0!==b&&this.setValue(a,c,b)};a.upload=function(a,b,c,d){for(var e=0,f=b.length;e!==f;++e){var g=b[e],k=c[g.id];!1!==k.needsUpdate&&g.setValue(a,k.value,d)}};a.seqWithValue=function(a,b){for(var c=[],d=0,e=a.length;d!==e;++d){var f=a[d];f.id in b&&c.push(f)}return c};a.splitDynamic=function(a,b){for(var c=null,d=a.length,e=0,f=0;f!==d;++f){var g=a[f],k=b[g.id];k&&!0===
k.dynamic?(null===c&&(c=[]),c.push(g)):(e<f&&(a[e]=g),++e)}e<d&&(a.length=e);return c};a.evalDynamic=function(a,b,c,d){for(var e=0,f=a.length;e!==f;++e){var g=b[a[e].id],k=g.onUpdateCallback;void 0!==k&&k.call(g,c,d)}};return a}();
V.LensFlarePlugin=function(a,b){var c,d,e,f,g,k,l,m,n,q,p=a.context,t=a.state,r,u,v,z,w,A;this.render=function(y,C,D){if(0!==b.length){y=new V.Vector3;var G=D.w/D.z,E=.5*D.z,F=.5*D.w,B=16/D.w,H=new V.Vector2(B*G,B),K=new V.Vector3(1,1,0),M=new V.Vector2(1,1),R=new V.Box2;R.min.set(0,0);R.max.set(D.z-16,D.w-16);if(void 0===z){B=new Float32Array([-1,-1,0,0,1,-1,1,0,1,1,1,1,-1,1,0,1]);var L=new Uint16Array([0,1,2,0,2,3]);r=p.createBuffer();u=p.createBuffer();p.bindBuffer(p.ARRAY_BUFFER,r);p.bufferData(p.ARRAY_BUFFER,
B,p.STATIC_DRAW);p.bindBuffer(p.ELEMENT_ARRAY_BUFFER,u);p.bufferData(p.ELEMENT_ARRAY_BUFFER,L,p.STATIC_DRAW);w=p.createTexture();A=p.createTexture();t.bindTexture(p.TEXTURE_2D,w);p.texImage2D(p.TEXTURE_2D,0,p.RGB,16,16,0,p.RGB,p.UNSIGNED_BYTE,null);p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_S,p.CLAMP_TO_EDGE);p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_T,p.CLAMP_TO_EDGE);p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MAG_FILTER,p.NEAREST);p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MIN_FILTER,p.NEAREST);t.bindTexture(p.TEXTURE_2D,
A);p.texImage2D(p.TEXTURE_2D,0,p.RGBA,16,16,0,p.RGBA,p.UNSIGNED_BYTE,null);p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_S,p.CLAMP_TO_EDGE);p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_T,p.CLAMP_TO_EDGE);p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MAG_FILTER,p.NEAREST);p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MIN_FILTER,p.NEAREST);B=v={vertexShader:"uniform lowp int renderType;\nuniform vec3 screenPosition;\nuniform vec2 scale;\nuniform float rotation;\nuniform sampler2D occlusionMap;\nattribute vec2 position;\nattribute vec2 uv;\nvarying vec2 vUV;\nvarying float vVisibility;\nvoid main() {\nvUV \x3d uv;\nvec2 pos \x3d position;\nif ( renderType \x3d\x3d 2 ) {\nvec4 visibility \x3d texture2D( occlusionMap, vec2( 0.1, 0.1 ) );\nvisibility +\x3d texture2D( occlusionMap, vec2( 0.5, 0.1 ) );\nvisibility +\x3d texture2D( occlusionMap, vec2( 0.9, 0.1 ) );\nvisibility +\x3d texture2D( occlusionMap, vec2( 0.9, 0.5 ) );\nvisibility +\x3d texture2D( occlusionMap, vec2( 0.9, 0.9 ) );\nvisibility +\x3d texture2D( occlusionMap, vec2( 0.5, 0.9 ) );\nvisibility +\x3d texture2D( occlusionMap, vec2( 0.1, 0.9 ) );\nvisibility +\x3d texture2D( occlusionMap, vec2( 0.1, 0.5 ) );\nvisibility +\x3d texture2D( occlusionMap, vec2( 0.5, 0.5 ) );\nvVisibility \x3d        visibility.r / 9.0;\nvVisibility *\x3d 1.0 - visibility.g / 9.0;\nvVisibility *\x3d       visibility.b / 9.0;\nvVisibility *\x3d 1.0 - visibility.a / 9.0;\npos.x \x3d cos( rotation ) * position.x - sin( rotation ) * position.y;\npos.y \x3d sin( rotation ) * position.x + cos( rotation ) * position.y;\n}\ngl_Position \x3d vec4( ( pos * scale + screenPosition.xy ).xy, screenPosition.z, 1.0 );\n}",
fragmentShader:"uniform lowp int renderType;\nuniform sampler2D map;\nuniform float opacity;\nuniform vec3 color;\nvarying vec2 vUV;\nvarying float vVisibility;\nvoid main() {\nif ( renderType \x3d\x3d 0 ) {\ngl_FragColor \x3d vec4( 1.0, 0.0, 1.0, 0.0 );\n} else if ( renderType \x3d\x3d 1 ) {\ngl_FragColor \x3d texture2D( map, vUV );\n} else {\nvec4 texture \x3d texture2D( map, vUV );\ntexture.a *\x3d opacity * vVisibility;\ngl_FragColor \x3d texture;\ngl_FragColor.rgb *\x3d color;\n}\n}"};L=p.createProgram();
var Q=p.createShader(p.FRAGMENT_SHADER),O=p.createShader(p.VERTEX_SHADER),J="precision "+a.getPrecision()+" float;\n";p.shaderSource(Q,J+B.fragmentShader);p.shaderSource(O,J+B.vertexShader);p.compileShader(Q);p.compileShader(O);p.attachShader(L,Q);p.attachShader(L,O);p.linkProgram(L);z=L;n=p.getAttribLocation(z,"position");q=p.getAttribLocation(z,"uv");c=p.getUniformLocation(z,"renderType");d=p.getUniformLocation(z,"map");e=p.getUniformLocation(z,"occlusionMap");f=p.getUniformLocation(z,"opacity");
g=p.getUniformLocation(z,"color");k=p.getUniformLocation(z,"scale");l=p.getUniformLocation(z,"rotation");m=p.getUniformLocation(z,"screenPosition")}p.useProgram(z);t.initAttributes();t.enableAttribute(n);t.enableAttribute(q);t.disableUnusedAttributes();p.uniform1i(e,0);p.uniform1i(d,1);p.bindBuffer(p.ARRAY_BUFFER,r);p.vertexAttribPointer(n,2,p.FLOAT,!1,16,0);p.vertexAttribPointer(q,2,p.FLOAT,!1,16,8);p.bindBuffer(p.ELEMENT_ARRAY_BUFFER,u);t.disable(p.CULL_FACE);t.setDepthWrite(!1);L=0;for(Q=b.length;L<
Q;L++)if(B=16/D.w,H.set(B*G,B),O=b[L],y.set(O.matrixWorld.elements[12],O.matrixWorld.elements[13],O.matrixWorld.elements[14]),y.applyMatrix4(C.matrixWorldInverse),Sc(y,C.projectionMatrix),K.copy(y),M.x=D.x+K.x*E+E-8,M.y=D.y+K.y*F+F-8,!0===R.containsPoint(M)){t.activeTexture(p.TEXTURE0);t.bindTexture(p.TEXTURE_2D,null);t.activeTexture(p.TEXTURE1);t.bindTexture(p.TEXTURE_2D,w);p.copyTexImage2D(p.TEXTURE_2D,0,p.RGB,M.x,M.y,16,16,0);p.uniform1i(c,0);p.uniform2f(k,H.x,H.y);p.uniform3f(m,K.x,K.y,K.z);t.disable(p.BLEND);
t.enable(p.DEPTH_TEST);p.drawElements(p.TRIANGLES,6,p.UNSIGNED_SHORT,0);t.activeTexture(p.TEXTURE0);t.bindTexture(p.TEXTURE_2D,A);p.copyTexImage2D(p.TEXTURE_2D,0,p.RGBA,M.x,M.y,16,16,0);p.uniform1i(c,1);t.disable(p.DEPTH_TEST);t.activeTexture(p.TEXTURE1);t.bindTexture(p.TEXTURE_2D,w);p.drawElements(p.TRIANGLES,6,p.UNSIGNED_SHORT,0);O.positionScreen.copy(K);O.customUpdateCallback?O.customUpdateCallback(O):O.updateLensFlares();p.uniform1i(c,2);t.enable(p.BLEND);J=0;for(var S=O.lensFlares.length;J<S;J++){var P=
O.lensFlares[J];.001<P.opacity&&.001<P.scale&&(K.x=P.x,K.y=P.y,K.z=P.z,B=P.size*P.scale/D.w,H.x=B*G,H.y=B,p.uniform3f(m,K.x,K.y,K.z),p.uniform2f(k,H.x,H.y),p.uniform1f(l,P.rotation),p.uniform1f(f,P.opacity),p.uniform3f(g,P.color.r,P.color.g,P.color.b),t.setBlending(P.blending,P.blendEquation,P.blendSrc,P.blendDst),a.setTexture2D(P.texture,1),p.drawElements(p.TRIANGLES,6,p.UNSIGNED_SHORT,0))}}t.enable(p.CULL_FACE);t.enable(p.DEPTH_TEST);t.setDepthWrite(!0);a.resetGLState()}}};
V.SpritePlugin=function(a,b){var c,d,e,f,g,k,l,m,n,q,p,t,r,u,v,z,w;function A(a,b){return a.renderOrder!==b.renderOrder?a.renderOrder-b.renderOrder:a.z!==b.z?b.z-a.z:b.id-a.id}var y=a.context,C=a.state,D,G,E,F,B=new V.Vector3,H=new V.Quaternion,K=new V.Vector3;this.render=function(M,R){if(0!==b.length){if(void 0===E){var L=new Float32Array([-.5,-.5,0,0,.5,-.5,1,0,.5,.5,1,1,-.5,.5,0,1]),Q=new Uint16Array([0,1,2,0,2,3]);D=y.createBuffer();G=y.createBuffer();y.bindBuffer(y.ARRAY_BUFFER,D);y.bufferData(y.ARRAY_BUFFER,
L,y.STATIC_DRAW);y.bindBuffer(y.ELEMENT_ARRAY_BUFFER,G);y.bufferData(y.ELEMENT_ARRAY_BUFFER,Q,y.STATIC_DRAW);L=y.createProgram();Q=y.createShader(y.VERTEX_SHADER);var O=y.createShader(y.FRAGMENT_SHADER);y.shaderSource(Q,["precision "+a.getPrecision()+" float;","uniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\nuniform float rotation;\nuniform vec2 scale;\nuniform vec2 uvOffset;\nuniform vec2 uvScale;\nattribute vec2 position;\nattribute vec2 uv;\nvarying vec2 vUV;\nvoid main() {\nvUV \x3d uvOffset + uv * uvScale;\nvec2 alignedPosition \x3d position * scale;\nvec2 rotatedPosition;\nrotatedPosition.x \x3d cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\nrotatedPosition.y \x3d sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\nvec4 finalPosition;\nfinalPosition \x3d modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\nfinalPosition.xy +\x3d rotatedPosition;\nfinalPosition \x3d projectionMatrix * finalPosition;\ngl_Position \x3d finalPosition;\n}"].join("\n"));
y.shaderSource(O,["precision "+a.getPrecision()+" float;","uniform vec3 color;\nuniform sampler2D map;\nuniform float opacity;\nuniform int fogType;\nuniform vec3 fogColor;\nuniform float fogDensity;\nuniform float fogNear;\nuniform float fogFar;\nuniform float alphaTest;\nvarying vec2 vUV;\nvoid main() {\nvec4 texture \x3d texture2D( map, vUV );\nif ( texture.a \x3c alphaTest ) discard;\ngl_FragColor \x3d vec4( color * texture.xyz, texture.a * opacity );\nif ( fogType \x3e 0 ) {\nfloat depth \x3d gl_FragCoord.z / gl_FragCoord.w;\nfloat fogFactor \x3d 0.0;\nif ( fogType \x3d\x3d 1 ) {\nfogFactor \x3d smoothstep( fogNear, fogFar, depth );\n} else {\nconst float LOG2 \x3d 1.442695;\nfogFactor \x3d exp2( - fogDensity * fogDensity * depth * depth * LOG2 );\nfogFactor \x3d 1.0 - clamp( fogFactor, 0.0, 1.0 );\n}\ngl_FragColor \x3d mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );\n}\n}"].join("\n"));
y.compileShader(Q);y.compileShader(O);y.attachShader(L,Q);y.attachShader(L,O);y.linkProgram(L);E=L;z=y.getAttribLocation(E,"position");w=y.getAttribLocation(E,"uv");c=y.getUniformLocation(E,"uvOffset");d=y.getUniformLocation(E,"uvScale");e=y.getUniformLocation(E,"rotation");f=y.getUniformLocation(E,"scale");g=y.getUniformLocation(E,"color");k=y.getUniformLocation(E,"map");l=y.getUniformLocation(E,"opacity");m=y.getUniformLocation(E,"modelViewMatrix");n=y.getUniformLocation(E,"projectionMatrix");q=
y.getUniformLocation(E,"fogType");p=y.getUniformLocation(E,"fogDensity");t=y.getUniformLocation(E,"fogNear");r=y.getUniformLocation(E,"fogFar");u=y.getUniformLocation(E,"fogColor");v=y.getUniformLocation(E,"alphaTest");L=document.createElement("canvas");L.width=8;L.height=8;Q=L.getContext("2d");Q.fillStyle="white";Q.fillRect(0,0,8,8);F=new V.Texture(L);F.needsUpdate=!0}y.useProgram(E);C.initAttributes();C.enableAttribute(z);C.enableAttribute(w);C.disableUnusedAttributes();C.disable(y.CULL_FACE);C.enable(y.BLEND);
y.bindBuffer(y.ARRAY_BUFFER,D);y.vertexAttribPointer(z,2,y.FLOAT,!1,16,0);y.vertexAttribPointer(w,2,y.FLOAT,!1,16,8);y.bindBuffer(y.ELEMENT_ARRAY_BUFFER,G);y.uniformMatrix4fv(n,!1,R.projectionMatrix.elements);C.activeTexture(y.TEXTURE0);y.uniform1i(k,0);Q=L=0;(O=M.fog)?(y.uniform3f(u,O.color.r,O.color.g,O.color.b),O instanceof V.Fog?(y.uniform1f(t,O.near),y.uniform1f(r,O.far),y.uniform1i(q,1),Q=L=1):O instanceof V.FogExp2&&(y.uniform1f(p,O.density),y.uniform1i(q,2),Q=L=2)):(y.uniform1i(q,0),Q=L=0);
O=0;for(var J=b.length;O<J;O++){var S=b[O];Rc(S.modelViewMatrix,R.matrixWorldInverse,S.matrixWorld);S.z=-S.modelViewMatrix.elements[14]}b.sort(A);R=[];O=0;for(J=b.length;O<J;O++){S=b[O];var P=S.material;y.uniform1f(v,P.alphaTest);y.uniformMatrix4fv(m,!1,S.modelViewMatrix.elements);S.matrixWorld.decompose(B,H,K);R[0]=K.x;R[1]=K.y;S=0;M.fog&&P.fog&&(S=Q);L!==S&&(y.uniform1i(q,S),L=S);null!==P.map?(y.uniform2f(c,P.map.offset.x,P.map.offset.y),y.uniform2f(d,P.map.repeat.x,P.map.repeat.y)):(y.uniform2f(c,
0,0),y.uniform2f(d,1,1));y.uniform1f(l,P.opacity);y.uniform3f(g,P.color.r,P.color.g,P.color.b);y.uniform1f(e,P.rotation);y.uniform2fv(f,R);C.setBlending(P.blending,P.blendEquation,P.blendSrc,P.blendDst);C.setDepthTest(P.depthTest);C.setDepthWrite(P.depthWrite);P.map?a.setTexture2D(P.map,0):a.setTexture2D(F,0);y.drawElements(y.TRIANGLES,6,y.UNSIGNED_SHORT,0)}C.enable(y.CULL_FACE);a.resetGLState()}}};
Object.assign(V,{Face4:function(a,b,c,d,e,f,g){console.warn("THREE.Face4 has been removed. A THREE.Face3 will be created instead.");return new V.Face3(a,b,c,e,f,g)},LineStrip:0,LinePieces:1,MeshFaceMaterial:V.MultiMaterial,PointCloud:function(a,b){console.warn("THREE.PointCloud has been renamed to THREE.Points.");return new V.Points(a,b)},Particle:V.Sprite,ParticleSystem:function(a,b){console.warn("THREE.ParticleSystem has been renamed to THREE.Points.");return new V.Points(a,b)},PointCloudMaterial:function(a){console.warn("THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial.");
return new V.PointsMaterial(a)},ParticleBasicMaterial:function(a){console.warn("THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial.");return new V.PointsMaterial(a)},ParticleSystemMaterial:function(a){console.warn("THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial.");return new V.PointsMaterial(a)},Vertex:function(a,b,c){console.warn("THREE.Vertex has been removed. Use THREE.Vector3 instead.");return new V.Vector3(a,b,c)}});
Object.assign(V.Box2.prototype,{empty:function(){console.warn("THREE.Box2: .empty() has been renamed to .isEmpty().");return this.isEmpty()},isIntersectionBox:function(a){console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox().");return this.intersectsBox(a)}});
Object.assign(V.Box3.prototype,{empty:function(){console.warn("THREE.Box3: .empty() has been renamed to .isEmpty().");return this.isEmpty()},isIntersectionBox:function(a){console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox().");return this.intersectsBox(a)},isIntersectionSphere:function(a){console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere().");return this.intersectsSphere(a)}});
Object.assign(V.Matrix3.prototype,{multiplyVector3:function(a){console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead.");return Wc(a,this)},multiplyVector3Array:function(a){console.warn("THREE.Matrix3: .multiplyVector3Array() has been renamed. Use matrix.applyToVector3Array( array ) instead.");return this.applyToVector3Array(a)}});
Object.assign(V.Matrix4.prototype,{extractPosition:function(a){console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition().");var b=this.elements;a=a.elements;b[12]=a[12];b[13]=a[13];b[14]=a[14];return this},setRotationFromQuaternion:function(a){console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion().");return Xc(this,a)},multiplyVector3:function(a){console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) or vector.applyProjection( matrix ) instead.");
return Sc(a,this)},multiplyVector4:function(a){console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead.");return a.applyMatrix4(this)},multiplyVector3Array:function(a){console.warn("THREE.Matrix4: .multiplyVector3Array() has been renamed. Use matrix.applyToVector3Array( array ) instead.");return this.applyToVector3Array(a)},rotateAxis:function(a){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead.");
Vc(a,this)},crossVector:function(a){console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead.");return a.applyMatrix4(this)},translate:function(){console.error("THREE.Matrix4: .translate() has been removed.")},rotateX:function(){console.error("THREE.Matrix4: .rotateX() has been removed.")},rotateY:function(){console.error("THREE.Matrix4: .rotateY() has been removed.")},rotateZ:function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")},rotateByAxis:function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")}});
Object.assign(V.Plane.prototype,{isIntersectionLine:function(a){console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine().");var b=this.distanceToPoint(a.start);a=this.distanceToPoint(a.end);return 0>b&&0<a||0>a&&0<b}});Object.assign(V.Quaternion.prototype,{multiplyVector3:function(a){console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead.");return Qc(a,this)}});
Object.assign(V.Ray.prototype,{isIntersectionBox:function(a){console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox().");return this.intersectsBox(a)},isIntersectionPlane:function(a){console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane().");return this.intersectsPlane(a)},isIntersectionSphere:function(a){console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere().");return this.intersectsSphere(a)}});
Object.assign(V.Vector3.prototype,{setEulerFromRotationMatrix:function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},setEulerFromQuaternion:function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},getPositionFromMatrix:function(a){console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition().");return Uc(this,a)},
getScaleFromMatrix:function(a){console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale().");var b=Tc(this,a,0).length(),c=Tc(this,a,1).length();a=Tc(this,a,2).length();this.x=b;this.y=c;this.z=a;return this},getColumnFromMatrix:function(a,b){console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn().");return Tc(this,b,a)}});
Object.assign(V.Object3D.prototype,{getChildByName:function(a){console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName().");return this.getObjectByName(a)},renderDepth:function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},translate:function(a,b){console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead.");return this.translateOnAxis(b,a)}});
Object.defineProperties(V.Object3D.prototype,{eulerOrder:{get:function(){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order.");return this.rotation.order},set:function(a){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order.");this.rotation.order=a}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}});
Object.defineProperties(V.LOD.prototype,{objects:{get:function(){console.warn("THREE.LOD: .objects has been renamed to .levels.");return this.levels}}});V.PerspectiveCamera.prototype.setLens=function(a,b){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup.");void 0!==b&&(this.filmGauge=b);this.setFocalLength(a)};
Object.defineProperties(V.Light.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(a){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov.");this.shadow.camera.fov=a}},shadowCameraLeft:{set:function(a){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left.");this.shadow.camera.left=a}},shadowCameraRight:{set:function(a){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right.");
this.shadow.camera.right=a}},shadowCameraTop:{set:function(a){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top.");this.shadow.camera.top=a}},shadowCameraBottom:{set:function(a){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom.");this.shadow.camera.bottom=a}},shadowCameraNear:{set:function(a){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near.");this.shadow.camera.near=a}},shadowCameraFar:{set:function(a){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far.");
this.shadow.camera.far=a}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(a){console.warn("THREE.Light: .shadowBias is now .shadow.bias.");this.shadow.bias=a}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(a){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width.");
this.shadow.mapSize.width=a}},shadowMapHeight:{set:function(a){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height.");this.shadow.mapSize.height=a}}});Object.defineProperties(V.BufferAttribute.prototype,{length:{get:function(){console.warn("THREE.BufferAttribute: .length has been deprecated. Please use .count.");return this.array.length}}});
Object.assign(V.BufferGeometry.prototype,{addIndex:function(a){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex().");this.setIndex(a)},addDrawCall:function(a,b,c){void 0!==c&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset.");console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup().");this.addGroup(a,b)},clearDrawCalls:function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups().");this.clearGroups()},
computeTangents:function(){console.warn("THREE.BufferGeometry: .computeTangents() has been removed.")},computeOffsets:function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")}});Object.defineProperties(V.BufferGeometry.prototype,{drawcalls:{get:function(){console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups.");return this.groups}},offsets:{get:function(){console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups.");return this.groups}}});
Object.defineProperties(V.Material.prototype,{wrapAround:{get:function(){console.warn("THREE."+this.type+": .wrapAround has been removed.")},set:function(){console.warn("THREE."+this.type+": .wrapAround has been removed.")}},wrapRGB:{get:function(){console.warn("THREE."+this.type+": .wrapRGB has been removed.");return new V.Color}}});
Object.defineProperties(V.MeshPhongMaterial.prototype,{metal:{get:function(){console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead.");return!1},set:function(){console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead")}}});
Object.defineProperties(V.ShaderMaterial.prototype,{derivatives:{get:function(){console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives.");return this.extensions.derivatives},set:function(a){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives.");this.extensions.derivatives=a}}});
V.EventDispatcher.prototype=Object.assign(Object.create({constructor:V.EventDispatcher,apply:function(a){console.warn("THREE.EventDispatcher: .apply is deprecated, just inherit or Object.assign the prototype to mix-in.");Object.assign(a,this)}}),V.EventDispatcher.prototype);
Object.assign(V.WebGLRenderer.prototype,{supportsFloatTextures:function(){console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' ).");return this.extensions.get("OES_texture_float")},supportsHalfFloatTextures:function(){console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' ).");return this.extensions.get("OES_texture_half_float")},supportsStandardDerivatives:function(){console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' ).");
return this.extensions.get("OES_standard_derivatives")},supportsCompressedTextureS3TC:function(){console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' ).");return this.extensions.get("WEBGL_compressed_texture_s3tc")},supportsCompressedTexturePVRTC:function(){console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' ).");return this.extensions.get("WEBGL_compressed_texture_pvrtc")},
supportsBlendMinMax:function(){console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' ).");return this.extensions.get("EXT_blend_minmax")},supportsVertexTextures:function(){return this.capabilities.vertexTextures},supportsInstancedArrays:function(){console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' ).");return this.extensions.get("ANGLE_instanced_arrays")},enableScissorTest:function(a){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest().");
this.setScissorTest(a)},initMaterial:function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},addPrePlugin:function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},addPostPlugin:function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},updateShadowMap:function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")}});
Object.defineProperties(V.WebGLRenderer.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(a){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled.");this.shadowMap.enabled=a}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(a){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type.");this.shadowMap.type=a}},shadowMapCullFace:{get:function(){return this.shadowMap.cullFace},set:function(a){console.warn("THREE.WebGLRenderer: .shadowMapCullFace is now .shadowMap.cullFace.");
this.shadowMap.cullFace=a}}});Object.defineProperties(V.WebGLShadowMap.prototype,{cullFace:{get:function(){return this.renderReverseSided?V.CullFaceFront:V.CullFaceBack},set:function(a){a=a!==V.CullFaceBack;console.warn("WebGLRenderer: .shadowMap.cullFace is deprecated. Set .shadowMap.renderReverseSided to "+a+".");this.renderReverseSided=a}}});
Object.defineProperties(V.WebGLRenderTarget.prototype,{wrapS:{get:function(){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS.");return this.texture.wrapS},set:function(a){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS.");this.texture.wrapS=a}},wrapT:{get:function(){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT.");return this.texture.wrapT},set:function(a){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT.");this.texture.wrapT=
a}},magFilter:{get:function(){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter.");return this.texture.magFilter},set:function(a){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter.");this.texture.magFilter=a}},minFilter:{get:function(){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter.");return this.texture.minFilter},set:function(a){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter.");this.texture.minFilter=
a}},anisotropy:{get:function(){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy.");return this.texture.anisotropy},set:function(a){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy.");this.texture.anisotropy=a}},offset:{get:function(){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset.");return this.texture.offset},set:function(a){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset.");this.texture.offset=
a}},repeat:{get:function(){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat.");return this.texture.repeat},set:function(a){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat.");this.texture.repeat=a}},format:{get:function(){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format.");return this.texture.format},set:function(a){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format.");this.texture.format=a}},type:{get:function(){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type.");
return this.texture.type},set:function(a){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type.");this.texture.type=a}},generateMipmaps:{get:function(){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps.");return this.texture.generateMipmaps},set:function(a){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps.");this.texture.generateMipmaps=a}}});
Object.assign(V.Audio.prototype,{load:function(a){console.warn("THREE.Audio: .load has been deprecated. Please use THREE.AudioLoader.");var b=this;(new V.AudioLoader).load(a,function(a){b.setBuffer(a)});return this}});Object.assign(V.AudioAnalyser.prototype,{getData:function(){console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData().");return this.getFrequencyData()}});
V.GeometryUtils={merge:function(a,b,c){console.warn("THREE.GeometryUtils: .merge() has been moved to Geometry. Use geometry.merge( geometry2, matrix, materialIndexOffset ) instead.");if(b instanceof V.Mesh){b.matrixAutoUpdate&&b.updateMatrix();var d=b.matrix;b=b.geometry}a.merge(b,d,c)},center:function(a){console.warn("THREE.GeometryUtils: .center() has been moved to Geometry. Use geometry.center() instead.");return a.center()}};
V.ImageUtils={crossOrigin:void 0,loadTexture:function(a,b,c,d){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");var e=new V.TextureLoader;e.setCrossOrigin(this.crossOrigin);a=e.load(a,c,void 0,d);b&&(a.mapping=b);return a},loadTextureCube:function(a,b,c,d){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");var e=new V.CubeTextureLoader;e.setCrossOrigin(this.crossOrigin);a=e.load(a,c,void 0,
d);b&&(a.mapping=b);return a},loadCompressedTexture:function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")},loadCompressedTextureCube:function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")}};
V.Projector=function(){console.error("THREE.Projector has been moved to /examples/js/renderers/Projector.js.");this.projectVector=function(a,b){console.warn("THREE.Projector: .projectVector() is now vector.project().");a.project(b)};this.unprojectVector=function(a,b){console.warn("THREE.Projector: .unprojectVector() is now vector.unproject().");a.unproject(b)};this.pickingRay=function(){console.error("THREE.Projector: .pickingRay() is now raycaster.setFromCamera().")}};
V.CanvasRenderer=function(){console.error("THREE.CanvasRenderer has been moved to /examples/js/renderers/CanvasRenderer.js");this.domElement=document.createElement("canvas");this.clear=function(){};this.render=function(){};this.setClearColor=function(){};this.setSize=function(){}};
V.CurveUtils={tangentQuadraticBezier:function(a,b,c,d){return 2*(1-a)*(c-b)+2*a*(d-c)},tangentCubicBezier:function(a,b,c,d,e){return-3*b*(1-a)*(1-a)+3*c*(1-a)*(1-a)-6*a*c*(1-a)+6*a*d*(1-a)-3*a*a*d+3*a*a*e},tangentSpline:function(a){return 6*a*a-6*a+(3*a*a-4*a+1)+(-6*a*a+6*a)+(3*a*a-2*a)},interpolate:function(a,b,c,d,e){a=.5*(c-a);d=.5*(d-b);var f=e*e;return(2*b-2*c+a+d)*e*f+(-3*b+3*c-2*a-d)*f+a*e+b}};
V.SceneUtils={createMultiMaterialObject:function(a,b){for(var c=new V.Group,d=0,e=b.length;d<e;d++)c.add(new V.Mesh(a,b[d]));return c},detach:function(a,b,c){a.applyMatrix(b.matrixWorld);b.remove(a);c.add(a)},attach:function(a,b,c){var d=new V.Matrix4;d.getInverse(c.matrixWorld);a.applyMatrix(d);b.remove(a);c.add(a)}};
V.ShapeUtils={area:function(a){for(var b=a.length,c=0,d=b-1,e=0;e<b;d=e++)c+=a[d].x*a[e].y-a[e].x*a[d].y;return.5*c},triangulate:function(a,b){var c=a.length;if(3>c)return null;var d=[],e=[],f=[],g;if(0<V.ShapeUtils.area(a))for(g=0;g<c;g++)e[g]=g;else for(g=0;g<c;g++)e[g]=c-1-g;var k=2*c;for(g=c-1;2<c;){if(0>=k--){console.warn("THREE.ShapeUtils: Unable to triangulate polygon! in triangulate()");break}var l=g;c<=l&&(l=0);g=l+1;c<=g&&(g=0);var m=g+1;c<=m&&(m=0);a:{var n;var q=a[e[l]].x;var p=a[e[l]].y;
var t=a[e[g]].x;var r=a[e[g]].y;var u=a[e[m]].x;var v=a[e[m]].y;if(Number.EPSILON>(t-q)*(v-p)-(r-p)*(u-q))var z=!1;else{var w=u-t;var A=v-r;var y=q-u;var C=p-v;var D=t-q;z=r-p;for(n=0;n<c;n++){var G=a[e[n]].x;var E=a[e[n]].y;if(!(G===q&&E===p||G===t&&E===r||G===u&&E===v)){var F=G-q;var B=E-p;var H=G-t;var K=E-r;G-=u;E-=v;K=w*K-A*H;B=D*B-z*F;G=y*E-C*G;if(K>=-Number.EPSILON&&G>=-Number.EPSILON&&B>=-Number.EPSILON){z=!1;break a}}}z=!0}}if(z){d.push([a[e[l]],a[e[g]],a[e[m]]]);f.push([e[l],e[g],e[m]]);
l=g;for(m=g+1;m<c;l++,m++)e[l]=e[m];c--;k=2*c}}return b?f:d},triangulateShape:function(a,b){function c(a,b,c){return a.x!==b.x?a.x<b.x?a.x<=c.x&&c.x<=b.x:b.x<=c.x&&c.x<=a.x:a.y<b.y?a.y<=c.y&&c.y<=b.y:b.y<=c.y&&c.y<=a.y}function d(a,b,d,e){var f=b.x-a.x,g=b.y-a.y,k=e.x-d.x,l=e.y-d.y,m=a.x-d.x,n=a.y-d.y,p=g*k-f*l,q=g*m-f*n;if(Math.abs(p)>Number.EPSILON){if(0<p){if(0>q||q>p)return[];k=l*m-k*n;if(0>k||k>p)return[]}else{if(0<q||q<p)return[];k=l*m-k*n;if(0<k||k<p)return[]}if(0===k)return 0!==q&&q!==p?[a]:
[];if(k===p)return 0!==q&&q!==p?[b]:[];if(0===q)return[d];if(q===p)return[e];d=k/p;return[{x:a.x+d*f,y:a.y+d*g}]}if(0!==q||l*m!==k*n)return[];g=0===f&&0===g;k=0===k&&0===l;if(g&&k)return a.x!==d.x||a.y!==d.y?[]:[a];if(g)return c(d,e,a)?[a]:[];if(k)return c(a,b,d)?[d]:[];0!==f?(a.x<b.x?(f=a,k=a.x,g=b,a=b.x):(f=b,k=b.x,g=a,a=a.x),d.x<e.x?(b=d,p=d.x,l=e,d=e.x):(b=e,p=e.x,l=d,d=d.x)):(a.y<b.y?(f=a,k=a.y,g=b,a=b.y):(f=b,k=b.y,g=a,a=a.y),d.y<e.y?(b=d,p=d.y,l=e,d=e.y):(b=e,p=e.y,l=d,d=d.y));return k<=p?
a<p?[]:a===p?[]:a<=d?[b,g]:[b,l]:k>d?[]:k===d?[]:a<=d?[f,g]:[f,l]}function e(a,b,c,d){var e=b.x-a.x,f=b.y-a.y;b=c.x-a.x;c=c.y-a.y;var g=d.x-a.x;d=d.y-a.y;a=e*c-f*b;e=e*d-f*g;return Math.abs(a)>Number.EPSILON?(b=g*c-d*b,0<a?0<=e&&0<=b:0<=e||0<=b):0<e}var f,g={},k=a.concat();var l=0;for(f=b.length;l<f;l++)Array.prototype.push.apply(k,b[l]);l=0;for(f=k.length;l<f;l++){var m=k[l].x+":"+k[l].y;void 0!==g[m]&&console.warn("THREE.Shape: Duplicate point",m);g[m]=l}l=function(a,b){function c(a,b){var c=k.length-
1,d=a-1;0>d&&(d=c);var f=a+1;f>c&&(f=0);c=e(k[a],k[d],k[f],B[b]);if(!c)return!1;c=B.length-1;d=b-1;0>d&&(d=c);f=b+1;f>c&&(f=0);return(c=e(B[b],B[d],B[f],k[a]))?!0:!1}function f(a,b){var c;for(c=0;c<k.length;c++){var e=c+1;e%=k.length;e=d(a,b,k[c],k[e]);if(0<e.length)return!0}return!1}function g(a,c){var e,f;for(e=0;e<l.length;e++){var g=b[l[e]];for(f=0;f<g.length;f++){var k=f+1;k%=g.length;k=d(a,c,g[f],g[k]);if(0<k.length)return!0}}return!1}var k=a.concat(),l=[],m,n;a=[];var q,y=0;for(m=b.length;y<
m;y++)l.push(y);var C=0;for(var D=2*l.length;0<l.length;){D--;if(0>D){console.log("Infinite Loop! Holes left:"+l.length+", Probably Hole outside Shape!");break}for(n=C;n<k.length;n++){var G=k[n];m=-1;for(y=0;y<l.length;y++){var E=l[y];var F=G.x+":"+G.y+":"+E;if(void 0===a[F]){var B=b[E];for(q=0;q<B.length;q++)if(E=B[q],c(n,q)&&!f(G,E)&&!g(G,E)){m=q;l.splice(y,1);C=k.slice(0,n+1);E=k.slice(n);q=B.slice(m);var H=B.slice(0,m+1);k=C.concat(q).concat(H).concat(E);C=n;break}if(0<=m)break;a[F]=!0}}if(0<=
m)break}}return k}(a,b);k=V.ShapeUtils.triangulate(l,!1);l=0;for(f=k.length;l<f;l++)for(b=k[l],a=0;3>a;a++)m=b[a].x+":"+b[a].y,m=g[m],void 0!==m&&(b[a]=m);return k.concat()},isClockWise:function(a){return 0>V.ShapeUtils.area(a)},b2:function(a,b,c,d){var e=1-a;return e*e*b+2*(1-a)*a*c+a*a*d},b3:function(a,b,c,d,e){var f=1-a,g=1-a;return f*f*f*b+3*g*g*a*c+3*(1-a)*a*a*d+a*a*a*e}};V.Curve=function(){};
V.Curve.prototype={constructor:V.Curve,getPoint:function(){console.warn("THREE.Curve: Warning, getPoint() not implemented!");return null},getPointAt:function(a){a=Id(this,a);return this.getPoint(a)},getPoints:function(a){a||(a=5);var b,c=[];for(b=0;b<=a;b++)c.push(this.getPoint(b/a));return c},getSpacedPoints:function(a){a||(a=5);var b,c=[];for(b=0;b<=a;b++)c.push(this.getPointAt(b/a));return c},getLength:function(){var a=Jd(this);return a[a.length-1]},updateArcLengths:function(){this.needsUpdate=
!0;Jd(this)},getTangent:function(a){var b=a-1E-4;a+=1E-4;0>b&&(b=0);1<a&&(a=1);b=this.getPoint(b);return this.getPoint(a).clone().sub(b).normalize()}};function Id(a,b){a=Jd(a);var c=a.length;var d=b*a[c-1];for(var e=0,f=c-1,g;e<=f;)if(b=Math.floor(e+(f-e)/2),g=a[b]-d,0>g)e=b+1;else if(0<g)f=b-1;else{f=b;break}b=f;if(a[b]===d)return b/(c-1);e=a[b];return(b+(d-e)/(a[b+1]-e))/(c-1)}
function Jd(a){var b;b||(b=a.__arcLengthDivisions?a.__arcLengthDivisions:200);if(a.cacheArcLengths&&a.cacheArcLengths.length===b+1&&!a.needsUpdate)return a.cacheArcLengths;a.needsUpdate=!1;var c=[],d=a.getPoint(0),e,f=0;c.push(0);for(e=1;e<=b;e++){var g=a.getPoint(e/b);f+=g.distanceTo(d);c.push(f);d=g}return a.cacheArcLengths=c}V.Curve.create=function(a,b){a.prototype=Object.create(V.Curve.prototype);a.prototype.constructor=a;a.prototype.getPoint=b;return a};
V.CurvePath=function(){this.curves=[];this.autoClose=!1};
V.CurvePath.prototype=Object.assign(Object.create(V.Curve.prototype),{constructor:V.CurvePath,add:function(a){this.curves.push(a)},closePath:function(){var a=this.curves[0].getPoint(0),b=this.curves[this.curves.length-1].getPoint(1);a.equals(b)||this.curves.push(new V.LineCurve(b,a))},getPoint:function(a){for(var b=a*this.getLength(),c=this.getCurveLengths(),d=0;d<c.length;){if(c[d]>=b)return a=this.curves[d],b=1-(c[d]-b)/a.getLength(),a.getPointAt(b);d++}return null},getLength:function(){var a=this.getCurveLengths();
return a[a.length-1]},getCurveLengths:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var a=[],b=0,c=0,d=this.curves.length;c<d;c++)b+=this.curves[c].getLength(),a.push(b);return this.cacheLengths=a},createPointsGeometry:function(a){a=this.getPoints(a);return this.createGeometry(a)},createSpacedPointsGeometry:function(a){a=this.getSpacedPoints(a);return this.createGeometry(a)},createGeometry:function(a){for(var b=new V.Geometry,c=0,d=a.length;c<
d;c++){var e=a[c];b.vertices.push(new V.Vector3(e.x,e.y,e.z||0))}return b}});V.Font=function(a){this.data=a};
Object.assign(V.Font.prototype,{generateShapes:function(a,b,c){void 0===b&&(b=100);void 0===c&&(c=4);var d=this.data;a=String(a).split("");var e=b/d.resolution,f=0;b=[];for(var g=0;g<a.length;g++){var k;var l=e;var m=f,n=d.glyphs[a[g]]||d.glyphs["?"];if(n){var q=new V.Path,p=[],t=V.ShapeUtils.b2,r=V.ShapeUtils.b3;if(n.o)for(var u=n._cachedOutline||(n._cachedOutline=n.o.split(" ")),v=0,z=u.length;v<z;)switch(u[v++]){case "m":var w=u[v++]*l+m;var A=u[v++]*l;q.moveTo(w,A);break;case "l":w=u[v++]*l+m;
A=u[v++]*l;q.lineTo(w,A);break;case "q":var y=u[v++]*l+m;var C=u[v++]*l;var D=u[v++]*l+m;var G=u[v++]*l;q.quadraticCurveTo(D,G,y,C);if(k=p[p.length-1]){var E=k.x;k=k.y;for(var F=1;F<=c;F++){var B=F/c;t(B,E,D,y);t(B,k,G,C)}}break;case "b":if(y=u[v++]*l+m,C=u[v++]*l,D=u[v++]*l+m,G=u[v++]*l,w=u[v++]*l+m,A=u[v++]*l,q.bezierCurveTo(D,G,w,A,y,C),k=p[p.length-1])for(E=k.x,k=k.y,F=1;F<=c;F++)B=F/c,r(B,E,D,w,y),r(B,k,G,A,C)}l={offset:n.ha*l,path:q}}else l=void 0;f+=l.offset;b.push(l.path)}c=[];d=0;for(a=b.length;d<
a;d++)Array.prototype.push.apply(c,b[d].toShapes());return c}});V.Path=function(a){V.CurvePath.call(this);this.actions=[];a&&this.fromPoints(a)};
V.Path.prototype=Object.assign(Object.create(V.CurvePath.prototype),{constructor:V.Path,fromPoints:function(a){this.moveTo(a[0].x,a[0].y);for(var b=1,c=a.length;b<c;b++)this.lineTo(a[b].x,a[b].y)},moveTo:function(a,b){this.actions.push({action:"moveTo",args:[a,b]})},lineTo:function(a,b){var c=this.actions[this.actions.length-1].args;this.curves.push(new V.LineCurve(new V.Vector2(c[c.length-2],c[c.length-1]),new V.Vector2(a,b)));this.actions.push({action:"lineTo",args:[a,b]})},quadraticCurveTo:function(a,
b,c,d){var e=this.actions[this.actions.length-1].args;this.curves.push(new V.QuadraticBezierCurve(new V.Vector2(e[e.length-2],e[e.length-1]),new V.Vector2(a,b),new V.Vector2(c,d)));this.actions.push({action:"quadraticCurveTo",args:[a,b,c,d]})},bezierCurveTo:function(a,b,c,d,e,f){var g=this.actions[this.actions.length-1].args;this.curves.push(new V.CubicBezierCurve(new V.Vector2(g[g.length-2],g[g.length-1]),new V.Vector2(a,b),new V.Vector2(c,d),new V.Vector2(e,f)));this.actions.push({action:"bezierCurveTo",
args:[a,b,c,d,e,f]})},splineThru:function(a){var b=Array.prototype.slice.call(arguments),c=this.actions[this.actions.length-1].args;c=[new V.Vector2(c[c.length-2],c[c.length-1])];Array.prototype.push.apply(c,a);this.curves.push(new V.SplineCurve(c));this.actions.push({action:"splineThru",args:b})},arc:function(a,b,c,d,e,f){var g=this.actions[this.actions.length-1].args;this.absarc(a+g[g.length-2],b+g[g.length-1],c,d,e,f)},absarc:function(a,b,c,d,e,f){this.absellipse(a,b,c,c,d,e,f)},ellipse:function(a,
b,c,d,e,f,g,k){var l=this.actions[this.actions.length-1].args;this.absellipse(a+l[l.length-2],b+l[l.length-1],c,d,e,f,g,k)},absellipse:function(a,b,c,d,e,f,g,k){var l=[a,b,c,d,e,f,g,k||0];a=new V.EllipseCurve(a,b,c,d,e,f,g,k);this.curves.push(a);a=a.getPoint(1);l.push(a.x);l.push(a.y);this.actions.push({action:"ellipse",args:l})},getSpacedPoints:function(a){a||(a=40);for(var b=[],c=0;c<a;c++)b.push(this.getPoint(c/a));this.autoClose&&b.push(b[0]);return b},getPoints:function(a){a=a||12;for(var b=
V.ShapeUtils.b2,c=V.ShapeUtils.b3,d=[],e,f,g,k,l,m,n,q,p,t=0,r=this.actions.length;t<r;t++){p=this.actions[t];var u=p.args;switch(p.action){case "moveTo":d.push(new V.Vector2(u[0],u[1]));break;case "lineTo":d.push(new V.Vector2(u[0],u[1]));break;case "quadraticCurveTo":e=u[2];f=u[3];l=u[0];m=u[1];0<d.length?(p=d[d.length-1],n=p.x,q=p.y):(p=this.actions[t-1].args,n=p[p.length-2],q=p[p.length-1]);for(u=1;u<=a;u++){var v=u/a;p=b(v,n,l,e);v=b(v,q,m,f);d.push(new V.Vector2(p,v))}break;case "bezierCurveTo":e=
u[4];f=u[5];l=u[0];m=u[1];g=u[2];k=u[3];0<d.length?(p=d[d.length-1],n=p.x,q=p.y):(p=this.actions[t-1].args,n=p[p.length-2],q=p[p.length-1]);for(u=1;u<=a;u++)v=u/a,p=c(v,n,l,g,e),v=c(v,q,m,k,f),d.push(new V.Vector2(p,v));break;case "splineThru":p=this.actions[t-1].args;v=[new V.Vector2(p[p.length-2],p[p.length-1])];p=a*u[0].length;v=v.concat(u[0]);v=new V.SplineCurve(v);for(u=1;u<=p;u++)d.push(v.getPointAt(u/p));break;case "arc":e=u[0];f=u[1];m=u[2];g=u[3];p=u[4];l=!!u[5];n=p-g;q=2*a;for(u=1;u<=q;u++)v=
u/q,l||(v=1-v),v=g+v*n,p=e+m*Math.cos(v),v=f+m*Math.sin(v),d.push(new V.Vector2(p,v));break;case "ellipse":e=u[0];f=u[1];m=u[2];k=u[3];g=u[4];p=u[5];l=!!u[6];var z=u[7];n=p-g;q=2*a;if(0!==z){var w=Math.cos(z);var A=Math.sin(z)}for(u=1;u<=q;u++){v=u/q;l||(v=1-v);v=g+v*n;p=e+m*Math.cos(v);v=f+k*Math.sin(v);if(0!==z){var y=p;p=(y-e)*w-(v-f)*A+e;v=(y-e)*A+(v-f)*w+f}d.push(new V.Vector2(p,v))}}}a=d[d.length-1];Math.abs(a.x-d[0].x)<Number.EPSILON&&Math.abs(a.y-d[0].y)<Number.EPSILON&&d.splice(d.length-
1,1);this.autoClose&&d.push(d[0]);return d},toShapes:function(a,b){function c(a){for(var b=[],c=0,d=a.length;c<d;c++){var e=a[c],f=new V.Shape;f.actions=e.actions;f.curves=e.curves;b.push(f)}return b}function d(a,b){for(var c=b.length,d=!1,e=c-1,f=0;f<c;e=f++){var g=b[e],k=b[f],l=k.x-g.x,m=k.y-g.y;if(Math.abs(m)>Number.EPSILON){if(0>m&&(g=b[f],l=-l,k=b[e],m=-m),!(a.y<g.y||a.y>k.y))if(a.y===g.y){if(a.x===g.x)return!0}else{e=m*(a.x-g.x)-l*(a.y-g.y);if(0===e)return!0;0>e||(d=!d)}}else if(a.y===g.y&&
(k.x<=a.x&&a.x<=g.x||g.x<=a.x&&a.x<=k.x))return!0}return d}var e=V.ShapeUtils.isClockWise,f=function(a){for(var b=[],c=new V.Path,d=0,e=a.length;d<e;d++){var f=a[d],g=f.args;f=f.action;"moveTo"===f&&0!==c.actions.length&&(b.push(c),c=new V.Path);c[f].apply(c,g)}0!==c.actions.length&&b.push(c);return b}(this.actions);if(0===f.length)return[];if(!0===b)return c(f);b=[];if(1===f.length){var g=f[0];var k=new V.Shape;k.actions=g.actions;k.curves=g.curves;b.push(k);return b}var l=!e(f[0].getPoints());l=
a?!l:l;k=[];var m=[],n=[],q=0;m[q]=void 0;n[q]=[];for(var p=0,t=f.length;p<t;p++){g=f[p];var r=g.getPoints();var u=e(r);(u=a?!u:u)?(!l&&m[q]&&q++,m[q]={s:new V.Shape,p:r},m[q].s.actions=g.actions,m[q].s.curves=g.curves,l&&q++,n[q]=[]):n[q].push({h:g,p:r[0]})}if(!m[0])return c(f);if(1<m.length){p=!1;a=[];e=0;for(f=m.length;e<f;e++)k[e]=[];e=0;for(f=m.length;e<f;e++)for(g=n[e],u=0;u<g.length;u++){l=g[u];q=!0;for(r=0;r<m.length;r++)d(l.p,m[r].p)&&(e!==r&&a.push({froms:e,tos:r,hole:u}),q?(q=!1,k[r].push(l)):
p=!0);q&&k[e].push(l)}0<a.length&&(p||(n=k))}p=0;for(e=m.length;p<e;p++)for(k=m[p].s,b.push(k),a=n[p],f=0,g=a.length;f<g;f++)k.holes.push(a[f].h);return b}});V.Shape=function(){V.Path.apply(this,arguments);this.holes=[]};
V.Shape.prototype=Object.assign(Object.create(V.Path.prototype),{constructor:V.Shape,extrude:function(a){return new V.ExtrudeGeometry(this,a)},makeGeometry:function(a){return new V.ShapeGeometry(this,a)},getPointsHoles:function(a){for(var b=[],c=0,d=this.holes.length;c<d;c++)b[c]=this.holes[c].getPoints(a);return b},extractAllPoints:function(a){return{shape:this.getPoints(a),holes:this.getPointsHoles(a)}},extractPoints:function(a){return this.extractAllPoints(a)}});
V.LineCurve=function(a,b){this.v1=a;this.v2=b};V.LineCurve.prototype=Object.create(V.Curve.prototype);V.LineCurve.prototype.constructor=V.LineCurve;V.LineCurve.prototype.getPoint=function(a){var b=this.v2.clone().sub(this.v1);b.multiplyScalar(a).add(this.v1);return b};V.LineCurve.prototype.getPointAt=function(a){return this.getPoint(a)};V.LineCurve.prototype.getTangent=function(){return this.v2.clone().sub(this.v1).normalize()};V.QuadraticBezierCurve=function(a,b,c){this.v0=a;this.v1=b;this.v2=c};
V.QuadraticBezierCurve.prototype=Object.create(V.Curve.prototype);V.QuadraticBezierCurve.prototype.constructor=V.QuadraticBezierCurve;V.QuadraticBezierCurve.prototype.getPoint=function(a){var b=V.ShapeUtils.b2;return new V.Vector2(b(a,this.v0.x,this.v1.x,this.v2.x),b(a,this.v0.y,this.v1.y,this.v2.y))};V.QuadraticBezierCurve.prototype.getTangent=function(a){var b=V.CurveUtils.tangentQuadraticBezier;return(new V.Vector2(b(a,this.v0.x,this.v1.x,this.v2.x),b(a,this.v0.y,this.v1.y,this.v2.y))).normalize()};
V.CubicBezierCurve=function(a,b,c,d){this.v0=a;this.v1=b;this.v2=c;this.v3=d};V.CubicBezierCurve.prototype=Object.create(V.Curve.prototype);V.CubicBezierCurve.prototype.constructor=V.CubicBezierCurve;V.CubicBezierCurve.prototype.getPoint=function(a){var b=V.ShapeUtils.b3;return new V.Vector2(b(a,this.v0.x,this.v1.x,this.v2.x,this.v3.x),b(a,this.v0.y,this.v1.y,this.v2.y,this.v3.y))};
V.CubicBezierCurve.prototype.getTangent=function(a){var b=V.CurveUtils.tangentCubicBezier;return(new V.Vector2(b(a,this.v0.x,this.v1.x,this.v2.x,this.v3.x),b(a,this.v0.y,this.v1.y,this.v2.y,this.v3.y))).normalize()};V.SplineCurve=function(a){this.points=void 0==a?[]:a};V.SplineCurve.prototype=Object.create(V.Curve.prototype);V.SplineCurve.prototype.constructor=V.SplineCurve;
V.SplineCurve.prototype.getPoint=function(a){var b=this.points;a*=b.length-1;var c=Math.floor(a);a-=c;var d=b[0===c?c:c-1],e=b[c],f=b[c>b.length-2?b.length-1:c+1];b=b[c>b.length-3?b.length-1:c+2];c=V.CurveUtils.interpolate;return new V.Vector2(c(d.x,e.x,f.x,b.x,a),c(d.y,e.y,f.y,b.y,a))};V.EllipseCurve=function(a,b,c,d,e,f,g,k){this.aX=a;this.aY=b;this.xRadius=c;this.yRadius=d;this.aStartAngle=e;this.aEndAngle=f;this.aClockwise=g;this.aRotation=k||0};V.EllipseCurve.prototype=Object.create(V.Curve.prototype);
V.EllipseCurve.prototype.constructor=V.EllipseCurve;
V.EllipseCurve.prototype.getPoint=function(a){var b=this.aEndAngle-this.aStartAngle;0>b&&(b+=2*Math.PI);b>2*Math.PI&&(b-=2*Math.PI);b=!0===this.aClockwise?this.aEndAngle+(1-a)*(2*Math.PI-b):this.aStartAngle+a*b;a=this.aX+this.xRadius*Math.cos(b);var c=this.aY+this.yRadius*Math.sin(b);if(0!==this.aRotation){b=Math.cos(this.aRotation);var d=Math.sin(this.aRotation),e=a;a=(e-this.aX)*b-(c-this.aY)*d+this.aX;c=(e-this.aX)*d+(c-this.aY)*b+this.aY}return new V.Vector2(a,c)};
V.ArcCurve=function(a,b,c,d,e,f){V.EllipseCurve.call(this,a,b,c,c,d,e,f)};V.ArcCurve.prototype=Object.create(V.EllipseCurve.prototype);V.ArcCurve.prototype.constructor=V.ArcCurve;V.LineCurve3=V.Curve.create(function(a,b){this.v1=a;this.v2=b},function(a){var b=new V.Vector3;b.subVectors(this.v2,this.v1);b.multiplyScalar(a);b.add(this.v1);return b});
V.QuadraticBezierCurve3=V.Curve.create(function(a,b,c){this.v0=a;this.v1=b;this.v2=c},function(a){var b=V.ShapeUtils.b2;return new V.Vector3(b(a,this.v0.x,this.v1.x,this.v2.x),b(a,this.v0.y,this.v1.y,this.v2.y),b(a,this.v0.z,this.v1.z,this.v2.z))});
V.CubicBezierCurve3=V.Curve.create(function(a,b,c,d){this.v0=a;this.v1=b;this.v2=c;this.v3=d},function(a){var b=V.ShapeUtils.b3;return new V.Vector3(b(a,this.v0.x,this.v1.x,this.v2.x,this.v3.x),b(a,this.v0.y,this.v1.y,this.v2.y,this.v3.y),b(a,this.v0.z,this.v1.z,this.v2.z,this.v3.z))});
V.SplineCurve3=V.Curve.create(function(a){console.warn("THREE.SplineCurve3 will be deprecated. Please use THREE.CatmullRomCurve3");this.points=void 0==a?[]:a},function(a){var b=this.points;a*=b.length-1;var c=Math.floor(a);a-=c;var d=b[0==c?c:c-1],e=b[c],f=b[c>b.length-2?b.length-1:c+1];b=b[c>b.length-3?b.length-1:c+2];c=V.CurveUtils.interpolate;return new V.Vector3(c(d.x,e.x,f.x,b.x,a),c(d.y,e.y,f.y,b.y,a),c(d.z,e.z,f.z,b.z,a))});
V.CatmullRomCurve3=function(){function a(){}var b=new V.Vector3,c=new a,d=new a,e=new a;a.prototype.init=function(a,b,c,d){this.c0=a;this.c1=c;this.c2=-3*a+3*b-2*c-d;this.c3=2*a-2*b+c+d};a.prototype.initNonuniformCatmullRom=function(a,b,c,d,e,n,q){this.init(b,c,((b-a)/e-(c-a)/(e+n)+(c-b)/n)*n,((c-b)/n-(d-b)/(n+q)+(d-c)/q)*n)};a.prototype.initCatmullRom=function(a,b,c,d,e){this.init(b,c,e*(c-a),e*(d-b))};a.prototype.calc=function(a){var b=a*a;return this.c0+this.c1*a+this.c2*b+this.c3*b*a};return V.Curve.create(function(a){this.points=
a||[];this.closed=!1},function(a){var f=this.points;var k=f.length;2>k&&console.log("duh, you need at least 2 points");a*=k-(this.closed?0:1);var l=Math.floor(a);a-=l;this.closed?l+=0<l?0:(Math.floor(Math.abs(l)/f.length)+1)*f.length:0===a&&l===k-1&&(l=k-2,a=1);if(this.closed||0<l)var m=f[(l-1)%k];else b.subVectors(f[0],f[1]).add(f[0]),m=b;var n=f[l%k];var q=f[(l+1)%k];this.closed||l+2<k?f=f[(l+2)%k]:(b.subVectors(f[k-1],f[k-2]).add(f[k-1]),f=b);if(void 0===this.type||"centripetal"===this.type||"chordal"===
this.type){var p="chordal"===this.type?.5:.25;k=Math.pow(m.distanceToSquared(n),p);l=Math.pow(n.distanceToSquared(q),p);p=Math.pow(q.distanceToSquared(f),p);1E-4>l&&(l=1);1E-4>k&&(k=l);1E-4>p&&(p=l);c.initNonuniformCatmullRom(m.x,n.x,q.x,f.x,k,l,p);d.initNonuniformCatmullRom(m.y,n.y,q.y,f.y,k,l,p);e.initNonuniformCatmullRom(m.z,n.z,q.z,f.z,k,l,p)}else"catmullrom"===this.type&&(k=void 0!==this.tension?this.tension:.5,c.initCatmullRom(m.x,n.x,q.x,f.x,k),d.initCatmullRom(m.y,n.y,q.y,f.y,k),e.initCatmullRom(m.z,
n.z,q.z,f.z,k));return new V.Vector3(c.calc(a),d.calc(a),e.calc(a))})}();V.ClosedSplineCurve3=function(a){console.warn("THREE.ClosedSplineCurve3 has been deprecated. Please use THREE.CatmullRomCurve3.");V.CatmullRomCurve3.call(this,a);this.type="catmullrom";this.closed=!0};V.ClosedSplineCurve3.prototype=Object.create(V.CatmullRomCurve3.prototype);
V.BoxGeometry=function(a,b,c,d,e,f){V.Geometry.call(this);this.type="BoxGeometry";this.parameters={width:a,height:b,depth:c,widthSegments:d,heightSegments:e,depthSegments:f};this.fromBufferGeometry(new V.BoxBufferGeometry(a,b,c,d,e,f));this.mergeVertices()};V.BoxGeometry.prototype=Object.create(V.Geometry.prototype);V.BoxGeometry.prototype.constructor=V.BoxGeometry;V.CubeGeometry=V.BoxGeometry;
V.BoxBufferGeometry=function(a,b,c,d,e,f){function g(a,b,c,d,e,f,g,l,m,K,M){var y=f/m,A=g/K,G=f/2,E=g/2,D=l/2;g=m+1;for(var B=K+1,C=f=0,F=new V.Vector3,H=0;H<B;H++)for(var W=H*A-E,ea=0;ea<g;ea++)F[a]=(ea*y-G)*d,F[b]=W*e,F[c]=D,q[r]=F.x,q[r+1]=F.y,q[r+2]=F.z,F[a]=0,F[b]=0,F[c]=0<l?1:-1,p[r]=F.x,p[r+1]=F.y,p[r+2]=F.z,t[u]=ea/m,t[u+1]=1-H/K,r+=3,u+=2,f+=1;for(H=0;H<K;H++)for(ea=0;ea<m;ea++)a=z+ea+g*(H+1),b=z+(ea+1)+g*(H+1),c=z+(ea+1)+g*H,n[v]=z+ea+g*H,n[v+1]=a,n[v+2]=c,n[v+3]=a,n[v+4]=b,n[v+5]=c,v+=
6,C+=6;k.addGroup(w,C,M);w+=C;z+=f}V.BufferGeometry.call(this);this.type="BoxBufferGeometry";this.parameters={width:a,height:b,depth:c,widthSegments:d,heightSegments:e,depthSegments:f};var k=this;d=Math.floor(d)||1;e=Math.floor(e)||1;f=Math.floor(f)||1;var l=function(a,b,c){return a=0+(a+1)*(b+1)*2+(a+1)*(c+1)*2+(c+1)*(b+1)*2}(d,e,f),m=function(a,b,c){a=0+a*b*2+a*c*2+c*b*2;return 6*a}(d,e,f),n=new (65535<m?Uint32Array:Uint16Array)(m),q=new Float32Array(3*l),p=new Float32Array(3*l),t=new Float32Array(2*
l),r=0,u=0,v=0,z=0,w=0;g("z","y","x",-1,-1,c,b,a,f,e,0);g("z","y","x",1,-1,c,b,-a,f,e,1);g("x","z","y",1,1,a,c,b,d,f,2);g("x","z","y",1,-1,a,c,-b,d,f,3);g("x","y","z",1,-1,a,b,c,d,e,4);g("x","y","z",-1,-1,a,b,-c,d,e,5);this.setIndex(new V.BufferAttribute(n,1));this.addAttribute("position",new V.BufferAttribute(q,3));this.addAttribute("normal",new V.BufferAttribute(p,3));this.addAttribute("uv",new V.BufferAttribute(t,2))};V.BoxBufferGeometry.prototype=Object.create(V.BufferGeometry.prototype);
V.BoxBufferGeometry.prototype.constructor=V.BoxBufferGeometry;V.CircleGeometry=function(a,b,c,d){V.Geometry.call(this);this.type="CircleGeometry";this.parameters={radius:a,segments:b,thetaStart:c,thetaLength:d};this.fromBufferGeometry(new V.CircleBufferGeometry(a,b,c,d))};V.CircleGeometry.prototype=Object.create(V.Geometry.prototype);V.CircleGeometry.prototype.constructor=V.CircleGeometry;
V.CircleBufferGeometry=function(a,b,c,d){V.BufferGeometry.call(this);this.type="CircleBufferGeometry";this.parameters={radius:a,segments:b,thetaStart:c,thetaLength:d};a=a||50;b=void 0!==b?Math.max(3,b):8;c=void 0!==c?c:0;d=void 0!==d?d:2*Math.PI;var e=b+2,f=new Float32Array(3*e),g=new Float32Array(3*e);e=new Float32Array(2*e);g[2]=1;e[0]=.5;e[1]=.5;for(var k=0,l=3,m=2;k<=b;k++,l+=3,m+=2){var n=c+k/b*d;f[l]=a*Math.cos(n);f[l+1]=a*Math.sin(n);g[l+2]=1;e[m]=(f[l]/a+1)/2;e[m+1]=(f[l+1]/a+1)/2}c=[];for(l=
1;l<=b;l++)c.push(l,l+1,0);this.setIndex(new V.BufferAttribute(new Uint16Array(c),1));this.addAttribute("position",new V.BufferAttribute(f,3));this.addAttribute("normal",new V.BufferAttribute(g,3));this.addAttribute("uv",new V.BufferAttribute(e,2));this.boundingSphere=new V.Sphere(new V.Vector3,a)};V.CircleBufferGeometry.prototype=Object.create(V.BufferGeometry.prototype);V.CircleBufferGeometry.prototype.constructor=V.CircleBufferGeometry;
V.CylinderBufferGeometry=function(a,b,c,d,e,f,g,k){function l(c){var e,f=new V.Vector2,l=new V.Vector3,n=0,p=!0===c?a:b,q=!0===c?1:-1;var A=z;for(e=1;e<=d;e++)r.setXYZ(z,0,y*q,0),u.setXYZ(z,0,q,0),f.x=.5,f.y=.5,v.setXY(z,f.x,f.y),z++;var D=z;for(e=0;e<=d;e++){var L=e/d*k+g,Q=Math.cos(L);L=Math.sin(L);l.x=p*L;l.y=y*q;l.z=p*Q;r.setXYZ(z,l.x,l.y,l.z);u.setXYZ(z,0,q,0);f.x=.5*Q+.5;f.y=.5*L*q+.5;v.setXY(z,f.x,f.y);z++}for(e=0;e<d;e++)f=A+e,l=D+e,!0===c?(t.setX(w,l),w++,t.setX(w,l+1)):(t.setX(w,l+1),w++,
t.setX(w,l)),w++,t.setX(w,f),w++,n+=3;m.addGroup(C,n,!0===c?1:2);C+=n}V.BufferGeometry.call(this);this.type="CylinderBufferGeometry";this.parameters={radiusTop:a,radiusBottom:b,height:c,radialSegments:d,heightSegments:e,openEnded:f,thetaStart:g,thetaLength:k};var m=this;a=void 0!==a?a:20;b=void 0!==b?b:20;c=void 0!==c?c:100;d=Math.floor(d)||8;e=Math.floor(e)||1;f=void 0!==f?f:!1;g=void 0!==g?g:0;k=void 0!==k?k:2*Math.PI;var n=0;!1===f&&(0<a&&n++,0<b&&n++);var q=function(){var a=(d+1)*(e+1);!1===f&&
(a+=(d+1)*n+d*n);return a}(),p=function(){var a=d*e*6;!1===f&&(a+=d*n*3);return a}(),t=new V.BufferAttribute(new (65535<p?Uint32Array:Uint16Array)(p),1),r=new V.BufferAttribute(new Float32Array(3*q),3),u=new V.BufferAttribute(new Float32Array(3*q),3),v=new V.BufferAttribute(new Float32Array(2*q),2),z=0,w=0,A=[],y=c/2,C=0;(function(){var f,l,n=new V.Vector3,p=new V.Vector3,q=0,H=(b-a)/c;for(l=0;l<=e;l++){var K=[],M=l/e,R=M*(b-a)+a;for(f=0;f<=d;f++){var L=f/d;p.x=R*Math.sin(L*k+g);p.y=-M*c+y;p.z=R*
Math.cos(L*k+g);r.setXYZ(z,p.x,p.y,p.z);n.copy(p);if(0===a&&0===l||0===b&&l===e)n.x=Math.sin(L*k+g),n.z=Math.cos(L*k+g);n.setY(Math.sqrt(n.x*n.x+n.z*n.z)*H).normalize();u.setXYZ(z,n.x,n.y,n.z);v.setXY(z,L,1-M);K.push(z);z++}A.push(K)}for(f=0;f<d;f++)for(l=0;l<e;l++)n=A[l+1][f],p=A[l+1][f+1],H=A[l][f+1],t.setX(w,A[l][f]),w++,t.setX(w,n),w++,t.setX(w,H),w++,t.setX(w,n),w++,t.setX(w,p),w++,t.setX(w,H),w++,q+=6;m.addGroup(C,q,0);C+=q})();!1===f&&(0<a&&l(!0),0<b&&l(!1));this.setIndex(t);this.addAttribute("position",
r);this.addAttribute("normal",u);this.addAttribute("uv",v)};V.CylinderBufferGeometry.prototype=Object.create(V.BufferGeometry.prototype);V.CylinderBufferGeometry.prototype.constructor=V.CylinderBufferGeometry;
V.CylinderGeometry=function(a,b,c,d,e,f,g,k){V.Geometry.call(this);this.type="CylinderGeometry";this.parameters={radiusTop:a,radiusBottom:b,height:c,radialSegments:d,heightSegments:e,openEnded:f,thetaStart:g,thetaLength:k};this.fromBufferGeometry(new V.CylinderBufferGeometry(a,b,c,d,e,f,g,k));this.mergeVertices()};V.CylinderGeometry.prototype=Object.create(V.Geometry.prototype);V.CylinderGeometry.prototype.constructor=V.CylinderGeometry;
V.ConeBufferGeometry=function(a,b,c,d,e,f,g){V.CylinderBufferGeometry.call(this,0,a,b,c,d,e,f,g);this.type="ConeBufferGeometry";this.parameters={radius:a,height:b,radialSegments:c,heightSegments:d,thetaStart:f,thetaLength:g}};V.ConeBufferGeometry.prototype=Object.create(V.BufferGeometry.prototype);V.ConeBufferGeometry.prototype.constructor=V.ConeBufferGeometry;
V.ConeGeometry=function(a,b,c,d,e,f,g){V.CylinderGeometry.call(this,0,a,b,c,d,e,f,g);this.type="ConeGeometry";this.parameters={radius:a,height:b,radialSegments:c,heightSegments:d,openEnded:e,thetaStart:f,thetaLength:g}};V.ConeGeometry.prototype=Object.create(V.CylinderGeometry.prototype);V.ConeGeometry.prototype.constructor=V.ConeGeometry;
V.EdgesGeometry=function(a,b){function c(a,b){return a-b}V.BufferGeometry.call(this);b=Math.cos(V.Math.DEG2RAD*(void 0!==b?b:1));var d=[0,0],e={},f=["a","b","c"];if(a instanceof V.BufferGeometry){var g=new V.Geometry;g.fromBufferGeometry(a)}else g=a.clone();g.mergeVertices();g.computeFaceNormals();a=g.vertices;g=g.faces;for(var k=0,l=g.length;k<l;k++)for(var m=g[k],n=0;3>n;n++){d[0]=m[f[n]];d[1]=m[f[(n+1)%3]];d.sort(c);var q=d.toString();void 0===e[q]?e[q]={vert1:d[0],vert2:d[1],face1:k,face2:void 0}:
e[q].face2=k}d=[];for(q in e)if(f=e[q],void 0===f.face2||g[f.face1].normal.dot(g[f.face2].normal)<=b)k=a[f.vert1],d.push(k.x),d.push(k.y),d.push(k.z),k=a[f.vert2],d.push(k.x),d.push(k.y),d.push(k.z);this.addAttribute("position",new V.BufferAttribute(new Float32Array(d),3))};V.EdgesGeometry.prototype=Object.create(V.BufferGeometry.prototype);V.EdgesGeometry.prototype.constructor=V.EdgesGeometry;
V.ExtrudeGeometry=function(a,b){"undefined"!==typeof a&&(V.Geometry.call(this),this.type="ExtrudeGeometry",a=Array.isArray(a)?a:[a],this.addShapeList(a,b),this.computeFaceNormals())};V.ExtrudeGeometry.prototype=Object.create(V.Geometry.prototype);V.ExtrudeGeometry.prototype.constructor=V.ExtrudeGeometry;V.ExtrudeGeometry.prototype.addShapeList=function(a,b){for(var c=a.length,d=0;d<c;d++)this.addShape(a[d],b)};
V.ExtrudeGeometry.prototype.addShape=function(a,b){function c(a,b,c){b||console.error("THREE.ExtrudeGeometry: vec does not exist");return b.clone().multiplyScalar(c).add(a)}function d(a,b,c){var d=a.x-b.x;var e=a.y-b.y;var f=c.x-a.x;var g=c.y-a.y,k=d*d+e*e;if(Math.abs(d*g-e*f)>Number.EPSILON){var l=Math.sqrt(k),m=Math.sqrt(f*f+g*g);k=b.x-e/l;b=b.y+d/l;g=((c.x-g/m-k)*g-(c.y+f/m-b)*f)/(d*g-e*f);f=k+d*g-a.x;d=b+e*g-a.y;e=f*f+d*d;if(2>=e)return new V.Vector2(f,d);e=Math.sqrt(e/2)}else a=!1,d>Number.EPSILON?
f>Number.EPSILON&&(a=!0):d<-Number.EPSILON?f<-Number.EPSILON&&(a=!0):Math.sign(e)===Math.sign(g)&&(a=!0),a?(f=-e,e=Math.sqrt(k)):(f=d,d=e,e=Math.sqrt(k/2));return new V.Vector2(f/e,d/e)}function e(a,b){for(J=a.length;0<=--J;){var c=J;var d=J-1;0>d&&(d=a.length-1);var e,f=t+2*n;for(e=0;e<f;e++){var g=L*e,k=L*(e+1),l=b+c+g;g=b+d+g;var m=b+d+k;k=b+c+k;l+=E;g+=E;m+=E;k+=E;G.faces.push(new V.Face3(l,g,k,null,null,1));G.faces.push(new V.Face3(g,m,k,null,null,1));l=v.generateSideWallUV(G,l,g,m,k);G.faceVertexUvs[0].push([l[0],
l[1],l[3]]);G.faceVertexUvs[0].push([l[1],l[2],l[3]])}}}function f(a,b,c){G.vertices.push(new V.Vector3(a,b,c))}function g(a,b,c){a+=E;b+=E;c+=E;G.faces.push(new V.Face3(a,b,c,null,null,0));G.faceVertexUvs[0].push(v.generateTopUV(G,a,b,c))}var k=void 0!==b.amount?b.amount:100,l=void 0!==b.bevelThickness?b.bevelThickness:6,m=void 0!==b.bevelSize?b.bevelSize:l-2,n=void 0!==b.bevelSegments?b.bevelSegments:3,q=void 0!==b.bevelEnabled?b.bevelEnabled:!0,p=void 0!==b.curveSegments?b.curveSegments:12,t=void 0!==
b.steps?b.steps:1,r=b.extrudePath,u=!1,v=void 0!==b.UVGenerator?b.UVGenerator:V.ExtrudeGeometry.WorldUVGenerator;if(r){var z=r.getSpacedPoints(t);u=!0;q=!1;var w=void 0!==b.frames?b.frames:new V.TubeGeometry.FrenetFrames(r,t,!1);var A=new V.Vector3;var y=new V.Vector3;var C=new V.Vector3}q||(m=l=n=0);var D,G=this,E=this.vertices.length;b=a.extractPoints(p);a=b.shape;var F=b.holes;if(b=!V.ShapeUtils.isClockWise(a)){a=a.reverse();var B=0;for(D=F.length;B<D;B++){var H=F[B];V.ShapeUtils.isClockWise(H)&&
(F[B]=H.reverse())}b=!1}var K=V.ShapeUtils.triangulateShape(a,F),M=a;B=0;for(D=F.length;B<D;B++)H=F[B],a=a.concat(H);var R,L=a.length,Q,O=K.length;b=[];var J=0;var S=M.length;var P=S-1;for(R=J+1;J<S;J++,P++,R++)P===S&&(P=0),R===S&&(R=0),b[J]=d(M[J],M[P],M[R]);p=[];r=b.concat();B=0;for(D=F.length;B<D;B++){H=F[B];var Z=[];J=0;S=H.length;P=S-1;for(R=J+1;J<S;J++,P++,R++)P===S&&(P=0),R===S&&(R=0),Z[J]=d(H[J],H[P],H[R]);p.push(Z);r=r.concat(Z)}for(P=0;P<n;P++){S=P/n;var da=l*(1-S);R=m*Math.sin(S*Math.PI/
2);J=0;for(S=M.length;J<S;J++){var W=c(M[J],b[J],R);f(W.x,W.y,-da)}B=0;for(D=F.length;B<D;B++)for(H=F[B],Z=p[B],J=0,S=H.length;J<S;J++)W=c(H[J],Z[J],R),f(W.x,W.y,-da)}R=m;for(J=0;J<L;J++)W=q?c(a[J],r[J],R):a[J],u?(y.copy(w.normals[0]).multiplyScalar(W.x),A.copy(w.binormals[0]).multiplyScalar(W.y),C.copy(z[0]).add(y).add(A),f(C.x,C.y,C.z)):f(W.x,W.y,0);for(S=1;S<=t;S++)for(J=0;J<L;J++)W=q?c(a[J],r[J],R):a[J],u?(y.copy(w.normals[S]).multiplyScalar(W.x),A.copy(w.binormals[S]).multiplyScalar(W.y),C.copy(z[S]).add(y).add(A),
f(C.x,C.y,C.z)):f(W.x,W.y,k/t*S);for(P=n-1;0<=P;P--){S=P/n;da=l*(1-S);R=m*Math.sin(S*Math.PI/2);J=0;for(S=M.length;J<S;J++)W=c(M[J],b[J],R),f(W.x,W.y,k+da);B=0;for(D=F.length;B<D;B++)for(H=F[B],Z=p[B],J=0,S=H.length;J<S;J++)W=c(H[J],Z[J],R),u?f(W.x,W.y+z[t-1].y,z[t-1].x+da):f(W.x,W.y,k+da)}(function(){if(q){var a=0*L;for(J=0;J<O;J++)Q=K[J],g(Q[2]+a,Q[1]+a,Q[0]+a);a=L*(t+2*n);for(J=0;J<O;J++)Q=K[J],g(Q[0]+a,Q[1]+a,Q[2]+a)}else{for(J=0;J<O;J++)Q=K[J],g(Q[2],Q[1],Q[0]);for(J=0;J<O;J++)Q=K[J],g(Q[0]+
L*t,Q[1]+L*t,Q[2]+L*t)}})();(function(){var a=0;e(M,a);a+=M.length;B=0;for(D=F.length;B<D;B++)H=F[B],e(H,a),a+=H.length})()};
V.ExtrudeGeometry.WorldUVGenerator={generateTopUV:function(a,b,c,d){a=a.vertices;b=a[b];c=a[c];d=a[d];return[new V.Vector2(b.x,b.y),new V.Vector2(c.x,c.y),new V.Vector2(d.x,d.y)]},generateSideWallUV:function(a,b,c,d,e){a=a.vertices;b=a[b];c=a[c];d=a[d];e=a[e];return.01>Math.abs(b.y-c.y)?[new V.Vector2(b.x,1-b.z),new V.Vector2(c.x,1-c.z),new V.Vector2(d.x,1-d.z),new V.Vector2(e.x,1-e.z)]:[new V.Vector2(b.y,1-b.z),new V.Vector2(c.y,1-c.z),new V.Vector2(d.y,1-d.z),new V.Vector2(e.y,1-e.z)]}};
V.ShapeGeometry=function(a,b){V.Geometry.call(this);this.type="ShapeGeometry";!1===Array.isArray(a)&&(a=[a]);this.addShapeList(a,b);this.computeFaceNormals()};V.ShapeGeometry.prototype=Object.create(V.Geometry.prototype);V.ShapeGeometry.prototype.constructor=V.ShapeGeometry;V.ShapeGeometry.prototype.addShapeList=function(a,b){for(var c=0,d=a.length;c<d;c++)this.addShape(a[c],b);return this};
V.ShapeGeometry.prototype.addShape=function(a,b){void 0===b&&(b={});var c=b.material,d=void 0===b.UVGenerator?V.ExtrudeGeometry.WorldUVGenerator:b.UVGenerator,e,f=this.vertices.length;a=a.extractPoints(void 0!==b.curveSegments?b.curveSegments:12);var g=a.shape,k=a.holes;if(!V.ShapeUtils.isClockWise(g))for(g=g.reverse(),a=0,e=k.length;a<e;a++){var l=k[a];V.ShapeUtils.isClockWise(l)&&(k[a]=l.reverse())}b=V.ShapeUtils.triangulateShape(g,k);a=0;for(e=k.length;a<e;a++)l=k[a],g=g.concat(l);k=g.length;e=
b.length;for(a=0;a<k;a++)l=g[a],this.vertices.push(new V.Vector3(l.x,l.y,0));for(a=0;a<e;a++)k=b[a],g=k[0]+f,l=k[1]+f,k=k[2]+f,this.faces.push(new V.Face3(g,l,k,null,null,c)),this.faceVertexUvs[0].push(d.generateTopUV(this,g,l,k))};
V.LatheBufferGeometry=function(a,b,c,d){V.BufferGeometry.call(this);this.type="LatheBufferGeometry";this.parameters={points:a,segments:b,phiStart:c,phiLength:d};b=Math.floor(b)||12;c=c||0;d=d||2*Math.PI;d=V.Math.clamp(d,0,2*Math.PI);var e=(b+1)*a.length,f=b*a.length*6,g=new V.BufferAttribute(new (65535<f?Uint32Array:Uint16Array)(f),1),k=new V.BufferAttribute(new Float32Array(3*e),3),l=new V.BufferAttribute(new Float32Array(2*e),2),m=0,n=0,q=1/b,p=new V.Vector3,t=new V.Vector2;for(e=0;e<=b;e++){f=
c+e*q*d;var r=Math.sin(f),u=Math.cos(f);for(f=0;f<=a.length-1;f++)p.x=a[f].x*r,p.y=a[f].y,p.z=a[f].x*u,k.setXYZ(m,p.x,p.y,p.z),t.x=e/b,t.y=f/(a.length-1),l.setXY(m,t.x,t.y),m++}for(e=0;e<b;e++)for(f=0;f<a.length-1;f++)c=f+e*a.length,m=c+a.length,q=c+a.length+1,p=c+1,g.setX(n,c),n++,g.setX(n,m),n++,g.setX(n,p),n++,g.setX(n,m),n++,g.setX(n,q),n++,g.setX(n,p),n++;this.setIndex(g);this.addAttribute("position",k);this.addAttribute("uv",l);this.computeVertexNormals();if(d===2*Math.PI)for(d=this.attributes.normal.array,
g=new V.Vector3,k=new V.Vector3,l=new V.Vector3,c=b*a.length*3,f=e=0;e<a.length;e++,f+=3)g.x=d[f+0],g.y=d[f+1],g.z=d[f+2],k.x=d[c+f+0],k.y=d[c+f+1],k.z=d[c+f+2],l.addVectors(g,k).normalize(),d[f+0]=d[c+f+0]=l.x,d[f+1]=d[c+f+1]=l.y,d[f+2]=d[c+f+2]=l.z};V.LatheBufferGeometry.prototype=Object.create(V.BufferGeometry.prototype);V.LatheBufferGeometry.prototype.constructor=V.LatheBufferGeometry;
V.LatheGeometry=function(a,b,c,d){V.Geometry.call(this);this.type="LatheGeometry";this.parameters={points:a,segments:b,phiStart:c,phiLength:d};this.fromBufferGeometry(new V.LatheBufferGeometry(a,b,c,d));this.mergeVertices()};V.LatheGeometry.prototype=Object.create(V.Geometry.prototype);V.LatheGeometry.prototype.constructor=V.LatheGeometry;
V.PlaneGeometry=function(a,b,c,d){V.Geometry.call(this);this.type="PlaneGeometry";this.parameters={width:a,height:b,widthSegments:c,heightSegments:d};this.fromBufferGeometry(new V.PlaneBufferGeometry(a,b,c,d))};V.PlaneGeometry.prototype=Object.create(V.Geometry.prototype);V.PlaneGeometry.prototype.constructor=V.PlaneGeometry;
V.PlaneBufferGeometry=function(a,b,c,d){V.BufferGeometry.call(this);this.type="PlaneBufferGeometry";this.parameters={width:a,height:b,widthSegments:c,heightSegments:d};var e=a/2,f=b/2;c=Math.floor(c)||1;d=Math.floor(d)||1;var g=c+1,k=d+1,l=a/c,m=b/d;b=new Float32Array(g*k*3);a=new Float32Array(g*k*3);for(var n=new Float32Array(g*k*2),q=0,p=0,t=0;t<k;t++)for(var r=t*m-f,u=0;u<g;u++)b[q]=u*l-e,b[q+1]=-r,a[q+2]=1,n[p]=u/c,n[p+1]=1-t/d,q+=3,p+=2;q=0;e=new (65535<b.length/3?Uint32Array:Uint16Array)(c*
d*6);for(t=0;t<d;t++)for(u=0;u<c;u++)f=u+g*(t+1),k=u+1+g*(t+1),l=u+1+g*t,e[q]=u+g*t,e[q+1]=f,e[q+2]=l,e[q+3]=f,e[q+4]=k,e[q+5]=l,q+=6;this.setIndex(new V.BufferAttribute(e,1));this.addAttribute("position",new V.BufferAttribute(b,3));this.addAttribute("normal",new V.BufferAttribute(a,3));this.addAttribute("uv",new V.BufferAttribute(n,2))};V.PlaneBufferGeometry.prototype=Object.create(V.BufferGeometry.prototype);V.PlaneBufferGeometry.prototype.constructor=V.PlaneBufferGeometry;
V.RingBufferGeometry=function(a,b,c,d,e,f){V.BufferGeometry.call(this);this.type="RingBufferGeometry";this.parameters={innerRadius:a,outerRadius:b,thetaSegments:c,phiSegments:d,thetaStart:e,thetaLength:f};a=a||20;b=b||50;e=void 0!==e?e:0;f=void 0!==f?f:2*Math.PI;c=void 0!==c?Math.max(3,c):8;d=void 0!==d?Math.max(1,d):1;var g=(c+1)*(d+1),k=c*d*6;k=new V.BufferAttribute(new (65535<k?Uint32Array:Uint16Array)(k),1);var l=new V.BufferAttribute(new Float32Array(3*g),3),m=new V.BufferAttribute(new Float32Array(3*
g),3);g=new V.BufferAttribute(new Float32Array(2*g),2);var n=0,q=0,p=a,t=(b-a)/d,r=new V.Vector3,u=new V.Vector2,v;for(a=0;a<=d;a++){for(v=0;v<=c;v++){var z=e+v/c*f;r.x=p*Math.cos(z);r.y=p*Math.sin(z);l.setXYZ(n,r.x,r.y,r.z);m.setXYZ(n,0,0,1);u.x=(r.x/b+1)/2;u.y=(r.y/b+1)/2;g.setXY(n,u.x,u.y);n++}p+=t}for(a=0;a<d;a++)for(b=a*(c+1),v=0;v<c;v++)e=z=v+b,f=z+c+1,n=z+c+2,z+=1,k.setX(q,e),q++,k.setX(q,f),q++,k.setX(q,n),q++,k.setX(q,e),q++,k.setX(q,n),q++,k.setX(q,z),q++;this.setIndex(k);this.addAttribute("position",
l);this.addAttribute("normal",m);this.addAttribute("uv",g)};V.RingBufferGeometry.prototype=Object.create(V.BufferGeometry.prototype);V.RingBufferGeometry.prototype.constructor=V.RingBufferGeometry;V.RingGeometry=function(a,b,c,d,e,f){V.Geometry.call(this);this.type="RingGeometry";this.parameters={innerRadius:a,outerRadius:b,thetaSegments:c,phiSegments:d,thetaStart:e,thetaLength:f};this.fromBufferGeometry(new V.RingBufferGeometry(a,b,c,d,e,f))};V.RingGeometry.prototype=Object.create(V.Geometry.prototype);
V.RingGeometry.prototype.constructor=V.RingGeometry;V.SphereGeometry=function(a,b,c,d,e,f,g){V.Geometry.call(this);this.type="SphereGeometry";this.parameters={radius:a,widthSegments:b,heightSegments:c,phiStart:d,phiLength:e,thetaStart:f,thetaLength:g};this.fromBufferGeometry(new V.SphereBufferGeometry(a,b,c,d,e,f,g))};V.SphereGeometry.prototype=Object.create(V.Geometry.prototype);V.SphereGeometry.prototype.constructor=V.SphereGeometry;
V.SphereBufferGeometry=function(a,b,c,d,e,f,g){V.BufferGeometry.call(this);this.type="SphereBufferGeometry";this.parameters={radius:a,widthSegments:b,heightSegments:c,phiStart:d,phiLength:e,thetaStart:f,thetaLength:g};a=a||50;b=Math.max(3,Math.floor(b)||8);c=Math.max(2,Math.floor(c)||6);d=void 0!==d?d:0;e=void 0!==e?e:2*Math.PI;f=void 0!==f?f:0;g=void 0!==g?g:Math.PI;var k=f+g,l=(b+1)*(c+1),m=new V.BufferAttribute(new Float32Array(3*l),3),n=new V.BufferAttribute(new Float32Array(3*l),3);l=new V.BufferAttribute(new Float32Array(2*
l),2);for(var q=0,p=[],t=new V.Vector3,r=0;r<=c;r++){for(var u=[],v=r/c,z=0;z<=b;z++){var w=z/b,A=-a*Math.cos(d+w*e)*Math.sin(f+v*g),y=a*Math.cos(f+v*g),C=a*Math.sin(d+w*e)*Math.sin(f+v*g);t.set(A,y,C).normalize();m.setXYZ(q,A,y,C);n.setXYZ(q,t.x,t.y,t.z);l.setXY(q,w,1-v);u.push(q);q++}p.push(u)}d=[];for(r=0;r<c;r++)for(z=0;z<b;z++)e=p[r][z+1],g=p[r][z],q=p[r+1][z],t=p[r+1][z+1],(0!==r||0<f)&&d.push(e,g,t),(r!==c-1||k<Math.PI)&&d.push(g,q,t);this.setIndex(new (65535<m.count?V.Uint32Attribute:V.Uint16Attribute)(d,
1));this.addAttribute("position",m);this.addAttribute("normal",n);this.addAttribute("uv",l);this.boundingSphere=new V.Sphere(new V.Vector3,a)};V.SphereBufferGeometry.prototype=Object.create(V.BufferGeometry.prototype);V.SphereBufferGeometry.prototype.constructor=V.SphereBufferGeometry;
V.TextGeometry=function(a,b){b=b||{};var c=b.font;if(!1===c instanceof V.Font)return console.error("THREE.TextGeometry: font parameter is not an instance of THREE.Font."),new V.Geometry;a=c.generateShapes(a,b.size,b.curveSegments);b.amount=void 0!==b.height?b.height:50;void 0===b.bevelThickness&&(b.bevelThickness=10);void 0===b.bevelSize&&(b.bevelSize=8);void 0===b.bevelEnabled&&(b.bevelEnabled=!1);V.ExtrudeGeometry.call(this,a,b);this.type="TextGeometry"};V.TextGeometry.prototype=Object.create(V.ExtrudeGeometry.prototype);
V.TextGeometry.prototype.constructor=V.TextGeometry;
V.TorusBufferGeometry=function(a,b,c,d,e){V.BufferGeometry.call(this);this.type="TorusBufferGeometry";this.parameters={radius:a,tube:b,radialSegments:c,tubularSegments:d,arc:e};a=a||100;b=b||40;c=Math.floor(c)||8;d=Math.floor(d)||6;e=e||2*Math.PI;var f=(c+1)*(d+1),g=c*d*6;g=new (65535<g?Uint32Array:Uint16Array)(g);var k=new Float32Array(3*f),l=new Float32Array(3*f);f=new Float32Array(2*f);var m=0,n=0,q=0,p=new V.Vector3,t=new V.Vector3,r=new V.Vector3,u,v;for(u=0;u<=c;u++)for(v=0;v<=d;v++){var z=
v/d*e,w=u/c*Math.PI*2;t.x=(a+b*Math.cos(w))*Math.cos(z);t.y=(a+b*Math.cos(w))*Math.sin(z);t.z=b*Math.sin(w);k[m]=t.x;k[m+1]=t.y;k[m+2]=t.z;p.x=a*Math.cos(z);p.y=a*Math.sin(z);r.subVectors(t,p).normalize();l[m]=r.x;l[m+1]=r.y;l[m+2]=r.z;f[n]=v/d;f[n+1]=u/c;m+=3;n+=2}for(u=1;u<=c;u++)for(v=1;v<=d;v++)a=(d+1)*(u-1)+v-1,b=(d+1)*(u-1)+v,e=(d+1)*u+v,g[q]=(d+1)*u+v-1,g[q+1]=a,g[q+2]=e,g[q+3]=a,g[q+4]=b,g[q+5]=e,q+=6;this.setIndex(new V.BufferAttribute(g,1));this.addAttribute("position",new V.BufferAttribute(k,
3));this.addAttribute("normal",new V.BufferAttribute(l,3));this.addAttribute("uv",new V.BufferAttribute(f,2))};V.TorusBufferGeometry.prototype=Object.create(V.BufferGeometry.prototype);V.TorusBufferGeometry.prototype.constructor=V.TorusBufferGeometry;V.TorusGeometry=function(a,b,c,d,e){V.Geometry.call(this);this.type="TorusGeometry";this.parameters={radius:a,tube:b,radialSegments:c,tubularSegments:d,arc:e};this.fromBufferGeometry(new V.TorusBufferGeometry(a,b,c,d,e))};V.TorusGeometry.prototype=Object.create(V.Geometry.prototype);
V.TorusGeometry.prototype.constructor=V.TorusGeometry;
V.TorusKnotBufferGeometry=function(a,b,c,d,e,f){function g(a,b,c,d,e){var f=Math.sin(a);b=c/b*a;c=Math.cos(b);e.x=d*(2+c)*.5*Math.cos(a);e.y=d*(2+c)*f*.5;e.z=d*Math.sin(b)*.5}V.BufferGeometry.call(this);this.type="TorusKnotBufferGeometry";this.parameters={radius:a,tube:b,tubularSegments:c,radialSegments:d,p:e,q:f};a=a||100;b=b||40;c=Math.floor(c)||64;d=Math.floor(d)||8;e=e||2;f=f||3;var k=(d+1)*(c+1),l=d*c*6;l=new V.BufferAttribute(new (65535<l?Uint32Array:Uint16Array)(l),1);var m=new V.BufferAttribute(new Float32Array(3*
k),3),n=new V.BufferAttribute(new Float32Array(3*k),3);k=new V.BufferAttribute(new Float32Array(2*k),2);var q,p=0,t=0,r=new V.Vector3,u=new V.Vector3,v=new V.Vector2,z=new V.Vector3,w=new V.Vector3,A=new V.Vector3,y=new V.Vector3,C=new V.Vector3;for(q=0;q<=c;++q){var D=q/c*e*Math.PI*2;g(D,e,f,a,z);g(D+.01,e,f,a,w);y.subVectors(w,z);C.addVectors(w,z);Mc(A,y,C);Mc(C,A,y);A.normalize();C.normalize();for(D=0;D<=d;++D){var G=D/d*Math.PI*2,E=-b*Math.cos(G);G=b*Math.sin(G);r.x=z.x+(E*C.x+G*A.x);r.y=z.y+
(E*C.y+G*A.y);r.z=z.z+(E*C.z+G*A.z);m.setXYZ(p,r.x,r.y,r.z);u.subVectors(r,z).normalize();n.setXYZ(p,u.x,u.y,u.z);v.x=q/c;v.y=D/d;k.setXY(p,v.x,v.y);p++}}for(D=1;D<=c;D++)for(q=1;q<=d;q++)a=(d+1)*D+(q-1),b=(d+1)*D+q,e=(d+1)*(D-1)+q,l.setX(t,(d+1)*(D-1)+(q-1)),t++,l.setX(t,a),t++,l.setX(t,e),t++,l.setX(t,a),t++,l.setX(t,b),t++,l.setX(t,e),t++;this.setIndex(l);this.addAttribute("position",m);this.addAttribute("normal",n);this.addAttribute("uv",k)};V.TorusKnotBufferGeometry.prototype=Object.create(V.BufferGeometry.prototype);
V.TorusKnotBufferGeometry.prototype.constructor=V.TorusKnotBufferGeometry;V.TorusKnotGeometry=function(a,b,c,d,e,f,g){V.Geometry.call(this);this.type="TorusKnotGeometry";this.parameters={radius:a,tube:b,tubularSegments:c,radialSegments:d,p:e,q:f};void 0!==g&&console.warn("THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead.");this.fromBufferGeometry(new V.TorusKnotBufferGeometry(a,b,c,d,e,f));this.mergeVertices()};V.TorusKnotGeometry.prototype=Object.create(V.Geometry.prototype);
V.TorusKnotGeometry.prototype.constructor=V.TorusKnotGeometry;
V.TubeGeometry=function(a,b,c,d,e,f){V.Geometry.call(this);this.type="TubeGeometry";this.parameters={path:a,segments:b,radius:c,radialSegments:d,closed:e,taper:f};b=b||64;c=c||1;d=d||8;e=e||!1;f=f||V.TubeGeometry.NoTaper;var g=[],k=b+1,l=new V.Vector3;var m=new V.TubeGeometry.FrenetFrames(a,b,e);var n=m.normals;var q=m.binormals;this.tangents=m.tangents;this.normals=n;this.binormals=q;for(m=0;m<k;m++){g[m]=[];var p=m/(k-1);var t=a.getPointAt(p);var r=n[m];var u=q[m];var v=c*f(p);for(p=0;p<d;p++){var z=
p/d*2*Math.PI;var w=-v*Math.cos(z);z=v*Math.sin(z);l.copy(t);l.x+=w*r.x+z*u.x;l.y+=w*r.y+z*u.y;l.z+=w*r.z+z*u.z;g[m][p]=this.vertices.push(new V.Vector3(l.x,l.y,l.z))-1}}for(m=0;m<b;m++)for(p=0;p<d;p++)f=e?(m+1)%b:m+1,k=(p+1)%d,a=g[m][p],c=g[f][p],f=g[f][k],k=g[m][k],l=new V.Vector2(m/b,p/d),n=new V.Vector2((m+1)/b,p/d),q=new V.Vector2((m+1)/b,(p+1)/d),r=new V.Vector2(m/b,(p+1)/d),this.faces.push(new V.Face3(a,c,k)),this.faceVertexUvs[0].push([l,n,r]),this.faces.push(new V.Face3(c,f,k)),this.faceVertexUvs[0].push([n.clone(),
q,r.clone()]);this.computeFaceNormals();this.computeVertexNormals()};V.TubeGeometry.prototype=Object.create(V.Geometry.prototype);V.TubeGeometry.prototype.constructor=V.TubeGeometry;V.TubeGeometry.NoTaper=function(){return 1};V.TubeGeometry.SinusoidalTaper=function(a){return Math.sin(Math.PI*a)};
V.TubeGeometry.FrenetFrames=function(a,b,c){var d=new V.Vector3,e=[],f=[],g=[],k=new V.Vector3,l=new V.Matrix4;b+=1;var m;this.tangents=e;this.normals=f;this.binormals=g;for(m=0;m<b;m++){var n=m/(b-1);var q=m;var p=a;n=Id(p,n);p=p.getTangent(n);e[q]=p;e[m].normalize()}f[0]=new V.Vector3;g[0]=new V.Vector3;a=Number.MAX_VALUE;m=Math.abs(e[0].x);q=Math.abs(e[0].y);p=Math.abs(e[0].z);m<=a&&(a=m,d.set(1,0,0));q<=a&&(a=q,d.set(0,1,0));p<=a&&d.set(0,0,1);Mc(k,e[0],d).normalize();Mc(f[0],e[0],k);Mc(g[0],
e[0],f[0]);for(m=1;m<b;m++)f[m]=f[m-1].clone(),g[m]=g[m-1].clone(),Mc(k,e[m-1],e[m]),k.length()>Number.EPSILON&&(k.normalize(),d=Math.acos(V.Math.clamp(e[m-1].dot(e[m]),-1,1)),f[m].applyMatrix4(bd(l,k,d))),Mc(g[m],e[m],f[m]);if(c)for(d=Math.acos(V.Math.clamp(f[0].dot(f[b-1]),-1,1)),d/=b-1,0<e[0].dot(Mc(k,f[0],f[b-1]))&&(d=-d),m=1;m<b;m++)f[m].applyMatrix4(bd(l,e[m],d*m)),Mc(g[m],e[m],f[m])};
V.PolyhedronGeometry=function(a,b,c,d){function e(a){var b=a.normalize().clone();b.index=l.vertices.push(b)-1;b.uv=new V.Vector2(Math.atan2(a.z,-a.x)/2/Math.PI+.5,1-(Math.atan2(-a.y,Math.sqrt(a.x*a.x+a.z*a.z))/Math.PI+.5));return b}function f(a,b,c,d){d=new V.Face3(a.index,b.index,c.index,[a.clone(),b.clone(),c.clone()],void 0,d);l.faces.push(d);v.copy(a).add(b).add(c).divideScalar(3);d=Math.atan2(v.z,-v.x);l.faceVertexUvs[0].push([k(a.uv,a,d),k(b.uv,b,d),k(c.uv,c,d)])}function g(a,b){b=Math.pow(2,
b);var c=e(l.vertices[a.a]),d=e(l.vertices[a.b]),g=e(l.vertices[a.c]),k=[];a=a.materialIndex;for(var m=0;m<=b;m++){k[m]=[];for(var n=e(c.clone().lerp(g,m/b)),p=e(d.clone().lerp(g,m/b)),q=b-m,r=0;r<=q;r++)k[m][r]=0===r&&m===b?n:e(n.clone().lerp(p,r/q))}for(m=0;m<b;m++)for(r=0;r<2*(b-m)-1;r++)c=Math.floor(r/2),0===r%2?f(k[m][c+1],k[m+1][c],k[m][c],a):f(k[m][c+1],k[m+1][c+1],k[m+1][c],a)}function k(a,b,c){0>c&&1===a.x&&(a=new V.Vector2(a.x-1,a.y));0===b.x&&0===b.z&&(a=new V.Vector2(c/2/Math.PI+.5,a.y));
return a.clone()}V.Geometry.call(this);this.type="PolyhedronGeometry";this.parameters={vertices:a,indices:b,radius:c,detail:d};c=c||1;d=d||0;for(var l=this,m=0,n=a.length;m<n;m+=3)e(new V.Vector3(a[m],a[m+1],a[m+2]));a=this.vertices;var q=[],p=m=0;for(n=b.length;m<n;m+=3,p++){var t=a[b[m]],r=a[b[m+1]],u=a[b[m+2]];q[p]=new V.Face3(t.index,r.index,u.index,[t.clone(),r.clone(),u.clone()],void 0,p)}var v=new V.Vector3;m=0;for(n=q.length;m<n;m++)g(q[m],d);m=0;for(n=this.faceVertexUvs[0].length;m<n;m++)b=
this.faceVertexUvs[0][m],d=b[0].x,a=b[1].x,q=b[2].x,p=Math.min(d,a,q),.9<Math.max(d,a,q)&&.1>p&&(.2>d&&(b[0].x+=1),.2>a&&(b[1].x+=1),.2>q&&(b[2].x+=1));m=0;for(n=this.vertices.length;m<n;m++)this.vertices[m].multiplyScalar(c);this.mergeVertices();this.computeFaceNormals();this.boundingSphere=new V.Sphere(new V.Vector3,c)};V.PolyhedronGeometry.prototype=Object.create(V.Geometry.prototype);V.PolyhedronGeometry.prototype.constructor=V.PolyhedronGeometry;
V.DodecahedronGeometry=function(a,b){var c=(1+Math.sqrt(5))/2,d=1/c;V.PolyhedronGeometry.call(this,[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-d,-c,0,-d,c,0,d,-c,0,d,c,-d,-c,0,-d,c,0,d,-c,0,d,c,0,-c,0,-d,c,0,-d,-c,0,d,c,0,d],[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,
14,5,1,5,9],a,b);this.type="DodecahedronGeometry";this.parameters={radius:a,detail:b}};V.DodecahedronGeometry.prototype=Object.create(V.PolyhedronGeometry.prototype);V.DodecahedronGeometry.prototype.constructor=V.DodecahedronGeometry;
V.IcosahedronGeometry=function(a,b){var c=(1+Math.sqrt(5))/2;V.PolyhedronGeometry.call(this,[-1,c,0,1,c,0,-1,-c,0,1,-c,0,0,-1,c,0,1,c,0,-1,-c,0,1,-c,c,0,-1,c,0,1,-c,0,-1,-c,0,1],[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],a,b);this.type="IcosahedronGeometry";this.parameters={radius:a,detail:b}};V.IcosahedronGeometry.prototype=Object.create(V.PolyhedronGeometry.prototype);
V.IcosahedronGeometry.prototype.constructor=V.IcosahedronGeometry;V.OctahedronGeometry=function(a,b){V.PolyhedronGeometry.call(this,[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2],a,b);this.type="OctahedronGeometry";this.parameters={radius:a,detail:b}};V.OctahedronGeometry.prototype=Object.create(V.PolyhedronGeometry.prototype);V.OctahedronGeometry.prototype.constructor=V.OctahedronGeometry;
V.TetrahedronGeometry=function(a,b){V.PolyhedronGeometry.call(this,[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],[2,1,0,0,3,2,1,3,0,2,3,1],a,b);this.type="TetrahedronGeometry";this.parameters={radius:a,detail:b}};V.TetrahedronGeometry.prototype=Object.create(V.PolyhedronGeometry.prototype);V.TetrahedronGeometry.prototype.constructor=V.TetrahedronGeometry;
V.ParametricGeometry=function(a,b,c){V.Geometry.call(this);this.type="ParametricGeometry";this.parameters={func:a,slices:b,stacks:c};var d=this.vertices,e=this.faces,f=this.faceVertexUvs[0],g,k,l=b+1;for(g=0;g<=c;g++){var m=g/c;for(k=0;k<=b;k++){var n=k/b;n=a(n,m);d.push(n)}}for(g=0;g<c;g++)for(k=0;k<b;k++){a=g*l+k;d=g*l+k+1;m=(g+1)*l+k+1;n=(g+1)*l+k;var q=new V.Vector2(k/b,g/c);var p=new V.Vector2((k+1)/b,g/c);var t=new V.Vector2((k+1)/b,(g+1)/c);var r=new V.Vector2(k/b,(g+1)/c);e.push(new V.Face3(a,
d,n));f.push([q,p,r]);e.push(new V.Face3(d,m,n));f.push([p.clone(),t,r.clone()])}this.computeFaceNormals();this.computeVertexNormals()};V.ParametricGeometry.prototype=Object.create(V.Geometry.prototype);V.ParametricGeometry.prototype.constructor=V.ParametricGeometry;
V.WireframeGeometry=function(a){function b(a,b){return a-b}V.BufferGeometry.call(this);var c=[0,0];var d={};var e=["a","b","c"];if(a instanceof V.Geometry){var f=a.vertices;var g=a.faces;var k=0;a=new Uint32Array(6*g.length);for(var l=0,m=g.length;l<m;l++)for(var n=g[l],q=0;3>q;q++){c[0]=n[e[q]];c[1]=n[e[(q+1)%3]];c.sort(b);var p=c.toString();void 0===d[p]&&(a[2*k]=c[0],a[2*k+1]=c[1],d[p]=!0,k++)}c=new Float32Array(6*k);l=0;for(m=k;l<m;l++)for(q=0;2>q;q++)d=f[a[2*l+q]],k=6*l+3*q,c[k+0]=d.x,c[k+1]=
d.y,c[k+2]=d.z;this.addAttribute("position",new V.BufferAttribute(c,3))}else if(a instanceof V.BufferGeometry){if(null!==a.index){m=a.index.array;f=a.attributes.position;e=a.groups;k=0;0===e.length&&a.addGroup(0,m.length);a=new Uint32Array(2*m.length);g=0;for(n=e.length;g<n;++g){l=e[g];q=l.start;p=l.count;l=q;for(var t=q+p;l<t;l+=3)for(q=0;3>q;q++)c[0]=m[l+q],c[1]=m[l+(q+1)%3],c.sort(b),p=c.toString(),void 0===d[p]&&(a[2*k]=c[0],a[2*k+1]=c[1],d[p]=!0,k++)}c=new Float32Array(6*k);l=0;for(m=k;l<m;l++)for(q=
0;2>q;q++)k=6*l+3*q,d=a[2*l+q],c[k+0]=f.getX(d),c[k+1]=f.getY(d),c[k+2]=f.getZ(d)}else for(f=a.attributes.position.array,k=f.length/3,c=new Float32Array(6*k),l=0,m=k/3;l<m;l++)for(q=0;3>q;q++)k=18*l+6*q,a=9*l+3*q,c[k+0]=f[a],c[k+1]=f[a+1],c[k+2]=f[a+2],d=9*l+(q+1)%3*3,c[k+3]=f[d],c[k+4]=f[d+1],c[k+5]=f[d+2];this.addAttribute("position",new V.BufferAttribute(c,3))}};V.WireframeGeometry.prototype=Object.create(V.BufferGeometry.prototype);V.WireframeGeometry.prototype.constructor=V.WireframeGeometry;
V.AxisHelper=function(a){a=a||1;var b=new Float32Array([0,0,0,a,0,0,0,0,0,0,a,0,0,0,0,0,0,a]),c=new Float32Array([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1]);a=new V.BufferGeometry;a.addAttribute("position",new V.BufferAttribute(b,3));a.addAttribute("color",new V.BufferAttribute(c,3));b=new V.LineBasicMaterial({vertexColors:V.VertexColors});V.LineSegments.call(this,a,b)};V.AxisHelper.prototype=Object.create(V.LineSegments.prototype);V.AxisHelper.prototype.constructor=V.AxisHelper;
V.ArrowHelper=function(){var a=new V.BufferGeometry;a.addAttribute("position",new V.Float32Attribute([0,0,0,0,1,0],3));var b=new V.CylinderBufferGeometry(0,.5,1,5,1);b.translate(0,-.5,0);return function(c,d,e,f,g,k){V.Object3D.call(this);void 0===f&&(f=16776960);void 0===e&&(e=1);void 0===g&&(g=.2*e);void 0===k&&(k=.2*g);this.position.copy(d);this.line=new V.Line(a,new V.LineBasicMaterial({color:f}));this.line.matrixAutoUpdate=!1;this.add(this.line);this.cone=new V.Mesh(b,new V.MeshBasicMaterial({color:f}));
this.cone.matrixAutoUpdate=!1;this.add(this.cone);this.setDirection(c);this.setLength(e,g,k)}}();V.ArrowHelper.prototype=Object.create(V.Object3D.prototype);V.ArrowHelper.prototype.constructor=V.ArrowHelper;V.ArrowHelper.prototype.setDirection=function(){var a=new V.Vector3,b;return function(c){.99999<c.y?this.quaternion.set(0,0,0,1):-.99999>c.y?this.quaternion.set(1,0,0,0):(a.set(c.z,0,-c.x).normalize(),b=Math.acos(c.y),Oc(this.quaternion,a,b))}}();
V.ArrowHelper.prototype.setLength=function(a,b,c){void 0===b&&(b=.2*a);void 0===c&&(c=.2*b);this.line.scale.set(1,Math.max(0,a-b),1);this.line.updateMatrix();this.cone.scale.set(c,b,c);this.cone.position.y=a;this.cone.updateMatrix()};V.ArrowHelper.prototype.setColor=function(a){this.line.material.color.copy(a);this.cone.material.color.copy(a)};
V.BoxHelper=function(a){var b=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),c=new Float32Array(24),d=new V.BufferGeometry;d.setIndex(new V.BufferAttribute(b,1));d.addAttribute("position",new V.BufferAttribute(c,3));V.LineSegments.call(this,d,new V.LineBasicMaterial({color:16776960}));void 0!==a&&this.update(a)};V.BoxHelper.prototype=Object.create(V.LineSegments.prototype);V.BoxHelper.prototype.constructor=V.BoxHelper;
V.BoxHelper.prototype.update=function(){var a=new V.Box3;return function(b){b instanceof V.Box3?a.copy(b):a.setFromObject(b);if(!a.isEmpty()){b=a.min;var c=a.max,d=this.geometry.attributes.position,e=d.array;e[0]=c.x;e[1]=c.y;e[2]=c.z;e[3]=b.x;e[4]=c.y;e[5]=c.z;e[6]=b.x;e[7]=b.y;e[8]=c.z;e[9]=c.x;e[10]=b.y;e[11]=c.z;e[12]=c.x;e[13]=c.y;e[14]=b.z;e[15]=b.x;e[16]=c.y;e[17]=b.z;e[18]=b.x;e[19]=b.y;e[20]=b.z;e[21]=c.x;e[22]=b.y;e[23]=b.z;d.needsUpdate=!0;this.geometry.computeBoundingSphere()}}}();
V.BoundingBoxHelper=function(a,b){b=void 0!==b?b:8947848;this.object=a;this.box=new V.Box3;V.Mesh.call(this,new V.BoxGeometry(1,1,1),new V.MeshBasicMaterial({color:b,wireframe:!0}))};V.BoundingBoxHelper.prototype=Object.create(V.Mesh.prototype);V.BoundingBoxHelper.prototype.constructor=V.BoundingBoxHelper;V.BoundingBoxHelper.prototype.update=function(){this.box.setFromObject(this.object);this.box.size(this.scale);this.box.center(this.position)};
V.CameraHelper=function(a){function b(a,b,d){c(a,d);c(b,d)}function c(a,b){d.vertices.push(new V.Vector3);d.colors.push(new V.Color(b));void 0===f[a]&&(f[a]=[]);f[a].push(d.vertices.length-1)}var d=new V.Geometry,e=new V.LineBasicMaterial({color:16777215,vertexColors:V.FaceColors}),f={};b("n1","n2",16755200);b("n2","n4",16755200);b("n4","n3",16755200);b("n3","n1",16755200);b("f1","f2",16755200);b("f2","f4",16755200);b("f4","f3",16755200);b("f3","f1",16755200);b("n1","f1",16755200);b("n2","f2",16755200);
b("n3","f3",16755200);b("n4","f4",16755200);b("p","n1",16711680);b("p","n2",16711680);b("p","n3",16711680);b("p","n4",16711680);b("u1","u2",43775);b("u2","u3",43775);b("u3","u1",43775);b("c","t",16777215);b("p","c",3355443);b("cn1","cn2",3355443);b("cn3","cn4",3355443);b("cf1","cf2",3355443);b("cf3","cf4",3355443);V.LineSegments.call(this,d,e);this.camera=a;this.camera.updateProjectionMatrix();this.matrix=a.matrixWorld;this.matrixAutoUpdate=!1;this.pointMap=f;this.update()};
V.CameraHelper.prototype=Object.create(V.LineSegments.prototype);V.CameraHelper.prototype.constructor=V.CameraHelper;
V.CameraHelper.prototype.update=function(){function a(a,g,k,l){d.set(g,k,l).unproject(e);a=c[a];if(void 0!==a)for(g=0,k=a.length;g<k;g++)b.vertices[a[g]].copy(d)}var b,c,d=new V.Vector3,e=new V.Camera;return function(){b=this.geometry;c=this.pointMap;e.projectionMatrix.copy(this.camera.projectionMatrix);a("c",0,0,-1);a("t",0,0,1);a("n1",-1,-1,-1);a("n2",1,-1,-1);a("n3",-1,1,-1);a("n4",1,1,-1);a("f1",-1,-1,1);a("f2",1,-1,1);a("f3",-1,1,1);a("f4",1,1,1);a("u1",.7,1.1,-1);a("u2",-.7,1.1,-1);a("u3",0,
2,-1);a("cf1",-1,0,1);a("cf2",1,0,1);a("cf3",0,-1,1);a("cf4",0,1,1);a("cn1",-1,0,-1);a("cn2",1,0,-1);a("cn3",0,-1,-1);a("cn4",0,1,-1);b.verticesNeedUpdate=!0}}();
V.DirectionalLightHelper=function(a,b){V.Object3D.call(this);this.light=a;this.light.updateMatrixWorld();this.matrix=a.matrixWorld;this.matrixAutoUpdate=!1;void 0===b&&(b=1);a=new V.BufferGeometry;a.addAttribute("position",new V.Float32Attribute([-b,b,0,b,b,0,b,-b,0,-b,-b,0,-b,b,0],3));b=new V.LineBasicMaterial({fog:!1});this.add(new V.Line(a,b));a=new V.BufferGeometry;a.addAttribute("position",new V.Float32Attribute([0,0,0,0,0,1],3));this.add(new V.Line(a,b));this.update()};
V.DirectionalLightHelper.prototype=Object.create(V.Object3D.prototype);V.DirectionalLightHelper.prototype.constructor=V.DirectionalLightHelper;V.DirectionalLightHelper.prototype.dispose=function(){var a=this.children[0],b=this.children[1];a.geometry.dispose();a.material.dispose();b.geometry.dispose();b.material.dispose()};
V.DirectionalLightHelper.prototype.update=function(){var a=new V.Vector3,b=new V.Vector3,c=new V.Vector3;return function(){Uc(a,this.light.matrixWorld);Uc(b,this.light.target.matrixWorld);c.subVectors(b,a);var d=this.children[0],e=this.children[1];d.lookAt(c);d.material.color.copy(this.light.color).multiplyScalar(this.light.intensity);e.lookAt(c);e.scale.z=c.length()}}();
V.EdgesHelper=function(a,b,c){b=void 0!==b?b:16777215;V.LineSegments.call(this,new V.EdgesGeometry(a.geometry,c),new V.LineBasicMaterial({color:b}));this.matrix=a.matrixWorld;this.matrixAutoUpdate=!1};V.EdgesHelper.prototype=Object.create(V.LineSegments.prototype);V.EdgesHelper.prototype.constructor=V.EdgesHelper;
V.FaceNormalsHelper=function(a,b,c,d){this.object=a;this.size=void 0!==b?b:1;a=void 0!==c?c:16776960;d=void 0!==d?d:1;b=0;c=this.object.geometry;c instanceof V.Geometry?b=c.faces.length:console.warn("THREE.FaceNormalsHelper: only THREE.Geometry is supported. Use THREE.VertexNormalsHelper, instead.");c=new V.BufferGeometry;b=new V.Float32Attribute(6*b,3);c.addAttribute("position",b);V.LineSegments.call(this,c,new V.LineBasicMaterial({color:a,linewidth:d}));this.matrixAutoUpdate=!1;this.update()};
V.FaceNormalsHelper.prototype=Object.create(V.LineSegments.prototype);V.FaceNormalsHelper.prototype.constructor=V.FaceNormalsHelper;
V.FaceNormalsHelper.prototype.update=function(){var a=new V.Vector3,b=new V.Vector3,c=new V.Matrix3;return function(){this.object.updateMatrixWorld(!0);$c(c,this.object.matrixWorld);var d=this.object.matrixWorld,e=this.geometry.attributes.position,f=this.object.geometry,g=f.vertices;f=f.faces;for(var k=0,l=0,m=f.length;l<m;l++){var n=f[l],q=n.normal;a.copy(g[n.a]).add(g[n.b]).add(g[n.c]).divideScalar(3).applyMatrix4(d);Wc(b.copy(q),c).normalize().multiplyScalar(this.size).add(a);e.setXYZ(k,a.x,a.y,
a.z);k+=1;e.setXYZ(k,b.x,b.y,b.z);k+=1}e.needsUpdate=!0;return this}}();
V.GridHelper=function(a,b,c,d){c=new V.Color(void 0!==c?c:4473924);d=new V.Color(void 0!==d?d:8947848);for(var e=[],f=[],g=-a,k=0;g<=a;g+=b){e.push(-a,0,g,a,0,g);e.push(g,0,-a,g,0,a);var l=0===g?c:d;l.toArray(f,k);k+=3;l.toArray(f,k);k+=3;l.toArray(f,k);k+=3;l.toArray(f,k);k+=3}a=new V.BufferGeometry;a.addAttribute("position",new V.Float32Attribute(e,3));a.addAttribute("color",new V.Float32Attribute(f,3));e=new V.LineBasicMaterial({vertexColors:V.VertexColors});V.LineSegments.call(this,a,e)};
V.GridHelper.prototype=Object.create(V.LineSegments.prototype);V.GridHelper.prototype.constructor=V.GridHelper;V.GridHelper.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")};
V.HemisphereLightHelper=function(a,b){V.Object3D.call(this);this.light=a;this.light.updateMatrixWorld();this.matrix=a.matrixWorld;this.matrixAutoUpdate=!1;this.colors=[new V.Color,new V.Color];a=new V.SphereGeometry(b,4,2);a.rotateX(-Math.PI/2);for(b=0;8>b;b++)a.faces[b].color=this.colors[4>b?0:1];b=new V.MeshBasicMaterial({vertexColors:V.FaceColors,wireframe:!0});this.lightSphere=new V.Mesh(a,b);this.add(this.lightSphere);this.update()};V.HemisphereLightHelper.prototype=Object.create(V.Object3D.prototype);
V.HemisphereLightHelper.prototype.constructor=V.HemisphereLightHelper;V.HemisphereLightHelper.prototype.dispose=function(){this.lightSphere.geometry.dispose();this.lightSphere.material.dispose()};
V.HemisphereLightHelper.prototype.update=function(){var a=new V.Vector3;return function(){this.colors[0].copy(this.light.color).multiplyScalar(this.light.intensity);this.colors[1].copy(this.light.groundColor).multiplyScalar(this.light.intensity);this.lightSphere.lookAt(Uc(a,this.light.matrixWorld).negate());this.lightSphere.geometry.colorsNeedUpdate=!0}}();
V.PointLightHelper=function(a,b){this.light=a;this.light.updateMatrixWorld();a=new V.SphereBufferGeometry(b,4,2);b=new V.MeshBasicMaterial({wireframe:!0,fog:!1});b.color.copy(this.light.color).multiplyScalar(this.light.intensity);V.Mesh.call(this,a,b);this.matrix=this.light.matrixWorld;this.matrixAutoUpdate=!1};V.PointLightHelper.prototype=Object.create(V.Mesh.prototype);V.PointLightHelper.prototype.constructor=V.PointLightHelper;
V.PointLightHelper.prototype.dispose=function(){this.geometry.dispose();this.material.dispose()};V.PointLightHelper.prototype.update=function(){this.material.color.copy(this.light.color).multiplyScalar(this.light.intensity)};
V.SkeletonHelper=function(a){this.bones=Kd(this,a);for(var b=new V.Geometry,c=0;c<this.bones.length;c++)this.bones[c].parent instanceof V.Bone&&(b.vertices.push(new V.Vector3),b.vertices.push(new V.Vector3),b.colors.push(new V.Color(0,0,1)),b.colors.push(new V.Color(0,1,0)));b.dynamic=!0;c=new V.LineBasicMaterial({vertexColors:V.VertexColors,depthTest:!1,depthWrite:!1,transparent:!0});V.LineSegments.call(this,b,c);this.root=a;this.matrix=a.matrixWorld;this.matrixAutoUpdate=!1;this.update()};
V.SkeletonHelper.prototype=Object.create(V.LineSegments.prototype);V.SkeletonHelper.prototype.constructor=V.SkeletonHelper;function Kd(a,b){var c=[];b instanceof V.Bone&&c.push(b);for(var d=0;d<b.children.length;d++)c.push.apply(c,Kd(a,b.children[d]));return c}
V.SkeletonHelper.prototype.update=function(){for(var a=this.geometry,b=(new V.Matrix4).getInverse(this.root.matrixWorld),c=new V.Matrix4,d=0,e=0;e<this.bones.length;e++){var f=this.bones[e];f.parent instanceof V.Bone&&(Rc(c,b,f.matrixWorld),Uc(a.vertices[d],c),Rc(c,b,f.parent.matrixWorld),Uc(a.vertices[d+1],c),d+=2)}a.verticesNeedUpdate=!0;a.computeBoundingSphere()};
V.SpotLightHelper=function(a){V.Object3D.call(this);this.light=a;this.light.updateMatrixWorld();this.matrix=a.matrixWorld;this.matrixAutoUpdate=!1;a=new V.BufferGeometry;for(var b=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1],c=0,d=1;32>c;c++,d++){var e=c/32*Math.PI*2,f=d/32*Math.PI*2;b.push(Math.cos(e),Math.sin(e),1,Math.cos(f),Math.sin(f),1)}a.addAttribute("position",new V.Float32Attribute(b,3));b=new V.LineBasicMaterial({fog:!1});this.cone=new V.LineSegments(a,b);this.add(this.cone);
this.update()};V.SpotLightHelper.prototype=Object.create(V.Object3D.prototype);V.SpotLightHelper.prototype.constructor=V.SpotLightHelper;V.SpotLightHelper.prototype.dispose=function(){this.cone.geometry.dispose();this.cone.material.dispose()};
V.SpotLightHelper.prototype.update=function(){var a=new V.Vector3,b=new V.Vector3;return function(){var c=this.light.distance?this.light.distance:1E3,d=c*Math.tan(this.light.angle);this.cone.scale.set(d,d,c);Uc(a,this.light.matrixWorld);Uc(b,this.light.target.matrixWorld);this.cone.lookAt(b.sub(a));this.cone.material.color.copy(this.light.color).multiplyScalar(this.light.intensity)}}();
V.VertexNormalsHelper=function(a,b,c,d){this.object=a;this.size=void 0!==b?b:1;a=void 0!==c?c:16711680;d=void 0!==d?d:1;b=0;c=this.object.geometry;c instanceof V.Geometry?b=3*c.faces.length:c instanceof V.BufferGeometry&&(b=c.attributes.normal.count);c=new V.BufferGeometry;b=new V.Float32Attribute(6*b,3);c.addAttribute("position",b);V.LineSegments.call(this,c,new V.LineBasicMaterial({color:a,linewidth:d}));this.matrixAutoUpdate=!1;this.update()};V.VertexNormalsHelper.prototype=Object.create(V.LineSegments.prototype);
V.VertexNormalsHelper.prototype.constructor=V.VertexNormalsHelper;
V.VertexNormalsHelper.prototype.update=function(){var a=new V.Vector3,b=new V.Vector3,c=new V.Matrix3;return function(){var d=["a","b","c"];this.object.updateMatrixWorld(!0);$c(c,this.object.matrixWorld);var e=this.object.matrixWorld,f=this.geometry.attributes.position;var g=this.object.geometry;if(g instanceof V.Geometry)for(var k=g.vertices,l=g.faces,m=g=0,n=l.length;m<n;m++)for(var q=l[m],p=0,t=q.vertexNormals.length;p<t;p++){var r=q.vertexNormals[p];a.copy(k[q[d[p]]]).applyMatrix4(e);Wc(b.copy(r),
c).normalize().multiplyScalar(this.size).add(a);f.setXYZ(g,a.x,a.y,a.z);g+=1;f.setXYZ(g,b.x,b.y,b.z);g+=1}else if(g instanceof V.BufferGeometry)for(d=g.attributes.position,k=g.attributes.normal,p=g=0,t=d.count;p<t;p++)a.set(d.getX(p),d.getY(p),d.getZ(p)).applyMatrix4(e),b.set(k.getX(p),k.getY(p),k.getZ(p)),Wc(b,c).normalize().multiplyScalar(this.size).add(a),f.setXYZ(g,a.x,a.y,a.z),g+=1,f.setXYZ(g,b.x,b.y,b.z),g+=1;f.needsUpdate=!0;return this}}();
V.WireframeHelper=function(a,b){b=void 0!==b?b:16777215;V.LineSegments.call(this,new V.WireframeGeometry(a.geometry),new V.LineBasicMaterial({color:b}));this.matrix=a.matrixWorld;this.matrixAutoUpdate=!1};V.WireframeHelper.prototype=Object.create(V.LineSegments.prototype);V.WireframeHelper.prototype.constructor=V.WireframeHelper;V.ImmediateRenderObject=function(a){V.Object3D.call(this);this.material=a;this.render=function(){}};V.ImmediateRenderObject.prototype=Object.create(V.Object3D.prototype);
V.ImmediateRenderObject.prototype.constructor=V.ImmediateRenderObject;V.MorphBlendMesh=function(a,b){V.Mesh.call(this,a,b);this.animationsMap={};this.animationsList=[];a=this.geometry.morphTargets.length;Ld(this,"__default",0,a-1,a/1);if(a=this.animationsMap.__default)a.weight=1};V.MorphBlendMesh.prototype=Object.create(V.Mesh.prototype);h=V.MorphBlendMesh.prototype;h.constructor=V.MorphBlendMesh;
function Ld(a,b,c,d,e){c={start:c,end:d,length:d-c+1,fps:e,duration:(d-c)/e,lastFrame:0,currentFrame:0,active:!1,time:0,direction:1,weight:1,directionBackwards:!1,mirroredLoop:!1};a.animationsMap[b]=c;a.animationsList.push(c)}
h.autoCreateAnimations=function(a){for(var b,c,d=/([a-z]+)_?(\d+)/i,e,f={},g=this.geometry,k=0,l=g.morphTargets.length;k<l;k++)(b=g.morphTargets[k].name.match(d))&&1<b.length&&(c=b[1],f[c]||(f[c]={start:Infinity,end:-Infinity}),b=f[c],k<b.start&&(b.start=k),k>b.end&&(b.end=k),e||(e=c));for(c in f)b=f[c],Ld(this,c,b.start,b.end,a);this.firstAnimation=e};h.setAnimationDirectionForward=function(a){if(a=this.animationsMap[a])a.direction=1,a.directionBackwards=!1};
h.setAnimationDirectionBackward=function(a){if(a=this.animationsMap[a])a.direction=-1,a.directionBackwards=!0};h.setAnimationFPS=function(a,b){if(a=this.animationsMap[a])a.fps=b,a.duration=(a.end-a.start)/a.fps};h.setAnimationDuration=function(a,b){if(a=this.animationsMap[a])a.duration=b,a.fps=(a.end-a.start)/a.duration};h.setAnimationTime=function(a,b){if(a=this.animationsMap[a])a.time=b};h.getAnimationTime=function(a){var b=0;if(a=this.animationsMap[a])b=a.time;return b};
h.getAnimationDuration=function(a){var b=-1;if(a=this.animationsMap[a])b=a.duration;return b};h.playAnimation=function(a){var b=this.animationsMap[a];b?(b.time=0,b.active=!0):console.warn("THREE.MorphBlendMesh: animation["+a+"] undefined in .playAnimation()")};h.stopAnimation=function(a){if(a=this.animationsMap[a])a.active=!1};
h.update=function(a){for(var b=0,c=this.animationsList.length;b<c;b++){var d=this.animationsList[b];if(d.active){var e=d.duration/d.length;d.time+=d.direction*a;if(d.mirroredLoop){if(d.time>d.duration||0>d.time)d.direction*=-1,d.time>d.duration&&(d.time=d.duration,d.directionBackwards=!0),0>d.time&&(d.time=0,d.directionBackwards=!1)}else d.time%=d.duration,0>d.time&&(d.time+=d.duration);var f=d.start+V.Math.clamp(Math.floor(d.time/e),0,d.length-1),g=d.weight;f!==d.currentFrame&&(this.morphTargetInfluences[d.lastFrame]=
0,this.morphTargetInfluences[d.currentFrame]=1*g,this.morphTargetInfluences[f]=0,d.lastFrame=d.currentFrame,d.currentFrame=f);e=d.time%e/e;d.directionBackwards&&(e=1-e);d.currentFrame!==d.lastFrame?(this.morphTargetInfluences[d.currentFrame]=e*g,this.morphTargetInfluences[d.lastFrame]=(1-e)*g):this.morphTargetInfluences[d.currentFrame]=g}}};
</script>
<script>//~~WEBPATH~~/tf-imports/OrbitControls.js
V.OrbitControls=function(a,b){function c(){return Math.pow(.95,r.zoomSpeed)}function d(a){r.object instanceof V.PerspectiveCamera?G/=a:r.object instanceof V.OrthographicCamera?(r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom*a)),r.object.updateProjectionMatrix(),F=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function e(a){r.object instanceof V.PerspectiveCamera?G*=a:r.object instanceof V.OrthographicCamera?
(r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/a)),r.object.updateProjectionMatrix(),F=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function f(a){if(!1!==r.enabled){a.preventDefault();if(a.button===r.mouseButtons.ORBIT){if(!1===r.enableRotate)return;B.set(a.clientX,a.clientY);A=w.ROTATE}else if(a.button===r.mouseButtons.ZOOM){if(!1===r.enableZoom)return;Q.set(a.clientX,a.clientY);A=w.DOLLY}else if(a.button===
r.mouseButtons.PAN){if(!1===r.enablePan)return;M.set(a.clientX,a.clientY);A=w.PAN}A!==w.NONE&&(document.addEventListener("mousemove",g,!1),document.addEventListener("mouseup",k,!1),document.addEventListener("mouseout",k,!1),r.dispatchEvent(v))}}function g(a){!1!==r.enabled&&(a.preventDefault(),A===w.ROTATE?!1!==r.enableRotate&&(H.set(a.clientX,a.clientY),K.subVectors(H,B),a=r.domElement===document?r.domElement.body:r.domElement,D.theta-=2*Math.PI*K.x/a.clientWidth*r.rotateSpeed,D.phi-=2*Math.PI*K.y/
a.clientHeight*r.rotateSpeed,B.copy(H),r.update()):A===w.DOLLY?!1!==r.enableZoom&&(O.set(a.clientX,a.clientY),J.subVectors(O,Q),0<J.y?d(c()):0>J.y&&e(c()),Q.copy(O),r.update()):A===w.PAN&&!1!==r.enablePan&&(R.set(a.clientX,a.clientY),L.subVectors(R,M),Z(L.x,L.y),M.copy(R),r.update()))}function k(){!1!==r.enabled&&(document.removeEventListener("mousemove",g,!1),document.removeEventListener("mouseup",k,!1),document.removeEventListener("mouseout",k,!1),r.dispatchEvent(z),A=w.NONE)}function l(a){if(!1!==
r.enabled&&!1!==r.enableZoom&&(A===w.NONE||A===w.ROTATE)){a.preventDefault();a.stopPropagation();var b=0;void 0!==a.wheelDelta?b=a.wheelDelta:void 0!==a.detail&&(b=-a.detail);0<b?e(c()):0>b&&d(c());r.update();r.dispatchEvent(v);r.dispatchEvent(z)}}function m(a){if(!1!==r.enabled&&!1!==r.enableKeys&&!1!==r.enablePan)switch(a.keyCode){case r.keys.UP:Z(0,r.keyPanSpeed);r.update();break;case r.keys.BOTTOM:Z(0,-r.keyPanSpeed);r.update();break;case r.keys.LEFT:Z(r.keyPanSpeed,0);r.update();break;case r.keys.RIGHT:Z(-r.keyPanSpeed,
0),r.update()}}function n(a){if(!1!==r.enabled){switch(a.touches.length){case 1:if(!1===r.enableRotate)return;B.set(a.touches[0].pageX,a.touches[0].pageY);A=w.TOUCH_ROTATE;break;case 2:if(!1===r.enableZoom)return;var b=a.touches[0].pageX-a.touches[1].pageX;a=a.touches[0].pageY-a.touches[1].pageY;Q.set(0,Math.sqrt(b*b+a*a));A=w.TOUCH_DOLLY;break;case 3:if(!1===r.enablePan)return;M.set(a.touches[0].pageX,a.touches[0].pageY);A=w.TOUCH_PAN;break;default:A=w.NONE}A!==w.NONE&&r.dispatchEvent(v)}}function q(a){if(!1!==
r.enabled)switch(a.preventDefault(),a.stopPropagation(),a.touches.length){case 1:if(!1===r.enableRotate)break;if(A!==w.TOUCH_ROTATE)break;H.set(a.touches[0].pageX,a.touches[0].pageY);K.subVectors(H,B);var b=r.domElement===document?r.domElement.body:r.domElement;D.theta-=2*Math.PI*K.x/b.clientWidth*r.rotateSpeed;D.phi-=2*Math.PI*K.y/b.clientHeight*r.rotateSpeed;B.copy(H);r.update();break;case 2:if(!1===r.enableZoom)break;if(A!==w.TOUCH_DOLLY)break;b=a.touches[0].pageX-a.touches[1].pageX;a=a.touches[0].pageY-
a.touches[1].pageY;O.set(0,Math.sqrt(b*b+a*a));J.subVectors(O,Q);0<J.y?e(c()):0>J.y&&d(c());Q.copy(O);r.update();break;case 3:if(!1===r.enablePan)break;if(A!==w.TOUCH_PAN)break;R.set(a.touches[0].pageX,a.touches[0].pageY);L.subVectors(R,M);Z(L.x,L.y);M.copy(R);r.update();break;default:A=w.NONE}}function p(){!1!==r.enabled&&(r.dispatchEvent(z),A=w.NONE)}function t(a){a.preventDefault()}this.object=a;this.domElement=void 0!==b?b:document;this.enabled=!0;this.target=new V.Vector3;this.minDistance=0;
this.maxDistance=Infinity;this.minZoom=0;this.maxZoom=Infinity;this.minPolarAngle=0;this.maxPolarAngle=Math.PI;this.minAzimuthAngle=-Infinity;this.maxAzimuthAngle=Infinity;this.enableDamping=!1;this.dampingFactor=.25;this.enableZoom=!0;this.zoomSpeed=1;this.enableRotate=!0;this.rotateSpeed=1;this.enablePan=!0;this.keyPanSpeed=7;this.autoRotate=!1;this.autoRotateSpeed=2;this.enableKeys=!0;this.keys={LEFT:37,UP:38,RIGHT:39,BOTTOM:40};this.mouseButtons={ORBIT:V.MOUSE.LEFT,ZOOM:V.MOUSE.MIDDLE,PAN:V.MOUSE.RIGHT};
this.target0=this.target.clone();this.position0=this.object.position.clone();this.zoom0=this.object.zoom;this.getPolarAngle=function(){return C.phi};this.getAzimuthalAngle=function(){return C.theta};this.reset=function(){r.target.copy(r.target0);r.object.position.copy(r.position0);r.object.zoom=r.zoom0;r.object.updateProjectionMatrix();r.dispatchEvent(u);r.update();A=w.NONE};this.update=function(){var b=new V.Vector3,c=(new V.Quaternion).setFromUnitVectors(a.up,new V.Vector3(0,1,0)),d=c.clone().inverse(),
e=new V.Vector3,f=new V.Quaternion;return function(){var a=r.object.position;b.copy(a).sub(r.target);Qc(b,c);C.setFromVector3(b);r.autoRotate&&A===w.NONE&&(D.theta-=2*Math.PI/60/60*r.autoRotateSpeed);C.theta+=D.theta;C.phi+=D.phi;C.theta=Math.max(r.minAzimuthAngle,Math.min(r.maxAzimuthAngle,C.theta));C.phi=Math.max(r.minPolarAngle,Math.min(r.maxPolarAngle,C.phi));C.phi=Math.max(1E-6,Math.min(Math.PI-1E-6,C.phi));C.radius*=G;C.radius=Math.max(r.minDistance,Math.min(r.maxDistance,C.radius));r.target.add(E);
var g=C,k=Math.sin(g.phi)*g.radius;b.x=k*Math.sin(g.theta);b.y=Math.cos(g.phi)*g.radius;b.z=k*Math.cos(g.theta);Qc(b,d);a.copy(r.target).add(b);r.object.lookAt(r.target);!0===r.enableDamping?(D.theta*=1-r.dampingFactor,D.phi*=1-r.dampingFactor):D.set(0,0,0);G=1;E.set(0,0,0);return F||e.distanceToSquared(r.object.position)>y||8*(1-f.dot(r.object.quaternion))>y?(r.dispatchEvent(u),e.copy(r.object.position),f.copy(r.object.quaternion),F=!1,!0):!1}}();this.dispose=function(){r.domElement.removeEventListener("contextmenu",
t,!1);r.domElement.removeEventListener("mousedown",f,!1);r.domElement.removeEventListener("mousewheel",l,!1);r.domElement.removeEventListener("MozMousePixelScroll",l,!1);r.domElement.removeEventListener("touchstart",n,!1);r.domElement.removeEventListener("touchend",p,!1);r.domElement.removeEventListener("touchmove",q,!1);document.removeEventListener("mousemove",g,!1);document.removeEventListener("mouseup",k,!1);document.removeEventListener("mouseout",k,!1);window.removeEventListener("keydown",m,!1)};
var r=this,u={type:"change"},v={type:"start"},z={type:"end"},w={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_DOLLY:4,TOUCH_PAN:5},A=w.NONE,y=1E-6,C=new V.Spherical,D=new V.Spherical,G=1,E=new V.Vector3,F=!1,B=new V.Vector2,H=new V.Vector2,K=new V.Vector2,M=new V.Vector2,R=new V.Vector2,L=new V.Vector2,Q=new V.Vector2,O=new V.Vector2,J=new V.Vector2,S=function(){var a=new V.Vector3;return function(b,c){Tc(a,c,0);a.multiplyScalar(-b);E.add(a)}}(),P=function(){var a=new V.Vector3;return function(b,
c){Tc(a,c,1);a.multiplyScalar(b);E.add(a)}}(),Z=function(){var a=new V.Vector3;return function(b,c){var d=r.domElement===document?r.domElement.body:r.domElement;if(r.object instanceof V.PerspectiveCamera){a.copy(r.object.position).sub(r.target);var e=a.length();e*=Math.tan(r.object.fov/2*Math.PI/180);S(2*b*e/d.clientHeight,r.object.matrix);P(2*c*e/d.clientHeight,r.object.matrix)}else r.object instanceof V.OrthographicCamera?(S(b*(r.object.right-r.object.left)/r.object.zoom/d.clientWidth,r.object.matrix),
P(c*(r.object.top-r.object.bottom)/r.object.zoom/d.clientHeight,r.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),r.enablePan=!1)}}();r.domElement.addEventListener("contextmenu",t,!1);r.domElement.addEventListener("mousedown",f,!1);r.domElement.addEventListener("mousewheel",l,!1);r.domElement.addEventListener("MozMousePixelScroll",l,!1);r.domElement.addEventListener("touchstart",n,!1);r.domElement.addEventListener("touchend",p,!1);r.domElement.addEventListener("touchmove",
q,!1);window.addEventListener("keydown",m,!1);this.update()};V.OrbitControls.prototype=Object.create(V.EventDispatcher.prototype);V.OrbitControls.prototype.constructor=V.OrbitControls;
Object.defineProperties(V.OrbitControls.prototype,{center:{get:function(){console.warn("THREE.OrbitControls: .center has been renamed to .target");return this.target}},noZoom:{get:function(){console.warn("THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead.");return!this.enableZoom},set:function(a){console.warn("THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead.");this.enableZoom=!a}},noRotate:{get:function(){console.warn("THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead.");
return!this.enableRotate},set:function(a){console.warn("THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead.");this.enableRotate=!a}},noPan:{get:function(){console.warn("THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead.");return!this.enablePan},set:function(a){console.warn("THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead.");this.enablePan=!a}},noKeys:{get:function(){console.warn("THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead.");
return!this.enableKeys},set:function(a){console.warn("THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead.");this.enableKeys=!a}},staticMoving:{get:function(){console.warn("THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead.");return!this.enableDamping},set:function(a){console.warn("THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead.");this.enableDamping=!a}},dynamicDampingFactor:{get:function(){console.warn("THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead.");
return this.dampingFactor},set:function(a){console.warn("THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead.");this.dampingFactor=a}}});
</script>









<script>//~~WEBPATH~~/vz-projector/heap.js
var Md=function(){function a(){this.arr=[]}a.prototype.push=function(a,c){this.arr.push({key:a,value:c});this.bubbleUp(this.arr.length-1)};a.prototype.pop=function(){if(0===this.arr.length)throw Error("pop() called on empty binary heap");var a=this.arr[0],c=this.arr.length-1;this.arr[0]=this.arr[c];this.arr.pop();0<c&&this.bubbleDown(0);return a};a.prototype.peek=function(){return this.arr[0]};a.prototype.popPush=function(a,c){if(0===this.arr.length)throw Error("pop() called on empty binary heap");
this.arr[0]={key:a,value:c};0<this.arr.length&&this.bubbleDown(0)};a.prototype.size=function(){return this.arr.length};a.prototype.items=function(){return this.arr};a.prototype.swap=function(a,c){var b=this.arr[a];this.arr[a]=this.arr[c];this.arr[c]=b};a.prototype.bubbleDown=function(a){var b=(a<<1)+1,d=b+1,e=a;b<this.arr.length&&this.arr[b].key<this.arr[e].key&&(e=b);d<this.arr.length&&this.arr[d].key<this.arr[e].key&&(e=d);e!==a&&(this.swap(e,a),this.bubbleDown(e))};a.prototype.bubbleUp=function(a){if(!(0>=
a)){var b=a-1>>1;this.arr[a].key<this.arr[b].key&&(this.swap(a,b),this.bubbleUp(b))}};return a}(),Nd=function(){function a(a){this.maxHeap=new Md;this.k=a}a.prototype.add=function(a,c){this.maxHeap.size()<this.k?this.maxHeap.push(-a,c):a<-this.maxHeap.peek().key&&this.maxHeap.popPush(-a,c)};a.prototype.getMinKItems=function(){var a=this.maxHeap.items();a.sort(function(a,b){return b.key-a.key});return a.map(function(a){return a.value})};a.prototype.getSize=function(){return this.maxHeap.size()};a.prototype.getLargestKey=
function(){return 0===this.maxHeap.size()?null:-this.maxHeap.peek().key};return a}();
</script>
<script>//~~WEBPATH~~/vz-projector/label.js
var Od=function(){function a(a,c,d){this.bound=a;this.cellWidth=c;this.cellHeight=d;this.numHorizCells=Math.ceil(this.boundWidth(a)/c);this.numVertCells=Math.ceil(this.boundHeight(a)/d);this.grid=Array(this.numHorizCells*this.numVertCells)}a.prototype.boundWidth=function(a){return a.hiX-a.loX};a.prototype.boundHeight=function(a){return a.hiY-a.loY};a.prototype.boundsIntersect=function(a,c){return!(a.loX>c.hiX||a.loY>c.hiY||a.hiX<c.loX||a.hiY<c.loY)};a.prototype.insert=function(a,c){void 0===c&&(c=
!1);if(a.hiX<this.bound.loX||a.loX>this.bound.hiX||a.hiY<this.bound.loY||a.loY>this.bound.hiY)return!1;for(var b=this.getCellX(a.loX),e=this.getCellX(a.hiX),f=this.getCellY(a.loY),g=this.getCellY(a.hiY),k=f*this.numHorizCells+b,l=k,m=f;m<=g;m++){for(var n=b;n<=e;n++){var q=this.grid[l++];if(q)for(var p=0;p<q.length;p++)if(this.boundsIntersect(a,q[p]))return!1}l+=this.numHorizCells-(e-b+1)}if(c)return!0;l=k;for(m=f;m<=g;m++){for(n=b;n<=e;n++)this.grid[l]?this.grid[l].push(a):this.grid[l]=[a],l++;l+=
this.numHorizCells-(e-b+1)}return!0};a.prototype.getCellX=function(a){return Math.floor((a-this.bound.loX)/this.cellWidth)};a.prototype.getCellY=function(a){return Math.floor((a-this.bound.loY)/this.cellHeight)};return a}();
</script>
<script>//~~WEBPATH~~/vz-projector/sptree.js
var Pd=function(){function a(a){if(1>a.length)throw Error("There should be at least 1 data point");this.dim=a[0].length;this.masks=Array(Math.pow(2,this.dim));for(var b=0;b<this.masks.length;++b)this.masks[b]=1<<b;var d=Array(this.dim),e=Number.POSITIVE_INFINITY;for(b=0;b<d.length;++b)d[b]=e;e=Array(this.dim);b=Number.NEGATIVE_INFINITY;for(var f=0;f<e.length;++f)e[f]=b;for(f=0;f<a.length;++f)for(b=0;b<this.dim;++b)d[b]=Math.min(d[b],a[f][b]),e[b]=Math.max(e[b],a[f][b]);f=Array(this.dim);var g=0;for(b=
0;b<this.dim;++b){var k=e[b]-d[b];f[b]=d[b]+k/2;g=Math.max(g,k/2)}this.root={box:{center:f,halfDim:g},point:a[0]};for(f=1;f<a.length;++f)this.insert(this.root,a[f])}a.prototype.visit=function(a,c){void 0===c&&(c=!1);this.visitNode(this.root,a,c)};a.prototype.visitNode=function(a,c,d){if(d)var b=c(a);else{b=Array(this.dim);for(var f=Array(this.dim),g=0;g<this.dim;++g)b[g]=a.box.center[g]-a.box.halfDim,f[g]=a.box.center[g]+a.box.halfDim;b=c(a,b,f)}if(a.children&&!b)for(b=0;b<a.children.length;++b)(f=
a.children[b])&&this.visitNode(f,c,d)};a.prototype.insert=function(a,c){null==a.children&&(a.children=Array(this.masks.length));for(var b=0,e=0;e<this.dim;++e)c[e]>a.box.center[e]&&(b|=this.masks[e]);null==a.children[b]?this.makeChild(a,b,c):this.insert(a.children[b],c)};a.prototype.makeChild=function(a,c,d){for(var b=a.box.center,f=a.box.halfDim/2,g=Array(this.dim),k=0;k<this.dim;++k)g[k]=c&1<<k?b[k]+f:b[k]-f;a.children[c]={box:{center:g,halfDim:f},point:d}};return a}();
</script>
<script>//~~WEBPATH~~/vz-projector/bh_tsne.js
/*

 The MIT License (MIT)
 Copyright (c) 2015 Andrej Karpathy
 Permission is hereby granted, free of charge, to any person obtaining a copy
 of this software and associated documentation files (the "Software"), to deal
 in the Software without restriction, including without limitation the rights
 to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 copies of the Software, and to permit persons to whom the Software is
 furnished to do so, subject to the following conditions:

 The above copyright notice and this permission notice shall be included in
 all copies or substantial portions of the Software.
 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 THE SOFTWARE.
*/
var Qd=!1,Rd=0;function Sd(a,b){var c=a[0]-b[0];a=a[1]-b[1];return c*c+a*a}function Td(a,b){var c=a[0]-b[0],d=a[1]-b[1];a=a[2]-b[2];return c*c+d*d+a*a}function Ud(a){if(Qd)return Qd=!1,Rd;var b=2*a()-1,c=2*a()-1,d=b*b+c*c;if(0===d||1<d)return Ud(a);a=Math.sqrt(-2*Math.log(d)/d);Rd=c*a;Qd=!0;return b*a}function Vd(a,b,c){for(var d=[],e=0;e<a;++e)d.push(3===b?[c,c,c]:[c,c]);return d}function Wd(a,b,c,d){a[0]+=b*(c[0]-d[0]);a[1]+=b*(c[1]-d[1])}
function Xd(a,b,c,d){a[0]+=b*(c[0]-d[0]);a[1]+=b*(c[1]-d[1]);a[2]+=b*(c[2]-d[2])}
var Yd=function(){function a(a){this.iter=0;a=a||{dim:2};this.perplexity=a.perplexity||30;this.epsilon=a.epsilon||10;this.rng=a.rng||Math.random;this.dim=a.dim;if(2===a.dim)this.dist2=Sd,this.computeForce=Wd;else if(3===a.dim)this.dist2=Td,this.computeForce=Xd;else throw Error("Only 2D and 3D is supported");}a.prototype.initDataDist=function(a){var b=a.length;this.nearest=a;for(var d,e,f=a.length,g=Math.log(this.perplexity),k=new Float64Array(f*f),l=Array(a[0].length),m=0;m<f;++m){var n=a[m];d=-Infinity;
for(var q=Infinity,p=1,t=0;;){for(var r=0,u=0;u<n.length;++u)e=n[u],e=m===e.index?0:Math.exp(-e.dist*p),e=Math.max(e,1E-9),l[u]=e,r+=e;var v=0;for(u=0;u<l.length;++u)l[u]/=r,e=l[u],1E-7<e&&(v-=e*Math.log(e));v>g?(d=p,p=Infinity===q?2*p:(p+q)/2):(q=p,p=-Infinity===d?p/2:(p+d)/2);t++;if(50<=t||1E-4>Math.abs(v-g))break}for(u=0;u<l.length;++u)e=l[u],d=n[u].index,k[m*f+d]=e}a=2*f;for(m=0;m<f;++m)for(d=m+1;d<f;++d)g=m*f+d,l=d*f+m,n=(k[g]+k[l])/a,k[g]=n,k[l]=n;this.P=k;this.N=b;this.initSolution()};a.prototype.initSolution=
function(){for(var a=this.rng,c=this.N*this.dim,d=new Float64Array(c),e=0;e<c;++e)d[e]=0+1E-4*Ud(a);this.Y=d;this.gains=Vd(this.N,this.dim,1);this.ystep=Vd(this.N,this.dim,0);this.iter=0};a.prototype.getSolution=function(){return this.Y};a.prototype.step=function(){this.iter+=1;for(var a=this.N,c=this.costGrad(this.Y),d=3===this.dim?[0,0,0]:[0,0],e=0;e<a;++e)for(var f=0;f<this.dim;++f){var g=this.ystep[e][f],k=this.gains[e][f],l=c[e][f];k=(0<l?1:0>l?-1:0)===(0<g?1:0>g?-1:0)?.8*k:k+.2;.01>k&&(k=.01);
this.gains[e][f]=k;g=(250>this.iter?.5:.8)*g-this.epsilon*k*c[e][f];this.ystep[e][f]=g;k=e*this.dim+f;this.Y[k]+=g;d[f]+=this.Y[k]}for(e=0;e<a;++e)for(f=0;f<this.dim;++f)this.Y[e*this.dim+f]-=d[f]/a};a.prototype.costGrad=function(a){function b(a){for(var b=l[a],c=3===v.dim?[0,0,0]:[0,0],d=v.nearest[a],k=0;k<d.length;++k){var m=d[k].index,n=g[a*f+m];m=l[m];var p=v.dist2(b,m);v.computeForce(c,n/(1+p),b,m)}var q=3===v.dim?[0,0,0]:[0,0];t.visit(function(a){var c=e.dist2(b,a.yCell);if(null==a.children||
0<c&&.8>a.rCell/Math.sqrt(c)){c=1/(1+c);var d=a.numCells*c;r+=d;e.computeForce(q,d*c,b,a.yCell);return!0}c=1/(1+e.dist2(b,a.point));r+=c;e.computeForce(q,c*c,b,a.point);return!1},!0);u[a]=[c,q]}function d(a){var b=1;if(null==a.children)return a.numCells=b,a.yCell=a.point,{numCells:b,yCell:a.yCell};for(var c=a.point.slice(),f=0;f<a.children.length;++f){var g=a.children[f];if(null!=g){g=d(g);b+=g.numCells;for(var k=0;k<e.dim;++k)c[k]+=g.yCell[k]}}a.numCells=b;a.yCell=c.map(function(a){return a/b});
return{numCells:b,yCell:c}}for(var e=this,f=this.N,g=this.P,k=100>this.iter?4:1,l=Array(f),m=0;m<f;++m){for(var n=m*this.dim,q=Array(this.dim),p=0;p<this.dim;++p)q[p]=a[n+p];l[m]=q}var t=new Pd(l);d(t.root);t.visit(function(a,b,c){a.rCell=c[0]-b[0];return!1});a=[];var r=0,u=Array(f),v=this;for(m=0;m<f;++m)b(m);k*=4;n=4/r;for(m=0;m<f;++m){p=u[m];q=p[0];var z=p[1],w=Array(this.dim);for(p=0;p<this.dim;++p)w[p]=k*q[p]-n*z[p];a.push(w)}return a};return a}();
</script>
<script>//~~WEBPATH~~/vz-projector/logging.js
var Zd=null,$d=0,ae=0;
function Y(a,b,c,d){void 0===b&&(b=null);void 0===c&&(c=null);void 0===d&&(d=!1);if(null==Zd)console.warn("Can't show modal message before the dom is initialized");else{null==b&&(b=($d++).toString());var e=Zd.querySelector("#notification-dialog");e.querySelector(".close-button").style.display=d?null:"none";var f=e.querySelector(".progress");f.style.display=d?"none":null;f.active=d?null:!0;e.querySelector("#notification-title").innerHTML=c;c=e.querySelector("#notify-msgs");if(d)c.innerHTML="";else{f=
c.querySelectorAll(".error");for(var g=0;g<f.length;g++)c.removeChild(f[g])}f="notify-msg-"+b;g=e.querySelector("#"+f);null==g&&(g=document.createElement("div"),g.className="notify-msg "+(d?"error":""),g.id=f,c.insertBefore(g,c.firstChild),d?ae=0:ae++);null==a?(ae--,0===ae&&e.close(),g.remove()):(g.innerText=a,e.open());return b}}function be(a,b){Y(a,null,"Error "+(null!=b?b:""),!0)}function ce(a){var b=Zd.querySelector("#toast");b.text=a;b.duration=1E4;b.open()};
</script>
<script>//~~WEBPATH~~/vz-projector/renderContext.js
function de(a,b,c,d,e,f){this.pointIndices=a;this.labelStrings=b;this.scaleFactors=c;this.useSceneOpacityFlags=d;this.defaultFontSize=10;this.fillColors=e;this.strokeColors=f}var ee,fe=ee||(ee={});fe[fe.Perspective=0]="Perspective";fe[fe.Orthographic=1]="Orthographic";
function ge(a,b,c,d,e,f,g,k,l,m,n,q,p,t){this.camera=a;this.cameraType=b;this.cameraTarget=c;this.screenWidth=d;this.screenHeight=e;this.nearestCameraSpacePointZ=f;this.farthestCameraSpacePointZ=g;this.backgroundColor=k;this.pointColors=l;this.pointScaleFactors=m;this.labels=n;this.polylineColors=q;this.polylineOpacities=p;this.polylineWidths=t}var he=ee;
</script>
<script>//~~WEBPATH~~/vz-projector/scatterPlotRectangleSelector.js
var ie=function(){function a(a,c){this.svgElement=a.querySelector("#selector");this.rectElement=document.createElementNS("http://www.w3.org/2000/svg","rect");this.rectElement.style.stroke="#aaaaaa";this.rectElement.style.strokeDasharray="10 5";this.rectElement.style.strokeWidth="2";this.rectElement.style.fill="#dddddd";this.rectElement.style.fillOpacity="0.2";this.svgElement.appendChild(this.rectElement);this.selectionCallback=c;this.isMouseDown=!1}a.prototype.onMouseDown=function(a,c){this.isMouseDown=
!0;this.rectElement.style.display="block";this.startCoordinates=[a,c];this.lastBoundingBox={x:this.startCoordinates[0],y:this.startCoordinates[1],width:1,height:1}};a.prototype.onMouseMove=function(a,c){this.isMouseDown&&(this.lastBoundingBox.x=Math.min(a,this.startCoordinates[0]),this.lastBoundingBox.y=Math.max(c,this.startCoordinates[1]),this.lastBoundingBox.width=Math.max(a,this.startCoordinates[0])-this.lastBoundingBox.x,this.lastBoundingBox.height=this.lastBoundingBox.y-Math.min(c,this.startCoordinates[1]),
this.rectElement.setAttribute("x",""+this.lastBoundingBox.x),this.rectElement.setAttribute("y",""+(this.lastBoundingBox.y-this.lastBoundingBox.height)),this.rectElement.setAttribute("width",""+this.lastBoundingBox.width),this.rectElement.setAttribute("height",""+this.lastBoundingBox.height))};a.prototype.onMouseUp=function(){this.isMouseDown=!1;this.rectElement.style.display="none";this.rectElement.setAttribute("width","0");this.rectElement.setAttribute("height","0");this.selectionCallback(this.lastBoundingBox)};
return a}();
</script>
<script>//~~WEBPATH~~/vz-projector/analyticsLogger.js
var je=function(){function a(a,c){"undefined"===typeof ga||null==ga?this.pageViewLogging=this.eventLogging=!1:(this.eventLogging=c,this.pageViewLogging=a)}a.prototype.logPageView=function(){this.pageViewLogging&&ga("send",{hitType:"pageview",page:"/v/embeddings"})};a.prototype.logProjectionChanged=function(a){this.eventLogging&&ga("send",{hitType:"event",eventCategory:"Projection",eventAction:"click",eventLabel:a})};a.prototype.logWebGLDisabled=function(){this.eventLogging&&ga("send",{hitType:"event",
eventCategory:"Error",eventAction:"PageLoad",eventLabel:"WebGL_disabled"})};return a}();
</script>
<script>//~~WEBPATH~~/vz-projector/util.js
function ke(a){for(var b=[],c=0;c<a;c++)b.push(c);return b}function le(a,b,c){var d=a.className.split(" ");if(c){if(b in d)return;d.push(b)}else{b=d.indexOf(b);if(-1===b)return;d.splice(b,1)}a.className=d.join(" ")}function me(a,b){b*=3;return new V.Vector3(a[b],a[b+1],a[b+2])}
function ne(a,b,c){var d=Infinity,e=0;c=(new V.Vector3).copy(c).sub(b);c=(new V.Vector3).copy(c).normalize();for(var f=a.length/3,g=0,k=new V.Vector3,l=new V.Vector3,m=0;m<f;m++){k.x=a[g];k.y=a[g+1];k.z=a[g+2];g+=3;l.copy(k).sub(b);var n=c.dot(l);0>n||(e=n>e?n:e,d=n<d?n:d)}return[d,e]}function oe(a){a=new V.Texture(a);a.needsUpdate=!0;a.minFilter=V.LinearFilter;a.generateMipmaps=!1;a.flipY=!1;return a}function pe(a,b){if(!a)throw Error(b||"Assertion failed");}
function qe(a,b,c){if(b){var d=new RegExp(a,"i");b=function(a){return d.test(a.metadata[c].toString())}}else a=a.toLowerCase(),b=function(b){return 0<=b.metadata[c].toString().toLowerCase().indexOf(a)};return b}function re(a,b,c){void 0===c&&(c=null);var d=null==c;c=Y(a,c);return new Promise(function(a,f){setTimeout(function(){try{var e=b();d&&Y(null,c);a(e)}catch(k){f(k)}return!0},200)})}var se=["/Adagrad"];function te(a){for(var b=0;b<se.length;b++)if(0<=a.indexOf(se[b]))return!0;return!1}
function ue(){try{var a=document.createElement("canvas");return null!=(a.getContext("webgl")||a.getContext("experimental-webgl"))&&"undefined"!==typeof weblas}catch(b){return!1}};
</script>
<script>//~~WEBPATH~~/vz-projector/vector.js
function ve(a,b){pe(a.length===b.length,"Vectors a and b must be of same length");for(var c=0,d=0;d<a.length;++d)c+=a[d]*b[d];return c}function we(a,b){pe(a.length===b.length,"Vectors a and b must be of same length");for(var c=new Float32Array(a.length),d=0;d<a.length;++d)c[d]=a[d]-b[d];return c}function xe(a){for(var b=0,c=0;c<a.length;++c)b+=a[c]*a[c];return b}function ye(a,b){return Math.sqrt(ze(a,b))}
function ze(a,b){pe(a.length===b.length,"Vectors a and b must be of same length");for(var c=0,d=0;d<a.length;++d){var e=a[d]-b[d];c+=e*e}return c}function Ae(a){var b=Math.sqrt(xe(a));pe(0<=b,"Norm of the vector must be \x3e 0");for(var c=0;c<a.length;++c)a[c]/=b}function Be(a){for(var b=a[0].length,c=a.length,d=Array(c),e=0;e<c;++e)d[e]=new Float32Array(200);for(var f=0;200>f;++f){var g=Ce(b);for(e=0;e<c;++e)d[e][f]=ve(a[e],g)}return d}
function De(a,b){if(0===a.length)return null;null==b&&(b=function(a){return a});pe(0<=a.length,"`vectors` must be of length \x3e\x3d 1");for(var c=new Float32Array(b(a[0]).length),d=0;d<a.length;++d)for(var e=b(a[d]),f=0;f<c.length;++f)c[f]+=e[f];for(f=0;f<c.length;++f)c[f]/=a.length;return c}function Ce(a){for(var b=d3.randomNormal(),c=new Float32Array(a),d=0;d<a;++d)c[d]=b();return c}function Ee(a,b){return 1-ve(a,b)/Math.sqrt(xe(a)*xe(b))}
function Fe(a,b){for(var c=a.length,d=b(a[0]).length,e=new Float32Array(c*d),f=0;f<c;++f)for(var g=b(a[f]),k=0;k<d;++k)e[f*d+k]=g[k];return e};
</script>
<script>//~~WEBPATH~~/vz-projector/knn.js
function Ge(a,b,c){function d(g){re("Finding nearest neighbors: "+(100*t).toFixed()+"%",function(){for(var d=u<q?n+1:n,g=new Float32Array(d*f),m=0;m<d;++m)for(var v=c(a[p+m]),C=0;C<f;++C)g[m*f+C]=v[C];m=new weblas.pipeline.Tensor([d,f],g);v=weblas.pipeline.sgemm(1,k,m,null,null);g=v.transfer();m.delete();v.delete();t+=r;for(m=0;m<d;m++){v=new Nd(b);C=p+m;for(var D=0;D<e;D++)if(D!==C){var G=1-g[D*d+m];v.add(G,{index:D,dist:G})}l[C]=v.getMinKItems()}t+=r;p+=d;u++},"knn-gpu").then(function(){u<m?d(g):
(Y(null,"knn-gpu"),k.delete(),g(l))},function(){Y(null,"knn-gpu");He(a,b,c,function(a,b){return 1-ve(a,b)}).then(function(a){g(a)})})}var e=a.length,f=c(a[0]).length,g=Fe(a,c),k=new weblas.pipeline.Tensor([e,f],g),l=Array(e),m=Math.ceil(e/256),n=Math.floor(e/m),q=e%m,p=0,t=0,r=1/(2*m),u=0;return new Promise(function(a){return d(a)})}
function He(a,b,c,d){return re("Finding nearest neighbors...",function(){for(var e=a.length,f=Array(e),g=Array(e),k=0;k<e;k++)g[k]=new Nd(b);for(k=0;k<e;k++)for(var l=c(a[k]),m=g[k],n=k+1;n<e;n++){var q=g[n],p=m.getSize()===b?m.getLargestKey()||Number.MAX_VALUE:Number.MAX_VALUE,t=q.getSize()===b?q.getLargestKey()||Number.MAX_VALUE:Number.MAX_VALUE;p=Math.max(p,t);p=d(l,c(a[n]),p);0<=p&&(m.add(p,{index:n,dist:p}),q.add(p,{index:k,dist:p}))}for(k=0;k<e;k++)f[k]=g[k].getMinKItems();return f})}
function Ie(a,b,c,d,e){c=new Nd(c);for(var f=d(a[b]),g=0;g<a.length;++g)if(g!==b){var k=d(a[g]);k=e(f,k);c.add(k,{index:g,dist:k})}return c.getMinKItems()};
</script>
<script>//~~WEBPATH~~/vz-projector/data.js
var Je=0<=navigator.userAgent.toLowerCase().indexOf("firefox"),Ke=ue()&&!Je,Le=["__next__","__seq_next__"];function Me(a){for(var b=null,c=0;c<Le.length;c++){var d=Le[c];if(d in a&&""!==a[d]){b=a[d];break}}return null==b?null:+b}
var Ne=function(){function a(a,c){this.shuffledDataIndices=[];this.projections={};this.tSNEIteration=0;this.tSNEShouldStop=!0;this.dim=[0,0];this.hasTSNERun=!1;this.points=a;for(var b=ke(this.points.length),e=b.length,f,g;e;)g=Math.floor(Math.random()*e--),f=b[e],b[e]=b[g],b[g]=f;this.shuffledDataIndices=b;this.sequences=this.computeSequences(a);this.dim=[this.points.length,this.points[0].vector.length];this.spriteAndMetadataInfo=c}a.prototype.computeSequences=function(a){for(var b=new Int8Array(a.length),
d={},e=[],f=0;f<a.length;f++)if(!b[f]){b[f]=1;var g=Me(a[f].metadata);if(null!=g)if(g in d)g=d[g],g.pointIndices.unshift(f),d[f]=g;else{g={pointIndices:[]};d[f]=g;e.push(g);for(var k=f;a[k];)g.pointIndices.push(k),k=Me(a[k].metadata),null!=k?b[k]=1:k=-1}}return e};a.prototype.projectionCanBeRendered=function(a){return"tsne"!==a?!0:0<this.tSNEIteration};a.prototype.getSubset=function(b){var c=this;b=(null!=b&&0<b.length?b.map(function(a){return c.points[a]}):this.points).map(function(a){return{metadata:a.metadata,
index:a.index,vector:a.vector.slice(),projections:{}}});return new a(b,this.spriteAndMetadataInfo)};a.prototype.normalize=function(){var a=De(this.points,function(a){return a.vector});if(null==a)throw Error("centroid should not be null");for(var c=0;c<this.points.length;++c){var d=this.points[c];d.vector=we(d.vector,a);0<xe(d.vector)&&Ae(d.vector)}};a.prototype.projectLinear=function(a,c){this.projections[c]=!0;this.points.forEach(function(b){b.projections[c]=ve(b.vector,a)})};a.prototype.projectPCA=
function(){var a=this;return null!=this.projections["pca-0"]?Promise.resolve(null):re("Computing PCA...",function(){var b=a.points[0].vector.length,d=a.shuffledDataIndices.map(function(b){return a.points[b].vector});200<b&&(d=Be(d));b=d.slice(0,5E4);b=numeric.div(numeric.dot(numeric.transpose(b),b),b.length);var e=numeric.svd(b),f=e.S,g=0;for(b=0;b<f.length;++b)g+=f[b];for(b=0;b<f.length;++b)f[b]/=g;a.fracVariancesExplained=f;var k=e.U;d=d.map(function(a){for(var b=new Float32Array(10),c=0;10>c;c++){for(var d=
0,e=0;e<a.length;e++)d+=a[e]*k[e][c];b[c]=d}return b});for(e=0;10>e;e++)for(f="pca-"+e,a.projections[f]=!0,b=0;b<d.length;b++)a.points[a.shuffledDataIndices[b]].projections[f]=d[b][e]})};a.prototype.projectTSNE=function(a,c,d,e){function b(){if(g.tSNEShouldStop)e(null),g.tsne=null;else{g.tsne.step();var a=g.tsne.getSolution();l.forEach(function(b,c){b=g.points[b];b.projections["tsne-0"]=a[c*d+0];b.projections["tsne-1"]=a[c*d+1];3===d&&(b.projections["tsne-2"]=a[c*d+2])});g.tSNEIteration++;e(g.tSNEIteration);
requestAnimationFrame(b)}}var g=this;this.hasTSNERun=!0;var k=Math.floor(3*a);this.tsne=new Yd({epsilon:c,perplexity:a,dim:d});this.tSNEShouldStop=!1;this.tSNEIteration=0;var l=this.shuffledDataIndices.slice(0,1E4);null!=this.nearest&&k===this.nearestK?k=Promise.resolve(this.nearest):(a=l.map(function(a){return g.points[a]}),this.nearestK=k,k=Ke?Ge(a,k,function(a){return a.vector}):He(a,k,function(a){return a.vector},function(a,b){return 1-ve(a,b)}));k.then(function(a){g.nearest=a;re("Initializing T-SNE...",
function(){g.tsne.initDataDist(g.nearest)}).then(b)})};a.prototype.mergeMetadata=function(a){var b=this;if(a.pointsInfo.length!==this.points.length){var d="Number of tensors ("+this.points.length+") do not match the number of lines in metadata"+(" ("+a.pointsInfo.length+").");if(1===a.stats.length&&this.points.length+1===a.pointsInfo.length)return be(d+" Single column metadata should not have a header row.","merging metadata"),!1;if(1<a.stats.length&&this.points.length-1===a.pointsInfo.length)return be(d+
" Multi-column metadata should have a header row with column labels.","merging metadata"),!1;ce(d)}this.spriteAndMetadataInfo=a;a.pointsInfo.slice(0,this.points.length).forEach(function(a,c){return b.points[c].metadata=a});return!0};a.prototype.stopTSNE=function(){this.tSNEShouldStop=!0};a.prototype.findNeighbors=function(a,c,d){return Ie(this.points,a,d,function(a){return a.vector},c).slice(0,d)};a.prototype.query=function(a,c,d){var b=qe(a,c,d),f=[];this.points.forEach(function(a,c){b(a)&&f.push(c)});
return f};return a}();function Oe(a,b,c,d){this.projectionType=a;this.projectionComponents=b;this.dimensionality=c;this.dataSet=d}function Pe(){this.label="";this.isSelected=!1;this.tSNELearningRate=this.tSNEPerplexity=this.tSNEIteration=0;this.tSNEis3d=!0;this.pcaComponentDimensions=[];this.projections=[];this.selectedPoints=[]}
function Qe(a,b){if(3<b.length)throw new RangeError("components length must be \x3c\x3d 3");var c=[null,null,null];a="custom"===a?"linear":a;for(var d=0;d<b.length;++d)null!=b[d]&&(c[d]=a+"-"+b[d]);return c};
</script>
<script>//~~WEBPATH~~/vz-projector/data-provider.js
function Re(a,b,c){Y("Fetching tensor values...","tensors");var d=new XMLHttpRequest;d.open("GET",b);d.responseType="arraybuffer";d.onprogress=function(a){a.lengthComputable&&Y("Fetching tensor values: "+(100*a.loaded/a.total).toFixed(1)+"%","tensors")};d.onload=function(){if(200!==d.status){var b=String.fromCharCode.apply(null,new Uint8Array(d.response));be(b,"fetching tensors")}else{try{b=new Float32Array(d.response)}catch(k){be(k,"parsing tensor bytes");return}var f=a.tensorShape[1],g=b.length/
f;a.tensorShape[0]>g&&ce("Showing the first "+g.toLocaleString()+(" of "+a.tensorShape[0].toLocaleString()+" data points"));Se(b,f).then(function(a){c(new Ne(a))})}};d.send()}function Te(a,b){Ue(a).then(function(a){b(new Ne(a))})}function Ve(a,b){We(a).then(function(a){return b(a)})}
function Xe(a,b){var c,d;void 0===c&&(c=1E6);void 0===d&&(d="\n");return new Promise(function(e){function f(m,n){m=new Blob([a.slice(m,m+n)]);n=new FileReader;n.onload=function(a){a=a.target.result;g+=c;a=a.split(d);var m=l+a[0];if(1===a.length)l=m,f(g,c);else{l=a[a.length-1];b(m);for(m=1;m<a.length-1;m++)b(a[m]);g>=k?(l&&b(l),e()):f(g,c)}};n.readAsText(m)}var g=0,k=a.byteLength-1,l="";f(g,c)})}
function Ue(a){var b;void 0===b&&(b="\t");Y("Parsing tensors...","tensors");return new Promise(function(c){var d=[],e;Xe(a,function(a){a=a.trim();if(""!==a){a=a.split(b);var c={metadata:{},vector:null,index:d.length,projections:null};isNaN(a[0])||e===a.length-1?(c.metadata.label=a[0],c.vector=new Float32Array(a.slice(1).map(Number))):c.vector=new Float32Array(a.map(Number));d.push(c);null==e&&(e=c.vector.length);if(e!==c.vector.length)throw Y("Parsing failed. Vector dimensions do not match"),Error("Parsing failed");
if(1>=e)throw Y("Parsing failed. Found a vector with only one dimension?"),Error("Parsing failed");}}).then(function(){Y(null,"tensors");c(d)})})}function Se(a,b){return re("Parsing tensors...",function(){for(var c=a.length/b,d=[],e=0,f=0;f<c;++f)d.push({metadata:{},vector:a.subarray(e,e+b),index:f,projections:null}),e+=b;return d},"tensors").then(function(a){Y(null,"tensors");return a})}
function Ye(a,b){var c=a.map(function(a){return{name:a,isNumeric:!0,tooManyUniqueValues:!1,min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY}}),d=a.map(function(){return{}});b.forEach(function(b){a.forEach(function(a,e){var f=c[e];e=d[e];var g=b[a];null!=g&&(f.tooManyUniqueValues||(g in e?e[g]++:e[g]=1,50<Object.keys(e).length&&(f.tooManyUniqueValues=!0)),isNaN(g)?f.isNumeric=!1:(b[a]=+g,f.min=Math.min(f.min,+g),f.max=Math.max(f.max,+g)))})});c.forEach(function(a,b){a.uniqueEntries=Object.keys(d[b]).map(function(a){return{label:a,
count:d[b][a]}})});return c}function We(a){Y("Parsing metadata...","metadata");return new Promise(function(b){var c=[],d=!1,e=0,f=["label"];Xe(a,function(a){if(0!==a.trim().length){if(0===e&&(d=0<=a.indexOf("\t"))){f=a.split("\t");e++;return}e++;var b=a.split("\t"),g={};c.push(g);f.forEach(function(a,c){c=b[c];g[a]=""===c?null:c})}}).then(function(){Y(null,"metadata");b({stats:Ye(f,c),pointsInfo:c})})})}
function df(a){return new Promise(function(b,c){var d=new Image;d.onload=function(){return b(d)};d.onerror=function(a){return c(a)};d.crossOrigin="";d.src=a})}
function ef(a,b,c,d){var e=Promise.resolve({});a&&(e=new Promise(function(b,c){Y("Fetching metadata...","metadata");var d=new XMLHttpRequest;d.open("GET",a);d.responseType="arraybuffer";d.onreadystatechange=function(){if(4===d.readyState)if(200===d.status)b(We(d.response));else{var a=new FileReader;a.onload=function(){be(a.result,"fetching metadata");c()};a.readAsText(new Blob([d.response]))}};d.send(null)}));var f=null,g=null;b&&(f=Y("Fetching sprite image..."),g=df(b));Promise.all([e,g]).then(function(a){f&&
Y(null,f);var b=a[0];if((a=a[1])&&(8192<a.height||8192<a.width))Y("Error: Sprite image of dimensions "+a.width+"px x "+(a.height+"px exceeds maximum dimensions ")+"8192px x 8192px");else{b.spriteImage=a;b.spriteMetadata=c;try{d(b)}catch(m){Y(String(m))}}})};
</script>
<script>//~~WEBPATH~~/vz-projector/data-provider-demo.js
var ff=function(){function a(a){this.projectorConfigPath=a}a.prototype.getEmbeddingInfo=function(a){for(var b=this.projectorConfig.embeddings,d=0;d<b.length;d++){var e=b[d];if(e.tensorName===a)return e}return null};a.prototype.retrieveRuns=function(a){a(["Demo"])};a.prototype.retrieveProjectorConfig=function(a,c){var b=this,e=Y("Fetching projector config..."),f=new XMLHttpRequest;f.open("GET",this.projectorConfigPath);f.onerror=function(a){a=a.message;null!=f.responseText&&(a="Cannot fetch projector config, possibly a Cross-Origin request error.");
be(a,"fetching projector config")};f.onload=function(){var a=JSON.parse(f.responseText);Y(null,e);b.projectorConfig=a;c(a)};f.send()};a.prototype.retrieveTensor=function(a,c,d){a=this.getEmbeddingInfo(c);var b=""+a.tensorPath;if(".bytes"===a.tensorPath.substr(-6))Re(this.getEmbeddingInfo(c),b,d);else{Y("Fetching tensors...","tensors");var f=new XMLHttpRequest;f.open("GET",b);f.responseType="arraybuffer";f.onerror=function(){be(f.responseText,"fetching tensors")};f.onload=function(){Ue(f.response).then(function(a){d(new Ne(a))})};
f.send()}};a.prototype.retrieveSpriteAndMetadata=function(a,c,d){a=this.getEmbeddingInfo(c);c=null;a.sprite&&a.sprite.imagePath&&(c=a.sprite.imagePath);ef(a.metadataPath,c,a.sprite,d)};a.prototype.getBookmarks=function(a,c,d){a=this.getEmbeddingInfo(c);var b=Y("Fetching bookmarks..."),f=new XMLHttpRequest;f.open("GET",a.bookmarksPath);f.onerror=function(){be(f.responseText)};f.onload=function(){var a=JSON.parse(f.responseText);Y(null,b);d(a)};f.send()};return a}();
</script>
<script>//~~WEBPATH~~/vz-projector/data-provider-proto.js
var gf=function(){function a(a){this.dataProto=a}a.prototype.retrieveRuns=function(a){a(["proto"])};a.prototype.retrieveProjectorConfig=function(a,c){c({modelCheckpointPath:"proto",embeddings:[{tensorName:"proto",tensorShape:this.dataProto.shape,metadataPath:"proto"}]})};a.prototype.retrieveTensor=function(a,c,d){d(this.flatArrayToDataset(this.dataProto.tensor))};a.prototype.retrieveSpriteAndMetadata=function(a,c,d){var b=this,f=this.dataProto.metadata.columns.map(function(a){return a.name}),g=this.dataProto.shape[0],
k=Array(g);this.dataProto.metadata.columns.forEach(function(a){for(var b=a.numericValues||a.stringValues,c=0;c<g;c++)k[c]=k[c]||{},k[c][a.name]=b[c]});a=Promise.resolve(null);null!=this.dataProto.metadata.sprite&&(a=new Promise(function(a,c){var d=new Image;d.onload=function(){return a(d)};d.onerror=function(){return c("Failed converting base64 to an image")};d.src=b.dataProto.metadata.sprite.imageBase64}));a.then(function(a){var c={stats:Ye(f,k),pointsInfo:k};null!=a&&(c.spriteImage=a,c.spriteMetadata=
{singleImageDim:b.dataProto.metadata.sprite.singleImageDim,imagePath:"proto"});d(c)})};a.prototype.getBookmarks=function(a,c,d){return d([])};a.prototype.flatArrayToDataset=function(a){var b=[],d=this.dataProto.shape[0],e=this.dataProto.shape[1];if(d*e!==a.length)throw"The shape doesn't match the length of the flattened array";for(var f=0;f<d;f++){var g=f*e;b.push({vector:new Float32Array(a.slice(g,g+e)),metadata:{},projections:null,index:f})}return new Ne(b)};return a}();
</script>
<script>//~~WEBPATH~~/vz-projector/data-provider-server.js
var hf=function(){function a(a){this.runProjectorConfigCache={};this.routePrefix=a}a.prototype.getEmbeddingInfo=function(a,c,d){this.retrieveProjectorConfig(a,function(a){a=a.embeddings;for(var b=0;b<a.length;b++){var e=a[b];if(e.tensorName===c){d(e);return}}d(null)})};a.prototype.retrieveRuns=function(a){var b=Y("Fetching runs..."),d=new XMLHttpRequest;d.open("GET",this.routePrefix+"/runs");d.onerror=function(){be(d.responseText,"fetching runs")};d.onload=function(){var c=JSON.parse(d.responseText);
Y(null,b);a(c)};d.send()};a.prototype.retrieveProjectorConfig=function(a,c){var b=this;if(a in this.runProjectorConfigCache)c(this.runProjectorConfigCache[a]);else{var e=Y("Fetching projector config..."),f=new XMLHttpRequest;f.open("GET",this.routePrefix+"/info?run\x3d"+a);f.onerror=function(){be(f.responseText,"fetching projector config")};f.onload=function(){var d=JSON.parse(f.responseText);Y(null,e);b.runProjectorConfigCache[a]=d;c(d)};f.send()}};a.prototype.retrieveTensor=function(a,c,d){var b=
this;this.getEmbeddingInfo(a,c,function(e){Re(e,b.routePrefix+"/tensor?run\x3d"+a+"\x26name\x3d"+c+"\x26num_rows\x3d100000",d)})};a.prototype.retrieveSpriteAndMetadata=function(a,c,d){var b=this;this.getEmbeddingInfo(a,c,function(e){var f=null;e.metadataPath&&(f=b.routePrefix+"/metadata?"+("run\x3d"+a+"\x26name\x3d"+c+"\x26num_rows\x3d100000"));var k=null;e.sprite&&e.sprite.imagePath&&(k=b.routePrefix+"/sprite_image?run\x3d"+a+"\x26name\x3d"+c);ef(f,k,e.sprite,d)})};a.prototype.getBookmarks=function(a,
c,d){var b=Y("Fetching bookmarks..."),f=new XMLHttpRequest;f.open("GET",this.routePrefix+"/bookmarks?run\x3d"+a+"\x26name\x3d"+c);f.onerror=function(){be(f.responseText,"fetching bookmarks")};f.onload=function(){Y(null,b);var a=JSON.parse(f.responseText);d(a)};f.send()};return a}();
</script>
<script>//~~WEBPATH~~/vz-projector/projectorEventContext.js
</script>
<script>//~~WEBPATH~~/vz-projector/scatterPlot.js
var jf=new V.Vector3(.45,.9,1.6),kf=new V.Vector3(0,0,0),lf=new V.Vector3(0,0,4),mf=new V.Vector3(0,0,0),nf,of=nf||(nf={});of[of.AREA_SELECT=0]="AREA_SELECT";of[of.CAMERA_AND_CLICK_SELECT=1]="CAMERA_AND_CLICK_SELECT";function pf(){this.orthographic=!1}
var qf=function(){function a(a,c){var b=this;this.container=a;this.projectorEventContext=c;this.visualizers=[];this.onCameraMoveListeners=[];this.backgroundColor=16777215;this.dimensionality=3;this.cameraDef=null;this.isDragSequence=this.mouseIsDown=this.selecting=this.orbitAnimationOnNextCameraCreation=!1;this.getLayoutValues();this.scene=new V.Scene;this.renderer=new V.WebGLRenderer({alpha:!0,premultipliedAlpha:!1,antialias:!1});this.renderer.setClearColor(16777215,1);this.container.appendChild(this.renderer.domElement);
this.light=new V.PointLight(16772287,1,0);this.scene.add(this.light);this.setDimensions(3);this.recreateCamera(this.makeDefaultCameraDef(this.dimensionality));this.renderer.render(this.scene,this.camera);this.rectangleSelector=new ie(this.container,function(a){return b.selectBoundingBox(a)});this.addInteractionListeners()}a.prototype.addInteractionListeners=function(){this.container.addEventListener("mousemove",this.onMouseMove.bind(this));this.container.addEventListener("mousedown",this.onMouseDown.bind(this));
this.container.addEventListener("mouseup",this.onMouseUp.bind(this));this.container.addEventListener("click",this.onClick.bind(this));window.addEventListener("keydown",this.onKeyDown.bind(this),!1);window.addEventListener("keyup",this.onKeyUp.bind(this),!1)};a.prototype.addCameraControlsEventListeners=function(a){var b=this;a.addEventListener("start",function(){b.stopOrbitAnimation();b.onCameraMoveListeners.forEach(function(c){return c(b.camera.position,a.target)})});a.addEventListener("change",function(){b.render()});
a.addEventListener("end",function(){})};a.prototype.makeOrbitControls=function(a,c,d){null!=this.orbitCameraControls&&this.orbitCameraControls.dispose();var b=new V.OrbitControls(a,this.renderer.domElement);b.target0=new V.Vector3(c.target[0],c.target[1],c.target[2]);b.position0=(new V.Vector3).copy(a.position);b.zoom0=c.zoom;b.enableRotate=d;b.autoRotate=!1;b.rotateSpeed=1;d?(b.mouseButtons.ORBIT=V.MOUSE.LEFT,b.mouseButtons.PAN=V.MOUSE.RIGHT):(b.mouseButtons.ORBIT=null,b.mouseButtons.PAN=V.MOUSE.LEFT);
b.reset();this.camera=a;this.orbitCameraControls=b;this.addCameraControlsEventListeners(this.orbitCameraControls)};a.prototype.makeCamera3D=function(a,c,d){c=new V.PerspectiveCamera(70,c/d,.01,100);c.position.set(a.position[0],a.position[1],a.position[2]);c.lookAt(new V.Vector3(a.target[0],a.target[1],a.target[2]));c.zoom=a.zoom;c.updateProjectionMatrix();this.camera=c;this.makeOrbitControls(c,a,!0)};a.prototype.makeCamera2D=function(a,c,d){var b=new V.Vector3(a.target[0],a.target[1],a.target[2]);
c/=d;d=-1.2;var f=1.2,g=-1.2,k=1.2;1<c?(d*=c,f*=c):(k/=c,g/=c);c=new V.OrthographicCamera(d,f,k,g,-1E3,1E3);c.position.set(a.position[0],a.position[1],a.position[2]);c.up=new V.Vector3(0,1,0);c.lookAt(b);c.zoom=a.zoom;c.updateProjectionMatrix();this.camera=c;this.makeOrbitControls(c,a,!1)};a.prototype.makeDefaultCameraDef=function(a){var b=new pf;b.orthographic=2===a;b.zoom=1;b.orthographic?(b.position=[lf.x,lf.y,lf.z],b.target=[mf.x,mf.y,mf.z]):(b.position=[jf.x,jf.y,jf.z],b.target=[kf.x,kf.y,kf.z]);
return b};a.prototype.recreateCamera=function(a){a.orthographic?this.makeCamera2D(a,this.width,this.height):this.makeCamera3D(a,this.width,this.height);this.orbitCameraControls.minDistance=.05;this.orbitCameraControls.maxDistance=10;this.orbitCameraControls.update();this.orbitAnimationOnNextCameraCreation&&this.startOrbitAnimation()};a.prototype.onClick=function(a,c){void 0===c&&(c=!0);a&&this.selecting||(!this.isDragSequence&&c&&this.projectorEventContext.notifySelectionChanged(null!=this.nearestPoint?
[this.nearestPoint]:[]),this.isDragSequence=!1,this.render())};a.prototype.onMouseDown=function(a){this.isDragSequence=!1;this.mouseIsDown=!0;this.selecting?(this.orbitCameraControls.enabled=!1,this.rectangleSelector.onMouseDown(a.offsetX,a.offsetY),this.setNearestPointToMouse(a)):!a.ctrlKey&&this.sceneIs3D()&&this.orbitCameraControls.mouseButtons.ORBIT===V.MOUSE.RIGHT?(this.orbitCameraControls.mouseButtons.ORBIT=V.MOUSE.LEFT,this.orbitCameraControls.mouseButtons.PAN=V.MOUSE.RIGHT):a.ctrlKey&&this.sceneIs3D()&&
this.orbitCameraControls.mouseButtons.ORBIT===V.MOUSE.LEFT&&(this.orbitCameraControls.mouseButtons.ORBIT=V.MOUSE.RIGHT,this.orbitCameraControls.mouseButtons.PAN=V.MOUSE.LEFT)};a.prototype.onMouseUp=function(){this.selecting&&(this.orbitCameraControls.enabled=!0,this.rectangleSelector.onMouseUp(),this.render());this.mouseIsDown=!1};a.prototype.onMouseMove=function(a){this.isDragSequence=this.mouseIsDown;this.selecting&&this.mouseIsDown?(this.rectangleSelector.onMouseMove(a.offsetX,a.offsetY),this.render()):
this.mouseIsDown||(this.setNearestPointToMouse(a),this.projectorEventContext.notifyHoverOverPoint(this.nearestPoint))};a.prototype.onKeyDown=function(a){17===a.keyCode&&this.sceneIs3D()&&(this.orbitCameraControls.mouseButtons.ORBIT=V.MOUSE.RIGHT,this.orbitCameraControls.mouseButtons.PAN=V.MOUSE.LEFT);16===a.keyCode&&(this.selecting=!0,this.container.style.cursor="crosshair")};a.prototype.onKeyUp=function(a){17===a.keyCode&&this.sceneIs3D()&&(this.orbitCameraControls.mouseButtons.ORBIT=V.MOUSE.LEFT,
this.orbitCameraControls.mouseButtons.PAN=V.MOUSE.RIGHT);16===a.keyCode&&(this.selecting=this.getMouseMode()===nf.AREA_SELECT,this.selecting||(this.container.style.cursor="default"),this.render())};a.prototype.getPointIndicesFromPickingTexture=function(a){if(null==this.worldSpacePointPositions)return null;var b=this.worldSpacePointPositions.length/3,d=window.devicePixelRatio||1,e=Math.floor(a.width*d),f=Math.floor(a.height*d),g=new Uint8Array(e*f*4);this.renderer.readRenderTargetPixels(this.pickingTexture,
Math.floor(a.x*d),this.pickingTexture.height-Math.floor(a.y*d),e,f,g);a=new Uint8Array(this.worldSpacePointPositions.length);for(d=0;d<e*f;d++){var k=g[4*d]<<16|g[4*d+1]<<8|g[4*d+2];16777215!==k&&k<b&&(a[k]=1)}b=[];for(d=0;d<a.length;d++)1===a[d]&&b.push(d);return b};a.prototype.selectBoundingBox=function(a){a=this.getPointIndicesFromPickingTexture(a);this.projectorEventContext.notifySelectionChanged(a)};a.prototype.setNearestPointToMouse=function(a){null==this.pickingTexture?this.nearestPoint=null:
(a=this.getPointIndicesFromPickingTexture({x:a.offsetX,y:a.offsetY,width:1,height:1}),this.nearestPoint=null!=a?a[0]:null)};a.prototype.getLayoutValues=function(){this.width=this.container.offsetWidth;this.height=Math.max(1,this.container.offsetHeight);return[this.width,this.height]};a.prototype.sceneIs3D=function(){return 3===this.dimensionality};a.prototype.remove3dAxisFromScene=function(){var a=this.scene.getObjectByName("axes");null!=a&&this.scene.remove(a);return a};a.prototype.add3dAxis=function(){var a=
new V.AxisHelper;a.name="axes";this.scene.add(a)};a.prototype.setDimensions=function(a){if(2!==a&&3!==a)throw new RangeError("dimensionality must be 2 or 3");this.dimensionality=a;var b=this.cameraDef||this.makeDefaultCameraDef(a);this.recreateCamera(b);this.remove3dAxisFromScene();3===a&&this.add3dAxis()};a.prototype.getCameraDef=function(){var a=new pf,c=this.camera.position,d=this.orbitCameraControls.target;a.orthographic=!this.sceneIs3D();a.position=[c.x,c.y,c.z];a.target=[d.x,d.y,d.z];a.zoom=
this.camera.zoom;return a};a.prototype.setCameraParametersForNextCameraCreation=function(a,c){this.cameraDef=a;this.orbitAnimationOnNextCameraCreation=c};a.prototype.getCameraPosition=function(){var a=this.camera.position;return[a.x,a.y,a.z]};a.prototype.getCameraTarget=function(){var a=this.orbitCameraControls.target;return[a.x,a.y,a.z]};a.prototype.setCameraPositionAndTarget=function(a,c){this.stopOrbitAnimation();this.camera.position.set(a[0],a[1],a[2]);this.orbitCameraControls.target.set(c[0],
c[1],c[2]);this.orbitCameraControls.update();this.render()};a.prototype.startOrbitAnimation=function(){this.sceneIs3D()&&(null!=this.orbitAnimationId&&this.stopOrbitAnimation(),this.orbitCameraControls.autoRotate=!0,this.orbitCameraControls.rotateSpeed=7,this.updateOrbitAnimation())};a.prototype.updateOrbitAnimation=function(){var a=this;this.orbitCameraControls.update();this.orbitAnimationId=requestAnimationFrame(function(){return a.updateOrbitAnimation()})};a.prototype.stopOrbitAnimation=function(){this.orbitCameraControls.autoRotate=
!1;this.orbitCameraControls.rotateSpeed=1;null!=this.orbitAnimationId&&(cancelAnimationFrame(this.orbitAnimationId),this.orbitAnimationId=null)};a.prototype.addVisualizer=function(a){this.scene&&a.setScene(this.scene);a.onResize(this.width,this.height);a.onPointPositionsChanged(this.worldSpacePointPositions);this.visualizers.push(a)};a.prototype.removeAllVisualizers=function(){this.visualizers.forEach(function(a){return a.dispose()});this.visualizers=[]};a.prototype.setPointPositions=function(a){this.worldSpacePointPositions=
a;this.visualizers.forEach(function(b){return b.onPointPositionsChanged(a)})};a.prototype.render=function(){var a=this.camera.position.clone();a.x+=1;a.y+=1;this.light.position.set(a.x,a.y,a.z);a=this.camera instanceof V.PerspectiveCamera?he.Perspective:he.Orthographic;var c=[0,0];null!=this.worldSpacePointPositions&&(c=ne(this.worldSpacePointPositions,this.camera.position,this.orbitCameraControls.target));var d=new ge(this.camera,a,this.orbitCameraControls.target,this.width,this.height,c[0],c[1],
this.backgroundColor,this.pointColors,this.pointScaleFactors,this.labels,this.polylineColors,this.polylineOpacities,this.polylineWidths);this.visualizers.forEach(function(a){return a.onPickingRender(d)});a=this.remove3dAxisFromScene();this.renderer.render(this.scene,this.camera,this.pickingTexture);null!=a&&this.scene.add(a);this.visualizers.forEach(function(a){return a.onRender(d)});this.renderer.render(this.scene,this.camera)};a.prototype.setMouseMode=function(a){this.mouseMode=a;a===nf.AREA_SELECT?
(this.selecting=!0,this.container.style.cursor="crosshair"):(this.selecting=!1,this.container.style.cursor="default")};a.prototype.setPointColors=function(a){this.pointColors=a};a.prototype.setPointScaleFactors=function(a){this.pointScaleFactors=a};a.prototype.setLabels=function(a){this.labels=a};a.prototype.setPolylineColors=function(a){this.polylineColors=a};a.prototype.setPolylineOpacities=function(a){this.polylineOpacities=a};a.prototype.setPolylineWidths=function(a){this.polylineWidths=a};a.prototype.getMouseMode=
function(){return this.mouseMode};a.prototype.resetZoom=function(){this.recreateCamera(this.makeDefaultCameraDef(this.dimensionality));this.render()};a.prototype.setDayNightMode=function(a){var b=this.container.querySelectorAll("canvas");a=a?"invert(100%)":null;for(var d=0;d<b.length;d++)b[d].style.filter=a};a.prototype.resize=function(a){void 0===a&&(a=!0);var b=[this.width,this.height];var d=b[0],e=b[1];b=this.getLayoutValues();var f=b[0],g=b[1];3===this.dimensionality?(b=this.camera,b.aspect=f/
g):(b=this.camera,d=f/d*(b.right-b.left)/2,e=g/e*(b.top-b.bottom)/2,b.top=e,b.bottom=-e,b.left=-d,b.right=d);b.updateProjectionMatrix();this.renderer.setPixelRatio();this.renderer.setSize(f,g);b=this.renderer.getSize();d=this.renderer.getPixelRatio();this.pickingTexture=new V.WebGLRenderTarget(b.width*d,b.height*d);this.pickingTexture.texture.minFilter=V.LinearFilter;this.visualizers.forEach(function(a){return a.onResize(f,g)});a&&this.render()};a.prototype.onCameraMove=function(a){this.onCameraMoveListeners.push(a)};
a.prototype.clickOnPoint=function(a){this.nearestPoint=a;this.onClick(null,!1)};return a}(),rf=nf;
</script>
<script>//~~WEBPATH~~/vz-projector/scatterPlotVisualizer3DLabels.js
var sf=function(){function a(){}a.prototype.createGlyphTexture=function(){var a=document.createElement("canvas");a.width=8192;a.height=80;var c=a.getContext("2d");c.font="bold 60px roboto";c.textBaseline="top";c.fillStyle="white";c.rect(0,0,a.width,a.height);c.fill();c.fillStyle="black";for(var d=c.measureText(" ").width,e=new Float32Array(256),f=new Float32Array(256),g=0,k=0;256>k;k++){var l=" "+String.fromCharCode(k),m=c.measureText(l).width;e[k]=m-d;f[k]=g;c.fillText(l,g-d,0);g+=m}return{texture:oe(a),
lengths:e,offsets:f}};a.prototype.processLabelVerts=function(a){var b=0;this.labelVertexMap=[];for(var d=0;d<a;d++){for(var e=this.labelStrings[d],f=[],g=0;g<e.length;g++){for(var k=0;6>k;k++)f.push(6*b+k);b++}this.labelVertexMap.push(f)}this.totalVertexCount=6*b};a.prototype.createColorBuffers=function(a){function b(a){var b=new V.Color(a);e.labelVertexMap[a].forEach(function(a){d.pickingColors[3*a]=b.r;d.pickingColors[3*a+1]=b.g;d.pickingColors[3*a+2]=b.b;d.renderColors[3*a]=1;d.renderColors[3*
a+1]=1;d.renderColors[3*a+2]=1})}var d=this;this.pickingColors=new Float32Array(3*this.totalVertexCount);this.renderColors=new Float32Array(3*this.totalVertexCount);for(var e=this,f=0;f<a;f++)b(f)};a.prototype.createLabels=function(){var a=this;if(null!=this.labelStrings&&null!=this.worldSpacePointPositions){var c=this.worldSpacePointPositions.length/3;if(c===this.labelStrings.length){this.glyphTexture=this.createGlyphTexture();this.uniforms={texture:{type:"t"},picking:{type:"bool"}};this.material=
new V.ShaderMaterial({uniforms:this.uniforms,transparent:!0,vertexShader:"\n    attribute vec2 posObj;\n    attribute vec3 color;\n    varying vec2 vUv;\n    varying vec3 vColor;\n\n    void main() {\n      vUv \x3d uv;\n      vColor \x3d color;\n\n      // Rotate label to face camera.\n\n      vec4 vRight \x3d vec4(\n        modelViewMatrix[0][0], modelViewMatrix[1][0], modelViewMatrix[2][0], 0);\n\n      vec4 vUp \x3d vec4(\n        modelViewMatrix[0][1], modelViewMatrix[1][1], modelViewMatrix[2][1], 0);\n\n      vec4 vAt \x3d -vec4(\n        modelViewMatrix[0][2], modelViewMatrix[1][2], modelViewMatrix[2][2], 0);\n\n      mat4 pointToCamera \x3d mat4(vRight, vUp, vAt, vec4(0, 0, 0, 1));\n\n      vec2 scaledPos \x3d posObj * 0.0125 * 2.2;\n\n      vec4 posRotated \x3d pointToCamera * vec4(scaledPos, 0, 1);\n      vec4 mvPosition \x3d modelViewMatrix * (vec4(position, 0) + posRotated);\n      gl_Position \x3d projectionMatrix * mvPosition;\n    }",
fragmentShader:"\n    uniform sampler2D texture;\n    uniform bool picking;\n    varying vec2 vUv;\n    varying vec3 vColor;\n\n    void main() {\n      if (picking) {\n        gl_FragColor \x3d vec4(vColor, 1.0);\n      } else {\n        vec4 fromTexture \x3d texture2D(texture, vUv);\n        gl_FragColor \x3d vec4(vColor, 1.0) * fromTexture;\n      }\n    }"});this.processLabelVerts(c);this.createColorBuffers(c);this.positions=new V.BufferAttribute(new Float32Array(3*this.totalVertexCount),3);var d=
new Float32Array(2*this.totalVertexCount),e=new Float32Array(3*this.totalVertexCount),f=new V.BufferAttribute(new Float32Array(3*this.totalVertexCount),2);d=new V.BufferAttribute(d,2);e=new V.BufferAttribute(e,3);this.geometry=new V.BufferGeometry;this.geometry.addAttribute("posObj",f);this.geometry.addAttribute("position",this.positions);this.geometry.addAttribute("uv",d);this.geometry.addAttribute("color",e);var g=0;for(e=0;e<c;e++){for(var k=this.labelStrings[e],l=0,m=0;m<k.length;m++){var n=k.charCodeAt(m);
l+=this.glyphTexture.lengths[n]}l/=-2;for(m=0;m<k.length;m++){n=k.charCodeAt(m);var q=this.glyphTexture.lengths[n],p=(l+q)/80,t=l/80;f.setXY(6*g+0,t,0);f.setXY(6*g+1,p,0);f.setXY(6*g+2,t,1);f.setXY(6*g+3,t,1);f.setXY(6*g+4,p,0);f.setXY(6*g+5,p,1);p=this.glyphTexture.offsets[n];n=this.glyphTexture.offsets[n]+q;p/=8192;n/=8192;d.setXY(6*g+0,p,1);d.setXY(6*g+1,n,1);d.setXY(6*g+2,p,0);d.setXY(6*g+3,p,0);d.setXY(6*g+4,n,1);d.setXY(6*g+5,n,0);g++;l+=q}}f=function(b){var c=me(r.worldSpacePointPositions,
b);r.labelVertexMap[b].forEach(function(b){a.positions.setXYZ(b,c.x,c.y,c.z)})};var r=this;for(e=0;e<c;e++)f(e);this.labelsMesh=new V.Mesh(this.geometry,this.material);this.labelsMesh.frustumCulled=!1;this.scene.add(this.labelsMesh)}}};a.prototype.colorLabels=function(a){if(null!=this.labelStrings&&null!=this.geometry&&null!=a){var b=this.geometry.getAttribute("color");b.array=this.renderColors;for(var d=a.length/3,e=0,f=0;f<d;++f){for(var g=new V.Color(a[e],a[e+1],a[e+2]),k=this.labelVertexMap[f].length,
l=0;l<k;++l)b.setXYZ(this.labelVertexMap[f][l],g.r,g.g,g.b);e+=3}b.needsUpdate=!0}};a.prototype.setScene=function(a){this.scene=a};a.prototype.dispose=function(){this.labelsMesh&&(this.scene&&this.scene.remove(this.labelsMesh),this.labelsMesh=null);this.geometry&&(this.geometry.dispose(),this.geometry=null);null!=this.glyphTexture&&null!=this.glyphTexture.texture&&(this.glyphTexture.texture.dispose(),this.glyphTexture.texture=null)};a.prototype.onPickingRender=function(){null==this.geometry&&this.createLabels();
if(null!=this.geometry){this.material.uniforms.texture.value=this.glyphTexture.texture;this.material.uniforms.picking.value=!0;var a=this.geometry.getAttribute("color");a.array=this.pickingColors;a.needsUpdate=!0}};a.prototype.onRender=function(a){null==this.geometry&&this.createLabels();null!=this.geometry&&(this.colorLabels(a.pointColors),this.material.uniforms.texture.value=this.glyphTexture.texture,this.material.uniforms.picking.value=!1,a=this.geometry.getAttribute("color"),a.array=this.renderColors,
a.needsUpdate=!0)};a.prototype.onPointPositionsChanged=function(a){this.worldSpacePointPositions=a;this.dispose()};a.prototype.setLabelStrings=function(a){this.labelStrings=a;this.dispose()};a.prototype.onResize=function(){};return a}();
</script>
<script>//~~WEBPATH~~/vz-projector/scatterPlotVisualizerCanvasLabels.js
var tf=function(){function a(a){this.labelsActive=!0;this.canvas=document.createElement("canvas");a.appendChild(this.canvas);this.gc=this.canvas.getContext("2d");this.canvas.style.position="absolute";this.canvas.style.left="0";this.canvas.style.top="0";this.canvas.style.pointerEvents="none"}a.prototype.removeAllLabels=function(){this.gc.clearRect(0,0,this.canvas.width*window.devicePixelRatio,this.canvas.height*window.devicePixelRatio)};a.prototype.makeLabels=function(a){if(null!=a.labels&&0!==a.labels.pointIndices.length&&
null!=this.worldSpacePointPositions){var b=a.labels,d=a.cameraType===he.Perspective,e=parseInt(this.gc.font,10),f=window.devicePixelRatio;var g=this.canvas.width*f;var k=this.canvas.height*f;g=new Od({loX:0,hiX:g,loY:0,hiY:k},g/25,k/50);k=d3.scalePow().exponent(Math.E).domain([a.farthestCameraSpacePointZ,a.nearestCameraSpacePointZ]).range([.1,1]);var l=a.camera.position,m=l.clone().sub(a.cameraTarget),n=new V.Vector3;this.gc.textBaseline="middle";this.gc.miterLimit=2;for(var q=Math.min(1E4,b.pointIndices.length),
p=0;p<q;++p){var t=me(this.worldSpacePointPositions,b.pointIndices[p]);n.copy(l).sub(t);if(!(0>m.dot(n))){var r=a.camera,u=a.screenWidth;var v=a.screenHeight;var z=window.devicePixelRatio;t=(new V.Vector3).copy(t).project(r);v=[(t.x+1)/2*u*z,-((t.y-1)/2*v)*z];u=v[0];v=v[1];u+=4;t={loX:u-2,hiX:u+1+2,loY:v-e/2-2,hiY:v+e/2+2};g.insert(t,!0)&&(z=b.labelStrings[p],this.gc.font=b.defaultFontSize*b.scaleFactors[p]*f+"px roboto",t.hiX+=this.gc.measureText(z).width-1,g.insert(t)&&(t=1,d&&1===b.useSceneOpacityFlags[p]&&
(t=k(n.length())),this.gc.fillStyle=this.styleStringFromPackedRgba(b.fillColors,p,t),this.gc.strokeStyle=this.styleStringFromPackedRgba(b.strokeColors,p,t),this.gc.lineWidth=3,this.gc.strokeText(z,u,v),this.gc.lineWidth=6,this.gc.fillText(z,u,v)))}}}};a.prototype.styleStringFromPackedRgba=function(a,c,d){c*=3;return"rgba("+a[c]+","+a[c+1]+","+a[c+2]+","+d+")"};a.prototype.onResize=function(a,c){var b=window.devicePixelRatio;this.canvas.width=a*b;this.canvas.height=c*b;this.canvas.style.width=a+"px";
this.canvas.style.height=c+"px"};a.prototype.dispose=function(){this.removeAllLabels();this.gc=this.canvas=null};a.prototype.onPointPositionsChanged=function(a){this.worldSpacePointPositions=a;this.removeAllLabels()};a.prototype.onRender=function(a){this.labelsActive&&(this.removeAllLabels(),this.makeLabels(a))};a.prototype.setScene=function(){};a.prototype.onPickingRender=function(){};return a}();
</script>
<script>//~~WEBPATH~~/vz-projector/scatterPlotVisualizerPolylines.js
var uf=function(){function a(){this.polylinePositionBuffer={};this.polylineColorBuffer={}}a.prototype.updateSequenceIndicesInDataSet=function(a){for(var b=0;b<a.sequences.length;b++)for(var d=a.sequences[b],e=0;e<d.pointIndices.length-1;e++)a.points[d.pointIndices[e]].sequenceIndex=b,a.points[d.pointIndices[e+1]].sequenceIndex=b};a.prototype.createPolylines=function(a){if(this.dataSet&&this.dataSet.sequences){this.updateSequenceIndicesInDataSet(this.dataSet);this.polylines=[];for(var b=0;b<this.dataSet.sequences.length;b++){var d=
new V.BufferGeometry;d.addAttribute("position",this.polylinePositionBuffer[b]);d.addAttribute("color",this.polylineColorBuffer[b]);var e=new V.LineBasicMaterial({linewidth:1,opacity:1,transparent:!0,vertexColors:V.VertexColors});d=new V.LineSegments(d,e);d.frustumCulled=!1;this.polylines.push(d);a.add(d)}}};a.prototype.dispose=function(){if(null!=this.polylines){for(var a=0;a<this.polylines.length;a++)this.scene.remove(this.polylines[a]),this.polylines[a].geometry.dispose();this.polylines=null;this.polylinePositionBuffer=
{};this.polylineColorBuffer={}}};a.prototype.setScene=function(a){this.scene=a};a.prototype.setDataSet=function(a){this.dataSet=a};a.prototype.onPointPositionsChanged=function(a){null!=a&&null==this.polylines||this.dispose();if(null!=a&&null!=this.dataSet){for(var b=0;b<this.dataSet.sequences.length;b++){var d=this.dataSet.sequences[b];d=2*(d.pointIndices.length-1);this.polylinePositionBuffer[b]=new V.BufferAttribute(new Float32Array(3*d),3);this.polylineColorBuffer[b]=new V.BufferAttribute(new Float32Array(3*
d),3)}for(b=0;b<this.dataSet.sequences.length;b++){d=this.dataSet.sequences[b];for(var e=0,f=0;f<d.pointIndices.length-1;f++){var g=me(a,d.pointIndices[f]),k=me(a,d.pointIndices[f+1]);this.polylinePositionBuffer[b].setXYZ(e,g.x,g.y,g.z);this.polylinePositionBuffer[b].setXYZ(e+1,k.x,k.y,k.z);e+=2}this.polylinePositionBuffer[b].needsUpdate=!0}null==this.polylines&&this.createPolylines(this.scene)}};a.prototype.onRender=function(a){if(null!=this.polylines)for(var b=0;b<this.polylines.length;b++)this.polylines[b].material.opacity=
a.polylineOpacities[b],this.polylines[b].material.linewidth=a.polylineWidths[b],this.polylineColorBuffer[b].array=a.polylineColors[b],this.polylineColorBuffer[b].needsUpdate=!0};a.prototype.onPickingRender=function(){};a.prototype.onResize=function(){};return a}();
</script>
<script>//~~WEBPATH~~/vz-projector/scatterPlotVisualizerSprites.js
var vf="\n  // Index of the specific vertex (passed in as bufferAttribute), and the\n  // variable that will be used to pass it to the fragment shader.\n  attribute float spriteIndex;\n  attribute vec3 color;\n  attribute float scaleFactor;\n\n  varying vec2 xyIndex;\n  varying vec3 vColor;\n\n  uniform bool sizeAttenuation;\n  uniform float pointSize;\n  uniform float spritesPerRow;\n  uniform float spritesPerColumn;\n\n  void main() {\n    // Pass index and color values to fragment shader.\n    vColor \x3d color;\n    xyIndex \x3d vec2(mod(spriteIndex, spritesPerRow),\n              floor(spriteIndex / spritesPerColumn));\n\n    // Transform current vertex by modelViewMatrix (model world position and\n    // camera world position matrix).\n    vec4 cameraSpacePos \x3d modelViewMatrix * vec4(position, 1.0);\n\n    // Project vertex in camera-space to screen coordinates using the camera's\n    // projection matrix.\n    gl_Position \x3d projectionMatrix * cameraSpacePos;\n\n    // Create size attenuation (if we're in 3D mode) by making the size of\n    // each point inversly proportional to its distance to the camera.\n    float outputPointSize \x3d pointSize;\n    if (sizeAttenuation) {\n      outputPointSize \x3d -pointSize / cameraSpacePos.z;\n    }\n\n    gl_PointSize \x3d\n      max(outputPointSize * scaleFactor, "+
(5).toFixed(1)+");\n  }",wf="\n  varying vec2 xyIndex;\n  varying vec3 vColor;\n\n  uniform sampler2D texture;\n  uniform float spritesPerRow;\n  uniform float spritesPerColumn;\n  uniform bool isImage;\n\n  "+V.ShaderChunk.common+"\n  "+V.ShaderChunk.fog_pars_fragment+"\n  \n  bool point_in_unit_circle(vec2 spriteCoord) {\n    vec2 centerToP \x3d spriteCoord - vec2(0.5, 0.5);\n    return dot(centerToP, centerToP) \x3c (0.5 * 0.5);\n  }\n\n  bool point_in_unit_equilateral_triangle(vec2 spriteCoord) {\n    vec3 v0 \x3d vec3(0, 1, 0);\n    vec3 v1 \x3d vec3(0.5, 0, 0);\n    vec3 v2 \x3d vec3(1, 1, 0);\n    vec3 p \x3d vec3(spriteCoord, 0);\n    float p_in_v0_v1 \x3d cross(v1 - v0, p - v0).z;\n    float p_in_v1_v2 \x3d cross(v2 - v1, p - v1).z;\n    return (p_in_v0_v1 \x3e 0.0) \x26\x26 (p_in_v1_v2 \x3e 0.0);\n  }\n\n  bool point_in_unit_square(vec2 spriteCoord) {\n    return true;\n  }\n\n\n  void main() {\n    if (isImage) {\n      // Coordinates of the vertex within the entire sprite image.\n      vec2 coords \x3d\n        (gl_PointCoord + xyIndex) / vec2(spritesPerRow, spritesPerColumn);\n      gl_FragColor \x3d vec4(vColor, 1.0) * texture2D(texture, coords);\n    } else {\n      bool inside \x3d point_in_unit_circle(gl_PointCoord);\n      if (!inside) {\n        discard;\n      }\n      gl_FragColor \x3d vec4(vColor, 1);\n    }\n    "+
V.ShaderChunk.fog_fragment+"\n  }",xf=function(){function a(){this.texture=null;this.standinTextureForPoints=oe(document.createElement("canvas"));this.renderMaterial=this.createRenderMaterial(!1);this.pickingMaterial=this.createPickingMaterial()}a.prototype.createTextureFromSpriteAtlas=function(a,c,d){this.texture=oe(a);this.spritesPerRow=a.width/c[0];this.spritesPerColumn=a.height/c[1];this.spriteDimensions=c;this.spriteIndexBufferAttribute=new V.BufferAttribute(d,1);null!=this.points&&this.points.geometry.addAttribute("spriteIndex",
this.spriteIndexBufferAttribute)};a.prototype.createUniforms=function(){return{texture:{type:"t"},spritesPerRow:{type:"f"},spritesPerColumn:{type:"f"},fogColor:{type:"c"},fogNear:{type:"f"},fogFar:{type:"f"},isImage:{type:"bool"},sizeAttenuation:{type:"bool"},pointSize:{type:"f"}}};a.prototype.createRenderMaterial=function(a){return new V.ShaderMaterial({uniforms:this.createUniforms(),vertexShader:vf,fragmentShader:wf,transparent:!a,depthTest:a,depthWrite:a,fog:!0,blending:V.MultiplyBlending})};a.prototype.createPickingMaterial=
function(){return new V.ShaderMaterial({uniforms:this.createUniforms(),vertexShader:vf,fragmentShader:"\n  varying vec2 xyIndex;\n  varying vec3 vColor;\n  uniform bool isImage;\n\n  \n  bool point_in_unit_circle(vec2 spriteCoord) {\n    vec2 centerToP \x3d spriteCoord - vec2(0.5, 0.5);\n    return dot(centerToP, centerToP) \x3c (0.5 * 0.5);\n  }\n\n  bool point_in_unit_equilateral_triangle(vec2 spriteCoord) {\n    vec3 v0 \x3d vec3(0, 1, 0);\n    vec3 v1 \x3d vec3(0.5, 0, 0);\n    vec3 v2 \x3d vec3(1, 1, 0);\n    vec3 p \x3d vec3(spriteCoord, 0);\n    float p_in_v0_v1 \x3d cross(v1 - v0, p - v0).z;\n    float p_in_v1_v2 \x3d cross(v2 - v1, p - v1).z;\n    return (p_in_v0_v1 \x3e 0.0) \x26\x26 (p_in_v1_v2 \x3e 0.0);\n  }\n\n  bool point_in_unit_square(vec2 spriteCoord) {\n    return true;\n  }\n\n\n  void main() {\n    xyIndex; // Silence 'unused variable' warning.\n    if (isImage) {\n      gl_FragColor \x3d vec4(vColor, 1);\n    } else {\n      bool inside \x3d point_in_unit_circle(gl_PointCoord);\n      if (!inside) {\n        discard;\n      }\n      gl_FragColor \x3d vec4(vColor, 1);\n    }\n  }",
transparent:!0,depthTest:!0,depthWrite:!0,fog:!1,blending:V.NormalBlending})};a.prototype.createPointSprites=function(a,c){c=this.createGeometry(null!=c?c.length/3:0);this.fog=new V.Fog(16777215);this.points=new V.Points(c,this.renderMaterial);this.points.frustumCulled=!1;null!=this.spriteIndexBufferAttribute&&this.points.geometry.addAttribute("spriteIndex",this.spriteIndexBufferAttribute);a.add(this.points)};a.prototype.calculatePointSize=function(a){if(null!=this.texture)return a?30:this.spriteDimensions[0];
var b=200/Math.log(null!=this.worldSpacePointPositions?this.worldSpacePointPositions.length/3:1)/Math.log(8);return a?b:b/1.5};a.prototype.createGeometry=function(a){this.pickingColors=new Float32Array(3*a);for(var b=0,d=0;d<a;d++){var e=new V.Color(d);this.pickingColors[b++]=e.r;this.pickingColors[b++]=e.g;this.pickingColors[b++]=e.b}a=new V.BufferGeometry;a.addAttribute("position",new V.BufferAttribute(null,3));a.addAttribute("color",new V.BufferAttribute(null,3));a.addAttribute("scaleFactor",new V.BufferAttribute(null,
1));return a};a.prototype.setFogDistances=function(a,c,d){a?(a=this.worldSpacePointPositions.length/3,this.fog.near=c,this.fog.far=d*(2-Math.min(a,5E3)/5E3)):(this.fog.near=Infinity,this.fog.far=Infinity)};a.prototype.dispose=function(){this.disposeGeometry();this.disposeTextureAtlas()};a.prototype.disposeGeometry=function(){null!=this.points&&(this.scene.remove(this.points),this.points.geometry.dispose(),this.worldSpacePointPositions=this.points=null)};a.prototype.disposeTextureAtlas=function(){null!=
this.texture&&this.texture.dispose();this.pickingMaterial=this.renderMaterial=this.texture=null};a.prototype.setScene=function(a){this.scene=a};a.prototype.setSpriteAtlas=function(a,c,d){this.disposeTextureAtlas();this.createTextureFromSpriteAtlas(a,c,d);this.renderMaterial=this.createRenderMaterial(!0);this.pickingMaterial=this.createPickingMaterial()};a.prototype.clearSpriteAtlas=function(){this.disposeTextureAtlas();this.renderMaterial=this.createRenderMaterial(!1);this.pickingMaterial=this.createPickingMaterial()};
a.prototype.onPointPositionsChanged=function(a){if(null==a||0===a.length)this.dispose();else{null!=this.points&&this.worldSpacePointPositions.length!==a.length&&this.disposeGeometry();this.worldSpacePointPositions=a;null==this.points&&this.createPointSprites(this.scene,a);var b=this.points.geometry.getAttribute("position");b.array=a;b.needsUpdate=!0}};a.prototype.onPickingRender=function(a){if(null!=this.points){var b=a.cameraType===he.Perspective;this.pickingMaterial.uniforms.spritesPerRow.value=
this.spritesPerRow;this.pickingMaterial.uniforms.spritesPerRow.value=this.spritesPerColumn;this.pickingMaterial.uniforms.sizeAttenuation.value=b;this.pickingMaterial.uniforms.pointSize.value=this.calculatePointSize(b);this.points.material=this.pickingMaterial;b=this.points.geometry.getAttribute("color");b.array=this.pickingColors;b.needsUpdate=!0;b=this.points.geometry.getAttribute("scaleFactor");b.array=a.pointScaleFactors;b.needsUpdate=!0}};a.prototype.onRender=function(a){if(this.points){var b=
a.camera instanceof V.PerspectiveCamera;this.setFogDistances(b,a.nearestCameraSpacePointZ,a.farthestCameraSpacePointZ);this.scene.fog=this.fog;this.scene.fog.color=new V.Color(a.backgroundColor);this.renderMaterial.uniforms.fogColor.value=this.scene.fog.color;this.renderMaterial.uniforms.fogNear.value=this.fog.near;this.renderMaterial.uniforms.fogFar.value=this.fog.far;this.renderMaterial.uniforms.spritesPerRow.value=this.spritesPerRow;this.renderMaterial.uniforms.spritesPerColumn.value=this.spritesPerColumn;
this.renderMaterial.uniforms.isImage.value=null!=this.texture;this.renderMaterial.uniforms.texture.value=null!=this.texture?this.texture:this.standinTextureForPoints;this.renderMaterial.uniforms.sizeAttenuation.value=b;this.renderMaterial.uniforms.pointSize.value=this.calculatePointSize(b);this.points.material=this.renderMaterial;b=this.points.geometry.getAttribute("color");this.renderColors=a.pointColors;b.array=this.renderColors;b.needsUpdate=!0;b=this.points.geometry.getAttribute("scaleFactor");
b.array=a.pointScaleFactors;b.needsUpdate=!0}};a.prototype.onResize=function(){};return a}();
</script>
<script>//~~WEBPATH~~/vz-projector/scatterPlotVisualizer.js
</script>
<script>//~~WEBPATH~~/vz-projector/projectorScatterPlotAdapter.js
var yf=d3.scaleLinear().domain([1,.7,.4]).range(["hsl(285, 80%, 40%)","hsl(0, 80%, 65%)","hsl(40, 70%, 60%)"]).clamp(!0),Df=function(){function a(a,c){var b=this;this.scatterPlotContainer=a;this.renderLabelsIn3D=!1;this.scatterPlot=new qf(a,c);c.registerProjectionChangedListener(function(a){b.projection=a;b.updateScatterPlotWithNewProjection(a)});c.registerSelectionChangedListener(function(a,c){b.selectedPointIndices=a;b.neighborsOfFirstSelectedPoint=c;b.updateScatterPlotPositions();b.updateScatterPlotAttributes();
b.scatterPlot.render()});c.registerHoverListener(function(a){b.hoverPointIndex=a;b.updateScatterPlotAttributes();b.scatterPlot.render()});c.registerDistanceMetricChangedListener(function(a){b.distanceMetric=a;b.updateScatterPlotAttributes();b.scatterPlot.render()});this.createVisualizers(!1)}a.prototype.notifyProjectionPositionsUpdated=function(){this.updateScatterPlotPositions();this.scatterPlot.render()};a.prototype.setDataSet=function(a){null!=this.projection&&(this.projection.dataSet=a);null!=
this.polylineVisualizer&&this.polylineVisualizer.setDataSet(a);null!=this.labels3DVisualizer&&this.labels3DVisualizer.setLabelStrings(this.generate3DLabelsArray(a,this.labelPointAccessor));if(null!=this.spriteVisualizer&&(this.spriteVisualizer.clearSpriteAtlas(),null!=a&&null!=a.spriteAndMetadataInfo)){var b=a.spriteAndMetadataInfo;if(null!=b.spriteImage&&null!=b.spriteMetadata){for(var d=a.points.length,e=new Float32Array(d),f=0;f<d;++f)e[f]=a.points[f].index;this.spriteVisualizer.setSpriteAtlas(b.spriteImage,
b.spriteMetadata.singleImageDim,e)}}};a.prototype.set3DLabelMode=function(a){this.renderLabelsIn3D=a;this.createVisualizers(a);this.updateScatterPlotAttributes();this.scatterPlot.render()};a.prototype.setLegendPointColorer=function(a){this.legendPointColorer=a};a.prototype.setLabelPointAccessor=function(a){this.labelPointAccessor=a;null!=this.labels3DVisualizer&&this.labels3DVisualizer.setLabelStrings(this.generate3DLabelsArray(null==this.projection?null:this.projection.dataSet,a))};a.prototype.resize=
function(){this.scatterPlot.resize()};a.prototype.populateBookmarkFromUI=function(a){a.cameraDef=this.scatterPlot.getCameraDef()};a.prototype.restoreUIFromBookmark=function(a){this.scatterPlot.setCameraParametersForNextCameraCreation(a.cameraDef,!1)};a.prototype.updateScatterPlotPositions=function(){var a=this.generatePointPositionArray(null==this.projection?null:this.projection.dataSet,null==this.projection?null:this.projection.projectionComponents);this.scatterPlot.setPointPositions(a)};a.prototype.updateScatterPlotAttributes=
function(){if(null!=this.projection){var a=this.projection.dataSet,c=this.selectedPointIndices,d=this.hoverPointIndex,e=this.neighborsOfFirstSelectedPoint,f=this.legendPointColorer,g=this.generatePointColorArray(a,f,this.distanceMetric,c,e,d,this.renderLabelsIn3D,this.getSpriteImageMode()),k=this.generatePointScaleFactorArray(a,c,e,d);d=this.generateVisibleLabelRenderParams(a,c,e,d);f=this.generateLineSegmentColorMap(a,f);e=this.generateLineSegmentOpacityArray(a,c);a=this.generateLineSegmentWidthArray(a,
c);this.scatterPlot.setPointColors(g);this.scatterPlot.setPointScaleFactors(k);this.scatterPlot.setLabels(d);this.scatterPlot.setPolylineColors(f);this.scatterPlot.setPolylineOpacities(e);this.scatterPlot.setPolylineWidths(a)}};a.prototype.render=function(){this.scatterPlot.render()};a.prototype.generatePointPositionArray=function(a,c){if(null==a)return null;var b=d3.scaleLinear(),e=d3.scaleLinear(),f=null,g=d3.extent(a.points,function(b,d){return a.points[d].projections[c[0]]}),k=d3.extent(a.points,
function(b,d){return a.points[d].projections[c[1]]}),l=[-1,1];b.domain(g).range(l);e.domain(k).range(l);null!=c[2]&&(g=d3.extent(a.points,function(b,d){return a.points[d].projections[c[2]]}),f=d3.scaleLinear(),f.domain(g).range(l));var m=new Float32Array(3*a.points.length),n=0;a.points.forEach(function(d,f){m[n++]=b(a.points[f].projections[c[0]]);m[n++]=e(a.points[f].projections[c[1]]);m[n++]=0});f&&(n=2,a.points.forEach(function(b,d){m[n]=f(a.points[d].projections[c[2]]);n+=3}));return m};a.prototype.generateVisibleLabelRenderParams=
function(a,c,d,e){if(null==a)return null;var b=null==c?0:c.length,g=null==d?0:d.length,k=b+g+(null!=e?1:0),l=new Uint32Array(k),m=new Float32Array(k),n=new Int8Array(k),q=new Uint8Array(3*k);k=new Uint8Array(3*k);var p=[];m.fill(1);n.fill(1);var t=0;if(null!=e){p.push(this.getLabelText(a,e,this.labelPointAccessor));l[t]=e;m[t]=2;n[t]=0;var r=zf(0);Af(q,t,r[0],r[1],r[2]);var u=zf(16777215);Af(k,t,u[0],u[1],u[1]);++t}r=zf(0);u=zf(16777215);for(var v=0;v<b;++v)e=c[v],p.push(this.getLabelText(a,e,this.labelPointAccessor)),
l[t]=e,m[t]=2,n[t]=1===b?0:1,Af(q,t,r[0],r[1],r[2]),Af(k,t,u[0],u[1],u[2]),++t;r=zf(0);u=zf(16777215);for(v=0;v<g;++v)e=d[v].index,p.push(this.getLabelText(a,e,this.labelPointAccessor)),l[t]=e,Af(q,t,r[0],r[1],r[2]),Af(k,t,u[0],u[1],u[2]),++t;return new de(new Float32Array(l),p,m,n,q,k)};a.prototype.generatePointScaleFactorArray=function(a,c,d,e){if(null==a)return new Float32Array(0);var b=new Float32Array(a.points.length);b.fill(1);var g=null==d?0:d.length;var k=null==c?0:c.length;for(var l=0;l<
k;++l)a=c[l],b[a]=1.2;k=g;for(l=0;l<k;++l)a=d[l].index,b[a]=1.2;null!=e&&(b[e]=1.2);return b};a.prototype.generateLineSegmentColorMap=function(a,c){var b={};if(null==a)return b;for(var e=0;e<a.sequences.length;e++){var f=a.sequences[e],g=new Float32Array(6*(f.pointIndices.length-1)),k=0;if(c)for(var l=0;l<f.pointIndices.length-1;l++){var m=new V.Color(c(a,f.pointIndices[l]));var n=new V.Color(c(a,f.pointIndices[l+1]));g[k++]=m.r;g[k++]=m.g;g[k++]=m.b;g[k++]=n.r;g[k++]=n.g;g[k++]=n.b}else for(l=0;l<
f.pointIndices.length-1;l++)m=Bf(l,f.pointIndices.length),n=Bf(l+1,f.pointIndices.length),g[k++]=m.r,g[k++]=m.g,g[k++]=m.b,g[k++]=n.r,g[k++]=n.g,g[k++]=n.b;b[e]=g}return b};a.prototype.generateLineSegmentOpacityArray=function(a,c){if(null==a)return new Float32Array(0);var b=new Float32Array(a.sequences.length);0<(null==c?0:c.length)?(b.fill(.05),b[a.points[c[0]].sequenceIndex]=.9):b.fill(.2);return b};a.prototype.generateLineSegmentWidthArray=function(a,c){if(null==a)return new Float32Array(0);var b=
new Float32Array(a.sequences.length);b.fill(2);0<(null==c?0:c.length)&&(b[a.points[c[0]].sequenceIndex]=3);return b};a.prototype.generatePointColorArray=function(a,c,d,e,f,g,k,l){if(null==a)return new Float32Array(0);var b=null==e?0:e.length,n=null==f?0:f.length,q=new Float32Array(3*a.points.length);var p=14935011;var t=7697881;k&&(t=p=16777215);l&&(t=p=16777215);l=a.points.length;k=0;if(0<b)for(p=new V.Color(p),t=0;t<l;++t)q[k++]=p.r,q[k++]=p.g,q[k++]=p.b;else if(null!=c)for(t=0;t<l;++t)p=new V.Color(c(a,
t)),q[k++]=p.r,q[k++]=p.g,q[k++]=p.b;else for(p=new V.Color(t),t=0;t<l;++t)q[k++]=p.r,q[k++]=p.g,q[k++]=p.b;l=b;p=new V.Color(16410214);for(t=0;t<l;++t)k=3*e[t],q[k++]=p.r,q[k++]=p.g,q[k++]=p.b;l=n;a=0<l?f[0].dist:0;for(t=0;t<l;++t)p=new V.Color(yf(Cf(d,f[t].dist,a))),k=3*f[t].index,q[k++]=p.r,q[k++]=p.g,q[k++]=p.b;null!=g&&(p=new V.Color(7736143),k=3*g,q[k++]=p.r,q[k++]=p.g,q[k++]=p.b);return q};a.prototype.generate3DLabelsArray=function(a,c){if(null==a||null==c)return null;for(var b=[],e=a.points.length,
f=0;f<e;++f)b.push(this.getLabelText(a,f,c));return b};a.prototype.getLabelText=function(a,c,d){return a.points[c].metadata[d].toString()};a.prototype.updateScatterPlotWithNewProjection=function(a){null==a?(this.createVisualizers(this.renderLabelsIn3D),this.scatterPlot.render()):(this.setDataSet(a.dataSet),this.scatterPlot.setDimensions(a.dimensionality),a.dataSet.projectionCanBeRendered(a.projectionType)&&(this.updateScatterPlotAttributes(),this.notifyProjectionPositionsUpdated()),this.scatterPlot.setCameraParametersForNextCameraCreation(null,
!1))};a.prototype.createVisualizers=function(a){var b=null==this.projection?null:this.projection.dataSet,d=this.scatterPlot;d.removeAllVisualizers();this.polylineVisualizer=this.spriteVisualizer=this.canvasLabelsVisualizer=this.labels3DVisualizer=null;a?(this.labels3DVisualizer=new sf,this.labels3DVisualizer.setLabelStrings(this.generate3DLabelsArray(b,this.labelPointAccessor))):(this.spriteVisualizer=new xf,d.addVisualizer(this.spriteVisualizer),this.canvasLabelsVisualizer=new tf(this.scatterPlotContainer));
this.polylineVisualizer=new uf;this.setDataSet(b);this.spriteVisualizer&&d.addVisualizer(this.spriteVisualizer);this.labels3DVisualizer&&d.addVisualizer(this.labels3DVisualizer);this.canvasLabelsVisualizer&&d.addVisualizer(this.canvasLabelsVisualizer);d.addVisualizer(this.polylineVisualizer)};a.prototype.getSpriteImageMode=function(){if(null==this.projection)return!1;var a=this.projection.dataSet;return null==a||null==a.spriteAndMetadataInfo?!1:null!=a.spriteAndMetadataInfo.spriteImage};return a}();
function Af(a,b,c,d,e){a[3*b]=c;a[3*b+1]=d;a[3*b+2]=e}function zf(a){a=new V.Color(a);return[255*a.r|0,255*a.g|0,255*a.b|0]}function Bf(a,b){a=d3.hsl(60+300*a/b,1,.3).rgb();return new V.Color(a.r/255,a.g/255,a.b/255)}function Cf(a,b,c){return a===ye?c/b:1-b};
</script>
<script>//~~WEBPATH~~/vz-projector/vz-projector-util.js
</script>

<dom-module id="vz-projector-styles">
<template></template>
</dom-module>












<dom-module id="iron-autogrow-textarea">

  
  <template></template>
</dom-module>

<script>//~~WEBPATH~~/iron-autogrow-textarea/iron-autogrow-textarea.html.js
Polymer({is:"iron-autogrow-textarea",behaviors:[Polymer.IronFormElementBehavior,Polymer.IronValidatableBehavior,Polymer.IronControlState],properties:{bindValue:{observer:"_bindValueChanged",type:String},rows:{type:Number,value:1,observer:"_updateCached"},maxRows:{type:Number,value:0,observer:"_updateCached"},autocomplete:{type:String,value:"off"},autofocus:{type:Boolean,value:!1},inputmode:{type:String},placeholder:{type:String},readonly:{type:String},required:{type:Boolean},maxlength:{type:Number}},
listeners:{input:"_onInput"},observers:["_onValueChanged(value)"],get textarea(){return this.$.textarea},get selectionStart(){return this.$.textarea.selectionStart},get selectionEnd(){return this.$.textarea.selectionEnd},set selectionStart(a){this.$.textarea.selectionStart=a},set selectionEnd(a){this.$.textarea.selectionEnd=a},validate:function(){if(!this.required&&""==this.value)return this.invalid=!1,!0;if(this.hasValidator())var a=Polymer.IronValidatableBehavior.validate.call(this,this.value);
else a=this.$.textarea.validity.valid,this.invalid=!a;this.fire("iron-input-validate");return a},_bindValueChanged:function(){var a=this.textarea;a&&(a.value!==this.bindValue&&(a.value=this.bindValue||0===this.bindValue?this.bindValue:""),this.value=this.bindValue,this.$.mirror.innerHTML=this._valueForMirror(),this.fire("bind-value-changed",{value:this.bindValue}))},_onInput:function(a){this.bindValue=a.path?a.path[0].value:a.target.value},_constrain:function(a){a=a||[""];for(a=0<this.maxRows&&a.length>
this.maxRows?a.slice(0,this.maxRows):a.slice(0);0<this.rows&&a.length<this.rows;)a.push("");return a.join("\x3cbr/\x3e")+"\x26#160;"},_valueForMirror:function(){var a=this.textarea;if(a)return this.tokens=a&&a.value?a.value.replace(/&/gm,"\x26amp;").replace(/"/gm,"\x26quot;").replace(/'/gm,"\x26#39;").replace(/</gm,"\x26lt;").replace(/>/gm,"\x26gt;").split("\n"):[""],this._constrain(this.tokens)},_updateCached:function(){this.$.mirror.innerHTML=this._constrain(this.tokens)},_onValueChanged:function(){this.bindValue=
this.value}});
</script>









<dom-module id="paper-textarea">
  <template></template>
</dom-module>

<script>//~~WEBPATH~~/paper-input/paper-textarea.html.js
Polymer({is:"paper-textarea",behaviors:[Polymer.PaperInputBehavior,Polymer.IronFormElementBehavior],properties:{_ariaLabelledBy:{observer:"_ariaLabelledByChanged",type:String},_ariaDescribedBy:{observer:"_ariaDescribedByChanged",type:String},rows:{type:Number,value:1},maxRows:{type:Number,value:0}},_ariaLabelledByChanged:function(a){this.$.input.textarea.setAttribute("aria-labelledby",a)},_ariaDescribedByChanged:function(a){this.$.input.textarea.setAttribute("aria-describedby",a)},get _focusableElement(){return this.$.input.textarea}});
</script>






<dom-module id="vz-projector-bookmark-panel">
<template></template>
<script>//~~WEBPATH~~/vz-projector/vz-projector-bookmark-panel.js
var Ef=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var b in c)c.hasOwnProperty(b)&&(a[b]=c[b])};return function(b,c){function d(){this.constructor=b}a(b,c);b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),Ff=function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;b.hasStates=!1;return b}Ef(b,a);b.prototype.ready=function(){this.savedStates=[];this.setupUploadButton();
this.ignoreNextProjectionEvent=!1;this.expandLessButton=this.querySelector("#expand-less");this.expandMoreButton=this.querySelector("#expand-more")};b.prototype.initialize=function(a,b){var c=this;this.projector=a;b.registerProjectionChangedListener(function(){c.ignoreNextProjectionEvent?c.ignoreNextProjectionEvent=!1:c.clearStateSelection()})};b.prototype.setSelectedTensor=function(a,b,e){var c=this;this.addStates(null);b&&b.bookmarksPath?e.getBookmarks(a,b.tensorName,function(a){c.addStates(a);
c._expandMore()}):this._expandLess()};b.prototype._expandMore=function(){this.$.panel.show();this.expandMoreButton.style.display="none";this.expandLessButton.style.display=""};b.prototype._expandLess=function(){this.$.panel.hide();this.expandMoreButton.style.display="";this.expandLessButton.style.display="none"};b.prototype._addBookmark=function(){var a=this.projector.getCurrentState();a.label="State "+this.savedStates.length;a.isSelected=!0;this.selectedState=this.savedStates.length;for(var b=0;b<
this.savedStates.length;b++)this.savedStates[b].isSelected=!1,this.notifyPath("savedStates."+b+".isSelected",!1,!1);this.push("savedStates",a);this.updateHasStates()};b.prototype._downloadFile=function(){var a=this.serializeAllSavedStates();a=window.URL.createObjectURL(new Blob([a],{type:"text/plain"}));var b=document.createElement("a");document.body.appendChild(b);b.style.display="none";b.href=a;b.download="state";b.click();document.body.removeChild(b);window.URL.revokeObjectURL(a)};b.prototype._uploadFile=
function(){this.querySelector("#state-file").click()};b.prototype.setupUploadButton=function(){var a=this,b=this.querySelector("#state-file");b.onchange=function(){var c=b.files[0];b.value="";var d=new FileReader;d.onload=function(){var b=JSON.parse(d.result);a.savedStatesValid(b)?(a.addStates(b),a.loadSavedState(0)):ce("Unable to load bookmarks: wrong dataset, expected dataset "+("with shape ("+b[0].dataSetDimensions+")."))};d.readAsText(c)}};b.prototype.addStates=function(a){if(null==a)this.savedStates=
[];else for(var b=0;b<a.length;b++)a[b].isSelected=!1,this.push("savedStates",a[b]);this.updateHasStates()};b.prototype.clearStateSelection=function(){for(var a=0;a<this.savedStates.length;a++)this.setSelectionState(a,!1)};b.prototype._radioButtonHandler=function(a){a=this.getParentDataIndex(a);this.loadSavedState(a);this.setSelectionState(a,!0)};b.prototype.loadSavedState=function(a){for(var b=0;b<this.savedStates.length;b++)this.savedStates[b].isSelected?this.setSelectionState(b,!1):a===b&&(this.setSelectionState(b,
!0),this.ignoreNextProjectionEvent=!0,this.projector.loadState(this.savedStates[b]))};b.prototype.setSelectionState=function(a,b){this.savedStates[a].isSelected=b;this.notifyPath("savedStates."+a+".isSelected",b,!1)};b.prototype.getParentDataIndex=function(a){for(var b=0;b<a.path.length;b++){var c=a.path[b].getAttribute("data-index");if(null!=c)return+c}return-1};b.prototype._clearButtonHandler=function(a){a=this.getParentDataIndex(a);this.splice("savedStates",a,1);this.updateHasStates()};b.prototype._labelChange=
function(a){var b=this.getParentDataIndex(a);this.savedStates[b].label=a.target.value};b.prototype._isSelectedState=function(a){return a===this.selectedState};b.prototype._isNotSelectedState=function(a){return a!==this.selectedState};b.prototype.serializeAllSavedStates=function(){return JSON.stringify(this.savedStates)};b.prototype.loadSavedStates=function(a){this.savedStates=JSON.parse(a);this.updateHasStates()};b.prototype.updateHasStates=function(){this.hasStates=0!==this.savedStates.length};b.prototype.savedStatesValid=
function(a){for(var b=0;b<a.length;b++)if(a[b].dataSetDimensions[0]!==this.projector.dataSet.dim[0]||a[b].dataSetDimensions[1]!==this.projector.dataSet.dim[1])return!1;return!0};return b}(Polymer.Class({is:"vz-projector-bookmark-panel",properties:{savedStates:Object,hasStates:{type:Boolean,value:!1},selectedState:Number}}));document.registerElement(Ff.prototype.is,Ff);
</script>
</dom-module>




















<dom-module id="vz-projector-legend">
<template></template>
<script>//~~WEBPATH~~/vz-projector/vz-projector-legend.js
var Gf=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var b in c)c.hasOwnProperty(b)&&(a[b]=c[b])};return function(b,c){function d(){this.constructor=b}a(b,c);b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),Hf=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}Gf(b,a);b.prototype._renderInfoChanged=function(){var a=this;null!=this.renderInfo&&this.renderInfo.thresholds&&
this.async(function(){return a.setupLinearGradient()})};b.prototype._getLastThreshold=function(){if(null!=this.renderInfo&&null!=this.renderInfo.thresholds)return this.renderInfo.thresholds[this.renderInfo.thresholds.length-1].value};b.prototype.getOffset=function(a){var b=this.renderInfo.thresholds[0].value;return(100*(a-b)/(this.renderInfo.thresholds[this.renderInfo.thresholds.length-1].value-b)).toFixed(2)+"%"};b.prototype.setupLinearGradient=function(){var a=this,b=this.querySelector("#gradient"),
e=this.querySelector("svg.gradient").clientWidth;this.querySelector("svg.gradient rect").style.width=e+"px";b.innerHTML="";this.renderInfo.thresholds.forEach(function(b){var c=document.createElementNS("http://www.w3.org/2000/svg","stop");c.setAttribute("offset",a.getOffset(b.value));c.setAttribute("stop-color",b.color)})};return b}(Polymer.Class({is:"vz-projector-legend",properties:{renderInfo:{type:Object,observer:"_renderInfoChanged"}}}));document.registerElement(Hf.prototype.is,Hf);
</script>
</dom-module>


<dom-module id="vz-projector-data-panel">
<template></template>
<script>//~~WEBPATH~~/vz-projector/vz-projector-data-panel.js
var If=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var b in c)c.hasOwnProperty(b)&&(a[b]=c[b])};return function(b,c){function d(){this.constructor=b}a(b,c);b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),Jf=function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;b.forceCategoricalColoring=!1;return b}If(b,a);b.prototype.ready=function(){this.normalizeData=!0};
b.prototype.initialize=function(a,b){var c=this;this.projector=a;this.dataProvider=b;this.setupUploadButtons();this.querySelector("#normalize-data-checkbox").addEventListener("change",function(){c.projector.setNormalizeData(c.normalizeData)});var d=this.querySelector("#force-categorical-checkbox");d.addEventListener("change",function(){c.setForceCategoricalColoring(d.checked)});this.dataProvider.retrieveRuns(function(a){c.runNames=a;0<c.runNames.length&&(c.selectedRun!=a[0]?c.selectedRun=a[0]:c._generateUiForNewCheckpointForRun(c.selectedRun))})};
b.prototype.setForceCategoricalColoring=function(a){this.forceCategoricalColoring=a;this.querySelector("#force-categorical-checkbox").checked=this.forceCategoricalColoring;this.updateMetadataUI(this.spriteAndMetadata.stats,this.metadataFile);this._selectedColorOptionNameChanged()};b.prototype.getSeparatorClass=function(a){return a?"separator":null};b.prototype.metadataChanged=function(a,b){this.spriteAndMetadata=a;this.metadataFile=b;this.updateMetadataUI(this.spriteAndMetadata.stats,this.metadataFile);
this.selectedColorOptionName=this.colorOptions[0].name};b.prototype.addWordBreaks=function(a){return null==a?"":a.replace(/([\/=-_,])/g,"$1\x3cwbr\x3e")};b.prototype.updateMetadataUI=function(a,b){var c=this,d=this.querySelector("#metadata-file");d.innerHTML=this.addWordBreaks(b);d.title=b;var g=-1;this.labelOptions=a.map(function(a,b){a.isNumeric||-1!==g||(g=b);return a.name});this.selectedLabelOption=this.labelOptions[Math.max(0,g)];b=[{name:"No color map"}];a=a.filter(function(a){return!a.tooManyUniqueValues||
a.isNumeric}).map(function(a){var b=c.forceCategoricalColoring||!a.tooManyUniqueValues;if(b){var d=d3.scaleOrdinal(d3.schemeCategory20);var e=d.range(),f=e.map(function(a,b){return e[3*b%e.length]});var g=a.uniqueEntries;d.range(f).domain(g.map(function(a){return a.label}))}else{var k=[{color:"#ffffdd",value:a.min},{color:"#1f2d86",value:a.max}];d=d3.scaleLinear().domain(k.map(function(a){return a.value})).range(k.map(function(a){return a.color}))}return{name:a.name,desc:b?a.uniqueEntries.length+
(20<a.uniqueEntries.length?" non-unique":"")+" colors":"gradient",map:d,items:g,thresholds:k,tooManyUniqueValues:a.tooManyUniqueValues}});0<a.length&&b.push({name:"Metadata",isSeparator:!0});this.colorOptions=b.concat(a)};b.prototype.setNormalizeData=function(a){this.normalizeData=a};b.prototype._selectedTensorChanged=function(){var a=this;this.projector.updateDataSet(null,null,null);null!=this.selectedTensor&&(this.dataProvider.retrieveTensor(this.selectedRun,this.selectedTensor,function(b){var c=
a.getEmbeddingInfoByName(a.selectedTensor).metadataPath;a.dataProvider.retrieveSpriteAndMetadata(a.selectedRun,a.selectedTensor,function(d){a.projector.updateDataSet(b,d,c)})}),this.projector.setSelectedTensor(this.selectedRun,this.getEmbeddingInfoByName(this.selectedTensor)))};b.prototype._generateUiForNewCheckpointForRun=function(a){var b=this;this.dataProvider.retrieveProjectorConfig(a,function(a){b.projectorConfig=a;a=b.projectorConfig.embeddings.map(function(a){return a.tensorName}).filter(function(a){a=
b.getEmbeddingInfoByName(a).tensorShape;return 2===a.length&&1<a[0]&&1<a[1]}).sort(function(a,c){var d=b.getEmbeddingInfoByName(a),e=b.getEmbeddingInfoByName(c),f=!!d.metadataPath,g=!!e.metadataPath;if(!(!f&&!g||f&&g))return d.metadataPath?-1:1;f=te(c);g=te(a);if(!(!g&&!f||g&&f))return f?-1:1;d=d.tensorShape[0];e=e.tensorShape[0];return d!==e?e-d:a<=c?-1:1});b.tensorNames=a.map(function(a){return{name:a,shape:b.getEmbeddingInfoByName(a).tensorShape}});var c=b.addWordBreaks(b.projectorConfig.modelCheckpointPath),
d=b.querySelector("#checkpoint-file");d.innerHTML=c;d.title=b.projectorConfig.modelCheckpointPath;a="demo"===b.projector.servingMode?b.projectorConfig.embeddings[0].tensorName:a[0];b.selectedTensor===a?b._selectedTensorChanged():b.selectedTensor=a})};b.prototype._selectedLabelOptionChanged=function(){this.projector.setSelectedLabelOption(this.selectedLabelOption)};b.prototype._selectedColorOptionNameChanged=function(){for(var a,b=0;b<this.colorOptions.length;b++)if(this.colorOptions[b].name===this.selectedColorOptionName){a=
this.colorOptions[b];break}a&&(this.showForceCategoricalColorsCheckbox=!!a.tooManyUniqueValues,this.colorLegendRenderInfo=null==a.map?null:a.items?{items:a.items.map(function(b){return{color:a.map(b.label),label:b.label,count:b.count}}),thresholds:null}:{items:null,thresholds:a.thresholds},this.projector.setSelectedColorOption(a))};b.prototype.tensorWasReadFromFile=function(a,b){var c=this;Te(a,function(a){var d=c.querySelector("#checkpoint-file");d.innerText=b;d.title=b;c.projector.updateDataSet(a)})};
b.prototype.metadataWasReadFromFile=function(a,b){var c=this;Ve(a,function(a){c.projector.updateDataSet(c.projector.dataSet,a,b)})};b.prototype.getEmbeddingInfoByName=function(a){for(var b=0;b<this.projectorConfig.embeddings.length;b++){var c=this.projectorConfig.embeddings[b];if(c.tensorName===a)return c}};b.prototype.setupUploadButtons=function(){var a=this,b=this.querySelector("#file");b.onchange=function(){var c=b.files[0];b.value="";var d=new FileReader;d.onload=function(){a.tensorWasReadFromFile(d.result,
c.name)};d.readAsArrayBuffer(c)};this.querySelector("#upload-tensors").onclick=function(){b.click()};var e=this.querySelector("#file-metadata");e.onchange=function(){var b=e.files[0];e.value="";var c=new FileReader;c.onload=function(){a.metadataWasReadFromFile(c.result,b.name)};c.readAsArrayBuffer(b)};this.querySelector("#upload-metadata").onclick=function(){e.click()};"demo"!==this.projector.servingMode&&(this.$$("#publish-container").style.display="none",this.$$("#upload-tensors-step-container").style.display=
"none",this.$$("#upload-metadata-label").style.display="none");this.$$("#demo-data-buttons-container").style.display="block";var f=this.$$("#projector-config-template"),g={embeddings:[{tensorName:"My tensor",tensorShape:[1E3,50],tensorPath:"https://raw.githubusercontent.com/.../tensors.tsv",metadataPath:"https://raw.githubusercontent.com/.../optional.metadata.tsv"}]};this.setProjectorConfigTemplateJson(f,g);var k=this.$$("#config-sprite-checkbox");k.onchange=function(){k.checked?g.embeddings[0].sprite=
{imagePath:"https://github.com/.../optional.sprite.png",singleImageDim:[32,32]}:delete g.embeddings[0].sprite;a.setProjectorConfigTemplateJson(f,g)};var l=this.$$("#config-bookmarks-checkbox");l.onchange=function(){l.checked?g.embeddings[0].bookmarksPath="https://raw.githubusercontent.com/.../bookmarks.txt":delete g.embeddings[0].bookmarksPath;a.setProjectorConfigTemplateJson(f,g)};var m=this.$$("#config-metadata-checkbox");m.onchange=function(){m.checked?g.embeddings[0].metadataPath="https://raw.githubusercontent.com/.../optional.metadata.tsv":
delete g.embeddings[0].metadataPath;a.setProjectorConfigTemplateJson(f,g)};var n=this.$$("#projector-config-url"),q=this.$$("#projector-share-url"),p=this.$$("#projector-share-url-link");n.onchange=function(){var a=location.protocol+"//"+location.host+location.pathname+"?config\x3d"+n.value;q.value=a;p.href=a}};b.prototype.setProjectorConfigTemplateJson=function(a,b){a.value=JSON.stringify(b,null,2)};b.prototype._getNumTensorsLabel=function(){return 1===this.tensorNames.length?"1 tensor":this.tensorNames.length+
" tensors"};b.prototype._getNumRunsLabel=function(){return 1===this.runNames.length?"1 run":this.runNames.length+" runs"};b.prototype._hasChoices=function(a){return 1<a.length};return b}(Polymer.Class({is:"vz-projector-data-panel",properties:{selectedTensor:{type:String,observer:"_selectedTensorChanged"},selectedRun:String,selectedColorOptionName:{type:String,notify:!0,observer:"_selectedColorOptionNameChanged"},selectedLabelOption:{type:String,notify:!0,observer:"_selectedLabelOptionChanged"},normalizeData:Boolean,
showForceCategoricalColorsCheckbox:Boolean},observers:["_generateUiForNewCheckpointForRun(selectedRun)"]}));document.registerElement(Jf.prototype.is,Jf);
</script>
</dom-module>








<dom-module id="vz-projector-input">
<template></template>
<script>//~~WEBPATH~~/vz-projector/vz-projector-input.js
var Kf=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var b in c)c.hasOwnProperty(b)&&(a[b]=c[b])};return function(b,c){function d(){this.constructor=b}a(b,c);b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),Lf=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}Kf(b,a);b.prototype.registerInputChangedListener=function(a){this.textChangedListeners.push(a)};b.prototype.ready=
function(){var a=this;this.inRegexMode=!1;this.textChangedListeners=[];this.paperInput=this.querySelector("paper-input");this.inRegexModeButton=this.querySelector("paper-button");this.paperInput.setAttribute("error-message","Invalid regex");this.paperInput.addEventListener("input",function(){a.onTextChanged()});this.paperInput.addEventListener("keydown",function(a){a.stopPropagation()});this.inRegexModeButton.addEventListener("click",function(){return a.onClickRegexModeButton()});this.updateRegexModeDisplaySlashes();
this.onTextChanged()};b.prototype.onClickRegexModeButton=function(){this.inRegexMode=this.inRegexModeButton.active;this.updateRegexModeDisplaySlashes();this.onTextChanged()};b.prototype.notifyInputChanged=function(a,b){this.textChangedListeners.forEach(function(c){return c(a,b)})};b.prototype.onTextChanged=function(){try{this.inRegexMode&&new RegExp(this.paperInput.value)}catch(c){this.paperInput.setAttribute("invalid","true");this.message="";this.notifyInputChanged(null,!0);return}this.paperInput.removeAttribute("invalid");
this.notifyInputChanged(this.paperInput.value,this.inRegexMode)};b.prototype.updateRegexModeDisplaySlashes=function(){for(var a=this.paperInput.querySelectorAll(".slash"),b=this.inRegexMode?"":"none",e=0;e<a.length;e++)a[e].style.display=b};b.prototype.getValue=function(){return this.paperInput.value};b.prototype.getInRegexMode=function(){return this.inRegexMode};b.prototype.set=function(a,b){this.inRegexModeButton.active=b;this.paperInput.value=a;this.onClickRegexModeButton()};return b}(Polymer.Class({is:"vz-projector-input",
properties:{label:String,message:String}}));document.registerElement(Lf.prototype.is,Lf);
</script>
</dom-module>












<dom-module id="vz-projector-inspector-panel">


<template></template>
<script>//~~WEBPATH~~/vz-projector/vz-projector-inspector-panel.js
var Mf=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var b in c)c.hasOwnProperty(b)&&(a[b]=c[b])};return function(b,c){function d(){this.constructor=b}a(b,c);b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),Nf=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}Mf(b,a);b.prototype.ready=function(){this.resetFilterButton=this.querySelector(".reset-filter");this.setFilterButton=
this.querySelector(".set-filter");this.clearSelectionButton=this.querySelector(".clear-selection");this.limitMessage=this.querySelector(".limit-msg");this.searchBox=this.querySelector("#search-box");this.scopeSubtree(this,!0)};b.prototype.initialize=function(a,b){var c=this;this.projector=a;this.projectorEventContext=b;this.setupUI(a);b.registerSelectionChangedListener(function(a,b){return c.updateInspectorPane(a,b)})};b.prototype.updateInspectorPane=function(a,b){this.neighborsOfFirstPoint=b;this.selectedPointIndices=
a;this.updateFilterButtons(a.length+b.length);this.updateNeighborsList(b);0===b.length?this.updateSearchResults(a):this.updateSearchResults([])};b.prototype.enableResetFilterButton=function(a){this.resetFilterButton.disabled=!a};b.prototype.restoreUIFromBookmark=function(a){this.enableResetFilterButton(null!=a.filteredPoints)};b.prototype.metadataChanged=function(a){var b=-1;this.metadataFields=a.stats.map(function(a,c){a.isNumeric||-1!==b||(b=c);return a.name});b=Math.max(0,b);this.selectedMetadataField=
a.stats[b].name};b.prototype.datasetChanged=function(){this.enableResetFilterButton(!1)};b.prototype.updateSearchResults=function(a){var b=this,c=this.querySelector(".matches-list");c.style.display=a.length?null:"none";var f=c.querySelector(".list");f.innerHTML="";if(0!==a.length){this.limitMessage.style.display=100>=a.length?"none":null;a=a.slice(0,100);c=function(c){var d=a[c];c=document.createElement("div");c.className="row";var e=g.getLabelFromIndex(d),k=document.createElement("a");k.className=
"label";k.title=e;k.innerText=e;k.onmouseenter=function(){b.projectorEventContext.notifyHoverOverPoint(d)};k.onmouseleave=function(){b.projectorEventContext.notifyHoverOverPoint(null)};k.onclick=function(){b.projectorEventContext.notifySelectionChanged([d])};c.appendChild(k);f.appendChild(c)};for(var g=this,k=0;k<a.length;k++)c(k)}};b.prototype.getLabelFromIndex=function(a){return this.projector.dataSet.points[a].metadata[this.selectedMetadataField].toString()};b.prototype.updateNeighborsList=function(a){var b=
this,c=this.querySelector(".nn-list");c.innerHTML="";this.querySelector(".nn").style.display=a.length?null:"none";if(0!==a.length){this.searchBox.message="";for(var f=0<a.length?a[0].dist:0,g=function(d){var e=a[d];d=document.createElement("div");d.className="neighbor";var g=document.createElement("a");g.className="neighbor-link";g.title=k.getLabelFromIndex(e.index);var l=document.createElement("div");l.className="label-and-value";var m=document.createElement("div");m.className="label";m.style.color=
yf(Cf(k.distFunc,e.dist,f));m.innerText=k.getLabelFromIndex(e.index);var r=document.createElement("div");r.className="value";r.innerText=e.dist.toFixed(3);l.appendChild(m);l.appendChild(r);m=document.createElement("div");m.className="bar";r=document.createElement("div");r.className="fill";r.style.borderTopColor=yf(Cf(k.distFunc,e.dist,f));r.style.width=100*Cf(k.distFunc,e.dist,f)+"%";m.appendChild(r);for(r=1;4>r;r++){var u=document.createElement("div");u.className="tick";u.style.left=100*r/4+"%";
m.appendChild(u)}g.appendChild(l);g.appendChild(m);d.appendChild(g);c.appendChild(d);g.onmouseenter=function(){b.projectorEventContext.notifyHoverOverPoint(e.index)};g.onmouseleave=function(){b.projectorEventContext.notifyHoverOverPoint(null)};g.onclick=function(){b.projectorEventContext.notifySelectionChanged([e.index])}},k=this,l=0;l<a.length;l++)g(l)}};b.prototype.updateFilterButtons=function(a){1<a?(this.setFilterButton.innerText="Isolate "+a+" points",this.setFilterButton.disabled=null,this.clearSelectionButton.disabled=
null):(this.setFilterButton.disabled=!0,this.clearSelectionButton.disabled=!0)};b.prototype.setupUI=function(a){function b(){c.numNN=+k.value;c.querySelector(".num-nn .nn-count").innerText=""+c.numNN;null!=c.selectedPointIndices&&c.projectorEventContext.notifySelectionChanged([c.selectedPointIndices[0]])}var c=this;this.distFunc=Ee;var f=this.querySelector(".distance a.euclidean");f.onclick=function(){for(var b=c.querySelectorAll(".distance a"),d=0;d<b.length;d++)le(b[d],"selected",!1);le(f,"selected",
!0);c.distFunc=ye;c.projectorEventContext.notifyDistanceMetricChanged(c.distFunc);b=a.dataSet.findNeighbors(c.selectedPointIndices[0],c.distFunc,c.numNN);c.updateNeighborsList(b)};var g=this.querySelector(".distance a.cosine");g.onclick=function(){for(var b=c.querySelectorAll(".distance a"),d=0;d<b.length;d++)le(b[d],"selected",!1);le(g,"selected",!0);c.distFunc=Ee;c.projectorEventContext.notifyDistanceMetricChanged(c.distFunc);b=a.dataSet.findNeighbors(c.selectedPointIndices[0],c.distFunc,c.numNN);
c.updateNeighborsList(b)};this.searchBox.registerInputChangedListener(function(b,d){null==b||""===b.trim()?(c.searchBox.message="",c.projectorEventContext.notifySelectionChanged([])):(b=a.dataSet.query(b,d,c.selectedMetadataField),c.searchBox.message=0===b.length?"0 matches.":b.length+" matches.",c.projectorEventContext.notifySelectionChanged(b))});var k=this.$$("#nn-slider");k.addEventListener("change",b);b();this.setFilterButton.onclick=function(){var b=c.selectedPointIndices.concat(c.neighborsOfFirstPoint.map(function(a){return a.index}));
a.filterDataset(b);c.enableResetFilterButton(!0);c.updateFilterButtons(0)};this.resetFilterButton.onclick=function(){a.resetFilterDataset();c.enableResetFilterButton(!1)};this.clearSelectionButton.onclick=function(){a.adjustSelectionAndHover([])};this.enableResetFilterButton(!1)};return b}(Polymer.Class({is:"vz-projector-inspector-panel",properties:{selectedMetadataField:String,metadataFields:Array}}));document.registerElement(Nf.prototype.is,Nf);
</script>
</dom-module>






<dom-module id="vz-projector-metadata-card">
<template></template>
<script>//~~WEBPATH~~/vz-projector/vz-projector-metadata-card.js
var Of=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var b in c)c.hasOwnProperty(b)&&(a[b]=c[b])};return function(b,c){function d(){this.constructor=b}a(b,c);b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),Pf=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}Of(b,a);b.prototype.ready=function(){this.expandLessButton=this.querySelector("#expand-less");this.expandMoreButton=
this.querySelector("#expand-more")};b.prototype._expandMore=function(){this.$$("#metadata-container").toggle();this.expandMoreButton.style.display="none";this.expandLessButton.style.display=""};b.prototype._expandLess=function(){this.$$("#metadata-container").toggle();this.expandMoreButton.style.display="";this.expandLessButton.style.display="none"};b.prototype.updateMetadata=function(a){this.pointMetadata=a;this.hasMetadata=null!=a;if(a){var b=[],c;for(c in a)a.hasOwnProperty(c)&&b.push({key:c,value:a[c]});
this.metadata=b;this.label=""+this.pointMetadata[this.labelOption]}};b.prototype.setLabelOption=function(a){this.labelOption=a;this.pointMetadata&&(this.label=""+this.pointMetadata[this.labelOption])};return b}(Polymer.Class({is:"vz-projector-metadata-card",properties:{hasMetadata:{type:Boolean,value:!1},metadata:{type:Array},label:String}}));document.registerElement(Pf.prototype.is,Pf);
</script>
</dom-module>



















<dom-module id="vz-projector-projections-panel">
<template></template>
<script>//~~WEBPATH~~/vz-projector/vz-projector-projections-panel.js
var Qf=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var b in c)c.hasOwnProperty(b)&&(a[b]=c[b])};return function(b,c){function d(){this.constructor=b}a(b,c);b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),Rf=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}Qf(b,a);b.prototype.initialize=function(a){this.polymerChangesTriggerReprojection=!0;this.projector=
a;this.perplexity=30;this.learningRate=10;this.centroidValues={xLeft:null,xRight:null,yUp:null,yDown:null};this.clearCentroids();this.setupUIControls()};b.prototype.ready=function(){this.zDropdown=this.querySelector("#z-dropdown");this.runTsneButton=this.querySelector(".run-tsne");this.stopTsneButton=this.querySelector(".stop-tsne");this.perplexitySlider=this.querySelector("#perplexity-slider");this.learningRateInput=this.querySelector("#learning-rate-slider");this.iterationLabel=this.querySelector(".run-tsne-iter")};
b.prototype.disablePolymerChangesTriggerReprojection=function(){this.polymerChangesTriggerReprojection=!1};b.prototype.enablePolymerChangesTriggerReprojection=function(){this.polymerChangesTriggerReprojection=!0};b.prototype.updateTSNEPerplexityFromSliderChange=function(){this.perplexitySlider&&(this.perplexity=+this.perplexitySlider.value);this.querySelector(".tsne-perplexity span").innerText=""+this.perplexity};b.prototype.updateTSNELearningRateFromUIChange=function(){this.learningRateInput&&(this.learningRate=
Math.pow(10,+this.learningRateInput.value));this.querySelector(".tsne-learning-rate span").innerText=""+this.learningRate};b.prototype.setupUIControls=function(){for(var a=this,b=this,e=this.querySelectorAll(".ink-tab"),f=0;f<e.length;f++)e[f].addEventListener("click",function(){var a=this.getAttribute("data-tab");b.showTab(a)});this.runTsneButton.addEventListener("click",function(){return a.runTSNE()});this.stopTsneButton.addEventListener("click",function(){return a.dataSet.stopTSNE()});this.perplexitySlider.value=
this.perplexity.toString();this.perplexitySlider.addEventListener("change",function(){return a.updateTSNEPerplexityFromSliderChange()});this.updateTSNEPerplexityFromSliderChange();this.learningRateInput.addEventListener("change",function(){return a.updateTSNELearningRateFromUIChange()});this.updateTSNELearningRateFromUIChange();this.setupCustomProjectionInputFields();e=this.querySelectorAll("paper-dropdown-menu paper-input input");for(f=0;f<e.length;f++)e[f].style.fontSize="14px"};b.prototype.restoreUIFromBookmark=
function(a){this.disablePolymerChangesTriggerReprojection();this.pcaX=a.pcaComponentDimensions[0];this.pcaY=a.pcaComponentDimensions[1];3===a.pcaComponentDimensions.length&&(this.pcaZ=a.pcaComponentDimensions[2]);this.pcaIs3d=3===a.pcaComponentDimensions.length;this.perplexitySlider&&(this.perplexitySlider.value=a.tSNEPerplexity.toString());this.learningRateInput&&(this.learningRateInput.value=a.tSNELearningRate.toString());this.tSNEis3d=a.tSNEis3d;this.customSelectedSearchByMetadataOption=a.customSelectedSearchByMetadataOption;
this.customProjectionXLeftInput&&this.customProjectionXLeftInput.set(a.customXLeftText,a.customXLeftRegex);this.customProjectionXRightInput&&this.customProjectionXRightInput.set(a.customXRightText,a.customXRightRegex);this.customProjectionYUpInput&&this.customProjectionYUpInput.set(a.customYUpText,a.customYUpRegex);this.customProjectionYDownInput&&this.customProjectionYDownInput.set(a.customYDownText,a.customYDownRegex);this.computeAllCentroids();this.setZDropdownEnabled(this.pcaIs3d);this.updateTSNEPerplexityFromSliderChange();
this.updateTSNELearningRateFromUIChange();this.iterationLabel&&(this.iterationLabel.innerText=a.tSNEIteration.toString());null!=a.selectedProjection&&this.showTab(a.selectedProjection);this.enablePolymerChangesTriggerReprojection()};b.prototype.populateBookmarkFromUI=function(a){this.disablePolymerChangesTriggerReprojection();a.pcaComponentDimensions=[this.pcaX,this.pcaY];this.pcaIs3d&&a.pcaComponentDimensions.push(this.pcaZ);null!=this.perplexitySlider&&(a.tSNEPerplexity=+this.perplexitySlider.value);
null!=this.learningRateInput&&(a.tSNELearningRate=+this.learningRateInput.value);a.tSNEis3d=this.tSNEis3d;a.customSelectedSearchByMetadataOption=this.customSelectedSearchByMetadataOption;null!=this.customProjectionXLeftInput&&(a.customXLeftText=this.customProjectionXLeftInput.getValue(),a.customXLeftRegex=this.customProjectionXLeftInput.getInRegexMode());null!=this.customProjectionXRightInput&&(a.customXRightText=this.customProjectionXRightInput.getValue(),a.customXRightRegex=this.customProjectionXRightInput.getInRegexMode());
null!=this.customProjectionYUpInput&&(a.customYUpText=this.customProjectionYUpInput.getValue(),a.customYUpRegex=this.customProjectionYUpInput.getInRegexMode());null!=this.customProjectionYDownInput&&(a.customYDownText=this.customProjectionYDownInput.getValue(),a.customYDownRegex=this.customProjectionYDownInput.getInRegexMode());this.enablePolymerChangesTriggerReprojection()};b.prototype.setZDropdownEnabled=function(a){this.zDropdown&&(a?this.zDropdown.removeAttribute("disabled"):this.zDropdown.setAttribute("disabled",
"true"))};b.prototype.dataSetUpdated=function(a,b,e){this.dataSet=a;this.originalDataSet=b;this.dim=e;b=null==a?0:a.points.length;this.perplexitySlider.value=Math.max(5,Math.ceil(Math.sqrt(b)/4)).toString();this.updateTSNEPerplexityFromSliderChange();this.clearCentroids();this.querySelector("#tsne-sampling").style.display=1E4<b?null:"none";a=null==a?!1:200<a.dim[0]||200<a.dim[1];this.querySelector("#pca-sampling").style.display=a?null:"none";this.showTab("pca")};b.prototype._pcaDimensionToggleObserver=
function(){this.setZDropdownEnabled(this.pcaIs3d);this.beginProjection(this.currentProjection)};b.prototype._tsneDimensionToggleObserver=function(){this.beginProjection(this.currentProjection)};b.prototype.metadataChanged=function(a){var b=-1;this.searchByMetadataOptions=a.stats.map(function(a,c){a.isNumeric||-1!==b||(b=c);return a.name});this.customSelectedSearchByMetadataOption=this.searchByMetadataOptions[Math.max(0,b)]};b.prototype.showTab=function(a){var b=this;this.currentProjection=a;for(var c=
this.querySelector('.ink-tab[data-tab\x3d"'+a+'"]'),f=this.querySelectorAll(".ink-tab"),g=0;g<f.length;g++)le(f[g],"active",!1);le(c,"active",!0);c=this.querySelectorAll(".ink-panel-content");for(g=0;g<c.length;g++)le(c[g],"active",!1);le(this.querySelector('.ink-panel-content[data-panel\x3d"'+a+'"]'),"active",!0);if(null!=this.$){var k=this.$.main;requestAnimationFrame(function(){b.style.height=k.clientHeight+"px"})}this.beginProjection(a)};b.prototype.beginProjection=function(a){!1!==this.polymerChangesTriggerReprojection&&
("pca"===a?(null!=this.dataSet&&this.dataSet.stopTSNE(),this.showPCA()):"tsne"===a?this.showTSNE():"custom"===a&&(null!=this.dataSet&&this.dataSet.stopTSNE(),this.computeAllCentroids(),this.reprojectCustom()))};b.prototype.showTSNE=function(){var a=this.dataSet;if(null!=a){var b=Qe("tsne",[0,1,this.tSNEis3d?2:null]);a=new Oe("tsne",b,this.tSNEis3d?3:2,a);this.projector.setProjection(a);this.dataSet.hasTSNERun?this.projector.notifyProjectionPositionsUpdated():this.runTSNE()}};b.prototype.runTSNE=function(){var a=
this;this.runTsneButton.disabled=!0;this.stopTsneButton.disabled=null;this.dataSet.projectTSNE(this.perplexity,this.learningRate,this.tSNEis3d?3:2,function(b){null!=b?(a.iterationLabel.innerText=""+b,a.projector.notifyProjectionPositionsUpdated()):(a.runTsneButton.disabled=null,a.stopTsneButton.disabled=!0)})};b.prototype.showPCAIfEnabled=function(){this.polymerChangesTriggerReprojection&&this.showPCA()};b.prototype.updateTotalVarianceMessage=function(){var a=this.dataSet.fracVariancesExplained,b=
a[this.pcaX]+a[this.pcaY];this.pcaIs3d&&(b+=a[this.pcaZ]);a="Total variance described: "+((100*b).toFixed(1)+"%.");this.querySelector("#total-variance").innerHTML=a};b.prototype.showPCA=function(){var a=this;null!=this.dataSet&&this.dataSet.projectPCA().then(function(){var b=Qe("pca",[a.pcaX,a.pcaY,a.pcaZ]);b=new Oe("pca",b,a.pcaIs3d?3:2,a.dataSet);a.projector.setProjection(b);b=Math.min(10,a.dataSet.dim[1]);a.updateTotalVarianceMessage();a.pcaComponents=ke(b).map(function(b){return{id:b,componentNumber:b+
1,percVariance:(100*a.dataSet.fracVariancesExplained[b]).toFixed(1)}})})};b.prototype.reprojectCustom=function(){if(null!=this.centroids&&null!=this.centroids.xLeft&&null!=this.centroids.xRight&&null!=this.centroids.yUp&&null!=this.centroids.yDown){var a=we(this.centroids.xRight,this.centroids.xLeft);this.dataSet.projectLinear(a,"linear-x");a=we(this.centroids.yUp,this.centroids.yDown);this.dataSet.projectLinear(a,"linear-y");a=Qe("custom",["x","y"]);a=new Oe("custom",a,2,this.dataSet);this.projector.setProjection(a)}};
b.prototype.clearCentroids=function(){this.centroids={xLeft:null,xRight:null,yUp:null,yDown:null};this.allCentroid=null};b.prototype._customSelectedSearchByMetadataOptionChanged=function(){!1!==this.polymerChangesTriggerReprojection&&"custom"===this.currentProjection&&(this.computeAllCentroids(),this.reprojectCustom())};b.prototype.setupCustomProjectionInputFields=function(){this.customProjectionXLeftInput=this.setupCustomProjectionInputField("xLeft");this.customProjectionXRightInput=this.setupCustomProjectionInputField("xRight");
this.customProjectionYUpInput=this.setupCustomProjectionInputField("yUp");this.customProjectionYDownInput=this.setupCustomProjectionInputField("yDown")};b.prototype.computeAllCentroids=function(){this.computeCentroid("xLeft");this.computeCentroid("xRight");this.computeCentroid("yUp");this.computeCentroid("yDown")};b.prototype.computeCentroid=function(a){var b=this.querySelector("#"+a);if(null!=b){var c=b.getValue();if(null!=c){var f=this.getCentroid(c,b.getInRegexMode());0===f.numMatches?(b.message=
"0 matches. Using a random vector.",f.centroid=Ce(this.dim)):b.message=f.numMatches+" matches.";this.centroids[a]=f.centroid;this.centroidValues[a]=c}}};b.prototype.setupCustomProjectionInputField=function(a){var b=this,c=this.querySelector("#"+a);c.registerInputChangedListener(function(){b.polymerChangesTriggerReprojection&&(b.computeCentroid(a),b.reprojectCustom())});return c};b.prototype.getCentroid=function(a,b){var c=this;if(null==a||""===a)return{numMatches:0};a=this.originalDataSet.query(a,
b,this.customSelectedSearchByMetadataOption);return{centroid:De(a,function(a){return c.originalDataSet.points[a].vector}),numMatches:a.length}};b.prototype.getPcaSampledDimText=function(){return(200).toLocaleString()};b.prototype.getPcaSampleSizeText=function(){return(5E4).toLocaleString()};b.prototype.getTsneSampleSizeText=function(){return(1E4).toLocaleString()};return b}(Polymer.Class({is:"vz-projector-projections-panel",properties:{pcaIs3d:{type:Boolean,value:!0,observer:"_pcaDimensionToggleObserver"},
tSNEis3d:{type:Boolean,value:!0,observer:"_tsneDimensionToggleObserver"},pcaComponents:Array,pcaX:{type:Number,value:0,observer:"showPCAIfEnabled"},pcaY:{type:Number,value:1,observer:"showPCAIfEnabled"},pcaZ:{type:Number,value:2,observer:"showPCAIfEnabled"},customSelectedSearchByMetadataOption:{type:String,observer:"_customSelectedSearchByMetadataOptionChanged"}}}));document.registerElement(Rf.prototype.is,Rf);
</script>
</dom-module>


<dom-module id="vz-projector">
<template></template> 
<script>//~~WEBPATH~~/vz-projector/vz-projector.js
var Sf=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var b in c)c.hasOwnProperty(b)&&(a[b]=c[b])};return function(b,c){function d(){this.constructor=b}a(b,c);b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),Tf=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}Sf(b,a);b.prototype.ready=function(){Zd=this;this.analyticsLogger=new je(this.pageViewLogging,this.eventLogging);
this.analyticsLogger.logPageView();ue()?(this.selectionChangedListeners=[],this.hoverListeners=[],this.projectionChangedListeners=[],this.distanceMetricChangedListeners=[],this.selectedPointIndices=[],this.neighborsOfFirstPoint=[],this.dataPanel=this.$["data-panel"],this.inspectorPanel=this.$["inspector-panel"],this.inspectorPanel.initialize(this,this),this.projectionsPanel=this.$["projections-panel"],this.projectionsPanel.initialize(this),this.bookmarkPanel=this.$["bookmark-panel"],this.bookmarkPanel.initialize(this,
this),this.metadataCard=this.$["metadata-card"],this.statusBar=this.querySelector("#status-bar"),this.scopeSubtree(this.$$("#notification-dialog"),!0),this.setupUIControls(),this.initializeDataProvider()):(this.analyticsLogger.logWebGLDisabled(),be("Your browser or device does not have WebGL enabled. Please enable hardware acceleration, or use a browser that supports WebGL."))};b.prototype.setSelectedLabelOption=function(a){this.selectedLabelOption=a;this.metadataCard.setLabelOption(this.selectedLabelOption);
this.projectorScatterPlotAdapter.setLabelPointAccessor(a);this.projectorScatterPlotAdapter.updateScatterPlotAttributes();this.projectorScatterPlotAdapter.render()};b.prototype.setSelectedColorOption=function(a){this.selectedColorOption=a;this.projectorScatterPlotAdapter.setLegendPointColorer(this.getLegendPointColorer(a));this.projectorScatterPlotAdapter.updateScatterPlotAttributes();this.projectorScatterPlotAdapter.render()};b.prototype.setNormalizeData=function(a){this.normalizeData=a;this.setCurrentDataSet(this.originalDataSet.getSubset())};
b.prototype.updateDataSet=function(a,b,e){this.dataSetFilterIndices=null;this.originalDataSet=a;if(null!=a){this.normalizeData=50<=this.originalDataSet.dim[1];b=b||{};if(null==b.pointsInfo){var c=this.makeDefaultPointsInfoAndStats(a.points),d=c[1];b.pointsInfo=c[0];b.stats=d}if(!a.mergeMetadata(b))return}null!=this.projectorScatterPlotAdapter&&(null==a?(this.projectorScatterPlotAdapter.setLabelPointAccessor(null),this.setProjection(null)):(this.projectorScatterPlotAdapter.updateScatterPlotPositions(),
this.projectorScatterPlotAdapter.updateScatterPlotAttributes(),this.projectorScatterPlotAdapter.resize(),this.projectorScatterPlotAdapter.render()));null!=a?(this.dataPanel.setNormalizeData(this.normalizeData),this.setCurrentDataSet(a.getSubset()),this.projectorScatterPlotAdapter.setLabelPointAccessor(this.selectedLabelOption),this.inspectorPanel.datasetChanged(),this.inspectorPanel.metadataChanged(b),this.projectionsPanel.metadataChanged(b),this.dataPanel.metadataChanged(b,e)):this.setCurrentDataSet(null)};
b.prototype.setSelectedTensor=function(a,b){this.bookmarkPanel.setSelectedTensor(a,b,this.dataProvider)};b.prototype.registerSelectionChangedListener=function(a){this.selectionChangedListeners.push(a)};b.prototype.filterDataset=function(a){var b=this.selectedPointIndices.length;null==this.dataSetBeforeFilter&&(this.dataSetBeforeFilter=this.dataSet);this.setCurrentDataSet(this.dataSet.getSubset(a));this.dataSetFilterIndices=a;this.projectorScatterPlotAdapter.updateScatterPlotPositions();this.projectorScatterPlotAdapter.updateScatterPlotAttributes();
this.adjustSelectionAndHover(ke(b))};b.prototype.resetFilterDataset=function(){var a=this,b=this.selectedPointIndices.map(function(b){return a.dataSet.points[b].index});this.setCurrentDataSet(this.dataSetBeforeFilter);null!=this.projection&&(this.projection.dataSet=this.dataSetBeforeFilter);this.dataSetBeforeFilter=null;this.projectorScatterPlotAdapter.updateScatterPlotPositions();this.projectorScatterPlotAdapter.updateScatterPlotAttributes();this.dataSetFilterIndices=[];this.adjustSelectionAndHover(b)};
b.prototype.notifySelectionChanged=function(a){var b=this;this.selectedPointIndices=a;var c=[];1===a.length?(c=this.dataSet.findNeighbors(a[0],this.inspectorPanel.distFunc,this.inspectorPanel.numNN),this.metadataCard.updateMetadata(this.dataSet.points[a[0]].metadata)):this.metadataCard.updateMetadata(null);this.selectionChangedListeners.forEach(function(a){return a(b.selectedPointIndices,c)})};b.prototype.registerHoverListener=function(a){this.hoverListeners.push(a)};b.prototype.notifyHoverOverPoint=
function(a){this.hoverListeners.forEach(function(b){return b(a)})};b.prototype.registerProjectionChangedListener=function(a){this.projectionChangedListeners.push(a)};b.prototype.notifyProjectionChanged=function(a){this.projectionChangedListeners.forEach(function(b){return b(a)})};b.prototype.registerDistanceMetricChangedListener=function(a){this.distanceMetricChangedListeners.push(a)};b.prototype.notifyDistanceMetricChanged=function(a){this.distanceMetricChangedListeners.forEach(function(b){return b(a)})};
b.prototype._dataProtoChanged=function(a){a=a?JSON.parse(a):null;this.initializeDataProvider(a)};b.prototype.makeDefaultPointsInfoAndStats=function(a){var b=[];a.forEach(function(a){var c={};c.__index__=a.index;b.push(c)});return[b,[{name:"__index__",isNumeric:!1,tooManyUniqueValues:!0,min:0,max:b.length-1}]]};b.prototype.initializeDataProvider=function(a){if("demo"===this.servingMode){if(a=window.location.search){a=-1!==a.indexOf("?")?a.split("?")[1]:a;a.indexOf("#")&&(a=a.split("#")[0]);a=a.split("\x26");
for(var b={},c=0;c<a.length;c++){var f=a[c].split("\x3d");b[f[0].toLowerCase()]=decodeURIComponent(f[1])}a=b}else a={};this.dataProvider=new ff("config"in a?a.config:this.projectorConfigJsonPath)}else if("server"===this.servingMode){if(!this.routePrefix)throw"route-prefix is a required parameter";this.dataProvider=new hf(this.routePrefix)}else if("proto"===this.servingMode&&null!=a)this.dataProvider=new gf(a);else return;this.dataPanel.initialize(this,this.dataProvider)};b.prototype.getLegendPointColorer=
function(a){var b=this;return null==a||null==a.map?null:function(c,d){c=c.points[d].metadata[b.selectedColorOption.name];return null==c?"black":a.map(c)}};b.prototype.get3DLabelModeButton=function(){return this.querySelector("#labels3DMode")};b.prototype.get3DLabelMode=function(){return this.get3DLabelModeButton().active};b.prototype.adjustSelectionAndHover=function(a){this.notifySelectionChanged(a);this.notifyHoverOverPoint(void 0);this.setMouseMode(rf.CAMERA_AND_CLICK_SELECT)};b.prototype.setMouseMode=
function(a){this.querySelector("#selectMode").active=a===rf.AREA_SELECT;this.projectorScatterPlotAdapter.scatterPlot.setMouseMode(a)};b.prototype.setCurrentDataSet=function(a){this.adjustSelectionAndHover([]);null!=this.dataSet&&this.dataSet.stopTSNE();null!=a&&this.normalizeData&&a.normalize();this.dim=null==a?0:a.dim[1];this.querySelector("span.numDataPoints").innerText=null==a?"0":""+a.dim[0];this.querySelector("span.dim").innerText=null==a?"0":""+a.dim[1];this.dataSet=a;this.projectionsPanel.dataSetUpdated(this.dataSet,
this.originalDataSet,this.dim);this.projectorScatterPlotAdapter.setDataSet(this.dataSet);this.projectorScatterPlotAdapter.scatterPlot.setCameraParametersForNextCameraCreation(null,!0)};b.prototype.setupUIControls=function(){var a=this;this.querySelector("#reset-zoom").addEventListener("click",function(){a.projectorScatterPlotAdapter.scatterPlot.resetZoom();a.projectorScatterPlotAdapter.scatterPlot.startOrbitAnimation()});var b=this.querySelector("#selectMode");b.addEventListener("click",function(){a.setMouseMode(b.active?
rf.AREA_SELECT:rf.CAMERA_AND_CLICK_SELECT)});var e=this.querySelector("#nightDayMode");e.addEventListener("click",function(){a.projectorScatterPlotAdapter.scatterPlot.setDayNightMode(e.active)});this.get3DLabelModeButton().addEventListener("click",function(){a.projectorScatterPlotAdapter.set3DLabelMode(a.get3DLabelMode())});window.addEventListener("resize",function(){a.parentNode.style.height=document.body.clientHeight+"px";a.projectorScatterPlotAdapter.resize()});this.projectorScatterPlotAdapter=
new Df(this.getScatterContainer(),this);this.projectorScatterPlotAdapter.setLabelPointAccessor(this.selectedLabelOption);this.projectorScatterPlotAdapter.scatterPlot.onCameraMove(function(){return a.bookmarkPanel.clearStateSelection()});this.registerHoverListener(function(b){return a.onHover(b)});this.registerSelectionChangedListener(function(b,c){return a.onSelectionChanged(b,c)})};b.prototype.onHover=function(a){this.hoverPointIndex=a;var b=null;null!=a&&(a=this.dataSet.points[a],a.metadata[this.selectedLabelOption]&&
(b=a.metadata[this.selectedLabelOption].toString()));0===this.selectedPointIndices.length&&(this.statusBar.style.display=b?null:"none",this.statusBar.innerText=b)};b.prototype.getScatterContainer=function(){return this.querySelector("#scatter")};b.prototype.onSelectionChanged=function(a,b){this.selectedPointIndices=a;this.neighborsOfFirstPoint=b;a=this.selectedPointIndices.length+b.length;this.statusBar.innerText="Selected "+a+" points";this.statusBar.style.display=0<a?null:"none"};b.prototype.setProjection=
function(a){this.projection=a;null!=a&&this.analyticsLogger.logProjectionChanged(a.projectionType);this.notifyProjectionChanged(a)};b.prototype.notifyProjectionPositionsUpdated=function(){this.projectorScatterPlotAdapter.notifyProjectionPositionsUpdated()};b.prototype.getCurrentState=function(){var a=new Pe;a.projections=[];for(var b=0;b<this.dataSet.points.length;b++){for(var e=this.dataSet.points[b],f={},g=Object.keys(e.projections),k=0;k<g.length;++k)f[g[k]]=e.projections[g[k]];a.projections.push(f)}a.selectedProjection=
this.projection.projectionType;a.dataSetDimensions=this.dataSet.dim;a.tSNEIteration=this.dataSet.tSNEIteration;a.selectedPoints=this.selectedPointIndices;a.filteredPoints=this.dataSetFilterIndices;this.projectorScatterPlotAdapter.populateBookmarkFromUI(a);a.selectedColorOptionName=this.dataPanel.selectedColorOptionName;a.forceCategoricalColoring=this.dataPanel.forceCategoricalColoring;a.selectedLabelOption=this.selectedLabelOption;this.projectionsPanel.populateBookmarkFromUI(a);return a};b.prototype.loadState=
function(a){this.setProjection(null);this.projectionsPanel.disablePolymerChangesTriggerReprojection();null!=this.dataSetBeforeFilter&&this.resetFilterDataset();null!=a.filteredPoints&&this.filterDataset(a.filteredPoints);this.projectionsPanel.enablePolymerChangesTriggerReprojection();for(var b=0;b<a.projections.length;b++){var c=this.dataSet.points[b];var f=a.projections[b];for(var g=Object.keys(f),k=0;k<g.length;++k)c.projections[g[k]]=f[g[k]]}this.dataSet.hasTSNERun="tsne"===a.selectedProjection;
this.dataSet.tSNEIteration=a.tSNEIteration;this.projectionsPanel.restoreUIFromBookmark(a);this.inspectorPanel.restoreUIFromBookmark(a);this.dataPanel.selectedColorOptionName=a.selectedColorOptionName;this.dataPanel.setForceCategoricalColoring(!!a.forceCategoricalColoring);this.selectedLabelOption=a.selectedLabelOption;this.projectorScatterPlotAdapter.restoreUIFromBookmark(a);switch(a.selectedProjection){case "pca":f=a.pcaComponentDimensions.slice();break;case "tsne":f=[0,1];a.tSNEis3d&&f.push(2);
break;case "custom":f=["x","y"];break;default:throw Error("Unexpected fallthrough");}b=Qe(a.selectedProjection,f);f=new Oe(a.selectedProjection,b,f.length,this.dataSet);this.setProjection(f);this.notifySelectionChanged(a.selectedPoints)};return b}(Polymer.Class({is:"vz-projector",properties:{routePrefix:String,dataProto:{type:String,observer:"_dataProtoChanged"},servingMode:String,projectorConfigJsonPath:String,pageViewLogging:Boolean,eventLogging:Boolean}}));
document.registerElement(Tf.prototype.is,Tf);
</script>
</dom-module>


<dom-module id="vz-projector-dashboard">
<template></template>
<script>//~~WEBPATH~~/vz-projector/vz-projector-dashboard.html.js
Polymer({is:"vz-projector-dashboard",properties:{dataNotFound:Boolean,_routePrefix:{type:String,value:function(){return I.pluginRoute("projector","")}},_initialized:Boolean},reload:function(){},attached:function(){var a=this;if(!this._initialized){var b=new XMLHttpRequest;b.open("GET",this._routePrefix+"/runs");b.onload=function(){a._initialized=!0;var c=JSON.parse(b.responseText);a.set("dataNotFound",0===c.length)};b.onerror=function(){a.set("dataNotFound",!1)};b.send()}}});
gc({plugin:"projector",elementName:"vz-projector-dashboard",isReloadDisabled:!0});
</script>
</dom-module>























<dom-module id="tf-text-loader">
  <template></template>
  <script>//~~WEBPATH~~/tf-text-dashboard/tf-text-loader.html.js
Polymer({is:"tf-text-loader",properties:{run:String,tag:String,_runColor:{type:String,computed:"_computeRunColor(run)"},_texts:{type:Array,value:[]},requestManager:Object,_canceller:{type:Object,value:function(){return new fb}}},_computeRunColor:function(a){return cc(a)},attached:function(){this._attached=!0;this.reload()},reload:function(){var a=this;if(this._attached){this._canceller.cancelAll();var b=Ya(I.pluginRoute("text","/text"),{tag:this.tag,run:this.run}),c=this._canceller.cancellable(function(b){b.cancelled||
(b=b.value.map(function(a){return{wall_time:new Date(1E3*a.wall_time),step:a.step,text:a.text}}),a.set("_texts",b.slice().reverse()))});this.requestManager.request(b).then(c)}},_formatStep:function(a){return d3.format(",")(a)}});
</script>
</dom-module>



<dom-module id="tf-text-dashboard">
  <template></template>
  <script>//~~WEBPATH~~/tf-text-dashboard/tf-text-dashboard.html.js
Polymer({is:"tf-text-dashboard",properties:{_selectedRuns:Array,_runToTag:Object,_dataNotFound:Boolean,_tagFilter:{type:String,value:".*"},_categories:{type:Array,computed:"_makeCategories(_runToTag, _selectedRuns, _tagFilter)"},_requestManager:{type:Object,value:function(){return new Xa}}},ready:function(){this.reload()},reload:function(){var a=this;this._fetchTags().then(function(){a._reloadTexts()})},_fetchTags:function(){var a=this;return this._requestManager.request(I.pluginRoute("text","/tags")).then(function(b){if(!_.isEqual(b,
a._runToTag)){var c=eb(b);a.set("_dataNotFound",0===c.length);a.set("_runToTag",b)}})},_reloadTexts:function(){this.querySelectorAll("tf-text-loader").forEach(function(a){a.reload()})},_makeCategories:function(a,b,c){return sb(a,b,c)}});gc({plugin:"text",elementName:"tf-text-dashboard"});
</script>
</dom-module>
























<dom-module id="tf-pr-curve-card">
  <template></template>
  <script>//~~WEBPATH~~/tf-pr-curve-dashboard/tf-pr-curve-card.html.js
Polymer({is:"tf-pr-curve-card",properties:{runs:Array,tag:String,tagMetadata:Object,runToStepCap:Object,requestManager:Object,active:Boolean,_expanded:{type:Boolean,value:!1,reflectToAttribute:!0},_runToPrCurveEntry:{type:Object,value:function(){return{}}},_previousRunToPrCurveEntry:{type:Object,value:function(){return{}}},_runsWithStepAvailable:{type:Array,computed:"_computeRunsWithStepAvailable(runs, _runToPrCurveEntry)"},_setOfRelevantRuns:{type:Object,computed:"_computeSetOfRelevantRuns(_runsWithStepAvailable)"},
_runToDataOverTime:Object,_colorScaleFunction:{type:Object,value:function(){return{scale:cc}}},_canceller:{type:Object,value:function(){return new fb}},_attached:Boolean,_xComponentsCreationMethod:{type:Object,readOnly:!0,value:function(){return function(){var a=new Plottable.Scales.Linear;return{scale:a,axis:new Plottable.Axes.Numeric(a,"bottom"),accessor:function(a){return a.recall}}}}},_yValueAccessor:{type:Object,readOnly:!0,value:function(){return function(a){return a.precision}}},_tooltipColumns:{type:Array,
readOnly:!0,value:function(){function a(a){return isNaN(a)?"NaN":b(a)}var b=jc(4);return[{title:"Run",evaluate:function(a){return a.dataset.metadata().name}},{title:"Threshold",evaluate:function(b){return a(b.datum.thresholds)}},{title:"Precision",evaluate:function(b){return a(b.datum.precision)}},{title:"Recall",evaluate:function(b){return a(b.datum.recall)}},{title:"TP",evaluate:function(a){return a.datum.true_positives}},{title:"FP",evaluate:function(a){return a.datum.false_positives}},{title:"TN",
evaluate:function(a){return a.datum.true_negatives}},{title:"FN",evaluate:function(a){return a.datum.false_negatives}}]}},_seriesDataFields:{type:Array,value:"thresholds precision recall true_positives false_positives true_negatives false_negatives".split(" "),readOnly:!0},_defaultXRange:{type:Array,value:[-.05,1.05],readOnly:!0},_defaultYRange:{type:Array,value:[-.05,1.05],readOnly:!0},_dataUrl:{type:Function,value:function(){return function(a,b){return Ya(I.pluginRoute("pr_curves","/pr_curves"),
{tag:a,run:b})}}},_smoothingEnabled:{type:Boolean,value:!1,readOnly:!0}},observers:["reload(runs, tag)","_setChartData(_runToPrCurveEntry, _previousRunToPrCurveEntry, _setOfRelevantRuns)","_updateRunToPrCurveEntry(_runToDataOverTime, runToStepCap)"],_createProcessDataFunction:function(){var a=this;return function(b,c,d){a.set("_runToDataOverTime",Object.assign({},a._runToDataOverTime,d))}},_computeRunColor:function(a){return this._colorScaleFunction.scale(a)},attached:function(){this._attached=!0;
this.reload()},reload:function(){this._attached&&(0===this.runs.length?this.set("_runToDataOverTime",{}):this.$$("tf-line-chart-data-loader").reload())},_setChartData:function(a,b,c){var d=this;_.forOwn(a,function(e,f){var g=b[f];g&&a[f].step===g.step||(c[f]?d._updateSeriesDataForRun(f,e):d._clearSeriesData(f))})},_updateSeriesDataForRun:function(a,b){for(var c=_.reduce(this._seriesDataFields,function(a,c){a[c]=b[c].slice().reverse();return a},{}),d=Array(c[this._seriesDataFields[0]].length),e={i:0};e.i<
d.length;e={i:e.i},e.i++)d[e.i]=_.mapValues(c,function(a){return function(b){return b[a.i]}}(e));this.$$("tf-line-chart-data-loader").setSeriesData(a,d)},_clearSeriesData:function(a){this.$$("tf-line-chart-data-loader").setSeriesData(a,[])},_updateRunToPrCurveEntry:function(a,b){var c=this,d={};_.forOwn(a,function(a,f){a&&a.length&&(d[f]=c._computeEntryClosestOrEqualToStepCap(b[f],a))});this.set("_previousRunToPrCurveEntry",this._runToPrCurveEntry);this.set("_runToPrCurveEntry",d)},_computeEntryClosestOrEqualToStepCap:function(a,
b){a=Math.min(_.sortedIndex(b.map(function(a){return a.step}),a),b.length-1);return b[a]},_computeRunsWithStepAvailable:function(a,b){return _.filter(a,function(a){return b[a]}).sort()},_computeSetOfRelevantRuns:function(a){var b={};_.forEach(a,function(a){b[a]=!0});return b},_computeCurrentStepForRun:function(a,b){return(a=a[b])?a.step:null},_computeCurrentWallTimeForRun:function(a,b){return(a=a[b])?(new Date(1E3*a.wall_time)).toString():null},_toggleExpanded:function(){this.set("_expanded",!this._expanded);
this.redraw()},_resetDomain:function(){this.$$("tf-line-chart-data-loader").resetDomain()},redraw:function(){this.$$("tf-line-chart-data-loader").redraw()}});
</script>
</dom-module>








<dom-module id="tf-pr-curve-steps-selector">
  <template></template>
  <script>//~~WEBPATH~~/tf-pr-curve-dashboard/tf-pr-curve-steps-selector.html.js
Polymer({is:"tf-pr-curve-steps-selector",properties:{runs:Array,runToAvailableTimeEntries:Object,runToStep:{type:Object,notify:!0,computed:"_computeRunToStep(runToAvailableTimeEntries, _runToStepIndex)"},timeDisplayType:String,_runToStepIndex:{type:Object,value:function(){return{}}},_runsWithSliders:{type:Array,computed:"_computeRunsWithSliders(runs, runToAvailableTimeEntries)"}},listeners:{"value-change":"_sliderValueChanged","immediate-value-change":"_sliderValueChanged"},observers:["_updateStepsForNewRuns(runs, runToAvailableTimeEntries, _runToStepIndex)"],
_computeColorForRun:function(a){return cc(a)},_computeTimeTextForRun:function(a,b,c,d){b=b[c];if(!_.isNumber(b))return"";a=a[c];if(!a)return"";a=a[b][d];if("step"===d)return"step "+a;if("relative"===d)return 1>a?(1E3*a).toFixed(2)+" ms":a.toFixed(2)+" s";if("wall_time"===d)return(new Date(1E3*a)).toString();throw Error("The display type of "+d+" is not recognized.");},_sliderValueChanged:function(a){var b=a.target.dataset.run,c=_.clone(this._runToStepIndex);c[b]=a.target.immediateValue;this.set("_runToStepIndex",
c)},_computeMaxStepIndexForRun:function(a,b){return(a=a[b])&&a.length?a.length-1:0},_updateStepsForNewRuns:function(a,b,c){var d=this,e={},f=!1;_.forOwn(b,function(a,b){_.isNumber(c[b])?e[b]=c[b]:(e[b]=a.length-1,f=!0)});f&&this.set("_runToStepIndex",e);this.async(function(){d._updateSliders(e)})},_updateSliders:function(a){for(var b=this.querySelectorAll("paper-slider"),c=0;c<b.length;c++)b[c].value=a[b[c].dataset.run]},_computeRunToStep:function(a,b){var c={};_.forOwn(b,function(b,e){var d=a[e];
d&&(c[e]=d[b].step)});return c},_computeRunsWithSliders:function(a,b){return a.filter(function(a){return b[a]})}});
</script>
</dom-module>



<dom-module id="tf-pr-curve-dashboard">
  <template></template>

  <script>//~~WEBPATH~~/tf-pr-curve-dashboard/tf-pr-curve-dashboard.html.js
Polymer({is:"tf-pr-curve-dashboard",properties:{_timeDisplayType:{type:String,value:"step"},_selectedRuns:Array,_runToTagInfo:Object,_runToAvailableTimeEntries:{type:Object,value:{}},_relevantSelectedRuns:{type:Array,computed:"_computeRelevantSelectedRuns(_selectedRuns, _runToTagInfo)"},_runsWithPrCurveData:Array,_runToStep:{type:Object,notify:!0},_dataNotFound:Boolean,_tagFilter:{type:String,value:".*"},_categories:{type:Array,computed:"_makeCategories(_runToTagInfo, _selectedRuns, _tagFilter)"},
_requestManager:{type:Object,value:function(){return new Xa}},_step:{type:Number,value:0,notify:!0}},ready:function(){this.reload()},reload:function(){var a=this;Promise.all([this._fetchTags(),this._fetchTimeEntriesPerRun()]).then(function(){a._reloadCards()})},_fetchTags:function(){var a=this;return this._requestManager.request(I.pluginRoute("pr_curves","/tags")).then(function(b){if(!_.isEqual(b,a._runToTagInfo)){var c=_.mapValues(b,function(a){return _.keys(a)});c=eb(c);a.set("_dataNotFound",0===
c.length);a.set("_runToTagInfo",b)}})},_fetchTimeEntriesPerRun:function(){var a=this;return this._requestManager.request(I.pluginRoute("pr_curves","/available_time_entries")).then(function(b){_.forOwn(b,function(a){_.forEach(a,function(b){b.relative=b.wall_time-a[0].wall_time})});a.set("_runToAvailableTimeEntries",b);b=_.keys(b).slice().sort();_.isEqual(b,a._runsWithPrCurveData)||a.set("_runsWithPrCurveData",b)})},_reloadCards:function(){_.forEach(this.querySelectorAll("tf-pr-curve-card"),function(a){a.reload()})},
_makeCategories:function(a,b,c){a=_.mapValues(a,function(a){return Object.keys(a)});return nb(a,b,c)},_computeColorForRun:function(a){return cc(a)},_computeRelevantSelectedRuns:function(a,b){return a.filter(function(a){return b[a]})},_tagMetadata:function(a,b,c){var d={};b.forEach(function(b){d[b]=a[b][c]});b=c.replace(/\/pr_curves$/,"");return hc(d,b)}});gc({plugin:"pr_curves",elementName:"tf-pr-curve-dashboard",tabName:"PR Curves"});
</script>
</dom-module>








<script>//~~WEBPATH~~/tf-op-profile/utils.js
function Uf(a,b,c,d){return"rgba("+Math.round(255*a)+","+Math.round(255*b)+","+Math.round(255*c)+","+d+")"}function Vf(a,b,c,d){void 0===b&&(b=1);void 0===c&&(c=1);void 0===d&&(d=Math.sqrt);if(isNaN(a))return Uf(b,b,b,c);a=d(a);return.5>a?Uf(b,2*a*b,0,c):Uf(2*(1-a)*b,b,0,c)}function Wf(a){return a&&a.metrics?a.metrics.flops/a.metrics.time:0/0}function Xf(a){return isNaN(a)?"-":.995<=a?"100%":1E-5>a?"0.00%":(100*a).toPrecision(2)+"%"};
</script>



<dom-module id="tf-op-table-styles">
  <template></template>
</dom-module>


<dom-module id="tf-op-table">
  <template></template>

  <script>//~~WEBPATH~~/tf-op-profile/tf-op-table.html.js
Polymer({is:"tf-op-table",properties:{rootNode:{type:Object},active:{type:Object,computed:"_active(_selected, _hover)",notify:!0},_selected:{type:Object,value:null,notify:!0},_hover:{type:Object,value:null,notify:!0},_onHeaderHover:{type:Object,value:function(){var a=this;return function(b){return a._hover=b}}},_onHeaderClick:{type:Object,value:function(){var a=this;return function(b){a._selected&&(a._selected.selected=!1);a._selected=b;b.selected=!0}}}},_active:function(a,b){if(b)return b.node;if(a)return a.node}});
</script>
</dom-module>


<dom-module id="tf-op-table-entry">
  <template></template>

  <script>//~~WEBPATH~~/tf-op-profile/tf-op-table.html-2.js
Polymer({is:"tf-op-table-entry",properties:{node:{type:Object},level:{type:Number,value:0},headerHover:{type:Object,value:function(){return function(){}},notify:!0},headerClick:{type:Object,value:function(){return function(){}},notify:!0},expanded:{type:Boolean,value:!1,notify:!0},selected:{type:Boolean,value:!1,observer:"_selectedChanged"}},_eq:function(a,b){return a==b},_nextLevel:function(a){return a+1},_handleHeaderClick:function(){this.expanded^=1;this.headerClick(this)},_handleHeaderMouseEnter:function(){this.headerHover(this)},
_handleHeaderMouseLeave:function(){this.headerHover(null)},_percent:function(a){return a.metrics&&a.metrics.time?Xf(a.metrics.time):""},_provenance:function(a){return a.xla&&a.xla.provenance?a.xla.provenance.replace(/^.*\//,""):""},_utilization:function(a){return Xf(Wf(a))},_flameColor:function(a){return Vf(Wf(a),1,.2)},_barWidth:function(a){return a.metrics&&a.metrics.time?Xf(a.metrics.time):0},_selectedChanged:function(a){this.classList.toggle("selected",a)}});
</script>
</dom-module>








<dom-module id="iron-image">
  <template></template>

  <script>//~~WEBPATH~~/iron-image/iron-image.html.js
Polymer({is:"iron-image",properties:{src:{observer:"_srcChanged",type:String,value:""},alt:{type:String,value:null},preventLoad:{type:Boolean,value:!1,observer:"_preventLoadChanged"},sizing:{type:String,value:null,reflectToAttribute:!0},position:{type:String,value:"center"},preload:{type:Boolean,value:!1},placeholder:{type:String,value:null,observer:"_placeholderChanged"},fade:{type:Boolean,value:!1},loaded:{notify:!0,readOnly:!0,type:Boolean,value:!1},loading:{notify:!0,readOnly:!0,type:Boolean,
value:!1},error:{notify:!0,readOnly:!0,type:Boolean,value:!1},width:{observer:"_widthChanged",type:Number,value:null},height:{observer:"_heightChanged",type:Number,value:null}},observers:["_transformChanged(sizing, position)"],ready:function(){var a=this.$.img;a.onload=function(){this.$.img.src===this._resolveSrc(this.src)&&(this._setLoading(!1),this._setLoaded(!0),this._setError(!1))}.bind(this);a.onerror=function(){this.$.img.src===this._resolveSrc(this.src)&&(this._reset(),this._setLoading(!1),
this._setLoaded(!1),this._setError(!0))}.bind(this);this._resolvedSrc=""},_load:function(a){a?this.$.img.src=a:this.$.img.removeAttribute("src");this.$.sizedImgDiv.style.backgroundImage=a?'url("'+a+'")':"";this._setLoading(!!a);this._setLoaded(!1);this._setError(!1)},_reset:function(){this.$.img.removeAttribute("src");this.$.sizedImgDiv.style.backgroundImage="";this._setLoading(!1);this._setLoaded(!1);this._setError(!1)},_computePlaceholderHidden:function(){return!this.preload||!this.fade&&!this.loading&&
this.loaded},_computePlaceholderClassName:function(){return this.preload&&this.fade&&!this.loading&&this.loaded?"faded-out":""},_computeImgDivHidden:function(){return!this.sizing},_computeImgDivARIAHidden:function(){return""===this.alt?"true":void 0},_computeImgDivARIALabel:function(){if(null!==this.alt)return this.alt;if(""===this.src)return"";var a=(new URL(this._resolveSrc(this.src))).pathname.split("/");return a[a.length-1]},_computeImgHidden:function(){return!!this.sizing},_widthChanged:function(){this.style.width=
isNaN(this.width)?this.width:this.width+"px"},_heightChanged:function(){this.style.height=isNaN(this.height)?this.height:this.height+"px"},_preventLoadChanged:function(){this.preventLoad||this.loaded||(this._reset(),this._load(this.src))},_srcChanged:function(a){var b=this._resolveSrc(a);b!==this._resolvedSrc&&(this._resolvedSrc=b,this._reset(),this.preventLoad||this._load(a))},_placeholderChanged:function(){this.$.placeholder.style.backgroundImage=this.placeholder?'url("'+this.placeholder+'")':""},
_transformChanged:function(){var a=this.$.sizedImgDiv.style,b=this.$.placeholder.style;a.backgroundSize=b.backgroundSize=this.sizing;a.backgroundPosition=b.backgroundPosition=this.sizing?this.position:"";a.backgroundRepeat=b.backgroundRepeat=this.sizing?"no-repeat":""},_resolveSrc:function(a){var b=this.ownerDocument.baseURI;return(new URL(Polymer.ResolveUrl.resolveUrl(a,b),b)).href}});
</script>
</dom-module>






<dom-module id="paper-card">
  <template></template>

  <script>//~~WEBPATH~~/paper-card/paper-card.html.js
Polymer({is:"paper-card",properties:{heading:{type:String,value:"",observer:"_headingChanged"},image:{type:String,value:""},alt:{type:String},preloadImage:{type:Boolean,value:!1},fadeImage:{type:Boolean,value:!1},placeholderImage:{type:String,value:null},elevation:{type:Number,value:1,reflectToAttribute:!0},animatedShadow:{type:Boolean,value:!1},animated:{type:Boolean,reflectToAttribute:!0,readOnly:!0,computed:"_computeAnimated(animatedShadow)"}},_isHidden:function(a){return a?"false":"true"},_headingChanged:function(a){var b=
this.getAttribute("heading"),c=this.getAttribute("aria-label");"string"===typeof c&&c!==b||this.setAttribute("aria-label",a)},_computeHeadingClass:function(a){return a?" over-image":""},_computeAnimated:function(a){return a}});
</script>
</dom-module>




<dom-module id="tf-op-bar">
  
  <template></template>
  <script>//~~WEBPATH~~/tf-op-profile/tf-op-details.html.js
Polymer({is:"tf-op-bar",properties:{value:{type:Number,notify:!0,observer:"_updateValue"}},_percent:Xf,_updateValue:function(a){var b=Vf(a);a=Xf(a);this.style.background="linear-gradient(to right, "+b+" "+a+", #ccc "+a+")"}});
</script>
</dom-module>


<dom-module id="tf-op-details">
  
  <template></template>

  <script>//~~WEBPATH~~/tf-op-profile/tf-op-details.html-2.js
Polymer({is:"tf-op-details",properties:{node:{type:Object,notify:!0,observer:"_updateCard"}},_utilization:Wf,_updateCard:function(a){null!=a&&(a=Vf(Wf(a),.7),this.$.card.updateStyles({"--paper-card-header":"background-color:"+a}),this.$.subheader.style.backgroundColor=a)},_subheader:function(a){return a?a.xla?a.xla.category+" operation":a.category?"Operation category":"Unknown":null},_fused:function(a){return a&&a.xla&&!a.metrics},_dimensionColor:function(a){if(!a||!a.alignment)return null;a=a.size/
a.alignment;return Vf(a/Math.ceil(a),1,.25,function(a){return 1-Math.sqrt(1-a)})},_dimensionHint:function(a){if(!a||!a.alignment)return null;var b=Math.ceil(a.size/a.alignment),c=1==b?"":": "+b+" \u00d7 "+a.alignment;return 0==a.size%a.alignment?"Exact fit"+c:"Pad to "+b*a.alignment+c}});
</script>
</dom-module>




<dom-module id="tf-op-profile">
  <template></template>

  <script>//~~WEBPATH~~/tf-op-profile/tf-op-profile.html.js
Polymer({is:"tf-op-profile",properties:{_requestManager:{type:Object,readOnly:!0,value:function(){return new Xa}},run:{type:String,observer:"_load"},_data:{type:Object,notify:!0},_root:{type:Object,computed:'_getRoot(_data, "byCategory")',notify:!0},_active:{type:Object,value:null,notify:!0},_costlyOp:{type:Object,computed:'_worstOp(_data.byCategory, "time")'}},_load:function(a){var b=this;this._requestManager.request(Ya(I.pluginRoute("profile","/data"),{tag:"op_profile",run:a})).then(function(a){b._data=
a})},_getRoot:function(a,b){return a[b]},_percent:Xf,_utilizationPercent:function(a){return Xf(Wf(a))},_worstOp:function(a,b){function c(a){null!=a.xla&&null!=a.metrics&&a.metrics[b]>e&&(d=a,e=a.metrics[b]);a.children.forEach(c)}var d=null,e=-Infinity;c(a);return d},_hasFlops:function(a){return 0<a.metrics.flops},_goodFlops:function(a){return.4<Wf(a)},_textColor:function(a){return Vf(Wf(a),.7)}});
</script>
</dom-module>






<dom-module id="tf-profile-dashboard">
<template></template>
<script>//~~WEBPATH~~/tf-profile-dashboard/tf-profile-dashboard.html.js
Polymer({is:"tf-profile-dashboard",properties:{_requestManager:{type:Object,value:function(){return new Xa}},_isAttached:Boolean,_initialized:Boolean,_dataNotFound:Boolean,traceViewerBaseUrl:{type:String,value:"/trace_viewer_index.html"},_traceDataUrl:{type:String,value:""},_datasets:{type:Array,observer:"_datasetsChanged"},_activeTools:{type:Array,computed:"_getActiveTools(selectedDataset, _datasets)"},selectedDataset:{type:Number,notify:!0,value:0,observer:"_selectedDatasetChanged"},_currentTool:{type:String,
computed:"_getCurrentToolName(selectedTool, _activeTools)",notify:!0},selectedTool:{type:Number,notify:!0,value:0}},reload:function(){},ready:function(){},observers:["_maybeInitializeDashboard(_isAttached)","_maybeUpdateTool(_datasets, selectedDataset, _currentTool)"],attached:function(){this.set("_isAttached",!0)},detached:function(){this.set("_isAttached",!1)},_maybeInitializeDashboard:function(a){var b=this;!this._initialized&&a&&(this._initialized=!0,this._requestManager.request(I.pluginRoute("profile",
"/tools")+(I.isDemoMode()?".json":"")).then(function(a){a=_.map(a,function(a,b){return{name:b,activeTools:a}});a.sort(function(a,b){return 0-Oa(a.name,b.name)});b.set("_dataNotFound",0===a.length);b.set("_datasets",a)}))},_maybeUpdateTool:function(a,b,c){"trace_viewer"==c&&(a=Ya(I.pluginRoute("profile","/data"),{tag:"trace_viewer",run:a[b].name}),"/"!=a[0]&&(a="/"+a),this._traceDataUrl=this.traceViewerBaseUrl+"?trace_data_url\x3d"+encodeURIComponent(a))},_datasetsChanged:function(a,b){null==b&&null!=
this.selected||this.set("selectedDataset",0)},_selectedDatasetChanged:function(){this._datasets&&this.set("selectedTool",0)},_getCurrentToolName:function(a,b){return 0<=a&&a<b.length?b[a]:null},_getActiveTools:function(a,b){return b&&a<b.length?b[a].activeTools:[]},_eq:function(a,b){return a==b},_run:function(a,b){return a[b].name}});gc({plugin:"profile",elementName:"tf-profile-dashboard"});
</script>
</dom-module>











<dom-module id="paper-header-panel">
  <template></template>

  <script>//~~WEBPATH~~/paper-header-panel/paper-header-panel.html.js
(function(){var a={scroll:!0},b={standard:2,waterfall:1,"waterfall-tall":1},c={"waterfall-tall":!0};Polymer({is:"paper-header-panel",properties:{mode:{type:String,value:"standard",observer:"_modeChanged",reflectToAttribute:!0},shadow:{type:Boolean,value:!1},tallClass:{type:String,value:"tall"},atTop:{type:Boolean,value:!0,notify:!0,readOnly:!0,reflectToAttribute:!0}},observers:["_computeDropShadowHidden(atTop, mode, shadow)"],ready:function(){this.scrollHandler=this._scroll.bind(this)},attached:function(){this._addListener();
this._keepScrollingState()},detached:function(){this._removeListener()},get header(){return Polymer.dom(this.$.headerContent).getDistributedNodes()[0]},get scroller(){return this._getScrollerForMode(this.mode)},get visibleShadow(){return this.$.dropShadow.classList.contains("has-shadow")},_computeDropShadowHidden:function(a,c){c=b[c];this.shadow?this.toggleClass("has-shadow",!0,this.$.dropShadow):2===c?this.toggleClass("has-shadow",!0,this.$.dropShadow):1!==c||a?this.toggleClass("has-shadow",!1,this.$.dropShadow):
this.toggleClass("has-shadow",!0,this.$.dropShadow)},_computeMainContainerClass:function(a){var b={};b.flex="cover"!==a;return Object.keys(b).filter(function(a){return b[a]}).join(" ")},_addListener:function(){this.scroller.addEventListener("scroll",this.scrollHandler,!1)},_removeListener:function(){this.scroller.removeEventListener("scroll",this.scrollHandler)},_modeChanged:function(a,b){var d=this.header;d&&(c[b]&&!c[a]?(d.classList.remove(this.tallClass),this.async(function(){d.classList.remove("animate")},
200)):d.classList.toggle("animate",c[a]));this._keepScrollingState()},_keepScrollingState:function(){var a=this.scroller,b=this.header;this._setAtTop(0===a.scrollTop);b&&this.tallClass&&c[this.mode]&&this.toggleClass(this.tallClass,this.atTop||b.classList.contains(this.tallClass)&&a.scrollHeight<this.offsetHeight,b)},_scroll:function(){this._keepScrollingState();this.fire("content-scroll",{target:this.scroller},{bubbles:!1})},_getScrollerForMode:function(b){return a[b]?this:this.$.mainContainer}})})();
</script>
</dom-module>








<script>//~~WEBPATH~~/iron-menu-behavior/iron-menubar-behavior.html.js
Polymer.IronMenubarBehaviorImpl={hostAttributes:{role:"menubar"},keyBindings:{left:"_onLeftKey",right:"_onRightKey"},_onUpKey:function(a){this.focusedItem.click();a.detail.keyboardEvent.preventDefault()},_onDownKey:function(a){this.focusedItem.click();a.detail.keyboardEvent.preventDefault()},get _isRTL(){return"rtl"===window.getComputedStyle(this).direction},_onLeftKey:function(a){this._isRTL?this._focusNext():this._focusPrevious();a.detail.keyboardEvent.preventDefault()},_onRightKey:function(a){this._isRTL?
this._focusPrevious():this._focusNext();a.detail.keyboardEvent.preventDefault()},_onKeydown:function(a){this.keyboardEventMatchesKeys(a,"up down left right esc")||this._focusWithKeyboardEvent(a)}};Polymer.IronMenubarBehavior=[Polymer.IronMenuBehavior,Polymer.IronMenubarBehaviorImpl];
</script>






<iron-iconset-svg name="paper-tabs" size="24" style="display: none;">
<svg><defs>
<g id="chevron-left"><path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"></path></g>
<g id="chevron-right"><path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"></path></g>
</defs></svg>
</iron-iconset-svg>









<dom-module id="paper-tab">
  <template></template>

  <script>//~~WEBPATH~~/paper-tabs/paper-tab.html.js
Polymer({is:"paper-tab",behaviors:[Polymer.IronControlState,Polymer.IronButtonState,Polymer.PaperRippleBehavior],properties:{link:{type:Boolean,value:!1,reflectToAttribute:!0}},hostAttributes:{role:"tab"},listeners:{down:"_updateNoink",tap:"_onTap"},attached:function(){this._updateNoink()},get _parentNoink(){var a=Polymer.dom(this).parentNode;return!!a&&!!a.noink},_updateNoink:function(){this.noink=!!this.noink||!!this._parentNoink},_onTap:function(a){if(this.link){var b=this.queryEffectiveChildren("a");
b&&a.target!==b&&b.click()}}});
</script>
</dom-module>




<dom-module id="paper-tabs">
  <template></template>

  <script>//~~WEBPATH~~/paper-tabs/paper-tabs.html.js
Polymer({is:"paper-tabs",behaviors:[Polymer.IronResizableBehavior,Polymer.IronMenubarBehavior],properties:{noink:{type:Boolean,value:!1,observer:"_noinkChanged"},noBar:{type:Boolean,value:!1},noSlide:{type:Boolean,value:!1},scrollable:{type:Boolean,value:!1},fitContainer:{type:Boolean,value:!1},disableDrag:{type:Boolean,value:!1},hideScrollButtons:{type:Boolean,value:!1},alignBottom:{type:Boolean,value:!1},selectable:{type:String,value:"paper-tab"},autoselect:{type:Boolean,value:!1},autoselectDelay:{type:Number,
value:0},_step:{type:Number,value:10},_holdDelay:{type:Number,value:1},_leftHidden:{type:Boolean,value:!1},_rightHidden:{type:Boolean,value:!1},_previousTab:{type:Object}},hostAttributes:{role:"tablist"},listeners:{"iron-resize":"_onTabSizingChanged","iron-items-changed":"_onTabSizingChanged","iron-select":"_onIronSelect","iron-deselect":"_onIronDeselect"},keyBindings:{"left:keyup right:keyup":"_onArrowKeyup"},created:function(){this._holdJob=null;this._pendingActivationTimeout=this._pendingActivationItem=
void 0;this._bindDelayedActivationHandler=this._delayedActivationHandler.bind(this);this.addEventListener("blur",this._onBlurCapture.bind(this),!0)},ready:function(){this.setScrollDirection("y",this.$.tabsContainer)},detached:function(){this._cancelPendingActivation()},_noinkChanged:function(a){Polymer.dom(this).querySelectorAll("paper-tab").forEach(a?this._setNoinkAttribute:this._removeNoinkAttribute)},_setNoinkAttribute:function(a){a.setAttribute("noink","")},_removeNoinkAttribute:function(a){a.removeAttribute("noink")},
_computeScrollButtonClass:function(a,b,c){return!b||c?"hidden":a?"not-visible":""},_computeTabsContentClass:function(a,b){return a?"scrollable"+(b?" fit-container":""):" fit-container"},_computeSelectionBarClass:function(a,b){return a?"hidden":b?"align-bottom":""},_onTabSizingChanged:function(){this.debounce("_onTabSizingChanged",function(){this._scroll();this._tabChanged(this.selectedItem)},10)},_onIronSelect:function(a){this._tabChanged(a.detail.item,this._previousTab);this._previousTab=a.detail.item;
this.cancelDebouncer("tab-changed")},_onIronDeselect:function(){this.debounce("tab-changed",function(){this._tabChanged(null,this._previousTab);this._previousTab=null},1)},_activateHandler:function(){this._cancelPendingActivation();Polymer.IronMenuBehaviorImpl._activateHandler.apply(this,arguments)},_scheduleActivation:function(a,b){this._pendingActivationItem=a;this._pendingActivationTimeout=this.async(this._bindDelayedActivationHandler,b)},_delayedActivationHandler:function(){var a=this._pendingActivationItem;
this._pendingActivationTimeout=this._pendingActivationItem=void 0;a.fire(this.activateEvent,null,{bubbles:!0,cancelable:!0})},_cancelPendingActivation:function(){void 0!==this._pendingActivationTimeout&&(this.cancelAsync(this._pendingActivationTimeout),this._pendingActivationTimeout=this._pendingActivationItem=void 0)},_onArrowKeyup:function(){this.autoselect&&this._scheduleActivation(this.focusedItem,this.autoselectDelay)},_onBlurCapture:function(a){a.target===this._pendingActivationItem&&this._cancelPendingActivation()},
get _tabContainerScrollSize(){return Math.max(0,this.$.tabsContainer.scrollWidth-this.$.tabsContainer.offsetWidth)},_scroll:function(a,b){this.scrollable&&this._affectScroll(b&&-b.ddx||0)},_down:function(){this.async(function(){this._defaultFocusAsync&&(this.cancelAsync(this._defaultFocusAsync),this._defaultFocusAsync=null)},1)},_affectScroll:function(a){this.$.tabsContainer.scrollLeft+=a;a=this.$.tabsContainer.scrollLeft;this._leftHidden=0===a;this._rightHidden=a===this._tabContainerScrollSize},
_onLeftScrollButtonDown:function(){this._scrollToLeft();this._holdJob=setInterval(this._scrollToLeft.bind(this),this._holdDelay)},_onRightScrollButtonDown:function(){this._scrollToRight();this._holdJob=setInterval(this._scrollToRight.bind(this),this._holdDelay)},_onScrollButtonUp:function(){clearInterval(this._holdJob);this._holdJob=null},_scrollToLeft:function(){this._affectScroll(-this._step)},_scrollToRight:function(){this._affectScroll(this._step)},_tabChanged:function(a,b){if(a){var c=this.$.tabsContent.getBoundingClientRect(),
d=c.width,e=a.getBoundingClientRect();c=e.left-c.left;this._pos={width:this._calcPercent(e.width,d),left:this._calcPercent(c,d)};if(this.noSlide||null==b)this.$.selectionBar.classList.remove("expand"),this.$.selectionBar.classList.remove("contract"),this._positionBar(this._pos.width,this._pos.left);else{var f=b.getBoundingClientRect();b=this.items.indexOf(b);a=this.items.indexOf(a);this.$.selectionBar.classList.add("expand");a=b<a;this._isRTL&&(a=!a);a?this._positionBar(this._calcPercent(e.left+e.width-
f.left,d)-5,this._left):this._positionBar(this._calcPercent(f.left+f.width-e.left,d)-5,this._calcPercent(c,d)+5);this.scrollable&&this._scrollToSelectedIfNeeded(e.width,c)}}else this.$.selectionBar.classList.remove("expand"),this.$.selectionBar.classList.remove("contract"),this._positionBar(0,0)},_scrollToSelectedIfNeeded:function(a,b){b-=this.$.tabsContainer.scrollLeft;0>b?this.$.tabsContainer.scrollLeft+=b:(b+=a-this.$.tabsContainer.offsetWidth,0<b&&(this.$.tabsContainer.scrollLeft+=b))},_calcPercent:function(a,
b){return 100*a/b},_positionBar:function(a,b){a=a||0;b=b||0;this._width=a;this._left=b;this.transform("translateX("+b+"%) scaleX("+a/100+")",this.$.selectionBar)},_onBarTransitionEnd:function(){var a=this.$.selectionBar.classList;a.contains("expand")?(a.remove("expand"),a.add("contract"),this._positionBar(this._pos.width,this._pos.left)):a.contains("contract")&&a.remove("contract")}});
</script>
</dom-module>








<dom-module id="paper-toolbar">
  <template></template>

  <script>//~~WEBPATH~~/paper-toolbar/paper-toolbar.html.js
Polymer({is:"paper-toolbar",hostAttributes:{role:"toolbar"},properties:{bottomJustify:{type:String,value:""},justify:{type:String,value:""},middleJustify:{type:String,value:""}},attached:function(){this._observer=this._observe(this);this._updateAriaLabelledBy()},detached:function(){this._observer&&this._observer.disconnect()},_observe:function(a){var b=new MutationObserver(function(){this._updateAriaLabelledBy()}.bind(this));b.observe(a,{childList:!0,subtree:!0});return b},_updateAriaLabelledBy:function(){for(var a=
[],b=Polymer.dom(this.root).querySelectorAll("content"),c,d=0;c=b[d];d++){c=Polymer.dom(c).getDistributedNodes();for(var e,f=0;e=c[f];f++)if(e.classList&&e.classList.contains("title"))if(e.id)a.push(e.id);else{var g="paper-toolbar-label-"+Math.floor(1E4*Math.random());e.id=g;a.push(g)}}0<a.length&&this.setAttribute("aria-labelledby",a.join(" "))},_computeBarExtraClasses:function(a){return a?a+("justified"===a?"":"-justified"):""}});
</script>
</dom-module>











<dom-module id="tf-tensorboard">
  <template></template>
  <script>//~~WEBPATH~~/tf-tensorboard/autoReloadBehavior.js
var Yf={properties:{autoReloadEnabled:{type:Boolean,observer:"_autoReloadObserver",value:function(){var a=window.localStorage.getItem("TF.TensorBoard.autoReloadEnabled");return"true"===a||null==a}},_autoReloadId:{type:Number},autoReloadIntervalSecs:{type:Number,value:30}},detached:function(){window.clearTimeout(this._autoReloadId)},_autoReloadObserver:function(a){window.localStorage.setItem("TF.TensorBoard.autoReloadEnabled",a);a?this._autoReloadId=window.setTimeout(this._doAutoReload.bind(this),
1E3*this.autoReloadIntervalSecs):window.clearTimeout(this._autoReloadId)},_doAutoReload:function(){if(null==this.reload)throw Error("AutoReloadBehavior requires a reload method");this.reload();this._autoReloadId=window.setTimeout(this._doAutoReload.bind(this),1E3*this.autoReloadIntervalSecs)}};
</script>
  <script>//~~WEBPATH~~/tf-tensorboard/tf-tensorboard.html.js
if(_.isEmpty(fc))throw Error("HTML import plugin dashboards *before* tf-tensorboard");
Polymer({is:"tf-tensorboard",behaviors:[Yf],properties:{brand:{type:String,value:"TensorBoard-X"},title:{type:String,observer:"_updateTitle"},router:{type:Object,observer:"_updateRouter"},demoDir:{type:String,value:null},useHash:{type:Boolean,value:!1},disabledDashboards:{type:String,value:""},_dashboardData:{type:Array,readOnly:!0,value:Object.values(fc)},_activeDashboards:{type:Array,value:null},_activeDashboardsLoadState:{type:String,value:"NOT_LOADED"},_activeDashboardsNotLoaded:{type:Boolean,
computed:"_computeActiveDashboardsNotLoaded(_activeDashboardsLoadState)"},_activeDashboardsLoaded:{type:Boolean,computed:"_computeActiveDashboardsLoaded(_activeDashboardsLoadState)"},_activeDashboardsFailedToLoad:{type:Boolean,computed:"_computeActiveDashboardsFailedToLoad(_activeDashboardsLoadState)"},_showNoDashboardsMessage:{type:Boolean,computed:"_computeShowNoDashboardsMessage(_activeDashboardsLoaded, _activeDashboards, _selectedDashboard)"},_showNoSuchDashboardMessage:{type:Boolean,computed:"_computeShowNoSuchDashboardMessage(_dashboardData, _selectedDashboard)"},
_selectedDashboard:{type:String,value:null},_dashboardContainersStamped:{type:Boolean,value:!1},_isReloadDisabled:{type:Boolean,value:!1},_lastReloadTime:{type:String,value:"not yet loaded"},_logdir:{type:String,value:null},_requestManager:{type:Object,value:function(){return new Xa}},_canceller:{type:Object,value:function(){return new fb}}},observers:["_updateSelectedDashboard(_selectedDashboard, _activeDashboards)","_ensureSelectedDashboardStamped(_dashboardContainersStamped, _activeDashboards, _selectedDashboard)"],
_activeDashboardsUpdated:function(){},_isDashboardActive:function(a,b,c){return 0<=(a||"").split(",").indexOf(c.plugin)||!(b||[]).includes(c.plugin)?!1:!0},_isDashboardInactive:function(a,b,c){return 0<=(a||"").split(",").indexOf(c.plugin)?!1:(b||[]).includes(c.plugin)?!1:!0},_inactiveDashboardsExist:function(a,b,c){if(!c)return!1;var d=new Set;a.forEach(function(a){d.add(a.plugin)});(b||"").split(",").forEach(function(a){d.delete(a.plugin)});c.forEach(function(a){d.delete(a.plugin)});return 0<d.size},
_getDashboardFromIndex:function(a,b){return a[b]},_displayStyle:function(a,b){return a===b?"inherit":"none"},_updateSelectedDashboard:function(a,b){if(b&&null==a&&(a=b[0]||null,null!=a)){this._selectedDashboard=a;return}a=a||"";Ab("__tab__",a,!1);ga("set","page","/"+a);ga("send","pageview")},_updateSelectedDashboardFromHash:function(){var a=zb("__tab__",!1);this.set("_selectedDashboard",a||null)},_ensureSelectedDashboardStamped:function(a,b,c){a&&b&&c&&(a=this.$$(".dashboard-container[data-dashboard\x3d"+
c+"]"))&&(c=fc[c],0===a.childNodes.length&&(b=document.createElement(c.elementName),b.id="dashboard",a.appendChild(b)),this.set("_isReloadDisabled",c.isReloadDisabled))},_selectedDashboardComponent:function(){if(!this._dashboardContainersStamped)throw Error('There is no "selected dashboard" before containers are stamped.');return this.$$(".dashboard-container[data-dashboard\x3d"+this._selectedDashboard+"] #dashboard")},ready:function(){var a=this;ub=this.useHash;this._updateSelectedDashboardFromHash();
window.addEventListener("hashchange",function(){a._updateSelectedDashboardFromHash()},!1);this.$$("#dashboards-template").addEventListener("dom-change",function(){a._dashboardContainersStamped=!0},!1);db();this._fetchLogdir();this._fetchActiveDashboards();this._lastReloadTime=(new Date).toString()},_fetchLogdir:function(){var a=this,b=I.logdir();return this._requestManager.request(b).then(function(b){a._logdir=b.logdir})},_fetchActiveDashboards:function(){var a=this;this._canceller.cancelAll();var b=
this._canceller.cancellable(function(b){if(!b.cancelled){var c=b.value;a._activeDashboards=a._dashboardData.map(function(a){return a.plugin}).filter(function(a){return c[a]});a._activeDashboardsLoadState="LOADED"}});return this._requestManager.request(I.pluginsListing()).then(b,function(){"NOT_LOADED"===a._activeDashboardsLoadState?a._activeDashboardsLoadState="FAILED":console.warn("Failed to reload the set of active plugins; using old value.")})},_computeActiveDashboardsNotLoaded:function(a){return"NOT_LOADED"===
a},_computeActiveDashboardsLoaded:function(a){return"LOADED"===a},_computeActiveDashboardsFailedToLoad:function(a){return"FAILED"===a},_computeShowNoDashboardsMessage:function(a,b,c){return a&&0===b.length&&null==c},_computeShowNoSuchDashboardMessage:function(a,b){return!!b&&!a.some(function(a){return a.plugin===b})},_updateRouter:function(a){if(null==a)throw Error("Router required, but got: "+a);I=a},_updateTitle:function(a){a&&this.set("brand",a)},reload:function(){var a=this;this._isReloadDisabled||
(this._fetchLogdir(),Promise.all([this._fetchActiveDashboards(),db()]).then(function(){var b=a._selectedDashboardComponent();b&&b.reload()}),this._lastReloadTime=(new Date).toString())},openSettings:function(){this.$.settings.open();this.$.paginationLimitInput.value=Zb()},_paginationLimitChanged:function(a){var b=a.target.valueAsNumber;b===+b&&0<b&&$b(a.target.valueAsNumber)}});
</script>
</dom-module>

<script>//~~WEBPATH~~/analytics.html.js
window.ga=function(){};</script>


<tf-tensorboard use-hash="" brand="TensorBoard" class="x-scope tf-tensorboard-0">
    <paper-dialog with-backdrop="" id="settings" class="style-scope tf-tensorboard x-scope paper-dialog-0" role="dialog" tabindex="-1" style="outline: none; position: fixed; top: 242px; left: 492.5px; box-sizing: border-box; max-height: 678px; max-width: 1200px; display: none;" aria-hidden="true">
    
    
      <h2 class="style-scope tf-tensorboard">Settings</h2>
      <paper-checkbox id="auto-reload-checkbox" class="style-scope tf-tensorboard x-scope paper-checkbox-3" role="checkbox" tabindex="0" toggles="" aria-checked="true" aria-disabled="false" checked="" active=""><div id="checkboxContainer" class="style-scope paper-checkbox"><div id="checkbox" class="checked  style-scope paper-checkbox"><div id="checkmark" class="style-scope paper-checkbox"></div></div></div><div id="checkboxLabel" class="style-scope paper-checkbox">
        Reload data every <span class="style-scope tf-tensorboard">30</span>s.
      </div></paper-checkbox>
      <paper-input id="paginationLimitInput" label="Pagination limit" always-float-label="" type="number" min="1" step="1" class="style-scope tf-tensorboard x-scope paper-input-0" tabindex="0" aria-disabled="false">
    

    <paper-input-container class="style-scope paper-input x-scope paper-input-container-0">
    

    
      <div class="floated-label-placeholder style-scope paper-input-container" aria-hidden="true">&nbsp;</div>
    <template is="dom-if" class="style-scope paper-input-container"></template>

    <div class="input-content label-is-floating style-scope paper-input-container">
      

      <div class="label-and-input-container style-scope paper-input-container" id="labelAndInputContainer" style="position: static;">
        <label aria-hidden="true" for="input" class="style-scope paper-input" id="paper-input-label-1">Pagination limit</label><input is="iron-input" id="input" class="style-scope paper-input" autocomplete="off" placeholder="" autocapitalize="none" autocorrect="off" aria-describedby="" aria-labelledby="paper-input-label-1" type="number" min="1" step="1" tabindex="0"><template is="dom-if" class="style-scope paper-input"></template><template is="dom-if" class="style-scope paper-input"></template>
      </div>

      
    </div>

    <div class="underline style-scope paper-input-container">
      <div class="unfocused-line style-scope paper-input-container"></div>
      <div class="focused-line style-scope paper-input-container"></div>
    </div>

    <div class="add-on-content style-scope paper-input-container">
      
    </div>
  </paper-input-container>
  </paper-input>
    
  </paper-dialog>
    <paper-header-panel class="style-scope tf-tensorboard x-scope paper-header-panel-0" mode="standard" at-top="">
    

    <paper-toolbar id="toolbar" slot="header" class="style-scope tf-tensorboard animate x-scope paper-toolbar-0" role="toolbar">
    

    <div id="topBar" class="toolbar-tools  style-scope paper-toolbar">
      <div id="toolbar-content" slot="top" class="style-scope tf-tensorboard">
          <div class="toolbar-title style-scope tf-tensorboard">TensorBoard</div>
          <span class="toolbar-message style-scope tf-tensorboard" style="display: none;">
              Loading active dashboards…
            </span><template is="dom-if" class="style-scope tf-tensorboard"></template>
          
            <paper-tabs attr-for-selected="data-dashboard" noink="" id="tabs" class="style-scope tf-tensorboard x-scope paper-tabs-0" role="tablist" tabindex="0">
    

    <paper-icon-button icon="paper-tabs:chevron-left" tabindex="-1" class="hidden style-scope paper-tabs x-scope paper-icon-button-0" role="button" aria-disabled="false"><iron-icon id="icon" class="style-scope paper-icon-button x-scope iron-icon-0"><svg viewBox="0 0 24 24" preserveAspectRatio="xMidYMid meet" class="style-scope iron-icon" style="pointer-events: none; display: block; width: 100%; height: 100%;"><g class="style-scope iron-icon"><path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z" class="style-scope iron-icon"></path></g></svg>
    
  </iron-icon></paper-icon-button>

    <div id="tabsContainer" class="style-scope paper-tabs" style="touch-action: pan-y;">
      <div id="tabsContent" class=" fit-container style-scope paper-tabs">
        <div id="selectionBar" class="style-scope paper-tabs" style="transform: translateX(0%) scaleX(1);"></div>
        <paper-tab class="style-scope tf-tensorboard x-scope paper-tab-0 iron-selected" role="tab" aria-disabled="false" data-dashboard="scalars" aria-selected="true" tabindex="0">
    

    <div class="tab-content style-scope paper-tab">
      
                    scalars
                  
    </div>
  </paper-tab><template is="dom-if" class="style-scope tf-tensorboard"></template><template is="dom-if" class="style-scope tf-tensorboard"></template><template is="dom-if" class="style-scope tf-tensorboard"></template><template is="dom-if" class="style-scope tf-tensorboard"></template><template is="dom-if" class="style-scope tf-tensorboard"></template><template is="dom-if" class="style-scope tf-tensorboard"></template><template is="dom-if" class="style-scope tf-tensorboard"></template><template is="dom-if" class="style-scope tf-tensorboard"></template><template is="dom-if" class="style-scope tf-tensorboard"></template><template is="dom-if" class="style-scope tf-tensorboard"></template><template is="dom-repeat" as="dashboardDatum" class="style-scope tf-tensorboard"></template>
      </div>
    </div>

    <paper-icon-button icon="paper-tabs:chevron-right" tabindex="-1" class="hidden style-scope paper-tabs x-scope paper-icon-button-0" role="button" aria-disabled="false"><iron-icon id="icon" class="style-scope paper-icon-button x-scope iron-icon-0"><svg viewBox="0 0 24 24" preserveAspectRatio="xMidYMid meet" class="style-scope iron-icon" style="pointer-events: none; display: block; width: 100%; height: 100%;"><g class="style-scope iron-icon"><path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z" class="style-scope iron-icon"></path></g></svg>
    
  </iron-icon></paper-icon-button>

  </paper-tabs>
            
              <paper-dropdown-menu label="Inactive" no-label-float="" noink="" style="margin-left: 12px" class="style-scope tf-tensorboard x-scope paper-dropdown-menu-1" role="combobox" aria-autocomplete="none" aria-haspopup="true" aria-disabled="false">
    

    
    <span role="button" class="style-scope paper-dropdown-menu"></span>
    <paper-menu-button id="menuButton" close-on-activate="" class="style-scope paper-dropdown-menu x-scope paper-menu-button-0" role="group" aria-haspopup="true" aria-disabled="false" horizontal-align="right" vertical-align="top">
    

    <div id="trigger" class="style-scope paper-menu-button">
      <div class="dropdown-trigger style-scope paper-dropdown-menu">
        <paper-ripple class="style-scope paper-dropdown-menu">
    

    <div id="background" class="style-scope paper-ripple"></div>
    <div id="waves" class="style-scope paper-ripple"></div>
  </paper-ripple>
        
        <paper-input type="text" readonly="" class="style-scope paper-dropdown-menu x-scope paper-input-1" tabindex="0" aria-disabled="false">
    

    <paper-input-container class="style-scope paper-input x-scope paper-input-container-3">
    

    <template is="dom-if" class="style-scope paper-input-container"></template>

    <div class="input-content style-scope paper-input-container">
      

      <div class="label-and-input-container style-scope paper-input-container" id="labelAndInputContainer">
        <label aria-hidden="true" for="input" class="style-scope paper-input" id="paper-input-label-5">Inactive</label><input is="iron-input" id="input" class="style-scope paper-input" autocomplete="off" placeholder="" readonly="" autocapitalize="none" autocorrect="off" aria-describedby="" aria-labelledby="paper-input-label-5" type="text" tabindex="0"><template is="dom-if" class="style-scope paper-input"></template><template is="dom-if" class="style-scope paper-input"></template>
      </div>

      <iron-icon icon="paper-dropdown-menu:arrow-drop-down" suffix="" class="style-scope paper-dropdown-menu x-scope iron-icon-1"><svg viewBox="0 0 24 24" preserveAspectRatio="xMidYMid meet" class="style-scope iron-icon" style="pointer-events: none; display: block; width: 100%; height: 100%;"><g class="style-scope iron-icon"><path d="M7 10l5 5 5-5z" class="style-scope iron-icon"></path></g></svg>
    
  </iron-icon>
    </div>

    <div class="underline style-scope paper-input-container">
      <div class="unfocused-line style-scope paper-input-container"></div>
      <div class="focused-line style-scope paper-input-container"></div>
    </div>

    <div class="add-on-content style-scope paper-input-container">
      
    </div>
  </paper-input-container>
  </paper-input>
      </div>
    </div>

    <iron-dropdown id="dropdown" class="style-scope paper-menu-button" aria-disabled="false" aria-hidden="true" horizontal-align="right" vertical-align="top" style="outline: none; display: none;">
    

    <div id="contentWrapper" class="style-scope iron-dropdown">
      <div class="dropdown-content style-scope paper-menu-button">
        <paper-menu id="inactive-dashboards-menu" class="dropdown-content style-scope tf-tensorboard x-scope paper-menu-1" attr-for-selected="data-dashboard" role="menu" aria-expanded="false" tabindex="0">
    
    

    <div class="selectable-content style-scope paper-menu">
      
                  
                    <template is="dom-if" restamp="" class="style-scope tf-tensorboard"></template>
                  
                    
                      <paper-item class="style-scope tf-tensorboard x-scope paper-item-0" role="option" tabindex="-1" aria-disabled="false" data-dashboard="images">
    
    

    images
  </paper-item>
                    <template is="dom-if" restamp="" class="style-scope tf-tensorboard"></template>
                  
                    
                      <paper-item class="style-scope tf-tensorboard x-scope paper-item-0" role="option" tabindex="-1" aria-disabled="false" data-dashboard="audio">
    
    

    audio
  </paper-item>
                    <template is="dom-if" restamp="" class="style-scope tf-tensorboard"></template>
                  
                    
                      <paper-item class="style-scope tf-tensorboard x-scope paper-item-0" role="option" tabindex="-1" aria-disabled="false" data-dashboard="graphs">
    
    

    graphs
  </paper-item>
                    <template is="dom-if" restamp="" class="style-scope tf-tensorboard"></template>
                  
                    
                      <paper-item class="style-scope tf-tensorboard x-scope paper-item-0" role="option" tabindex="-1" aria-disabled="false" data-dashboard="distributions">
    
    

    distributions
  </paper-item>
                    <template is="dom-if" restamp="" class="style-scope tf-tensorboard"></template>
                  
                    
                      <paper-item class="style-scope tf-tensorboard x-scope paper-item-0" role="option" tabindex="-1" aria-disabled="false" data-dashboard="histograms">
    
    

    histograms
  </paper-item>
                    <template is="dom-if" restamp="" class="style-scope tf-tensorboard"></template>
                  
                    
                      <paper-item class="style-scope tf-tensorboard x-scope paper-item-0" role="option" tabindex="-1" aria-disabled="false" data-dashboard="projector">
    
    

    projector
  </paper-item>
                    <template is="dom-if" restamp="" class="style-scope tf-tensorboard"></template>
                  
                    
                      <paper-item class="style-scope tf-tensorboard x-scope paper-item-0" role="option" tabindex="-1" aria-disabled="false" data-dashboard="text">
    
    

    text
  </paper-item>
                    <template is="dom-if" restamp="" class="style-scope tf-tensorboard"></template>
                  
                    
                      <paper-item class="style-scope tf-tensorboard x-scope paper-item-0" role="option" tabindex="-1" aria-disabled="false" data-dashboard="pr_curves">
    
    

    PR Curves
  </paper-item>
                    <template is="dom-if" restamp="" class="style-scope tf-tensorboard"></template>
                  
                    
                      <paper-item class="style-scope tf-tensorboard x-scope paper-item-0" role="option" tabindex="-1" aria-disabled="false" data-dashboard="profile">
    
    

    profile
  </paper-item>
                    <template is="dom-if" restamp="" class="style-scope tf-tensorboard"></template>
                  <template is="dom-repeat" as="dashboardDatum" class="style-scope tf-tensorboard"></template>
                
    </div>
  </paper-menu>
      </div>
    </div>
  </iron-dropdown>
  </paper-menu-button>
  </paper-dropdown-menu>
            <template is="dom-if" class="style-scope tf-tensorboard"></template>
          <template is="dom-if" class="style-scope tf-tensorboard"></template>
          <div class="global-actions style-scope tf-tensorboard">
            <paper-icon-button icon="refresh" id="reload-button" class="style-scope tf-tensorboard x-scope paper-icon-button-0" role="button" tabindex="0" aria-disabled="false"><iron-icon id="icon" class="style-scope paper-icon-button x-scope iron-icon-0"><svg viewBox="0 0 24 24" preserveAspectRatio="xMidYMid meet" class="style-scope iron-icon" style="pointer-events: none; display: block; width: 100%; height: 100%;"><g class="style-scope iron-icon"><path d="M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z" class="style-scope iron-icon"></path></g></svg>
    
  </iron-icon></paper-icon-button>
            <paper-icon-button icon="settings" id="settings-button" class="style-scope tf-tensorboard x-scope paper-icon-button-0" role="button" tabindex="0" aria-disabled="false"><iron-icon id="icon" class="style-scope paper-icon-button x-scope iron-icon-0"><svg viewBox="0 0 24 24" preserveAspectRatio="xMidYMid meet" class="style-scope iron-icon" style="pointer-events: none; display: block; width: 100%; height: 100%;"><g class="style-scope iron-icon"><path d="M19.43 12.98c.04-.32.07-.64.07-.98s-.03-.66-.07-.98l2.11-1.65c.19-.15.24-.42.12-.64l-2-3.46c-.12-.22-.39-.3-.61-.22l-2.49 1c-.52-.4-1.08-.73-1.69-.98l-.38-2.65C14.46 2.18 14.25 2 14 2h-4c-.25 0-.46.18-.49.42l-.38 2.65c-.61.25-1.17.59-1.69.98l-2.49-1c-.23-.09-.49 0-.61.22l-2 3.46c-.13.22-.07.49.12.64l2.11 1.65c-.04.32-.07.65-.07.98s.03.66.07.98l-2.11 1.65c-.19.15-.24.42-.12.64l2 3.46c.12.22.39.3.61.22l2.49-1c.52.4 1.08.73 1.69.98l.38 2.65c.03.24.24.42.49.42h4c.25 0 .46-.18.49-.42l.38-2.65c.61-.25 1.17-.59 1.69-.98l2.49 1c.23.09.49 0 .61-.22l2-3.46c.12-.22.07-.49-.12-.64l-2.11-1.65zM12 15.5c-1.93 0-3.5-1.57-3.5-3.5s1.57-3.5 3.5-3.5 3.5 1.57 3.5 3.5-1.57 3.5-3.5 3.5z" class="style-scope iron-icon"></path></g></svg>
    
  </iron-icon><paper-ripple id="ink" center="" class="circle style-scope paper-icon-button">
    

    <div id="background" class="style-scope paper-ripple" style="opacity: 0;"></div>
    <div id="waves" class="style-scope paper-ripple"></div>
  </paper-ripple></paper-icon-button>
            <a href="https://github.com/tensorflow/tensorboard/blob/master/README.md" tabindex="-1" class="style-scope tf-tensorboard">
              <paper-icon-button icon="help-outline" class="style-scope tf-tensorboard x-scope paper-icon-button-0" role="button" tabindex="0" aria-disabled="false"><iron-icon id="icon" class="style-scope paper-icon-button x-scope iron-icon-0"><svg viewBox="0 0 24 24" preserveAspectRatio="xMidYMid meet" class="style-scope iron-icon" style="pointer-events: none; display: block; width: 100%; height: 100%;"><g class="style-scope iron-icon"><path d="M11 18h2v-2h-2v2zm1-16C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm0-14c-2.21 0-4 1.79-4 4h2c0-1.1.9-2 2-2s2 .9 2 2c0 2-3 1.75-3 5h2c0-2.25 3-2.5 3-5 0-2.21-1.79-4-4-4z" class="style-scope iron-icon"></path></g></svg>
    
  </iron-icon></paper-icon-button>
            </a>
          </div>
        </div>
    </div>

    <div id="middleBar" class="toolbar-tools  style-scope paper-toolbar">
      
    </div>

    <div id="bottomBar" class="toolbar-tools  style-scope paper-toolbar">
      
    </div>
  </paper-toolbar>

    <div id="mainPanel" class="style-scope paper-header-panel">
      <div id="mainContainer" class="flex style-scope paper-header-panel">
        <div id="content" class="fit style-scope tf-tensorboard">
        
        <template is="dom-if" class="style-scope tf-tensorboard"></template>
        <template is="dom-if" class="style-scope tf-tensorboard"></template>
        <template is="dom-if" class="style-scope tf-tensorboard"></template>
        
          <div class="dashboard-container style-scope tf-tensorboard" data-dashboard="scalars" style="display: inherit;"><tf-scalar-dashboard id="dashboard">
    <tf-dashboard-layout class="style-scope tf-scalar-dashboard x-scope tf-dashboard-layout-0">
    <div id="sidebar" class="style-scope tf-dashboard-layout">
      <div class="sidebar style-scope tf-scalar-dashboard">
        <div class="sidebar-section style-scope tf-scalar-dashboard">
          <div class="line-item style-scope tf-scalar-dashboard">
            <paper-checkbox class="style-scope tf-scalar-dashboard x-scope paper-checkbox-4" role="checkbox" tabindex="0" checked="" active="" toggles="" aria-checked="true" aria-disabled="false"><div id="checkboxContainer" class="style-scope paper-checkbox"><div id="checkbox" class="checked  style-scope paper-checkbox"><div id="checkmark" class="style-scope paper-checkbox"></div></div></div><div id="checkboxLabel" class="style-scope paper-checkbox">Show data download links</div></paper-checkbox>
          </div>
          <div class="line-item style-scope tf-scalar-dashboard">
            <paper-checkbox class="style-scope tf-scalar-dashboard x-scope paper-checkbox-4" role="checkbox" tabindex="0" checked="" active="" toggles="" aria-checked="true" aria-disabled="false"><div id="checkboxContainer" class="style-scope paper-checkbox"><div id="checkbox" class="checked  style-scope paper-checkbox"><div id="checkmark" class="style-scope paper-checkbox"></div></div></div><div id="checkboxLabel" class="style-scope paper-checkbox">Ignore outliers in chart scaling</div></paper-checkbox>
          </div>
          <div id="tooltip-sorting" class="style-scope tf-scalar-dashboard">
            <div id="tooltip-sorting-label" class="style-scope tf-scalar-dashboard">Tooltip sorting method:</div>
            <paper-dropdown-menu no-label-float="" class="style-scope tf-scalar-dashboard x-scope paper-dropdown-menu-0" role="combobox" aria-autocomplete="none" aria-haspopup="true" aria-disabled="false">
    

    
    <span role="button" class="style-scope paper-dropdown-menu"></span>
    <paper-menu-button id="menuButton" close-on-activate="" class="style-scope paper-dropdown-menu x-scope paper-menu-button-0" role="group" aria-haspopup="true" aria-disabled="false" horizontal-align="right" vertical-align="top">
    

    <div id="trigger" class="style-scope paper-menu-button">
      <div class="dropdown-trigger style-scope paper-dropdown-menu">
        <paper-ripple class="style-scope paper-dropdown-menu">
    

    <div id="background" class="style-scope paper-ripple"></div>
    <div id="waves" class="style-scope paper-ripple"></div>
  </paper-ripple>
        
        <paper-input type="text" readonly="" class="style-scope paper-dropdown-menu x-scope paper-input-0" tabindex="0" aria-disabled="false">
    

    <paper-input-container class="style-scope paper-input x-scope paper-input-container-1">
    

    <template is="dom-if" class="style-scope paper-input-container"></template>

    <div class="input-content label-is-hidden style-scope paper-input-container">
      

      <div class="label-and-input-container style-scope paper-input-container" id="labelAndInputContainer">
        <label aria-hidden="true" for="input" class="style-scope paper-input" id="paper-input-label-2"> </label><input is="iron-input" id="input" class="style-scope paper-input" autocomplete="off" placeholder="" readonly="" autocapitalize="none" autocorrect="off" aria-describedby="" aria-labelledby="paper-input-label-2" type="text" tabindex="0"><template is="dom-if" class="style-scope paper-input"></template><template is="dom-if" class="style-scope paper-input"></template>
      </div>

      <iron-icon icon="paper-dropdown-menu:arrow-drop-down" suffix="" class="style-scope paper-dropdown-menu x-scope iron-icon-1"><svg viewBox="0 0 24 24" preserveAspectRatio="xMidYMid meet" class="style-scope iron-icon" style="pointer-events: none; display: block; width: 100%; height: 100%;"><g class="style-scope iron-icon"><path d="M7 10l5 5 5-5z" class="style-scope iron-icon"></path></g></svg>
    
  </iron-icon>
    </div>

    <div class="underline style-scope paper-input-container">
      <div class="unfocused-line style-scope paper-input-container"></div>
      <div class="focused-line style-scope paper-input-container"></div>
    </div>

    <div class="add-on-content style-scope paper-input-container">
      
    </div>
  </paper-input-container>
  </paper-input>
      </div>
    </div>

    <iron-dropdown id="dropdown" class="style-scope paper-menu-button" aria-disabled="false" aria-hidden="true" horizontal-align="right" vertical-align="top" style="outline: none; display: none;">
    

    <div id="contentWrapper" class="style-scope iron-dropdown">
      <div class="dropdown-content style-scope paper-menu-button">
        <paper-menu class="dropdown-content style-scope tf-scalar-dashboard x-scope paper-menu-0" selected="0" slot="dropdown-content" role="menu" aria-expanded="false" tabindex="0">
    
    

    <div class="selectable-content style-scope paper-menu">
      
                <paper-item class="style-scope tf-scalar-dashboard x-scope paper-item-0 iron-selected" role="option" tabindex="0" aria-disabled="false" aria-selected="true">
    
    

    default
  </paper-item>
                <paper-item class="style-scope tf-scalar-dashboard x-scope paper-item-0" role="option" tabindex="-1" aria-disabled="false">
    
    

    descending
  </paper-item>
                <paper-item class="style-scope tf-scalar-dashboard x-scope paper-item-0" role="option" tabindex="-1" aria-disabled="false">
    
    

    ascending
  </paper-item>
                <paper-item class="style-scope tf-scalar-dashboard x-scope paper-item-0" role="option" tabindex="-1" aria-disabled="false">
    
    

    nearest
  </paper-item>
              
    </div>
  </paper-menu>
      </div>
    </div>
  </iron-dropdown>
  </paper-menu-button>
  </paper-dropdown-menu>
          </div>
        </div>
        <div class="sidebar-section style-scope tf-scalar-dashboard">
          <tf-smoothing-input step="0.001" min="0" max="1" class="style-scope tf-scalar-dashboard x-scope tf-smoothing-input-0">
    <h3 class="title style-scope tf-smoothing-input">Smoothing</h3>
    <div class="smoothing-block style-scope tf-smoothing-input">
      <paper-slider id="slider" type="number" class="style-scope tf-smoothing-input x-scope paper-slider-0" role="slider" tabindex="0" value="0.6" aria-disabled="false" aria-valuemin="0" aria-valuemax="1" aria-valuenow="0.6"><div id="sliderContainer" class="style-scope paper-slider"><div class="bar-container style-scope paper-slider"><paper-progress id="sliderBar" aria-hidden="true" class="style-scope paper-slider x-scope paper-progress-0" role="progressbar" value="0.6" aria-valuenow="0.6" aria-valuemin="0" aria-valuemax="1" aria-disabled="false" style="touch-action: none;">
    

    <div id="progressContainer" class="style-scope paper-progress">
      <div id="secondaryProgress" class="style-scope paper-progress" hidden="" style="transform: scaleX(0);"></div>
      <div id="primaryProgress" class="style-scope paper-progress" style="transform: scaleX(0.6);"></div>
    </div>
  </paper-progress></div><template is="dom-if" class="style-scope paper-slider"></template><div id="sliderKnob" class="slider-knob style-scope paper-slider" style="touch-action: none; left: 60%;"><div class="slider-knob-inner style-scope paper-slider" value="0.6"></div><paper-ripple id="ink" center="" class="circle style-scope paper-slider" style="display: none;">
    

    <div id="background" class="style-scope paper-ripple" style="opacity: 0;"></div>
    <div id="waves" class="style-scope paper-ripple"></div>
  </paper-ripple></div></div><template is="dom-if" class="style-scope paper-slider"></template></paper-slider>
      <paper-input id="input" label="weight" no-label-float="" type="number" class="style-scope tf-smoothing-input x-scope paper-input-0" tabindex="0" aria-disabled="false">
    

    <paper-input-container class="style-scope paper-input x-scope paper-input-container-2">
    

    <template is="dom-if" class="style-scope paper-input-container"></template>

    <div class="input-content label-is-hidden style-scope paper-input-container">
      

      <div class="label-and-input-container style-scope paper-input-container" id="labelAndInputContainer">
        <label aria-hidden="true" for="input" class="style-scope paper-input" id="paper-input-label-3">weight</label><input is="iron-input" id="input" class="style-scope paper-input" autocomplete="off" placeholder="" autocapitalize="none" autocorrect="off" aria-describedby="" aria-labelledby="paper-input-label-3" type="number" tabindex="0" step="0.001" max="1" min="0"><template is="dom-if" class="style-scope paper-input"></template><template is="dom-if" class="style-scope paper-input"></template>
      </div>

      
    </div>

    <div class="underline style-scope paper-input-container">
      <div class="unfocused-line style-scope paper-input-container"></div>
      <div class="focused-line style-scope paper-input-container"></div>
    </div>

    <div class="add-on-content style-scope paper-input-container">
      
    </div>
  </paper-input-container>
  </paper-input>
    </div>
    
  </tf-smoothing-input>
        </div>
        <div class="sidebar-section style-scope tf-scalar-dashboard">
          <tf-option-selector id="x-type-selector" name="Horizontal Axis" class="style-scope tf-scalar-dashboard x-scope tf-option-selector-0">
    <div id="wrap" class="style-scope tf-option-selector">
      <h3 class="style-scope tf-option-selector">Horizontal Axis</h3>
      <div class="content-wrapper style-scope tf-option-selector">
            <paper-button id="step" class="style-scope tf-scalar-dashboard x-scope paper-button-0 selected" role="button" tabindex="0" animated="" aria-disabled="false" elevation="0">step<paper-ripple class="style-scope paper-button">
    

    <div id="background" class="style-scope paper-ripple" style="opacity: 0;"></div>
    <div id="waves" class="style-scope paper-ripple"></div>
  </paper-ripple></paper-button><paper-button id="relative" class="style-scope tf-scalar-dashboard x-scope paper-button-0" role="button" tabindex="0" animated="" aria-disabled="false" elevation="0">relative<paper-ripple class="style-scope paper-button">
    

    <div id="background" class="style-scope paper-ripple" style="opacity: 0;"></div>
    <div id="waves" class="style-scope paper-ripple"></div>
  </paper-ripple></paper-button><paper-button id="wall_time" class="style-scope tf-scalar-dashboard x-scope paper-button-0" role="button" tabindex="0" animated="" aria-disabled="false" elevation="0">wall<paper-ripple class="style-scope paper-button">
    

    <div id="background" class="style-scope paper-ripple" style="opacity: 0.002;"></div>
    <div id="waves" class="style-scope paper-ripple"></div>
  </paper-ripple></paper-button>
          </div>
    </div>
    
  </tf-option-selector>
        </div>
        <div class="sidebar-section style-scope tf-scalar-dashboard">
          <tf-runs-selector class="style-scope tf-scalar-dashboard x-scope tf-runs-selector-0">
    <div id="plumbing" class="style-scope tf-runs-selector">
      <tf-color-scale class="style-scope tf-runs-selector"></tf-color-scale>
    </div>
    <paper-dialog with-backdrop="" id="logdir-dialog" class="style-scope tf-runs-selector x-scope paper-dialog-0" role="dialog" tabindex="-1" aria-hidden="true" style="outline: none; display: none;">
    
    
      <h2 class="style-scope tf-runs-selector">logdir</h2>
      <div class="style-scope tf-runs-selector">logs/<wbr>algo1_<wbr>new/<wbr></div>
    
  </paper-dialog>
    <div id="top-text" class="style-scope tf-runs-selector">
      <h3 id="tooltip-help" class="tooltip-container style-scope tf-runs-selector">Runs</h3>
    </div>
    <tf-multi-checkbox id="multiCheckbox" class="style-scope tf-runs-selector x-scope tf-multi-checkbox-0">
      <paper-input id="runs-regex" no-label-float="" label="Write a regex to filter runs" class="style-scope tf-multi-checkbox x-scope paper-input-0" tabindex="0" aria-disabled="false">
    

    <paper-input-container class="style-scope paper-input x-scope paper-input-container-2">
    

    <template is="dom-if" class="style-scope paper-input-container"></template>

    <div class="input-content style-scope paper-input-container">
      

      <div class="label-and-input-container style-scope paper-input-container" id="labelAndInputContainer">
        <label aria-hidden="true" for="input" class="style-scope paper-input" id="paper-input-label-4">Write a regex to filter runs</label><input is="iron-input" id="input" class="style-scope paper-input" autocomplete="off" placeholder="" autocapitalize="none" autocorrect="off" aria-describedby="" aria-labelledby="paper-input-label-4" tabindex="0"><template is="dom-if" class="style-scope paper-input"></template><template is="dom-if" class="style-scope paper-input"></template>
      </div>

      
    </div>

    <div class="underline style-scope paper-input-container">
      <div class="unfocused-line style-scope paper-input-container"></div>
      <div class="focused-line style-scope paper-input-container"></div>
    </div>

    <div class="add-on-content style-scope paper-input-container">
      
    </div>
  </paper-input-container>
  </paper-input>
    <div id="outer-container" class="scrollbar style-scope tf-multi-checkbox">
      
        <div class="run-row style-scope tf-multi-checkbox">
          <div class="icon-container checkbox-container vertical-align-container style-scope tf-multi-checkbox">
            <paper-checkbox class="checkbox vertical-align-center style-scope tf-multi-checkbox x-scope paper-checkbox-5" role="checkbox" tabindex="0" toggles="" aria-checked="true" aria-disabled="false" checked="" active=""><div id="checkboxContainer" class="style-scope paper-checkbox"><div id="checkbox" class="checked  style-scope paper-checkbox"><div id="checkmark" class="style-scope paper-checkbox"></div></div></div><div id="checkboxLabel" class="style-scope paper-checkbox"></div></paper-checkbox>

          </div>
          <div class="icon-container isolator-container vertical-align-container style-scope tf-multi-checkbox">
            <paper-icon-button icon="radio-button-unchecked" class="isolator vertical-align-center style-scope tf-multi-checkbox x-scope paper-icon-button-0" role="button" tabindex="0" aria-disabled="false" style="color: rgb(255, 112, 67);"><iron-icon id="icon" class="style-scope paper-icon-button x-scope iron-icon-0"><svg viewBox="0 0 24 24" preserveAspectRatio="xMidYMid meet" class="style-scope iron-icon" style="pointer-events: none; display: block; width: 100%; height: 100%;"><g class="style-scope iron-icon"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z" class="style-scope iron-icon"></path></g></svg>
    
  </iron-icon></paper-icon-button>
          </div>
          <div class="item-label-container style-scope tf-multi-checkbox">
            <span class="style-scope tf-multi-checkbox">.</span>
          </div>
        </div>
      <template is="dom-repeat" class="style-scope tf-multi-checkbox"></template>
    </div>
  
  </tf-multi-checkbox>
    <paper-button class="x-button style-scope tf-runs-selector x-scope paper-button-0" id="toggle-all" role="button" tabindex="0" animated="" aria-disabled="false" elevation="0">
    Toggle All Runs
    </paper-button>
    
      <div id="logdir" class="style-scope tf-runs-selector">
        <span id="clipped-logdir" class="style-scope tf-runs-selector">logs/<wbr>algo1_<wbr>new/<wbr></span><template is="dom-if" class="style-scope tf-runs-selector"></template>
      </div>
    <template is="dom-if" class="style-scope tf-runs-selector"></template>
    
  </tf-runs-selector>
        </div>
      </div>
    </div>

    <div id="center" class="scrollbar style-scope tf-dashboard-layout">
      <div class="center style-scope tf-scalar-dashboard">
        <template is="dom-if" class="style-scope tf-scalar-dashboard"></template>
        
          <paper-input no-label-float="" label="Filter tags (regular expressions supported)" class="search-input style-scope tf-scalar-dashboard x-scope paper-input-0" tabindex="0" aria-disabled="false">
    

    <paper-input-container class="style-scope paper-input x-scope paper-input-container-0">
    

    <template is="dom-if" class="style-scope paper-input-container"></template>

    <div class="input-content label-is-hidden style-scope paper-input-container">
      <iron-icon prefix="" icon="search" slot="prefix" class="style-scope tf-scalar-dashboard x-scope iron-icon-1"><svg viewBox="0 0 24 24" preserveAspectRatio="xMidYMid meet" class="style-scope iron-icon" style="pointer-events: none; display: block; width: 100%; height: 100%;"><g class="style-scope iron-icon"><path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z" class="style-scope iron-icon"></path></g></svg>
    
  </iron-icon>

      <div class="label-and-input-container style-scope paper-input-container" id="labelAndInputContainer">
        <label aria-hidden="true" for="input" class="style-scope paper-input" id="paper-input-label-6">Filter tags (regular expressions supported)</label><input is="iron-input" id="input" class="style-scope paper-input" autocomplete="off" placeholder="" autocapitalize="none" autocorrect="off" aria-describedby="" aria-labelledby="paper-input-label-6" tabindex="0"><template is="dom-if" class="style-scope paper-input"></template><template is="dom-if" class="style-scope paper-input"></template>
      </div>

      
    </div>

    <div class="underline style-scope paper-input-container">
      <div class="unfocused-line style-scope paper-input-container"></div>
      <div class="focused-line style-scope paper-input-container"></div>
    </div>

    <div class="add-on-content style-scope paper-input-container">
      
    </div>
  </paper-input-container>
  </paper-input>
          
            <tf-category-pane class="style-scope tf-scalar-dashboard x-scope tf-category-pane-0">
    
      <button class="heading style-scope tf-category-pane" open-button="" style="">
        <span class="name style-scope tf-category-pane">
          <span class="light style-scope tf-category-pane">Tags matching /</span><span class="category-name style-scope tf-category-pane">.*</span><span class="light style-scope tf-category-pane">/</span><span class="style-scope tf-category-pane" style=""> (all tags)</span><template is="dom-if" class="style-scope tf-category-pane"></template><template is="dom-if" class="style-scope tf-category-pane"></template><template is="dom-if" class="style-scope tf-category-pane"></template><template is="dom-if" class="style-scope tf-category-pane"></template>
        </span>
        <span class="count style-scope tf-category-pane"><span class="style-scope tf-category-pane">1</span></span>
      </button>
      <iron-collapse class="style-scope tf-category-pane x-scope iron-collapse-0 iron-collapse-opened" role="group" aria-hidden="false" aria-expanded="true" style="transition-property: max-height; transition-duration: 0s;">

    

    
        <div class="content style-scope tf-category-pane">
          
            
              <tf-paginated-view class="style-scope tf-scalar-dashboard x-scope tf-paginated-view-0">
    <span id="top-of-container" class="style-scope tf-paginated-view"></span>
    <template is="dom-if" class="style-scope tf-paginated-view"></template>
    <div class="style-scope tf-paginated-view">
                
                  
                    <div class="layout horizontal wrap style-scope tf-scalar-dashboard">
                      
                        <tf-scalar-card class="x-scope tf-scalar-card-0 style-scope tf-scalar-dashboard">
  <tf-card-heading class="style-scope tf-scalar-card">
    <div class="container style-scope tf-card-heading">
      <figcaption class="content style-scope tf-card-heading">
        <div class="heading-row style-scope tf-card-heading">
          
            <div itemprop="name" class="heading-label name style-scope tf-card-heading">
              recon_loss
            </div>
          <template is="dom-if" class="style-scope tf-card-heading"></template>
          <template is="dom-if" class="style-scope tf-card-heading"></template>
        </div>
        <template is="dom-if" class="style-scope tf-card-heading"></template>
        
      </figcaption>
      <template is="dom-if" class="style-scope tf-card-heading"></template>
      <paper-dialog id="descriptionDialog" no-overlap="" horizontal-align="auto" vertical-align="auto" class="style-scope tf-card-heading x-scope paper-dialog-0" role="dialog" tabindex="-1" aria-hidden="true" style="outline: none; display: none;">
    
    
        <paper-dialog-scrollable class="style-scope tf-card-heading x-scope paper-dialog-scrollable-0 no-padding scrolled-to-bottom">
    

    <div id="scrollable" class="scrollable style-scope paper-dialog-scrollable">
      
          <tf-markdown-view class="style-scope tf-card-heading">
    <div id="markdown" class="style-scope tf-markdown-view style-scope tf-markdown-view style-scope tf-markdown-view style-scope tf-markdown-view style-scope tf-markdown-view style-scope tf-markdown-view"></div>
    
  </tf-markdown-view>
        
    </div>
  </paper-dialog-scrollable>
      
  </paper-dialog>
    </div>
    
  </tf-card-heading>
  <div id="tf-line-chart-data-loader-container" class="style-scope tf-scalar-card">
    <tf-line-chart-data-loader class="style-scope tf-scalar-card">
    <div id="chart-and-spinner-container" class="style-scope tf-line-chart-data-loader">
      <vz-line-chart class="style-scope tf-line-chart-data-loader" style="">
    <div id="tooltip" class="style-scope vz-line-chart style-scope vz-line-chart" style="transform: translate(0px, 220px); opacity: 0;">
      <table class="style-scope vz-line-chart style-scope vz-line-chart">
        <thead class="style-scope vz-line-chart style-scope vz-line-chart">
          
          <tr id="tooltip-table-header-row" class="style-scope vz-line-chart style-scope vz-line-chart"><th class="style-scope vz-line-chart"></th><th class="style-scope vz-line-chart">Name</th><th class="style-scope vz-line-chart">Smoothed</th><th class="style-scope vz-line-chart">Value</th><th class="style-scope vz-line-chart">Step</th><th class="style-scope vz-line-chart">Time</th><th class="style-scope vz-line-chart">Relative</th></tr>
        </thead>
        <tbody class="style-scope vz-line-chart style-scope vz-line-chart"><tr class="closest style-scope vz-line-chart" style="white-space: nowrap;"><td class="style-scope vz-line-chart style-scope vz-line-chart"><span class="swatch style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart" style="background-color: rgb(255, 112, 67);"></span></td><td class="style-scope vz-line-chart style-scope vz-line-chart">.</td><td class="style-scope vz-line-chart style-scope vz-line-chart">3497</td><td class="style-scope vz-line-chart style-scope vz-line-chart">3494</td><td class="style-scope vz-line-chart style-scope vz-line-chart">58.00</td><td class="style-scope vz-line-chart style-scope vz-line-chart">Sat May 26, 19:34:40</td><td class="style-scope vz-line-chart style-scope vz-line-chart">43m 52s</td></tr></tbody>
      </table>
    </div>
    <div id="chartdiv" class="style-scope vz-line-chart plottable"><svg class="measurer style-scope vz-line-chart" style="opacity: 0; visibility: hidden; position: absolute; width: 1px; height: 1px; left: 562px; top: 287px;" x="562" y="287"></svg><div class="component table style-scope vz-line-chart" style="left: 0px; height: 200px; top: 0px; width: 330px;"><svg class="background-container style-scope vz-line-chart style-scope vz-line-chart"></svg><svg class="content component-overflow-visible style-scope vz-line-chart style-scope vz-line-chart"></svg><svg class="foreground-container style-scope vz-line-chart style-scope vz-line-chart"></svg><div class="component axis y-axis style-scope vz-line-chart style-scope vz-line-chart" style="left: 0px; height: 177px; top: 0px; width: 78.9062px;"><svg class="background-container style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart"></svg><svg class="content component-overflow-visible style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart"><g class="tick-mark-container style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart"><line class="tick-mark end-tick-mark style-scope vz-line-chart" x1="78.90625" y1="177" x2="73.90625" y2="177" style="visibility: inherit;"></line><line class="tick-mark style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart" x1="78.90625" y1="159.3" x2="73.90625" y2="159.3" style="visibility: inherit;"></line><line class="tick-mark style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart" x1="78.90625" y1="141.6" x2="73.90625" y2="141.6" style="visibility: inherit;"></line><line class="tick-mark style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart" x1="78.90625" y1="123.9" x2="73.90625" y2="123.9" style="visibility: inherit;"></line><line class="tick-mark style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart" x1="78.90625" y1="106.2" x2="73.90625" y2="106.2" style="visibility: inherit;"></line><line class="tick-mark style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart" x1="78.90625" y1="88.5" x2="73.90625" y2="88.5" style="visibility: inherit;"></line><line class="tick-mark style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart" x1="78.90625" y1="70.8" x2="73.90625" y2="70.8" style="visibility: inherit;"></line><line class="tick-mark style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart" x1="78.90625" y1="53.10000000000001" x2="73.90625" y2="53.10000000000001" style="visibility: inherit;"></line><line class="tick-mark style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart" x1="78.90625" y1="35.400000000000006" x2="73.90625" y2="35.400000000000006" style="visibility: inherit;"></line><line class="tick-mark style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart" x1="78.90625" y1="17.69999999999999" x2="73.90625" y2="17.69999999999999" style="visibility: inherit;"></line><line class="tick-mark end-tick-mark style-scope vz-line-chart" x1="78.90625" y1="0" x2="73.90625" y2="0" style="visibility: inherit;"></line></g><g class="tick-label-container style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart" transform="translate(68.90625, 0)"><text class="tick-label style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart" x="0" y="177" dx="0em" dy="0.3em" style="text-anchor: end; visibility: hidden;">3.30e+3</text><text class="tick-label style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart" x="0" y="159.3" dx="0em" dy="0.3em" style="text-anchor: end; visibility: inherit;">3.40e+3</text><text class="tick-label style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart" x="0" y="141.6" dx="0em" dy="0.3em" style="text-anchor: end; visibility: hidden;">3.50e+3</text><text class="tick-label style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart" x="0" y="123.9" dx="0em" dy="0.3em" style="text-anchor: end; visibility: inherit;">3.60e+3</text><text class="tick-label style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart" x="0" y="106.2" dx="0em" dy="0.3em" style="text-anchor: end; visibility: hidden;">3.70e+3</text><text class="tick-label style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart" x="0" y="88.5" dx="0em" dy="0.3em" style="text-anchor: end; visibility: inherit;">3.80e+3</text><text class="tick-label style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart" x="0" y="70.8" dx="0em" dy="0.3em" style="text-anchor: end; visibility: hidden;">3.90e+3</text><text class="tick-label style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart" x="0" y="53.10000000000001" dx="0em" dy="0.3em" style="text-anchor: end; visibility: inherit;">4.00e+3</text><text class="tick-label style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart" x="0" y="35.400000000000006" dx="0em" dy="0.3em" style="text-anchor: end; visibility: hidden;">4.10e+3</text><text class="tick-label style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart" x="0" y="17.69999999999999" dx="0em" dy="0.3em" style="text-anchor: end; visibility: inherit;">4.20e+3</text><text class="tick-label style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart" x="0" y="0" dx="0em" dy="0.3em" style="text-anchor: end; visibility: hidden;">4.30e+3</text></g><line class="baseline style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart" x1="78.90625" y1="0" x2="78.90625" y2="177"></line><g class="annotation-container style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart"><g class="annotation-line-container style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart"></g><g class="annotation-circle-container style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart"></g><g class="annotation-rect-container style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart"></g><g class="annotation-label-container style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart"></g></g></svg><svg class="foreground-container style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart"></svg></div><div class="component component-group style-scope vz-line-chart style-scope vz-line-chart" style="left: 78.9062px; height: 177px; top: 0px; width: 251.094px;"><svg class="background-container style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart"></svg><svg class="content component-overflow-visible style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart"></svg><svg class="foreground-container style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart"></svg><div class="component gridlines style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart" style="left: 0px; height: 177px; top: 0px; width: 251.094px;"><svg class="background-container style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart"></svg><svg class="content component-overflow-visible style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart"><g class="x-gridlines style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart"><line x1="0" y1="0" x2="0" y2="177" class="style-scope vz-line-chart"></line><line x1="20.924479166666664" y1="0" x2="20.924479166666664" y2="177" class="style-scope vz-line-chart zeroline"></line><line x1="41.84895833333333" y1="0" x2="41.84895833333333" y2="177" class="style-scope vz-line-chart"></line><line x1="62.7734375" y1="0" x2="62.7734375" y2="177" class="style-scope vz-line-chart"></line><line x1="83.69791666666666" y1="0" x2="83.69791666666666" y2="177" class="style-scope vz-line-chart"></line><line x1="104.62239583333334" y1="0" x2="104.62239583333334" y2="177" class="style-scope vz-line-chart"></line><line x1="125.546875" y1="0" x2="125.546875" y2="177" class="style-scope vz-line-chart"></line><line x1="146.47135416666669" y1="0" x2="146.47135416666669" y2="177" class="style-scope vz-line-chart"></line><line x1="167.39583333333331" y1="0" x2="167.39583333333331" y2="177" class="style-scope vz-line-chart"></line><line x1="188.3203125" y1="0" x2="188.3203125" y2="177" class="style-scope vz-line-chart"></line><line x1="209.24479166666669" y1="0" x2="209.24479166666669" y2="177" class="style-scope vz-line-chart"></line><line x1="230.16927083333331" y1="0" x2="230.16927083333331" y2="177" class="style-scope vz-line-chart"></line><line x1="251.09375" y1="0" x2="251.09375" y2="177" class="style-scope vz-line-chart"></line></g><g class="y-gridlines style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart"><line x1="0" y1="177" x2="251.09375" y2="177" class="style-scope vz-line-chart"></line><line x1="0" y1="159.3" x2="251.09375" y2="159.3" class="style-scope vz-line-chart"></line><line x1="0" y1="141.6" x2="251.09375" y2="141.6" class="style-scope vz-line-chart"></line><line x1="0" y1="123.9" x2="251.09375" y2="123.9" class="style-scope vz-line-chart"></line><line x1="0" y1="106.2" x2="251.09375" y2="106.2" class="style-scope vz-line-chart"></line><line x1="0" y1="88.5" x2="251.09375" y2="88.5" class="style-scope vz-line-chart"></line><line x1="0" y1="70.8" x2="251.09375" y2="70.8" class="style-scope vz-line-chart"></line><line x1="0" y1="53.10000000000001" x2="251.09375" y2="53.10000000000001" class="style-scope vz-line-chart"></line><line x1="0" y1="35.400000000000006" x2="251.09375" y2="35.400000000000006" class="style-scope vz-line-chart"></line><line x1="0" y1="17.69999999999999" x2="251.09375" y2="17.69999999999999" class="style-scope vz-line-chart"></line><line x1="0" y1="0" x2="251.09375" y2="0" class="style-scope vz-line-chart"></line></g></svg><svg class="foreground-container style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart"></svg></div><div class="component guide-line-layer horizontal style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart" style="left: 0px; height: 177px; top: 0px; width: 251.094px;"><svg class="background-container style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart"></svg><svg class="content component-overflow-hidden style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart"><line class="guide-line style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart" x1="0" y1="761.1" x2="251.09375" y2="761.1"></line></svg><svg class="foreground-container style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart"></svg></div><div class="component guide-line-layer vertical style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart" style="left: 0px; height: 177px; top: 0px; width: 251.094px;"><svg class="background-container style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart"></svg><svg class="content component-overflow-hidden style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart"><line class="guide-line style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart" x1="20.924479166666664" y1="0" x2="20.924479166666664" y2="177"></line></svg><svg class="foreground-container style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart"></svg></div><div class="component component-group style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart" style="left: 0px; height: 177px; top: 0px; width: 251.094px;"><svg class="background-container style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart"></svg><svg class="content component-overflow-visible style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart"></svg><svg class="foreground-container style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart"></svg><div class="component plot xy-plot scatter-plot style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart" style="left: 0px; height: 177px; top: 0px; width: 251.094px;"><svg class="background-container style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart"></svg><svg class="content component-overflow-hidden style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart"><g class="render-area style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart"><g class="style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart"></g></g></svg><svg class="foreground-container style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart"></svg></div><div class="component plot xy-plot scatter-plot style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart" style="left: 0px; height: 177px; top: 0px; width: 251.094px;"><svg class="background-container style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart"></svg><svg class="content component-overflow-hidden style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart"><g class="render-area style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart"><g class="style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart"><path class="symbol style-scope vz-line-chart" fill="#ff7043" opacity="1" x="228.07682291666666" y="151.7709859678424" transform="translate(228.07682291666666,151.7709859678424)" d="M4,0A4,4,0,1,1,-4,0A4,4,0,1,1,4,0"></path></g></g></svg><svg class="foreground-container style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart"></svg></div><div class="component plot xy-plot line-plot style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart" style="left: 0px; height: 177px; top: 0px; width: 251.094px;"><svg class="background-container style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart"></svg><svg class="content component-overflow-hidden style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart"><g class="render-area style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart"><g class="style-scope vz-line-chart"><path class="line style-scope vz-line-chart" stroke="#ff7043" stroke-width="2px" d="M20.924479166666664,268.71184307238514L20.924479166666664,1.4242663717831476L23.016927083333332,-16.481480930940023L25.109375,-5.650663601491203L27.201822916666668,9.742224705014792L29.294270833333332,25.20063207767896L31.38671875,39.28722026408971L33.479166666666664,51.45624347116507L35.571614583333336,61.6004822855964L37.6640625,70.21062621416563L39.756510416666664,77.79126719673118L20.924479166666664,351.2582604413733L20.924479166666664,86.47501912152552L23.016927083333332,36.74830352772506L25.109375,26.461731568630967L27.201822916666668,30.008429221763606L29.294270833333332,38.12220693447472L31.38671875,47.776488171659366L33.479166666666664,57.24351112748586L35.571614583333336,65.43839061311027L37.6640625,72.82225811018698L39.756510416666664,78.96061666683951L41.84895833333333,84.7435063629007L43.94140625,89.52526168157257L46.033854166666664,93.40927778107155L48.126302083333336,97.13439044058812L50.21875,100.29384978394508L52.31119791666667,103.13025219664031L54.403645833333336,105.72442226755493L56.49609375,108.08260970055686L58.588541666666664,109.96591522667174L60.680989583333336,111.71605533849038L62.7734375,113.26791018289673L64.86588541666667,114.89665198591261L66.95833333333333,116.27688319227678L69.05078125,117.88518744086925L71.14322916666667,119.43074381562117L73.23567708333334,120.69102431840119L75.328125,121.77424506065952L77.42057291666667,122.84052506425263L79.51302083333333,123.9556521482485L81.60546875,124.9938874805352L83.69791666666666,126.23669166813784L85.79036458333333,126.91440894623744L87.8828125,127.66378667636423L89.97526041666667,128.6743512050599L92.06770833333333,129.5399672660163L94.16015625,130.36486932446013L96.25260416666667,131.28471427046188L98.34505208333333,131.7992507302473L100.4375,132.44819633658702L102.52994791666667,133.23045530195313L104.62239583333334,133.92431029054734L106.71484375,134.48495433839108L108.80729166666667,134.98791781787855L110.89973958333333,135.507696296196L112.9921875,136.1568832074051L115.08463541666666,136.76702308850557L117.17708333333333,137.1490612163847L119.26953125,137.6895724720183L121.36197916666667,138.19677346367973L123.45442708333333,138.59571300398912L125.546875,139.05247213833096L127.63932291666666,139.4444988103423L129.73177083333334,139.8331897158929L131.82421875,140.24103619281703L133.91666666666666,140.75763958678402L136.00911458333331,141.1391275997266L138.1015625,141.6651003879609L140.19401041666666,141.86022380699532L142.28645833333334,142.18570498732223L144.37890625,142.73622094161212L146.47135416666669,142.87117367824845L148.56380208333334,143.22621875773035L150.65625,143.56243711401322L152.74869791666666,143.80326715122035L154.84114583333334,144.11823138448221L156.93359375,144.4296234010018L159.02604166666666,144.7050623218511L161.11848958333334,144.9475730376419L163.2109375,145.23222497492887L165.30338541666666,145.61747307089482L167.39583333333331,145.99983247534936L169.48828125,146.09388805942842L171.58072916666666,146.3501032458133L173.67317708333334,146.57594602951923L175.765625,146.9019686919303L177.85807291666669,146.99684439875188L179.95052083333334,147.51243144393862L182.04296875,147.71580837808187L184.13541666666666,147.69008102294285L186.22786458333334,148.12974548876568L188.3203125,148.21369211747813L190.41276041666666,148.49443665720557L192.50520833333334,148.75909256072956L194.59765625,148.9493623723752L196.69010416666666,149.21864125155008L198.78255208333331,149.47256316889886L200.875,149.66349678805815L202.96744791666666,149.7348959243974L205.05989583333334,149.84132749604473L207.15234375,149.89809952497058L209.24479166666669,150.17743910951356L211.33723958333334,150.55168690320812L213.4296875,150.74510501301862L215.52213541666666,150.85441466796743L217.61458333333334,150.86588063671795L219.70703125,150.97736998359326L221.79947916666666,151.26368136515592L223.89192708333334,151.72746633862485L225.984375,151.6065539242686L228.07682291666666,151.7709859678424" style="fill: none;"></path></g></g></svg><svg class="foreground-container style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart"></svg></div><div class="component component-group style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart" style="left: 0px; height: 177px; top: 0px; width: 251.094px;"><svg class="background-container style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart"></svg><svg class="content component-overflow-visible style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart"></svg><svg class="foreground-container style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart"></svg><div class="component plot xy-plot line-plot ghost style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart" style="left: 0px; height: 177px; top: 0px; width: 251.094px;"><svg class="background-container style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart"></svg><svg class="content component-overflow-hidden style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart"><g class="render-area style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart"><g class="style-scope vz-line-chart"><path class="line style-scope vz-line-chart" stroke="#ff7043" stroke-width="2px" d="M23.016927083333332,-39.85922460937499L25.109375,9.33225585937501L27.201822916666668,31.754301269531254L29.294270833333332,47.73913842773436L31.38671875,60.06220166015626L33.479166666666664,69.52582470703126L35.571614583333336,76.72483300781249L37.6640625,83.07898608398438L39.756510416666664,89.1374765625L20.924479166666664,760.923L23.016927083333332,-37.80669873046875L25.109375,11.03622656249999L27.201822916666668,35.327575195312505L29.294270833333332,50.29163745117188L31.38671875,62.25702758789062L33.479166666666664,71.4435263671875L35.571614583333336,77.73044018554687L37.6640625,83.89791357421875L39.756510416666664,88.16808178710937L41.84895833333333,93.4177998046875L43.94140625,96.69787426757813L46.033854166666664,99.2352919921875L48.126302083333336,102.7220537109375L50.21875,105.03303588867188L52.31119791666667,107.38485424804688L54.403645833333336,109.61567651367187L56.49609375,111.61989038085937L58.588541666666664,112.79087329101563L60.680989583333336,114.34126538085937L62.7734375,115.5956923828125L64.86588541666667,117.3397646484375L66.95833333333333,118.34722998046874L69.05078125,120.29764379882812L71.14322916666667,121.74907836914062L73.23567708333334,122.58144506835937L75.328125,123.399076171875L77.42057291666667,124.43994506835938L79.51302083333333,125.6283427734375L81.60546875,126.55124047851564L83.69791666666666,128.10089794921873L85.79036458333333,127.93098486328125L87.8828125,128.78785327148438L89.97526041666667,130.19019799804687L92.06770833333333,130.83839135742187L94.16015625,131.60222241210937L96.25260416666667,132.6644816894531L98.34505208333333,132.57105541992186L100.4375,133.42161474609375L102.52994791666667,134.40384375L104.62239583333334,134.9650927734375L106.71484375,135.32592041015624L108.80729166666667,135.74236303710939L110.89973958333333,136.2873640136719L112.9921875,137.13066357421874L115.08463541666666,137.68223291015624L117.17708333333333,137.72211840820313L119.26953125,138.50033935546875L121.36197916666667,138.95757495117186L123.45442708333333,139.19412231445312L125.546875,139.73761083984374L127.63932291666666,140.03253881835937L129.73177083333334,140.41622607421874L131.82421875,140.85280590820312L133.91666666666666,141.5325446777344L136.00911458333331,141.71135961914064L138.1015625,142.4540595703125L140.19401041666666,142.15290893554686L142.28645833333334,142.6739267578125L144.37890625,143.56199487304687L146.47135416666669,143.0736027832031L148.56380208333334,143.75878637695314L150.65625,144.0667646484375L152.74869791666666,144.16451220703124L154.84114583333334,144.590677734375L156.93359375,144.89671142578123L159.02604166666666,145.118220703125L161.11848958333334,145.31133911132812L163.2109375,145.65920288085937L165.30338541666666,146.19534521484374L167.39583333333331,146.57337158203126L169.48828125,146.23497143554687L171.58072916666666,146.73442602539063L173.67317708333334,146.9147102050781L175.765625,147.39100268554688L177.85807291666669,147.13915795898438L179.95052083333334,148.28581201171875L182.04296875,148.02087377929686L184.13541666666666,147.65148999023438L186.22786458333334,148.7892421875L188.3203125,148.33961206054687L190.41276041666666,148.91555346679687L192.50520833333334,149.15607641601562L194.59765625,149.23476708984376L196.69010416666666,149.6225595703125L198.78255208333331,149.85344604492187L200.875,149.94989721679687L202.96744791666666,149.84199462890626L205.05989583333334,150.00097485351563L207.15234375,149.98325756835936L209.24479166666669,150.59644848632811L211.33723958333334,151.11305859375L213.4296875,151.03523217773437L215.52213541666666,151.01837915039061L217.61458333333334,150.88307958984376L219.70703125,151.14460400390624L221.79947916666666,151.6931484375L223.89192708333334,152.42314379882814L225.984375,151.42518530273438L228.07682291666666,152.01763403320314" style="fill: none;"></path></g></g></svg><svg class="foreground-container style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart"></svg></div><div class="component style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart" style="left: 0px; height: 177px; top: 0px; width: 251.094px;"><svg class="background-container style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart"></svg><svg class="content component-overflow-visible style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart"></svg><svg class="foreground-container style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart"></svg></div></div></div><div class="component selection-box-layer style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart" style="left: 0px; height: 177px; top: 0px; width: 251.094px;"><svg class="background-container style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart"></svg><svg class="content component-overflow-hidden style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart"></svg><svg class="foreground-container style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart"></svg></div></div><div class="component axis x-axis style-scope vz-line-chart style-scope vz-line-chart" style="left: 78.9062px; height: 23px; top: 177px; width: 251.094px;"><svg class="background-container style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart"></svg><svg class="content component-overflow-visible style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart"><g class="tick-mark-container style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart"><line class="tick-mark end-tick-mark style-scope vz-line-chart" x1="0" y1="0" x2="0" y2="5" style="visibility: inherit;"></line><line class="tick-mark style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart" x1="20.924479166666664" y1="0" x2="20.924479166666664" y2="5" style="visibility: inherit;"></line><line class="tick-mark style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart" x1="41.84895833333333" y1="0" x2="41.84895833333333" y2="5" style="visibility: inherit;"></line><line class="tick-mark style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart" x1="62.7734375" y1="0" x2="62.7734375" y2="5" style="visibility: inherit;"></line><line class="tick-mark style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart" x1="83.69791666666666" y1="0" x2="83.69791666666666" y2="5" style="visibility: inherit;"></line><line class="tick-mark style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart" x1="104.62239583333334" y1="0" x2="104.62239583333334" y2="5" style="visibility: inherit;"></line><line class="tick-mark style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart" x1="125.546875" y1="0" x2="125.546875" y2="5" style="visibility: inherit;"></line><line class="tick-mark style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart" x1="146.47135416666669" y1="0" x2="146.47135416666669" y2="5" style="visibility: inherit;"></line><line class="tick-mark style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart" x1="167.39583333333331" y1="0" x2="167.39583333333331" y2="5" style="visibility: inherit;"></line><line class="tick-mark style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart" x1="188.3203125" y1="0" x2="188.3203125" y2="5" style="visibility: inherit;"></line><line class="tick-mark end-tick-mark style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart" x1="209.24479166666669" y1="0" x2="209.24479166666669" y2="5" style="visibility: inherit;"></line><line class="tick-mark style-scope vz-line-chart" x1="230.16927083333331" y1="0" x2="230.16927083333331" y2="5" style="visibility: inherit;"></line><line class="tick-mark end-tick-mark style-scope vz-line-chart" x1="251.09375" y1="0" x2="251.09375" y2="5" style="visibility: inherit;"></line></g><g class="tick-label-container style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart" transform="translate(0, 8)"><text class="tick-label style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart" x="0" y="0" dx="0em" dy="0.95em" style="text-anchor: middle; visibility: hidden;">-10.00</text><text class="tick-label style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart" x="20.924479166666664" y="0" dx="0em" dy="0.95em" style="text-anchor: middle; visibility: inherit;">0.000</text><text class="tick-label style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart" x="41.84895833333333" y="0" dx="0em" dy="0.95em" style="text-anchor: middle; visibility: hidden;">10.00</text><text class="tick-label style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart" x="62.7734375" y="0" dx="0em" dy="0.95em" style="text-anchor: middle; visibility: inherit;">20.00</text><text class="tick-label style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart" x="83.69791666666666" y="0" dx="0em" dy="0.95em" style="text-anchor: middle; visibility: hidden;">30.00</text><text class="tick-label style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart" x="104.62239583333334" y="0" dx="0em" dy="0.95em" style="text-anchor: middle; visibility: inherit;">40.00</text><text class="tick-label style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart" x="125.546875" y="0" dx="0em" dy="0.95em" style="text-anchor: middle; visibility: hidden;">50.00</text><text class="tick-label style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart" x="146.47135416666669" y="0" dx="0em" dy="0.95em" style="text-anchor: middle; visibility: inherit;">60.00</text><text class="tick-label style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart" x="167.39583333333331" y="0" dx="0em" dy="0.95em" style="text-anchor: middle; visibility: hidden;">70.00</text><text class="tick-label style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart" x="188.3203125" y="0" dx="0em" dy="0.95em" style="text-anchor: middle; visibility: inherit;">80.00</text><text class="tick-label style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart" x="209.24479166666669" y="0" dx="0em" dy="0.95em" style="text-anchor: middle; visibility: hidden;">90.00</text><text class="tick-label style-scope vz-line-chart" x="230.16927083333331" y="0" dx="0em" dy="0.95em" style="text-anchor: middle; visibility: inherit;">100.0</text><text class="tick-label style-scope vz-line-chart" x="251.09375" y="0" dx="0em" dy="0.95em" style="text-anchor: middle; visibility: hidden;">110.0</text></g><line class="baseline style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart" x1="0" y1="0" x2="251.09375" y2="0"></line><g class="annotation-container style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart"><g class="annotation-line-container style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart"></g><g class="annotation-circle-container style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart"></g><g class="annotation-rect-container style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart"></g><g class="annotation-label-container style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart"></g></g></svg><svg class="foreground-container style-scope vz-line-chart style-scope vz-line-chart style-scope vz-line-chart"></svg></div></div></div>
    
  </vz-line-chart>
      <div id="loading-spinner-container" class="style-scope tf-line-chart-data-loader" style="display: none;">
          <paper-spinner-lite active="" class="style-scope tf-line-chart-data-loader x-scope paper-spinner-lite-0">
    

    <div id="spinnerContainer" class="active  style-scope paper-spinner-lite">
      <div class="spinner-layer style-scope paper-spinner-lite">
        <div class="circle-clipper left style-scope paper-spinner-lite">
          <div class="circle style-scope paper-spinner-lite"></div>
        </div><div class="gap-patch style-scope paper-spinner-lite">
          <div class="circle style-scope paper-spinner-lite"></div>
        </div><div class="circle-clipper right style-scope paper-spinner-lite">
          <div class="circle style-scope paper-spinner-lite"></div>
        </div>
      </div>
    </div>
  </paper-spinner-lite>
        </div><template is="dom-if" class="style-scope tf-line-chart-data-loader"></template>
    </div>
    
  </tf-line-chart-data-loader>
  </div>
  <div id="buttons" class="style-scope tf-scalar-card">
    <paper-icon-button icon="fullscreen" class="style-scope tf-scalar-card x-scope paper-icon-button-0" role="button" tabindex="0" aria-disabled="false"><iron-icon id="icon" class="style-scope paper-icon-button x-scope iron-icon-0"><svg viewBox="0 0 24 24" preserveAspectRatio="xMidYMid meet" class="style-scope iron-icon" style="pointer-events: none; display: block; width: 100%; height: 100%;"><g class="style-scope iron-icon"><path d="M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z" class="style-scope iron-icon"></path></g></svg>
    
  </iron-icon></paper-icon-button>
    <paper-icon-button icon="line-weight" title="Toggle y-axis log scale" class="style-scope tf-scalar-card x-scope paper-icon-button-0" role="button" tabindex="0" aria-disabled="false"><iron-icon id="icon" class="style-scope paper-icon-button x-scope iron-icon-0"><svg viewBox="0 0 24 24" preserveAspectRatio="xMidYMid meet" class="style-scope iron-icon" style="pointer-events: none; display: block; width: 100%; height: 100%;"><g class="style-scope iron-icon"><path d="M3 17h18v-2H3v2zm0 3h18v-1H3v1zm0-7h18v-3H3v3zm0-9v4h18V4H3z" class="style-scope iron-icon"></path></g></svg>
    
  </iron-icon></paper-icon-button>
    <paper-icon-button icon="settings-overscan" title="Fit domain to data" class="style-scope tf-scalar-card x-scope paper-icon-button-0" role="button" tabindex="0" aria-disabled="false"><iron-icon id="icon" class="style-scope paper-icon-button x-scope iron-icon-0"><svg viewBox="0 0 24 24" preserveAspectRatio="xMidYMid meet" class="style-scope iron-icon" style="pointer-events: none; display: block; width: 100%; height: 100%;"><g class="style-scope iron-icon"><path d="M12.01 5.5L10 8h4l-1.99-2.5zM18 10v4l2.5-1.99L18 10zM6 10l-2.5 2.01L6 14v-4zm8 6h-4l2.01 2.5L14 16zm7-13H3c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16.01H3V4.99h18v14.02z" class="style-scope iron-icon"></path></g></svg>
    
  </iron-icon></paper-icon-button>
    <span style="flex-grow: 1" class="style-scope tf-scalar-card"></span>
    
      <div class="download-links style-scope tf-scalar-card">
        <paper-dropdown-menu no-label-float="" label="run to download" class="style-scope tf-scalar-card x-scope paper-dropdown-menu-0" role="combobox" aria-autocomplete="none" aria-haspopup="true" aria-disabled="false">
    

    
    <span role="button" class="style-scope paper-dropdown-menu"></span>
    <paper-menu-button id="menuButton" close-on-activate="" class="style-scope paper-dropdown-menu x-scope paper-menu-button-0" role="group" aria-haspopup="true" aria-disabled="false" horizontal-align="right" vertical-align="top">
    

    <div id="trigger" class="style-scope paper-menu-button">
      <div class="dropdown-trigger style-scope paper-dropdown-menu">
        <paper-ripple class="style-scope paper-dropdown-menu">
    

    <div id="background" class="style-scope paper-ripple" style="opacity: 0.00216;"></div>
    <div id="waves" class="style-scope paper-ripple"></div>
  </paper-ripple>
        
        <paper-input type="text" readonly="" class="style-scope paper-dropdown-menu x-scope paper-input-0" tabindex="0" aria-disabled="false">
    

    <paper-input-container class="style-scope paper-input x-scope paper-input-container-4">
    

    <template is="dom-if" class="style-scope paper-input-container"></template>

    <div class="input-content label-is-hidden style-scope paper-input-container">
      

      <div class="label-and-input-container style-scope paper-input-container" id="labelAndInputContainer">
        <label aria-hidden="true" for="input" class="style-scope paper-input" id="paper-input-label-7">run to download</label><input is="iron-input" id="input" class="style-scope paper-input" autocomplete="off" placeholder="" readonly="" autocapitalize="none" autocorrect="off" aria-describedby="" aria-labelledby="paper-input-label-7" type="text" tabindex="0"><template is="dom-if" class="style-scope paper-input"></template><template is="dom-if" class="style-scope paper-input"></template>
      </div>

      <iron-icon icon="paper-dropdown-menu:arrow-drop-down" suffix="" class="style-scope paper-dropdown-menu x-scope iron-icon-1"><svg viewBox="0 0 24 24" preserveAspectRatio="xMidYMid meet" class="style-scope iron-icon" style="pointer-events: none; display: block; width: 100%; height: 100%;"><g class="style-scope iron-icon"><path d="M7 10l5 5 5-5z" class="style-scope iron-icon"></path></g></svg>
    
  </iron-icon>
    </div>

    <div class="underline style-scope paper-input-container">
      <div class="unfocused-line style-scope paper-input-container"></div>
      <div class="focused-line style-scope paper-input-container"></div>
    </div>

    <div class="add-on-content style-scope paper-input-container">
      
    </div>
  </paper-input-container>
  </paper-input>
      </div>
    </div>

    <iron-dropdown id="dropdown" class="style-scope paper-menu-button" aria-disabled="false" horizontal-align="right" vertical-align="top" style="outline: none; margin-bottom: -4px; margin-top: -4px; position: fixed; left: 642.062px; top: 415px; display: none;" aria-hidden="true">
    

    <div id="contentWrapper" class="style-scope iron-dropdown">
      <div class="dropdown-content style-scope paper-menu-button" style="transform-origin: 0px 0px 0px; box-sizing: border-box; max-width: 36.6562px; max-height: 74px;">
        <paper-menu class="dropdown-content style-scope tf-scalar-card x-scope paper-menu-0" slot="dropdown-content" role="menu" aria-expanded="false" tabindex="0">
    
    

    <div class="selectable-content style-scope paper-menu">
      
            
              <paper-item no-label-float="true" class="x-scope paper-item-0 iron-selected style-scope tf-scalar-card" role="option" tabindex="0" aria-disabled="false" aria-selected="true">
    
    

    .
  </paper-item>
            <template is="dom-repeat" class="style-scope tf-scalar-card"></template>
          
    </div>
  </paper-menu>
      </div>
    </div>
  </iron-dropdown>
  </paper-menu-button>
  </paper-dropdown-menu>
        <a class="style-scope tf-scalar-card" download="run_.-tag-recon_loss.csv" href="http://macs-macbook-pro-3.local:6006/data/plugin/scalars/scalars?run=.&amp;tag=recon_loss&amp;format=csv">CSV</a> <a class="style-scope tf-scalar-card" download="run_.-tag-recon_loss.json" href="http://macs-macbook-pro-3.local:6006/data/plugin/scalars/scalars?run=.&amp;tag=recon_loss">JSON</a>
        </div>
      <template is="dom-if" class="style-scope tf-scalar-card"></template></div>
    </tf-scalar-card>
                      <template is="dom-repeat" class="style-scope tf-scalar-dashboard"></template>
                    </div>
                  <template is="dom-if" class="style-scope tf-scalar-dashboard"></template>
                <template is="dom-repeat" as="page" class="style-scope tf-scalar-dashboard"></template>
              </div>
    <template is="dom-if" class="style-scope tf-paginated-view"></template>
    
  </tf-paginated-view>
            
          <template is="dom-if" class="style-scope tf-category-pane"></template>
        </div>
      

  </iron-collapse>
    <template is="dom-if" class="style-scope tf-category-pane"></template>
    
  </tf-category-pane>
          
            <tf-category-pane class="style-scope tf-scalar-dashboard x-scope tf-category-pane-0">
    
      <button class="heading style-scope tf-category-pane">
        <span class="name style-scope tf-category-pane">
          <template is="dom-if" class="style-scope tf-category-pane"></template><span class="category-name style-scope tf-category-pane">recon_loss</span><template is="dom-if" class="style-scope tf-category-pane"></template>
        </span>
        <span class="count style-scope tf-category-pane"><span class="style-scope tf-category-pane">1</span></span>
      </button>
      <iron-collapse class="style-scope tf-category-pane x-scope iron-collapse-0 iron-collapse-closed" role="group" aria-hidden="true" aria-expanded="false" style="transition-property: max-height; max-height: 0px; transition-duration: 0s;">

    

    
        <div class="content style-scope tf-category-pane">
          <template is="dom-if" class="style-scope tf-category-pane"></template>
        </div>
      

  </iron-collapse>
    <template is="dom-if" class="style-scope tf-category-pane"></template>
    
  </tf-category-pane>
          <template is="dom-repeat" as="category" class="style-scope tf-scalar-dashboard"></template>
        <template is="dom-if" class="style-scope tf-scalar-dashboard"></template>
      </div>
    </div>
    
    
  </tf-dashboard-layout>

    
    
  </tf-scalar-dashboard></div>
        
          <div class="dashboard-container style-scope tf-tensorboard" data-dashboard="images" style="display: none;"></div>
        
          <div class="dashboard-container style-scope tf-tensorboard" data-dashboard="audio" style="display: none;"></div>
        
          <div class="dashboard-container style-scope tf-tensorboard" data-dashboard="graphs" style="display: none;"></div>
        
          <div class="dashboard-container style-scope tf-tensorboard" data-dashboard="distributions" style="display: none;"></div>
        
          <div class="dashboard-container style-scope tf-tensorboard" data-dashboard="histograms" style="display: none;"></div>
        
          <div class="dashboard-container style-scope tf-tensorboard" data-dashboard="projector" style="display: none;"></div>
        
          <div class="dashboard-container style-scope tf-tensorboard" data-dashboard="text" style="display: none;"></div>
        
          <div class="dashboard-container style-scope tf-tensorboard" data-dashboard="pr_curves" style="display: none;"></div>
        
          <div class="dashboard-container style-scope tf-tensorboard" data-dashboard="profile" style="display: none;"></div>
        <template is="dom-repeat" id="dashboards-template" as="dashboardDatum" class="style-scope tf-tensorboard"></template>
      </div>
      </div>
      <div id="dropShadow" class="style-scope paper-header-panel has-shadow"></div>
    </div>
  </paper-header-panel>

    
  </tf-tensorboard>
<iron-a11y-announcer>
    
    <div class="style-scope iron-a11y-announcer" aria-live="polite"></div>
  </iron-a11y-announcer></body></html>